(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Ng(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bp={exports:{}},lc={},Op={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function cE(){if(w0)return ze;w0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function j(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||S}j.prototype.isReactComponent={},j.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},j.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=j.prototype;function B(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||S}var F=B.prototype=new D;F.constructor=B,C(F,j.prototype),F.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,W={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(G,ee,ye){var we,Ee={},me=null,Ce=null;if(ee!=null)for(we in ee.ref!==void 0&&(Ce=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)$.call(ee,we)&&!E.hasOwnProperty(we)&&(Ee[we]=ee[we]);var Ae=arguments.length-2;if(Ae===1)Ee.children=ye;else if(1<Ae){for(var Pe=Array(Ae),tt=0;tt<Ae;tt++)Pe[tt]=arguments[tt+2];Ee.children=Pe}if(G&&G.defaultProps)for(we in Ae=G.defaultProps,Ae)Ee[we]===void 0&&(Ee[we]=Ae[we]);return{$$typeof:t,type:G,key:me,ref:Ce,props:Ee,_owner:W.current}}function I(G,ee){return{$$typeof:t,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function L(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var V=/\/+/g;function N(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?L(""+G.key):ee.toString(36)}function fe(G,ee,ye,we,Ee){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var Ce=!1;if(G===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(G.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=G,Ee=Ee(Ce),G=we===""?"."+N(Ce,0):we,U(Ee)?(ye="",G!=null&&(ye=G.replace(V,"$&/")+"/"),fe(Ee,ee,ye,"",function(tt){return tt})):Ee!=null&&(M(Ee)&&(Ee=I(Ee,ye+(!Ee.key||Ce&&Ce.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+G)),ee.push(Ee)),1;if(Ce=0,we=we===""?".":we+":",U(G))for(var Ae=0;Ae<G.length;Ae++){me=G[Ae];var Pe=we+N(me,Ae);Ce+=fe(me,ee,ye,Pe,Ee)}else if(Pe=_(G),typeof Pe=="function")for(G=Pe.call(G),Ae=0;!(me=G.next()).done;)me=me.value,Pe=we+N(me,Ae++),Ce+=fe(me,ee,ye,Pe,Ee);else if(me==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ce}function K(G,ee,ye){if(G==null)return G;var we=[],Ee=0;return fe(G,we,"","",function(me){return ee.call(ye,me,Ee++)}),we}function re(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},Q={transition:null},ae={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:W};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:K,forEach:function(G,ee,ye){K(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return K(G,function(){ee++}),ee},toArray:function(G){return K(G,function(ee){return ee})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ze.Component=j,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=B,ze.StrictMode=r,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ze.act=oe,ze.cloneElement=function(G,ee,ye){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var we=C({},G.props),Ee=G.key,me=G.ref,Ce=G._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,Ce=W.current),ee.key!==void 0&&(Ee=""+ee.key),G.type&&G.type.defaultProps)var Ae=G.type.defaultProps;for(Pe in ee)$.call(ee,Pe)&&!E.hasOwnProperty(Pe)&&(we[Pe]=ee[Pe]===void 0&&Ae!==void 0?Ae[Pe]:ee[Pe])}var Pe=arguments.length-2;if(Pe===1)we.children=ye;else if(1<Pe){Ae=Array(Pe);for(var tt=0;tt<Pe;tt++)Ae[tt]=arguments[tt+2];we.children=Ae}return{$$typeof:t,type:G.type,key:Ee,ref:me,props:we,_owner:Ce}},ze.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:l,_context:G},G.Consumer=G},ze.createElement=T,ze.createFactory=function(G){var ee=T.bind(null,G);return ee.type=G,ee},ze.createRef=function(){return{current:null}},ze.forwardRef=function(G){return{$$typeof:d,render:G}},ze.isValidElement=M,ze.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:re}},ze.memo=function(G,ee){return{$$typeof:p,type:G,compare:ee===void 0?null:ee}},ze.startTransition=function(G){var ee=Q.transition;Q.transition={};try{G()}finally{Q.transition=ee}},ze.unstable_act=oe,ze.useCallback=function(G,ee){return ne.current.useCallback(G,ee)},ze.useContext=function(G){return ne.current.useContext(G)},ze.useDebugValue=function(){},ze.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},ze.useEffect=function(G,ee){return ne.current.useEffect(G,ee)},ze.useId=function(){return ne.current.useId()},ze.useImperativeHandle=function(G,ee,ye){return ne.current.useImperativeHandle(G,ee,ye)},ze.useInsertionEffect=function(G,ee){return ne.current.useInsertionEffect(G,ee)},ze.useLayoutEffect=function(G,ee){return ne.current.useLayoutEffect(G,ee)},ze.useMemo=function(G,ee){return ne.current.useMemo(G,ee)},ze.useReducer=function(G,ee,ye){return ne.current.useReducer(G,ee,ye)},ze.useRef=function(G){return ne.current.useRef(G)},ze.useState=function(G){return ne.current.useState(G)},ze.useSyncExternalStore=function(G,ee,ye){return ne.current.useSyncExternalStore(G,ee,ye)},ze.useTransition=function(){return ne.current.useTransition()},ze.version="18.3.1",ze}var S0;function Dg(){return S0||(S0=1,Op.exports=cE()),Op.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function uE(){if(T0)return lc;T0=1;var t=Dg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var g,v={},_=null,S=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:_,ref:S,props:v,_owner:i.current}}return lc.Fragment=n,lc.jsx=c,lc.jsxs=c,lc}var j0;function dE(){return j0||(j0=1,Bp.exports=uE()),Bp.exports}var o=dE(),R=Dg();const Le=Ng(R);var Id={},$p={exports:{}},rr={},Up={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function hE(){return E0||(E0=1,(function(t){function e(Q,ae){var oe=Q.length;Q.push(ae);e:for(;0<oe;){var G=oe-1>>>1,ee=Q[G];if(0<i(ee,ae))Q[G]=ae,Q[oe]=ee,oe=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],oe=Q.pop();if(oe!==ae){Q[0]=oe;e:for(var G=0,ee=Q.length,ye=ee>>>1;G<ye;){var we=2*(G+1)-1,Ee=Q[we],me=we+1,Ce=Q[me];if(0>i(Ee,oe))me<ee&&0>i(Ce,Ee)?(Q[G]=Ce,Q[me]=oe,G=me):(Q[G]=Ee,Q[we]=oe,G=we);else if(me<ee&&0>i(Ce,oe))Q[G]=Ce,Q[me]=oe,G=me;else break e}}return ae}function i(Q,ae){var oe=Q.sortIndex-ae.sortIndex;return oe!==0?oe:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],g=1,v=null,_=3,S=!1,C=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Q){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Q)r(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(p)}}function U(Q){if(A=!1,F(Q),!C)if(n(f)!==null)C=!0,re($);else{var ae=n(p);ae!==null&&ne(U,ae.startTime-Q)}}function $(Q,ae){C=!1,A&&(A=!1,D(T),T=-1),S=!0;var oe=_;try{for(F(ae),v=n(f);v!==null&&(!(v.expirationTime>ae)||Q&&!L());){var G=v.callback;if(typeof G=="function"){v.callback=null,_=v.priorityLevel;var ee=G(v.expirationTime<=ae);ae=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(f)&&r(f),F(ae)}else r(f);v=n(f)}if(v!==null)var ye=!0;else{var we=n(p);we!==null&&ne(U,we.startTime-ae),ye=!1}return ye}finally{v=null,_=oe,S=!1}}var W=!1,E=null,T=-1,I=5,M=-1;function L(){return!(t.unstable_now()-M<I)}function V(){if(E!==null){var Q=t.unstable_now();M=Q;var ae=!0;try{ae=E(!0,Q)}finally{ae?N():(W=!1,E=null)}}else W=!1}var N;if(typeof B=="function")N=function(){B(V)};else if(typeof MessageChannel!="undefined"){var fe=new MessageChannel,K=fe.port2;fe.port1.onmessage=V,N=function(){K.postMessage(null)}}else N=function(){j(V,0)};function re(Q){E=Q,W||(W=!0,N())}function ne(Q,ae){T=j(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,re($))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var oe=_;_=ae;try{return Q()}finally{_=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=_;_=Q;try{return ae()}finally{_=oe}},t.unstable_scheduleCallback=function(Q,ae,oe){var G=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,Q={id:g++,callback:ae,priorityLevel:Q,startTime:oe,expirationTime:ee,sortIndex:-1},oe>G?(Q.sortIndex=oe,e(p,Q),n(f)===null&&Q===n(p)&&(A?(D(T),T=-1):A=!0,ne(U,oe-G))):(Q.sortIndex=ee,e(f,Q),C||S||(C=!0,re($))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ae=_;return function(){var oe=_;_=ae;try{return Q.apply(this,arguments)}finally{_=oe}}}})(zp)),zp}var C0;function fE(){return C0||(C0=1,Up.exports=hE()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function pE(){if(k0)return rr;k0=1;var t=Dg(),e=fE();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(s){return f.call(v,s)?!0:f.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function S(s,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,a,u,m){if(a===null||typeof a=="undefined"||S(s,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,u,m,y,b,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){j[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];j[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){j[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){j[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){j[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){j[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){j[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){j[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){j[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,B);j[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,B);j[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,B);j[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){j[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),j.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){j[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,u,m){var y=j.hasOwnProperty(a)?j[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,u,y,m)&&(u=null),m||y===null?_(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?s.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?s.setAttributeNS(m,a,u):s.setAttribute(a,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),W=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,G;function ee(s){if(G===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+s}var ye=!1;function we(s,a){if(!s||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){m=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}s()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),b=m.stack.split(`
`),k=y.length-1,O=b.length-1;1<=k&&0<=O&&y[k]!==b[O];)O--;for(;1<=k&&0<=O;k--,O--)if(y[k]!==b[O]){if(k!==1||O!==1)do if(k--,O--,0>O||y[k]!==b[O]){var z=`
`+y[k].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=k&&0<=O);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ee(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case W:return"Portal";case I:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:me(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return me(s(a))}catch(u){}}return null}function Ce(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function tt(s){var a=Pe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(k){m=""+k,b.call(this,k)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Nt(s){s._valueTracker||(s._valueTracker=tt(s))}function Xt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return s&&(m=Pe(s)?s.checked?"true":"false":s.value),s=m,s!==u?(a.setValue(s),!0):!1}function Ft(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(a){return s.body}}function kt(s,a){var u=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:s._wrapperState.initialChecked})}function Hn(s,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ae(a.value!=null?a.value:u),s._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Gn(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function it(s,a){Gn(s,a);var u=Ae(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Wn(s,a.type,u):a.hasOwnProperty("defaultValue")&&Wn(s,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function jr(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Wn(s,a,u){(a!=="number"||Ft(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var an=Array.isArray;function ln(s,a,u,m){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&m&&(s[u].defaultSelected=!0)}else{for(u=""+Ae(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function lr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qn(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(an(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Ae(u)}}function Kn(s,a){var u=Ae(a.value),m=Ae(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),m!=null&&(s.defaultValue=""+m)}function cr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ct(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ct(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Qn,zr=(function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return s(a,u,m,y)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Qn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ot(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cr=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(s){Cr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Er[a]=Er[s]})});function ps(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Er.hasOwnProperty(s)&&Er[s]?(""+a).trim():a+"px"}function ms(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=ps(u,a[u],m);u==="float"&&(u="cssFloat"),m?s.setProperty(u,y):s[u]=y}}var gs=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vs(s,a){if(a){if(gs[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ys(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ur=null;function ut(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hr=null,Dn=null,dr=null;function Bs(s){if(s=ql(s)){if(typeof Hr!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Gu(a),Hr(s.stateNode,s.type,a))}}function vs(s){Dn?dr?dr.push(s):dr=[s]:Dn=s}function Tl(){if(Dn){var s=Dn,a=dr;if(dr=Dn=null,Bs(s),a)for(s=0;s<a.length;s++)Bs(a[s])}}function ro(s,a){return s(a)}function jl(){}var Os=!1;function El(s,a,u){if(Os)return s(a,u);Os=!0;try{return ro(s,a,u)}finally{Os=!1,(Dn!==null||dr!==null)&&(jl(),Tl())}}function Dt(s,a){var u=s.stateNode;if(u===null)return null;var m=Gu(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Zo=!1;if(d)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch(s){Zo=!1}function so(s,a,u,m,y,b,k,O,z){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(ue){this.onError(ue)}}var io=!1,ea=null,Wr=!1,Cl=null,ff={onError:function(s){io=!0,ea=s}};function ta(s,a,u,m,y,b,k,O,z){io=!1,ea=null,so.apply(ff,arguments)}function gu(s,a,u,m,y,b,k,O,z){if(ta.apply(this,arguments),io){if(io){var Z=ea;io=!1,ea=null}else throw Error(n(198));Wr||(Wr=!0,Cl=Z)}}function qr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function oo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Kr(s){if(qr(s)!==s)throw Error(n(188))}function yu(s){var a=s.alternate;if(!a){if(a=qr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,m=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return Kr(y),s;if(b===m)return Kr(y),a;b=b.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=b;else{for(var k=!1,O=y.child;O;){if(O===u){k=!0,u=y,m=b;break}if(O===m){k=!0,m=y,u=b;break}O=O.sibling}if(!k){for(O=b.child;O;){if(O===u){k=!0,u=b,m=y;break}if(O===m){k=!0,m=b,u=y;break}O=O.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function kl(s){return s=yu(s),s!==null?na(s):null}function na(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=na(s);if(a!==null)return a;s=s.sibling}return null}var ra=e.unstable_scheduleCallback,Al=e.unstable_cancelCallback,vu=e.unstable_shouldYield,pf=e.unstable_requestPaint,dt=e.unstable_now,xu=e.unstable_getCurrentPriorityLevel,ao=e.unstable_ImmediatePriority,yi=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,Il=e.unstable_LowPriority,bu=e.unstable_IdlePriority,lo=null,hr=null;function _u(s){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(lo,s,void 0,(s.current.flags&128)===128)}catch(a){}}var Mn=Math.clz32?Math.clz32:Su,Rl=Math.log,wu=Math.LN2;function Su(s){return s>>>=0,s===0?32:31-(Rl(s)/wu|0)|0}var sa=64,ia=4194304;function vi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function co(s,a){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,b=s.pingedLanes,k=u&268435455;if(k!==0){var O=k&~y;O!==0?m=vi(O):(b&=k,b!==0&&(m=vi(b)))}else k=u&~y,k!==0?m=vi(k):b!==0&&(m=vi(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,b=a&-a,y>=b||y===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)u=31-Mn(a),y=1<<u,m|=s[u],a&=~y;return m}function mf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(s,a){for(var u=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes;0<b;){var k=31-Mn(b),O=1<<k,z=y[k];z===-1?((O&u)===0||(O&m)!==0)&&(y[k]=mf(O,a)):z<=a&&(s.expiredLanes|=O),b&=~O}}function fr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function uo(){var s=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),s}function xi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function bi(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Mn(a),s[a]=u}function at(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-Mn(u),b=1<<y;a[y]=0,m[y]=-1,s[y]=-1,u&=~b}}function _i(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var m=31-Mn(u),y=1<<m;y&a|s[m]&a&&(s[m]|=a),u&=~y}}var We=0;function wi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Tu,oa,ju,Eu,Cu,Pl=!1,xs=[],cn=null,Qr=null,Yr=null,Si=new Map,Ar=new Map,bs=[],gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(s,a){switch(s){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Si.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(a.pointerId)}}function Yn(s,a,u,m,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},a!==null&&(a=ql(a),a!==null&&oa(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function yf(s,a,u,m,y){switch(a){case"focusin":return cn=Yn(cn,s,a,u,m,y),!0;case"dragenter":return Qr=Yn(Qr,s,a,u,m,y),!0;case"mouseover":return Yr=Yn(Yr,s,a,u,m,y),!0;case"pointerover":var b=y.pointerId;return Si.set(b,Yn(Si.get(b)||null,s,a,u,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Ar.set(b,Yn(Ar.get(b)||null,s,a,u,m,y)),!0}return!1}function Au(s){var a=go(s.target);if(a!==null){var u=qr(a);if(u!==null){if(a=u.tag,a===13){if(a=oo(u),a!==null){s.blockedOn=a,Cu(s.priority,function(){ju(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Us(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=aa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);ur=m,u.target.dispatchEvent(m),ur=null}else return a=ql(u),a!==null&&oa(a),s.blockedOn=u,!1;a.shift()}return!0}function ho(s,a,u){Us(s)&&u.delete(a)}function Iu(){Pl=!1,cn!==null&&Us(cn)&&(cn=null),Qr!==null&&Us(Qr)&&(Qr=null),Yr!==null&&Us(Yr)&&(Yr=null),Si.forEach(ho),Ar.forEach(ho)}function Xr(s,a){s.blockedOn===a&&(s.blockedOn=null,Pl||(Pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iu)))}function Jr(s){function a(y){return Xr(y,s)}if(0<xs.length){Xr(xs[0],s);for(var u=1;u<xs.length;u++){var m=xs[u];m.blockedOn===s&&(m.blockedOn=null)}}for(cn!==null&&Xr(cn,s),Qr!==null&&Xr(Qr,s),Yr!==null&&Xr(Yr,s),Si.forEach(a),Ar.forEach(a),u=0;u<bs.length;u++)m=bs[u],m.blockedOn===s&&(m.blockedOn=null);for(;0<bs.length&&(u=bs[0],u.blockedOn===null);)Au(u),u.blockedOn===null&&bs.shift()}var zs=U.ReactCurrentBatchConfig,Ti=!0;function xt(s,a,u,m){var y=We,b=zs.transition;zs.transition=null;try{We=1,Nl(s,a,u,m)}finally{We=y,zs.transition=b}}function vf(s,a,u,m){var y=We,b=zs.transition;zs.transition=null;try{We=4,Nl(s,a,u,m)}finally{We=y,zs.transition=b}}function Nl(s,a,u,m){if(Ti){var y=aa(s,a,u,m);if(y===null)Af(s,a,m,fo,u),ku(s,m);else if(yf(y,s,a,u,m))m.stopPropagation();else if(ku(s,m),a&4&&-1<gf.indexOf(s)){for(;y!==null;){var b=ql(y);if(b!==null&&Tu(b),b=aa(s,a,u,m),b===null&&Af(s,a,m,fo,u),b===y)break;y=b}y!==null&&m.stopPropagation()}else Af(s,a,m,null,u)}}var fo=null;function aa(s,a,u,m){if(fo=null,s=ut(m),s=go(s),s!==null)if(a=qr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=oo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return fo=s,null}function Dl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xu()){case ao:return 1;case yi:return 4;case kr:case Il:return 16;case bu:return 536870912;default:return 16}default:return 16}}var pr=null,la=null,Xn=null;function Ml(){if(Xn)return Xn;var s,a=la,u=a.length,m,y="value"in pr?pr.value:pr.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var k=u-s;for(m=1;m<=k&&a[u-m]===y[b-m];m++);return Xn=y.slice(s,1<m?1-m:void 0)}function ca(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function _s(){return!0}function Ll(){return!1}function un(s){function a(u,m,y,b,k){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?_s:Ll,this.isPropagationStopped=Ll,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),a}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=un(Zr),ws=oe({},Zr,{view:0,detail:0}),xf=un(ws),da,Hs,ji,po=oe({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ji&&(ji&&s.type==="mousemove"?(da=s.screenX-ji.screenX,Hs=s.screenY-ji.screenY):Hs=da=0,ji=s),da)},movementY:function(s){return"movementY"in s?s.movementY:Hs}}),ha=un(po),Fl=oe({},po,{dataTransfer:0}),Ru=un(Fl),fa=oe({},ws,{relatedTarget:0}),pa=un(fa),Pu=oe({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=un(Pu),Nu=oe({},Zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Du=un(Nu),Mu=oe({},Zr,{data:0}),Vl=un(Mu),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Lu[s])?!!a[s]:!1}function Ss(){return Fu}var h=oe({},ws,{key:function(s){if(s.key){var a=ma[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ln[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=un(h),w=oe({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=un(w),Y=oe({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),te=un(Y),ge=oe({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=un(ge),Wt=oe({},po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=un(Wt),Jt=[9,13,27,32],Vt=d&&"CompositionEvent"in window,Ir=null;d&&"documentMode"in document&&(Ir=document.documentMode);var mr=d&&"TextEvent"in window&&!Ir,mo=d&&(!Vt||Ir&&8<Ir&&11>=Ir),ga=" ",gv=!1;function yv(s,a){switch(s){case"keyup":return Jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function oj(s,a){switch(s){case"compositionend":return vv(a);case"keypress":return a.which!==32?null:(gv=!0,ga);case"textInput":return s=a.data,s===ga&&gv?null:s;default:return null}}function aj(s,a){if(ya)return s==="compositionend"||!Vt&&yv(s,a)?(s=Ml(),Xn=la=pr=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return mo&&a.locale!=="ko"?null:a.data;default:return null}}var lj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!lj[s.type]:a==="textarea"}function bv(s,a,u,m){vs(m),a=Uu(a,"onChange"),0<a.length&&(u=new ua("onChange","change",null,u,m),s.push({event:u,listeners:a}))}var Bl=null,Ol=null;function cj(s){Vv(s,0)}function Vu(s){var a=wa(s);if(Xt(a))return s}function uj(s,a){if(s==="change")return a}var _v=!1;if(d){var bf;if(d){var _f="oninput"in document;if(!_f){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),_f=typeof wv.oninput=="function"}bf=_f}else bf=!1;_v=bf&&(!document.documentMode||9<document.documentMode)}function Sv(){Bl&&(Bl.detachEvent("onpropertychange",Tv),Ol=Bl=null)}function Tv(s){if(s.propertyName==="value"&&Vu(Ol)){var a=[];bv(a,Ol,s,ut(s)),El(cj,a)}}function dj(s,a,u){s==="focusin"?(Sv(),Bl=a,Ol=u,Bl.attachEvent("onpropertychange",Tv)):s==="focusout"&&Sv()}function hj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vu(Ol)}function fj(s,a){if(s==="click")return Vu(a)}function pj(s,a){if(s==="input"||s==="change")return Vu(a)}function mj(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var es=typeof Object.is=="function"?Object.is:mj;function $l(s,a){if(es(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!f.call(a,y)||!es(s[y],a[y]))return!1}return!0}function jv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ev(s,a){var u=jv(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=a&&m>=a)return{node:u,offset:a-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=jv(u)}}function Cv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Cv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function kv(){for(var s=window,a=Ft();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(m){u=!1}if(u)s=a.contentWindow;else break;a=Ft(s.document)}return a}function wf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function gj(s){var a=kv(),u=s.focusedElem,m=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Cv(u.ownerDocument.documentElement,u)){if(m!==null&&wf(u)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,b=Math.min(m.start,y);m=m.end===void 0?b:Math.min(m.end,y),!s.extend&&b>m&&(y=m,m=b,b=y),y=Ev(u,b);var k=Ev(u,m);y&&k&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yj=d&&"documentMode"in document&&11>=document.documentMode,va=null,Sf=null,Ul=null,Tf=!1;function Av(s,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tf||va==null||va!==Ft(m)||(m=va,"selectionStart"in m&&wf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ul&&$l(Ul,m)||(Ul=m,m=Uu(Sf,"onSelect"),0<m.length&&(a=new ua("onSelect","select",null,a,u),s.push({event:a,listeners:m}),a.target=va)))}function Bu(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var xa={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},jf={},Iv={};d&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ou(s){if(jf[s])return jf[s];if(!xa[s])return s;var a=xa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Iv)return jf[s]=a[u];return s}var Rv=Ou("animationend"),Pv=Ou("animationiteration"),Nv=Ou("animationstart"),Dv=Ou("transitionend"),Mv=new Map,Lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(s,a){Mv.set(s,a),l(a,[s])}for(var Ef=0;Ef<Lv.length;Ef++){var Cf=Lv[Ef],vj=Cf.toLowerCase(),xj=Cf[0].toUpperCase()+Cf.slice(1);Ei(vj,"on"+xj)}Ei(Rv,"onAnimationEnd"),Ei(Pv,"onAnimationIteration"),Ei(Nv,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Dv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bj=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function Fv(s,a,u){var m=s.type||"unknown-event";s.currentTarget=u,gu(m,a,void 0,s),s.currentTarget=null}function Vv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],y=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var k=m.length-1;0<=k;k--){var O=m[k],z=O.instance,Z=O.currentTarget;if(O=O.listener,z!==b&&y.isPropagationStopped())break e;Fv(y,O,Z),b=z}else for(k=0;k<m.length;k++){if(O=m[k],z=O.instance,Z=O.currentTarget,O=O.listener,z!==b&&y.isPropagationStopped())break e;Fv(y,O,Z),b=z}}}if(Wr)throw s=Cl,Wr=!1,Cl=null,s}function yt(s,a){var u=a[Mf];u===void 0&&(u=a[Mf]=new Set);var m=s+"__bubble";u.has(m)||(Bv(a,s,2,!1),u.add(m))}function kf(s,a,u){var m=0;a&&(m|=4),Bv(u,s,m,a)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Hl(s){if(!s[$u]){s[$u]=!0,r.forEach(function(u){u!=="selectionchange"&&(bj.has(u)||kf(u,!1,s),kf(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$u]||(a[$u]=!0,kf("selectionchange",!1,a))}}function Bv(s,a,u,m){switch(Dl(a)){case 1:var y=xt;break;case 4:y=vf;break;default:y=Nl}u=y.bind(null,a,u,s),y=void 0,!Zo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function Af(s,a,u,m,y){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(k===4)for(k=m.return;k!==null;){var z=k.tag;if((z===3||z===4)&&(z=k.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;k=k.return}for(;O!==null;){if(k=go(O),k===null)return;if(z=k.tag,z===5||z===6){m=b=k;continue e}O=O.parentNode}}m=m.return}El(function(){var Z=b,ue=ut(u),he=[];e:{var ce=Mv.get(s);if(ce!==void 0){var xe=ua,_e=s;switch(s){case"keypress":if(ca(u)===0)break e;case"keydown":case"keyup":xe=x;break;case"focusin":_e="focus",xe=pa;break;case"focusout":_e="blur",xe=pa;break;case"beforeblur":case"afterblur":xe=pa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=te;break;case Rv:case Pv:case Nv:xe=Gs;break;case Dv:xe=nt;break;case"scroll":xe=xf;break;case"wheel":xe=qe;break;case"copy":case"cut":case"paste":xe=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=P}var Se=(a&4)!==0,Mt=!Se&&s==="scroll",X=Se?ce!==null?ce+"Capture":null:ce;Se=[];for(var q=Z,J;q!==null;){J=q;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,X!==null&&(pe=Dt(q,X),pe!=null&&Se.push(Gl(q,pe,J)))),Mt)break;q=q.return}0<Se.length&&(ce=new xe(ce,_e,null,u,ue),he.push({event:ce,listeners:Se}))}}if((a&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ce&&u!==ur&&(_e=u.relatedTarget||u.fromElement)&&(go(_e)||_e[Ws]))break e;if((xe||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,xe?(_e=u.relatedTarget||u.toElement,xe=Z,_e=_e?go(_e):null,_e!==null&&(Mt=qr(_e),_e!==Mt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(xe=null,_e=Z),xe!==_e)){if(Se=ha,pe="onMouseLeave",X="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Se=P,pe="onPointerLeave",X="onPointerEnter",q="pointer"),Mt=xe==null?ce:wa(xe),J=_e==null?ce:wa(_e),ce=new Se(pe,q+"leave",xe,u,ue),ce.target=Mt,ce.relatedTarget=J,pe=null,go(ue)===Z&&(Se=new Se(X,q+"enter",_e,u,ue),Se.target=J,Se.relatedTarget=Mt,pe=Se),Mt=pe,xe&&_e)t:{for(Se=xe,X=_e,q=0,J=Se;J;J=ba(J))q++;for(J=0,pe=X;pe;pe=ba(pe))J++;for(;0<q-J;)Se=ba(Se),q--;for(;0<J-q;)X=ba(X),J--;for(;q--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=ba(Se),X=ba(X)}Se=null}else Se=null;xe!==null&&Ov(he,ce,xe,Se,!1),_e!==null&&Mt!==null&&Ov(he,Mt,_e,Se,!0)}}e:{if(ce=Z?wa(Z):window,xe=ce.nodeName&&ce.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ce.type==="file")var je=uj;else if(xv(ce))if(_v)je=pj;else{je=hj;var Ie=dj}else(xe=ce.nodeName)&&xe.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(je=fj);if(je&&(je=je(s,Z))){bv(he,je,u,ue);break e}Ie&&Ie(s,ce,Z),s==="focusout"&&(Ie=ce._wrapperState)&&Ie.controlled&&ce.type==="number"&&Wn(ce,"number",ce.value)}switch(Ie=Z?wa(Z):window,s){case"focusin":(xv(Ie)||Ie.contentEditable==="true")&&(va=Ie,Sf=Z,Ul=null);break;case"focusout":Ul=Sf=va=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Av(he,u,ue);break;case"selectionchange":if(yj)break;case"keydown":case"keyup":Av(he,u,ue)}var Re;if(Vt)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ya?yv(s,u)&&(De="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(mo&&u.locale!=="ko"&&(ya||De!=="onCompositionStart"?De==="onCompositionEnd"&&ya&&(Re=Ml()):(pr=ue,la="value"in pr?pr.value:pr.textContent,ya=!0)),Ie=Uu(Z,De),0<Ie.length&&(De=new Vl(De,s,null,u,ue),he.push({event:De,listeners:Ie}),Re?De.data=Re:(Re=vv(u),Re!==null&&(De.data=Re)))),(Re=mr?oj(s,u):aj(s,u))&&(Z=Uu(Z,"onBeforeInput"),0<Z.length&&(ue=new Vl("onBeforeInput","beforeinput",null,u,ue),he.push({event:ue,listeners:Z}),ue.data=Re))}Vv(he,a)})}function Gl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Uu(s,a){for(var u=a+"Capture",m=[];s!==null;){var y=s,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=Dt(s,u),b!=null&&m.unshift(Gl(s,b,y)),b=Dt(s,a),b!=null&&m.push(Gl(s,b,y))),s=s.return}return m}function ba(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ov(s,a,u,m,y){for(var b=a._reactName,k=[];u!==null&&u!==m;){var O=u,z=O.alternate,Z=O.stateNode;if(z!==null&&z===m)break;O.tag===5&&Z!==null&&(O=Z,y?(z=Dt(u,b),z!=null&&k.unshift(Gl(u,z,O))):y||(z=Dt(u,b),z!=null&&k.push(Gl(u,z,O)))),u=u.return}k.length!==0&&s.push({event:a,listeners:k})}var _j=/\r\n?/g,wj=/\u0000|\uFFFD/g;function $v(s){return(typeof s=="string"?s:""+s).replace(_j,`
`).replace(wj,"")}function zu(s,a,u){if(a=$v(a),$v(s)!==a&&u)throw Error(n(425))}function Hu(){}var If=null,Rf=null;function Pf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,Sj=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,Tj=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv!="undefined"?function(s){return Uv.resolve(null).then(s).catch(jj)}:Nf;function jj(s){setTimeout(function(){throw s})}function Df(s,a){var u=a,m=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){s.removeChild(y),Jr(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);Jr(a)}function Ci(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function zv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Ts="__reactFiber$"+_a,Wl="__reactProps$"+_a,Ws="__reactContainer$"+_a,Mf="__reactEvents$"+_a,Ej="__reactListeners$"+_a,Cj="__reactHandles$"+_a;function go(s){var a=s[Ts];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ws]||u[Ts]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=zv(s);s!==null;){if(u=s[Ts])return u;s=zv(s)}return a}s=u,u=s.parentNode}return null}function ql(s){return s=s[Ts]||s[Ws],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function wa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Gu(s){return s[Wl]||null}var Lf=[],Sa=-1;function ki(s){return{current:s}}function vt(s){0>Sa||(s.current=Lf[Sa],Lf[Sa]=null,Sa--)}function ht(s,a){Sa++,Lf[Sa]=s.current,s.current=a}var Ai={},Tn=ki(Ai),Jn=ki(!1),yo=Ai;function Ta(s,a){var u=s.type.contextTypes;if(!u)return Ai;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in u)y[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Zn(s){return s=s.childContextTypes,s!=null}function Wu(){vt(Jn),vt(Tn)}function Hv(s,a,u){if(Tn.current!==Ai)throw Error(n(168));ht(Tn,a),ht(Jn,u)}function Gv(s,a,u){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Ce(s)||"Unknown",y));return oe({},u,m)}function qu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ai,yo=Tn.current,ht(Tn,s),ht(Jn,Jn.current),!0}function Wv(s,a,u){var m=s.stateNode;if(!m)throw Error(n(169));u?(s=Gv(s,a,yo),m.__reactInternalMemoizedMergedChildContext=s,vt(Jn),vt(Tn),ht(Tn,s)):vt(Jn),ht(Jn,u)}var qs=null,Ku=!1,Ff=!1;function qv(s){qs===null?qs=[s]:qs.push(s)}function kj(s){Ku=!0,qv(s)}function Ii(){if(!Ff&&qs!==null){Ff=!0;var s=0,a=We;try{var u=qs;for(We=1;s<u.length;s++){var m=u[s];do m=m(!0);while(m!==null)}qs=null,Ku=!1}catch(y){throw qs!==null&&(qs=qs.slice(s+1)),ra(ao,Ii),y}finally{We=a,Ff=!1}}return null}var ja=[],Ea=0,Qu=null,Yu=0,Rr=[],Pr=0,vo=null,Ks=1,Qs="";function xo(s,a){ja[Ea++]=Yu,ja[Ea++]=Qu,Qu=s,Yu=a}function Kv(s,a,u){Rr[Pr++]=Ks,Rr[Pr++]=Qs,Rr[Pr++]=vo,vo=s;var m=Ks;s=Qs;var y=32-Mn(m)-1;m&=~(1<<y),u+=1;var b=32-Mn(a)+y;if(30<b){var k=y-y%5;b=(m&(1<<k)-1).toString(32),m>>=k,y-=k,Ks=1<<32-Mn(a)+y|u<<y|m,Qs=b+s}else Ks=1<<b|u<<y|m,Qs=s}function Vf(s){s.return!==null&&(xo(s,1),Kv(s,1,0))}function Bf(s){for(;s===Qu;)Qu=ja[--Ea],ja[Ea]=null,Yu=ja[--Ea],ja[Ea]=null;for(;s===vo;)vo=Rr[--Pr],Rr[Pr]=null,Qs=Rr[--Pr],Rr[Pr]=null,Ks=Rr[--Pr],Rr[Pr]=null}var gr=null,yr=null,bt=!1,ts=null;function Qv(s,a){var u=Lr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Yv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,gr=s,yr=Ci(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,gr=s,yr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=vo!==null?{id:Ks,overflow:Qs}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Lr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,gr=s,yr=null,!0):!1;default:return!1}}function Of(s){return(s.mode&1)!==0&&(s.flags&128)===0}function $f(s){if(bt){var a=yr;if(a){var u=a;if(!Yv(s,a)){if(Of(s))throw Error(n(418));a=Ci(u.nextSibling);var m=gr;a&&Yv(s,a)?Qv(m,u):(s.flags=s.flags&-4097|2,bt=!1,gr=s)}}else{if(Of(s))throw Error(n(418));s.flags=s.flags&-4097|2,bt=!1,gr=s}}}function Xv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gr=s}function Xu(s){if(s!==gr)return!1;if(!bt)return Xv(s),bt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Pf(s.type,s.memoizedProps)),a&&(a=yr)){if(Of(s))throw Jv(),Error(n(418));for(;a;)Qv(s,a),a=Ci(a.nextSibling)}if(Xv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){yr=Ci(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}yr=null}}else yr=gr?Ci(s.stateNode.nextSibling):null;return!0}function Jv(){for(var s=yr;s;)s=Ci(s.nextSibling)}function Ca(){yr=gr=null,bt=!1}function Uf(s){ts===null?ts=[s]:ts.push(s)}var Aj=U.ReactCurrentBatchConfig;function Kl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,s));var y=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(k){var O=y.refs;k===null?delete O[b]:O[b]=k},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Ju(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Zv(s){var a=s._init;return a(s._payload)}function ex(s){function a(X,q){if(s){var J=X.deletions;J===null?(X.deletions=[q],X.flags|=16):J.push(q)}}function u(X,q){if(!s)return null;for(;q!==null;)a(X,q),q=q.sibling;return null}function m(X,q){for(X=new Map;q!==null;)q.key!==null?X.set(q.key,q):X.set(q.index,q),q=q.sibling;return X}function y(X,q){return X=Vi(X,q),X.index=0,X.sibling=null,X}function b(X,q,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<q?(X.flags|=2,q):J):(X.flags|=2,q)):(X.flags|=1048576,q)}function k(X){return s&&X.alternate===null&&(X.flags|=2),X}function O(X,q,J,pe){return q===null||q.tag!==6?(q=Np(J,X.mode,pe),q.return=X,q):(q=y(q,J),q.return=X,q)}function z(X,q,J,pe){var je=J.type;return je===E?ue(X,q,J.props.children,pe,J.key):q!==null&&(q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===re&&Zv(je)===q.type)?(pe=y(q,J.props),pe.ref=Kl(X,q,J),pe.return=X,pe):(pe=wd(J.type,J.key,J.props,null,X.mode,pe),pe.ref=Kl(X,q,J),pe.return=X,pe)}function Z(X,q,J,pe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Dp(J,X.mode,pe),q.return=X,q):(q=y(q,J.children||[]),q.return=X,q)}function ue(X,q,J,pe,je){return q===null||q.tag!==7?(q=Co(J,X.mode,pe,je),q.return=X,q):(q=y(q,J),q.return=X,q)}function he(X,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Np(""+q,X.mode,J),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return J=wd(q.type,q.key,q.props,null,X.mode,J),J.ref=Kl(X,null,q),J.return=X,J;case W:return q=Dp(q,X.mode,J),q.return=X,q;case re:var pe=q._init;return he(X,pe(q._payload),J)}if(an(q)||ae(q))return q=Co(q,X.mode,J,null),q.return=X,q;Ju(X,q)}return null}function ce(X,q,J,pe){var je=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return je!==null?null:O(X,q,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===je?z(X,q,J,pe):null;case W:return J.key===je?Z(X,q,J,pe):null;case re:return je=J._init,ce(X,q,je(J._payload),pe)}if(an(J)||ae(J))return je!==null?null:ue(X,q,J,pe,null);Ju(X,J)}return null}function xe(X,q,J,pe,je){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return X=X.get(J)||null,O(q,X,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return X=X.get(pe.key===null?J:pe.key)||null,z(q,X,pe,je);case W:return X=X.get(pe.key===null?J:pe.key)||null,Z(q,X,pe,je);case re:var Ie=pe._init;return xe(X,q,J,Ie(pe._payload),je)}if(an(pe)||ae(pe))return X=X.get(J)||null,ue(q,X,pe,je,null);Ju(q,pe)}return null}function _e(X,q,J,pe){for(var je=null,Ie=null,Re=q,De=q=0,tn=null;Re!==null&&De<J.length;De++){Re.index>De?(tn=Re,Re=null):tn=Re.sibling;var Je=ce(X,Re,J[De],pe);if(Je===null){Re===null&&(Re=tn);break}s&&Re&&Je.alternate===null&&a(X,Re),q=b(Je,q,De),Ie===null?je=Je:Ie.sibling=Je,Ie=Je,Re=tn}if(De===J.length)return u(X,Re),bt&&xo(X,De),je;if(Re===null){for(;De<J.length;De++)Re=he(X,J[De],pe),Re!==null&&(q=b(Re,q,De),Ie===null?je=Re:Ie.sibling=Re,Ie=Re);return bt&&xo(X,De),je}for(Re=m(X,Re);De<J.length;De++)tn=xe(Re,X,De,J[De],pe),tn!==null&&(s&&tn.alternate!==null&&Re.delete(tn.key===null?De:tn.key),q=b(tn,q,De),Ie===null?je=tn:Ie.sibling=tn,Ie=tn);return s&&Re.forEach(function(Bi){return a(X,Bi)}),bt&&xo(X,De),je}function Se(X,q,J,pe){var je=ae(J);if(typeof je!="function")throw Error(n(150));if(J=je.call(J),J==null)throw Error(n(151));for(var Ie=je=null,Re=q,De=q=0,tn=null,Je=J.next();Re!==null&&!Je.done;De++,Je=J.next()){Re.index>De?(tn=Re,Re=null):tn=Re.sibling;var Bi=ce(X,Re,Je.value,pe);if(Bi===null){Re===null&&(Re=tn);break}s&&Re&&Bi.alternate===null&&a(X,Re),q=b(Bi,q,De),Ie===null?je=Bi:Ie.sibling=Bi,Ie=Bi,Re=tn}if(Je.done)return u(X,Re),bt&&xo(X,De),je;if(Re===null){for(;!Je.done;De++,Je=J.next())Je=he(X,Je.value,pe),Je!==null&&(q=b(Je,q,De),Ie===null?je=Je:Ie.sibling=Je,Ie=Je);return bt&&xo(X,De),je}for(Re=m(X,Re);!Je.done;De++,Je=J.next())Je=xe(Re,X,De,Je.value,pe),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?De:Je.key),q=b(Je,q,De),Ie===null?je=Je:Ie.sibling=Je,Ie=Je);return s&&Re.forEach(function(lE){return a(X,lE)}),bt&&xo(X,De),je}function Mt(X,q,J,pe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var je=J.key,Ie=q;Ie!==null;){if(Ie.key===je){if(je=J.type,je===E){if(Ie.tag===7){u(X,Ie.sibling),q=y(Ie,J.props.children),q.return=X,X=q;break e}}else if(Ie.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===re&&Zv(je)===Ie.type){u(X,Ie.sibling),q=y(Ie,J.props),q.ref=Kl(X,Ie,J),q.return=X,X=q;break e}u(X,Ie);break}else a(X,Ie);Ie=Ie.sibling}J.type===E?(q=Co(J.props.children,X.mode,pe,J.key),q.return=X,X=q):(pe=wd(J.type,J.key,J.props,null,X.mode,pe),pe.ref=Kl(X,q,J),pe.return=X,X=pe)}return k(X);case W:e:{for(Ie=J.key;q!==null;){if(q.key===Ie)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){u(X,q.sibling),q=y(q,J.children||[]),q.return=X,X=q;break e}else{u(X,q);break}else a(X,q);q=q.sibling}q=Dp(J,X.mode,pe),q.return=X,X=q}return k(X);case re:return Ie=J._init,Mt(X,q,Ie(J._payload),pe)}if(an(J))return _e(X,q,J,pe);if(ae(J))return Se(X,q,J,pe);Ju(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(u(X,q.sibling),q=y(q,J),q.return=X,X=q):(u(X,q),q=Np(J,X.mode,pe),q.return=X,X=q),k(X)):u(X,q)}return Mt}var ka=ex(!0),tx=ex(!1),Zu=ki(null),ed=null,Aa=null,zf=null;function Hf(){zf=Aa=ed=null}function Gf(s){var a=Zu.current;vt(Zu),s._currentValue=a}function Wf(s,a,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===u)break;s=s.return}}function Ia(s,a){ed=s,zf=Aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(er=!0),s.firstContext=null)}function Nr(s){var a=s._currentValue;if(zf!==s)if(s={context:s,memoizedValue:a,next:null},Aa===null){if(ed===null)throw Error(n(308));Aa=s,ed.dependencies={lanes:0,firstContext:s}}else Aa=Aa.next=s;return a}var bo=null;function qf(s){bo===null?bo=[s]:bo.push(s)}function nx(s,a,u,m){var y=a.interleaved;return y===null?(u.next=u,qf(a)):(u.next=y.next,y.next=u),a.interleaved=u,Ys(s,m)}function Ys(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ri=!1;function Kf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Pi(s,a,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ye&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Ys(s,u)}return y=m.interleaved,y===null?(a.next=a,qf(m)):(a.next=y.next,y.next=a),m.interleaved=a,Ys(s,u)}function td(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,_i(s,u)}}function sx(s,a){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?y=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function nd(s,a,u,m){var y=s.updateQueue;Ri=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var z=O,Z=z.next;z.next=null,k===null?b=Z:k.next=Z,k=z;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==k&&(O===null?ue.firstBaseUpdate=Z:O.next=Z,ue.lastBaseUpdate=z))}if(b!==null){var he=y.baseState;k=0,ue=Z=z=null,O=b;do{var ce=O.lane,xe=O.eventTime;if((m&ce)===ce){ue!==null&&(ue=ue.next={eventTime:xe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var _e=s,Se=O;switch(ce=a,xe=u,Se.tag){case 1:if(_e=Se.payload,typeof _e=="function"){he=_e.call(xe,he,ce);break e}he=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Se.payload,ce=typeof _e=="function"?_e.call(xe,he,ce):_e,ce==null)break e;he=oe({},he,ce);break e;case 2:Ri=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ce=y.effects,ce===null?y.effects=[O]:ce.push(O))}else xe={eventTime:xe,lane:ce,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(Z=ue=xe,z=he):ue=ue.next=xe,k|=ce;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ce=O,O=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);if(ue===null&&(z=he),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ue,a=y.shared.interleaved,a!==null){y=a;do k|=y.lane,y=y.next;while(y!==a)}else b===null&&(y.shared.lanes=0);So|=k,s.lanes=k,s.memoizedState=he}}function ix(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Ql={},js=ki(Ql),Yl=ki(Ql),Xl=ki(Ql);function _o(s){if(s===Ql)throw Error(n(174));return s}function Qf(s,a){switch(ht(Xl,a),ht(Yl,s),ht(js,Ql),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Qe(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Qe(a,s)}vt(js),ht(js,a)}function Ra(){vt(js),vt(Yl),vt(Xl)}function ox(s){_o(Xl.current);var a=_o(js.current),u=Qe(a,s.type);a!==u&&(ht(Yl,s),ht(js,u))}function Yf(s){Yl.current===s&&(vt(js),vt(Yl))}var St=ki(0);function rd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Xf=[];function Jf(){for(var s=0;s<Xf.length;s++)Xf[s]._workInProgressVersionPrimary=null;Xf.length=0}var sd=U.ReactCurrentDispatcher,Zf=U.ReactCurrentBatchConfig,wo=0,Tt=null,qt=null,Zt=null,id=!1,Jl=!1,Zl=0,Ij=0;function jn(){throw Error(n(321))}function ep(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!es(s[u],a[u]))return!1;return!0}function tp(s,a,u,m,y,b){if(wo=b,Tt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,sd.current=s===null||s.memoizedState===null?Dj:Mj,s=u(m,y),Jl){b=0;do{if(Jl=!1,Zl=0,25<=b)throw Error(n(301));b+=1,Zt=qt=null,a.updateQueue=null,sd.current=Lj,s=u(m,y)}while(Jl)}if(sd.current=ld,a=qt!==null&&qt.next!==null,wo=0,Zt=qt=Tt=null,id=!1,a)throw Error(n(300));return s}function np(){var s=Zl!==0;return Zl=0,s}function Es(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Tt.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function Dr(){if(qt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=qt.next;var a=Zt===null?Tt.memoizedState:Zt.next;if(a!==null)Zt=a,qt=s;else{if(s===null)throw Error(n(310));qt=s,s={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Zt===null?Tt.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}function ec(s,a){return typeof a=="function"?a(s):a}function rp(s){var a=Dr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=qt,y=m.baseQueue,b=u.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}m.baseQueue=y=b,u.pending=null}if(y!==null){b=y.next,m=m.baseState;var O=k=null,z=null,Z=b;do{var ue=Z.lane;if((wo&ue)===ue)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:s(m,Z.action);else{var he={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(O=z=he,k=m):z=z.next=he,Tt.lanes|=ue,So|=ue}Z=Z.next}while(Z!==null&&Z!==b);z===null?k=m:z.next=O,es(m,a.memoizedState)||(er=!0),a.memoizedState=m,a.baseState=k,a.baseQueue=z,u.lastRenderedState=m}if(s=u.interleaved,s!==null){y=s;do b=y.lane,Tt.lanes|=b,So|=b,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function sp(s){var a=Dr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do b=s(b,k.action),k=k.next;while(k!==y);es(b,a.memoizedState)||(er=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,m]}function ax(){}function lx(s,a){var u=Tt,m=Dr(),y=a(),b=!es(m.memoizedState,y);if(b&&(m.memoizedState=y,er=!0),m=m.queue,ip(dx.bind(null,u,m,s),[s]),m.getSnapshot!==a||b||Zt!==null&&Zt.memoizedState.tag&1){if(u.flags|=2048,tc(9,ux.bind(null,u,m,y,a),void 0,null),en===null)throw Error(n(349));(wo&30)!==0||cx(u,a,y)}return y}function cx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function ux(s,a,u,m){a.value=u,a.getSnapshot=m,hx(a)&&fx(s)}function dx(s,a,u){return u(function(){hx(a)&&fx(s)})}function hx(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!es(s,u)}catch(m){return!0}}function fx(s){var a=Ys(s,1);a!==null&&is(a,s,1,-1)}function px(s){var a=Es();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:s},a.queue=s,s=s.dispatch=Nj.bind(null,Tt,s),[a.memoizedState,s]}function tc(s,a,u,m){return s={tag:s,create:a,destroy:u,deps:m,next:null},a=Tt.updateQueue,a===null?(a={lastEffect:null,stores:null},Tt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,a.lastEffect=s)),s}function mx(){return Dr().memoizedState}function od(s,a,u,m){var y=Es();Tt.flags|=s,y.memoizedState=tc(1|a,u,void 0,m===void 0?null:m)}function ad(s,a,u,m){var y=Dr();m=m===void 0?null:m;var b=void 0;if(qt!==null){var k=qt.memoizedState;if(b=k.destroy,m!==null&&ep(m,k.deps)){y.memoizedState=tc(a,u,b,m);return}}Tt.flags|=s,y.memoizedState=tc(1|a,u,b,m)}function gx(s,a){return od(8390656,8,s,a)}function ip(s,a){return ad(2048,8,s,a)}function yx(s,a){return ad(4,2,s,a)}function vx(s,a){return ad(4,4,s,a)}function xx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function bx(s,a,u){return u=u!=null?u.concat([s]):null,ad(4,4,xx.bind(null,a,s),u)}function op(){}function _x(s,a){var u=Dr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&ep(a,m[1])?m[0]:(u.memoizedState=[s,a],s)}function wx(s,a){var u=Dr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&ep(a,m[1])?m[0]:(s=s(),u.memoizedState=[s,a],s)}function Sx(s,a,u){return(wo&21)===0?(s.baseState&&(s.baseState=!1,er=!0),s.memoizedState=u):(es(u,a)||(u=uo(),Tt.lanes|=u,So|=u,s.baseState=!0),a)}function Rj(s,a){var u=We;We=u!==0&&4>u?u:4,s(!0);var m=Zf.transition;Zf.transition={};try{s(!1),a()}finally{We=u,Zf.transition=m}}function Tx(){return Dr().memoizedState}function Pj(s,a,u){var m=Li(s);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},jx(s))Ex(a,u);else if(u=nx(s,a,u,m),u!==null){var y=Vn();is(u,s,m,y),Cx(u,a,m)}}function Nj(s,a,u){var m=Li(s),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(jx(s))Ex(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var k=a.lastRenderedState,O=b(k,u);if(y.hasEagerState=!0,y.eagerState=O,es(O,k)){var z=a.interleaved;z===null?(y.next=y,qf(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch(Z){}finally{}u=nx(s,a,y,m),u!==null&&(y=Vn(),is(u,s,m,y),Cx(u,a,m))}}function jx(s){var a=s.alternate;return s===Tt||a!==null&&a===Tt}function Ex(s,a){Jl=id=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Cx(s,a,u){if((u&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,_i(s,u)}}var ld={readContext:Nr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},Dj={readContext:Nr,useCallback:function(s,a){return Es().memoizedState=[s,a===void 0?null:a],s},useContext:Nr,useEffect:gx,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,od(4194308,4,xx.bind(null,a,s),u)},useLayoutEffect:function(s,a){return od(4194308,4,s,a)},useInsertionEffect:function(s,a){return od(4,2,s,a)},useMemo:function(s,a){var u=Es();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var m=Es();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=Pj.bind(null,Tt,s),[m.memoizedState,s]},useRef:function(s){var a=Es();return s={current:s},a.memoizedState=s},useState:px,useDebugValue:op,useDeferredValue:function(s){return Es().memoizedState=s},useTransition:function(){var s=px(!1),a=s[0];return s=Rj.bind(null,s[1]),Es().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var m=Tt,y=Es();if(bt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),en===null)throw Error(n(349));(wo&30)!==0||cx(m,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,gx(dx.bind(null,m,b,s),[s]),m.flags|=2048,tc(9,ux.bind(null,m,b,u,a),void 0,null),u},useId:function(){var s=Es(),a=en.identifierPrefix;if(bt){var u=Qs,m=Ks;u=(m&~(1<<32-Mn(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=Zl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Ij++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Mj={readContext:Nr,useCallback:_x,useContext:Nr,useEffect:ip,useImperativeHandle:bx,useInsertionEffect:yx,useLayoutEffect:vx,useMemo:wx,useReducer:rp,useRef:mx,useState:function(){return rp(ec)},useDebugValue:op,useDeferredValue:function(s){var a=Dr();return Sx(a,qt.memoizedState,s)},useTransition:function(){var s=rp(ec)[0],a=Dr().memoizedState;return[s,a]},useMutableSource:ax,useSyncExternalStore:lx,useId:Tx,unstable_isNewReconciler:!1},Lj={readContext:Nr,useCallback:_x,useContext:Nr,useEffect:ip,useImperativeHandle:bx,useInsertionEffect:yx,useLayoutEffect:vx,useMemo:wx,useReducer:sp,useRef:mx,useState:function(){return sp(ec)},useDebugValue:op,useDeferredValue:function(s){var a=Dr();return qt===null?a.memoizedState=s:Sx(a,qt.memoizedState,s)},useTransition:function(){var s=sp(ec)[0],a=Dr().memoizedState;return[s,a]},useMutableSource:ax,useSyncExternalStore:lx,useId:Tx,unstable_isNewReconciler:!1};function ns(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function ap(s,a,u,m){a=s.memoizedState,u=u(m,a),u=u==null?a:oe({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var cd={isMounted:function(s){return(s=s._reactInternals)?qr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var m=Vn(),y=Li(s),b=Xs(m,y);b.payload=a,u!=null&&(b.callback=u),a=Pi(s,b,y),a!==null&&(is(a,s,y,m),td(a,s,y))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var m=Vn(),y=Li(s),b=Xs(m,y);b.tag=1,b.payload=a,u!=null&&(b.callback=u),a=Pi(s,b,y),a!==null&&(is(a,s,y,m),td(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Vn(),m=Li(s),y=Xs(u,m);y.tag=2,a!=null&&(y.callback=a),a=Pi(s,y,m),a!==null&&(is(a,s,m,u),td(a,s,m))}};function kx(s,a,u,m,y,b,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,k):a.prototype&&a.prototype.isPureReactComponent?!$l(u,m)||!$l(y,b):!0}function Ax(s,a,u){var m=!1,y=Ai,b=a.contextType;return typeof b=="object"&&b!==null?b=Nr(b):(y=Zn(a)?yo:Tn.current,m=a.contextTypes,b=(m=m!=null)?Ta(s,y):Ai),a=new a(u,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=cd,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=b),a}function Ix(s,a,u,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==s&&cd.enqueueReplaceState(a,a.state,null)}function lp(s,a,u,m){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},Kf(s);var b=a.contextType;typeof b=="object"&&b!==null?y.context=Nr(b):(b=Zn(a)?yo:Tn.current,y.context=Ta(s,b)),y.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(ap(s,a,b,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&cd.enqueueReplaceState(y,y.state,null),nd(s,u,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Pa(s,a){try{var u="",m=a;do u+=Ee(m),m=m.return;while(m);var y=u}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:y,digest:null}}function cp(s,a,u){return{value:s,source:null,stack:u!=null?u:null,digest:a!=null?a:null}}function up(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var Fj=typeof WeakMap=="function"?WeakMap:Map;function Rx(s,a,u){u=Xs(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){gd||(gd=!0,jp=m),up(s,a)},u}function Px(s,a,u){u=Xs(-1,u),u.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){up(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){up(s,a),typeof m!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),u}function Nx(s,a,u){var m=s.pingCache;if(m===null){m=s.pingCache=new Fj;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),s=Xj.bind(null,s,a,u),a.then(s,s))}function Dx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Mx(s,a,u,m,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Xs(-1,1),a.tag=2,Pi(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var Vj=U.ReactCurrentOwner,er=!1;function Fn(s,a,u,m){a.child=s===null?tx(a,null,u,m):ka(a,s.child,u,m)}function Lx(s,a,u,m,y){u=u.render;var b=a.ref;return Ia(a,y),m=tp(s,a,u,m,b,y),u=np(),s!==null&&!er?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Js(s,a,y)):(bt&&u&&Vf(a),a.flags|=1,Fn(s,a,m,y),a.child)}function Fx(s,a,u,m,y){if(s===null){var b=u.type;return typeof b=="function"&&!Pp(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=b,Vx(s,a,b,m,y)):(s=wd(u.type,null,m,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&y)===0){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:$l,u(k,m)&&s.ref===a.ref)return Js(s,a,y)}return a.flags|=1,s=Vi(b,m),s.ref=a.ref,s.return=a,a.child=s}function Vx(s,a,u,m,y){if(s!==null){var b=s.memoizedProps;if($l(b,m)&&s.ref===a.ref)if(er=!1,a.pendingProps=m=b,(s.lanes&y)!==0)(s.flags&131072)!==0&&(er=!0);else return a.lanes=s.lanes,Js(s,a,y)}return dp(s,a,u,m,y)}function Bx(s,a,u){var m=a.pendingProps,y=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Da,vr),vr|=u;else{if((u&1073741824)===0)return s=b!==null?b.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ht(Da,vr),vr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:u,ht(Da,vr),vr|=m}else b!==null?(m=b.baseLanes|u,a.memoizedState=null):m=u,ht(Da,vr),vr|=m;return Fn(s,a,y,u),a.child}function Ox(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function dp(s,a,u,m,y){var b=Zn(u)?yo:Tn.current;return b=Ta(a,b),Ia(a,y),u=tp(s,a,u,m,b,y),m=np(),s!==null&&!er?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Js(s,a,y)):(bt&&m&&Vf(a),a.flags|=1,Fn(s,a,u,y),a.child)}function $x(s,a,u,m,y){if(Zn(u)){var b=!0;qu(a)}else b=!1;if(Ia(a,y),a.stateNode===null)dd(s,a),Ax(a,u,m),lp(a,u,m,y),m=!0;else if(s===null){var k=a.stateNode,O=a.memoizedProps;k.props=O;var z=k.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Nr(Z):(Z=Zn(u)?yo:Tn.current,Z=Ta(a,Z));var ue=u.getDerivedStateFromProps,he=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function";he||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==m||z!==Z)&&Ix(a,k,m,Z),Ri=!1;var ce=a.memoizedState;k.state=ce,nd(a,m,k,y),z=a.memoizedState,O!==m||ce!==z||Jn.current||Ri?(typeof ue=="function"&&(ap(a,u,ue,m),z=a.memoizedState),(O=Ri||kx(a,u,O,m,ce,z,Z))?(he||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=z),k.props=m,k.state=z,k.context=Z,m=O):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{k=a.stateNode,rx(s,a),O=a.memoizedProps,Z=a.type===a.elementType?O:ns(a.type,O),k.props=Z,he=a.pendingProps,ce=k.context,z=u.contextType,typeof z=="object"&&z!==null?z=Nr(z):(z=Zn(u)?yo:Tn.current,z=Ta(a,z));var xe=u.getDerivedStateFromProps;(ue=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==he||ce!==z)&&Ix(a,k,m,z),Ri=!1,ce=a.memoizedState,k.state=ce,nd(a,m,k,y);var _e=a.memoizedState;O!==he||ce!==_e||Jn.current||Ri?(typeof xe=="function"&&(ap(a,u,xe,m),_e=a.memoizedState),(Z=Ri||kx(a,u,Z,m,ce,_e,z)||!1)?(ue||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,_e,z),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,_e,z)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=_e),k.props=m,k.state=_e,k.context=z,m=Z):(typeof k.componentDidUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),m=!1)}return hp(s,a,u,m,b,y)}function hp(s,a,u,m,y,b){Ox(s,a);var k=(a.flags&128)!==0;if(!m&&!k)return y&&Wv(a,u,!1),Js(s,a,b);m=a.stateNode,Vj.current=a;var O=k&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&k?(a.child=ka(a,s.child,null,b),a.child=ka(a,null,O,b)):Fn(s,a,O,b),a.memoizedState=m.state,y&&Wv(a,u,!0),a.child}function Ux(s){var a=s.stateNode;a.pendingContext?Hv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Hv(s,a.context,!1),Qf(s,a.containerInfo)}function zx(s,a,u,m,y){return Ca(),Uf(y),a.flags|=256,Fn(s,a,u,m),a.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Hx(s,a,u){var m=a.pendingProps,y=St.current,b=!1,k=(a.flags&128)!==0,O;if((O=k)||(O=s!==null&&s.memoizedState===null?!1:(y&2)!==0),O?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ht(St,y&1),s===null)return $f(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=m.children,s=m.fallback,b?(m=a.mode,b=a.child,k={mode:"hidden",children:k},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=k):b=Sd(k,m,0,null),s=Co(s,m,u,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=pp(u),a.memoizedState=fp,s):mp(a,k));if(y=s.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return Bj(s,a,k,m,O,y,u);if(b){b=m.fallback,k=a.mode,y=s.child,O=y.sibling;var z={mode:"hidden",children:m.children};return(k&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=z,a.deletions=null):(m=Vi(y,z),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?b=Vi(O,b):(b=Co(b,k,u,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,k=s.child.memoizedState,k=k===null?pp(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},b.memoizedState=k,b.childLanes=s.childLanes&~u,a.memoizedState=fp,m}return b=s.child,s=b.sibling,m=Vi(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=m,a.memoizedState=null,m}function mp(s,a){return a=Sd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ud(s,a,u,m){return m!==null&&Uf(m),ka(a,s.child,null,u),s=mp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Bj(s,a,u,m,y,b,k){if(u)return a.flags&256?(a.flags&=-257,m=cp(Error(n(422))),ud(s,a,k,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,y=a.mode,m=Sd({mode:"visible",children:m.children},y,0,null),b=Co(b,y,k,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&ka(a,s.child,null,k),a.child.memoizedState=pp(k),a.memoizedState=fp,b);if((a.mode&1)===0)return ud(s,a,k,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,b=Error(n(419)),m=cp(b,m,void 0),ud(s,a,k,m)}if(O=(k&s.childLanes)!==0,er||O){if(m=en,m!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|k))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Ys(s,y),is(m,s,y,-1))}return Rp(),m=cp(Error(n(421))),ud(s,a,k,m)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=Jj.bind(null,s),y._reactRetry=a,null):(s=b.treeContext,yr=Ci(y.nextSibling),gr=a,bt=!0,ts=null,s!==null&&(Rr[Pr++]=Ks,Rr[Pr++]=Qs,Rr[Pr++]=vo,Ks=s.id,Qs=s.overflow,vo=a),a=mp(a,m.children),a.flags|=4096,a)}function Gx(s,a,u){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Wf(s.return,a,u)}function gp(s,a,u,m,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=u,b.tailMode=y)}function Wx(s,a,u){var m=a.pendingProps,y=m.revealOrder,b=m.tail;if(Fn(s,a,m.children,u),m=St.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gx(s,u,a);else if(s.tag===19)Gx(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ht(St,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&rd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),gp(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&rd(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}gp(a,!0,u,null,b);break;case"together":gp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function dd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Js(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),So|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Vi(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Vi(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Oj(s,a,u){switch(a.tag){case 3:Ux(a),Ca();break;case 5:ox(a);break;case 1:Zn(a.type)&&qu(a);break;case 4:Qf(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;ht(Zu,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ht(St,St.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Hx(s,a,u):(ht(St,St.current&1),s=Js(s,a,u),s!==null?s.sibling:null);ht(St,St.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(s.flags&128)!==0){if(m)return Wx(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(St,St.current),m)break;return null;case 22:case 23:return a.lanes=0,Bx(s,a,u)}return Js(s,a,u)}var qx,yp,Kx,Qx;qx=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},yp=function(){},Kx=function(s,a,u,m){var y=s.memoizedProps;if(y!==m){s=a.stateNode,_o(js.current);var b=null;switch(u){case"input":y=kt(s,y),m=kt(s,m),b=[];break;case"select":y=oe({},y,{value:void 0}),m=oe({},m,{value:void 0}),b=[];break;case"textarea":y=lr(s,y),m=lr(s,m),b=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Hu)}Vs(u,m);var k;u=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var O=y[Z];for(k in O)O.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?b||(b=[]):(b=b||[]).push(Z,null));for(Z in m){var z=m[Z];if(O=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&z!==O&&(z!=null||O!=null))if(Z==="style")if(O){for(k in O)!O.hasOwnProperty(k)||z&&z.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in z)z.hasOwnProperty(k)&&O[k]!==z[k]&&(u||(u={}),u[k]=z[k])}else u||(b||(b=[]),b.push(Z,u)),u=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,O=O?O.__html:void 0,z!=null&&O!==z&&(b=b||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&yt("scroll",s),b||O===z||(b=[])):(b=b||[]).push(Z,z))}u&&(b=b||[]).push("style",u);var Z=b;(a.updateQueue=Z)&&(a.flags|=4)}},Qx=function(s,a,u,m){u!==m&&(a.flags|=4)};function nc(s,a){if(!bt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function En(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=u,a}function $j(s,a,u){var m=a.pendingProps;switch(Bf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(a),null;case 1:return Zn(a.type)&&Wu(),En(a),null;case 3:return m=a.stateNode,Ra(),vt(Jn),vt(Tn),Jf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Xu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ts!==null&&(kp(ts),ts=null))),yp(s,a),En(a),null;case 5:Yf(a);var y=_o(Xl.current);if(u=a.type,s!==null&&a.stateNode!=null)Kx(s,a,u,m,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return En(a),null}if(s=_o(js.current),Xu(a)){m=a.stateNode,u=a.type;var b=a.memoizedProps;switch(m[Ts]=a,m[Wl]=b,s=(a.mode&1)!==0,u){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<zl.length;y++)yt(zl[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Hn(m,b),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},yt("invalid",m);break;case"textarea":qn(m,b),yt("invalid",m)}Vs(u,b),y=null;for(var k in b)if(b.hasOwnProperty(k)){var O=b[k];k==="children"?typeof O=="string"?m.textContent!==O&&(b.suppressHydrationWarning!==!0&&zu(m.textContent,O,s),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(b.suppressHydrationWarning!==!0&&zu(m.textContent,O,s),y=["children",""+O]):i.hasOwnProperty(k)&&O!=null&&k==="onScroll"&&yt("scroll",m)}switch(u){case"input":Nt(m),jr(m,b,!0);break;case"textarea":Nt(m),cr(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Hu)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ct(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=k.createElement(u,{is:m.is}):(s=k.createElement(u),u==="select"&&(k=s,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):s=k.createElementNS(s,u),s[Ts]=a,s[Wl]=m,qx(s,a,!1,!1),a.stateNode=s;e:{switch(k=ys(u,m),u){case"dialog":yt("cancel",s),yt("close",s),y=m;break;case"iframe":case"object":case"embed":yt("load",s),y=m;break;case"video":case"audio":for(y=0;y<zl.length;y++)yt(zl[y],s);y=m;break;case"source":yt("error",s),y=m;break;case"img":case"image":case"link":yt("error",s),yt("load",s),y=m;break;case"details":yt("toggle",s),y=m;break;case"input":Hn(s,m),y=kt(s,m),yt("invalid",s);break;case"option":y=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},y=oe({},m,{value:void 0}),yt("invalid",s);break;case"textarea":qn(s,m),y=lr(s,m),yt("invalid",s);break;default:y=m}Vs(u,y),O=y;for(b in O)if(O.hasOwnProperty(b)){var z=O[b];b==="style"?ms(s,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&zr(s,z)):b==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&ot(s,z):typeof z=="number"&&ot(s,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?z!=null&&b==="onScroll"&&yt("scroll",s):z!=null&&F(s,b,z,k))}switch(u){case"input":Nt(s),jr(s,m,!1);break;case"textarea":Nt(s),cr(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ae(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?ln(s,!!m.multiple,b,!1):m.defaultValue!=null&&ln(s,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Hu)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return En(a),null;case 6:if(s&&a.stateNode!=null)Qx(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=_o(Xl.current),_o(js.current),Xu(a)){if(m=a.stateNode,u=a.memoizedProps,m[Ts]=a,(b=m.nodeValue!==u)&&(s=gr,s!==null))switch(s.tag){case 3:zu(m.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&zu(m.nodeValue,u,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Ts]=a,a.stateNode=m}return En(a),null;case 13:if(vt(St),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&yr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Jv(),Ca(),a.flags|=98560,b=!1;else if(b=Xu(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Ts]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;En(a),b=!1}else ts!==null&&(kp(ts),ts=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(St.current&1)!==0?Kt===0&&(Kt=3):Rp())),a.updateQueue!==null&&(a.flags|=4),En(a),null);case 4:return Ra(),yp(s,a),s===null&&Hl(a.stateNode.containerInfo),En(a),null;case 10:return Gf(a.type._context),En(a),null;case 17:return Zn(a.type)&&Wu(),En(a),null;case 19:if(vt(St),b=a.memoizedState,b===null)return En(a),null;if(m=(a.flags&128)!==0,k=b.rendering,k===null)if(m)nc(b,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(k=rd(s),k!==null){for(a.flags|=128,nc(b,!1),m=k.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)b=u,s=m,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,s=k.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return ht(St,St.current&1|2),a.child}s=s.sibling}b.tail!==null&&dt()>Ma&&(a.flags|=128,m=!0,nc(b,!1),a.lanes=4194304)}else{if(!m)if(s=rd(k),s!==null){if(a.flags|=128,m=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),nc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!bt)return En(a),null}else 2*dt()-b.renderingStartTime>Ma&&u!==1073741824&&(a.flags|=128,m=!0,nc(b,!1),a.lanes=4194304);b.isBackwards?(k.sibling=a.child,a.child=k):(u=b.last,u!==null?u.sibling=k:a.child=k,b.last=k)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=dt(),a.sibling=null,u=St.current,ht(St,m?u&1|2:u&1),a):(En(a),null);case 22:case 23:return Ip(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(vr&1073741824)!==0&&(En(a),a.subtreeFlags&6&&(a.flags|=8192)):En(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Uj(s,a){switch(Bf(a),a.tag){case 1:return Zn(a.type)&&Wu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ra(),vt(Jn),vt(Tn),Jf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Yf(a),null;case 13:if(vt(St),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(St),null;case 4:return Ra(),null;case 10:return Gf(a.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var hd=!1,Cn=!1,zj=typeof WeakSet=="function"?WeakSet:Set,be=null;function Na(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){At(s,a,m)}else u.current=null}function vp(s,a,u){try{u()}catch(m){At(s,a,m)}}var Yx=!1;function Hj(s,a){if(If=Ti,s=kv(),wf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch(pe){u=null;break e}var k=0,O=-1,z=-1,Z=0,ue=0,he=s,ce=null;t:for(;;){for(var xe;he!==u||y!==0&&he.nodeType!==3||(O=k+y),he!==b||m!==0&&he.nodeType!==3||(z=k+m),he.nodeType===3&&(k+=he.nodeValue.length),(xe=he.firstChild)!==null;)ce=he,he=xe;for(;;){if(he===s)break t;if(ce===u&&++Z===y&&(O=k),ce===b&&++ue===m&&(z=k),(xe=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=xe}u=O===-1||z===-1?null:{start:O,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rf={focusedElem:s,selectionRange:u},Ti=!1,be=a;be!==null;)if(a=be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,be=s;else for(;be!==null;){a=be;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Se=_e.memoizedProps,Mt=_e.memoizedState,X=a.stateNode,q=X.getSnapshotBeforeUpdate(a.elementType===a.type?Se:ns(a.type,Se),Mt);X.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){At(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,be=s;break}be=a.return}return _e=Yx,Yx=!1,_e}function rc(s,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&s)===s){var b=y.destroy;y.destroy=void 0,b!==void 0&&vp(a,u,b)}y=y.next}while(y!==m)}}function fd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function xp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Xx(s){var a=s.alternate;a!==null&&(s.alternate=null,Xx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ts],delete a[Wl],delete a[Mf],delete a[Ej],delete a[Cj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Jx(s){return s.tag===5||s.tag===3||s.tag===4}function Zx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Hu));else if(m!==4&&(s=s.child,s!==null))for(bp(s,a,u),s=s.sibling;s!==null;)bp(s,a,u),s=s.sibling}function _p(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(_p(s,a,u),s=s.sibling;s!==null;)_p(s,a,u),s=s.sibling}var dn=null,rs=!1;function Ni(s,a,u){for(u=u.child;u!==null;)e0(s,a,u),u=u.sibling}function e0(s,a,u){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(lo,u)}catch(O){}switch(u.tag){case 5:Cn||Na(u,a);case 6:var m=dn,y=rs;dn=null,Ni(s,a,u),dn=m,rs=y,dn!==null&&(rs?(s=dn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):dn.removeChild(u.stateNode));break;case 18:dn!==null&&(rs?(s=dn,u=u.stateNode,s.nodeType===8?Df(s.parentNode,u):s.nodeType===1&&Df(s,u),Jr(s)):Df(dn,u.stateNode));break;case 4:m=dn,y=rs,dn=u.stateNode.containerInfo,rs=!0,Ni(s,a,u),dn=m,rs=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var b=y,k=b.destroy;b=b.tag,k!==void 0&&((b&2)!==0||(b&4)!==0)&&vp(u,a,k),y=y.next}while(y!==m)}Ni(s,a,u);break;case 1:if(!Cn&&(Na(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(O){At(u,a,O)}Ni(s,a,u);break;case 21:Ni(s,a,u);break;case 22:u.mode&1?(Cn=(m=Cn)||u.memoizedState!==null,Ni(s,a,u),Cn=m):Ni(s,a,u);break;default:Ni(s,a,u)}}function t0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new zj),a.forEach(function(m){var y=Zj.bind(null,s,m);u.has(m)||(u.add(m),m.then(y,y))})}}function ss(s,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var b=s,k=a,O=k;e:for(;O!==null;){switch(O.tag){case 5:dn=O.stateNode,rs=!1;break e;case 3:dn=O.stateNode.containerInfo,rs=!0;break e;case 4:dn=O.stateNode.containerInfo,rs=!0;break e}O=O.return}if(dn===null)throw Error(n(160));e0(b,k,y),dn=null,rs=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){At(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)n0(a,s),a=a.sibling}function n0(s,a){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ss(a,s),Cs(s),m&4){try{rc(3,s,s.return),fd(3,s)}catch(Se){At(s,s.return,Se)}try{rc(5,s,s.return)}catch(Se){At(s,s.return,Se)}}break;case 1:ss(a,s),Cs(s),m&512&&u!==null&&Na(u,u.return);break;case 5:if(ss(a,s),Cs(s),m&512&&u!==null&&Na(u,u.return),s.flags&32){var y=s.stateNode;try{ot(y,"")}catch(Se){At(s,s.return,Se)}}if(m&4&&(y=s.stateNode,y!=null)){var b=s.memoizedProps,k=u!==null?u.memoizedProps:b,O=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{O==="input"&&b.type==="radio"&&b.name!=null&&Gn(y,b),ys(O,k);var Z=ys(O,b);for(k=0;k<z.length;k+=2){var ue=z[k],he=z[k+1];ue==="style"?ms(y,he):ue==="dangerouslySetInnerHTML"?zr(y,he):ue==="children"?ot(y,he):F(y,ue,he,Z)}switch(O){case"input":it(y,b);break;case"textarea":Kn(y,b);break;case"select":var ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var xe=b.value;xe!=null?ln(y,!!b.multiple,xe,!1):ce!==!!b.multiple&&(b.defaultValue!=null?ln(y,!!b.multiple,b.defaultValue,!0):ln(y,!!b.multiple,b.multiple?[]:"",!1))}y[Wl]=b}catch(Se){At(s,s.return,Se)}}break;case 6:if(ss(a,s),Cs(s),m&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,b=s.memoizedProps;try{y.nodeValue=b}catch(Se){At(s,s.return,Se)}}break;case 3:if(ss(a,s),Cs(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Jr(a.containerInfo)}catch(Se){At(s,s.return,Se)}break;case 4:ss(a,s),Cs(s);break;case 13:ss(a,s),Cs(s),y=s.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(Tp=dt())),m&4&&t0(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(Cn=(Z=Cn)||ue,ss(a,s),Cn=Z):ss(a,s),Cs(s),m&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ue&&(s.mode&1)!==0)for(be=s,ue=s.child;ue!==null;){for(he=be=ue;be!==null;){switch(ce=be,xe=ce.child,ce.tag){case 0:case 11:case 14:case 15:rc(4,ce,ce.return);break;case 1:Na(ce,ce.return);var _e=ce.stateNode;if(typeof _e.componentWillUnmount=="function"){m=ce,u=ce.return;try{a=m,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(Se){At(m,u,Se)}}break;case 5:Na(ce,ce.return);break;case 22:if(ce.memoizedState!==null){i0(he);continue}}xe!==null?(xe.return=ce,be=xe):i0(he)}ue=ue.sibling}e:for(ue=null,he=s;;){if(he.tag===5){if(ue===null){ue=he;try{y=he.stateNode,Z?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(O=he.stateNode,z=he.memoizedProps.style,k=z!=null&&z.hasOwnProperty("display")?z.display:null,O.style.display=ps("display",k))}catch(Se){At(s,s.return,Se)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(Se){At(s,s.return,Se)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ss(a,s),Cs(s),m&4&&t0(s);break;case 21:break;default:ss(a,s),Cs(s)}}function Cs(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(Jx(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ot(y,""),m.flags&=-33);var b=Zx(s);_p(s,b,y);break;case 3:case 4:var k=m.stateNode.containerInfo,O=Zx(s);bp(s,O,k);break;default:throw Error(n(161))}}catch(z){At(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Gj(s,a,u){be=s,r0(s)}function r0(s,a,u){for(var m=(s.mode&1)!==0;be!==null;){var y=be,b=y.child;if(y.tag===22&&m){var k=y.memoizedState!==null||hd;if(!k){var O=y.alternate,z=O!==null&&O.memoizedState!==null||Cn;O=hd;var Z=Cn;if(hd=k,(Cn=z)&&!Z)for(be=y;be!==null;)k=be,z=k.child,k.tag===22&&k.memoizedState!==null?o0(y):z!==null?(z.return=k,be=z):o0(y);for(;b!==null;)be=b,r0(b),b=b.sibling;be=y,hd=O,Cn=Z}s0(s)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,be=b):s0(s)}}function s0(s){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||fd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Cn)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:ns(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&ix(a,b,m);break;case 3:var k=a.updateQueue;if(k!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}ix(a,k,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&Jr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Cn||a.flags&512&&xp(a)}catch(ce){At(a,a.return,ce)}}if(a===s){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function i0(s){for(;be!==null;){var a=be;if(a===s){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function o0(s){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{fd(4,a)}catch(z){At(a,u,z)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(z){At(a,y,z)}}var b=a.return;try{xp(a)}catch(z){At(a,b,z)}break;case 5:var k=a.return;try{xp(a)}catch(z){At(a,k,z)}}}catch(z){At(a,a.return,z)}if(a===s){be=null;break}var O=a.sibling;if(O!==null){O.return=a.return,be=O;break}be=a.return}}var Wj=Math.ceil,pd=U.ReactCurrentDispatcher,wp=U.ReactCurrentOwner,Mr=U.ReactCurrentBatchConfig,Ye=0,en=null,Bt=null,hn=0,vr=0,Da=ki(0),Kt=0,sc=null,So=0,md=0,Sp=0,ic=null,tr=null,Tp=0,Ma=1/0,Zs=null,gd=!1,jp=null,Di=null,yd=!1,Mi=null,vd=0,oc=0,Ep=null,xd=-1,bd=0;function Vn(){return(Ye&6)!==0?dt():xd!==-1?xd:xd=dt()}function Li(s){return(s.mode&1)===0?1:(Ye&2)!==0&&hn!==0?hn&-hn:Aj.transition!==null?(bd===0&&(bd=uo()),bd):(s=We,s!==0||(s=window.event,s=s===void 0?16:Dl(s.type)),s)}function is(s,a,u,m){if(50<oc)throw oc=0,Ep=null,Error(n(185));bi(s,u,m),((Ye&2)===0||s!==en)&&(s===en&&((Ye&2)===0&&(md|=u),Kt===4&&Fi(s,hn)),nr(s,m),u===1&&Ye===0&&(a.mode&1)===0&&(Ma=dt()+500,Ku&&Ii()))}function nr(s,a){var u=s.callbackNode;$s(s,a);var m=co(s,s===en?hn:0);if(m===0)u!==null&&Al(u),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(u!=null&&Al(u),a===1)s.tag===0?kj(l0.bind(null,s)):qv(l0.bind(null,s)),Tj(function(){(Ye&6)===0&&Ii()}),u=null;else{switch(wi(m)){case 1:u=ao;break;case 4:u=yi;break;case 16:u=kr;break;case 536870912:u=bu;break;default:u=kr}u=g0(u,a0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function a0(s,a){if(xd=-1,bd=0,(Ye&6)!==0)throw Error(n(327));var u=s.callbackNode;if(La()&&s.callbackNode!==u)return null;var m=co(s,s===en?hn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=_d(s,m);else{a=m;var y=Ye;Ye|=2;var b=u0();(en!==s||hn!==a)&&(Zs=null,Ma=dt()+500,jo(s,a));do try{Qj();break}catch(O){c0(s,O)}while(!0);Hf(),pd.current=b,Ye=y,Bt!==null?a=0:(en=null,hn=0,a=Kt)}if(a!==0){if(a===2&&(y=fr(s),y!==0&&(m=y,a=Cp(s,y))),a===1)throw u=sc,jo(s,0),Fi(s,m),nr(s,dt()),u;if(a===6)Fi(s,m);else{if(y=s.current.alternate,(m&30)===0&&!qj(y)&&(a=_d(s,m),a===2&&(b=fr(s),b!==0&&(m=b,a=Cp(s,b))),a===1))throw u=sc,jo(s,0),Fi(s,m),nr(s,dt()),u;switch(s.finishedWork=y,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Eo(s,tr,Zs);break;case 3:if(Fi(s,m),(m&130023424)===m&&(a=Tp+500-dt(),10<a)){if(co(s,0)!==0)break;if(y=s.suspendedLanes,(y&m)!==m){Vn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Nf(Eo.bind(null,s,tr,Zs),a);break}Eo(s,tr,Zs);break;case 4:if(Fi(s,m),(m&4194240)===m)break;for(a=s.eventTimes,y=-1;0<m;){var k=31-Mn(m);b=1<<k,k=a[k],k>y&&(y=k),m&=~b}if(m=y,m=dt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Wj(m/1960))-m,10<m){s.timeoutHandle=Nf(Eo.bind(null,s,tr,Zs),m);break}Eo(s,tr,Zs);break;case 5:Eo(s,tr,Zs);break;default:throw Error(n(329))}}}return nr(s,dt()),s.callbackNode===u?a0.bind(null,s):null}function Cp(s,a){var u=ic;return s.current.memoizedState.isDehydrated&&(jo(s,a).flags|=256),s=_d(s,a),s!==2&&(a=tr,tr=u,a!==null&&kp(a)),s}function kp(s){tr===null?tr=s:tr.push.apply(tr,s)}function qj(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],b=y.getSnapshot;y=y.value;try{if(!es(b(),y))return!1}catch(k){return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fi(s,a){for(a&=~Sp,a&=~md,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Mn(a),m=1<<u;s[u]=-1,a&=~m}}function l0(s){if((Ye&6)!==0)throw Error(n(327));La();var a=co(s,0);if((a&1)===0)return nr(s,dt()),null;var u=_d(s,a);if(s.tag!==0&&u===2){var m=fr(s);m!==0&&(a=m,u=Cp(s,m))}if(u===1)throw u=sc,jo(s,0),Fi(s,a),nr(s,dt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Eo(s,tr,Zs),nr(s,dt()),null}function Ap(s,a){var u=Ye;Ye|=1;try{return s(a)}finally{Ye=u,Ye===0&&(Ma=dt()+500,Ku&&Ii())}}function To(s){Mi!==null&&Mi.tag===0&&(Ye&6)===0&&La();var a=Ye;Ye|=1;var u=Mr.transition,m=We;try{if(Mr.transition=null,We=1,s)return s()}finally{We=m,Mr.transition=u,Ye=a,(Ye&6)===0&&Ii()}}function Ip(){vr=Da.current,vt(Da)}function jo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Sj(u)),Bt!==null)for(u=Bt.return;u!==null;){var m=u;switch(Bf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Wu();break;case 3:Ra(),vt(Jn),vt(Tn),Jf();break;case 5:Yf(m);break;case 4:Ra();break;case 13:vt(St);break;case 19:vt(St);break;case 10:Gf(m.type._context);break;case 22:case 23:Ip()}u=u.return}if(en=s,Bt=s=Vi(s.current,null),hn=vr=a,Kt=0,sc=null,Sp=md=So=0,tr=ic=null,bo!==null){for(a=0;a<bo.length;a++)if(u=bo[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,b=u.pending;if(b!==null){var k=b.next;b.next=y,m.next=k}u.pending=m}bo=null}return s}function c0(s,a){do{var u=Bt;try{if(Hf(),sd.current=ld,id){for(var m=Tt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}id=!1}if(wo=0,Zt=qt=Tt=null,Jl=!1,Zl=0,wp.current=null,u===null||u.return===null){Kt=1,sc=a,Bt=null;break}e:{var b=s,k=u.return,O=u,z=a;if(a=hn,O.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ue=O,he=ue.tag;if((ue.mode&1)===0&&(he===0||he===11||he===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var xe=Dx(k);if(xe!==null){xe.flags&=-257,Mx(xe,k,O,b,a),xe.mode&1&&Nx(b,Z,a),a=xe,z=Z;var _e=a.updateQueue;if(_e===null){var Se=new Set;Se.add(z),a.updateQueue=Se}else _e.add(z);break e}else{if((a&1)===0){Nx(b,Z,a),Rp();break e}z=Error(n(426))}}else if(bt&&O.mode&1){var Mt=Dx(k);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),Mx(Mt,k,O,b,a),Uf(Pa(z,O));break e}}b=z=Pa(z,O),Kt!==4&&(Kt=2),ic===null?ic=[b]:ic.push(b),b=k;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var X=Rx(b,z,a);sx(b,X);break e;case 1:O=z;var q=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Di===null||!Di.has(J)))){b.flags|=65536,a&=-a,b.lanes|=a;var pe=Px(b,O,a);sx(b,pe);break e}}b=b.return}while(b!==null)}h0(u)}catch(je){a=je,Bt===u&&u!==null&&(Bt=u=u.return);continue}break}while(!0)}function u0(){var s=pd.current;return pd.current=ld,s===null?ld:s}function Rp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||(So&268435455)===0&&(md&268435455)===0||Fi(en,hn)}function _d(s,a){var u=Ye;Ye|=2;var m=u0();(en!==s||hn!==a)&&(Zs=null,jo(s,a));do try{Kj();break}catch(y){c0(s,y)}while(!0);if(Hf(),Ye=u,pd.current=m,Bt!==null)throw Error(n(261));return en=null,hn=0,Kt}function Kj(){for(;Bt!==null;)d0(Bt)}function Qj(){for(;Bt!==null&&!vu();)d0(Bt)}function d0(s){var a=m0(s.alternate,s,vr);s.memoizedProps=s.pendingProps,a===null?h0(s):Bt=a,wp.current=null}function h0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=$j(u,a,vr),u!==null){Bt=u;return}}else{if(u=Uj(u,a),u!==null){u.flags&=32767,Bt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,Bt=null;return}}if(a=a.sibling,a!==null){Bt=a;return}Bt=a=s}while(a!==null);Kt===0&&(Kt=5)}function Eo(s,a,u){var m=We,y=Mr.transition;try{Mr.transition=null,We=1,Yj(s,a,u,m)}finally{Mr.transition=y,We=m}return null}function Yj(s,a,u,m){do La();while(Mi!==null);if((Ye&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=u.lanes|u.childLanes;if(at(s,b),s===en&&(Bt=en=null,hn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||yd||(yd=!0,g0(kr,function(){return La(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=Mr.transition,Mr.transition=null;var k=We;We=1;var O=Ye;Ye|=4,wp.current=null,Hj(s,u),n0(u,s),gj(Rf),Ti=!!If,Rf=If=null,s.current=u,Gj(u),pf(),Ye=O,We=k,Mr.transition=b}else s.current=u;if(yd&&(yd=!1,Mi=s,vd=y),b=s.pendingLanes,b===0&&(Di=null),_u(u.stateNode),nr(s,dt()),a!==null)for(m=s.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(gd)throw gd=!1,s=jp,jp=null,s;return(vd&1)!==0&&s.tag!==0&&La(),b=s.pendingLanes,(b&1)!==0?s===Ep?oc++:(oc=0,Ep=s):oc=0,Ii(),null}function La(){if(Mi!==null){var s=wi(vd),a=Mr.transition,u=We;try{if(Mr.transition=null,We=16>s?16:s,Mi===null)var m=!1;else{if(s=Mi,Mi=null,vd=0,(Ye&6)!==0)throw Error(n(331));var y=Ye;for(Ye|=4,be=s.current;be!==null;){var b=be,k=b.child;if((be.flags&16)!==0){var O=b.deletions;if(O!==null){for(var z=0;z<O.length;z++){var Z=O[z];for(be=Z;be!==null;){var ue=be;switch(ue.tag){case 0:case 11:case 15:rc(8,ue,b)}var he=ue.child;if(he!==null)he.return=ue,be=he;else for(;be!==null;){ue=be;var ce=ue.sibling,xe=ue.return;if(Xx(ue),ue===Z){be=null;break}if(ce!==null){ce.return=xe,be=ce;break}be=xe}}}var _e=b.alternate;if(_e!==null){var Se=_e.child;if(Se!==null){_e.child=null;do{var Mt=Se.sibling;Se.sibling=null,Se=Mt}while(Se!==null)}}be=b}}if((b.subtreeFlags&2064)!==0&&k!==null)k.return=b,be=k;else e:for(;be!==null;){if(b=be,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:rc(9,b,b.return)}var X=b.sibling;if(X!==null){X.return=b.return,be=X;break e}be=b.return}}var q=s.current;for(be=q;be!==null;){k=be;var J=k.child;if((k.subtreeFlags&2064)!==0&&J!==null)J.return=k,be=J;else e:for(k=q;be!==null;){if(O=be,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:fd(9,O)}}catch(je){At(O,O.return,je)}if(O===k){be=null;break e}var pe=O.sibling;if(pe!==null){pe.return=O.return,be=pe;break e}be=O.return}}if(Ye=y,Ii(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(lo,s)}catch(je){}m=!0}return m}finally{We=u,Mr.transition=a}}return!1}function f0(s,a,u){a=Pa(u,a),a=Rx(s,a,1),s=Pi(s,a,1),a=Vn(),s!==null&&(bi(s,1,a),nr(s,a))}function At(s,a,u){if(s.tag===3)f0(s,s,u);else for(;a!==null;){if(a.tag===3){f0(a,s,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Di===null||!Di.has(m))){s=Pa(u,s),s=Px(a,s,1),a=Pi(a,s,1),s=Vn(),a!==null&&(bi(a,1,s),nr(a,s));break}}a=a.return}}function Xj(s,a,u){var m=s.pingCache;m!==null&&m.delete(a),a=Vn(),s.pingedLanes|=s.suspendedLanes&u,en===s&&(hn&u)===u&&(Kt===4||Kt===3&&(hn&130023424)===hn&&500>dt()-Tp?jo(s,0):Sp|=u),nr(s,a)}function p0(s,a){a===0&&((s.mode&1)===0?a=1:(a=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var u=Vn();s=Ys(s,a),s!==null&&(bi(s,a,u),nr(s,u))}function Jj(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),p0(s,u)}function Zj(s,a){var u=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),p0(s,u)}var m0;m0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Jn.current)er=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return er=!1,Oj(s,a,u);er=(s.flags&131072)!==0}else er=!1,bt&&(a.flags&1048576)!==0&&Kv(a,Yu,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;dd(s,a),s=a.pendingProps;var y=Ta(a,Tn.current);Ia(a,u),y=tp(null,a,m,s,y,u);var b=np();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zn(m)?(b=!0,qu(a)):b=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Kf(a),y.updater=cd,a.stateNode=y,y._reactInternals=a,lp(a,m,s,u),a=hp(null,a,m,!0,b,u)):(a.tag=0,bt&&b&&Vf(a),Fn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(dd(s,a),s=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=tE(m),s=ns(m,s),y){case 0:a=dp(null,a,m,s,u);break e;case 1:a=$x(null,a,m,s,u);break e;case 11:a=Lx(null,a,m,s,u);break e;case 14:a=Fx(null,a,m,ns(m.type,s),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ns(m,y),dp(s,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ns(m,y),$x(s,a,m,y,u);case 3:e:{if(Ux(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,y=b.element,rx(s,a),nd(a,m,null,u);var k=a.memoizedState;if(m=k.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){y=Pa(Error(n(423)),a),a=zx(s,a,m,u,y);break e}else if(m!==y){y=Pa(Error(n(424)),a),a=zx(s,a,m,u,y);break e}else for(yr=Ci(a.stateNode.containerInfo.firstChild),gr=a,bt=!0,ts=null,u=tx(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),m===y){a=Js(s,a,u);break e}Fn(s,a,m,u)}a=a.child}return a;case 5:return ox(a),s===null&&$f(a),m=a.type,y=a.pendingProps,b=s!==null?s.memoizedProps:null,k=y.children,Pf(m,y)?k=null:b!==null&&Pf(m,b)&&(a.flags|=32),Ox(s,a),Fn(s,a,k,u),a.child;case 6:return s===null&&$f(a),null;case 13:return Hx(s,a,u);case 4:return Qf(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=ka(a,null,m,u):Fn(s,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ns(m,y),Lx(s,a,m,y,u);case 7:return Fn(s,a,a.pendingProps,u),a.child;case 8:return Fn(s,a,a.pendingProps.children,u),a.child;case 12:return Fn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,b=a.memoizedProps,k=y.value,ht(Zu,m._currentValue),m._currentValue=k,b!==null)if(es(b.value,k)){if(b.children===y.children&&!Jn.current){a=Js(s,a,u);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var O=b.dependencies;if(O!==null){k=b.child;for(var z=O.firstContext;z!==null;){if(z.context===m){if(b.tag===1){z=Xs(-1,u&-u),z.tag=2;var Z=b.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?z.next=z:(z.next=ue.next,ue.next=z),Z.pending=z}}b.lanes|=u,z=b.alternate,z!==null&&(z.lanes|=u),Wf(b.return,u,a),O.lanes|=u;break}z=z.next}}else if(b.tag===10)k=b.type===a.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=u,O=k.alternate,O!==null&&(O.lanes|=u),Wf(k,u,a),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===a){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}Fn(s,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ia(a,u),y=Nr(y),m=m(y),a.flags|=1,Fn(s,a,m,u),a.child;case 14:return m=a.type,y=ns(m,a.pendingProps),y=ns(m.type,y),Fx(s,a,m,y,u);case 15:return Vx(s,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ns(m,y),dd(s,a),a.tag=1,Zn(m)?(s=!0,qu(a)):s=!1,Ia(a,u),Ax(a,m,y),lp(a,m,y,u),hp(null,a,m,!0,s,u);case 19:return Wx(s,a,u);case 22:return Bx(s,a,u)}throw Error(n(156,a.tag))};function g0(s,a){return ra(s,a)}function eE(s,a,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(s,a,u,m){return new eE(s,a,u,m)}function Pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tE(s){if(typeof s=="function")return Pp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===K)return 14}return 2}function Vi(s,a){var u=s.alternate;return u===null?(u=Lr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function wd(s,a,u,m,y,b){var k=2;if(m=s,typeof s=="function")Pp(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case E:return Co(u.children,y,b,a);case T:k=8,y|=8;break;case I:return s=Lr(12,u,a,y|2),s.elementType=I,s.lanes=b,s;case N:return s=Lr(13,u,a,y),s.elementType=N,s.lanes=b,s;case fe:return s=Lr(19,u,a,y),s.elementType=fe,s.lanes=b,s;case ne:return Sd(u,y,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:k=10;break e;case L:k=9;break e;case V:k=11;break e;case K:k=14;break e;case re:k=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Lr(k,u,a,y),a.elementType=s,a.type=m,a.lanes=b,a}function Co(s,a,u,m){return s=Lr(7,s,m,a),s.lanes=u,s}function Sd(s,a,u,m){return s=Lr(22,s,m,a),s.elementType=ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Np(s,a,u){return s=Lr(6,s,null,a),s.lanes=u,s}function Dp(s,a,u){return a=Lr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function nE(s,a,u,m,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Mp(s,a,u,m,y,b,k,O,z){return s=new nE(s,a,u,O,z),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Lr(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(b),s}function rE(s,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:s,containerInfo:a,implementation:u}}function y0(s){if(!s)return Ai;s=s._reactInternals;e:{if(qr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Zn(u))return Gv(s,u,a)}return a}function v0(s,a,u,m,y,b,k,O,z){return s=Mp(u,m,!0,s,y,b,k,O,z),s.context=y0(null),u=s.current,m=Vn(),y=Li(u),b=Xs(m,y),b.callback=a!=null?a:null,Pi(u,b,y),s.current.lanes=y,bi(s,y,m),nr(s,m),s}function Td(s,a,u,m){var y=a.current,b=Vn(),k=Li(y);return u=y0(u),a.context===null?a.context=u:a.pendingContext=u,a=Xs(b,k),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Pi(y,a,k),s!==null&&(is(s,y,k,b),td(s,y,k)),k}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function x0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Lp(s,a){x0(s,a),(s=s.alternate)&&x0(s,a)}function sE(){return null}var b0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Fp(s){this._internalRoot=s}Ed.prototype.render=Fp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Td(s,a,null,null)},Ed.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;To(function(){Td(null,s,null,null)}),a[Ws]=null}};function Ed(s){this._internalRoot=s}Ed.prototype.unstable_scheduleHydration=function(s){if(s){var a=Eu();s={blockedOn:null,target:s,priority:a};for(var u=0;u<bs.length&&a!==0&&a<bs[u].priority;u++);bs.splice(u,0,s),u===0&&Au(s)}};function Vp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _0(){}function iE(s,a,u,m,y){if(y){if(typeof m=="function"){var b=m;m=function(){var Z=jd(k);b.call(Z)}}var k=v0(a,m,s,0,null,!1,!1,"",_0);return s._reactRootContainer=k,s[Ws]=k.current,Hl(s.nodeType===8?s.parentNode:s),To(),k}for(;y=s.lastChild;)s.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var Z=jd(z);O.call(Z)}}var z=Mp(s,0,!1,null,null,!1,!1,"",_0);return s._reactRootContainer=z,s[Ws]=z.current,Hl(s.nodeType===8?s.parentNode:s),To(function(){Td(a,z,u,m)}),z}function kd(s,a,u,m,y){var b=u._reactRootContainer;if(b){var k=b;if(typeof y=="function"){var O=y;y=function(){var z=jd(k);O.call(z)}}Td(a,k,s,y)}else k=iE(u,a,s,y,m);return jd(k)}Tu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=vi(a.pendingLanes);u!==0&&(_i(a,u|1),nr(a,dt()),(Ye&6)===0&&(Ma=dt()+500,Ii()))}break;case 13:To(function(){var m=Ys(s,1);if(m!==null){var y=Vn();is(m,s,1,y)}}),Lp(s,1)}},oa=function(s){if(s.tag===13){var a=Ys(s,134217728);if(a!==null){var u=Vn();is(a,s,134217728,u)}Lp(s,134217728)}},ju=function(s){if(s.tag===13){var a=Li(s),u=Ys(s,a);if(u!==null){var m=Vn();is(u,s,a,m)}Lp(s,a)}},Eu=function(){return We},Cu=function(s,a){var u=We;try{return We=s,a()}finally{We=u}},Hr=function(s,a,u){switch(a){case"input":if(it(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==s&&m.form===s.form){var y=Gu(m);if(!y)throw Error(n(90));Xt(m),it(m,y)}}}break;case"textarea":Kn(s,u);break;case"select":a=u.value,a!=null&&ln(s,!!u.multiple,a,!1)}},ro=Ap,jl=To;var oE={usingClientEntryPoint:!1,Events:[ql,wa,Gu,vs,Tl,Ap]},ac={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aE={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||sE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{lo=Ad.inject(aE),hr=Ad}catch(s){}}return rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oE,rr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(a))throw Error(n(200));return rE(s,a,null,u)},rr.createRoot=function(s,a){if(!Vp(s))throw Error(n(299));var u=!1,m="",y=b0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Mp(s,1,!1,null,null,u,!1,m,y),s[Ws]=a.current,Hl(s.nodeType===8?s.parentNode:s),new Fp(a)},rr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=kl(a),s=s===null?null:s.stateNode,s},rr.flushSync=function(s){return To(s)},rr.hydrate=function(s,a,u){if(!Cd(a))throw Error(n(200));return kd(null,s,a,!0,u)},rr.hydrateRoot=function(s,a,u){if(!Vp(s))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,b="",k=b0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),a=v0(a,null,s,1,u!=null?u:null,y,!1,b,k),s[Ws]=a.current,Hl(s),m)for(s=0;s<m.length;s++)u=m[s],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Ed(a)},rr.render=function(s,a,u){if(!Cd(a))throw Error(n(200));return kd(null,s,a,!1,u)},rr.unmountComponentAtNode=function(s){if(!Cd(s))throw Error(n(40));return s._reactRootContainer?(To(function(){kd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ws]=null})}),!0):!1},rr.unstable_batchedUpdates=Ap,rr.unstable_renderSubtreeIntoContainer=function(s,a,u,m){if(!Cd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return kd(s,a,u,!1,m)},rr.version="18.3.1-next-f1338f8080-20240426",rr}var A0;function V_(){if(A0)return $p.exports;A0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$p.exports=pE(),$p.exports}var I0;function mE(){if(I0)return Id;I0=1;var t=V_();return Id.createRoot=t.createRoot,Id.hydrateRoot=t.hydrateRoot,Id}var gE=mE();const yE=Ng(gE);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R0="popstate";function vE(t={}){function e(i,l){let{pathname:c="/",search:d="",hash:f=""}=Ko(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Bm("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:Dc(l))}function r(i,l){wr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return bE(e,n,r,t)}function wt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function wr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function xE(){return Math.random().toString(36).substring(2,10)}function P0(t,e){return{usr:t.state,key:t.key,idx:e}}function Bm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:n,key:e&&e.key||r||xE()}}function Dc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function bE(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,d="POP",f=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let j=g(),D=j==null?null:j-p;p=j,f&&f({action:d,location:A.location,delta:D})}function _(j,D){d="PUSH";let B=Bm(A.location,j,D);n&&n(B,j),p=g()+1;let F=P0(B,p),U=A.createHref(B);try{c.pushState(F,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}l&&f&&f({action:d,location:A.location,delta:1})}function S(j,D){d="REPLACE";let B=Bm(A.location,j,D);n&&n(B,j),p=g();let F=P0(B,p),U=A.createHref(B);c.replaceState(F,"",U),l&&f&&f({action:d,location:A.location,delta:0})}function C(j){return _E(j)}let A={get action(){return d},get location(){return t(i,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(R0,v),f=j,()=>{i.removeEventListener(R0,v),f=null}},createHref(j){return e(i,j)},createURL:C,encodeLocation(j){let D=C(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:S,go(j){return c.go(j)}};return A}function _E(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Dc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function B_(t,e,n="/"){return wE(t,e,n,!1)}function wE(t,e,n,r){let i=typeof e=="string"?Ko(e):e,l=ci(i.pathname||"/",n);if(l==null)return null;let c=O_(t);SE(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=DE(l);d=PE(c[f],p,r)}return d}function O_(t,e=[],n=[],r="",i=!1){let l=(c,d,f=i,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;wt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ai([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),O_(c.children,e,_,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:IE(v,c.index),routesMeta:_})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of $_(c.path))l(c,d,!0,p)}),e}function $_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=$_(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function SE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var TE=/^:[\w-]+$/,jE=3,EE=2,CE=1,kE=10,AE=-2,N0=t=>t==="*";function IE(t,e){let n=t.split("/"),r=n.length;return n.some(N0)&&(r+=AE),e&&(r+=EE),n.filter(i=>!N0(i)).reduce((i,l)=>i+(TE.test(l)?jE:l===""?CE:kE),r)}function RE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PE(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:ai([l,v.pathname]),pathnameBase:VE(ai([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=ai([l,v.pathnameBase]))}return c}function hh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let C=d[_]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[_];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function NE(t,e=!1,n=!0){wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ME(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ko(t):t;return{pathname:n?n.startsWith("/")?n:LE(n,e):e,search:BE(r),hash:OE(i)}}function LE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mg(t){let e=FE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lg(t,e,n,r=!1){let i;typeof t=="string"?i=Ko(t):(i={...t},wt(!i.pathname||!i.pathname.includes("?"),Hp("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Hp("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Hp("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}d=v>=0?e[v]:"/"}let f=ME(i,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ai=t=>t.join("/").replace(/\/\/+/g,"/"),VE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $E(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var U_=["POST","PUT","PATCH","DELETE"];new Set(U_);var UE=["GET",...U_];new Set(UE);var pl=R.createContext(null);pl.displayName="DataRouter";var Mh=R.createContext(null);Mh.displayName="DataRouterState";R.createContext(!1);var z_=R.createContext({isTransitioning:!1});z_.displayName="ViewTransition";var zE=R.createContext(new Map);zE.displayName="Fetchers";var HE=R.createContext(null);HE.displayName="Await";var hs=R.createContext(null);hs.displayName="Navigation";var Xc=R.createContext(null);Xc.displayName="Location";var Ur=R.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var Fg=R.createContext(null);Fg.displayName="RouteError";function GE(t,{relative:e}={}){wt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(hs),{hash:i,pathname:l,search:c}=Jc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ai([n,l])),r.createHref({pathname:d,search:c,hash:i})}function ml(){return R.useContext(Xc)!=null}function Tr(){return wt(ml(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Xc).location}var H_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G_(t){R.useContext(hs).static||R.useLayoutEffect(t)}function Zi(){let{isDataRoute:t}=R.useContext(Ur);return t?oC():WE()}function WE(){wt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(pl),{basename:e,navigator:n}=R.useContext(hs),{matches:r}=R.useContext(Ur),{pathname:i}=Tr(),l=JSON.stringify(Mg(r)),c=R.useRef(!1);return G_(()=>{c.current=!0}),R.useCallback((f,p={})=>{if(wr(c.current,H_),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=Lg(f,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ai([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,i,t])}var qE=R.createContext(null);function KE(t){let e=R.useContext(Ur).outlet;return e&&R.createElement(qE.Provider,{value:t},e)}function Vg(){let{matches:t}=R.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function Jc(t,{relative:e}={}){let{matches:n}=R.useContext(Ur),{pathname:r}=Tr(),i=JSON.stringify(Mg(n));return R.useMemo(()=>Lg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function QE(t,e){return W_(t,e)}function W_(t,e,n,r,i){var B;wt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(hs),{matches:c}=R.useContext(Ur),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let F=v&&v.path||"";q_(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Tr(),S;if(e){let F=typeof e=="string"?Ko(e):e;wt(g==="/"||((B=F.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=_;let C=S.pathname||"/",A=C;if(g!=="/"){let F=g.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let j=B_(t,{pathname:A});wr(v||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),wr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=eC(j&&j.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:ai([g,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:ai([g,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,n,r,i);return e&&D?R.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},D):D}function YE(){let t=iC(),e=$E(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,c)}var XE=R.createElement(YE,null),JE=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Ur.Provider,{value:this.props.routeContext},R.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZE({routeContext:t,match:e,children:n}){let r=R.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Ur.Provider,{value:t},n)}function eC(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:_}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let _,S=!1,C=null,A=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||XE,d&&(f<0&&v===0?(q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):f===v&&(S=!0,A=g.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,v+1)),D=()=>{let B;return _?B=C:S?B=A:g.route.Component?B=R.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,R.createElement(ZE,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?R.createElement(JE,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):D()},null)}function Bg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(t){let e=R.useContext(pl);return wt(e,Bg(t)),e}function nC(t){let e=R.useContext(Mh);return wt(e,Bg(t)),e}function rC(t){let e=R.useContext(Ur);return wt(e,Bg(t)),e}function Og(t){let e=rC(t),n=e.matches[e.matches.length-1];return wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sC(){return Og("useRouteId")}function iC(){var r;let t=R.useContext(Fg),e=nC("useRouteError"),n=Og("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function oC(){let{router:t}=tC("useNavigate"),e=Og("useNavigate"),n=R.useRef(!1);return G_(()=>{n.current=!0}),R.useCallback(async(i,l={})=>{wr(n.current,H_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var D0={};function q_(t,e,n){!e&&!D0[t]&&(D0[t]=!0,wr(!1,n))}R.memo(aC);function aC({routes:t,future:e,state:n,unstable_onError:r}){return W_(t,void 0,n,r,e)}function Gp({to:t,replace:e,state:n,relative:r}){wt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(hs);wr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(Ur),{pathname:c}=Tr(),d=Zi(),f=Lg(t,Mg(l),c,r==="path"),p=JSON.stringify(f);return R.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function K_(t){return KE(t.context)}function se(t){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){wt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof n=="string"&&(n=Ko(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,S=R.useMemo(()=>{let C=ci(f,c);return C==null?null:{location:{pathname:C,search:p,hash:g,state:v,key:_},navigationType:r}},[c,f,p,g,v,_,r]);return wr(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(hs.Provider,{value:d},R.createElement(Xc.Provider,{children:e,value:S}))}function cC({children:t,location:e}){return QE(Om(t),e)}function Om(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let l=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Om(r.props.children,l));return}wt(r.type===se,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Om(r.props.children,l)),n.push(c)}),n}var Jd="get",Zd="application/x-www-form-urlencoded";function Lh(t){return t!=null&&typeof t.tagName=="string"}function uC(t){return Lh(t)&&t.tagName.toLowerCase()==="button"}function dC(t){return Lh(t)&&t.tagName.toLowerCase()==="form"}function hC(t){return Lh(t)&&t.tagName.toLowerCase()==="input"}function fC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pC(t,e){return t.button===0&&(!e||e==="_self")&&!fC(t)}function $m(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function mC(t,e){let n=$m(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var Rd=null;function gC(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch(t){Rd=!0}return Rd}var yC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(t){return t!=null&&!yC.has(t)?(wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):t}function vC(t,e){let n,r,i,l,c;if(dC(t)){let d=t.getAttribute("action");r=d?ci(d,e):null,n=t.getAttribute("method")||Jd,i=Wp(t.getAttribute("enctype"))||Zd,l=new FormData(t)}else if(uC(t)||hC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ci(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Jd,i=Wp(t.getAttribute("formenctype"))||Wp(d.getAttribute("enctype"))||Zd,l=new FormData(d,t),!gC()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,v)}}else{if(Lh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jd,r=null,i=Zd,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function xC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ci(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function bC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _C(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wC(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await bC(l,n);return c.links?c.links():[]}return[]}));return EC(r.flat(1).filter(_C).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function M0(t,e,n,r,i,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function SC(t,e,{includeHydrateFallback:n}={}){return TC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function TC(t){return[...new Set(t)]}function jC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function EC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(jC(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function Q_(){let t=R.useContext(pl);return $g(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CC(){let t=R.useContext(Mh);return $g(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ug=R.createContext(void 0);Ug.displayName="FrameworkContext";function Y_(){let t=R.useContext(Ug);return $g(t,"You must render this element inside a <HydratedRouter> element"),t}function kC(t,e){let n=R.useContext(Ug),[r,i]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=D=>{D.forEach(B=>{c(B.isIntersecting)})},j=new IntersectionObserver(A,{threshold:.5});return _.current&&j.observe(_.current),()=>{j.disconnect()}}},[t]),R.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{i(!0)},C=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:cc(d,S),onBlur:cc(f,C),onMouseEnter:cc(p,S),onMouseLeave:cc(g,C),onTouchStart:cc(v,S)}]:[!1,_,{}]}function cc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AC({page:t,...e}){let{router:n}=Q_(),r=R.useMemo(()=>B_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(RC,{page:t,matches:r,...e}):null}function IC(t){let{manifest:e,routeModules:n}=Y_(),[r,i]=R.useState([]);return R.useEffect(()=>{let l=!1;return wC(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),r}function RC({page:t,matches:e,...n}){let r=Tr(),{manifest:i,routeModules:l}=Y_(),{basename:c}=Q_(),{loaderData:d,matches:f}=CC(),p=R.useMemo(()=>M0(t,e,f,i,r,"data"),[t,e,f,i,r]),g=R.useMemo(()=>M0(t,e,f,i,r,"assets"),[t,e,f,i,r]),v=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,A=!1;if(e.forEach(D=>{var F;let B=i.routes[D.route.id];!B||!B.hasLoader||(!p.some(U=>U.route.id===D.route.id)&&D.route.id in d&&((F=l[D.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?A=!0:C.add(D.route.id))}),C.size===0)return[];let j=xC(t,c,"data");return A&&C.size>0&&j.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[c,d,r,i,p,e,t,l]),_=R.useMemo(()=>SC(g,i),[g,i]),S=IC(g);return R.createElement(R.Fragment,null,v.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),_.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:A})=>R.createElement("link",{key:C,nonce:n.nonce,...A})))}function PC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var X_=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{X_&&(window.__reactRouterVersion="7.9.1")}catch(t){}function NC({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=vE({window:n,v5Compat:!0}));let i=r.current,[l,c]=R.useState({action:i.action,location:i.location}),d=R.useCallback(f=>{R.startTransition(()=>c(f))},[c]);return R.useLayoutEffect(()=>i.listen(d),[i,d]),R.createElement(lC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:g,viewTransition:v,..._},S){let{basename:C}=R.useContext(hs),A=typeof p=="string"&&J_.test(p),j,D=!1;if(typeof p=="string"&&A&&(j=p,X_))try{let I=new URL(window.location.href),M=p.startsWith("//")?new URL(I.protocol+p):new URL(p),L=ci(M.pathname,C);M.origin===I.origin&&L!=null?p=L+M.search+M.hash:D=!0}catch(I){wr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=GE(p,{relative:i}),[F,U,$]=kC(r,_),W=LC(p,{replace:c,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:v});function E(I){e&&e(I),I.defaultPrevented||W(I)}let T=R.createElement("a",{..._,...$,href:j||B,onClick:D||l?e:E,ref:PC(S,U),target:f,"data-discover":!A&&n==="render"?"true":void 0});return F&&!A?R.createElement(R.Fragment,null,T,R.createElement(AC,{page:B})):T});Un.displayName="Link";var xr=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:d,children:f,...p},g){let v=Jc(c,{relative:p.relative}),_=Tr(),S=R.useContext(Mh),{navigator:C,basename:A}=R.useContext(hs),j=S!=null&&$C(v)&&d===!0,D=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,B=_.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&A&&(F=ci(F,A)||F);const U=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=B===D||!i&&B.startsWith(D)&&B.charAt(U)==="/",W=F!=null&&(F===D||!i&&F.startsWith(D)&&F.charAt(D.length)==="/"),E={isActive:$,isPending:W,isTransitioning:j},T=$?e:void 0,I;typeof r=="function"?I=r(E):I=[r,$?"active":null,W?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(E):l;return R.createElement(Un,{...p,"aria-current":T,className:I,ref:g,style:M,to:c,viewTransition:d},typeof f=="function"?f(E):f)});xr.displayName="NavLink";var DC=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:c=Jd,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,..._},S)=>{let C=BC(),A=OC(d,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&J_.test(d),B=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||c;C(U||F.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return R.createElement("form",{ref:S,method:j,action:A,onSubmit:r?f:B,..._,"data-discover":!D&&t==="render"?"true":void 0})});DC.displayName="Form";function MC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z_(t){let e=R.useContext(pl);return wt(e,MC(t)),e}function LC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}={}){let d=Zi(),f=Tr(),p=Jc(t,{relative:l});return R.useCallback(g=>{if(pC(g,e)){g.preventDefault();let v=n!==void 0?n:Dc(f)===Dc(p);d(t,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[f,d,p,n,r,e,t,i,l,c])}function Fh(t){wr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef($m(t)),n=R.useRef(!1),r=Tr(),i=R.useMemo(()=>mC(r.search,n.current?null:e.current),[r.search]),l=Zi(),c=R.useCallback((d,f)=>{const p=$m(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,l("?"+p,f)},[l,i]);return[i,c]}var FC=0,VC=()=>`__${String(++FC)}__`;function BC(){let{router:t}=Z_("useSubmit"),{basename:e}=R.useContext(hs),n=sC();return R.useCallback(async(r,i={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=vC(r,e);if(i.navigate===!1){let g=i.fetcherKey||VC();await t.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function OC(t,{relative:e}={}){let{basename:n}=R.useContext(hs),r=R.useContext(Ur);wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Jc(t||".",{relative:e})},c=Tr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ai([n,l.pathname])),Dc(l)}function $C(t,{relative:e}={}){let n=R.useContext(z_);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Z_("useViewTransitionState"),i=Jc(t,{relative:e});if(!n.isTransitioning)return!1;let l=ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hh(i.pathname,c)!=null||hh(i.pathname,l)!=null}var UC=V_();const zC=Ng(UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),L0=t=>{const e=GC(t);return e.charAt(0).toUpperCase()+e.slice(1)},ew=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),WC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...d},f)=>R.createElement("svg",{ref:f,...qC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ew("lucide",i),...!l&&!WC(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>R.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const n=R.forwardRef(({className:r,...i},l)=>R.createElement(KC,{ref:l,iconNode:e,className:ew(`lucide-${HC(L0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=L0(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Vh=Pt("aperture",QC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],XC=Pt("bell",YC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ZC=Pt("book-open",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tk=Pt("chevron-right",ek);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rk=Pt("compass",nk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],tw=Pt("diamond",sk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],ok=Pt("folder-search",ik);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lk=Pt("globe",ak);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],nw=Pt("hexagon",ck);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dk=Pt("house",uk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],fk=Pt("layers",hk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mk=Pt("layout-dashboard",pk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],yk=Pt("messages-square",gk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],xk=Pt("pin-off",vk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],_k=Pt("pin",bk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sk=Pt("settings",wk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],rw=Pt("shapes",Tk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zc=Pt("shield",jk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ck=Pt("star",Ek);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ak=Pt("trophy",kk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rk=Pt("upload",Ik);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sw=Pt("zap",Pk),Nk="_topbar_1rfl9_3",Dk="_topbarLeft_1rfl9_39",Mk="_searchWrap_1rfl9_55",Lk="_topbarRight_1rfl9_109",Fk="_ico_1rfl9_125",Vk="_btnIco_1rfl9_139",Bk="_pill_1rfl9_173",Ok="_onlyExpanded_1rfl9_195",$k="_upload_1rfl9_201",Uk="_label_1rfl9_231",zk="_avatarBtn_1rfl9_237",Hk="_avatar_1rfl9_237",kn={topbar:Nk,topbarLeft:Dk,searchWrap:Mk,topbarRight:Lk,ico:Fk,btnIco:Vk,pill:Bk,onlyExpanded:Ok,upload:$k,label:Uk,avatarBtn:zk,avatar:Hk},iw=R.createContext(null);function Gk({children:t,role:e}){const[n,r]=R.useState(!1),[i,l]=R.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=R.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),f=R.useCallback(()=>r(!1),[]),p=R.useMemo(()=>({isOpen:n,open:d,close:f,activeTab:i,setTab:l,canUse:c}),[n,d,f,i,c]);return o.jsx(iw.Provider,{value:p,children:t})}function ow(){const t=R.useContext(iw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,S=p&63;f||(S=64,c||(_=64)),r.push(n[g],n[v],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||d==null||p==null||v==null)throw new qk;const _=l<<2|d>>4;if(r.push(_),p!==64){const S=d<<4&240|p>>2;if(r.push(S),v!==64){const C=p<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kk=function(t){const e=aw(t);return lw.encodeByteArray(e,!0)},fh=function(t){return Kk(t).replace(/\./g,"")},Qk=function(t){try{return lw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=()=>Yk().__FIREBASE_DEFAULTS__,Jk=()=>{if(typeof process=="undefined"||typeof F0=="undefined")return;const t=F0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zk=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Qk(t[1]);return e&&JSON.parse(e)},zg=()=>{try{return Xk()||Jk()||Zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eA=t=>{var e,n;return(n=(e=zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tA=t=>{const e=eA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cw=()=>{var t;return(t=zg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fh(JSON.stringify(n)),fh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){var t;const e=(t=zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function oA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch(t){return!1}}function lA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class gl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cA,Object.setPrototypeOf(this,gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uw.prototype.create)}}class uw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?uA(l,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new gl(i,d,r)}}function uA(t,e){return t.replace(dA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dA=/\{\$([^}]+)}/g;function Um(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],c=e[i];if(V0(l)&&V0(c)){if(!Um(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){return t&&t._delegate?t._delegate:t}class Mc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pA(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch(l){}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(t){return t===Lo?void 0:t}function pA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const gA={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},yA=Xe.INFO,vA={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},xA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dw{constructor(e){this.name=e,this._logLevel=yA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const bA=(t,e)=>e.some(n=>t instanceof n);let B0,O0;function _A(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,zm=new WeakMap,fw=new WeakMap,qp=new WeakMap,Hg=new WeakMap;function SA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Gi(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&hw.set(n,t)}).catch(()=>{}),Hg.set(e,t),e}function TA(t){if(zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});zm.set(t,e)}let Hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jA(t){Hm=t(Hm)}function EA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return fw.set(r,e.sort?e.sort():[e]),Gi(r)}:wA().includes(t)?function(...e){return t.apply(Kp(this),e),Gi(hw.get(this))}:function(...e){return Gi(t.apply(Kp(this),e))}}function CA(t){return typeof t=="function"?EA(t):(t instanceof IDBTransaction&&TA(t),bA(t,_A())?new Proxy(t,Hm):t)}function Gi(t){if(t instanceof IDBRequest)return SA(t);if(qp.has(t))return qp.get(t);const e=CA(t);return e!==t&&(qp.set(t,e),Hg.set(e,t)),e}const Kp=t=>Hg.get(t);function kA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(t,e),d=Gi(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Gi(c.result),f.oldVersion,f.newVersion,Gi(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const AA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Qp=new Map;function $0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AA.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return Qp.set(e,l),l}jA(t=>({...t,get:(e,n,r)=>$0(e,n)||t.get(e,n,r),has:(e,n)=>!!$0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",U0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new dw("@firebase/app"),NA="@firebase/app-compat",DA="@firebase/analytics-compat",MA="@firebase/analytics",LA="@firebase/app-check-compat",FA="@firebase/app-check",VA="@firebase/auth",BA="@firebase/auth-compat",OA="@firebase/database",$A="@firebase/data-connect",UA="@firebase/database-compat",zA="@firebase/functions",HA="@firebase/functions-compat",GA="@firebase/installations",WA="@firebase/installations-compat",qA="@firebase/messaging",KA="@firebase/messaging-compat",QA="@firebase/performance",YA="@firebase/performance-compat",XA="@firebase/remote-config",JA="@firebase/remote-config-compat",ZA="@firebase/storage",eI="@firebase/storage-compat",tI="@firebase/firestore",nI="@firebase/vertexai-preview",rI="@firebase/firestore-compat",sI="firebase",iI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",oI={[Gm]:"fire-core",[NA]:"fire-core-compat",[MA]:"fire-analytics",[DA]:"fire-analytics-compat",[FA]:"fire-app-check",[LA]:"fire-app-check-compat",[VA]:"fire-auth",[BA]:"fire-auth-compat",[OA]:"fire-rtdb",[$A]:"fire-data-connect",[UA]:"fire-rtdb-compat",[zA]:"fire-fn",[HA]:"fire-fn-compat",[GA]:"fire-iid",[WA]:"fire-iid-compat",[qA]:"fire-fcm",[KA]:"fire-fcm-compat",[QA]:"fire-perf",[YA]:"fire-perf-compat",[XA]:"fire-rc",[JA]:"fire-rc-compat",[ZA]:"fire-gcs",[eI]:"fire-gcs-compat",[tI]:"fire-fst",[rI]:"fire-fst-compat",[nI]:"fire-vertex","fire-js":"fire-js",[sI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,aI=new Map,qm=new Map;function z0(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ph(t){const e=t.name;if(qm.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const n of Lc.values())z0(n,t);for(const n of aI.values())z0(n,t);return!0}function lI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new uw("app","Firebase",cI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=iI;function pw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=cw()),!n)throw Wi.create("no-options");const l=Lc.get(i);if(l){if(Um(n,l.options)&&Um(r,l.config))return l;throw Wi.create("duplicate-app",{appName:i})}const c=new mA(i);for(const f of qm.values())c.addComponent(f);const d=new uI(n,r,c);return Lc.set(i,d),d}function mw(t=Wm){const e=Lc.get(t);if(!e&&t===Wm&&cw())return pw();if(!e)throw Wi.create("no-app",{appName:t});return e}function hI(){return Array.from(Lc.values())}function Ja(t,e,n){var r;let i=(r=oI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${i}" with version "${e}":`];l&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(d.join(" "));return}ph(new Mc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebase-heartbeat-database",pI=1,Fc="firebase-heartbeat-store";let Yp=null;function gw(){return Yp||(Yp=kA(fI,pI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function mI(t){try{const n=(await gw()).transaction(Fc),r=await n.objectStore(Fc).get(yw(t));return await n.done,r}catch(e){if(e instanceof gl)ui.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function H0(t,e){try{const r=(await gw()).transaction(Fc,"readwrite");await r.objectStore(Fc).put(e,yw(t)),await r.done}catch(n){if(n instanceof gl)ui.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(r.message)}}}function yw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=720*60*60*1e3;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=G0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=yI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G0(),{heartbeatsToSend:r,unsentEntries:i}=xI(this._heartbeatsCache.heartbeats),l=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return ui.warn(n),""}}}function G0(){return new Date().toISOString().substring(0,10)}function xI(t,e=gI){const n=[];let r=t.slice();for(const i of t){const l=n.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),W0(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W0(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){ph(new Mc("platform-logger",e=>new RA(e),"PRIVATE")),ph(new Mc("heartbeat",e=>new vI(e),"PRIVATE")),Ja(Gm,U0,t),Ja(Gm,U0,"esm2017"),Ja("fire-js","")}_I("");var q0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uo,vw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function I(){}I.prototype=T.prototype,E.D=T.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(M,L,V){for(var N=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)N[fe-2]=arguments[fe];return T.prototype[L].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,I){I||(I=0);var M=Array(16);if(typeof T=="string")for(var L=0;16>L;++L)M[L]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(L=0;16>L;++L)M[L]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=E.g[0],I=E.g[1],L=E.g[2];var V=E.g[3],N=T+(V^I&(L^V))+M[0]+3614090360&4294967295;T=I+(N<<7&4294967295|N>>>25),N=V+(L^T&(I^L))+M[1]+3905402710&4294967295,V=T+(N<<12&4294967295|N>>>20),N=L+(I^V&(T^I))+M[2]+606105819&4294967295,L=V+(N<<17&4294967295|N>>>15),N=I+(T^L&(V^T))+M[3]+3250441966&4294967295,I=L+(N<<22&4294967295|N>>>10),N=T+(V^I&(L^V))+M[4]+4118548399&4294967295,T=I+(N<<7&4294967295|N>>>25),N=V+(L^T&(I^L))+M[5]+1200080426&4294967295,V=T+(N<<12&4294967295|N>>>20),N=L+(I^V&(T^I))+M[6]+2821735955&4294967295,L=V+(N<<17&4294967295|N>>>15),N=I+(T^L&(V^T))+M[7]+4249261313&4294967295,I=L+(N<<22&4294967295|N>>>10),N=T+(V^I&(L^V))+M[8]+1770035416&4294967295,T=I+(N<<7&4294967295|N>>>25),N=V+(L^T&(I^L))+M[9]+2336552879&4294967295,V=T+(N<<12&4294967295|N>>>20),N=L+(I^V&(T^I))+M[10]+4294925233&4294967295,L=V+(N<<17&4294967295|N>>>15),N=I+(T^L&(V^T))+M[11]+2304563134&4294967295,I=L+(N<<22&4294967295|N>>>10),N=T+(V^I&(L^V))+M[12]+1804603682&4294967295,T=I+(N<<7&4294967295|N>>>25),N=V+(L^T&(I^L))+M[13]+4254626195&4294967295,V=T+(N<<12&4294967295|N>>>20),N=L+(I^V&(T^I))+M[14]+2792965006&4294967295,L=V+(N<<17&4294967295|N>>>15),N=I+(T^L&(V^T))+M[15]+1236535329&4294967295,I=L+(N<<22&4294967295|N>>>10),N=T+(L^V&(I^L))+M[1]+4129170786&4294967295,T=I+(N<<5&4294967295|N>>>27),N=V+(I^L&(T^I))+M[6]+3225465664&4294967295,V=T+(N<<9&4294967295|N>>>23),N=L+(T^I&(V^T))+M[11]+643717713&4294967295,L=V+(N<<14&4294967295|N>>>18),N=I+(V^T&(L^V))+M[0]+3921069994&4294967295,I=L+(N<<20&4294967295|N>>>12),N=T+(L^V&(I^L))+M[5]+3593408605&4294967295,T=I+(N<<5&4294967295|N>>>27),N=V+(I^L&(T^I))+M[10]+38016083&4294967295,V=T+(N<<9&4294967295|N>>>23),N=L+(T^I&(V^T))+M[15]+3634488961&4294967295,L=V+(N<<14&4294967295|N>>>18),N=I+(V^T&(L^V))+M[4]+3889429448&4294967295,I=L+(N<<20&4294967295|N>>>12),N=T+(L^V&(I^L))+M[9]+568446438&4294967295,T=I+(N<<5&4294967295|N>>>27),N=V+(I^L&(T^I))+M[14]+3275163606&4294967295,V=T+(N<<9&4294967295|N>>>23),N=L+(T^I&(V^T))+M[3]+4107603335&4294967295,L=V+(N<<14&4294967295|N>>>18),N=I+(V^T&(L^V))+M[8]+1163531501&4294967295,I=L+(N<<20&4294967295|N>>>12),N=T+(L^V&(I^L))+M[13]+2850285829&4294967295,T=I+(N<<5&4294967295|N>>>27),N=V+(I^L&(T^I))+M[2]+4243563512&4294967295,V=T+(N<<9&4294967295|N>>>23),N=L+(T^I&(V^T))+M[7]+1735328473&4294967295,L=V+(N<<14&4294967295|N>>>18),N=I+(V^T&(L^V))+M[12]+2368359562&4294967295,I=L+(N<<20&4294967295|N>>>12),N=T+(I^L^V)+M[5]+4294588738&4294967295,T=I+(N<<4&4294967295|N>>>28),N=V+(T^I^L)+M[8]+2272392833&4294967295,V=T+(N<<11&4294967295|N>>>21),N=L+(V^T^I)+M[11]+1839030562&4294967295,L=V+(N<<16&4294967295|N>>>16),N=I+(L^V^T)+M[14]+4259657740&4294967295,I=L+(N<<23&4294967295|N>>>9),N=T+(I^L^V)+M[1]+2763975236&4294967295,T=I+(N<<4&4294967295|N>>>28),N=V+(T^I^L)+M[4]+1272893353&4294967295,V=T+(N<<11&4294967295|N>>>21),N=L+(V^T^I)+M[7]+4139469664&4294967295,L=V+(N<<16&4294967295|N>>>16),N=I+(L^V^T)+M[10]+3200236656&4294967295,I=L+(N<<23&4294967295|N>>>9),N=T+(I^L^V)+M[13]+681279174&4294967295,T=I+(N<<4&4294967295|N>>>28),N=V+(T^I^L)+M[0]+3936430074&4294967295,V=T+(N<<11&4294967295|N>>>21),N=L+(V^T^I)+M[3]+3572445317&4294967295,L=V+(N<<16&4294967295|N>>>16),N=I+(L^V^T)+M[6]+76029189&4294967295,I=L+(N<<23&4294967295|N>>>9),N=T+(I^L^V)+M[9]+3654602809&4294967295,T=I+(N<<4&4294967295|N>>>28),N=V+(T^I^L)+M[12]+3873151461&4294967295,V=T+(N<<11&4294967295|N>>>21),N=L+(V^T^I)+M[15]+530742520&4294967295,L=V+(N<<16&4294967295|N>>>16),N=I+(L^V^T)+M[2]+3299628645&4294967295,I=L+(N<<23&4294967295|N>>>9),N=T+(L^(I|~V))+M[0]+4096336452&4294967295,T=I+(N<<6&4294967295|N>>>26),N=V+(I^(T|~L))+M[7]+1126891415&4294967295,V=T+(N<<10&4294967295|N>>>22),N=L+(T^(V|~I))+M[14]+2878612391&4294967295,L=V+(N<<15&4294967295|N>>>17),N=I+(V^(L|~T))+M[5]+4237533241&4294967295,I=L+(N<<21&4294967295|N>>>11),N=T+(L^(I|~V))+M[12]+1700485571&4294967295,T=I+(N<<6&4294967295|N>>>26),N=V+(I^(T|~L))+M[3]+2399980690&4294967295,V=T+(N<<10&4294967295|N>>>22),N=L+(T^(V|~I))+M[10]+4293915773&4294967295,L=V+(N<<15&4294967295|N>>>17),N=I+(V^(L|~T))+M[1]+2240044497&4294967295,I=L+(N<<21&4294967295|N>>>11),N=T+(L^(I|~V))+M[8]+1873313359&4294967295,T=I+(N<<6&4294967295|N>>>26),N=V+(I^(T|~L))+M[15]+4264355552&4294967295,V=T+(N<<10&4294967295|N>>>22),N=L+(T^(V|~I))+M[6]+2734768916&4294967295,L=V+(N<<15&4294967295|N>>>17),N=I+(V^(L|~T))+M[13]+1309151649&4294967295,I=L+(N<<21&4294967295|N>>>11),N=T+(L^(I|~V))+M[4]+4149444226&4294967295,T=I+(N<<6&4294967295|N>>>26),N=V+(I^(T|~L))+M[11]+3174756917&4294967295,V=T+(N<<10&4294967295|N>>>22),N=L+(T^(V|~I))+M[2]+718787259&4294967295,L=V+(N<<15&4294967295|N>>>17),N=I+(V^(L|~T))+M[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+V&4294967295}r.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var I=T-this.blockSize,M=this.B,L=this.h,V=0;V<T;){if(L==0)for(;V<=I;)i(this,E,V),V+=this.blockSize;if(typeof E=="string"){for(;V<T;)if(M[L++]=E.charCodeAt(V++),L==this.blockSize){i(this,M),L=0;break}}else for(;V<T;)if(M[L++]=E[V++],L==this.blockSize){i(this,M),L=0;break}}this.h=L,this.o+=T},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var I=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=I&255,I/=256;for(this.u(E),E=Array(16),T=I=0;4>T;++T)for(var M=0;32>M;M+=8)E[I++]=this.g[T]>>>M&255;return E};function l(E,T){var I=d;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=T(E)}function c(E,T){this.h=T;for(var I=[],M=!0,L=E.length-1;0<=L;L--){var V=E[L]|0;M&&V==T||(I[L]=V,M=!1)}this.g=I}var d={};function f(E){return-128<=E&&128>E?l(E,function(T){return new c([T|0],0>T?-1:0)}):new c([E|0],0>E?-1:0)}function p(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return j(p(-E));for(var T=[],I=1,M=0;E>=I;M++)T[M]=E/I|0,I*=4294967296;return new c(T,0)}function g(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return j(g(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(T,8)),M=v,L=0;L<E.length;L+=8){var V=Math.min(8,E.length-L),N=parseInt(E.substring(L,L+V),T);8>V?(V=p(Math.pow(T,V)),M=M.j(V).add(p(N))):(M=M.j(I),M=M.add(p(N)))}return M}var v=f(0),_=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(A(this))return-j(this).m();for(var E=0,T=1,I=0;I<this.g.length;I++){var M=this.i(I);E+=(0<=M?M:4294967296+M)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(A(this))return"-"+j(this).toString(E);for(var T=p(Math.pow(E,6)),I=this,M="";;){var L=U(I,T).g;I=D(I,L.j(T));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=L,C(I))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function A(E){return E.h==-1}t.l=function(E){return E=D(this,E),A(E)?-1:C(E)?0:1};function j(E){for(var T=E.g.length,I=[],M=0;M<T;M++)I[M]=~E.g[M];return new c(I,~E.h).add(_)}t.abs=function(){return A(this)?j(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],M=0,L=0;L<=T;L++){var V=M+(this.i(L)&65535)+(E.i(L)&65535),N=(V>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);M=N>>>16,V&=65535,N&=65535,I[L]=N<<16|V}return new c(I,I[I.length-1]&-2147483648?-1:0)};function D(E,T){return E.add(j(T))}t.j=function(E){if(C(this)||C(E))return v;if(A(this))return A(E)?j(this).j(j(E)):j(j(this).j(E));if(A(E))return j(this.j(j(E)));if(0>this.l(S)&&0>E.l(S))return p(this.m()*E.m());for(var T=this.g.length+E.g.length,I=[],M=0;M<2*T;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<E.g.length;L++){var V=this.i(M)>>>16,N=this.i(M)&65535,fe=E.i(L)>>>16,K=E.i(L)&65535;I[2*M+2*L]+=N*K,B(I,2*M+2*L),I[2*M+2*L+1]+=V*K,B(I,2*M+2*L+1),I[2*M+2*L+1]+=N*fe,B(I,2*M+2*L+1),I[2*M+2*L+2]+=V*fe,B(I,2*M+2*L+2)}for(M=0;M<T;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=T;M<2*T;M++)I[M]=0;return new c(I,0)};function B(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function F(E,T){this.g=E,this.h=T}function U(E,T){if(C(T))throw Error("division by zero");if(C(E))return new F(v,v);if(A(E))return T=U(j(E),T),new F(j(T.g),j(T.h));if(A(T))return T=U(E,j(T)),new F(j(T.g),T.h);if(30<E.g.length){if(A(E)||A(T))throw Error("slowDivide_ only works with positive integers.");for(var I=_,M=T;0>=M.l(E);)I=$(I),M=$(M);var L=W(I,1),V=W(M,1);for(M=W(M,2),I=W(I,2);!C(M);){var N=V.add(M);0>=N.l(E)&&(L=L.add(I),V=N),M=W(M,1),I=W(I,1)}return T=D(E,L.j(T)),new F(L,T)}for(L=v;0<=E.l(T);){for(I=Math.max(1,Math.floor(E.m()/T.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=p(I),N=V.j(T);A(N)||0<N.l(E);)I-=M,V=p(I),N=V.j(T);C(V)&&(V=_),L=L.add(V),E=D(E,N)}return new F(L,E)}t.A=function(E){return U(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],M=0;M<T;M++)I[M]=this.i(M)&E.i(M);return new c(I,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],M=0;M<T;M++)I[M]=this.i(M)|E.i(M);return new c(I,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],M=0;M<T;M++)I[M]=this.i(M)^E.i(M);return new c(I,this.h^E.h)};function $(E){for(var T=E.g.length+1,I=[],M=0;M<T;M++)I[M]=E.i(M)<<1|E.i(M-1)>>>31;return new c(I,E.h)}function W(E,T){var I=T>>5;T%=32;for(var M=E.g.length-I,L=[],V=0;V<M;V++)L[V]=0<T?E.i(V+I)>>>T|E.i(V+I+1)<<32-T:E.i(V+I);return new c(L,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,Uo=c}).apply(typeof q0!="undefined"?q0:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Pd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xw,yc,bw,eh,Km,_w,ww,Sw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(h,x){if(x)e:{var w=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var Y=h[P];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],P=w[h],x=x(P),x!=P&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function l(h,x){h instanceof String&&(h+="");var w=0,P=!1,Y={next:function(){if(!P&&w<h.length){var te=w++;return{value:x(te,h[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(h){return h||function(){return l(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function g(h,x,w){return h.call.apply(h.bind,arguments)}function v(h,x,w){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),h.apply(x,Y)}}return function(){return h.apply(x,arguments)}}function _(h,x,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function S(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function C(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(P,Y,te){for(var ge=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ge[nt-2]=arguments[nt];return x.prototype[Y].apply(P,ge)}}function A(h){const x=h.length;if(0<x){const w=Array(x);for(let P=0;P<x;P++)w[P]=h[P];return w}return[]}function j(h,x){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(f(P)){const Y=h.length||0,te=P.length||0;h.length=Y+te;for(let ge=0;ge<te;ge++)h[Y+ge]=P[ge]}else h.push(P)}}class D{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function W(h,x,w){for(const P in h)x.call(w,h[P],P,h)}function E(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function T(h){const x={};for(const w in h)x[w]=h[w];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,x){let w,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(w in P)h[w]=P[w];for(let te=0;te<I.length;te++)w=I[te],Object.prototype.hasOwnProperty.call(P,w)&&(h[w]=P[w])}}function L(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function V(h){d.setTimeout(()=>{throw h},0)}function N(){var h=ae;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class fe{constructor(){this.h=this.g=null}add(x,w){const P=K.get();P.set(x,w),this.h?this.h.next=P:this.g=P,this.h=P}}var K=new D(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,ae=new fe,oe=()=>{const h=d.Promise.resolve(void 0);ne=()=>{h.then(G)}};var G=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(w){V(w)}var x=K;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};d.addEventListener("test",w,x),d.removeEventListener("test",w,x)}catch(w){}return h})();function Ee(h,x){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if($){e:{try{U(x.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ee.aa.h.call(this)}}C(Ee,ye);var me={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Pe(h,x,w,P,Y){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!P,this.ha=Y,this.key=++Ae,this.da=this.fa=!1}function tt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Nt(h){this.src=h,this.g={},this.h=0}Nt.prototype.add=function(h,x,w,P,Y){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var ge=Ft(h,x,P,Y);return-1<ge?(x=h[ge],w||(x.fa=!1)):(x=new Pe(x,this.src,te,!!P,Y),x.fa=w,h.push(x)),x};function Xt(h,x){var w=x.type;if(w in h.g){var P=h.g[w],Y=Array.prototype.indexOf.call(P,x,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(P,Y,1),te&&(tt(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ft(h,x,w,P){for(var Y=0;Y<h.length;++Y){var te=h[Y];if(!te.da&&te.listener==x&&te.capture==!!w&&te.ha==P)return Y}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Hn={};function Gn(h,x,w,P,Y){if(Array.isArray(x)){for(var te=0;te<x.length;te++)Gn(h,x[te],w,P,Y);return null}return w=cr(w),h&&h[Ce]?h.K(x,w,p(P)?!!P.capture:!1,Y):it(h,x,w,!1,P,Y)}function it(h,x,w,P,Y,te){if(!x)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,nt=qn(h);if(nt||(h[kt]=nt=new Nt(h)),w=nt.add(x,w,P,ge,te),w.proxy)return w;if(P=jr(),w.proxy=P,P.src=h,P.listener=w,h.addEventListener)we||(Y=ge),Y===void 0&&(Y=!1),h.addEventListener(x.toString(),P,Y);else if(h.attachEvent)h.attachEvent(ln(x.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function jr(){function h(w){return x.call(h.src,h.listener,w)}const x=lr;return h}function Wn(h,x,w,P,Y){if(Array.isArray(x))for(var te=0;te<x.length;te++)Wn(h,x[te],w,P,Y);else P=p(P)?!!P.capture:!!P,w=cr(w),h&&h[Ce]?(h=h.i,x=String(x).toString(),x in h.g&&(te=h.g[x],w=Ft(te,w,P,Y),-1<w&&(tt(te[w]),Array.prototype.splice.call(te,w,1),te.length==0&&(delete h.g[x],h.h--)))):h&&(h=qn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ft(x,w,P,Y)),(w=-1<h?x[h]:null)&&an(w))}function an(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ce])Xt(x.i,h);else{var w=h.type,P=h.proxy;x.removeEventListener?x.removeEventListener(w,P,h.capture):x.detachEvent?x.detachEvent(ln(w),P):x.addListener&&x.removeListener&&x.removeListener(P),(w=qn(x))?(Xt(w,h),w.h==0&&(w.src=null,x[kt]=null)):tt(h)}}}function ln(h){return h in Hn?Hn[h]:Hn[h]="on"+h}function lr(h,x){if(h.da)h=!0;else{x=new Ee(x,this);var w=h.listener,P=h.ha||h.src;h.fa&&an(h),h=w.call(P,x)}return h}function qn(h){return h=h[kt],h instanceof Nt?h:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function cr(h){return typeof h=="function"?h:(h[Kn]||(h[Kn]=function(x){return h.handleEvent(x)}),h[Kn])}function ct(){ee.call(this),this.i=new Nt(this),this.M=this,this.F=null}C(ct,ee),ct.prototype[Ce]=!0,ct.prototype.removeEventListener=function(h,x,w,P){Wn(this,h,x,w,P)};function Qe(h,x){var w,P=h.F;if(P)for(w=[];P;P=P.F)w.push(P);if(h=h.M,P=x.type||x,typeof x=="string")x=new ye(x,h);else if(x instanceof ye)x.target=x.target||h;else{var Y=x;x=new ye(P,h),M(x,Y)}if(Y=!0,w)for(var te=w.length-1;0<=te;te--){var ge=x.g=w[te];Y=Qn(ge,P,!0,x)&&Y}if(ge=x.g=h,Y=Qn(ge,P,!0,x)&&Y,Y=Qn(ge,P,!1,x)&&Y,w)for(te=0;te<w.length;te++)ge=x.g=w[te],Y=Qn(ge,P,!1,x)&&Y}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],P=0;P<w.length;P++)tt(w[P]);delete h.g[x],h.h--}}this.F=null},ct.prototype.K=function(h,x,w,P){return this.i.add(String(h),x,!1,w,P)},ct.prototype.L=function(h,x,w,P){return this.i.add(String(h),x,!0,w,P)};function Qn(h,x,w,P){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,te=0;te<x.length;++te){var ge=x[te];if(ge&&!ge.da&&ge.capture==w){var nt=ge.listener,Wt=ge.ha||ge.src;ge.fa&&Xt(h.i,ge),Y=nt.call(Wt,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function zr(h,x,w){if(typeof h=="function")w&&(h=_(h,w));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(h,x||0)}function ot(h){h.g=zr(()=>{h.g=null,h.i&&(h.i=!1,ot(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Er extends ee{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(h){ee.call(this),this.h=h,this.g={}}C(Cr,ee);var ps=[];function ms(h){W(h.g,function(x,w){this.g.hasOwnProperty(w)&&an(x)},h),h.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),ms(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gs=d.JSON.stringify,Vs=d.JSON.parse,ys=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ur(){}ur.prototype.h=null;function ut(h){return h.h||(h.h=h.i())}function Hr(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ye.call(this,"d")}C(dr,ye);function Bs(){ye.call(this,"c")}C(Bs,ye);var vs={},Tl=null;function ro(){return Tl=Tl||new ct}vs.La="serverreachability";function jl(h){ye.call(this,vs.La,h)}C(jl,ye);function Os(h){const x=ro();Qe(x,new jl(x))}vs.STAT_EVENT="statevent";function El(h,x){ye.call(this,vs.STAT_EVENT,h),this.stat=x}C(El,ye);function Dt(h){const x=ro();Qe(x,new El(x,h))}vs.Ma="timingevent";function Zo(h,x){ye.call(this,vs.Ma,h),this.size=x}C(Zo,ye);function Gr(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function io(h,x,w,P,Y,te){h.info(function(){if(h.g)if(te)for(var ge="",nt=te.split("&"),Wt=0;Wt<nt.length;Wt++){var qe=nt[Wt].split("=");if(1<qe.length){var Jt=qe[0];qe=qe[1];var Vt=Jt.split("_");ge=2<=Vt.length&&Vt[1]=="type"?ge+(Jt+"="+qe+"&"):ge+(Jt+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+x+`
`+w+`
`+ge})}function ea(h,x,w,P,Y,te,ge){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+x+`
`+w+`
`+te+" "+ge})}function Wr(h,x,w,P){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+ff(h,w)+(P?" "+P:"")})}function Cl(h,x){h.info(function(){return"TIMEOUT: "+x})}so.prototype.info=function(){};function ff(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var P=w[h];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return gs(w)}catch(nt){return x}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qr;function oo(){}C(oo,ur),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},qr=new oo;function Kr(h,x,w,P){this.j=h,this.i=x,this.l=w,this.R=P||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var kl={},na={};function ra(h,x,w){h.L=1,h.v=_i(fr(x)),h.m=w,h.P=!0,Al(h,null)}function Al(h,x){h.F=Date.now(),dt(h),h.A=fr(h.v);var w=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),Si(w.i,"t",P),h.C=0,w=h.j.J,h.h=new yu,h.g=Mu(h.j,w?x:null,!h.m),0<h.O&&(h.M=new Er(_(h.Y,h,h.g),h.O)),x=h.U,w=h.g,P=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ps[0]=Y.toString()),Y=ps);for(var te=0;te<Y.length;te++){var ge=Gn(w,Y[te],P||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Os(),io(h.i,h.u,h.A,h.l,h.R,h.m)}Kr.prototype.ca=function(h){h=h.target;const x=this.M;x&&Xn(h)==3?x.j():this.Y(h)},Kr.prototype.Y=function(h){try{if(h==this.g)e:{const Vt=Xn(this.g);var x=this.g.Ba();const Ir=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Ml(this.g)))){this.J||Vt!=4||x==7||(x==8||0>=Ir?Os(3):Os(2)),ao(this);var w=this.g.Z();this.X=w;t:if(vu(this)){var P=Ml(this.g);h="";var Y=P.length,te=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){kr(this),yi(this);var ge="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,h+=this.h.i.decode(P[x],{stream:!(te&&x==Y-1)});P.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=w==200,ea(this.i,this.u,this.A,this.l,this.R,Vt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Wt=this.g;if((nt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(nt)){var qe=nt;break t}}qe=null}if(w=qe)Wr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Il(this,w);else{this.o=!1,this.s=3,Dt(12),kr(this),yi(this);break e}}if(this.P){w=!0;let mr;for(;!this.J&&this.C<ge.length;)if(mr=pf(this,ge),mr==na){Vt==4&&(this.s=4,Dt(14),w=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==kl){this.s=4,Dt(15),Wr(this.i,this.l,ge,"[Invalid Chunk]"),w=!1;break}else Wr(this.i,this.l,mr,null),Il(this,mr);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ge.length!=0||this.h.h||(this.s=1,Dt(16),w=!1),this.o=this.o&&w,!w)Wr(this.i,this.l,ge,"[Invalid Chunked Response]"),kr(this),yi(this);else if(0<ge.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Fl(Jt),Jt.M=!0,Dt(11))}}else Wr(this.i,this.l,ge,null),Il(this,ge);Vt==4&&kr(this),this.o&&!this.J&&(Vt==4?pa(this.j,this):(this.o=!1,dt(this)))}else ca(this.g),w==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),kr(this),yi(this)}}}catch(Vt){}finally{}};function vu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pf(h,x){var w=h.C,P=x.indexOf(`
`,w);return P==-1?na:(w=Number(x.substring(w,P)),isNaN(w)?kl:(P+=1,P+w>x.length?na:(x=x.slice(P,P+w),h.C=P+w,x)))}Kr.prototype.cancel=function(){this.J=!0,kr(this)};function dt(h){h.S=Date.now()+h.I,xu(h,h.I)}function xu(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Gr(_(h.ba,h),x)}function ao(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Kr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cl(this.i,this.A),this.L!=2&&(Os(),Dt(17)),kr(this),this.s=2,yi(this)):xu(this,this.S-h)};function yi(h){h.j.G==0||h.J||pa(h.j,h)}function kr(h){ao(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,ms(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Il(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||Mn(w.h,h))){if(!h.K&&Mn(w.h,h)&&w.G==3){try{var P=w.Da.g.parse(x)}catch(qe){P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)fa(w),Zr(w);else break e;ha(w),Dt(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=Gr(_(w.Za,w),6e3));if(1>=_u(w.h)&&w.ca){try{w.ca()}catch(qe){}w.ca=void 0}}else Gs(w,11)}else if((h.K||w.g==h)&&fa(w),!B(x))for(Y=w.Da.g.parse(x),x=0;x<Y.length;x++){let qe=Y[x];if(w.T=qe[0],qe=qe[1],w.G==2)if(qe[0]=="c"){w.K=qe[1],w.ia=qe[2];const Jt=qe[3];Jt!=null&&(w.la=Jt,w.j.info("VER="+w.la));const Vt=qe[4];Vt!=null&&(w.Aa=Vt,w.j.info("SVER="+w.Aa));const Ir=qe[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(P=1.5*Ir,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const mr=h.g;if(mr){const mo=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var te=P.h;te.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Rl(te,te.h),te.h=null))}if(P.D){const ga=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(P.ya=ga,at(P.I,P.D,ga))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var ge=h;if(P.qa=Du(P,P.J?P.ia:null,P.W),ge.K){wu(P.h,ge);var nt=ge,Wt=P.L;Wt&&(nt.I=Wt),nt.B&&(ao(nt),dt(nt)),P.g=ge}else po(P);0<w.i.length&&ws(w)}else qe[0]!="stop"&&qe[0]!="close"||Gs(w,7);else w.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Gs(w,7):un(w):qe[0]!="noop"&&w.l&&w.l.ta(qe),w.v=0)}}Os(4)}catch(qe){}}var bu=class{constructor(h,x){this.g=h,this.map=x}};function lo(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _u(h){return h.h?1:h.g?h.g.size:0}function Mn(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Rl(h,x){h.g?h.g.add(x):h.h=x}function wu(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}lo.prototype.cancel=function(){if(this.i=Su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Su(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return A(h.i)}function sa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map!="undefined"&&h instanceof Map||typeof Set!="undefined"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var x=[],w=h.length,P=0;P<w;P++)x.push(h[P]);return x}x=[],w=0;for(P in h)x[w++]=h[P];return x}function ia(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map!="undefined"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set!="undefined"&&h instanceof Set)){if(f(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const P in h)x[w++]=P;return x}}}function vi(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=ia(h),P=sa(h),Y=P.length,te=0;te<Y;te++)x.call(void 0,P[te],w&&w[te],h)}var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var P=h[w].indexOf("="),Y=null;if(0<=P){var te=h[w].substring(0,P);Y=h[w].substring(P+1)}else te=h[w];x(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function $s(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $s){this.h=h.h,uo(this,h.j),this.o=h.o,this.g=h.g,xi(this,h.s),this.l=h.l;var x=h.i,w=new xs;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),bi(this,w),this.m=h.m}else h&&(x=String(h).match(co))?(this.h=!1,uo(this,x[1]||"",!0),this.o=We(x[2]||""),this.g=We(x[3]||"",!0),xi(this,x[4]),this.l=We(x[5]||"",!0),bi(this,x[6]||"",!0),this.m=We(x[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}$s.prototype.toString=function(){var h=[],x=this.j;x&&h.push(wi(x,oa,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(wi(x,oa,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(wi(w,w.charAt(0)=="/"?Eu:ju,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",wi(w,Pl)),h.join("")};function fr(h){return new $s(h)}function uo(h,x,w){h.j=w?We(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function xi(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function bi(h,x,w){x instanceof xs?(h.i=x,bs(h.i,h.h)):(w||(x=wi(x,Cu)),h.i=new xs(x,h.h))}function at(h,x,w){h.i.set(x,w)}function _i(h){return at(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function We(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function wi(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,Tu),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oa=/[#\/\?@]/g,ju=/[#\?:]/g,Eu=/[#\?]/g,Cu=/[#\?@]/g,Pl=/#/g;function xs(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&mf(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=xs.prototype,t.add=function(h,x){cn(this),this.i=null,h=Ar(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Qr(h,x){cn(h),x=Ar(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Yr(h,x){return cn(h),x=Ar(h,x),h.g.has(x)}t.forEach=function(h,x){cn(this),this.g.forEach(function(w,P){w.forEach(function(Y){h.call(x,Y,P,this)},this)},this)},t.na=function(){cn(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let P=0;P<x.length;P++){const Y=h[P];for(let te=0;te<Y.length;te++)w.push(x[P])}return w},t.V=function(h){cn(this);let x=[];if(typeof h=="string")Yr(this,h)&&(x=x.concat(this.g.get(Ar(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},t.set=function(h,x){return cn(this),this.i=null,h=Ar(this,h),Yr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Si(h,x,w){Qr(h,x),0<w.length&&(h.i=null,h.g.set(Ar(h,x),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var P=x[w];const te=encodeURIComponent(String(P)),ge=this.V(P);for(P=0;P<ge.length;P++){var Y=te;ge[P]!==""&&(Y+="="+encodeURIComponent(String(ge[P]))),h.push(Y)}}return this.i=h.join("&")};function Ar(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function bs(h,x){x&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(w,P){var Y=P.toLowerCase();P!=Y&&(Qr(this,P),Si(this,Y,w))},h)),h.j=x}function gf(h,x){const w=new so;if(d.Image){const P=new Image;P.onload=S(Yn,w,"TestLoadImage: loaded",!0,x,P),P.onerror=S(Yn,w,"TestLoadImage: error",!1,x,P),P.onabort=S(Yn,w,"TestLoadImage: abort",!1,x,P),P.ontimeout=S(Yn,w,"TestLoadImage: timeout",!1,x,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else x(!1)}function ku(h,x){const w=new so,P=new AbortController,Y=setTimeout(()=>{P.abort(),Yn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:P.signal}).then(te=>{clearTimeout(Y),te.ok?Yn(w,"TestPingServer: ok",!0,x):Yn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Yn(w,"TestPingServer: error",!1,x)})}function Yn(h,x,w,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(w)}catch(te){}}function yf(){this.g=new ys}function Au(h,x,w){const P=w||"";try{vi(h,function(Y,te){let ge=Y;p(Y)&&(ge=gs(Y)),x.push(P+te+"="+encodeURIComponent(ge))})}catch(Y){throw x.push(P+"type="+encodeURIComponent("_badmap")),Y}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Us,ur),Us.prototype.g=function(){return new ho(this.l,this.j)},Us.prototype.i=(function(h){return function(){return h}})({});function ho(h,x){ct.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ho,ct),t=ho.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Jr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Xr(this):Jr(this),this.readyState==3&&Iu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Xr(this))},t.Qa=function(h){this.g&&(this.response=h,Xr(this))},t.ga=function(){this.g&&Xr(this)};function Xr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Jr(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function Jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function zs(h){let x="";return W(h,function(w,P){x+=P,x+=":",x+=w,x+=`\r
`}),x}function Ti(h,x,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=zs(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):at(h,x,w))}function xt(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xt,ct);var vf=/^https?$/i,Nl=["POST","PUT"];t=xt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qr.g(),this.v=this.o?ut(this.o):ut(qr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(te){fo(this,te);return}if(h=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)w.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())w.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Nl,x,void 0))||P||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of w)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){fo(this,te)}};function fo(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,aa(h),pr(h)}function aa(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),pr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dl(this):this.bb())},t.bb=function(){Dl(this)};function Dl(h){if(h.h&&typeof c!="undefined"&&(!h.v[1]||Xn(h)!=4||h.Z()!=2)){if(h.u&&Xn(h)==4)zr(h.Ea,0,h);else if(Qe(h,"readystatechange"),Xn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var P;if(P=ge===0){var Y=String(h.D).match(co)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),P=!vf.test(Y?Y.toLowerCase():"")}w=P}if(w)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var te=2<Xn(h)?h.g.statusText:""}catch(nt){te=""}h.l=te+" ["+h.Z()+"]",aa(h)}}finally{pr(h)}}}}function pr(h,x){if(h.g){la(h);const w=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Qe(h,"ready");try{w.onreadystatechange=P}catch(Y){}}}function la(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Xn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch(h){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(h){return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Vs(x)}};function Ml(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch(x){return null}}function ca(h){const x={};h=(h.g&&2<=Xn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(B(h[P]))continue;var w=L(h[P]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=x[Y]||[];x[Y]=te,te.push(w)}E(x,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function Ll(h){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,h),this.cb=_s("retryDelaySeedMs",1e4,h),this.Wa=_s("forwardChannelMaxRetries",2,h),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new lo(h&&h.concurrentRequestLimit),this.Da=new yf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ll.prototype,t.la=8,t.G=1,t.connect=function(h,x,w,P){Dt(0),this.W=h,this.H=x||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=Du(this,null,this.W),ws(this)};function un(h){if(ua(h),h.G==3){var x=h.U++,w=fr(h.I);if(at(w,"SID",h.K),at(w,"RID",x),at(w,"TYPE","terminate"),Hs(h,w),x=new Kr(h,h.j,x),x.L=2,x.v=_i(fr(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(x.v.toString(),"")}catch(P){}!w&&d.Image&&(new Image().src=x.v,w=!0),w||(x.g=Mu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),dt(x)}Nu(h)}function Zr(h){h.g&&(Fl(h),h.g.cancel(),h.g=null)}function ua(h){Zr(h),h.u&&(d.clearTimeout(h.u),h.u=null),fa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ws(h){if(!hr(h.h)&&!h.s){h.s=!0;var x=h.Ga;ne||oe(),Q||(ne(),Q=!0),ae.add(x,h),h.B=0}}function xf(h,x){return _u(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Gr(_(h.Ga,h,x),Pu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Kr(this,this.j,h);let te=this.o;if(this.S&&(te?(te=T(te),M(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=ji(this,Y,x),w=fr(this.I),at(w,"RID",h),at(w,"CVER",22),this.D&&at(w,"X-HTTP-Session-Id",this.D),Hs(this,w),te&&(this.O?x="headers="+encodeURIComponent(String(zs(te)))+"&"+x:this.m&&Ti(w,this.m,te)),Rl(this.h,Y),this.Ua&&at(w,"TYPE","init"),this.P?(at(w,"$req",x),at(w,"SID","null"),Y.T=!0,ra(Y,w,null)):ra(Y,w,x),this.G=2}}else this.G==3&&(h?da(this,h):this.i.length==0||hr(this.h)||da(this))};function da(h,x){var w;x?w=x.l:w=h.U++;const P=fr(h.I);at(P,"SID",h.K),at(P,"RID",w),at(P,"AID",h.T),Hs(h,P),h.m&&h.o&&Ti(P,h.m,h.o),w=new Kr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=ji(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Rl(h.h,w),ra(w,P,x)}function Hs(h,x){h.H&&W(h.H,function(w,P){at(x,P,w)}),h.l&&vi({},function(w,P){at(x,P,w)})}function ji(h,x,w){w=Math.min(h.i.length,w);var P=h.l?_(h.l.Na,h.l,h):null;e:{var Y=h.i;let te=-1;for(;;){const ge=["count="+w];te==-1?0<w?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let nt=!0;for(let Wt=0;Wt<w;Wt++){let qe=Y[Wt].g;const Jt=Y[Wt].map;if(qe-=te,0>qe)te=Math.max(0,Y[Wt].g-100),nt=!1;else try{Au(Jt,ge,"req"+qe+"_")}catch(Vt){P&&P(Jt)}}if(nt){P=ge.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,P}function po(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ne||oe(),Q||(ne(),Q=!0),ae.add(x,h),h.v=0}}function ha(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Gr(_(h.Fa,h),Pu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Gr(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Zr(this),Ru(this))};function Fl(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Ru(h){h.g=new Kr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=fr(h.qa);at(x,"RID","rpc"),at(x,"SID",h.K),at(x,"AID",h.T),at(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&at(x,"TO",h.ja),at(x,"TYPE","xmlhttp"),Hs(h,x),h.m&&h.o&&Ti(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=_i(fr(x)),w.m=null,w.P=!0,Al(w,h)}t.Za=function(){this.C!=null&&(this.C=null,Zr(this),ha(this),Dt(19))};function fa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function pa(h,x){var w=null;if(h.g==x){fa(h),Fl(h),h.g=null;var P=2}else if(Mn(h.h,x))w=x.D,wu(h.h,x),P=1;else return;if(h.G!=0){if(x.o)if(P==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var Y=h.B;P=ro(),Qe(P,new Zo(P,w)),ws(h)}else po(h);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(P==1&&xf(h,x)||P==2&&ha(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),Y){case 1:Gs(h,5);break;case 4:Gs(h,10);break;case 3:Gs(h,6);break;default:Gs(h,2)}}}function Pu(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function Gs(h,x){if(h.j.info("Error code "+x),x==2){var w=_(h.fb,h),P=h.Xa;const Y=!P;P=new $s(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||uo(P,"https"),_i(P),Y?gf(P.toString(),w):ku(P.toString(),w)}else Dt(2);h.G=0,h.l&&h.l.sa(x),Nu(h),ua(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Nu(h){if(h.G=0,h.ka=[],h.l){const x=Su(h.h);(x.length!=0||h.i.length!=0)&&(j(h.ka,x),j(h.ka,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.ra()}}function Du(h,x,w){var P=w instanceof $s?fr(w):new $s(w);if(P.g!="")x&&(P.g=x+"."+P.g),xi(P,P.s);else{var Y=d.location;P=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new $s(null);P&&uo(te,P),x&&(te.g=x),Y&&xi(te,Y),w&&(te.l=w),P=te}return w=h.D,x=h.ya,w&&x&&at(P,w,x),at(P,"VER",h.la),Hs(h,P),P}function Mu(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new xt(new Us({eb:w})):new xt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vl(){}t=Vl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ma(){}ma.prototype.g=function(h,x){return new Ln(h,x)};function Ln(h,x){ct.call(this),this.g=new Ll(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!B(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ss(this)}C(Ln,ct),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){un(this.g)},Ln.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=gs(h),h=w);x.i.push(new bu(x.Ya++,h)),x.G==3&&ws(x)},Ln.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,Ln.aa.N.call(this)};function Lu(h){dr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}C(Lu,dr);function Fu(){Bs.call(this),this.status=1}C(Fu,Bs);function Ss(h){this.g=h}C(Ss,Vl),Ss.prototype.ua=function(){Qe(this.g,"a")},Ss.prototype.ta=function(h){Qe(this.g,new Lu(h))},Ss.prototype.sa=function(h){Qe(this.g,new Fu)},Ss.prototype.ra=function(){Qe(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,Sw=function(){return new ma},ww=function(){return ro()},_w=vs,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,eh=ta,gu.COMPLETE="complete",bw=gu,Hr.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,yc=Hr,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,xw=xt}).apply(typeof Pd!="undefined"?Pd:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const K0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new dw("@firebase/firestore");function uc(){return Ho.logLevel}function Te(t,...e){if(Ho.logLevel<=Xe.DEBUG){const n=e.map(Gg);Ho.debug(`Firestore (${yl}): ${t}`,...n)}}function di(t,...e){if(Ho.logLevel<=Xe.ERROR){const n=e.map(Gg);Ho.error(`Firestore (${yl}): ${t}`,...n)}}function nl(t,...e){if(Ho.logLevel<=Xe.WARN){const n=e.map(Gg);Ho.warn(`Firestore (${yl}): ${t}`,...n)}}function Gg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function st(t,e){t||Me()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends gl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TI{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let l=new li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new li,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new li)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new Tw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Rn(e)}}class jI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){st(this.o===void 0);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?i(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string"),this.R=n.token,new CI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AI(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<n&&(r+=e.charAt(i[l]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function rl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Qt(0,0))}static max(){return new Be(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const l=e.get(i),c=n.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Vc{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Vc{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return II.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const l=()=>{if(r.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(l(),i++)}if(l(),c)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(lt.fromString(e))}static fromName(e){return new ke(lt.fromString(e).popFirst(5))}static empty(){return new ke(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new lt(e.slice()))}}function RI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Ki(i,ke.empty(),e)}function PI(t){return new Ki(t.readTime,t.key,-1)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(Be.min(),ke.empty(),-1)}static max(){return new Ki(Be.max(),ke.empty(),-1)}}function NI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==DI)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,l=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++l,c&&l===i&&n()}),(f=>r(f)))})),c=!0,l===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,l)=>{r.push(n.call(this,i,l))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((g=>{c[p]=g,++d,d===l&&r(c)}),(g=>i(g)))}}))}static doWhile(e,n){return new de(((r,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):r()};l()}))}}function LI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wg.oe=-1;function Bh(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function FI(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ew(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,l){this.key=e,this.value=n,this.color=r!=null?r:yn.RED,this.left=i!=null?i:yn.EMPTY,this.right=l!=null?l:yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,l){return new yn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,r),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,i,l){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new br([])}unionWith(e){let n=new wn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Cw("Invalid base64 string: "+l):l}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const VI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(st(!!t),typeof t=="string"){let e=0;const n=VI.exec(t);if(st(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qg(t){const e=t.mapValue.fields.__previous_value__;return Oh(e)?qg(e):e}function Bc(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd={mapValue:{}};function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oh(t)?4:$I(t)?9007199254740991:OI(t)?10:11:Me()}function Ls(t,e){if(t===e)return!0;const n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=Qi(i.timestampValue),d=Qi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return Go(i.bytesValue).isEqual(Go(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Lt(i.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Lt(i.integerValue)===Lt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=Lt(i.doubleValue),d=Lt(l.doubleValue);return c===d?mh(c)===mh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},d=l.mapValue.fields||{};if(Q0(c)!==Q0(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Ls(c[f],d[f])))return!1;return!0})(t,e);default:return Me()}}function $c(t,e){return(t.values||[]).find((n=>Ls(n,e)))!==void 0}function sl(t,e){if(t===e)return 0;const n=Wo(t),r=Wo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Lt(l.integerValue||l.doubleValue),f=Lt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return X0(t.timestampValue,e.timestampValue);case 4:return X0(Bc(t),Bc(e));case 5:return et(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Go(l),f=Go(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=et(d[p],f[p]);if(g!==0)return g}return et(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=et(Lt(l.latitude),Lt(c.latitude));return d!==0?d:et(Lt(l.longitude),Lt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return J0(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,f,p,g;const v=l.fields||{},_=c.fields||{},S=(d=v.value)===null||d===void 0?void 0:d.arrayValue,C=(f=_.value)===null||f===void 0?void 0:f.arrayValue,A=et(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:J0(S,C)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Dd.mapValue&&c===Dd.mapValue)return 0;if(l===Dd.mapValue)return 1;if(c===Dd.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=et(f[v],g[v]);if(_!==0)return _;const S=sl(d[f[v]],p[g[v]]);if(S!==0)return S}return et(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Me()}}function X0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Qi(t),r=Qi(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function J0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const l=sl(n[i],r[i]);if(l)return l}return et(n.length,r.length)}function il(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const l of n.values||[])i?i=!1:r+=",",r+=Qm(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${Qm(n.fields[c])}`;return i+"}"})(t.mapValue):Me()}function gh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ym(t){return!!t&&"integerValue"in t}function Kg(t){return!!t&&"arrayValue"in t}function Z0(t){return!!t&&"nullValue"in t}function e1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function th(t){return!!t&&"mapValue"in t}function OI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $I(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=jc(c):i.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,i)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qo(n,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new ir(jc(this.value))}}function kw(t){const e=[];return Qo(t.fields,((n,r)=>{const i=new bn([n]);if(th(r)){const l=kw(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Nn(e,0,Be.min(),Be.min(),Be.min(),ir.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Be.min(),Be.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Be.min(),Be.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.position=e,this.inclusive=n}}function t1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const l=e[i],c=t.position[i];if(l.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),n.key):r=sl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function n1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function UI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{}class Gt extends Aw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HI(e,n,r):n==="array-contains"?new qI(e,r):n==="in"?new KI(e,r):n==="not-in"?new QI(e,r):n==="array-contains-any"?new YI(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GI(e,r):new WI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sl(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends Aw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new us(e,n)}matches(e){return Iw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Iw(t){return t.op==="and"}function Rw(t){return zI(t)&&Iw(t)}function zI(t){for(const e of t.filters)if(e instanceof us)return!1;return!0}function Xm(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+il(t.value);if(Rw(t))return t.filters.map((e=>Xm(e))).join(",");{const e=t.filters.map((n=>Xm(n))).join(",");return`${t.op}(${e})`}}function Pw(t,e){return t instanceof Gt?(function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&Ls(r.value,i.value)})(t,e):t instanceof us?(function(r,i){return i instanceof us&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,d)=>l&&Pw(c,i.filters[d])),!0):!1})(t,e):void Me()}function Nw(t){return t instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`})(t):t instanceof us?(function(n){return n.op.toString()+" {"+n.getFilters().map(Nw).join(" ,")+"}"})(t):"Filter"}class HI extends Gt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class GI extends Gt{constructor(e,n){super(e,"in",n),this.keys=Dw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WI extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=Dw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Dw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class qI extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&$c(n.arrayValue,this.value)}}class KI extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}}class QI extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$c(this.value.arrayValue,n)}}class YI extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$c(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n=null,r=[],i=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function r1(t,e=null,n=[],r=[],i=null,l=null,c=null){return new XI(t,e,n,r,i,l,c)}function Qg(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>il(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>il(r))).join(",")),e.ue=n}return e.ue}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n1(t.startAt,e.startAt)&&n1(t.endAt,e.endAt)}function Jm(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n=null,r=[],i=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JI(t,e,n,r,i,l,c,d){return new gi(t,e,n,r,i,l,c,d)}function Xg(t){return new gi(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jg(t){return t.collectionGroup!==null}function Za(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new wn(bn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Uc(l,r))})),n.has(bn.keyField().canonicalString())||e.ce.push(new Uc(bn.keyField(),r))}return e.ce}function Is(t){const e=Oe(t);return e.le||(e.le=ZI(e,Za(t))),e.le}function ZI(t,e){if(t.limitType==="F")return r1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Uc(i.field,l)}));const n=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;return r1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zm(t,e){const n=t.filters.concat([e]);return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yh(t,e,n){return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return Yg(Is(t),Is(e))&&t.limitType===e.limitType}function Mw(t){return`${Qg(Is(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Nw(i))).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>il(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>il(i))).join(",")),`Target(${r})`})(Is(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,i){for(const l of Za(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,f){const p=t1(c,d,f);return c.inclusive?p<=0:p<0})(r.startAt,Za(r),i)||r.endAt&&!(function(c,d,f){const p=t1(c,d,f);return c.inclusive?p>=0:p>0})(r.endAt,Za(r),i))})(t,e)}function eR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lw(t){return(e,n)=>{let r=!1;for(const i of Za(t)){const l=tR(i,e,n);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function tR(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?sl(f,p):Me()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,((n,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return Ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Et(ke.comparator);function hi(){return nR}const Fw=new Et(ke.comparator);function vc(...t){let e=Fw;for(const n of t)e=e.insert(n.key,n);return e}function Vw(t){let e=Fw;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Oo(){return Ec()}function Bw(){return Ec()}function Ec(){return new vl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rR=new Et(ke.comparator),sR=new wn(ke.comparator);function Ge(...t){let e=sR;for(const n of t)e=e.add(n);return e}const iR=new wn(et);function oR(){return iR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function Ow(t){return{integerValue:""+t}}function aR(t,e){return FI(e)?Ow(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function lR(t,e,n){return t instanceof zc?(function(i,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Oh(l)&&(l=qg(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Hc?Uw(t,e):t instanceof Gc?zw(t,e):(function(i,l){const c=$w(i,l),d=i1(c)+i1(i.Pe);return Ym(c)&&Ym(i.Pe)?Ow(d):Zg(i.serializer,d)})(t,e)}function cR(t,e,n){return t instanceof Hc?Uw(t,e):t instanceof Gc?zw(t,e):n}function $w(t,e){return t instanceof vh?(function(r){return Ym(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class zc extends zh{}class Hc extends zh{constructor(e){super(),this.elements=e}}function Uw(t,e){const n=Hw(e);for(const r of t.elements)n.some((i=>Ls(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gc extends zh{constructor(e){super(),this.elements=e}}function zw(t,e){let n=Hw(e);for(const r of t.elements)n=n.filter((i=>!Ls(i,r)));return{arrayValue:{values:n}}}class vh extends zh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function i1(t){return Lt(t.integerValue||t.doubleValue)}function Hw(t){return Kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.field=e,this.transform=n}}function dR(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof Gc&&i instanceof Gc?rl(r.elements,i.elements,Ls):r instanceof vh&&i instanceof vh?Ls(r.Pe,i.Pe):r instanceof zc&&i instanceof zc})(t.transform,e.transform)}class hR{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function Gw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ey(t.key,$r.none()):new nu(t.key,t.data,$r.none());{const n=t.data,r=ir.empty();let i=new wn(bn.comparator);for(let l of e.fields)if(!i.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new eo(t.key,r,new br(i.toArray()),$r.none())}}function fR(t,e,n){t instanceof nu?(function(i,l,c){const d=i.value.clone(),f=a1(i.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof eo?(function(i,l,c){if(!nh(i.precondition,l))return void l.convertToUnknownDocument(c.version);const d=a1(i.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(Ww(i)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Cc(t,e,n,r){return t instanceof nu?(function(l,c,d,f){if(!nh(l.precondition,c))return d;const p=l.value.clone(),g=l1(l.fieldTransforms,f,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof eo?(function(l,c,d,f){if(!nh(l.precondition,c))return d;const p=l1(l.fieldTransforms,f,c),g=c.data;return g.setAll(Ww(l)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,d){return nh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function pR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),l=$w(r.transform,i||null);l!=null&&(n===null&&(n=ir.empty()),n.set(r.field,l))}return n||null}function o1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rl(r,i,((l,c)=>dR(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nu extends Hh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends Hh{constructor(e,n,r,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ww(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function a1(t,e,n){const r=new Map;st(t.length===n.length);for(let i=0;i<n.length;i++){const l=t[i],c=l.transform,d=e.data.field(l.field);r.set(l.field,cR(c,d,n[i]))}return r}function l1(t,e,n){const r=new Map;for(const i of t){const l=i.transform,c=n.data.field(i.field);r.set(i.field,lR(l,c,e))}return r}class ey extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&fR(l,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bw();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(i.key)?null:d;const f=Gw(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((n,r)=>o1(n,r)))&&rl(this.baseMutations,e.baseMutations,((n,r)=>o1(n,r)))}}class ty{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length);let i=(function(){return rR})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new ty(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ke;function xR(t){switch(t){default:return Me();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function qw(t){if(t===void 0)return di("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Ot.OK:return ie.OK;case Ot.CANCELLED:return ie.CANCELLED;case Ot.UNKNOWN:return ie.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ie.INTERNAL;case Ot.UNAVAILABLE:return ie.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ie.NOT_FOUND;case Ot.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ot.ABORTED:return ie.ABORTED;case Ot.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ot.DATA_LOSS:return ie.DATA_LOSS;default:return Me()}}(Ke=Ot||(Ot={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Uo([4294967295,4294967295],0);function c1(t){const e=bR().encode(t),n=new vw;return n.update(e),new Uint8Array(n.digest())}function u1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Uo([n,r],0),new Uo([i,l],0)]}class ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(r<0)throw new xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Uo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Uo.fromNumber(r)));return i.compare(_R)===1&&(i=new Uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=c1(e),[r,i]=u1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,i,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ny(l,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=c1(e),[r,i]=u1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,i,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(Be.min(),i,new Et(et),hi(),Ge())}}class ru{constructor(e,n,r,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ru(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Kw{constructor(e,n){this.targetId=e,this.me=n}}class Qw{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d1{constructor(){this.fe=0,this.ge=f1(),this.pe=Sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),n=Ge(),r=Ge();return this.ge.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me()}})),new ru(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=f1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wR{constructor(e){this.Le=e,this.Be=new Map,this.ke=hi(),this.qe=h1(),this.Qe=new Et(et)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Me()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const l=i.target;if(Jm(l))if(r===0){const c=new ke(l.path);this.Ue(n,c,Nn.newNoDocument(c,Be.min()))}else st(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),f=d?this.Xe(d,e,c):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=n;let c,d;try{c=Go(r).toUint8Array()}catch(f){if(f instanceof Cw)return nl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new ny(c,i,l)}catch(f){return nl(f instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&Jm(d.target)){const f=new ke(d.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Nn.newNoDocument(f,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Ge();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const i=new Gh(e,n,this.Qe,this.ke,r);return this.ke=hi(),this.qe=h1(),this.Qe=new Et(et),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new d1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wn(et),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new d1),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function h1(){return new Et(ke.comparator)}function f1(){return new Et(ke.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},TR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jR={and:"AND",or:"OR"};class ER{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CR(t,e){return xh(t,e.toTimestamp())}function Rs(t){return st(!!t),Be.fromTimestamp((function(n){const r=Qi(n);return new Qt(r.seconds,r.nanos)})(t))}function ry(t,e){return tg(t,e).canonicalString()}function tg(t,e){const n=(function(i){return new lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Xw(t){const e=lt.fromString(t);return st(nS(e)),e}function ng(t,e){return ry(t.databaseId,e.path)}function Xp(t,e){const n=Xw(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(Zw(n))}function Jw(t,e){return ry(t.databaseId,e)}function kR(t){const e=Xw(t);return e.length===4?lt.emptyPath():Zw(e)}function rg(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zw(t){return st(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function p1(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function AR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(st(g===void 0||typeof g=="string"),Sn.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Sn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?ie.UNKNOWN:qw(p.code);return new ve(g,p.message||"")})(c);n=new Qw(r,i,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xp(t,r.document.name),l=Rs(r.document.updateTime),c=r.document.createTime?Rs(r.document.createTime):Be.min(),d=new ir({mapValue:{fields:r.document.fields}}),f=Nn.newFoundDocument(i,l,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new rh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xp(t,r.document),l=r.readTime?Rs(r.readTime):Be.min(),c=Nn.newNoDocument(i,l),d=r.removedTargetIds||[];n=new rh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xp(t,r.document),l=r.removedTargetIds||[];n=new rh([],l,i,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new vR(i,l),d=r.targetId;n=new Kw(d,c)}}return n}function IR(t,e){let n;if(e instanceof nu)n={update:p1(t,e.key,e.value)};else if(e instanceof ey)n={delete:ng(t,e.key)};else if(e instanceof eo)n={update:p1(t,e.key,e.data),updateMask:BR(e.fieldMask)};else{if(!(e instanceof mR))return Me();n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof zc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Me()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:CR(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me()})(t,e.precondition)),n}function RR(t,e){return t&&t.length>0?(st(e!==void 0),t.map((n=>(function(i,l){let c=i.updateTime?Rs(i.updateTime):Rs(l);return c.isEqual(Be.min())&&(c=Rs(l)),new hR(c,i.transformResults||[])})(n,e)))):[]}function PR(t,e){return{documents:[Jw(t,e.path)]}}function NR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Jw(t,i);const l=(function(p){if(p.length!==0)return tS(us.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((g=>(function(_){return{field:Ga(_.field),direction:LR(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=eg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:i}}function DR(t){let e=kR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=eS(v);return _ instanceof us&&Rw(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(C){return new Uc(Wa(C.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let _;return _=typeof v=="object"?v.value:v,Bh(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(v){const _=!!v.before,S=v.values||[];return new ol(S,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const _=!v.before,S=v.values||[];return new ol(S,_)})(n.endAt)),JI(e,i,c,l,d,"F",f,p)}function MR(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wa(n.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wa(n.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Me()}})(t):t.fieldFilter!==void 0?(function(n){return Gt.create(Wa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return us.create(n.compositeFilter.filters.map((r=>eS(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me()}})(n.compositeFilter.op))})(t):Me()}function LR(t){return SR[t]}function FR(t){return TR[t]}function VR(t){return jR[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Wa(t){return bn.fromServerFormat(t.fieldPath)}function tS(t){return t instanceof Gt?(function(n){if(n.op==="=="){if(e1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:FR(n.op),value:n.value}}})(t):t instanceof us?(function(n){const r=n.getFilters().map((i=>tS(i)));return r.length===1?r[0]:{compositeFilter:{op:VR(n.op),filters:r}}})(t):Me()}function BR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,i,l=Be.min(),c=Be.min(),d=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.ct=e}}function $R(t){const e=DR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.un=new zR}addToCollectionParentIndex(e,n){return this.un.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Ki.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class zR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(lt.comparator),l=!i.has(r);return this.index[n]=i.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new al(0)}static kn(){return new al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.changes=new vl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Cc(r.mutation,i,br.empty(),Qt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Oo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((l=>{let c=vc();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Oo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const i=[];return r.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let l=hi();const c=Ec(),d=(function(){return Ec()})();return n.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof eo)?l=l.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Cc(g.mutation,p,g.mutation.getFieldMask(),Qt.now())):c.set(p.key,br.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>{var v;return d.set(p,new GR(g,(v=c.get(p))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Ec();let i=new Et(((c,d)=>c-d)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||br.empty();g=d.applyToLocalView(p,g),r.set(f,g);const v=(i.get(d.batchId)||Ge()).add(f);i=i.insert(d.batchId,v)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,v=Bw();g.forEach((_=>{if(!l.has(_)){const S=Gw(n.get(_),r.get(_));S!==null&&v.set(_,S),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-l.size):de.resolve(Oo());let d=-1,f=l;return c.next((p=>de.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Ge()))).next((g=>({batchId:d,changes:Vw(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const l=n.collectionGroup;let c=vc();return this.indexManager.getCollectionParents(e,l).next((d=>de.forEach(d,(f=>{const p=(function(v,_){return new gi(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,i)))).next((c=>{l.forEach(((f,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Nn.newInvalidDocument(g)))}));let d=vc();return c.forEach(((f,p)=>{const g=l.get(f);g!==void 0&&Cc(g.mutation,p,br.empty(),Qt.now()),Uh(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return de.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Rs(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:$R(i.bundledQuery),readTime:Rs(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.overlays=new Et(ke.comparator),this.Ir=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oo();return de.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,l)=>{this.ht(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=Oo(),l=n.length+1,c=new ke(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let l=new Et(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=Oo(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Oo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=i)););return de.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new yR(n,r));let l=this.Ir.get(n);l===void 0&&(l=Ge(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.Tr=new wn(rn.Er),this.dr=new wn(rn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new rn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new ke(new lt([])),r=new rn(n,e),i=new rn(n,e+1),l=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ke(new lt([])),r=new rn(n,e),i=new rn(n,e+1);let l=Ge();return this.dr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new rn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ke.comparator(e.key,n.key)||et(e.wr,n.wr)}static Ar(e,n){return et(e.wr,n.wr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wn(rn.Er)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gR(l,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),i=new rn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);l.push(d)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(et);return n.forEach((i=>{const l=new rn(i,0),c=new rn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{r=r.add(d.wr)}))})),de.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let l=r;ke.isDocumentKey(l)||(l=l.child(""));const c=new rn(new ke(l),0);let d=new wn(et);return this.br.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.wr)),!0)}),c),de.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return de.forEach(n.mutations,(i=>{const l=new rn(i.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new rn(n,0),i=this.br.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.Mr=e,this.docs=(function(){return new Et(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),l=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Nn.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let l=hi();const c=n.path,d=new ke(c.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||NI(PI(g),r)<=0||(i.has(g.key)||Uh(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,i){Me()}Or(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JR(this)}getSize(e){return de.resolve(this.size)}}class JR extends HR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.persistence=e,this.Nr=new vl((n=>Qg(n)),Yg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sy,this.targetCount=0,this.kr=al.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),de.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new al(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Kn(n),de.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),de.waitFor(l).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Wg(0),this.Kr=!1,this.Kr=!0,this.$r=new QR,this.referenceDelegate=e(this),this.Ur=new ZR(this),this.indexManager=new UR,this.remoteDocumentCache=(function(i){return new XR(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new OR(n),this.Gr=new qR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new tP(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((l=>this.referenceDelegate.jr(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Hr(e,n){return de.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class tP extends MI{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Jr=new sy,this.Yr=null}static Zr(e){return new iy(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),de.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,(r=>{const i=ke.fromPath(r);return this.ei(e,i).next((l=>{l||n.removeEntry(i,Be.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return de.or([()=>de.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ge(),i=Ge();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new oy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return oA()?8:LI(sA())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new nP;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(uc()<=Xe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(uc()<=Xe.DEBUG&&Te("QueryEngine","Query:",Ha(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(uc()<=Xe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):de.resolve())}Yi(e,n){if(s1(n))return de.resolve(null);let r=Is(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=yh(n,null,"F"),r=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ge(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.ts(n,d);return this.ns(n,p,c,f.readTime)?this.Yi(e,yh(n,null,"F")):this.rs(e,p,n,f)}))))})))))}Zi(e,n,r,i){return s1(n)||i.isEqual(Be.min())?de.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,i)?de.resolve(null):(uc()<=Xe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(n)),this.rs(e,c,n,RI(i,-1)).next((d=>d)))}))}ts(e,n){let r=new wn(Lw(e));return n.forEach(((i,l)=>{Uh(e,l)&&(r=r.add(l))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Xi(e,n,r){return uc()<=Xe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Et(et),this._s=new vl((l=>Qg(l)),Yg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function iP(t,e,n,r){return new sP(t,e,n,r)}async function rS(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let f=Ge();for(const p of i){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function oP(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const v=p.batch,_=v.keys();let S=de.resolve();return _.forEach((C=>{S=S.next((()=>g.getEntry(f,C))).next((A=>{const j=p.docVersions.get(C);st(j!==null),A.version.compareTo(j)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Ge();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function sS(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function aP(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((g,v)=>{const _=i.get(v);if(!_)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,v))));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Sn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(v,S),(function(A,j,D){return A.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(_,S,g)&&d.push(n.Ur.updateTargetData(l,S))}));let f=hi(),p=Ge();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(lP(l,c,e.documentUpdates).next((g=>{f=g.Ps,p=g.Is}))),!r.isEqual(Be.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((v=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return de.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.os=i,l)))}function lP(t,e,n){let r=Ge(),i=Ge();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=hi();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Te("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Ps:c,Is:i}}))}function cP(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function uP(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((l=>l?(i=l,de.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new Hi(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function sg(t,e,n){const r=Oe(t),i=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!tu(c))throw c;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function m1(t,e,n){const r=Oe(t);let i=Be.min(),l=Ge();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,g){const v=Oe(f),_=v._s.get(g);return _!==void 0?de.resolve(v.os.get(_)):v.Ur.getTargetData(p,g)})(r,c,Is(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:Be.min(),n?l:Ge()))).next((d=>(dP(r,eR(e),d),{documents:d,Ts:l})))))}function dP(t,e,n){let r=t.us.get(e)||Be.min();n.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class g1{constructor(){this.activeTargetIds=oR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hP{constructor(){this.so=new g1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=null;function Jp(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class gP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${l}`}get Fo(){return!1}Mo(n,r,i,l,c){const d=Jp(),f=this.xo(n,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${d}:`,f,i);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,f,p,i).then((g=>(Te("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw nl("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",f,"request:",i),g}))}Lo(n,r,i,l,c,d){return this.Mo(n,r,i,l,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),i&&i.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const i=pP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const l=Jp();return new Promise(((c,d)=>{const f=new xw;f.setWithCredentials(!0),f.listenOnce(bw.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case eh.NO_ERROR:const g=f.getResponseJson();Te(An,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case eh.TIMEOUT:Te(An,`RPC '${e}' ${l} timed out`),d(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const v=f.getStatus();if(Te(An,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const C=(function(j){const D=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(D)>=0?D:ie.UNKNOWN})(S.status);d(new ve(C,S.message))}else d(new ve(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Te(An,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Te(An,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}Bo(e,n,r){const i=Jp(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Sw(),d=ww(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=l.join("");Te(An,`Creating RPC '${e}' stream ${i}: ${g}`,f);const v=c.createWebChannel(g,f);let _=!1,S=!1;const C=new mP({Io:j=>{S?Te(An,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(_||(Te(An,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),Te(An,`RPC '${e}' stream ${i} sending:`,j),v.send(j))},To:()=>v.close()}),A=(j,D,B)=>{j.listen(D,(F=>{try{B(F)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(v,yc.EventType.OPEN,(()=>{S||(Te(An,`RPC '${e}' stream ${i} transport opened.`),C.yo())})),A(v,yc.EventType.CLOSE,(()=>{S||(S=!0,Te(An,`RPC '${e}' stream ${i} transport closed`),C.So())})),A(v,yc.EventType.ERROR,(j=>{S||(S=!0,nl(An,`RPC '${e}' stream ${i} transport errored:`,j),C.So(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),A(v,yc.EventType.MESSAGE,(j=>{var D;if(!S){const B=j.data[0];st(!!B);const F=B,U=F.error||((D=F[0])===null||D===void 0?void 0:D.error);if(U){Te(An,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let W=(function(I){const M=Ot[I];if(M!==void 0)return qw(M)})($),E=U.message;W===void 0&&(W=ie.INTERNAL,E="Unknown error status: "+$+" with message "+U.message),S=!0,C.So(new ve(W,E)),v.close()}else Te(An,`RPC '${e}' stream ${i} received:`,B),C.bo(B)}})),A(d,_w.STAT_EVENT,(j=>{j.stat===Km.PROXY?Te(An,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===Km.NOPROXY&&Te(An,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.wo()}),0),C}}function Zp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new ER(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r=1e3,i=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r,i,l,c,d,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new ve(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yP extends oS{constructor(e,n,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=AR(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?Rs(c.readTime):Be.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=rg(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=Jm(f)?{documents:PR(l,f)}:{query:NR(l,f)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Yw(l,c.resumeToken);const p=eg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=xh(l,c.snapshotVersion.toTimestamp());const p=eg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=MR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.a_(n)}}class vP extends oS{constructor(e,n,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=RR(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=rg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>IR(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,tg(n,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ie.UNKNOWN,l.toString())}))}Lo(e,n,r,i,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,tg(n,r),i,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ie.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class bP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(di(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{Yo(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const p=Oe(f);p.L_.add(4),await su(p),p.q_.set("Unknown"),p.L_.delete(4),await qh(p)})(this))}))})),this.q_=new bP(r,i)}}async function qh(t){if(Yo(t))for(const e of t.B_)await e(!0)}async function su(t){for(const e of t.B_)await e(!1)}function aS(t,e){const n=Oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),uy(n)?cy(n):xl(n).r_()&&ly(n,e))}function ay(t,e){const n=Oe(t),r=xl(n);n.N_.delete(e),r.r_()&&lS(n,e),n.N_.size===0&&(r.r_()?r.o_():Yo(n)&&n.q_.set("Unknown"))}function ly(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).A_(e)}function lS(t,e){t.Q_.xe(e),xl(t).R_(e)}function cy(t){t.Q_=new wR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.q_.v_()}function uy(t){return Yo(t)&&!xl(t).n_()&&t.N_.size>0}function Yo(t){return Oe(t).L_.size===0}function cS(t){t.Q_=void 0}async function wP(t){t.q_.set("Online")}async function SP(t){t.N_.forEach(((e,n)=>{ly(t,e)}))}async function TP(t,e){cS(t),uy(t)?(t.q_.M_(e),cy(t)):t.q_.set("Unknown")}async function jP(t,e,n){if(t.q_.set("Online"),e instanceof Qw&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const d of l.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(t,r)}else if(e instanceof rh?t.Q_.Ke(e):e instanceof Kw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const r=await sS(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=l.N_.get(p);g&&l.N_.set(p,g.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const g=l.N_.get(f);if(!g)return;l.N_.set(f,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),lS(l,f);const v=new Hi(g.target,f,p,g.sequenceNumber);ly(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await bh(t,r)}}async function bh(t,e,n){if(!tu(e))throw e;t.L_.add(1),await su(t),t.q_.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qh(t)}))}function uS(t,e){return e().catch((n=>bh(t,n,e)))}async function Kh(t){const e=Oe(t),n=Yi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EP(e);)try{const i=await cP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,CP(e,i)}catch(i){await bh(e,i)}dS(e)&&hS(e)}function EP(t){return Yo(t)&&t.O_.length<10}function CP(t,e){t.O_.push(e);const n=Yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dS(t){return Yo(t)&&!Yi(t).n_()&&t.O_.length>0}function hS(t){Yi(t).start()}async function kP(t){Yi(t).p_()}async function AP(t){const e=Yi(t);for(const n of t.O_)e.m_(n.mutations)}async function IP(t,e,n){const r=t.O_.shift(),i=ty.from(r,e,n);await uS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Kh(t)}async function RP(t,e){e&&Yi(t).V_&&await(async function(r,i){if((function(c){return xR(c)&&c!==ie.ABORTED})(i.code)){const l=r.O_.shift();Yi(r).s_(),await uS(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Kh(r)}})(t,e),dS(t)&&hS(t)}async function v1(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.L_.add(3),await su(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qh(n)}async function PP(t,e){const n=Oe(t);e?(n.L_.delete(2),await qh(n)):e||(n.L_.add(2),await su(n),n.q_.set("Unknown"))}function xl(t){return t.K_||(t.K_=(function(n,r,i){const l=Oe(n);return l.w_(),new yP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:wP.bind(null,t),Ro:SP.bind(null,t),mo:TP.bind(null,t),d_:jP.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),uy(t)?cy(t):t.q_.set("Unknown")):(await t.K_.stop(),cS(t))}))),t.K_}function Yi(t){return t.U_||(t.U_=(function(n,r,i){const l=Oe(n);return l.w_(),new vP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kP.bind(null,t),mo:RP.bind(null,t),f_:AP.bind(null,t),g_:IP.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Kh(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,l){const c=Date.now()+r,d=new dy(e,n,c,i,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(di("AsyncQueue",`${e}: ${t}`),tu(t))return new ve(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new el(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.W_=new Et(ke.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ll{constructor(e,n,r,i,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ll(e,n,el.emptySet(n),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class DP{constructor(){this.queries=b1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Oe(n),l=i.queries;i.queries=b1(),l.forEach(((c,d)=>{for(const f of d.j_)f.onError(r)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function b1(){return new vl((t=>Mw(t)),$h)}async function fS(t,e){const n=Oe(t);let r=3;const i=e.query;let l=n.queries.get(i);l?!l.H_()&&e.J_()&&(r=2):(l=new NP,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(i,!0);break;case 1:l.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=hy(c,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&fy(n)}async function pS(t,e){const n=Oe(t),r=e.query;let i=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?i=e.J_()?0:1:!l.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MP(t,e){const n=Oe(t);let r=!1;for(const i of e){const l=i.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&fy(n)}function LP(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const l of i.j_)l.onError(n);r.queries.delete(e)}function fy(t){t.Y_.forEach((e=>{e.next()}))}var ig,_1;(_1=ig||(ig={})).ea="default",_1.Cache="cache";class mS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.key=e}}class yS{constructor(e){this.key=e}}class FP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=Lw(e),this.Ra=new el(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new x1,i=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,v)=>{const _=i.get(g),S=Uh(this.query,v)?v:null,C=!!_&&this.mutatedKeys.has(_.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let j=!1;_&&S?_.data.isEqual(S.data)?C!==A&&(r.track({type:3,doc:S}),j=!0):this.ga(_,S)||(r.track({type:2,doc:S}),j=!0,(f&&this.Aa(S,f)>0||p&&this.Aa(S,p)<0)&&(d=!0)):!_&&S?(r.track({type:0,doc:S}),j=!0):_&&!S&&(r.track({type:1,doc:_}),j=!0,(f||p)&&(d=!0)),j&&(S?(c=c.add(S),l=A?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,v)=>(function(S,C){const A=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return A(S)-A(C)})(g.type,v.type)||this.Aa(g.doc,v.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,p=f!==this.Ea;return this.Ea=f,c.length!==0||p?{snapshot:new ll(this.query,e.Ra,l,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new x1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new yS(r))})),this.da.forEach((r=>{e.has(r)||n.push(new gS(r))})),n}ba(e){this.Ta=e.Ts,this.da=Ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ll.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class VP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BP{constructor(e){this.key=e,this.va=!1}}class OP{constructor(e,n,r,i,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new vl((d=>Mw(d)),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(ke.comparator),this.Na=new Map,this.La=new sy,this.Ba={},this.ka=new Map,this.qa=al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $P(t,e,n=!0){const r=SS(t);let i;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.Da()):i=await vS(r,e,n,!0),i}async function UP(t,e){const n=SS(t);await vS(n,e,!0,!1)}async function vS(t,e,n,r){const i=await uP(t.localStore,Is(e)),l=i.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await zP(t,e,l,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&aS(t.remoteStore,i),d}async function zP(t,e,n,r,i){t.Ka=(v,_,S)=>(async function(A,j,D,B){let F=j.view.ma(D);F.ns&&(F=await m1(A.localStore,j.query,!1).then((({documents:E})=>j.view.ma(E,F))));const U=B&&B.targetChanges.get(j.targetId),$=B&&B.targetMismatches.get(j.targetId)!=null,W=j.view.applyChanges(F,A.isPrimaryClient,U,$);return S1(A,j.targetId,W.wa),W.snapshot})(t,v,_,S);const l=await m1(t.localStore,e,!0),c=new FP(e,l.Ts),d=c.ma(l.documents),f=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=c.applyChanges(d,t.isPrimaryClient,f);S1(t,n,p.wa);const g=new VP(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function HP(t,e,n){const r=Oe(t),i=r.Fa.get(e),l=r.Ma.get(i.targetId);if(l.length>1)return r.Ma.set(i.targetId,l.filter((c=>!$h(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ay(r.remoteStore,i.targetId),og(r,i.targetId)})).catch(eu)):(og(r,i.targetId),await sg(r.localStore,i.targetId,!0))}async function GP(t,e){const n=Oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function WP(t,e,n){const r=ZP(t);try{const i=await(function(c,d){const f=Oe(c),p=Qt.now(),g=d.reduce(((S,C)=>S.add(C.key)),Ge());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=hi(),A=Ge();return f.cs.getEntries(S,g).next((j=>{C=j,C.forEach(((D,B)=>{B.isValidDocument()||(A=A.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,C))).next((j=>{v=j;const D=[];for(const B of d){const F=pR(B,v.get(B.key).overlayedDocument);F!=null&&D.push(new eo(B.key,F,kw(F.value.mapValue),$r.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,D,d)})).next((j=>{_=j;const D=j.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(S,j.batchId,D)}))})).then((()=>({batchId:_.batchId,changes:Vw(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,f){let p=c.Ba[c.currentUser.toKey()];p||(p=new Et(et)),p=p.insert(d,f),c.Ba[c.currentUser.toKey()]=p})(r,i.batchId,n),await iu(r,i.changes),await Kh(r.remoteStore)}catch(i){const l=hy(i,"Failed to persist write");n.reject(l)}}async function xS(t,e){const n=Oe(t);try{const r=await aP(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=n.Na.get(l);c&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?st(c.va):i.removedDocuments.size>0&&(st(c.va),c.va=!1))})),await iu(n,r,e)}catch(r){await eu(r)}}function w1(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const f=Oe(c);f.onlineState=d;let p=!1;f.queries.forEach(((g,v)=>{for(const _ of v.j_)_.Z_(d)&&(p=!0)})),p&&fy(f)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qP(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),l=i&&i.key;if(l){let c=new Et(ke.comparator);c=c.insert(l,Nn.newNoDocument(l,Be.min()));const d=Ge().add(l),f=new Gh(Be.min(),new Map,new Et(et),c,d);await xS(r,f),r.Oa=r.Oa.remove(l),r.Na.delete(e),py(r)}else await sg(r.localStore,e,!1).then((()=>og(r,e,n))).catch(eu)}async function KP(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await oP(n.localStore,e);_S(n,r,null),bS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,i)}catch(i){await eu(i)}}async function QP(t,e,n){const r=Oe(t);try{const i=await(function(c,d){const f=Oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((v=>(st(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);_S(r,e,n),bS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await iu(r,i)}catch(i){await eu(i)}}function bS(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function _S(t,e,n){const r=Oe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||wS(t,r)}))}function wS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ay(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),py(t))}function S1(t,e,n){for(const r of n)r instanceof gS?(t.La.addReference(r.key,e),YP(t,r)):r instanceof yS?(Te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||wS(t,r.key)):Me()}function YP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Te("SyncEngine","New document in limbo: "+n),t.xa.add(r),py(t))}function py(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ke(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new BP(n)),t.Oa=t.Oa.insert(n,r),aS(t.remoteStore,new Hi(Is(Xg(n.path)),r,"TargetPurposeLimboResolution",Wg.oe))}}async function iu(t,e,n){const r=Oe(t),i=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,f)=>{c.push(r.Ka(f,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){i.push(p);const v=oy.Wi(f.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(f,p){const g=Oe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(p,(_=>de.forEach(_.$i,(S=>g.persistence.referenceDelegate.addReference(v,_.targetId,S))).next((()=>de.forEach(_.Ui,(S=>g.persistence.referenceDelegate.removeReference(v,_.targetId,S)))))))))}catch(v){if(!tu(v))throw v;Te("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const S=g.os.get(_),C=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(C);g.os=g.os.insert(_,A)}}})(r.localStore,l))}async function XP(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await rS(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((f=>{f.reject(new ve(ie.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(n,r.hs)}}function JP(t,e){const n=Oe(t),r=n.Na.get(e);if(r&&r.va)return Ge().add(r.key);{let i=Ge();const l=n.Ma.get(e);if(!l)return i;for(const c of l){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function SS(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.Ca.d_=MP.bind(null,e.eventManager),e.Ca.$a=LP.bind(null,e.eventManager),e}function ZP(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QP.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iP(this.persistence,new rP,e.initialUser,this.serializer)}Ga(e){return new eP(iy.Zr,this.serializer)}Wa(e){return new hP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XP.bind(null,this.syncEngine),await PP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DP})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=(function(l){return new gP(l)})(e.databaseInfo);return(function(l,c,d,f){return new xP(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,l,c,d){return new _P(r,i,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>w1(this.syncEngine,n,0)),(function(){return y1.D()?new y1:new fP})())}createSyncEngine(e,n){return(function(i,l,c,d,f,p,g){const v=new OP(i,l,c,d,f,p);return g&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const l=Oe(i);Te("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await su(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ag.provider={build:()=>new ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Te("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function em(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function T1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tN(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>v1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>v1(e.remoteStore,i))),t._onlineComponents=e}async function tN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await em(t,new _h)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await em(t,new _h);return t._offlineComponents}async function jS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await T1(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await T1(t,new ag))),t._onlineComponents}function nN(t){return jS(t).then((e=>e.syncEngine))}async function ES(t){const e=await jS(t),n=e.eventManager;return n.onListen=$P.bind(null,e.syncEngine),n.onUnlisten=HP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GP.bind(null,e.syncEngine),n}function rN(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const g=new TS({next:_=>{g.Za(),c.enqueueAndForget((()=>pS(l,v)));const S=_.docs.has(d);!S&&_.fromCache?p.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new mS(Xg(d.path),g,{includeMetadataChanges:!0,_a:!0});return fS(l,v)})(await ES(t),t.asyncQueue,e,n,r))),r.promise}function sN(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const g=new TS({next:_=>{g.Za(),c.enqueueAndForget((()=>pS(l,v))),_.fromCache&&f.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new mS(d,g,{includeMetadataChanges:!0,_a:!0});return fS(l,v)})(await ES(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e,n){if(!n)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iN(t,e,n,r){if(e===!0&&r===!0)throw new ve(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E1(t){if(!ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C1(t){if(ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(t);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function oN(t,e){if(e<=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ou{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wI;switch(r.type){case"firstParty":return new EI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=j1.get(n);r&&(Te("ComponentProvider","Removing Datastore"),j1.delete(n),r.terminate())})(this),Promise.resolve()}}function aN(t,e,n,r={}){var i;const l=(t=fi(t,ou))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Rn.MOCK_USER;else{d=rA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Rn(p)}t._authCredentials=new SI(new Tw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class or{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class qi extends fs{constructor(e,n,r){super(e,n,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new ke(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function gy(t,e,...n){if(t=cs(t),my("collection","path",e),t instanceof ou){const r=lt.fromString(e,...n);return C1(r),new qi(t,null,r)}{if(!(t instanceof or||t instanceof qi))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return C1(r),new qi(t.firestore,null,r)}}function lN(t,e){if(t=fi(t,ou),my("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fs(t,null,(function(r){return new gi(lt.emptyPath(),r)})(e))}function zt(t,e,...n){if(t=cs(t),arguments.length===1&&(e=jw.newId()),my("doc","path",e),t instanceof ou){const r=lt.fromString(e,...n);return E1(r),new or(t,null,new ke(r))}{if(!(t instanceof or||t instanceof qi))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return E1(r),new or(t.firestore,t instanceof qi?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iS(this,"async_queue_retry"),this.Vu=()=>{const r=Zp();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new li;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!tu(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw di("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=dy.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(i),i}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class au extends ou{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A1(e),this._firestoreClient=void 0,await e}}}function cN(t,e){const n=typeof t=="object"?t:mw(),r=typeof t=="string"?t:"(default)",i=lI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=tA("firestore");l&&aN(i,...l)}return i}function Yh(t){if(t._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uN(t),t._firestoreClient}function uN(t){var e,n,r;const i=t._freezeSettings(),l=(function(d,f,p,g){return new BI(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CS(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eN(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cl(Sn.fromBase64String(e))}catch(n){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cl(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=/^__.*__$/;class hN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class kS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class xy{constructor(e,n,r,i,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AS(this.Cu)&&dN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}Qu(e,n,r,i=!1){return new xy({Cu:e,methodName:n,qu:r,path:bn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new fN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IS(t,e,n,r,i,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,i);_y("Data must be an object, but it was:",c,r);const d=PS(r,c);let f,p;if(l.merge)f=new br(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=lg(e,v,n);if(!c.contains(_))throw new ve(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);DS(g,_)||g.push(_)}f=new br(g),p=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=c.fieldTransforms;return new hN(new ir(d),f,p)}class ef extends Jh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}class by extends Jh{_toFieldTransform(e){return new uR(e.path,new zc)}isEqual(e){return e instanceof by}}function pN(t,e,n,r){const i=t.Qu(1,e,n);_y("Data must be an object, but it was:",i,r);const l=[],c=ir.empty();Qo(r,((f,p)=>{const g=wy(e,f,n);p=cs(p);const v=i.Nu(g);if(p instanceof ef)l.push(g);else{const _=lu(p,v);_!=null&&(l.push(g),c.set(g,_))}}));const d=new br(l);return new kS(c,d,i.fieldTransforms)}function mN(t,e,n,r,i,l){const c=t.Qu(1,e,n),d=[lg(e,r,n)],f=[i];if(l.length%2!=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(lg(e,l[_])),f.push(l[_+1]);const p=[],g=ir.empty();for(let _=d.length-1;_>=0;--_)if(!DS(p,d[_])){const S=d[_];let C=f[_];C=cs(C);const A=c.Nu(S);if(C instanceof ef)p.push(S);else{const j=lu(C,A);j!=null&&(p.push(S),g.set(S,j))}}const v=new br(p);return new kS(g,v,c.fieldTransforms)}function RS(t,e,n,r=!1){return lu(n,t.Qu(r?4:3,e))}function lu(t,e){if(NS(t=cs(t)))return _y("Unsupported field value:",e,t),PS(t,e);if(t instanceof Jh)return(function(r,i){if(!AS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const d of r){let f=lu(d,i.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,i){if((r=cs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Qt.fromDate(r);return{timestampValue:xh(i.serializer,l)}}if(r instanceof Qt){const l=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,l)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cl)return{bytesValue:Yw(i.serializer,r._byteString)};if(r instanceof or){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ry(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vy)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return Zg(d.serializer,f)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Qh(r)}`)})(t,e)}function PS(t,e){const n={};return Ew(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,((r,i)=>{const l=lu(i,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof yy||t instanceof cl||t instanceof or||t instanceof Jh||t instanceof vy)}function _y(t,e,n){if(!NS(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function lg(t,e,n){if((e=cs(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return wy(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const gN=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search(gN)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch(r){throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new ve(ie.INVALID_ARGUMENT,d+t+f)}function DS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,i,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yN extends Sy{data(){return super.data()}}function tf(t,e){return typeof e=="string"?wy(t,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class cu extends Ty{}function Ui(t,e,...n){let r=[];e instanceof Ty&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((f=>f instanceof jy)).length,d=l.filter((f=>f instanceof nf)).length;if(c>1||c>0&&d>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class nf extends cu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nf(e,n,r)}_apply(e){const n=this._parse(e);return LS(e._query,n),new fs(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=Zh(e.firestore);return(function(l,c,d,f,p,g,v){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){R1(v,g);const S=[];for(const C of v)S.push(I1(f,l,C));_={arrayValue:{values:S}}}else _=I1(f,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||R1(v,g),_=RS(d,c,v,g==="in"||g==="not-in");return Gt.create(p,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sh(t,e,n){const r=e,i=tf("where",t);return nf._create(i,r,n)}class jy extends Ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let c=i;const d=l.getFlattenedFilters();for(const f of d)LS(c,f),c=Zm(c,f)})(e._query,n),new fs(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ey extends cu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ey(e,n)}_apply(e){const n=(function(i,l,c){if(i.startAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(l,c)})(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,(function(i,l){const c=i.explicitOrderBy.concat([l]);return new gi(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ld(t,e="asc"){const n=e,r=tf("orderBy",t);return Ey._create(r,n)}class Cy extends cu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Cy(e,n,r)}_apply(e){return new fs(e.firestore,e.converter,yh(e._query,this._limit,this._limitType))}}function zi(t){return oN("limit",t),Cy._create("limit",t,"F")}class ky extends cu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ky(e,n,r)}_apply(e){const n=MS(e,this.type,this._docOrFields,this._inclusive);return new fs(e.firestore,e.converter,(function(i,l){return new gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)})(e._query,n))}}function Fd(...t){return ky._create("startAt",t,!0)}class Ay extends cu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){const n=MS(e,this.type,this._docOrFields,this._inclusive);return new fs(e.firestore,e.converter,(function(i,l){return new gi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,l)})(e._query,n))}}function Vd(...t){return Ay._create("endAt",t,!0)}function MS(t,e,n,r){if(n[0]=cs(n[0]),n[0]instanceof Sy)return(function(l,c,d,f,p){if(!f)throw new ve(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of Za(l))if(v.field.isKeyField())g.push(gh(c,f.key));else{const _=f.data.field(v.field);if(Oh(_))throw new ve(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const S=v.field.canonicalString();throw new ve(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(_)}return new ol(g,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Zh(t.firestore);return(function(c,d,f,p,g,v){const _=c.explicitOrderBy;if(g.length>_.length)throw new ve(ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let C=0;C<g.length;C++){const A=g[C];if(_[C].field.isKeyField()){if(typeof A!="string")throw new ve(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof A}`);if(!Jg(c)&&A.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${A}' contains a slash.`);const j=c.path.child(lt.fromString(A));if(!ke.isDocumentKey(j))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const D=new ke(j);S.push(gh(d,D))}else{const j=RS(f,p,A);S.push(j)}}return new ol(S,v)})(t._query,t.firestore._databaseId,i,e,n,r)}}function I1(t,e,n){if(typeof(n=cs(n))=="string"){if(n==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jg(e)&&n.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gh(t,new ke(r))}if(n instanceof or)return gh(t,n._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(t,e){const n=(function(i,l){for(const c of i)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xN{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qo(e,((i,l)=>{r[i]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,i;const l=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>Lt(c.doubleValue)));return new vy(l)}convertGeoPoint(e){return new yy(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);st(nS(r));const i=new Oc(r.get(1),r.get(3)),l=new ke(r.popFirst(5));return i.isEqual(n)||di(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VS extends Sy{constructor(e,n,r,i,l,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ih extends VS{data(e={}){return super.data(e)}}class bN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ih(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const f=new ih(i._firestore,i._userDataWriter,d.doc.key,d.doc,new bc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new ih(i._firestore,i._userDataWriter,d.doc.key,d.doc,new bc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:_N(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _N(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){t=fi(t,or);const e=fi(t.firestore,au);return rN(Yh(e),t._key).then((n=>wN(e,t,n)))}class BS extends xN{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,n)}}function ii(t){t=fi(t,fs);const e=fi(t.firestore,au),n=Yh(e),r=new BS(e);return vN(t._query),sN(n,t._query).then((i=>new bN(e,r,t,i)))}function Sh(t,e,n){t=fi(t,or);const r=fi(t.firestore,au),i=FS(t.converter,e,n);return OS(r,[IS(Zh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function OS(t,e){return(function(r,i){const l=new li;return r.asyncQueue.enqueueAndForget((async()=>WP(await nN(r),i,l))),l.promise})(Yh(t),e)}function wN(t,e,n){const r=n.docs.get(e._key),i=new BS(t);return new VS(t,i,e._key,r,new bc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zh(e)}set(e,n,r){this._verifyNotCommitted();const i=tm(e,this._firestore),l=FS(i.converter,n,r),c=IS(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,$r.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const l=tm(e,this._firestore);let c;return c=typeof(n=cs(n))=="string"||n instanceof Xh?mN(this._dataReader,"WriteBatch.update",l._key,n,r,i):pN(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,$r.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=tm(e,this._firestore);return this._mutations=this._mutations.concat(new ey(n._key,$r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tm(t,e){if((t=cs(t)).firestore!==e)throw new ve(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function si(){return new by("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){return Yh(t=fi(t,au)),new SN(t,(e=>OS(t,e)))}(function(e,n=!0){(function(i){yl=i})(dI),ph(new Mc("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new au(new TI(r.getProvider("auth-internal")),new kI(r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(p.options.projectId,g)})(c,i),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ja(K0,"4.7.3",e),Ja(K0,"4.7.3","esm2017")})();var jN="firebase",EN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja(jN,EN,"app");const Iy={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Iy.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const CN=hI().length?mw():pw(Iy),pt=cN(CN);console.log("[FB] projectId =",Iy.projectId);const os={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},as=t=>`https://drive.google.com/uc?export=view&id=${t}`,$S=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Yt=[{key:"warrior",label:"Warrior",iconUrl:as(os.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:as(os.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:as(os.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:as(os.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:as(os["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:as(os.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:as(os["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:as(os.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:as(os.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:as(os.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:as(os.paladin),fallback:""}],cg=Object.fromEntries(Yt.map(t=>[t.key,t])),ug=new Map;function Ct(t,e){ug.set($S(t),e)}for(const t of Yt)Ct(t.key,t.key),Ct(t.label,t.key);Ct("war","warrior");Ct("krieger","warrior");Ct("magier","mage");Ct("jaeger","scout");Ct("jger","scout");Ct("assa","assassin");Ct("meuchelmoerder","assassin");Ct("meuchelmrder","assassin");Ct("demonhunter","demon-hunter");Ct("dh","demon-hunter");Ct("daemonenjaeger","demon-hunter");Ct("dmonenjger","demon-hunter");Ct("zerker","berserker");Ct("battlemage","battle-mage");Ct("kampfmagier","battle-mage");Ct("bm","battle-mage");Ct("druide","druid");Ct("barde","bard");Ct("necro","necromancer");Ct("nekromant","necromancer");Ct("pala","paladin");function kN(t){const e=$S(t);if(!e)return{};const n=ug.get(e);if(n){const r=cg[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of ug.entries())if(r.startsWith(e)||e.startsWith(r)){const l=cg[i];return{url:l.iconUrl,fallback:l.fallback}}return{}}const AN=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Yt,CLASS_BY_KEY:cg,iconForClassName:kN},Symbol.toStringTag,{value:"Module"}));function Ry(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function dg(t){if(!t)return;const e=Ry(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function US(t,e=64){if(!t)return;const n=Ry(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function zS(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function HS(t,e,n,r){const i=dg(t);return i?zS(i,{w:e,h:n,fit:r}):void 0}function Fs(t,e=64){const n=US(t,e);return n?zS(n,{w:e,h:e,fit:"contain"}):void 0}const IN=Object.assign(t=>dg(t),{id:Ry,direct:dg,thumb:US,proxy:HS,thumbProxy:Fs}),nm=t=>Number.isFinite(t),Fa=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},RN=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function PN(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Yt.find(l=>n(l.label)===r);if(i||(i=Yt.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!i)return Fs(i.iconUrl,e)}function NN(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function DN({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=Zi(),[r,i]=Le.useState(""),[l,c]=Le.useState(""),[d,f]=Le.useState(!1),[p,g]=Le.useState(null),[v,_]=Le.useState([]),[S,C]=Le.useState([]),[A,j]=Le.useState([]),[D,B]=Le.useState(-1),F=Le.useRef(null);Le.useEffect(()=>{const E=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(E)},[r]),Le.useEffect(()=>{async function E(){g(null);const T=l;if(T.length<1){_([]),C([]),j([]),B(-1);return}f(!0);try{let I=function(Ee){var tt,Nt,Xt,Ft,kt,Hn,Gn,it,jr,Wn,an,ln,lr,qn,Kn,cr,ct,Qe,Qn,zr,ot,Er,Cr,ps,ms,gs,Vs,ys,ur,ut,Hr,Dn,dr,Bs;const me=Ee.data(),{root:Ce,id:Ae}=NN(Ee),Pe=Ae||me.playerId||me.guildIdentifier||"";if(Ce==="players"||me.playerId&&!me.guildIdentifier){if(!Pe||fe.has(Pe))return;fe.add(Pe),re.push({kind:"player",id:Pe,name:(Xt=(Nt=me.name)!=null?Nt:(tt=me.values)==null?void 0:tt.Name)!=null?Xt:null,nameFold:(Ft=me.nameFold)!=null?Ft:null,server:(Gn=(Hn=me.server)!=null?Hn:(kt=me.values)==null?void 0:kt.Server)!=null?Gn:null,guildName:(Wn=(jr=me.guildName)!=null?jr:(it=me.values)==null?void 0:it.Guild)!=null?Wn:null,className:(lr=(ln=me.className)!=null?ln:(an=me.values)==null?void 0:an.Class)!=null?lr:null,level:Fa((Kn=me.level)!=null?Kn:(qn=me.values)==null?void 0:qn.Level),ts:Fa(me.timestamp)});return}if(Ce==="guilds"||me.guildIdentifier&&!me.playerId){if(!Pe||K.has(Pe))return;K.add(Pe),ne.push({kind:"guild",id:Pe,name:(Qe=(ct=me.name)!=null?ct:(cr=me.values)==null?void 0:cr.Name)!=null?Qe:null,nameFold:(Qn=me.nameFold)!=null?Qn:null,server:(Er=(ot=me.server)!=null?ot:(zr=me.values)==null?void 0:zr.Server)!=null?Er:null,memberCount:Fa((gs=(ps=me.memberCount)!=null?ps:(Cr=me.values)==null?void 0:Cr["Guild Member Count"])!=null?gs:(ms=me.values)==null?void 0:ms.GuildMemberCount),hofRank:Fa((Bs=(Dn=(ut=(ys=me.hofRank)!=null?ys:(Vs=me.values)==null?void 0:Vs["Hall of Fame Rank"])!=null?ut:(ur=me.values)==null?void 0:ur.HoF)!=null?Dn:(Hr=me.values)==null?void 0:Hr.Rank)!=null?Bs:(dr=me.values)==null?void 0:dr["Guild Rank"]),ts:Fa(me.timestamp)});return}};const M=RN(T),L=lN(pt,"latest"),V=await ii(Ui(L,Ld("nameFold"),Fd(M),Vd(M+""),zi(e*6))),N=await ii(Ui(L,sh("nameNgrams","array-contains",M),zi(e*6))),fe=new Set,K=new Set,re=[],ne=[];V.forEach(I),N.forEach(I);const Q=gy(pt,"servers"),ae=T.toLowerCase(),oe=T.toUpperCase(),G=[ii(Ui(Q,Ld("displayName"),Fd(T),Vd(T+""),zi(e*4))),ii(Ui(Q,Ld("code"),Fd(oe),Vd(oe+""),zi(e*4))),ii(Ui(Q,Ld("host"),Fd(ae),Vd(ae+""),zi(e*4)))],ee=await Promise.allSettled(G),ye=new Set,we=[];for(const Ee of ee)Ee.status==="fulfilled"&&Ee.value.forEach(me=>{var Pe,tt,Nt,Xt,Ft;const Ce=me.data(),Ae=me.id;!Ae||ye.has(Ae)||(ye.add(Ae),we.push({kind:"server",id:Ae,displayName:(Pe=Ce.displayName)!=null?Pe:null,code:(tt=Ce.code)!=null?tt:null,host:(Nt=Ce.host)!=null?Nt:null,region:(Xt=Ce.region)!=null?Xt:null,type:(Ft=Ce.type)!=null?Ft:null,numericId:Fa(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});_(re.slice(0,e)),C(ne.slice(0,e)),j(we.slice(0,e)),B(re.length+ne.length+we.length?0:-1)}catch(I){g((I==null?void 0:I.message)||"Unbekannter Fehler bei der Suche."),_([]),C([]),j([]),B(-1)}finally{f(!1)}}return E(),()=>{}},[l,e]),Le.useEffect(()=>{const E=T=>{F.current&&(F.current.contains(T.target)||(_([]),C([]),j([]),B(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const U=[...v,...S,...A],$=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),_([]),C([]),j([]),B(-1),i("")},W=E=>{if(U.length)if(E.key==="ArrowDown")E.preventDefault(),B(T=>(T+1)%U.length);else if(E.key==="ArrowUp")E.preventDefault(),B(T=>(T-1+U.length)%U.length);else if(E.key==="Enter"){E.preventDefault();const T=U[D>=0?D:0];T&&$(T)}else E.key==="Escape"&&(_([]),C([]),j([]),B(-1))};return o.jsxs("div",{ref:F,style:$e.wrap,children:[o.jsx("input",{style:$e.input,placeholder:t,value:r,onChange:E=>i(E.target.value),onKeyDown:W,"aria-label":"Spieler, Gilden und Server suchen"}),(d||p||v.length||S.length||A.length)&&o.jsxs("div",{style:$e.dropdown,children:[d&&o.jsx("div",{style:$e.hint,children:"Suche"}),p&&!d&&o.jsxs("div",{style:$e.err,children:[" ",p]}),!d&&!p&&(v.length>0||S.length>0||A.length>0)&&o.jsxs(o.Fragment,{children:[v.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Spieler"}),v.map((E,T)=>{var L,V,N;const I=T===D,M=PN(E.className,64);return o.jsxs("button",{onClick:()=>$(E),style:I?$e.itemActive:$e.item,title:E.name||"",onMouseEnter:()=>B(T),children:[o.jsx("div",{style:$e.iconBoxPlain,children:M?o.jsx("img",{src:M,alt:"",style:$e.iconImgShadow,onError:fe=>{const K=fe.currentTarget.parentElement;K&&(K.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):o.jsx("div",{style:$e.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(L=E.name)!=null?L:"Unbekannt"}),nm(E.level)&&o.jsxs("span",{style:$e.badge,children:["Lvl ",E.level]})]}),o.jsxs("div",{style:$e.line2,children:[E.guildName?o.jsxs("span",{children:["",E.guildName,""]}):o.jsx("span",{style:$e.muted,children:""}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(V=E.className)!=null?V:"Klasse ?"}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(N=E.server)!=null?N:"Server ?"})]})]})]},`p-${E.id}-${T}`)})]}),S.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Gilden"}),S.map((E,T)=>{var L,V;const I=v.length+T,M=I===D;return o.jsxs("button",{onClick:()=>$(E),style:M?$e.itemActive:$e.item,title:E.name||"",onMouseEnter:()=>B(I),children:[o.jsx("div",{style:$e.iconBox,children:""}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(L=E.name)!=null?L:"Unbekannt"}),nm(E.hofRank)&&o.jsxs("span",{style:$e.badge,children:["HoF #",E.hofRank]})]}),o.jsxs("div",{style:$e.line2,children:[o.jsx("span",{children:(V=E.server)!=null?V:"Server ?"}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:nm(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${T}`)})]}),A.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Server"}),A.map((E,T)=>{var L,V,N,fe,K,re;const I=v.length+S.length+T,M=I===D;return o.jsxs("button",{onClick:()=>$(E),style:M?$e.itemActive:$e.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>B(I),children:[o.jsx("div",{style:$e.iconBoxPlain,children:o.jsx("div",{style:$e.serverGlyph,children:""})}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(N=(V=(L=E.displayName)!=null?L:E.code)!=null?V:E.host)!=null?N:E.id}),E.active!=null&&o.jsx("span",{style:$e.badge,children:E.active?"Aktiv":"Inaktiv"})]}),o.jsxs("div",{style:$e.line2,children:[o.jsx("span",{children:(fe=E.code)!=null?fe:""}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(K=E.host)!=null?K:""}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(re=E.region)!=null?re:""}),E.type?o.jsxs(o.Fragment,{children:[o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${T}`)})]})]}),!d&&!p&&v.length===0&&S.length===0&&A.length===0&&l.length>=1&&o.jsx("div",{style:$e.hint,children:"Keine Treffer"})]})]})}const $e={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function MN(t){var d,f,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,AN];for(const g of c){if(!g)continue;const v=(p=(f=(d=g[n])!=null?d:g[r])!=null?f:g[i])!=null?p:g[l];if(typeof v=="string")return v}}function LN({user:t}){var i;const{open:e,canUse:n}=ow(),r=()=>{e({tab:"json"})};return o.jsxs("header",{className:kn.topbar,children:[o.jsxs("div",{className:kn.topbarLeft,children:[o.jsx("button",{className:kn.btnIco,"aria-label":"Benachrichtigungen",children:o.jsx(XC,{className:kn.ico})}),o.jsx("button",{className:kn.btnIco,"aria-label":"Favoriten",children:o.jsx(Ck,{className:kn.ico})})]}),o.jsx("div",{className:kn.searchWrap,children:o.jsx(DN,{placeholder:"Suchen (Spieler)",getClassIcon:MN,maxResults:10})}),o.jsxs("div",{className:kn.topbarRight,children:[o.jsxs("a",{className:`${kn.pill} ${kn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[o.jsx(lk,{className:kn.ico}),"www.sfgame.net"]}),o.jsxs("button",{className:kn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[o.jsx(Rk,{className:kn.ico}),o.jsx("span",{className:kn.label,children:"Scan hochladen"})]}),o.jsx("button",{className:kn.avatarBtn,"aria-label":(i=t==null?void 0:t.name)!=null?i:"Gast",children:o.jsx("img",{className:kn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const FN="_root_xd4sk_3",VN="_expanded_xd4sk_45",BN="_headRow_xd4sk_55",ON="_headTitle_xd4sk_63",$N="_headDot_xd4sk_65",UN="_headLabel_xd4sk_67",zN="_pinBtn_xd4sk_69",HN="_navScroll_xd4sk_81",GN="_pad_xd4sk_83",WN="_segCard_xd4sk_89",qN="_segTitle_xd4sk_121",KN="_navCol_xd4sk_139",QN="_navItemWrap_xd4sk_141",YN="_navBtn_xd4sk_147",XN="_navBtnActive_xd4sk_171",JN="_label_xd4sk_175",ZN="_trailing_xd4sk_205",eD="_isOpen_xd4sk_253",tD="_footer_xd4sk_279",nD="_login_xd4sk_281",rD="_legal_xd4sk_303",sD="_labelText_xd4sk_327",iD="_char_xd4sk_337",oD="_mainNavCard_xd4sk_405",Ze={root:FN,expanded:VN,headRow:BN,headTitle:ON,headDot:$N,headLabel:UN,pinBtn:zN,navScroll:HN,pad:GN,segCard:WN,segTitle:qN,navCol:KN,navItemWrap:QN,navBtn:YN,navBtnActive:XN,label:JN,trailing:ZN,isOpen:eD,footer:tD,login:nD,legal:rD,labelText:sD,char:iD,mainNavCard:oD},aD="_panel_90cjk_1",lD="_open_90cjk_31",cD="_col_90cjk_43",rm={panel:aD,open:lD,col:cD};function uD(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function dD({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:l}){const[c,d]=Le.useState({left:0,top:0});return Le.useEffect(()=>{if(!e||!t)return;const f=()=>d(uD(t));f();const p=new ResizeObserver(f);return p.observe(document.documentElement),window.addEventListener("scroll",f,!0),window.addEventListener("resize",f),()=>{p.disconnect(),window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",f)}},[e,t]),typeof document=="undefined"?null:zC.createPortal(o.jsx("div",{className:`${rm.panel} ${e?rm.open:""}`,style:{left:c.left,top:c.top},onMouseEnter:i,onMouseLeave:l,role:"menu",children:o.jsx("div",{className:rm.col,children:n.map(f=>r(f))})}),document.body)}const hD=[{to:"/",label:"Home",icon:o.jsx(dk,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:o.jsx(mk,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:o.jsx(Zc,{className:"ico"})},{to:"/playground",label:"Playground",icon:o.jsx(Vh,{className:"ico"})}],fD=[{to:"/discover",label:"Discover",icon:o.jsx(rk,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:o.jsx(Ak,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:o.jsx(ZC,{className:"ico"})},{to:"/community",label:"Community",icon:o.jsx(yk,{className:"ico"})},{to:"/scans",label:"Scans",icon:o.jsx(ok,{className:"ico"})},{to:"/settings",label:"Settings",icon:o.jsx(Sk,{className:"ico"})}],hg={"/discover":[{to:"/players",label:"Players"},{to:"/SFMagazine",label:"SFMagazine"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},pD=220;function mD(t=pD){const[e,n]=Le.useState(!1),r=Le.useRef(null),i=Le.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Le.useCallback(()=>{i(),n(!0)},[i]),c=Le.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return Le.useEffect(()=>()=>i(),[i]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function Py({text:t,isOpen:e,duration:n=1,step:r=45}){const i=Le.useMemo(()=>Array.from(t),[t]);return o.jsx("span",{className:Ze.label,children:o.jsx("span",{className:Ze.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((l,c)=>o.jsx("span",{className:Ze.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function gD({it:t,collapsed:e,allowSubmenus:n}){var g,v;const r=((v=(g=hg[t.to])==null?void 0:g.length)!=null?v:0)>0,{open:i,onEnter:l,onLeave:c,setOpen:d}=mD(),f=Le.useRef(null),p=Le.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return o.jsxs("div",{ref:f,className:`${Ze.navItemWrap} ${i?Ze.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[o.jsxs(xr,{to:t.to,end:!!t.end,className:({isActive:_})=>`${Ze.navBtn} ${_?Ze.navBtnActive:""}`,children:[t.icon,o.jsx(Py,{text:t.label,isOpen:!e}),r&&!e&&o.jsx("span",{className:Ze.trailing,"aria-hidden":"true",children:o.jsx(tk,{className:"ico"})})]}),r&&o.jsx(dD,{anchorEl:f.current,open:i,items:hg[t.to],renderLink:_=>o.jsx(xr,{to:_.to,className:({isActive:S})=>`link ${S?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function P1({title:t,items:e,collapsed:n,allowSubmenus:r}){return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:`${Ze.navTitle} ${Ze.segTitle}`,children:t}),o.jsx("div",{className:Ze.navCol,children:e.map(i=>hg[i.to]?o.jsx(gD,{it:i,collapsed:n,allowSubmenus:r},i.to):o.jsxs(xr,{to:i.to,end:!!i.end,className:({isActive:l})=>`${Ze.navBtn} ${l?Ze.navBtnActive:""}`,children:[i.icon,o.jsx(Py,{text:i.label,isOpen:!n})]},i.to))})]})}const yD=90,vD=180;function xD({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){const l=Le.useRef(null),c=Le.useRef(null),[d,f]=Le.useState(!1),p=Le.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=Le.useCallback(()=>{!i||n||(p(),f(!1),l.current=window.setTimeout(()=>e(!0),yD))},[i,n,p,e]),v=Le.useCallback(()=>{!i||n||(p(),c.current=window.setTimeout(()=>{e(!1),f(!1)},vD))},[i,n,p,e]);Le.useEffect(()=>()=>p(),[p]),Le.useEffect(()=>{n&&f(!0)},[n]);const _=A=>{A.propertyName==="width"&&t&&!n&&f(!0)};Le.useEffect(()=>{if(t&&!n){const A=window.setTimeout(()=>f(!0),250);return()=>window.clearTimeout(A)}},[t,n]);const S=!t,C=n||t&&d;return o.jsxs("aside",{id:"sidebar-root",className:`${Ze.root} ${t?Ze.expanded:""}`,"data-collapsed":S?"true":"false",onMouseEnter:g,onMouseLeave:v,onTransitionEnd:_,"aria-label":"Navigation",children:[o.jsxs("div",{className:Ze.headRow,children:[o.jsxs("div",{className:Ze.headTitle,children:[o.jsx("span",{className:Ze.headDot})," ",o.jsx("span",{className:Ze.headLabel,children:"Navigation"})]}),o.jsx("button",{className:Ze.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?o.jsx(_k,{className:"ico"}):o.jsx(xk,{className:"ico"})})]}),o.jsx("div",{className:Ze.navScroll,children:o.jsxs("div",{className:Ze.pad,children:[o.jsx("div",{className:`${Ze.segCard} ${Ze.mainNavCard}`,children:o.jsx(P1,{items:hD,collapsed:S,allowSubmenus:C})}),o.jsx("div",{className:Ze.segTitle,children:"Kategorien"}),o.jsx("div",{className:`${Ze.segCard} ${Ze.mainNavCard}`,children:o.jsx(P1,{items:fD,collapsed:S,allowSubmenus:C})})]})}),o.jsxs("div",{className:`${Ze.footer} ${Ze.segCard} ${Ze.mainNavCard}`,children:[o.jsxs("button",{className:Ze.login,type:"button",children:[o.jsx(Zc,{className:"ico"}),o.jsx(Py,{text:"Logout",isOpen:!S})]}),o.jsx("div",{className:Ze.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const sm="/test/assets/logo-sfdatahub-CUdhlsEb.png";function bD({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:l="async"}){const c=t!=null?t:sm;return o.jsxs("div",{className:"logo-dock",children:[o.jsx(xr,{to:r,"aria-label":"Go to home",children:o.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:l,onError:d=>{const f=d.currentTarget;f.src!==sm&&(f.src=sm)}})}),n]})}function _D(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),i=n||t,l=R.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return o.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[o.jsx(bD,{src:"/logo.png"}),o.jsx(LN,{}),o.jsx("div",{className:"logo-fill"}),o.jsx(xD,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),o.jsx("div",{className:"content",children:o.jsx("div",{className:"content-inner",children:o.jsx("div",{className:"content-body",children:o.jsx(K_,{})})})})]})}function wD(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Home"})})}const GS=R.createContext({});function Ny(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dy=R.createContext(null),My=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function SD(t=!0){const e=R.useContext(Dy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,l=R.useId();R.useEffect(()=>{t&&i(l)},[t]);const c=R.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Ly=typeof window!="undefined",WS=Ly?R.useLayoutEffect:R.useEffect,_r=t=>t;let qS=_r;function Fy(t){let e;return()=>(e===void 0&&(e=t()),e)}const qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ps=t=>t*1e3,Ns=t=>t/1e3,TD={useManualTiming:!1};function jD(t){let e=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,g=!1,v=!1)=>{const S=v&&r?e:n;return g&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,f.process(p))}};return f}const Bd=["read","resolveKeyframes","update","preRender","render","postRender"],ED=40;function KS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Bd.reduce((D,B)=>(D[B]=jD(l),D),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:v,postRender:_}=c,S=()=>{const D=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,ED),1),i.timestamp=D,i.isProcessing=!0,d.process(i),f.process(i),p.process(i),g.process(i),v.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Bd.reduce((D,B)=>{const F=c[B];return D[B]=(U,$=!1,W=!1)=>(n||C(),F.schedule(U,$,W)),D},{}),cancel:D=>{for(let B=0;B<Bd.length;B++)c[Bd[B]].cancel(D)},state:i,steps:c}}const{schedule:gt,cancel:pi,state:gn,steps:im}=KS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:_r,!0),QS=R.createContext({strict:!1}),N1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const t in N1)ul[t]={isEnabled:e=>N1[t].some(n=>!!e[n])};function CD(t){for(const e in t)ul[e]={...ul[e],...t[e]}}const kD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Th(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kD.has(t)}let YS=t=>!Th(t);function AD(t){t&&(YS=e=>e.startsWith("on")?!Th(e):t(e))}try{AD(require("@emotion/is-prop-valid").default)}catch(t){}function ID(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(YS(i)||n===!0&&Th(i)||!e&&!Th(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function RD(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const rf=R.createContext({});function Wc(t){return typeof t=="string"||Array.isArray(t)}function sf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],By=["initial",...Vy];function of(t){return sf(t.animate)||By.some(e=>Wc(t[e]))}function XS(t){return!!(of(t)||t.variants)}function PD(t,e){if(of(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wc(n)?n:void 0,animate:Wc(r)?r:void 0}}return t.inherit!==!1?e:{}}function ND(t){const{initial:e,animate:n}=PD(t,R.useContext(rf));return R.useMemo(()=>({initial:e,animate:n}),[D1(e),D1(n)])}function D1(t){return Array.isArray(t)?t.join(" "):t}const DD=Symbol.for("motionComponentSymbol");function qa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MD(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):qa(n)&&(n.current=r))},[e])}const Oy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LD="framerAppearId",JS="data-"+Oy(LD),{schedule:$y}=KS(queueMicrotask,!1),ZS=R.createContext({});function FD(t,e,n,r,i){var l,c;const{visualElement:d}=R.useContext(rf),f=R.useContext(QS),p=R.useContext(Dy),g=R.useContext(My).reducedMotion,v=R.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const _=v.current,S=R.useContext(ZS);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&VD(v.current,n,i,S);const C=R.useRef(!1);R.useInsertionEffect(()=>{_&&C.current&&_.update(n,p)});const A=n[JS],j=R.useRef(!!A&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,A))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,A)));return WS(()=>{_&&(C.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),$y.render(_.render),j.current&&_.animationState&&_.animationState.animateChanges())}),R.useEffect(()=>{_&&(!j.current&&_.animationState&&_.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)===null||D===void 0||D.call(window,A)}),j.current=!1))}),_}function VD(t,e,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:e2(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&qa(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function e2(t){if(t)return t.options.allowProjection!==!1?t.projection:e2(t.parent)}function BD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var l,c;t&&CD(t);function d(p,g){let v;const _={...R.useContext(My),...p,layoutId:OD(p)},{isStatic:S}=_,C=ND(p),A=r(p,S);if(!S&&Ly){$D();const j=UD(_);v=j.MeasureLayout,C.visualElement=FD(i,A,_,e,j.ProjectionNode)}return o.jsxs(rf.Provider,{value:C,children:[v&&C.visualElement?o.jsx(v,{visualElement:C.visualElement,..._}):null,n(i,p,MD(A,C.visualElement,g),A,S,C.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const f=R.forwardRef(d);return f[DD]=i,f}function OD({layoutId:t}){const e=R.useContext(GS).id;return e&&t!==void 0?e+"-"+t:t}function $D(t,e){R.useContext(QS).strict}function UD(t){const{drag:e,layout:n}=ul;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const zD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uy(t){return typeof t!="string"||t.includes("-")?!1:!!(zD.indexOf(t)>-1||/[A-Z]/u.test(t))}function M1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zy(t,e,n,r){if(typeof e=="function"){const[i,l]=M1(r);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=M1(r);e=e(n!==void 0?n:t.custom,i,l)}return e}const fg=t=>Array.isArray(t),HD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GD=t=>fg(t)?t[t.length-1]||0:t,sn=t=>!!(t&&t.getVelocity);function oh(t){const e=sn(t)?t.get():t;return HD(e)?e.toValue():e}function WD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,l){const c={latestValues:qD(r,i,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const t2=t=>(e,n)=>{const r=R.useContext(rf),i=R.useContext(Dy),l=()=>WD(t,e,r,i);return n?l():Ny(l)};function qD(t,e,n,r){const i={},l=r(t,{});for(const _ in l)i[_]=oh(l[_]);let{initial:c,animate:d}=t;const f=of(t),p=XS(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!sf(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const C=zy(t,_[S]);if(C){const{transitionEnd:A,transition:j,...D}=C;for(const B in D){let F=D[B];if(Array.isArray(F)){const U=g?F.length-1:0;F=F[U]}F!==null&&(i[B]=F)}for(const B in A)i[B]=A[B]}}}return i}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xo=new Set(bl),n2=t=>e=>typeof e=="string"&&e.startsWith(t),r2=n2("--"),KD=n2("var(--"),Hy=t=>KD(t)?QD.test(t.split("/*")[0].trim()):!1,QD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,s2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,_l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qc={..._l,transform:t=>mi(0,1,t)},Od={..._l,default:1},uu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=uu("deg"),Ds=uu("%"),Ne=uu("px"),YD=uu("vh"),XD=uu("vw"),L1={...Ds,parse:t=>Ds.parse(t)/100,transform:t=>Ds.transform(t*100)},JD={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne},ZD={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:$i,skewX:$i,skewY:$i,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:qc,originX:L1,originY:L1,originZ:Ne},F1={..._l,transform:Math.round},Gy={...JD,...ZD,zIndex:F1,size:Ne,fillOpacity:qc,strokeOpacity:qc,numOctaves:F1},e5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t5=bl.length;function n5(t,e,n){let r="",i=!0;for(let l=0;l<t5;l++){const c=bl[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=s2(d,Gy[c]);if(!f){i=!1;const g=e5[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Wy(t,e,n){const{style:r,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Xo.has(f)){c=!0;continue}else if(r2(f)){i[f]=p;continue}else{const g=s2(p,Gy[f]);f.startsWith("origin")?(d=!0,l[f]=g):r[f]=g}}if(e.transform||(c||n?r.transform=n5(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${f} ${p} ${g}`}}const r5={offset:"stroke-dashoffset",array:"stroke-dasharray"},s5={offset:"strokeDashoffset",array:"strokeDasharray"};function i5(t,e,n=1,r=0,i=!0){t.pathLength=1;const l=i?r5:s5;t[l.offset]=Ne.transform(-r);const c=Ne.transform(e),d=Ne.transform(n);t[l.array]=`${c} ${d}`}function V1(t,e,n){return typeof t=="string"?t:Ne.transform(e+n*t)}function o5(t,e,n){const r=V1(e,t.x,t.width),i=V1(n,t.y,t.height);return`${r} ${i}`}function qy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...p},g,v){if(Wy(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S,dimensions:C}=t;_.transform&&(C&&(S.transform=_.transform),delete _.transform),C&&(i!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=o5(C,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),c!==void 0&&i5(_,c,d,f,!1)}const Ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),i2=()=>({...Ky(),attrs:{}}),Qy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const a2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l2(t,e,n,r){o2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(a2.has(i)?i:Oy(i),e.attrs[i])}const jh={};function a5(t){Object.assign(jh,t)}function c2(t,{layout:e,layoutId:n}){return Xo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jh[t]||t==="opacity")}function Yy(t,e,n){var r;const{style:i}=t,l={};for(const c in i)(sn(i[c])||e.style&&sn(e.style[c])||c2(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function u2(t,e,n){const r=Yy(t,e,n);for(const i in t)if(sn(t[i])||sn(e[i])){const l=bl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=t[i]}return r}function l5(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const B1=["x","y","width","height","cx","cy","r"],c5={useVisualState:t2({scrapeMotionValuesFromProps:u2,createRenderState:i2,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in i)if(Xo.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<B1.length;d++){const f=B1[d];t[f]!==e[f]&&(c=!0)}c&&gt.read(()=>{l5(n,r),gt.render(()=>{qy(r,i,Qy(n.tagName),t.transformTemplate),l2(n,r)})})}})},u5={useVisualState:t2({scrapeMotionValuesFromProps:Yy,createRenderState:Ky})};function d2(t,e,n){for(const r in e)!sn(e[r])&&!c2(r,n)&&(t[r]=e[r])}function d5({transformTemplate:t},e){return R.useMemo(()=>{const n=Ky();return Wy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function h5(t,e){const n=t.style||{},r={};return d2(r,n,t),Object.assign(r,d5(t,e)),r}function f5(t,e){const n={},r=h5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function p5(t,e,n,r){const i=R.useMemo(()=>{const l=i2();return qy(l,e,Qy(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};d2(l,t.style,t),i.style={...l,...i.style}}return i}function m5(t=!1){return(n,r,i,{latestValues:l},c)=>{const f=(Uy(n)?p5:f5)(r,l,c,n),p=ID(r,typeof n=="string",t),g=n!==R.Fragment?{...p,...f,ref:i}:{},{children:v}=r,_=R.useMemo(()=>sn(v)?v.get():v,[v]);return R.createElement(n,{...g,children:_})}}function g5(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Uy(r)?c5:u5,preloadedFeatures:t,useRender:m5(i),createVisualElement:e,Component:r};return BD(c)}}function h2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function af(t,e,n){const r=t.getProps();return zy(r,e,n!==void 0?n:r.custom,t)}const y5=Fy(()=>window.ScrollTimeline!==void 0);class v5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(y5()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class f2 extends v5{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Xy(t,e){return t?t[e]||t.default||t:void 0}const Eh=2e4;function Jy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Eh;)e+=n,r=t.next(e);return e>=Eh?1/0:e}function x5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Jy(r),Eh);return{type:"keyframes",ease:l=>r.next(i*l).value/e,duration:Ns(i)}}function lf(t){return typeof t=="function"}function O1(t,e){t.timeline=e,t.onfinish=null}const Zy=t=>Array.isArray(t)&&typeof t[0]=="number",b5={linearEasing:void 0};function _5(t,e){const n=Fy(t);return()=>{var r;return(r=b5[e])!==null&&r!==void 0?r:n()}}const Ch=_5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),p2=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)r+=t(qo(0,i-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function m2(t){return!!(typeof t=="function"&&Ch()||!t||typeof t=="string"&&(t in pg||Ch())||Zy(t)||Array.isArray(t)&&t.every(m2))}const _c=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_c([0,.65,.55,1]),circOut:_c([.55,0,1,.45]),backIn:_c([.31,.01,.66,-.59]),backOut:_c([.33,1.53,.69,.99])};function g2(t,e){if(t)return typeof t=="function"&&Ch()?p2(t,e):Zy(t)?_c(t):Array.isArray(t)?t.map(n=>g2(n,e)||pg.easeOut):pg[t]}const ls={x:!1,y:!1};function y2(){return ls.x||ls.y}function v2(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function x2(t,e){const n=v2(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function $1(t){return e=>{e.pointerType==="touch"||y2()||t(e)}}function w5(t,e,n={}){const[r,i,l]=x2(t,n),c=$1(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const g=$1(v=>{p(v),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const b2=(t,e)=>e?t===e?!0:b2(t,e.parentElement):!1,ev=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,S5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T5(t){return S5.has(t.tagName)||t.tabIndex!==-1}const wc=new WeakSet;function U1(t){return e=>{e.key==="Enter"&&t(e)}}function om(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=U1(()=>{if(wc.has(n))return;om(n,"down");const i=U1(()=>{om(n,"up")}),l=()=>om(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function z1(t){return ev(t)&&!y2()}function E5(t,e,n={}){const[r,i,l]=x2(t,n),c=d=>{const f=d.currentTarget;if(!z1(d)||wc.has(f))return;wc.add(f);const p=e(d),g=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),!(!z1(S)||!wc.has(f))&&(wc.delete(f),typeof p=="function"&&p(S,{success:C}))},v=S=>{g(S,n.useGlobalTarget||b2(f,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",_,i)};return r.forEach(d=>{!T5(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",p=>j5(p,i),i)}),l}function C5(t){return t==="x"||t==="y"?ls[t]?null:(ls[t]=!0,()=>{ls[t]=!1}):ls.x||ls.y?null:(ls.x=ls.y=!0,()=>{ls.x=ls.y=!1})}const _2=new Set(["width","height","top","left","right","bottom",...bl]);let ah;function k5(){ah=void 0}const Ms={now:()=>(ah===void 0&&Ms.set(gn.isProcessing||TD.useManualTiming?gn.timestamp:performance.now()),ah),set:t=>{ah=t,queueMicrotask(k5)}};function tv(t,e){t.indexOf(e)===-1&&t.push(e)}function cf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nv{constructor(){this.subscriptions=[]}add(e){return tv(this.subscriptions,e),()=>cf(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function w2(t,e){return e?t*(1e3/e):0}const H1=30,A5=t=>!isNaN(parseFloat(t)),kc={current:void 0};class I5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const l=Ms.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ms.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nv);const r=this.events[e].add(n);return e==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return kc.current&&kc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ms.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,H1);return w2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(t,e){return new I5(t,e)}function R5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dl(n))}function P5(t,e){const n=af(t,e);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const d=GD(l[c]);R5(t,c,d)}}function N5(t){return!!(sn(t)&&t.add)}function mg(t,e){const n=t.getValue("willChange");if(N5(n))return n.add(e)}function S2(t){return t.props[JS]}const T2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,D5=1e-7,M5=12;function L5(t,e,n,r,i){let l,c,d=0;do c=e+(n-e)/2,l=T2(c,r,i)-t,l>0?n=c:e=c;while(Math.abs(l)>D5&&++d<M5);return c}function du(t,e,n,r){if(t===e&&n===r)return _r;const i=l=>L5(l,0,1,t,n);return l=>l===0||l===1?l:T2(i(l),e,r)}const j2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,E2=t=>e=>1-t(1-e),C2=du(.33,1.53,.69,.99),rv=E2(C2),k2=j2(rv),A2=t=>(t*=2)<1?.5*rv(t):.5*(2-Math.pow(2,-10*(t-1))),sv=t=>1-Math.sin(Math.acos(t)),I2=E2(sv),R2=j2(sv),P2=t=>/^0[^.\s]+$/u.test(t);function F5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||P2(t):!0}const Ac=t=>Math.round(t*1e5)/1e5,iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V5(t){return t==null}const B5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ov=(t,e)=>n=>!!(typeof n=="string"&&B5.test(n)&&n.startsWith(t)||e&&!V5(n)&&Object.prototype.hasOwnProperty.call(n,e)),N2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,d]=r.match(iv);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},O5=t=>mi(0,255,t),am={..._l,transform:t=>Math.round(O5(t))},$o={test:ov("rgb","red"),parse:N2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+am.transform(t)+", "+am.transform(e)+", "+am.transform(n)+", "+Ac(qc.transform(r))+")"};function $5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gg={test:ov("#"),parse:$5,transform:$o.transform},Ka={test:ov("hsl","hue"),parse:N2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ds.transform(Ac(e))+", "+Ds.transform(Ac(n))+", "+Ac(qc.transform(r))+")"},In={test:t=>$o.test(t)||gg.test(t)||Ka.test(t),parse:t=>$o.test(t)?$o.parse(t):Ka.test(t)?Ka.parse(t):gg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$o.transform(t):Ka.transform(t)},U5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(iv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(U5))===null||n===void 0?void 0:n.length)||0)>0}const D2="number",M2="color",H5="var",G5="var(",G1="${}",W5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace(W5,f=>(In.test(f)?(r.color.push(l),i.push(M2),n.push(In.parse(f))):f.startsWith(G5)?(r.var.push(l),i.push(H5),n.push(f)):(r.number.push(l),i.push(D2),n.push(parseFloat(f))),++l,G1)).split(G1);return{values:n,split:d,indexes:r,types:i}}function L2(t){return Kc(t).values}function F2(t){const{split:e,types:n}=Kc(t),r=e.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],i[c]!==void 0){const d=n[c];d===D2?l+=Ac(i[c]):d===M2?l+=In.transform(i[c]):l+=i[c]}return l}}const q5=t=>typeof t=="number"?0:t;function K5(t){const e=L2(t);return F2(t)(e.map(q5))}const Xi={test:z5,parse:L2,createTransformer:F2,getAnimatableNone:K5},Q5=new Set(["brightness","contrast","saturate","opacity"]);function Y5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(iv)||[];if(!r)return t;const i=n.replace(r,"");let l=Q5.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+i+")"}const X5=/\b([a-z-]*)\(.*?\)/gu,yg={...Xi,getAnimatableNone:t=>{const e=t.match(X5);return e?e.map(Y5).join(" "):t}},J5={...Gy,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:yg,WebkitFilter:yg},av=t=>J5[t];function V2(t,e){let n=av(t);return n!==yg&&(n=Xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z5=new Set(["auto","none","0"]);function eM(t,e,n){let r=0,i;for(;r<t.length&&!i;){const l=t[r];typeof l=="string"&&!Z5.has(l)&&Kc(l).values.length&&(i=t[r]),r++}if(i&&n)for(const l of e)t[l]=V2(n,i)}const W1=t=>t===_l||t===Ne,q1=(t,e)=>parseFloat(t.split(", ")[e]),K1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return q1(i[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?q1(l[1],t):0}},tM=new Set(["x","y","z"]),nM=bl.filter(t=>!tM.has(t));function rM(t){const e=[];return nM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:K1(4,13),y:K1(5,14)};hl.translateX=hl.x;hl.translateY=hl.y;const zo=new Set;let vg=!1,xg=!1;function B2(){if(xg){const t=Array.from(zo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=rM(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xg=!1,vg=!1,zo.forEach(t=>t.complete()),zo.clear()}function O2(){zo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xg=!0)})}function sM(){O2(),B2()}class lv{constructor(e,n,r,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zo.add(this),vg||(vg=!0,gt.read(O2),gt.resolveKeyframes(B2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),iM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oM(t){const e=iM.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function U2(t,e,n=1){const[r,i]=oM(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return $2(c)?parseFloat(c):c}return Hy(i)?U2(i,e,n+1):i}const z2=t=>e=>e.test(t),aM={test:t=>t==="auto",parse:t=>t},H2=[_l,Ne,Ds,$i,XD,YD,aM],Q1=t=>H2.find(z2(t));class G2 extends lv{constructor(e,n,r,i,l){super(e,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Hy(p))){const g=U2(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!_2.has(r)||e.length!==2)return;const[i,l]=e,c=Q1(i),d=Q1(l);if(c!==d)if(W1(c)&&W1(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)F5(e[i])&&r.push(i);r.length&&eM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=hl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const Y1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xi.test(t)||t==="0")&&!t.startsWith("url("));function lM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Y1(i,e),d=Y1(l,e);return!c||!d?!1:lM(t)||(n==="spring"||lf(n))&&r}const uM=t=>t!==null;function uf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(uM),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const dM=40;class W2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ms.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ms.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:l,delay:c,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!cM(e,r,i,l))if(c)this.options.duration=0;else{f&&f(uf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const _t=(t,e,n)=>t+(e-t)*n;function lm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,l=0,c=0;if(!e)i=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=lm(f,d,t+1/3),l=lm(f,d,t),c=lm(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function kh(t,e){return n=>n>0?e:t}const cm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fM=[gg,$o,Ka],pM=t=>fM.find(e=>e.test(t));function X1(t){const e=pM(t);if(!e)return!1;let n=e.parse(t);return e===Ka&&(n=hM(n)),n}const J1=(t,e)=>{const n=X1(t),r=X1(e);if(!n||!r)return kh(t,e);const i={...n};return l=>(i.red=cm(n.red,r.red,l),i.green=cm(n.green,r.green,l),i.blue=cm(n.blue,r.blue,l),i.alpha=_t(n.alpha,r.alpha,l),$o.transform(i))},mM=(t,e)=>n=>e(t(n)),hu=(...t)=>t.reduce(mM),bg=new Set(["none","hidden"]);function gM(t,e){return bg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yM(t,e){return n=>_t(t,e,n)}function cv(t){return typeof t=="number"?yM:typeof t=="string"?Hy(t)?kh:In.test(t)?J1:bM:Array.isArray(t)?q2:typeof t=="object"?In.test(t)?J1:vM:kh}function q2(t,e){const n=[...t],r=n.length,i=t.map((l,c)=>cv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function vM(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=cv(t[i])(t[i],e[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function xM(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=f,i[c]++}return r}const bM=(t,e)=>{const n=Xi.createTransformer(e),r=Kc(t),i=Kc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?bg.has(t)&&!i.values.length||bg.has(e)&&!r.values.length?gM(t,e):hu(q2(xM(r,i),i.values),n):kh(t,e)};function K2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):cv(t)(t,e)}const _M=5;function Q2(t,e,n){const r=Math.max(e-_M,0);return w2(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},um=.001;function wM({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let i,l,c=1-e;c=mi(Rt.minDamping,Rt.maxDamping,c),t=mi(Rt.minDuration,Rt.maxDuration,Ns(t)),c<1?(i=p=>{const g=p*c,v=g*t,_=g-n,S=_g(p,c),C=Math.exp(-v);return um-_/S*C},l=p=>{const v=p*c*t,_=v*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,C=Math.exp(-v),A=_g(Math.pow(p,2),c);return(-i(p)+um>0?-1:1)*((_-S)*C)/A}):(i=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-um+g*v},l=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const d=5/t,f=TM(i,l,d);if(t=Ps(t),isNaN(f))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const SM=12;function TM(t,e,n){let r=n;for(let i=1;i<SM;i++)r=r-t(r)/e(r);return r}function _g(t,e){return t*Math.sqrt(1-e*e)}const jM=["duration","bounce"],EM=["stiffness","damping","mass"];function Z1(t,e){return e.some(n=>t[n]!==void 0)}function CM(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!Z1(t,EM)&&Z1(t,jM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Rt.mass,stiffness:i,damping:l}}else{const n=wM(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function uv(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=CM({...n,velocity:-Ns(n.velocity||0)}),C=_||0,A=p/(2*Math.sqrt(f*g)),j=c-l,D=Ns(Math.sqrt(f/g)),B=Math.abs(j)<5;r||(r=B?Rt.restSpeed.granular:Rt.restSpeed.default),i||(i=B?Rt.restDelta.granular:Rt.restDelta.default);let F;if(A<1){const $=_g(D,A);F=W=>{const E=Math.exp(-A*D*W);return c-E*((C+A*D*j)/$*Math.sin($*W)+j*Math.cos($*W))}}else if(A===1)F=$=>c-Math.exp(-D*$)*(j+(C+D*j)*$);else{const $=D*Math.sqrt(A*A-1);F=W=>{const E=Math.exp(-A*D*W),T=Math.min($*W,300);return c-E*((C+A*D*j)*Math.sinh(T)+$*j*Math.cosh(T))/$}}const U={calculatedDuration:S&&v||null,next:$=>{const W=F($);if(S)d.done=$>=v;else{let E=0;A<1&&(E=$===0?Ps(C):Q2(F,$,W));const T=Math.abs(E)<=r,I=Math.abs(c-W)<=i;d.done=T&&I}return d.value=d.done?c:W,d},toString:()=>{const $=Math.min(Jy(U),Eh),W=p2(E=>U.next($*E).value,$,30);return $+"ms "+W}};return U}function eb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},S=T=>d!==void 0&&T<d||f!==void 0&&T>f,C=T=>d===void 0?f:f===void 0||Math.abs(d-T)<Math.abs(f-T)?d:f;let A=n*e;const j=v+A,D=c===void 0?j:c(j);D!==j&&(A=D-v);const B=T=>-A*Math.exp(-T/r),F=T=>D+B(T),U=T=>{const I=B(T),M=F(T);_.done=Math.abs(I)<=p,_.value=_.done?D:M};let $,W;const E=T=>{S(_.value)&&($=T,W=uv({keyframes:[_.value,C(_.value)],velocity:Q2(F,T,_.value),damping:i,stiffness:l,restDelta:p,restSpeed:g}))};return E(0),{calculatedDuration:null,next:T=>{let I=!1;return!W&&$===void 0&&(I=!0,U(T),E(T)),$!==void 0&&T>=$?W.next(T-$):(!I&&U(T),_)}}}const kM=du(.42,0,1,1),AM=du(0,0,.58,1),Y2=du(.42,0,.58,1),X2=t=>Array.isArray(t)&&typeof t[0]!="number",IM={linear:_r,easeIn:kM,easeInOut:Y2,easeOut:AM,circIn:sv,circInOut:R2,circOut:I2,backIn:rv,backInOut:k2,backOut:C2,anticipate:A2},tb=t=>{if(Zy(t)){qS(t.length===4);const[e,n,r,i]=t;return du(e,n,r,i)}else if(typeof t=="string")return IM[t];return t};function RM(t,e,n){const r=[],i=n||K2,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||_r:e;d=hu(f,d)}r.push(d)}return r}function J2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const l=t.length;if(qS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=RM(e,r,i),f=d.length,p=g=>{if(c&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=qo(t[v],t[v+1],g);return d[v](_)};return n?g=>p(mi(t[0],t[l-1],g)):p}function Z2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qo(0,e,r);t.push(_t(n,1,i))}}function eT(t){const e=[0];return Z2(e,t.length-1),e}function PM(t,e){return t.map(n=>n*e)}function NM(t,e){return t.map(()=>e||Y2).splice(0,t.length-1)}function Ah({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=X2(r)?r.map(tb):tb(r),l={done:!1,value:e[0]},c=PM(n&&n.length===e.length?n:eT(e),t),d=J2(c,e,{ease:Array.isArray(i)?i:NM(e,i)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const DM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>gt.update(e,!0),stop:()=>pi(e),now:()=>gn.isProcessing?gn.timestamp:Ms.now()}},MM={decay:eb,inertia:eb,tween:Ah,keyframes:Ah,spring:uv},LM=t=>t/100;class dv extends W2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:l}=this.options,c=(i==null?void 0:i.KeyframeResolver)||lv,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new c(l,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,d=lf(n)?n:MM[n]||Ah;let f,p;d!==Ah&&typeof e[0]!="number"&&(f=hu(LM,K2(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Jy(g));const{calculatedDuration:v}=g,_=v+i,S=_*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:_,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:_,repeat:S,repeatType:C,repeatDelay:A,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const D=this.currentTime-_*(this.speed>=0?1:-1),B=this.speed>=0?D<0:D>g;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,U=l;if(S){const T=Math.min(this.currentTime,g)/v;let I=Math.floor(T),M=T%1;!M&&T>=1&&(M=1),M===1&&I--,I=Math.min(I,S+1),!!(I%2)&&(C==="reverse"?(M=1-M,A&&(M-=A/v)):C==="mirror"&&(U=c)),F=mi(0,1,M)*v}const $=B?{done:!1,value:f[0]}:U.next(F);d&&($.value=d($.value));let{done:W}=$;!B&&p!==null&&(W=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return E&&i!==void 0&&($.value=uf(f,this.options,i)),j&&j($.value),E&&this.finish(),$}get duration(){const{resolved:e}=this;return e?Ns(e.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(e){e=Ps(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=DM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FM=new Set(["opacity","clipPath","filter","transform"]);function VM(t,e,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=g2(d,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const BM=Fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ih=10,OM=2e4;function $M(t){return lf(t.type)||t.type==="spring"||!m2(t.ease)}function UM(t,e){const n=new dv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let l=0;for(;!r.done&&l<OM;)r=n.sample(l),i.push(r.value),l+=Ih;return{times:void 0,keyframes:i,duration:l-Ih,ease:"linear"}}const tT={anticipate:A2,backInOut:k2,circInOut:R2};function zM(t){return t in tT}class nb extends W2{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:l}=this.options;this.resolver=new G2(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:l,type:c,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Ch()&&zM(l)&&(l=tT[l]),$M(this.options)){const{onComplete:v,onUpdate:_,motionValue:S,element:C,...A}=this.options,j=UM(e,A);e=j.keyframes,e.length===1&&(e[1]=e[0]),r=j.duration,i=j.times,l=j.ease,c="keyframes"}const g=VM(d.owner.current,f,e,{...this.options,duration:r,times:i,ease:l});return g.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(O1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(uf(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ns(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ns(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ps(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _r;const{animation:r}=n;O1(r,e)}return _r}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:_,...S}=this.options,C=new dv({...S,keyframes:r,duration:i,type:l,ease:c,times:d,isGenerator:!0}),A=Ps(this.time);p.setWithVelocity(C.sample(A-Ih).value,C.sample(A).value,Ih)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return BM()&&r&&FM.has(r)&&!f&&!p&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}}const HM={type:"spring",stiffness:500,damping:25,restSpeed:10},GM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WM={type:"keyframes",duration:.8},qM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KM=(t,{keyframes:e})=>e.length>2?WM:Xo.has(t)?t.startsWith("scale")?GM(e[1]):HM:qM;function QM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const hv=(t,e,n,r={},i,l)=>c=>{const d=Xy(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ps(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};QM(d)||(g={...g,...KM(t,g)}),g.duration&&(g.duration=Ps(g.duration)),g.repeatDelay&&(g.repeatDelay=Ps(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const _=uf(g.keyframes,d);if(_!==void 0)return gt.update(()=>{g.onUpdate(_),g.onComplete()}),new f2([])}return!l&&nb.supports(g)?new nb(g):new dv(g)};function YM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fv(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(c=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const v in f){const _=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),S=f[v];if(S===void 0||g&&YM(g,v))continue;const C={delay:n,...Xy(c||{},v)};let A=!1;if(window.MotionHandoffAnimation){const D=S2(t);if(D){const B=window.MotionHandoffAnimation(D,v,gt);B!==null&&(C.startTime=B,A=!0)}}mg(t,v),_.start(hv(v,_,S,t.shouldReduceMotion&&_2.has(v)?{type:!1}:C,t,A));const j=_.animation;j&&p.push(j)}return d&&Promise.all(p).then(()=>{gt.update(()=>{d&&P5(t,d)})}),p}function wg(t,e,n={}){var r;const i=af(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const c=i?()=>Promise.all(fv(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=l;return XM(t,e,g+p,v,_,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[c,d]:[d,c];return p().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function XM(t,e,n=0,r=0,i=1,l){const c=[],d=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(JM).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(wg(p,e,{...l,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function JM(t,e){return t.sortNodePosition(e)}function ZM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(l=>wg(t,l,n));r=Promise.all(i)}else if(typeof e=="string")r=wg(t,e,n);else{const i=typeof e=="function"?af(t,e,n.custom):e;r=Promise.all(fv(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const eL=By.length;function nT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<eL;n++){const r=By[n],i=t.props[r];(Wc(i)||i===!1)&&(e[r]=i)}return e}const tL=[...Vy].reverse(),nL=Vy.length;function rL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZM(t,n,r)))}function sL(t){let e=rL(t),n=rb(),r=!0;const i=f=>(p,g)=>{var v;const _=af(t,g,f==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(_){const{transition:S,transitionEnd:C,...A}=_;p={...p,...A,...C}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,g=nT(t.parent)||{},v=[],_=new Set;let S={},C=1/0;for(let j=0;j<nL;j++){const D=tL[j],B=n[D],F=p[D]!==void 0?p[D]:g[D],U=Wc(F),$=D===f?B.isActive:null;$===!1&&(C=j);let W=F===g[D]&&F!==p[D]&&U;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),B.protectedKeys={...S},!B.isActive&&$===null||!F&&!B.prevProp||sf(F)||typeof F=="boolean")continue;const E=iL(B.prevProp,F);let T=E||D===f&&B.isActive&&!W&&U||j>C&&U,I=!1;const M=Array.isArray(F)?F:[F];let L=M.reduce(i(D),{});$===!1&&(L={});const{prevResolvedValues:V={}}=B,N={...V,...L},fe=ne=>{T=!0,_.has(ne)&&(I=!0,_.delete(ne)),B.needsAnimating[ne]=!0;const Q=t.getValue(ne);Q&&(Q.liveStyle=!1)};for(const ne in N){const Q=L[ne],ae=V[ne];if(S.hasOwnProperty(ne))continue;let oe=!1;fg(Q)&&fg(ae)?oe=!h2(Q,ae):oe=Q!==ae,oe?Q!=null?fe(ne):_.add(ne):Q!==void 0&&_.has(ne)?fe(ne):B.protectedKeys[ne]=!0}B.prevProp=F,B.prevResolvedValues=L,B.isActive&&(S={...S,...L}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(W&&E)||I)&&v.push(...M.map(ne=>({animation:ne,options:{type:D}})))}if(_.size){const j={};_.forEach(D=>{const B=t.getBaseTarget(D),F=t.getValue(D);F&&(F.liveStyle=!0),j[D]=B!=null?B:null}),v.push({animation:j})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const v=c(f);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rb(),r=!0}}}function iL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!h2(e,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rb(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oL extends to{constructor(e){super(e),e.animationState||(e.animationState=sL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aL=0;class lL extends to{constructor(){super(...arguments),this.id=aL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cL={animation:{Feature:oL},exit:{Feature:lL}};function Qc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fu(t){return{point:{x:t.pageX,y:t.pageY}}}const uL=t=>e=>ev(e)&&t(e,fu(e));function Ic(t,e,n,r){return Qc(t,e,uL(n),r)}const sb=(t,e)=>Math.abs(t-e);function dL(t,e){const n=sb(t.x,e.x),r=sb(t.y,e.y);return Math.sqrt(n**2+r**2)}class rT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=hm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=dL(v.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:C}=v,{timestamp:A}=gn;this.history.push({...C,timestamp:A});const{onStart:j,onMove:D}=this.handlers;_||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=dm(_,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=hm(v.type==="pointercancel"?this.lastMoveEventInfo:dm(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,j),C&&C(v,j)},!ev(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=fu(e),d=dm(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=gn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,hm(d,this.history)),this.removeListeners=hu(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pi(this.updatePoint)}}function dm(t,e){return e?{point:e(t.point)}:t}function ib(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hm({point:t},e){return{point:t,delta:ib(t,sT(e)),offset:ib(t,hL(e)),velocity:fL(e,.1)}}function hL(t){return t[0]}function sT(t){return t[t.length-1]}function fL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const l=Ns(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const iT=1e-4,pL=1-iT,mL=1+iT,oT=.01,gL=0-oT,yL=0+oT;function Sr(t){return t.max-t.min}function vL(t,e,n){return Math.abs(t-e)<=n}function ob(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Sr(n)/Sr(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pL&&t.scale<=mL||isNaN(t.scale))&&(t.scale=1),(t.translate>=gL&&t.translate<=yL||isNaN(t.translate))&&(t.translate=0)}function Rc(t,e,n,r){ob(t.x,e.x,n.x,r?r.originX:void 0),ob(t.y,e.y,n.y,r?r.originY:void 0)}function ab(t,e,n){t.min=n.min+e.min,t.max=t.min+Sr(e)}function xL(t,e,n){ab(t.x,e.x,n.x),ab(t.y,e.y,n.y)}function lb(t,e,n){t.min=e.min-n.min,t.max=t.min+Sr(e)}function Pc(t,e,n){lb(t.x,e.x,n.x),lb(t.y,e.y,n.y)}function bL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function cb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _L(t,{top:e,left:n,bottom:r,right:i}){return{x:cb(t.x,n,i),y:cb(t.y,e,r)}}function ub(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wL(t,e){return{x:ub(t.x,e.x),y:ub(t.y,e.y)}}function SL(t,e){let n=.5;const r=Sr(t),i=Sr(e);return i>r?n=qo(e.min,e.max-r,t.min):r>i&&(n=qo(t.min,t.max-i,e.min)),mi(0,1,n)}function TL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sg=.35;function jL(t=Sg){return t===!1?t=0:t===!0&&(t=Sg),{x:db(t,"left","right"),y:db(t,"top","bottom")}}function db(t,e,n){return{min:hb(t,e),max:hb(t,n)}}function hb(t,e){return typeof t=="number"?t:t[e]||0}const fb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:fb(),y:fb()}),pb=()=>({min:0,max:0}),It=()=>({x:pb(),y:pb()});function Br(t){return[t("x"),t("y")]}function aT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fm(t){return t===void 0||t===1}function Tg({scale:t,scaleX:e,scaleY:n}){return!fm(t)||!fm(e)||!fm(n)}function Fo(t){return Tg(t)||lT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lT(t){return mb(t.x)||mb(t.y)}function mb(t){return t&&t!=="0%"}function Rh(t,e,n){const r=t-n,i=e*r;return n+i}function gb(t,e,n,r,i){return i!==void 0&&(t=Rh(t,i,r)),Rh(t,n,r)+e}function jg(t,e=0,n=1,r,i){t.min=gb(t.min,e,n,r,i),t.max=gb(t.max,e,n,r,i)}function cT(t,{x:e,y:n}){jg(t.x,e.translate,e.scale,e.originPoint),jg(t.y,n.translate,n.scale,n.originPoint)}const yb=.999999999999,vb=1.0000000000001;function kL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,cT(t,c)),r&&Fo(l.latestValues)&&Xa(t,l.latestValues))}e.x<vb&&e.x>yb&&(e.x=1),e.y<vb&&e.y>yb&&(e.y=1)}function Ya(t,e){t.min=t.min+e,t.max=t.max+e}function xb(t,e,n,r,i=.5){const l=_t(t.min,t.max,i);jg(t,e,n,l,r)}function Xa(t,e){xb(t.x,e.x,e.scaleX,e.scale,e.originX),xb(t.y,e.y,e.scaleY,e.scale,e.originY)}function uT(t,e){return aT(CL(t.getBoundingClientRect(),e))}function AL(t,e,n){const r=uT(t,n),{scroll:i}=e;return i&&(Ya(r.x,i.offset.x),Ya(r.y,i.offset.y)),r}const dT=({current:t})=>t?t.ownerDocument.defaultView:null,IL=new WeakMap;class RL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fu(g).point)},l=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:C}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(j=>{let D=this.getAxisMotionValue(j).get()||0;if(Ds.test(D)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[j];F&&(D=Sr(F)*(parseFloat(D)/100))}}this.originPoint[j]=D}),C&&gt.postRender(()=>C(g,v)),mg(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:C,onDrag:A}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=v;if(S&&this.currentDirection===null){this.currentDirection=PL(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),A&&A(g,v)},d=(g,v)=>this.stop(g,v),f=()=>Br(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new rT(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:dT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&gt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!$d(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=bL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&qa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_L(i.layoutBox,n):this.constraints=!1,this.elastic=jL(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Br(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=TL(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=AL(r,i.root,this.visualElement.getTransformPagePoint());let c=wL(i.layout.layoutBox,l);if(n){const d=n(EL(c));this.hasMutatedConstraints=!!d,d&&(c=aT(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Br(g=>{if(!$d(g,n,this.currentDirection))return;let v=f&&f[g]||{};c&&(v={min:0,max:0});const _=i?200:1e6,S=i?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return mg(this.visualElement,e),r.start(hv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Br(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Br(n=>{const{drag:r}=this.getProps();if(!$d(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];l.set(e[n]-_t(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Br(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();i[c]=SL({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Br(c=>{if(!$d(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(_t(f,p,i[c]))})}addListeners(){if(!this.visualElement.current)return;IL.set(this.visualElement,this);const e=this.visualElement.current,n=Ic(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();qa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gt.read(r);const c=Qc(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Br(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=Sg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function $d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NL extends to{constructor(e){super(e),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new RL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const bb=t=>(e,n)=>{t&&gt.postRender(()=>t(e,n))};class DL extends to{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(e){this.session=new rT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bb(e),onStart:bb(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&gt.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _b(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=_b(t,e.target.x),r=_b(t,e.target.y);return`${n}% ${r}%`}},ML={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xi.parse(t);if(i.length>5)return r;const l=Xi.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=f;const p=_t(d,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=p),typeof i[3+c]=="number"&&(i[3+c]/=p),l(i)}};class LL extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=e;a5(FL),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||gt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$y.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hT(t){const[e,n]=SD(),r=R.useContext(GS);return o.jsx(LL,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(ZS),isPresent:e,safeToRemove:n})}const FL={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:ML};function fT(t,e,n){const r=sn(t)?t:dl(t);return r.start(hv("",r,e,n)),r.animation}function pT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const VL=(t,e)=>t.depth-e.depth;class BL{constructor(){this.children=[],this.isDirty=!1}add(e){tv(this.children,e),this.isDirty=!0}remove(e){cf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VL),this.isDirty=!1,this.children.forEach(e)}}function OL(t,e){const n=Ms.now(),r=({timestamp:i})=>{const l=i-n;l>=e&&(pi(r),t(l-e))};return gt.read(r,!0),()=>pi(r)}const mT=["TopLeft","TopRight","BottomLeft","BottomRight"],$L=mT.length,wb=t=>typeof t=="string"?parseFloat(t):t,Sb=t=>typeof t=="number"||Ne.test(t);function UL(t,e,n,r,i,l){i?(t.opacity=_t(0,n.opacity!==void 0?n.opacity:1,zL(r)),t.opacityExit=_t(e.opacity!==void 0?e.opacity:1,0,HL(r))):l&&(t.opacity=_t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<$L;c++){const d=`border${mT[c]}Radius`;let f=Tb(e,d),p=Tb(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Sb(f)===Sb(p)?(t[d]=Math.max(_t(wb(f),wb(p),r),0),(Ds.test(p)||Ds.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function Tb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zL=gT(0,.5,I2),HL=gT(.5,.95,_r);function gT(t,e,n){return r=>r<t?0:r>e?1:n(qo(t,e,r))}function jb(t,e){t.min=e.min,t.max=e.max}function Fr(t,e){jb(t.x,e.x),jb(t.y,e.y)}function Eb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cb(t,e,n,r,i){return t-=e,t=Rh(t,1/n,r),i!==void 0&&(t=Rh(t,1/i,r)),t}function GL(t,e=0,n=1,r=.5,i,l=t,c=t){if(Ds.test(e)&&(e=parseFloat(e),e=_t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=_t(l.min,l.max,r);t===l&&(d-=e),t.min=Cb(t.min,e,n,d,i),t.max=Cb(t.max,e,n,d,i)}function kb(t,e,[n,r,i],l,c){GL(t,e[n],e[r],e[i],e.scale,l,c)}const WL=["x","scaleX","originX"],qL=["y","scaleY","originY"];function Ab(t,e,n,r){kb(t.x,e,WL,n?n.x:void 0,r?r.x:void 0),kb(t.y,e,qL,n?n.y:void 0,r?r.y:void 0)}function Ib(t){return t.translate===0&&t.scale===1}function yT(t){return Ib(t.x)&&Ib(t.y)}function Rb(t,e){return t.min===e.min&&t.max===e.max}function KL(t,e){return Rb(t.x,e.x)&&Rb(t.y,e.y)}function Pb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vT(t,e){return Pb(t.x,e.x)&&Pb(t.y,e.y)}function Nb(t){return Sr(t.x)/Sr(t.y)}function Db(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QL{constructor(){this.members=[]}add(e){tv(this.members,e),e.scheduleRender()}remove(e){if(cf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YL(t,e,n){let r="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sc=typeof window!="undefined"&&window.MotionDebug!==void 0,pm=["","X","Y","Z"],XL={visibility:"hidden"},Mb=1e3;let JL=0;function mm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=S2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(i||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xT(r)}function bT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=JL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sc&&(Vo.totalNodes=Vo.resolvedTargetDeltas=Vo.recalculatedProjection=0),this.nodes.forEach(t4),this.nodes.forEach(o4),this.nodes.forEach(a4),this.nodes.forEach(n4),Sc&&window.MotionDebug.record(Vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new BL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new nv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pT(c),this.instance=c;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=OL(_,250),lh.hasAnimatedSinceResize&&(lh.hasAnimatedSinceResize=!1,this.nodes.forEach(Fb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||h4,{onLayoutAnimationStart:j,onLayoutAnimationComplete:D}=g.getProps(),B=!this.targetLayout||!vT(this.targetLayout,C)||S,F=!_&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,F);const U={...Xy(A,"layout"),onPlay:j,onComplete:D};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else _||Fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(l4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lb);return}this.isUpdating||this.nodes.forEach(s4),this.isUpdating=!1,this.nodes.forEach(i4),this.nodes.forEach(ZL),this.nodes.forEach(e4),this.clearAllSnapshots();const d=Ms.now();gn.delta=mi(0,1e3/60,d-gn.timestamp),gn.timestamp=d,gn.isProcessing=!0,im.update.process(gn),im.preRender.process(gn),im.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r4),this.sharedNodes.forEach(c4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!yT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(d||Fo(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),f4(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return It();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(p4))){const{scroll:g}=this.root;g&&(Ya(f.x,g.offset.x),Ya(f.y,g.offset.y))}return f}removeElementScroll(c){var d;const f=It();if(Fr(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Fr(f,c),Ya(f.x,v.offset.x),Ya(f.y,v.offset.y))}return f}applyTransform(c,d=!1){const f=It();Fr(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Fo(g.latestValues)&&Xa(f,g.latestValues)}return Fo(this.latestValues)&&Xa(f,this.latestValues),f}removeTransform(c){const d=It();Fr(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Fo(p.latestValues))continue;Tg(p.latestValues)&&p.updateSnapshot();const g=It(),v=p.measurePageBox();Fr(g,v),Ab(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Fo(this.latestValues)&&Ab(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Pc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),cT(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Pc(this.relativeTargetOrigin,this.target,S.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sc&&Vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tg(this.parent.latestValues)||lT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Fr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;kL(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=It());const{target:C}=d;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Eb(this.prevProjectionDelta.x,this.projectionDelta.x),Eb(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!Db(this.projectionDelta.x,this.prevProjectionDelta.x)||!Db(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Sc&&Vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qa(),this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=It(),S=f?f.source:void 0,C=this.layout?this.layout.source:void 0,A=S!==C,j=this.getStack(),D=!j||j.members.length<=1,B=!!(A&&!D&&this.options.crossfade===!0&&!this.path.some(d4));this.animationProgress=0;let F;this.mixTargetDelta=U=>{const $=U/1e3;Vb(v.x,c.x,$),Vb(v.y,c.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),u4(this.relativeTarget,this.relativeTargetOrigin,_,$),F&&KL(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=It()),Fr(F,this.relativeTarget)),A&&(this.animationValues=g,UL(g,p,this.latestValues,$,B,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{lh.hasAnimatedSinceResize=!0,this.currentAnimation=fT(0,Mb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&_T(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||It();const v=Sr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const _=Sr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+_}Fr(d,f),Xa(d,g),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new QL),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&mm("z",c,p,this.animationValues);for(let g=0;g<pm.length;g++)mm(`rotate${pm[g]}`,c,p,this.animationValues),mm(`skew${pm[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XL;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=oh(c==null?void 0:c.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=oh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(A.transform=g?g({},""):"none",this.hasProjected=!1),A}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=YL(this.projectionDeltaWithTransform,this.treeScale,_),g&&(p.transform=g(_,p.transform));const{x:S,y:C}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,v.animationValues?p.opacity=v===this?(f=(d=_.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const A in jh){if(_[A]===void 0)continue;const{correct:j,applyTo:D}=jh[A],B=p.transform==="none"?_[A]:j(_[A],v);if(D){const F=D.length;for(let U=0;U<F;U++)p[D[U]]=B}else p[A]=B}return this.options.layoutId&&(p.pointerEvents=v===this?oh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Lb),this.root.sharedNodes.clear()}}}function ZL(t){t.updateLayout()}function e4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Br(v=>{const _=c?n.measuredBox[v]:n.layoutBox[v],S=Sr(_);_.min=r[v].min,_.max=_.min+S}):_T(l,n.layoutBox,r)&&Br(v=>{const _=c?n.measuredBox[v]:n.layoutBox[v],S=Sr(r[v]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const d=Qa();Rc(d,r,n.layoutBox);const f=Qa();c?Rc(f,t.applyTransform(i,!0),n.measuredBox):Rc(f,r,n.layoutBox);const p=!yT(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const C=It();Pc(C,n.layoutBox,_.layoutBox);const A=It();Pc(A,r,S.layoutBox),vT(C,A)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function t4(t){Sc&&Vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function n4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r4(t){t.clearSnapshot()}function Lb(t){t.clearMeasurements()}function s4(t){t.isLayoutDirty=!1}function i4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o4(t){t.resolveTargetDelta()}function a4(t){t.calcProjection()}function l4(t){t.resetSkewAndRotation()}function c4(t){t.removeLeadSnapshot()}function Vb(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Bb(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function u4(t,e,n,r){Bb(t.x,e.x,n.x,r),Bb(t.y,e.y,n.y,r)}function d4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const h4={duration:.45,ease:[.4,0,.1,1]},Ob=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$b=Ob("applewebkit/")&&!Ob("chrome/")?Math.round:_r;function Ub(t){t.min=$b(t.min),t.max=$b(t.max)}function f4(t){Ub(t.x),Ub(t.y)}function _T(t,e,n){return t==="position"||t==="preserve-aspect"&&!vL(Nb(e),Nb(n),.2)}function p4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const m4=bT({attachResizeListener:(t,e)=>Qc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gm={current:void 0},wT=bT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gm.current){const t=new m4({});t.mount(window),t.setOptions({layoutScroll:!0}),gm.current=t}return gm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g4={pan:{Feature:DL},drag:{Feature:NL,ProjectionNode:wT,MeasureLayout:hT}};function zb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&gt.postRender(()=>l(e,fu(e)))}class y4 extends to{mount(){const{current:e}=this.node;e&&(this.unmount=w5(e,n=>(zb(this.node,n,"Start"),r=>zb(this.node,r,"End"))))}unmount(){}}class v4 extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hu(Qc(this.node.current,"focus",()=>this.onFocus()),Qc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&gt.postRender(()=>l(e,fu(e)))}class x4 extends to{mount(){const{current:e}=this.node;e&&(this.unmount=E5(e,n=>(Hb(this.node,n,"Start"),(r,{success:i})=>Hb(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eg=new WeakMap,ym=new WeakMap,b4=t=>{const e=Eg.get(t.target);e&&e(t)},_4=t=>{t.forEach(b4)};function w4({root:t,...e}){const n=t||document;ym.has(n)||ym.set(n,{});const r=ym.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_4,{root:t,...e})),r[i]}function S4(t,e,n){const r=w4(e);return Eg.set(t,n),r.observe(t),()=>{Eg.delete(t),r.unobserve(t)}}const T4={some:0,all:1};class j4 extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:T4[i]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(f)};return S4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(E4(e,n))&&this.startObserver()}unmount(){}}function E4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C4={inView:{Feature:j4},tap:{Feature:x4},focus:{Feature:v4},hover:{Feature:y4}},k4={layout:{ProjectionNode:wT,MeasureLayout:hT}},Ph={current:null},pv={current:!1};function ST(){if(pv.current=!0,!!Ly)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ph.current=t.matches;t.addListener(e),e()}else Ph.current=!1}const A4=[...H2,In,Xi],I4=t=>A4.find(z2(t)),fl=new WeakMap;function R4(t,e,n){for(const r in e){const i=e[r],l=n[r];if(sn(i))t.addValue(r,i);else if(sn(l))t.addValue(r,dl(i,{owner:t}));else if(l!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,dl(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Gb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TT{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Ms.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,gt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=of(n),this.isVariantNode=XS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const C=_[S];f[S]!==void 0&&sn(C)&&C.set(f[S],!1)}}mount(e){this.current=e,fl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pv.current||ST(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ph.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fl.delete(this.current),this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xo.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ul){const n=ul[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Gb.length;r++){const i=Gb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=R4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&($2(i)||P2(i))?i=parseFloat(i):!I4(i)&&Xi.test(n)&&(i=V2(e,n)),this.setBaseTarget(e,sn(i)?i.get():i)),sn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=zy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!sn(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jT extends TT{constructor(){super(...arguments),this.KeyframeResolver=G2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P4(t){return window.getComputedStyle(t)}class ET extends jT{constructor(){super(...arguments),this.type="html",this.renderInstance=o2}readValueFromInstance(e,n){if(Xo.has(n)){const r=av(n);return r&&r.default||0}else{const r=P4(e),i=(r2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uT(e,n)}build(e,n,r){Wy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Yy(e,n,r)}}class CT extends jT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xo.has(n)){const r=av(n);return r&&r.default||0}return n=a2.has(n)?n:Oy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return u2(e,n,r)}build(e,n,r){qy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){l2(e,n,r,i)}mount(e){this.isSVGTag=Qy(e.tagName),super.mount(e)}}const N4=(t,e)=>Uy(t)?new CT(e):new ET(e,{allowProjection:t!==R.Fragment}),D4=g5({...cL,...C4,...g4,...k4},N4),kT=RD(D4);function Tc(t){const e=Ny(()=>dl(t)),{isStatic:n}=R.useContext(My);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function AT(t,e){const n=Tc(e()),r=()=>n.set(e());return r(),WS(()=>{const i=()=>gt.preRender(r,!1,!0),l=t.map(c=>c.on("change",i));return()=>{l.forEach(c=>c()),pi(r)}}),n}const M4=t=>t&&typeof t=="object"&&t.mix,L4=t=>M4(t)?t.mix:void 0;function F4(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],l=t[2+n],c=t[3+n],d=J2(i,l,{mixer:L4(l[0]),...c});return e?d(r):d}function V4(t){kc.current=[],t();const e=AT(kc.current,t);return kc.current=void 0,e}function Ud(t,e,n,r){if(typeof t=="function")return V4(t);const i=typeof e=="function"?e:F4(e,n,r);return Array.isArray(t)?Wb(t,i):Wb([t],([l])=>i(l))}function Wb(t,e){const n=Ny(()=>[]);return AT(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function IT(){!pv.current&&ST();const[t]=R.useState(Ph.current);return t}const B4=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function RT(t,e){return X2(t)?t[B4(0,t.length,e)]:t}function mv(t){return typeof t=="object"&&!Array.isArray(t)}function PT(t,e,n,r){return typeof t=="string"&&mv(e)?v2(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function O4(t,e,n){return t*(e+1)}function qb(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function $4(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(cf(t,i),r--)}}function U4(t,e,n,r,i,l){$4(t,i,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:_t(i,l,r[c]),easing:RT(n,c)})}function z4(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function H4(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const G4="easeInOut";function W4(t,{defaultTransition:e={},...n}={},r,i){const l=e.duration||.3,c=new Map,d=new Map,f={},p=new Map;let g=0,v=0,_=0;for(let S=0;S<t.length;S++){const C=t[S];if(typeof C=="string"){p.set(C,v);continue}else if(!Array.isArray(C)){p.set(C.name,qb(v,C.at,g,p));continue}let[A,j,D={}]=C;D.at!==void 0&&(v=qb(v,D.at,g,p));let B=0;const F=(U,$,W,E=0,T=0)=>{const I=q4(U),{delay:M=0,times:L=eT(I),type:V="keyframes",repeat:N,repeatType:fe,repeatDelay:K=0,...re}=$;let{ease:ne=e.ease||"easeOut",duration:Q}=$;const ae=typeof M=="function"?M(E,T):M,oe=I.length,G=lf(V)?V:i==null?void 0:i[V];if(oe<=2&&G){let Ee=100;if(oe===2&&Y4(I)){const Ae=I[1]-I[0];Ee=Math.abs(Ae)}const me={...re};Q!==void 0&&(me.duration=Ps(Q));const Ce=x5(me,Ee,G);ne=Ce.ease,Q=Ce.duration}Q!=null||(Q=l);const ee=v+ae;L.length===1&&L[0]===0&&(L[1]=1);const ye=L.length-I.length;if(ye>0&&Z2(L,ye),I.length===1&&I.unshift(null),N){Q=O4(Q,N);const Ee=[...I],me=[...L];ne=Array.isArray(ne)?[...ne]:[ne];const Ce=[...ne];for(let Ae=0;Ae<N;Ae++){I.push(...Ee);for(let Pe=0;Pe<Ee.length;Pe++)L.push(me[Pe]+(Ae+1)),ne.push(Pe===0?"linear":RT(Ce,Pe-1))}z4(L,N)}const we=ee+Q;U4(W,I,ne,L,ee,we),B=Math.max(ae+Q,B),_=Math.max(we,_)};if(sn(A)){const U=Kb(A,d);F(j,D,Qb("default",U))}else{const U=PT(A,j,r,f),$=U.length;for(let W=0;W<$;W++){j=j,D=D;const E=U[W],T=Kb(E,d);for(const I in j)F(j[I],K4(D,I),Qb(I,T),W,$)}}g=v,v+=B}return d.forEach((S,C)=>{for(const A in S){const j=S[A];j.sort(H4);const D=[],B=[],F=[];for(let $=0;$<j.length;$++){const{at:W,value:E,easing:T}=j[$];D.push(E),B.push(qo(0,_,W)),F.push(T||"easeOut")}B[0]!==0&&(B.unshift(0),D.unshift(D[0]),F.unshift(G4)),B[B.length-1]!==1&&(B.push(1),D.push(null)),c.has(C)||c.set(C,{keyframes:{},transition:{}});const U=c.get(C);U.keyframes[A]=D,U.transition[A]={...e,duration:_,ease:F,times:B,...n}}}),c}function Kb(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Qb(t,e){return e[t]||(e[t]=[]),e[t]}function q4(t){return Array.isArray(t)?t:[t]}function K4(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Q4=t=>typeof t=="number",Y4=t=>t.every(Q4);function X4(t,e){return t in e}class J4 extends TT{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(X4(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return It()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Z4(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=pT(t)?new CT(e):new ET(e);n.mount(t),fl.set(t,n)}function eF(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new J4(e);n.mount(t),fl.set(t,n)}function tF(t,e){return sn(t)||typeof t=="number"||typeof t=="string"&&!mv(e)}function NT(t,e,n,r){const i=[];if(tF(t,e))i.push(fT(t,mv(e)&&e.default||e,n&&(n.default||n)));else{const l=PT(t,e,r),c=l.length;for(let d=0;d<c;d++){const f=l[d],p=f instanceof Element?Z4:eF;fl.has(f)||p(f);const g=fl.get(f),v={...n};"delay"in v&&typeof v.delay=="function"&&(v.delay=v.delay(d,c)),i.push(...fv(g,{...e,transition:v},{}))}}return i}function nF(t,e,n){const r=[];return W4(t,e,n,{spring:uv}).forEach(({keyframes:l,transition:c},d)=>{r.push(...NT(d,l,c))}),r}function rF(t){return Array.isArray(t)&&t.some(Array.isArray)}function sF(t){function e(n,r,i){let l=[];return rF(n)?l=nF(n,r,t):l=NT(n,r,i,t),new f2(l)}return e}const zd=sF(),oi={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function iF(){return o.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+oi.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function oF(){return o.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[o.jsxs("defs",{children:[o.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[o.jsx("stop",{offset:"0%",stopColor:oi.icon,stopOpacity:"0.42"}),o.jsx("stop",{offset:"70%",stopColor:oi.icon,stopOpacity:"0"})]}),o.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[o.jsx("stop",{offset:"0%",stopColor:oi.icon,stopOpacity:"0.20"}),o.jsx("stop",{offset:"70%",stopColor:oi.icon,stopOpacity:"0"})]})]}),o.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),o.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function Yb({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=IT();return o.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:oi.border,background:"var(--nav, "+oi.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[o.jsx(iF,{}),o.jsx(kT.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),o.jsx(oF,{}),o.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const vm={borderColor:"#2B4C73",background:"#1A2F4A"},Hd={borderColor:"#2B4C73",background:"#152A42"};function ar({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:l,right:c,children:d,rounded:f="rounded-3xl",padded:p=!0,centerFramed:g=!1,leftWidth:v=0,rightWidth:_=0,stickyRails:S=!0,mode:C="card",outerPadding:A="px-4 py-3",leftPlacement:j="inside",stickyTopbar:D=!0,stickySubheader:B=!0,shellViewportOffset:F="var(--app-topbar-h,72px)",topbarHeight:U=56}){const $={"--left":typeof v=="number"?`${v}px`:v,"--right":typeof _=="number"?`${_}px`:_},W=o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:vm,children:t}),(e||n||r)&&o.jsxs("div",{className:[D?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:vm,children:[o.jsxs("div",{className:"min-w-0",children:[e&&o.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&o.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?o.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&o.jsx("div",{className:[B?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...B?{top:D?`${U}px`:0}:{},...vm},children:i})]}),E=C==="card"?({children:I})=>o.jsx(Yb,{rounded:f,padded:p,children:I}):({children:I})=>o.jsx("div",{className:`w-full ${A}`,children:I}),T=o.jsx("div",{className:"relative min-h-0 h-full",style:$,children:o.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Hd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"}),g?o.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Hd,children:d}):o.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Hd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"})]})});return j==="bleed"&&C==="card"?o.jsx("div",{className:`w-full ${A}`,children:o.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[W,o.jsx("div",{className:"flex-1 min-h-0",style:$,children:o.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Hd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"}),o.jsx(Yb,{rounded:f,padded:p,children:o.jsx("div",{className:"flex-1 min-h-0 h-full",children:T})})]})})]})}):o.jsx(E,{children:o.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${F})`},children:[W,o.jsx("div",{className:"flex-1 min-h-0",children:T})]})})}function aF(){return o.jsx(ar,{hex:o.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:o.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:o.jsx(lF,{}),right:o.jsx(cF,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsx(xm,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),o.jsx(xm,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),o.jsx(xm,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function lF(){return o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(bm,{to:"/dashboard/kpis",children:"KPIs"}),o.jsx(bm,{to:"/dashboard/activity",children:"Activity"}),o.jsx(bm,{to:"/dashboard/progression",children:"Progression"})]})]})}function cF(){return o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),o.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),o.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),o.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function xm({to:t,title:e,desc:n}){return o.jsxs(Un,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[o.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?o.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function bm({to:t,children:e}){return o.jsx(Un,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function uF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard  KPIs"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(_m,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),o.jsx(_m,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),o.jsx(_m,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function _m({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),o.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function dF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard  Activity"}),o.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),o.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[o.jsx("li",{children:" Neues Scan-File hochgeladen"}),o.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),o.jsx("li",{children:" Gilden-Event geplant"})]})]})}function hF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard  Progression"}),o.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[o.jsx(wm,{title:"Scrapbook 100%",progress:72}),o.jsx(wm,{title:"Fortress Ausbaustufe",progress:48}),o.jsx(wm,{title:"Underworld Boss",progress:35})]})]})}function wm({title:t,progress:e}){return o.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),o.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:o.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),o.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function fF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Discover"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Va,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),o.jsx(Va,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),o.jsx(Va,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),o.jsx(Va,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),o.jsx(Va,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),o.jsx(Va,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Va({to:t,title:e,desc:n}){return o.jsxs(Un,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function pF({children:t,framed:e=!0}){return e?o.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:oi.border,backgroundColor:oi.tile},children:t}):o.jsx("main",{className:"min-w-0",children:t})}function mF(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const gF=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:l,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:f=0,tryTransparentBg:p=!0})=>{const[g,v]=R.useState(!1),_=R.useMemo(()=>mF(t,p),[t,p]),S=i?"lazy":"eager",C={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},A={position:"relative",width:"100%",padding:f?`${f}px`:0,boxSizing:"border-box",background:"transparent"},j=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},D={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return o.jsx("div",{className:l,style:C,children:o.jsx("div",{style:A,children:o.jsxs("div",{style:j,children:[o.jsx("iframe",{src:_,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:S,scrolling:"no",title:"Heyzine Flipbook"}),c&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button","aria-label":"Info",onClick:()=>v(B=>!B),style:D,title:"Info",children:"i"}),g&&o.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",o.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},yF="#0C1C2E",vF=()=>o.jsx(ar,{children:o.jsx(pF,{children:o.jsxs("div",{style:{position:"relative",width:"100%"},children:[o.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:yF,borderRadius:16,pointerEvents:"none",zIndex:0}}),o.jsx("div",{style:{position:"relative",zIndex:1},children:o.jsx(gF,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),Cg=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(Cg.map(t=>[t.id,t]));const DT="TL_FILTERS_V2",As={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function xF(){var t;try{const e=localStorage.getItem(DT);if(!e)return As;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:As.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:As.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:As.filterMode;return{...As,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:i,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:As.sortBy}}catch(e){return As}}function bF(t){try{localStorage.setItem(DT,JSON.stringify(t))}catch(e){}}const MT=R.createContext(null);function _F({children:t}){const[e,n]=R.useState(()=>xF());R.useEffect(()=>{bF(e)},[e]);const r=U=>n($=>({...$,servers:Array.from(new Set(U))})),i=U=>n($=>{const W=new Set($.servers);return W.has(U)?W.delete(U):W.add(U),{...$,servers:Array.from(W)}}),l=()=>n(U=>({...U,servers:[]})),c=U=>n($=>({...$,classes:Array.from(new Set(U))})),d=U=>n($=>{const W=new Set($.classes);return W.has(U)?W.delete(U):W.add(U),{...$,classes:Array.from(W)}}),f=()=>n(U=>({...U,classes:[]})),p=U=>n($=>({...$,days:U})),g=U=>p(U),v=U=>n($=>({...$,sortBy:U||"level"})),_=U=>n($=>({...$,favoritesOnly:!!U})),S=U=>n($=>({...$,activeOnly:!!U})),C=U=>n($=>({...$,filterMode:U})),A=U=>n($=>({...$,listView:U})),j=U=>n($=>({...$,bottomFilterOpen:!!U})),D=U=>n($=>({...$,serverSheetOpen:!!U})),B=()=>n(As),F=R.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:l,setClasses:c,toggleClass:d,clearClasses:f,setDays:p,setRange:g,setSortBy:v,setFavoritesOnly:_,setActiveOnly:S,setFilterMode:C,setListView:A,setBottomFilterOpen:j,setServerSheetOpen:D,resetFilters:B}),[e]);return o.jsx(MT.Provider,{value:F,children:t})}function pu(){const t=R.useContext(MT);return t||{...As,range:As.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const wF="_hudWrap_107o7_9",SF="_hudBtn_107o7_11",TF="_hudSubBtn_107o7_15",jF="_iconRow_107o7_19",EF="_segmented_107o7_21",CF="_sortLabel_107o7_27",kF="_sortSelect_107o7_29",AF="_chip_107o7_31",IF="_isActive_107o7_33",sr={hudWrap:wF,hudBtn:SF,hudSubBtn:TF,iconRow:jF,segmented:EF,sortLabel:CF,sortSelect:kF,chip:AF,isActive:IF};function RF({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:l}){const c=Math.round(i*.7),d=Le.useMemo(()=>{const D=[],B=HS(n,c*2,c*2,"contain");B&&D.push(B);const F=Fs(n,c*2);return F&&F!==B&&D.push(F),!D.length&&n&&D.push(n),D},[n,c]),[f,p]=Le.useState(0),[g,v]=Le.useState(!1),[_,S]=Le.useState(!1);Le.useEffect(()=>p(0),[d]);const C=d[f]||"",A={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(A.background="rgba(255,255,255,.04)"),t&&(A.outline="2px solid #5C8BC6");const j={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return o.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>S(!0),onBlur:()=>S(!1),style:A,children:C?o.jsx("img",{src:C,alt:e||"class",width:c,height:c,loading:"lazy",style:j,onError:()=>{p(D=>D+1<d.length?D+1:D)}}):o.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}function PF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:l,setSortBy:c,quickFav:d,setQuickFav:f,quickActive:p,setQuickActive:g,filterMode:v,setBottomFilterOpen:_,serverSheetOpen:S,setServerSheetOpen:C,resetAll:A}=pu();return o.jsxs("div",{className:sr.hudWrap,children:[o.jsxs("button",{type:"button",className:sr.hudBtn,onClick:j=>{j.preventDefault(),j.stopPropagation(),C(!0)},"aria-haspopup":"dialog","aria-expanded":S||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),o.jsxs("div",{className:sr.iconRow,children:[Yt.map(j=>o.jsx(RF,{active:e.includes(j.key),title:j.label,iconUrl:j.iconUrl,fallback:j.fallback,size:40,onClick:()=>n(D=>D.includes(j.key)?D.filter(B=>B!==j.key):[...D,j.key])},j.key)),o.jsx("button",{type:"button",className:sr.hudSubBtn,onClick:()=>n(Yt.map(j=>j.key)),children:"All"}),o.jsx("button",{type:"button",className:sr.hudSubBtn,onClick:()=>n([]),children:"None"})]}),o.jsx("div",{className:sr.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(j=>o.jsx("button",{type:"button","aria-pressed":r===j,onClick:()=>i(j),children:j},j))}),o.jsx("label",{className:sr.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),o.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:j=>c(j.target.value),className:sr.sortSelect,"aria-label":"Sort",children:[o.jsx("option",{value:"level",children:"Level"}),o.jsx("option",{value:"scrapbook",children:"Scrapbook"}),o.jsx("option",{value:"activity",children:"Activity"}),o.jsx("option",{value:"lastScan",children:"Last scan"})]}),o.jsx("button",{type:"button",className:`${sr.chip} ${d?sr.isActive:""}`,onClick:()=>f(j=>!j),children:" Favorites"}),o.jsx("button",{type:"button",className:`${sr.chip} ${p?sr.isActive:""}`,onClick:()=>g(j=>!j),children:" Active"}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsx("button",{type:"button",className:sr.hudSubBtn,onClick:A,children:"Reset"}),v==="sheet"&&o.jsx("button",{type:"button",className:sr.hudBtn,onClick:j=>{j.preventDefault(),j.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const on={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function NF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:l,onSelectAllInRegion:c,onClearAll:d}){const[f,p]=R.useState(""),g=R.useRef(null),[v,_]=R.useState(null),[S,C]=R.useState(!1);R.useEffect(()=>{if(!t)return;const F=U=>{U.key==="Escape"&&e()};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,e]),R.useEffect(()=>{if(t&&g.current){const F=g.current.querySelector("#sheet-serversearch");F==null||F.focus()}},[t]);const A=R.useMemo(()=>["EU","US","INT","Fusion"].every(U=>{var $;return!(($=r==null?void 0:r[U])!=null&&$.length)}),[r]);R.useEffect(()=>{if(!t||!A)return;let F=!0;return(async()=>{try{C(!0);const U=await ds(zt(pt,"stats_public","toplists_bundle_v1"));if(!F)return;const $=U.data()||{},W=Array.isArray($.servers)?$.servers:JSON.parse($.servers||"[]");_(DF(W))}catch(U){_(null)}finally{F&&C(!1)}})(),()=>{F=!1}},[t,A]);const j=R.useMemo(()=>A?v!=null?v:{EU:[],US:[],INT:[],Fusion:[]}:r,[A,r,v]),D=R.useMemo(()=>Object.keys(j),[j]),B=F=>{const U=f.trim().toLowerCase();return U?F.toLowerCase().includes(U):!0};return t?o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:LF,onClick:F=>{F.target===F.currentTarget&&e()},children:o.jsxs("div",{ref:g,style:n==="modal"?LT:FF,className:"sf-server-sheet",children:[o.jsxs("div",{style:VF,children:[o.jsx("h2",{id:"server-dialog-title",style:BF,children:"Select servers"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",onClick:d,style:Xb,children:"Clear"}),o.jsx("button",{type:"button",onClick:e,style:WF,children:"Done"})]})]}),o.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[o.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),o.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:f,onChange:F=>p(F.target.value),"aria-label":"Search servers",autoComplete:"off",style:$F})]}),o.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:D.map(F=>{const U=(j[F]||[]).filter(B);return o.jsxs("section",{"aria-labelledby":`region-${F}`,children:[o.jsxs("div",{style:UF,children:[o.jsxs("h3",{id:`region-${F}`,style:OF,children:[F," ",S&&A?o.jsx("span",{style:{marginLeft:6,fontSize:12,color:on.text2},children:"(loading)"}):null]}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{type:"button",style:Xb,onClick:()=>{c?c(F):U.filter(W=>!i.includes(W)).forEach(l)},children:"Select all"})})]}),o.jsxs("div",{style:zF,children:[U.map($=>{const W=i.includes($);return o.jsx("button",{type:"button",onClick:()=>l($),"aria-pressed":W,title:$,style:{...HF,...W?GF:null},children:$},$)}),U.length===0&&o.jsx("div",{style:{color:on.text2,fontSize:13,padding:"4px 2px"},children:S&&A?"Loading":"No servers found"})]})]},F)})})]})}):null}function DF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(MF)),e}function MF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const LF={position:"fixed",inset:0,background:on.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},LT={width:"min(900px, 100%)",background:on.tile,border:`1px solid ${on.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:on.text},FF={...LT,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},VF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},BF={fontSize:18,margin:0},OF={fontSize:14,margin:0,color:on.text2},$F={width:"100%",background:on.input,color:on.text,border:`1px solid ${on.line}`,borderRadius:12,padding:"10px 12px"},UF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},zF={display:"flex",flexWrap:"wrap",gap:8},HF={background:on.chip,border:`1px solid ${on.line}`,padding:"6px 10px",borderRadius:999,color:on.text},GF={outline:`2px solid ${on.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},WF={background:"#25456B",color:on.text,border:`1px solid ${on.accent}`,borderRadius:10,padding:"8px 12px"},Xb={background:"transparent",color:on.text,border:`1px solid ${on.line}`,borderRadius:10,padding:"8px 12px"},qF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=qF,document.head.appendChild(e)}}const _n={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function KF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:l,sortBy:c,setSortBy:d,quickFav:f,setQuickFav:p,quickActive:g,setQuickActive:v}=pu(),_=R.useRef(null);return R.useEffect(()=>{if(!t)return;const S=C=>{C.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),R.useEffect(()=>{if(t&&_.current){const S=_.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),t?o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:QF,onClick:S=>{S.target===S.currentTarget&&e()},children:o.jsxs("div",{ref:_,style:YF,children:[o.jsxs("div",{style:XF,children:[o.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:_n.text},children:"Filters"}),o.jsx("button",{type:"button",onClick:e,style:ZF,children:"Done"})]}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),o.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:FT})]}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[o.jsx("span",{style:{color:_n.text2,fontSize:12},children:"Range"}),o.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(S=>o.jsx("button",{type:"button","aria-pressed":i===S,onClick:()=>l(S),style:{...Sm,...i===S?Tm:null},children:S},S))})]}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[o.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:_n.text2,fontSize:12},children:"Sort"}),o.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:JF,children:[o.jsx("option",{value:"sum",children:"Base Sum"}),o.jsx("option",{value:"main",children:"Main Base Stat"}),o.jsx("option",{value:"constitution",children:"Constitution"}),o.jsx("option",{value:"level",children:"Level"}),o.jsx("option",{value:"delta",children:" Rank"}),o.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[o.jsx("button",{type:"button",onClick:()=>p(S=>!S),"aria-pressed":f,style:{...Sm,...f?Tm:null},children:" Favorites"}),o.jsx("button",{type:"button",onClick:()=>v(S=>!S),"aria-pressed":g,style:{...Sm,...g?Tm:null},children:" Active"})]})]})}):null}const QF={position:"fixed",inset:0,background:_n.backdrop,zIndex:60,display:"grid",alignItems:"end"},YF={background:_n.tile,borderTop:`1px solid ${_n.line}`,borderLeft:`1px solid ${_n.line}`,borderRight:`1px solid ${_n.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:_n.text,maxHeight:"80vh",overflow:"auto"},XF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},FT={width:"100%",background:_n.input,color:_n.text,border:`1px solid ${_n.line}`,borderRadius:12,padding:"10px 12px"},JF={...FT,appearance:"none"},Sm={background:"#14273E",border:`1px solid ${_n.line}`,padding:"6px 10px",borderRadius:999,color:_n.text},Tm={outline:`2px solid ${_n.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},ZF={background:"#25456B",color:_n.text,border:`1px solid ${_n.accent}`,borderRadius:10,padding:"8px 12px"},eV=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=eV,document.head.appendChild(e)}}function tV(){var i;const t=pu(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:o.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:o.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,d,f,p,g,v,_;return o.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[o.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),o.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),o.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",o.jsx("span",{style:{textTransform:"uppercase"},children:(f=l.class)!=null?f:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[o.jsx(jm,{children:l.active?"Active":"Idle"}),l.favorite&&o.jsx(jm,{children:" Fav"}),o.jsx(jm,{children:`Scan ${(v=l.lastScanDays)!=null?v:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,d,f,p;return o.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",o.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:"","  Lv ",(f=l.level)!=null?f:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function jm({children:t}){return o.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const VT=R.createContext(null),Jb=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function nV(t,e){return t.timeRange===e.timeRange&&Jb(t.servers,e.servers)&&Jb(t.classes,e.classes)}function rV(t,e){return t.field===e.field&&t.dir===e.dir}function sV({children:t}){const[e,n]=R.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=R.useState({field:"Level",dir:"desc"}),[l,c]=R.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=R.useCallback(v=>{n(_=>{const S=typeof v=="function"?v(_):{..._,...v};return nV(_,S)?_:S})},[]),f=R.useCallback(v=>{i(_=>{const S=typeof v=="function"?v(_):v;return rV(_,S)?_:S})},[]),p=R.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);R.useEffect(()=>{let v=!1;return v||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{v=!0}},[p]);const g=R.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:f}),[l,e,r,d,f]);return o.jsx(VT.Provider,{value:g,children:t})}function iV(){const t=R.useContext(VT);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function oV(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function aV(){const t=pu(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:f,servers:p,setServers:g,classes:v,range:_,sortBy:S}=t;return o.jsxs(o.Fragment,{children:[o.jsxs(ar,{mode:"card",title:"Top Lists",actions:o.jsx(cV,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?o.jsx(PF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[o.jsx(tV,{}),r==="table"&&o.jsx(sV,{db:pt,children:o.jsx(lV,{servers:p!=null?p:[],classes:v!=null?v:[],range:_!=null?_:"all",sortKey:S!=null?S:"level"})})]}),o.jsx(NF,{mode:"modal",open:d,onClose:()=>f(!1),serversByRegion:Cg,selected:p,onToggle:C=>g(A=>A.includes(C)?A.filter(j=>j!==C):[...A,C]),onSelectAllInRegion:C=>g(Cg[C]),onClearAll:()=>g([])}),o.jsx(KF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function lV({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:l,setSort:c}=iV(),{loading:d,error:f,data:p,lastUpdated:g}=i;R.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),R.useEffect(()=>{const _=oV(r);c(_)},[r,c]);const v=_=>_==null?"":new Intl.NumberFormat("en").format(_);return o.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[o.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[o.jsxs("div",{children:[d?"Loading":f?"Error":"Ready","  ",p.length," rows"]}),o.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),f&&o.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[o.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),o.jsx("div",{style:{wordBreak:"break-all"},children:f}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{padding:"8px 6px"},children:"#"}),o.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),o.jsxs("tbody",{children:[p.map((_,S)=>{var C,A,j;return o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),o.jsx("td",{style:{padding:"8px 6px"},children:_[" Rank"]}),o.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),o.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),o.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Level)}),o.jsx("td",{style:{padding:"8px 6px"},children:(C=_.Guild)!=null?C:""}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Main)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Con)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_["Sum Base Stats"])}),o.jsx("td",{style:{padding:"8px 6px"},children:(A=_.Ratio)!=null?A:""}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Mine)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Treasury)}),o.jsx("td",{style:{padding:"8px 6px"},children:(j=_["Last Scan"])!=null?j:""}),o.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${S}`)}),d&&p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!f&&p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function cV(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:l}=pu();return o.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[o.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[o.jsx(Zb,{to:"/toplists/players",label:"Players"}),o.jsx(Zb,{to:"/toplists/guilds",label:"Guilds"})]}),o.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),o.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[o.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),o.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),o.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),o.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),o.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[o.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),o.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),o.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Zb({to:t,label:e}){return o.jsx(xr,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const uV=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function dV(){return o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),uV.map(t=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[o.jsxs("div",{children:["#",t.rank]}),o.jsxs("div",{children:[t.name,"  ",t.server]}),o.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),o.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function hV(t="players"){const e=Zi(),{search:n,pathname:r}=Tr();return[new URLSearchParams(n).get("tab")||t,d=>{const f=new URLSearchParams(n);f.set("tab",d),e(`${r}?${f.toString()}`,{replace:!1})}]}function fV(){const[t,e]=hV("players");return o.jsx(_F,{children:t==="players"?o.jsx(aV,{tab:t,setTab:e}):o.jsx(dV,{tab:t,setTab:e})})}function pV(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players  Browse"})})}function mV(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players  Rankings"})})}function gV(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players  Stats"})})}const rt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function e_({children:t,style:e}){return o.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function yV({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return o.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${rt.tileAlt}, ${rt.active})`,color:rt.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${rt.line}`},"aria-hidden":!0,children:n||"?"})}function vV({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||"");let l=Yt.find(p=>r(p.label)===i)||Yt.find(p=>r(p.label).startsWith(i)||i.startsWith(r(p.label)));const c=l?Fs(l.iconUrl,n*2):void 0,[d,f]=R.useState(!1);return!c||d?o.jsx(yV,{label:e,size:n}):o.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:o.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>f(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function Em({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:rt.tileAlt,border:`1px solid ${rt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{style:{fontSize:12,color:rt.textSoft,marginBottom:4},children:t}),o.jsx("div",{style:{fontSize:22,color:rt.title,fontWeight:700},children:e}),n?o.jsx("div",{style:{fontSize:12,color:rt.textSoft,marginTop:4},children:n}):null]})}function hc({children:t}){return o.jsx("div",{style:{background:rt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${rt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Gd=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},xV=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},bV=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Cm(){var j,D,B,F,U,$,W,E;const t=Vg(),e=t.id||t.pid||t.playerId||t.player||"",n=Zi(),[r,i]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState(null),[p,g]=R.useState("Statistiken");R.useEffect(()=>{let T=!1;async function I(){var M,L,V,N,fe,K,re,ne,Q,ae,oe,G,ee,ye,we,Ee,me,Ce,Ae,Pe,tt,Nt,Xt,Ft;i(!0),c(null);try{const kt=(e||"").trim();if(!kt){c("Kein Spieler gewhlt."),i(!1);return}const Hn=zt(pt,`players/${kt}/latest/latest`),Gn=await ds(Hn);if(!Gn.exists()){c("Spieler nicht gefunden."),i(!1);return}const it=Gn.data(),jr=(V=Gd((L=it.level)!=null?L:(M=it.values)==null?void 0:M.Level))!=null?V:null,Wn=((K=(fe=it.className)!=null?fe:(N=it.values)==null?void 0:N.Class)!=null?K:null)||null,an=((Q=(ne=it.guildName)!=null?ne:(re=it.values)==null?void 0:re.Guild)!=null?Q:null)||null,ln=(G=(oe=it.name)!=null?oe:(ae=it.values)==null?void 0:ae.Name)!=null?G:kt,lr=(we=(ye=it.server)!=null?ye:(ee=it.values)==null?void 0:ee.Server)!=null?we:null,qn=(Ce=Gd((me=it.totalStats)!=null?me:(Ee=it.values)==null?void 0:Ee["Total Stats"]))!=null?Ce:null,Kn=(Ft=Gd((Xt=(tt=(Ae=it.values)==null?void 0:Ae.Album)!=null?tt:(Pe=it.values)==null?void 0:Pe["Album %"])!=null?Xt:(Nt=it.values)==null?void 0:Nt.AlbumPct))!=null?Ft:null,cr=xV(Gd(it.timestamp));T||f({id:kt,name:ln,className:Wn,level:jr,guild:an,server:lr,scrapbookPct:Kn,totalStats:qn,lastScanDays:cr})}catch(kt){T||c((kt==null?void 0:kt.message)||"Fehler beim Laden.")}finally{T||i(!1)}}return I(),()=>{T=!0}},[e]);const v=R.useMemo(()=>o.jsxs("div",{style:{padding:24,color:rt.textSoft},children:[l!=null?l:"Unbekannter Fehler.",o.jsx("div",{style:{marginTop:12},children:o.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:rt.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),_=o.jsx("div",{style:{padding:16,color:rt.textSoft},children:"Lade Spielerprofil"}),S=o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${rt.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:bV.map(T=>{const I=T===p;return o.jsx("button",{role:"tab","aria-selected":I,onClick:()=>g(T),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${I?rt.active:"transparent"}`,background:I?"rgba(45,78,120,0.35)":"transparent",color:rt.title,cursor:"pointer"},children:T},T)})}),C=o.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&o.jsx(hc,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&o.jsx(hc,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),p==="Fortschritt"&&o.jsx(hc,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),p==="Vergleich"&&o.jsx(hc,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),p==="Historie"&&o.jsx(hc,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),A=r?_:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${rt.line}`},children:o.jsxs(e_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[o.jsx(vV,{className:(j=d.className)!=null?j:void 0,label:d.name,size:36}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:18,color:rt.title,fontWeight:700},children:d.name}),o.jsxs("div",{style:{fontSize:12,color:rt.textSoft},children:[(D=d.className)!=null?D:"Klasse ?","  ",(B=d.guild)!=null?B:"","  ",(F=d.server)!=null?F:""]})]})]})}),o.jsxs(e_,{style:{paddingTop:12,paddingBottom:24},children:[o.jsxs("div",{style:{background:rt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${rt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{children:o.jsx("h2",{style:{margin:0,color:rt.title,fontSize:24,fontWeight:800},children:d.name})}),o.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[o.jsxs("span",{style:{color:rt.textSoft},children:["Zuletzt aktualisiert: ",(U=d.lastScanDays)!=null?U:0," Tag(e) her"]}),o.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[o.jsx(Em,{label:"Level",value:($=d.level)!=null?$:"?"}),o.jsx(Em,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),o.jsx(Em,{label:"Gilde",value:(W=d.guild)!=null?W:"",hint:(E=d.server)!=null?E:""})]}),S,C]})]}):v;return o.jsx(ar,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:A})}function _V(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(t_,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),o.jsx(t_,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function t_({to:t,title:e,desc:n}){return o.jsxs(Un,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function wV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds  Rankings"}),o.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function SV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds  Stats"}),o.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function TV(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const jV={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function EV(t){var n;const e=TV(t);return(n=jV[e])!=null?n:null}function CV(t,e=128){const n=EV(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=IN(n),i=Fs(r,e);return{id:n,url:r,thumb:i,fallback:""}}function Yc(t,e=128){return CV(t,e).thumb}const Jo={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},df=(t,e)=>({...t||{},...e||{}}),n_=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},kV=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),fn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function AV(t){var _,S,C,A,j,D,B,F;const e=fn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=fn(t==null?void 0:t.baseMain),r=fn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},l=fn(i==null?void 0:i.sumBaseTotal);if(l!=null)return l;const c=fn(i==null?void 0:i.main),d=fn(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const f=(t==null?void 0:t.values)||{},p=(S=(_=fn(f==null?void 0:f.SumBaseTotal))!=null?_:fn(f==null?void 0:f.sumBaseTotal))!=null?S:fn(f==null?void 0:f["Sum Base Total"]);if(p!=null)return p;const g=(j=(A=(C=fn(f==null?void 0:f.Main))!=null?C:fn(f==null?void 0:f.main))!=null?A:fn(f==null?void 0:f.BaseMain))!=null?j:fn(f==null?void 0:f.baseMain),v=(F=(B=(D=fn(f==null?void 0:f.Con))!=null?D:fn(f==null?void 0:f.con))!=null?B:fn(f==null?void 0:f.ConBase))!=null?F:fn(f==null?void 0:f.conBase);return g!=null&&v!=null?g+v:null}function Ao(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function IV(t,e=56){if(!t)return;const n=Ao(t),r=Yt.find(i=>Ao(i.label)===n||Ao(i.key)===n)||Yt.find(i=>Ao(i.label).startsWith(n)||n.startsWith(Ao(i.label))||Ao(i.key).startsWith(n)||n.startsWith(Ao(i.key)));return r?Fs(r.iconUrl,e):void 0}function RV({name:t,memberClass:e,online:n,theme:r=Jo}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=IV(e,56);return o.jsxs("div",{className:"relative",children:[l?o.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&o.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const PV={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},NV=({role:t})=>o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(PV[t]||""),children:t});function r_(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function DV(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Wd({label:t,value:e,theme:n=Jo}){return o.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[o.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),o.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function MV({member:t,theme:e,actions:n,extraKPIs:r}){var g,v,_,S,C,A,j,D,B;if(!t)return null;const i=df(Jo,e),l=t,c=r_((v=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?v:null,(_=l.guildJoinedMs)!=null?_:null),d=r_((S=l.lastActivity)!=null?S:null,(C=l.lastActivityMs)!=null?C:typeof l.lastOnline=="number"?l.lastOnline:null),f=DV(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return o.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[o.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),o.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[o.jsx("div",{className:"shrink-0",children:o.jsx(RV,{name:t.name,memberClass:(D=(j=l.class)!=null?j:(A=l.values)==null?void 0:A.Class)!=null?D:null,online:l.online,theme:i})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),l.role&&o.jsx(NV,{role:l.role})]}),o.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",d]})]}),o.jsx("div",{className:"ml-auto",children:n})]}),o.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsx(Wd,{label:"Level",value:(B=l.level)!=null?B:"",theme:i}),typeof l.scrapbook=="number"&&o.jsx(Wd,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:i}),o.jsx(Wd,{label:"Sum Base",value:f,theme:i}),o.jsx(Wd,{label:"Total Stats",value:p,theme:i}),r]})]})}function Io(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function LV(t,e=40){if(!t)return;const n=Io(t);let r=Yt.find(i=>Io(i.label)===n||Io(i.key)===n)||Yt.find(i=>Io(i.label).startsWith(n)||n.startsWith(Io(i.label))||Io(i.key).startsWith(n)||n.startsWith(Io(i.key)));return r?Fs(r.iconUrl,e):void 0}function FV({name:t,memberClass:e,online:n,theme:r=Jo}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=LV(e,40);return o.jsxs("div",{className:"relative",children:[l?o.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&o.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const VV=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function BV({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const l=df(Jo,i);return o.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[o.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),o.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[o.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,d)=>{var f,p,g;return o.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[o.jsx(FV,{name:c.name,memberClass:(g=(p=c.class)!=null?p:(f=c.values)==null?void 0:f.Class)!=null?g:null,online:c.online,theme:l}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),o.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),o.jsx("div",{className:"justify-self-end",children:o.jsx(VV,{role:c.role})}),r(c)]},c.id)})]})]})}function Ro(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function OV(t,e=40){if(!t)return;const n=Ro(t);let r=Yt.find(i=>Ro(i.label)===n||Ro(i.key)===n)||Yt.find(i=>Ro(i.label).startsWith(n)||n.startsWith(Ro(i.label))||Ro(i.key).startsWith(n)||n.startsWith(Ro(i.key)));return r?Fs(r.iconUrl,e):void 0}function $V({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const l=df(Jo,i);return o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var _,S,C,A,j,D,B,F,U;const d=c,f=c.name.slice(0,2).toUpperCase(),p=OV((C=(S=d.class)!=null?S:(_=d.values)==null?void 0:_.Class)!=null?C:null,40),g=typeof d.level=="number"?d.level:typeof((A=d.values)==null?void 0:A.Level)=="number"?d.values.Level:"",v=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((j=d.values)==null?void 0:j.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return o.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p?o.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:$=>{const W=$.currentTarget.parentElement;W&&(W.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${f}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:f}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),o.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(F=(B=d.class)!=null?B:(D=d.values)==null?void 0:D.Class)!=null?F:"",d.server?`  ${d.server}`:""]})]}),o.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(U=d.role)!=null?U:""})]}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),o.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),v&&o.jsxs("div",{children:[o.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),o.jsx("div",{className:"font-semibold",style:{color:l.title},children:v})]})]}),o.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function UV({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:l,onSelect:c,renderActions:d,renderKPIs:f,theme:p}){var M;const g=R.useMemo(()=>df(Jo,p),[p]),[v,_]=R.useState(e),[S,C]=R.useState(n),[A,j]=R.useState(r.key),[D,B]=R.useState(r.dir),[F,U]=R.useState((M=t[0])==null?void 0:M.id),$=l!=null?l:F,W=L=>{l||U(L);const V=t.find(N=>N.id===L);V&&c&&c(V)},E=R.useMemo(()=>{const L=S.trim().toLowerCase();return L?t.filter(V=>V.name.toLowerCase().includes(L)||V.class.toLowerCase().includes(L)||String(V.role).toLowerCase().includes(L)):t},[t,S]),T=R.useMemo(()=>{const L=D==="asc"?1:-1,V=N=>{var fe,K;switch(A){case"sumBaseStats":{const re=AV(N);return re==null?-1/0:re}case"totalStats":return(K=(fe=N.totalStats)!=null?fe:kV(N.baseStats))!=null?K:-1/0;default:return N[A]}};return[...E].sort((N,fe)=>{const K=V(N),re=V(fe);return K===re?0:K>re?L:-L})},[E,A,D]),I=R.useMemo(()=>T.find(L=>L.id===$)||T[0],[T,$]);return o.jsxs("div",{children:[i&&o.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),o.jsxs("select",{value:v,onChange:L=>_(L.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[o.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),o.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),o.jsx("input",{value:S,onChange:L=>C(L.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),o.jsxs("select",{value:String(A),onChange:L=>j(L.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[o.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),o.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),o.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),o.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),o.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),o.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),o.jsx("button",{onClick:()=>B(L=>L==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:D==="asc"?"":""})]})]}),o.jsx(MV,{member:I,actions:I&&(d?d(I):o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:I&&f?f(I):null,theme:g}),v==="list"?o.jsx(BV,{rows:T,selId:$,onSelect:W,theme:g,rightCols:L=>{var V;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-right text-sm",children:(V=L.level)!=null?V:""}),o.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:n_(L.lastOnline)})]})}}):o.jsx($V,{rows:T,selId:$,onSelect:W,theme:g,footer:L=>o.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:o.jsxs("span",{children:["Last ",n_(L.lastOnline)]})})})]})}function zV({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:l,totalPower:c,activity7d:d,topClasses:f,tickerItems:p,href:g,onClick:v,className:_}){const S=IT(),C=R.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),N=Math.max(0,Math.floor(V/6e4));if(N<60)return`${N}m`;const fe=Math.floor(N/60);return fe<24?`${fe}h`:`${Math.floor(fe/24)}d`},[r]),A=Tc(0),j=Tc(0),D=Tc(0),B=Tc(0),F=Ud(A,V=>Math.round(V).toString()),U=Ud(j,V=>Math.round(V).toString()),$=Ud(D,V=>Math.round(V).toLocaleString()),W=Ud(B,V=>`${Math.round(V)}%`);R.useEffect(()=>{const V=S?0:.6;if(V===0){A.set(i),j.set(l),D.set(c!=null?c:0),B.set(d!=null?d:0);return}const N=[zd(A,i,{duration:V}),zd(j,l,{duration:V}),zd(D,c!=null?c:0,{duration:V}),zd(B,d!=null?d:0,{duration:V})];return()=>N.forEach(fe=>fe.stop())},[i,l,c,d,S]);const E=R.useRef(null);R.useEffect(()=>{if(S||!E.current)return;const V=E.current;let N=0,fe=0;const K=()=>{fe+=.016;const re=fe*14%140-20;V.style.setProperty("--s-x",`${re}%`),N=requestAnimationFrame(K)};return N=requestAnimationFrame(K),()=>cancelAnimationFrame(N)},[S]);const T={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},I=100,M=g?"a":"div",L=g?{href:g}:{onClick:v};return o.jsxs(M,{...L,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",_!=null?_:""].join(" "),style:{background:`linear-gradient(135deg, ${T.bgFrom}, ${T.bgTo})`},children:[o.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),o.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[o.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?o.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):o.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:o.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),o.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),C&&o.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:T.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${T.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",C]}),o.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${I}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),o.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${I}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${I}deg, transparent 0 46px, ${T.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),o.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[o.jsx("h3",{className:"truncate font-extrabold",style:{color:T.title,fontSize:22},children:t}),o.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:T.soft,border:`1px solid ${T.border}`},children:e})]}),o.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[o.jsx(qd,{label:"Members",value:F}),o.jsx(qd,{label:" Level",value:U}),o.jsx(qd,{label:"Total Power",value:$}),typeof d=="number"&&o.jsx(qd,{label:"Activity (7d)",value:W})]}),f!=null&&f.length?o.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:T.soft},children:"Top Classes"}),f.slice(0,3).map(V=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${T.border}`,color:T.text},children:[V.iconUrl?o.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):o.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:T.accent,opacity:.85}}),o.jsxs("span",{className:"text-xs",children:[V.key," ",o.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),p!=null&&p.length?o.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${T.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:o.jsx(HV,{items:p,muted:S,color:T.soft})}):null]})}function qd({label:t,value:e}){return o.jsxs("div",{className:"relative z-10 min-w-0",children:[o.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),o.jsx(kT.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function HV({items:t,muted:e,color:n}){const r=R.useRef(null);return R.useEffect(()=>{if(e||!r.current)return;const i=r.current;let l=0,c=0;const d=()=>{l+=.016;const f=l*40%(i.scrollWidth+60);i.style.transform=`translateX(${-f}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),o.jsx("div",{className:"overflow-hidden",children:o.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,l)=>o.jsx("span",{className:"mx-6 text-xs align-middle",children:i},l))})})}const GV="_wrap_q5gkc_53",WV="_banner_q5gkc_59",qV="_bannerRowTop_q5gkc_61",KV="_bannerStripe_q5gkc_71",QV="_bannerTitle_q5gkc_79",YV="_bannerRowBottom_q5gkc_93",XV="_bannerSub_q5gkc_95",JV="_monthPickerWrap_q5gkc_101",ZV="_monthPickerLabel_q5gkc_113",e3="_monthPicker_q5gkc_101",t3="_monthButton_q5gkc_131",n3="_monthButtonText_q5gkc_159",r3="_chev_q5gkc_161",s3="_monthList_q5gkc_165",i3="_monthOption_q5gkc_195",o3="_monthBadge_q5gkc_221",a3="_gridRow_q5gkc_237",l3="_gridRowBottom_q5gkc_239",c3="_sideImage_q5gkc_253",u3="_sideImagePh_q5gkc_271",d3="_emblemPanel_q5gkc_275",h3="_emblemFrame_q5gkc_295",f3="_emblemImg_q5gkc_297",p3="_emblemPlaceholder_q5gkc_299",m3="_emblemShimmer_q5gkc_307",g3="_emblemCaption_q5gkc_315",y3="_card_q5gkc_319",v3="_cardHeader_q5gkc_331",x3="_cardTitle_q5gkc_339",b3="_cardSubtitle_q5gkc_341",_3="_headerRight_q5gkc_343",w3="_cardBody_q5gkc_345",S3="_tableWrap_q5gkc_349",T3="_tableTitle_q5gkc_351",j3="_table_q5gkc_349",E3="_th_q5gkc_355",C3="_td_q5gkc_355",k3="_tdEmpty_q5gkc_365",A3="_sectionDivider_q5gkc_375",I3="_sectionStripe_q5gkc_389",R3="_sectionTitle_q5gkc_397",Fe={wrap:GV,banner:WV,bannerRowTop:qV,bannerStripe:KV,bannerTitle:QV,bannerRowBottom:YV,bannerSub:XV,monthPickerWrap:JV,monthPickerLabel:ZV,monthPicker:e3,monthButton:t3,monthButtonText:n3,chev:r3,monthList:s3,monthOption:i3,monthBadge:o3,gridRow:a3,gridRowBottom:l3,sideImage:c3,sideImagePh:u3,emblemPanel:d3,emblemFrame:h3,emblemImg:f3,emblemPlaceholder:p3,emblemShimmer:m3,emblemCaption:g3,card:y3,cardHeader:v3,cardTitle:x3,cardSubtitle:b3,headerRight:_3,cardBody:w3,tableWrap:S3,tableTitle:T3,table:j3,th:E3,td:C3,tdEmpty:k3,sectionDivider:A3,sectionStripe:I3,sectionTitle:R3};function P3(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function s_(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const i_=({title:t,subtitle:e,children:n,rightBadge:r})=>o.jsxs("section",{className:Fe.card,children:[(t||e||r)&&o.jsxs("header",{className:Fe.cardHeader,children:[o.jsxs("div",{className:Fe.headerTitles,children:[t&&o.jsx("h3",{className:Fe.cardTitle,children:t}),e&&o.jsx("div",{className:Fe.cardSubtitle,children:e})]}),r&&o.jsx("div",{className:Fe.headerRight,children:r})]}),o.jsx("div",{className:Fe.cardBody,children:n})]}),o_=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return o.jsxs("div",{className:Fe.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&o.jsx("div",{className:Fe.tableTitle,children:t.title}),o.jsxs("table",{className:Fe.table,children:[o.jsx("thead",{children:o.jsx("tr",{children:e.map(l=>o.jsx("th",{className:Fe.th,style:{width:l.width},children:l.label},l.key))})}),o.jsx("tbody",{children:n.length===0?o.jsx("tr",{children:o.jsx("td",{className:Fe.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var d;return o.jsx("tr",{children:e.map(f=>{var _;const p=l[f.key],g=typeof p=="number"||typeof p=="string"?p:"",v=f.format==="num"?P3(g):g;return o.jsx("td",{className:Fe.td,"data-align":(_=f.align)!=null?_:"left",children:f.render?f.render(l):v},f.key)})},(d=l.id)!=null?d:c)})})]}),t.footer&&o.jsx("div",{className:Fe.tableFooter,children:t.footer})]})},N3=(t,e)=>{R.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},D3=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return o.jsx("div",{className:Fe.bannerSub,children:r!=null?r:""});const l=R.useRef(null),[c,d]=R.useState(!1);N3(l,()=>d(!1));const f=t.find(v=>v.key===e),p=f?`${s_(f.fromISO)}${s_(f.toISO)}  ${f.daysSpan}d${f.available?"":"  n/a"}`:void 0;return o.jsxs("div",{className:Fe.monthPickerWrap,children:[o.jsx("div",{className:Fe.monthPickerLabel,children:"Monat"}),o.jsxs("div",{className:Fe.monthPicker,ref:l,children:[o.jsxs("button",{type:"button",className:Fe.monthButton,onClick:()=>d(v=>!v),"aria-haspopup":"listbox","aria-expanded":c,children:[o.jsx("span",{className:Fe.monthButtonText,children:(g=f==null?void 0:f.label)!=null?g:""}),o.jsx("svg",{className:Fe.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&o.jsx("ul",{className:Fe.monthList,role:"listbox",children:t.map(v=>o.jsx("li",{children:o.jsx("button",{type:"button",className:Fe.monthOption,onClick:()=>{d(!1),n==null||n(v.key)},role:"option","aria-selected":v.key===e,children:v.label})},v.key))})]}),p&&o.jsx("span",{className:Fe.monthBadge,children:p})]})},M3=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>o.jsxs("div",{className:Fe.banner,children:[o.jsxs("div",{className:Fe.bannerRowTop,children:[o.jsx("div",{className:Fe.bannerStripe}),o.jsx("div",{className:Fe.bannerTitle,children:t}),o.jsx("div",{className:Fe.bannerStripe})]}),o.jsx("div",{className:Fe.bannerRowBottom,children:o.jsx(D3,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),L3=({emblemUrl:t,caption:e})=>o.jsxs("div",{className:Fe.emblemPanel,children:[o.jsxs("div",{className:Fe.emblemFrame,children:[t?o.jsx("img",{src:t,alt:"Guild Emblem",className:Fe.emblemImg}):o.jsx("div",{className:Fe.emblemPlaceholder,children:"Emblem"}),o.jsx("div",{className:Fe.emblemShimmer})]}),e&&o.jsx("div",{className:Fe.emblemCaption,children:e})]}),a_=({imgUrl:t,alt:e})=>o.jsx("div",{className:Fe.sideImage,children:t?o.jsx("img",{src:t,alt:e!=null?e:"side"}):o.jsx("div",{className:Fe.sideImagePh,children:"Image"})}),km=({children:t,className:e})=>o.jsx("div",{className:`${Fe.gridRow} ${e!=null?e:""}`,children:t}),F3=({children:t})=>o.jsxs("div",{className:Fe.sectionDivider,children:[o.jsx("div",{className:Fe.sectionStripe}),o.jsx("div",{className:Fe.sectionTitle,children:t}),o.jsx("div",{className:Fe.sectionStripe})]}),V3=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:l}=t;return o.jsxs("div",{className:Fe.wrap,children:[o.jsx(M3,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),o.jsxs(km,{children:[o.jsx(a_,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),o.jsx(L3,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),o.jsx(a_,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),o.jsx(km,{children:i.map((c,d)=>o.jsx(i_,{title:c.title,subtitle:c.subtitle,children:o.jsx(o_,{block:c})},d))}),o.jsx(F3,{children:"Guild Overview"}),o.jsx(km,{className:Fe.gridRowBottom,children:l.map((c,d)=>o.jsx(i_,{title:c.title,subtitle:c.subtitle,children:o.jsx(o_,{block:c})},d))})]})},B3=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState(void 0),p=R.useRef({}),[g,v]=R.useState(()=>Kd(e,n));R.useEffect(()=>{let S=!1;async function C(){var A,j,D,B,F;i(!0);try{const U=gy(pt,`guilds/${t}/history_monthly`),$=await ii(U),W=[];for(const I of $.docs){const M=I.id,L=I.data();if(!L)continue;p.current[M]=L;const V=(A=L==null?void 0:L.meta)!=null?A:{},N=V.fromISO||V.baselineISO||V.firstISO||"",fe=V.toISO||V.latestISO||V.nowISO||"",K=Number((j=V.daysSpan)!=null?j:Math.floor((+new Date(fe)-+new Date(N))/864e5))||0,re=!!((B=(D=L==null?void 0:L.status)==null?void 0:D.available)!=null?B:N&&fe&&K<=40),ne=V.label||new Date(M+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});W.push({key:M,label:ne,fromISO:N||new Date(M+"-01").toISOString(),toISO:fe||new Date(M+"-28").toISOString(),daysSpan:K,available:re,reason:re||(F=L==null?void 0:L.status)==null?void 0:F.reason})}if(W.sort((I,M)=>I.key<M.key?1:-1),S)return;if(W.length===0){c(null),f(void 0),v(Kd(e,n)),i(!1);return}c(W);const E=W[0].key;f(E);const T=p.current[E];v(l_(T,{guildName:e,guildServer:n,currentMonthKey:E,months:W}))}catch(U){console.error(U),c(null),f(void 0),v(Kd(e,n))}finally{S||i(!1)}}return C(),()=>{S=!0}},[t,e,n]);async function _(S){f(S);let C=p.current[S];if(!C)try{const A=zt(pt,`guilds/${t}/history_monthly/${S}`),j=await ds(A);j.exists()?(C=j.data(),p.current[S]=C):C=null}catch(A){console.error(A),C=null}if(!C){v(Kd(e,n,{currentMonthKey:S,months:l!=null?l:void 0}));return}v(l_(C,{guildName:e,guildServer:n,currentMonthKey:S,months:l!=null?l:void 0}))}return o.jsx(V3,{data:g,onMonthChange:_})};function Kd(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Yc(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Po("Most Base Stats gained",e?`Server ${e}`:void 0),Po("Sum Base Stats"),Po("Highest Base Stats")],tablesBottom:[Po("Main & Con"),Po("Sum Base Stats"),Po("Highest Base Stats"),Po("Highest Total Stats")]}}function Po(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function l_(t,e){var c,d,f,p,g,v,_,S;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Yc(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((C,A)=>{var j,D,B,F,U,$,W,E;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",level:(F=(B=C.levelLatest)!=null?B:C.level)!=null?F:null,base:($=(U=C.baseLatest)!=null?U:C.base)!=null?$:null,delta:(E=(W=C.baseDelta)!=null?W:C.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((f=t==null?void 0:t.sumBaseStats)!=null?f:[]).map((C,A)=>{var j,D,B,F,U,$,W;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",base:(B=C.base)!=null?B:null,stam:(U=(F=C.stamDelta)!=null?F:C.staminaDelta)!=null?U:null,sho:(W=($=C.shoDelta)!=null?$:C.shootingDelta)!=null?W:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((C,A)=>{var j,D,B,F,U;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",stats:(F=(B=C.stats)!=null?B:C.base)!=null?F:null,delta:(U=C.delta)!=null?U:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((C,A)=>{var j,D,B,F,U,$;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",class:(F=(B=C.class)!=null?B:C.className)!=null?F:"",stats:(U=C.stats)!=null?U:null,delta:($=C.delta)!=null?$:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((v=t==null?void 0:t.sumBaseStats)!=null?v:[]).map((C,A)=>{var j,D,B,F,U;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",base:(B=C.base)!=null?B:null,stam:(F=C.stamDelta)!=null?F:null,sho:(U=C.shoDelta)!=null?U:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((_=t==null?void 0:t.highestBaseStats)!=null?_:[]).map((C,A)=>{var j,D,B,F;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",stats:(B=C.stats)!=null?B:null,delta:(F=C.delta)!=null?F:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((S=t==null?void 0:t.highestTotalStats)!=null?S:[]).map((C,A)=>{var j,D,B,F;return{id:(j=C.playerId)!=null?j:A,rank:A+1,name:(D=C.name)!=null?D:"-",total:(B=C.total)!=null?B:null,delta:(F=C.delta)!=null?F:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:l}}const O3="_root_r1uj3_5",$3="_sectionDivider_r1uj3_17",U3="_sectionStripe_r1uj3_31",z3="_sectionTitle_r1uj3_33",fc={root:O3,sectionDivider:$3,sectionStripe:U3,sectionTitle:z3},H3="_root_4jywc_1",G3="_accent_4jywc_31",c_={root:H3,default:"_default_4jywc_29",accent:G3};function Ji({text:t,tone:e="default",className:n}){return o.jsx("div",{className:`${c_.root} ${c_[e]} ${n!=null?n:""}`.trim(),children:t})}const Qd=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function BT(t,e=64){if(!t)return;const n=Qd(t);let r=Yt.find(i=>Qd(i.label)===n);return r||(r=Yt.find(i=>Qd(i.label).startsWith(n)||n.startsWith(Qd(i.label)))),r?Fs(r.iconUrl,e):void 0}const W3="_card_vvv3s_3",q3="_wrap_vvv3s_31",K3="_divider_vvv3s_45",Q3="_rows_vvv3s_77",Y3="_row_vvv3s_77",X3="_left_vvv3s_109",J3="_label_vvv3s_111",Z3="_avgHead_vvv3s_113",eB="_avgNum_vvv3s_115",tB="_top3_vvv3s_121",nB="_chip_vvv3s_123",rB="_badge_vvv3s_151",sB="_name_vvv3s_159",iB="_score_vvv3s_161",oB="_headerSpacer_vvv3s_167",Bn={card:W3,wrap:q3,divider:K3,rows:Q3,row:Y3,left:X3,label:J3,avgHead:Z3,avgNum:eB,top3:tB,chip:nB,badge:rB,name:sB,score:iB,headerSpacer:oB};function aB({name:t,value:e,classLabel:n,colors:r}){const i=BT(n,64);return o.jsxs("div",{className:Bn.chip,children:[o.jsx("span",{className:Bn.badge,children:i?o.jsx("img",{src:i,alt:""}):null}),o.jsx("span",{className:Bn.name,children:t!=null?t:""}),o.jsx("span",{className:Bn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function lB({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(f=>typeof f[d]=="number").sort((f,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=f[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return o.jsxs("div",{className:Bn.card,children:[o.jsx(Ji,{text:n}),o.jsx("div",{className:Bn.headerSpacer}),o.jsxs("div",{className:Bn.wrap,children:[o.jsx("div",{className:Bn.divider}),o.jsx("div",{className:Bn.rows,children:l.map((d,f)=>o.jsxs("div",{className:Bn.row,children:[o.jsxs("div",{className:Bn.left,children:[o.jsx("div",{className:Bn.label,children:d.label}),o.jsx("div",{className:Bn.avgHead,children:""}),o.jsx("div",{className:Bn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),o.jsx("div",{className:Bn.top3,children:d.list.map((p,g)=>o.jsx(aB,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},f))})]})]})}const cB="_card_1enwc_1",uB="_wrap_1enwc_1",dB="_divider_1enwc_1",hB="_rows_1enwc_1",fB="_row_1enwc_1",pB="_left_1enwc_1",mB="_label_1enwc_1",gB="_avgHead_1enwc_1",yB="_avgNum_1enwc_1",vB="_top3_1enwc_1",xB="_chip_1enwc_1",bB="_badge_1enwc_1",_B="_name_1enwc_1",wB="_score_1enwc_1",SB="_headerSpacer_1enwc_1",On={card:cB,wrap:uB,divider:dB,rows:hB,row:fB,left:pB,label:mB,avgHead:gB,avgNum:yB,top3:vB,chip:xB,badge:bB,name:_B,score:wB,headerSpacer:SB};function TB({name:t,value:e,classLabel:n,colors:r}){const i=BT(n,64);return o.jsxs("div",{className:On.chip,children:[o.jsx("span",{className:On.badge,children:i?o.jsx("img",{src:i,alt:""}):null}),o.jsx("span",{className:On.name,children:t!=null?t:""}),o.jsx("span",{className:On.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function jB({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(f=>typeof f[d]=="number").sort((f,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=f[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return o.jsxs("div",{className:On.card,children:[o.jsx(Ji,{text:n}),o.jsx("div",{className:On.headerSpacer}),o.jsxs("div",{className:On.wrap,children:[o.jsx("div",{className:On.divider}),o.jsx("div",{className:On.rows,children:l.map((d,f)=>o.jsxs("div",{className:On.row,children:[o.jsxs("div",{className:On.left,children:[o.jsx("div",{className:On.label,children:d.label}),o.jsx("div",{className:On.avgHead,children:""}),o.jsx("div",{className:On.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),o.jsx("div",{className:On.top3,children:d.list.map((p,g)=>o.jsx(TB,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},f))})]})]})}function EB({guild:t,snapshot:e,colors:n}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Ji,{text:"General Info"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function CB({colors:t}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Ji,{text:"Fortress"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function kB({colors:t}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Ji,{text:"Rankings"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function AB({colors:t}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Ji,{text:"Serververgleich"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const IB=R.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const l=i.icon,c=({text:d})=>o.jsxs("div",{className:fc.sectionDivider,children:[o.jsx("div",{className:fc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),o.jsx("div",{className:fc.sectionTitle,style:{color:i.soft},children:d}),o.jsx("div",{className:fc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return o.jsxs("div",{className:fc.root+" space-y-4",children:[o.jsx(c,{text:"GUILD OVERVIEW"}),o.jsx("div",{style:{marginTop:6,marginBottom:10},children:o.jsx(c,{text:"AVERAGE PLAYER STATS"})}),o.jsx(EB,{guild:e,snapshot:n,colors:i}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[o.jsx(lB,{snapshot:n,colors:i}),o.jsx(jB,{snapshot:n,colors:i})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[o.jsx(CB,{colors:i}),o.jsx(kB,{colors:i})]}),o.jsx("div",{className:"mt-4",children:o.jsx(AB,{colors:i})})]})}),RB="_wrapper_zqchq_3",PB="_grid_zqchq_9",NB="_tile_zqchq_13",DB="_disabled_zqchq_37",MB="_crestWrap_zqchq_41",LB="_crest_zqchq_41",FB="_ring_zqchq_53",VB="_badge_zqchq_55",BB="_meta_zqchq_67",OB="_nameRow_zqchq_69",$B="_name_zqchq_69",UB="_share_zqchq_73",zB="_sub_zqchq_75",HB="_tileButton_zqchq_79",GB="_donutCard_zqchq_85",WB="_donutHeader_zqchq_87",qB="_legend_zqchq_91",KB="_legendItem_zqchq_93",QB="_legendSwatch_zqchq_95",YB="_legendRight_zqchq_97",XB="_centerLabel_zqchq_101",jt={wrapper:RB,grid:PB,tile:NB,disabled:DB,crestWrap:MB,crest:LB,ring:FB,badge:VB,meta:BB,nameRow:OB,name:$B,share:UB,sub:zB,tileButton:HB,donutCard:GB,donutHeader:WB,legend:qB,legendItem:KB,legendSwatch:QB,legendRight:YB,centerLabel:XB},kg=56;function Nh(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function u_(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const JB=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function ZB(t){return t?/drive\.google\.com/.test(t):!1}function d_(t,e=kg){if(t)return ZB(t)?Fs(t,e):t}function e6(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function t6(t){var g,v,_,S,C,A;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,i=(v=e.label)!=null?v:n.name,l=(S=(_=n.crestUrl)!=null?_:e.iconUrl)!=null?S:n.iconUrl,c=(C=e.iconUrl)!=null?C:n.iconUrl,d=(A=e.fallback)!=null?A:n.fallback;if(!r||!i)return null;const f=d_(l,kg),p=d_(c,kg);return{id:r,name:String(i),crestUrl:f||p,iconUrl:p||f,fallback:d?String(d):void 0}}function OT(t,e){var g,v,_,S,C,A,j,D,B,F,U,$,W,E,T,I,M,L,V,N,fe;const n={},r={},i={},l={},c=e.map(K=>K.id);for(const K of c)n[K]=0,r[K]=0,i[K]=0,l[K]=null;for(const K of Array.isArray(t)?t:[]){const re=($=(F=(D=(A=(S=(_=(v=(g=K.classId)!=null?g:K.class)!=null?v:K.klass)!=null?_:K.playerClass)!=null?S:K.cls)!=null?A:(C=K.values)==null?void 0:C.Class)!=null?D:(j=K.values)==null?void 0:j.class)!=null?F:(B=K.values)==null?void 0:B.Klasse)!=null?$:(U=K.values)==null?void 0:U.klasse,ne=e6(re);if(!ne||!c.includes(ne))continue;n[ne]+=1;const Q=JB((I=(E=K.level)!=null?E:(W=K.values)==null?void 0:W.Level)!=null?I:(T=K.values)==null?void 0:T.level);Q!=null&&(r[ne]+=Q,i[ne]+=1,(!l[ne]||((L=(M=l[ne])==null?void 0:M.level)!=null?L:-1/0)<Q)&&(l[ne]={id:K.id,name:(fe=(N=K.name)!=null?N:(V=K.values)==null?void 0:V.Name)!=null?fe:null,level:Q}))}const d=Object.values(n).reduce((K,re)=>K+re,0),f={},p={};return c.forEach(K=>{f[K]=d>0?n[K]/d*100:0,p[K]=i[K]>0?r[K]/i[K]:null}),{counts:n,shares:f,avg:p,top:l}}const n6=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return o.jsxs("svg",{className:jt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[o.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),o.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},r6=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=R.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:f,avg:p,top:g}=R.useMemo(()=>OT(l,c),[l,c]);return o.jsx("section",{className:jt.wrapper,children:o.jsx("div",{className:jt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(v=>{var B,F,U;const _=(B=d[v.id])!=null?B:0,S=(F=f[v.id])!=null?F:0,C=p[v.id],A=g[v.id],j=_<=0,D=r[v.id]?void 0:v.crestUrl||v.iconUrl;return o.jsxs("div",{className:`${jt.tile} ${j?jt.disabled:""}`,title:j?`${v.name}: kein Mitglied`:`${v.name}  ${u_(_)}  ${Nh(S)}${C?`   ${C.toFixed(1)}`:""}`,children:[o.jsxs("div",{className:jt.crestWrap,children:[D?o.jsx("img",{className:jt.crest,src:D,alt:v.name,onError:()=>i($=>({...$,[v.id]:!0}))}):o.jsx("div",{className:jt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(U=v.fallback)!=null?U:""}),o.jsx(n6,{valuePct:S}),o.jsx("div",{className:jt.badge,children:u_(_)})]}),o.jsxs("div",{className:jt.meta,children:[o.jsxs("div",{className:jt.nameRow,children:[o.jsx("div",{className:jt.name,children:v.name}),o.jsx("div",{className:jt.share,children:Nh(S)})]}),o.jsxs("div",{className:jt.sub,children:[C?` Lvl ${C.toFixed(1)}`:"",A?`  Top: ${A.name}${A.level?` (Lv ${A.level})`:""}`:""]})]}),!j&&n&&o.jsx("button",{className:jt.tileButton,onClick:()=>n(v.id),"aria-label":`${v.name} filtern`})]},v.id)})})})},s6=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:l}=R.useMemo(()=>OT(n,r),[n,r]),c=R.useMemo(()=>Object.values(l).reduce((d,f)=>d+f,0),[l]);return o.jsxs("div",{className:jt.donutCard,children:[o.jsxs("div",{className:jt.donutHeader,children:[o.jsx("div",{children:"Klassen-Verteilung"}),o.jsxs("div",{className:jt.legendRight,children:["Gesamt: ",c]})]}),o.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[o.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[o.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const v=Math.PI*2,_=r.map((C,A)=>{var j;return{id:C.id,pct:(j=i[C.id])!=null?j:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*A)} 60% 55%)`}});let S=0;return _.map(C=>{const A=(C.pct||0)/100;if(A<=0)return null;const j=S,D=S+v*A;S=D;const B=D-j>Math.PI?1:0,F=130+100*Math.cos(j),U=130+100*Math.sin(j),$=130+100*Math.cos(D),W=130+100*Math.sin(D),E=130+64*Math.cos(D),T=130+64*Math.sin(D),I=130+64*Math.cos(j),M=130+64*Math.sin(j),L=`M ${F} ${U} A 100 100 0 ${B} 1 ${$} ${W} L ${E} ${T} A 64 64 0 ${B} 0 ${I} ${M} Z`;return o.jsx("path",{d:L,fill:C.color,opacity:.95},C.id)})})()]}),o.jsx("div",{className:jt.legend,children:r.map((d,f)=>{var v,_;const p=(v=i[d.id])!=null?v:0,g=(_=l[d.id])!=null?_:0;return o.jsxs("div",{className:jt.legendItem,title:`${d.name}: ${g}  ${Nh(p)}`,children:[o.jsx("span",{className:jt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*f)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),o.jsx("span",{children:d.name}),o.jsxs("span",{className:jt.legendRight,children:[g,"  ",Nh(p)]})]},d.id)})})]}),o.jsx("div",{className:jt.centerLabel,children:"Anteile je Klasse"})]})},Ut={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},Am=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},i6=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function $T({title:t,right:e,children:n}){return o.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Ut.tile,border:`1px solid ${Ut.line}`},children:[(t||e)&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Ut.line},children:[o.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Ut.soft},children:t}),e]}),o.jsx("div",{className:"p-4",children:n})]})}function pc({k:t,v:e}){return o.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[o.jsx("span",{className:"opacity-80",children:t}),o.jsx("span",{className:"font-semibold",style:{color:Ut.title},children:e})]})}function o6({guild:t}){var n,r;const e=Yc(t.name,800);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:o.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?o.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):o.jsx("div",{className:"text-6xl",children:""})})}),o.jsx($T,{title:"GILDEN INFO",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsx(pc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),o.jsx(pc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),o.jsx(pc,{k:"Server",v:(r=t.server)!=null?r:""}),o.jsx(pc,{k:"Inaktiv",v:"0"}),o.jsx(pc,{k:"Aktivitt",v:"100%"})]})})]})}function Im(){var A,j,D,B,F,U,$,W,E;const t=Vg(),e=t.id||t.gid||t.guildId||t.guild||"",n=Zi(),[r,i]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState(null),[p,g]=R.useState(null),[v,_]=R.useState("grid"),S=R.useMemo(()=>(Array.isArray(Yt)?Yt:[]).map(t6).filter(Boolean),[]);if(R.useEffect(()=>{let T=!1;async function I(){var M,L,V,N,fe,K,re,ne,Q,ae,oe,G,ee,ye,we,Ee,me,Ce,Ae,Pe,tt,Nt,Xt,Ft,kt,Hn,Gn,it,jr,Wn,an,ln,lr,qn,Kn,cr,ct;i(!0),c(null);try{const Qe=e.trim();if(!Qe){c("Keine Gilde gewhlt."),i(!1);return}const Qn=zt(pt,`guilds/${Qe}/latest/latest`),zr=await ds(Qn);if(!zr.exists()){c("Gilde nicht gefunden."),i(!1);return}const ot=zr.data(),Er=(V=(L=ot.name)!=null?L:(M=ot.values)==null?void 0:M.Name)!=null?V:Qe,Cr=(K=(fe=ot.server)!=null?fe:(N=ot.values)==null?void 0:N.Server)!=null?K:null,ps=(oe=Am((ae=(ne=ot.memberCount)!=null?ne:(re=ot.values)==null?void 0:re["Guild Member Count"])!=null?ae:(Q=ot.values)==null?void 0:Q.GuildMemberCount))!=null?oe:null,ms=(Pe=Am((Ae=(me=(we=(ee=ot.hofRank)!=null?ee:(G=ot.values)==null?void 0:G["Hall of Fame Rank"])!=null?we:(ye=ot.values)==null?void 0:ye.HoF)!=null?me:(Ee=ot.values)==null?void 0:Ee.Rank)!=null?Ae:(Ce=ot.values)==null?void 0:Ce["Guild Rank"]))!=null?Pe:null,gs=i6(Am(ot.timestamp));T||f({id:Qe,name:Er,server:Cr,memberCount:ps,hofRank:ms,lastScanDays:gs});const ys=zt(pt,`guilds/${Qe}/snapshots/members_summary`),ur=await ds(ys);if(ur.exists()&&!T){const ut=ur.data(),Hr={guildId:String((tt=ut.guildId)!=null?tt:Qe),updatedAt:String((Ft=(Xt=ut.updatedAt)!=null?Xt:(Nt=ot.values)==null?void 0:Nt.Timestamp)!=null?Ft:""),updatedAtMs:Number((Hn=(kt=ut.updatedAtMs)!=null?kt:ot.timestamp*1e3)!=null?Hn:0),count:Number((Gn=ut.count)!=null?Gn:0),hash:String((it=ut.hash)!=null?it:""),avgLevel:(jr=ut.avgLevel)!=null?jr:null,avgTreasury:(Wn=ut.avgTreasury)!=null?Wn:null,avgMine:(an=ut.avgMine)!=null?an:null,avgBaseMain:(ln=ut.avgBaseMain)!=null?ln:null,avgConBase:(lr=ut.avgConBase)!=null?lr:null,avgSumBaseTotal:(qn=ut.avgSumBaseTotal)!=null?qn:null,avgAttrTotal:(Kn=ut.avgAttrTotal)!=null?Kn:null,avgConTotal:(cr=ut.avgConTotal)!=null?cr:null,avgTotalStats:(ct=ut.avgTotalStats)!=null?ct:null,members:Array.isArray(ut.members)?ut.members:[]};g(Hr)}}catch(Qe){T||c((Qe==null?void 0:Qe.message)||"Fehler beim Laden.")}finally{T||i(!1)}}return I(),()=>{T=!0}},[e]),R.useMemo(()=>{var T;return(T=p==null?void 0:p.members)!=null?T:[]},[p]),r)return o.jsx(ar,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:o.jsx("div",{className:"text-sm",style:{color:Ut.soft},children:"Lade Gildenprofil"})});if(!d)return o.jsx(ar,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:o.jsxs("div",{className:"text-sm",style:{color:Ut.soft},children:[l!=null?l:"Unbekannter Fehler.",o.jsx("div",{className:"mt-3",children:o.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const C=o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Ut.line}`,position:"relative",zIndex:2},children:[o.jsx("div",{className:"min-w-[120px]",children:o.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Ut.tile,border:`1px solid ${Ut.line}`,color:Ut.title},children:(A=d.server)!=null?A:"S?.EU"})}),o.jsx("div",{className:"flex-1 text-center",children:o.jsx("div",{className:"font-extrabold",style:{color:Ut.title,fontSize:26,lineHeight:1.15},children:d.name})}),o.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Ut.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",o.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),o.jsx("div",{style:{height:1,background:Ut.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return o.jsxs(ar,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[C,o.jsx("div",{className:"px-6 pb-8",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsx(o6,{guild:d})}),o.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[o.jsx(IB,{guild:d,snapshot:p,emblemUrl:Yc(d.name,512)||void 0,colors:Ut}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-[980px]",children:o.jsx(zV,{guildName:d.name,server:(j=d.server)!=null?j:"",emblemUrl:Yc(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(D=d.memberCount)!=null?D:0,avgLevel:(B=p==null?void 0:p.avgLevel)!=null?B:0,totalPower:(F=p==null?void 0:p.avgTotalStats)!=null?F:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(U=d.memberCount)!=null?U:0}`]:void 0})})}),o.jsx(a6,{members:($=p==null?void 0:p.members)!=null?$:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),o.jsxs("div",{className:"col-span-12 md:col-span-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("button",{onClick:()=>_("grid"),"aria-label":"Klassenbersicht",children:o.jsx(Ji,{text:"Klassenbersicht",tone:v==="grid"?"accent":"default"})}),o.jsx("button",{onClick:()=>_("donut"),"aria-label":"Klassenverteilung",children:o.jsx(Ji,{text:"Klassenverteilung",tone:v==="donut"?"accent":"default"})})]}),v==="grid"?o.jsx(r6,{data:(W=p==null?void 0:p.members)!=null?W:[],classMeta:S,onPickClass:T=>{const I=new URL(window.location.href);I.searchParams.set("tab","bersicht"),I.searchParams.set("class",T),window.location.href=I.toString()}}):o.jsx(s6,{data:(E=p==null?void 0:p.members)!=null?E:[],classMeta:S})]})]})})]})}function a6({members:t,guildId:e,guildName:n,guildServer:r}){const[i,l]=R.useState("bersicht");return o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Ut.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return o.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Ut.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Ut.title},children:c},c)})}),o.jsxs($T,{children:[i==="bersicht"&&o.jsx(UV,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&o.jsxs("div",{className:"text-sm",style:{color:Ut.soft},children:["Platzhalter ",o.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&o.jsx(B3,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&o.jsxs("div",{className:"text-sm",style:{color:Ut.soft},children:["Platzhalter ",o.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function l6(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(h_,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),o.jsx(h_,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function h_({to:t,title:e,desc:n}){return o.jsxs(Un,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function c6(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers  Rankings"}),o.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function u6(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers  Stats"}),o.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const nn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function f_({children:t,style:e}){return o.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function d6({size:t=36}){return o.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:o.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function Ba({label:t,value:e}){return o.jsxs("div",{style:{background:nn.tileAlt,border:`1px solid ${nn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{style:{fontSize:12,color:nn.textSoft,marginBottom:4},children:t}),o.jsx("div",{style:{fontSize:22,color:nn.title,fontWeight:700},children:e})]})}function h6(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const f=d[1],p=String(parseInt(d[2],10)),g=f==="EU"?"eu":f==="US"?"us":f==="AM"?"net":f.toLowerCase();c=`s${p}.sfgame.${g}`}return Array.from(new Set([e,n,r,i,l,c].filter(Boolean)))}function Rm(){var A,j,D,B;const t=Vg(),e=Zi(),n=Tr(),r=t.id||t.sid||t.serverId||t.server||"",[i,l]=R.useState(!0),[c,d]=R.useState(null),[f,p]=R.useState(null),[g,v]=R.useState(null);R.useEffect(()=>{let F=!1;async function U(){l(!0),d(null),p(null),v(null);try{const $=r.trim();if(!$)throw new Error("Kein Server gewhlt.");const W=zt(pt,`servers/${$}`),E=await ds(W);if(E.exists()){F||(p(E.id),v(E.data()));return}const T=gy(pt,"servers"),I=h6($),M=[];for(const fe of I)M.push(ii(Ui(T,sh("code","==",fe),zi(1)))),M.push(ii(Ui(T,sh("displayName","==",fe),zi(1)))),M.push(ii(Ui(T,sh("host","==",fe),zi(1))));const L=await Promise.allSettled(M);let V=null,N=null;for(const fe of L){if(fe.status!=="fulfilled")continue;const K=fe.value;if(!K.empty){const re=K.docs[0];V=re.id,N=re.data();break}}if(!V||!N)throw new Error("Server nicht gefunden.");F||(p(V),v(N),V!==$&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch($){F||d(($==null?void 0:$.message)||"Fehler beim Laden.")}finally{F||l(!1)}}return U(),()=>{F=!0}},[r,e,n.pathname]);const _=R.useMemo(()=>o.jsxs("div",{style:{padding:24,color:nn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",o.jsx("div",{style:{marginTop:12},children:o.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:nn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return o.jsx(ar,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:o.jsx("div",{style:{padding:16,color:nn.textSoft},children:"Lade Serverprofil"})});if(!g)return o.jsx(ar,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:_});const S=g.displayName||g.code||f||r,C=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return o.jsxs(ar,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[o.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${nn.line}`},children:o.jsxs(f_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[o.jsx(d6,{size:36}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:18,color:nn.title,fontWeight:700},children:S}),o.jsxs("div",{style:{fontSize:12,color:nn.textSoft},children:[g.host||"","  ",g.region||"","  ",((A=g.type)==null?void 0:A.toUpperCase())||""]})]})]})}),o.jsxs(f_,{style:{paddingTop:12,paddingBottom:24},children:[o.jsxs("div",{style:{background:nn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${nn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,color:nn.title,fontSize:24,fontWeight:800},children:S}),o.jsxs("div",{style:{marginTop:6,color:nn.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((j=g.type)==null?void 0:j.toUpperCase())||""]})]}),o.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[o.jsxs("span",{style:{color:nn.textSoft},children:["Status: ",C]}),o.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[o.jsx(Ba,{label:"Code",value:g.code||""}),o.jsx(Ba,{label:"Host",value:g.host||""}),o.jsx(Ba,{label:"Region",value:g.region||""}),o.jsx(Ba,{label:"Typ",value:((D=g.type)==null?void 0:D.toUpperCase())||""}),o.jsx(Ba,{label:"Numeric ID",value:(B=g.numericId)!=null?B:""}),o.jsx(Ba,{label:"Status",value:C})]}),o.jsxs("div",{style:{marginTop:16,background:nn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${nn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:nn.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const f6="_wrap_k6pqt_1",p6="_centerLogoWrap_k6pqt_21",m6="_centerLogoLink_k6pqt_37",g6="_centerLogo_k6pqt_21",y6="_arc_k6pqt_55",v6="_left_k6pqt_57",x6="_right_k6pqt_59",b6="_sub_k6pqt_61",_6="_full_k6pqt_63",w6="_arcItem_k6pqt_65",S6="_iconBtn_k6pqt_71",T6="_active_k6pqt_125",j6="_iconImg_k6pqt_135",E6="_placeholderIcon_k6pqt_139",C6="_placeholderText_k6pqt_157",k6="_iconLabel_k6pqt_161",vn={wrap:f6,centerLogoWrap:p6,centerLogoLink:m6,centerLogo:g6,arc:y6,left:v6,right:x6,sub:b6,full:_6,arcItem:w6,iconBtn:S6,active:T6,iconImg:j6,placeholderIcon:E6,placeholderText:C6,iconLabel:k6},A6=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Tr();let l=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),f=c.get("sub"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),_=g.get("sub");l=r==="sub"?d===v&&!!_&&f===_:d===v}catch(c){l=!1}return o.jsxs(Un,{to:t,"aria-label":e,className:[vn.iconBtn,r==="sub"?vn.muted:"",l?vn.active:""].join(" "),title:e,replace:!1,children:[n?o.jsx("img",{src:n,alt:"",className:vn.iconImg}):o.jsx("div",{className:vn.placeholderIcon,"aria-hidden":"true",children:o.jsx("span",{className:vn.placeholderText,children:e.slice(0,2).toUpperCase()})}),o.jsx("div",{className:vn.iconLabel,children:e})]})},Pm=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:l=220,outerOffset:c=440})=>{const d=R.useMemo(()=>{const p=t.length;if(p===0)return[];let g=-90,v=90;e==="left"?(g=90,v=270):e==="sub"?n==="left"?(g=90,v=270):(g=-90,v=90):e==="full"&&(g=0,v=360);const _=(v-g)/(p+1),S=r?190:250;return t.map((C,A)=>{const D=(g+_*(A+1))*Math.PI/180;return{it:C,x:Math.cos(D)*S,y:Math.sin(D)*S}})},[t,e,n,r]),f=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return o.jsx("div",{className:[vn.arc,e==="left"?vn.left:"",e==="right"?vn.right:"",e==="sub"?vn.sub:"",e==="full"?vn.full:""].join(" "),style:f,children:d.map(({it:p,x:g,y:v})=>o.jsx("div",{className:vn.arcItem,style:{transform:`translate(${g}px, ${v}px)`},children:o.jsx(A6,{to:p.to,label:p.label,icon:p.icon,variant:i})},p.key))})},I6=[{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left"},{key:"arena-am",label:"Arena/AM",to:"/guidehub?tab=arena-am",side:"left"},{key:"underworld",label:"Underworld",to:"/guidehub?tab=underworld",side:"left"},{key:"fortress",label:"Fortress",to:"/guidehub?tab=fortress",side:"left"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",side:"right"},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",side:"right"},{key:"events",label:"Events",to:"/guidehub?tab=events",side:"right"},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right"},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right"}],R6={dungeons:[{key:"late",label:"Late Game",to:"/guidehub?tab=dungeons&sub=late"},{key:"mid",label:"Mid Game",to:"/guidehub?tab=dungeons&sub=mid"},{key:"early",label:"Early Game",to:"/guidehub?tab=dungeons&sub=early"}],fortress:[{key:"build",label:"Build Orders",to:"/guidehub?tab=fortress&sub=build"},{key:"resources",label:"Resources",to:"/guidehub?tab=fortress&sub=resources"}]},P6=({logoSrc:t,categories:e})=>{var S,C,A;const[n]=Fh(),r=n.get("tab")||null,i=R.useMemo(()=>e.filter(j=>j.side==="left"),[e]),l=R.useMemo(()=>e.filter(j=>j.side==="right"),[e]),c=r?(S=R6[r])!=null?S:[]:[],d=(A=(C=e.find(j=>j.key===r))==null?void 0:C.side)!=null?A:"right",f=R.useRef(null),[p,g]=R.useState(220),[v,_]=R.useState(440);return R.useEffect(()=>{const j=()=>{var W,E;const B=((E=(W=f.current)==null?void 0:W.offsetWidth)!=null?E:380)/2,U=Math.round(B+60),$=Math.round(U+220);g(U),_($)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),o.jsxs("div",{className:vn.wrap,children:[o.jsx("div",{className:vn.centerLogoWrap,children:o.jsx(Un,{to:"/guidehub",className:vn.centerLogoLink,"aria-label":"Guide Hub Home",children:o.jsx("img",{ref:f,src:t,alt:"Guide Hub",className:vn.centerLogo})})}),o.jsx(Pm,{items:i.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"left",variant:"main",arcOffset:p}),o.jsx(Pm,{items:l.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"right",variant:"main",arcOffset:p}),c.length>0&&o.jsx(Pm,{items:c.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:v})]})},N6="_topWrap_1rivx_1",D6="_divider_1rivx_19",M6="_contentArea_1rivx_53",L6="_placeholder_1rivx_63",F6="_placeholderTitle_1rivx_77",V6="_placeholderText_1rivx_91",Oa={topWrap:N6,divider:D6,contentArea:M6,placeholder:L6,placeholderTitle:F6,placeholderText:V6},B6="/test/assets/logo_guidehub-c4zKGdF-.png";function UT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Fortress"}),o.jsx("p",{style:{opacity:.8},children:"Bau-Reihenfolgen, Ressourcen, Skip-Orders (Platzhalter)."})]})}function zT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Underworld"}),o.jsx("p",{style:{opacity:.8},children:"Unterwelt + Calculator, Pro-Pack-Skip (Platzhalter)."})]})}function HT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Arena / AM"}),o.jsx("p",{style:{opacity:.8},children:"AM-Run-Boni, Striders AM-Guide (Platzhalter)."})]})}function GT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Dungeons"}),o.jsx("p",{style:{opacity:.8},children:"bersicht ber Dungeons, Epics & Legendaries (Platzhalter)."})]})}function WT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Hellevator"}),o.jsx("p",{style:{opacity:.8},children:"Etagen-Belohnungen und Tipps (Platzhalter)."})]})}function qT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Legendary Dungeon"}),o.jsx("p",{style:{opacity:.8},children:"Mechaniken, Epics & Strategien (Platzhalter)."})]})}function KT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Events"}),o.jsx("p",{style:{opacity:.8},children:"Eventkalender, Zyklen & Tipps (Platzhalter)."})]})}function QT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Calculators"}),o.jsx("p",{style:{opacity:.8},children:"Stats-, Gem-, Fortress-, Underworld-Rechner (Platzhalter)."})]})}function YT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide  Infografiken"}),o.jsx("p",{style:{opacity:.8},children:"Cheatsheets, Hotkeys und Visuals (Platzhalter)."})]})}const O6={fortress:UT,underworld:zT,"arena-am":HT,dungeons:GT,hellevator:WT,"legendary-dungeon":qT,events:KT,calculators:QT,infographics:YT};function $6(){const[t]=Fh(),e=t.get("tab")||"",n=O6[e];return o.jsxs(ar,{children:[o.jsx("div",{className:Oa.topWrap,children:o.jsx(P6,{logoSrc:B6,categories:I6,titleI18nKey:"guides.index.title"})}),o.jsx("div",{className:Oa.divider}),o.jsx("div",{className:Oa.contentArea,children:n?o.jsx(n,{}):o.jsxs("div",{className:Oa.placeholder,children:[o.jsx("h2",{className:Oa.placeholderTitle,children:"Guides"}),o.jsx("p",{className:Oa.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}const U6="_wrap_1353r_1",z6="_centerLogoWrap_1353r_21",H6="_centerLogoLink_1353r_37",G6="_centerLogo_1353r_21",W6="_arc_1353r_71",q6="_left_1353r_73",K6="_right_1353r_75",Q6="_sub_1353r_77",Y6="_full_1353r_79",X6="_arcItem_1353r_81",J6="_iconBtn_1353r_87",Z6="_active_1353r_141",eO="_iconImg_1353r_151",tO="_placeholderIcon_1353r_155",nO="_placeholderText_1353r_173",rO="_iconLabel_1353r_177",xn={wrap:U6,centerLogoWrap:z6,centerLogoLink:H6,centerLogo:G6,arc:W6,left:q6,right:K6,sub:Q6,full:Y6,arcItem:X6,iconBtn:J6,active:Z6,iconImg:eO,placeholderIcon:tO,placeholderText:nO,iconLabel:rO},sO=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Tr();let l=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),f=c.get("sub"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),_=g.get("sub");l=r==="sub"?d===v&&!!_&&f===_:d===v}catch(c){l=!1}return o.jsxs(Un,{to:t,"aria-label":e,className:[xn.iconBtn,r==="sub"?xn.muted:"",l?xn.active:""].join(" "),title:e,replace:!1,children:[n?o.jsx("img",{src:n,alt:"",className:xn.iconImg}):o.jsx("div",{className:xn.placeholderIcon,"aria-hidden":"true",children:o.jsx("span",{className:xn.placeholderText,children:e.slice(0,2).toUpperCase()})}),o.jsx("div",{className:xn.iconLabel,children:e})]})},Nm=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:l=220,outerOffset:c=440})=>{const d=R.useMemo(()=>{const p=t.length;if(p===0)return[];let g=-90,v=90;e==="left"?(g=90,v=270):e==="sub"?n==="left"?(g=90,v=270):(g=-90,v=90):e==="full"&&(g=0,v=360);const _=(v-g)/(p+1),S=r?190:250;return t.map((C,A)=>{const D=(g+_*(A+1))*Math.PI/180;return{it:C,x:Math.cos(D)*S,y:Math.sin(D)*S}})},[t,e,n,r]),f=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return o.jsx("div",{className:[xn.arc,e==="left"?xn.left:"",e==="right"?xn.right:"",e==="sub"?xn.sub:"",e==="full"?xn.full:""].join(" "),style:f,children:d.map(({it:p,x:g,y:v})=>o.jsx("div",{className:xn.arcItem,style:{transform:`translate(${g}px, ${v}px)`},children:o.jsx(sO,{to:p.to,label:p.label,icon:p.icon,variant:i})},p.key))})},mc=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],iO={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},oO=({logoSrc:t})=>{var _,S,C;const[e]=Fh(),n=e.get("tab")||null,r=R.useMemo(()=>mc.filter(A=>A.side==="left"),[mc]),i=R.useMemo(()=>mc.filter(A=>A.side==="right"),[mc]),l=n?(_=iO[n])!=null?_:[]:[],c=(C=(S=mc.find(A=>A.key===n))==null?void 0:S.side)!=null?C:"right",d=R.useRef(null),[f,p]=R.useState(220),[g,v]=R.useState(440);return R.useEffect(()=>{const A=()=>{var $,W;const D=((W=($=d.current)==null?void 0:$.offsetWidth)!=null?W:380)/2,F=Math.round(D+60),U=Math.round(F+220);p(F),v(U)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),o.jsxs("div",{className:xn.wrap,children:[o.jsx("div",{className:xn.centerLogoWrap,children:o.jsx(Un,{to:"/community",className:xn.centerLogoLink,"aria-label":"Community Hub Home",children:o.jsx("img",{ref:d,src:t,alt:"Community Hub",className:xn.centerLogo})})}),o.jsx(Nm,{items:r.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:f}),o.jsx(Nm,{items:i.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:f}),l.length>0&&o.jsx(Nm,{items:l.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},aO="_divider_1353r_55",lO="_placeholderText_1353r_173",$a={divider:aO,placeholderText:lO},cO="/test/assets/logo_communityhub-LVMLHRD6.png";function XT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Creators"}),o.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function JT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Scans"}),o.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function ZT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Predictions"}),o.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function ej(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  News"}),o.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function tj(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Feedback"}),o.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const uO={creators:XT,scans:JT,predictions:ZT,news:ej,feedback:tj};function dO(){const[t]=Fh(),e=t.get("tab")||"",n=uO[e];return o.jsxs(ar,{children:[o.jsx("div",{className:$a.topWrap,children:o.jsx(oO,{logoSrc:cO,titleI18nKey:"community.index.title"})}),o.jsx("div",{className:$a.divider}),o.jsx("div",{className:$a.contentArea,children:n?o.jsx(n,{}):o.jsxs("div",{className:$a.placeholder,children:[o.jsx("h2",{className:$a.placeholderTitle,children:"Community"}),o.jsx("p",{className:$a.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function hO(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsxs(Un,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),o.jsxs(Un,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function fO(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans  Letzter Scan"}),o.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function pO(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans  Archiv"}),o.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function mO(){return o.jsx(ar,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:o.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:o.jsx(gO,{}),right:o.jsx(yO,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[o.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),o.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsx(Dm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),o.jsx(Dm,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),o.jsx(Dm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function gO(){return o.jsxs("nav",{className:"space-y-2 text-sm",children:[o.jsx(Yd,{to:"/guild-hub/planner",children:"Planner"}),o.jsx(Yd,{to:"/guild-hub/fusion",children:"Fusion"}),o.jsx(Yd,{to:"/guild-hub/waitlist",children:"Waitlist"}),o.jsx(Yd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function yO(){return o.jsxs("aside",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),o.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Dm({to:t,title:e,desc:n}){return o.jsxs(Un,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[o.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?o.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Yd({to:t,children:e}){return o.jsx(Un,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function vO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Planner"})})}function xO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Fusion"})})}function bO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Waitlist"})})}function _O(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Activity"})})}function wO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Imports"})})}function SO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Announcements"})})}function TO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Events"})})}function jO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Roles"})})}function EO(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Settings"})})}function CO(){return o.jsx(ar,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:o.jsx("div",{className:"space-y-4",children:o.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[o.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",o.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),o.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",o.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const pn={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12}};function kO(){return o.jsx("div",{style:pn.wrap,children:o.jsxs("div",{style:pn.grid,children:[o.jsxs("aside",{style:pn.tile,children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),o.jsx("p",{style:pn.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),o.jsxs("nav",{children:[o.jsx(xr,{to:"list-views",style:({isActive:t})=>({...pn.link,...t?pn.active:{}}),children:"List-View Switcher"}),o.jsx(xr,{to:"rescan-widget",style:({isActive:t})=>({...pn.link,...t?pn.active:{}}),children:"Rescan Widget (auto)"}),o.jsx(xr,{to:"upload-sim",style:({isActive:t})=>({...pn.link,...t?pn.active:{}}),children:"Upload Simulator"}),o.jsx(xr,{to:"hud/game-buttons",style:({isActive:t})=>({...pn.link,...t?pn.active:{}}),children:"HUD  Game Buttons"}),o.jsx(xr,{to:"theme-maker",style:({isActive:t})=>({...pn.link,...t?pn.active:{}}),children:"Theme / Template Maker"}),o.jsx(xr,{to:"theme-maker-pro",style:({isActive:t})=>({...pn.link,...t?pn.active:{}}),children:"Theme / Template Maker  Pro"})]})]}),o.jsx("section",{style:pn.tile,children:o.jsx(K_,{})})]})})}function AO(){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),o.jsx("div",{className:"mt-4 grid gap-3",children:o.jsx(xr,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const le={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},IO=()=>o.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Bo={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function RO(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function wl(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",RO(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function nj(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},f={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},v={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},S={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:l,gold:c,obsidian:d,neon:f,plasma:p,aurora:g,satin:v,matte:_,holo:S}[t.material]}function no(t){const e={color:le.title,borderColor:le.border,...nj(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const mu=({children:t})=>o.jsx("span",{className:"relative z-10",children:t});function Sl({fx:t,clip:e}){return o.jsxs(o.Fragment,{children:[t.shine&&o.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:o.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&o.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&o.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&o.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&o.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>o.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function PO({fx:t,children:e}){const n=wl(t),r=no(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),o.jsx(Sl,{fx:t,clip:i}),t.withIcon&&o.jsx(tw,{size:16,className:"relative z-10"}),o.jsx(mu,{children:e})]})}function NO({fx:t,children:e}){const n=wl(t),r=no(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),o.jsx(Sl,{fx:t,clip:i}),t.withIcon&&o.jsx(nw,{size:16,className:"relative z-10"}),o.jsx(mu,{children:e})]})}function DO({fx:t,children:e}){const n=wl(t),r=no(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),o.jsx(Sl,{fx:t,clip:i}),t.withIcon&&o.jsx(Zc,{size:16,className:"relative z-10"}),o.jsx(mu,{children:e})]})}function MO({fx:t,children:e}){const n=wl(t),r=no(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${le.tile}, ${le.active})`}}),o.jsx(Sl,{fx:t,clip:i}),t.withIcon&&o.jsx(rw,{size:16,className:"relative z-10"}),o.jsx(mu,{children:e})]})}function LO({fx:t,children:e}){const n=wl(t),r=no(t);return o.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[o.jsx(Sl,{fx:t}),t.withIcon&&o.jsx(Vh,{size:16,className:"relative z-10"}),o.jsx(mu,{children:e})]})}function FO({fx:t,tabs:e}){const[n,r]=R.useState(0);return o.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:e.map((i,l)=>o.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?le.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&o.jsx(Vh,{size:14,className:"inline mr-1"}),i]},l))})}function VO({fx:t}){const e=wl(t),n=no(t);return o.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:o.jsx(sw,{})})}const Ag={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function BO({fx:t,setFx:e}){const n=(d,f)=>e(p=>({...p,[d]:f})),r=d=>e(f=>({...f,[d]:!f[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return o.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Presets"}),Object.keys(Ag).map(d=>o.jsx("button",{onClick:()=>e(f=>Ag[d](f)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:d},d))]}),o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Material"}),i.map(d=>o.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d},d)),o.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:le.title},children:"Size"}),["sm","md","lg"].map(d=>o.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d.toUpperCase()},d)),o.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?le.active:le.btn,borderColor:le.border,color:le.title},children:"Icon"}),o.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?le.active:le.btn,borderColor:le.border,color:le.title},children:"Disabled"})]}),o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Core FX"}),l.map(([d,f])=>o.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:f},d))]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Advanced"}),c.map(([d,f])=>o.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:f},d))]}),o.jsx("button",{onClick:()=>e(Bo),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:"Reset"})]})}function mt({fx:t,className:e="",style:n={},children:r,clip:i}){const l=no(t);return o.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[o.jsx(Sl,{fx:t,clip:i}),o.jsx("div",{className:"relative z-10",children:r})]})}function zn({fx:t,className:e="",children:n}){return o.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:n})}function OO({fx:t}){const[e,n]=R.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Toggle Chips"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const l=e.includes(i);return o.jsx(mt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(c=>l?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function $O({fx:t}){return o.jsxs(zn,{fx:t,className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",style:{color:le.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>o.jsx(mt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:le.border},children:o.jsxs("button",{className:"relative",children:[o.jsx(sw,{size:16}),e===3&&o.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function UO({fx:t}){return o.jsxs(mt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Breadcrumb HUD"}),o.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>o.jsx(mt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:le.border},children:e},e))})]})}function zO({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Stat Tiles"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>o.jsxs(mt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:le.border},children:[o.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),o.jsx("div",{className:"text-sm",children:n.v}),o.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function HO({fx:t}){const[e,n]=R.useState(.66);return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Meter / Energy Bar"}),o.jsx(mt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:le.border},children:o.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),o.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function GO({fx:t}){return o.jsxs(zn,{fx:t,className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Badge / Medal"}),o.jsxs(mt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:le.border},children:[o.jsx(Zc,{size:16}),o.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function WO({fx:t}){const[e,n]=R.useState(!1);return o.jsxs(zn,{fx:t,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toast / Notification"}),o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&o.jsxs(mt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:le.border},children:[o.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),o.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function qO({fx:t}){const[e,n]=R.useState(!0);return o.jsxs(zn,{fx:t,className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toggle Switch"}),o.jsxs(mt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:le.border},children:[o.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),o.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function KO({fx:t}){const[e,n]=R.useState(!1),r=["Overview","Stats","Activity","Hydra"];return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dropdown HUD"}),o.jsx(mt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&o.jsx(mt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:le.border},children:r.map(i=>o.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function QO({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Radial Menu (Preview)"}),o.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[o.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,l=56,c=56+Math.cos(i)*l,d=56+Math.sin(i)*l;return o.jsx(mt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:le.border},children:n},n)}),o.jsx(mt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:le.border},children:"Menu"})]})]})}function YO({fx:t}){const e=[1,2,3,4,5],[n,r]=R.useState(2);return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Pagination HUD"}),o.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>o.jsx(mt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function XO({fx:t}){const[e,n]=R.useState(!1);return o.jsxs(zn,{fx:t,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Modal HUD"}),o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:o.jsxs(mt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:le.border},children:[o.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),o.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function JO({fx:t}){const[e,n]=R.useState("");return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Search HUD"}),o.jsx(mt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:le.border},children:o.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function ZO({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=R.useState("Bravo");return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"List Selectable"}),o.jsx("div",{className:"space-y-2",children:e.map(i=>o.jsx(mt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function e$({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=R.useState(1);return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Steps"}),o.jsx("div",{className:"flex items-center gap-3",children:e.map((i,l)=>o.jsxs(Le.Fragment,{children:[o.jsx(mt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:le.border},children:l+1}),l<e.length-1&&o.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),o.jsx(mt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function t$({fx:t}){const e=["","","","","",""];return o.jsxs(zn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dock Bar"}),o.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>o.jsx(mt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:le.border},children:n},r))})]})}function n$(){const[t,e]=R.useState(Bo);return o.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:le.bg,color:le.txt},children:[o.jsx(IO,{}),o.jsxs("header",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(fk,{}),o.jsx("h1",{className:"text-xl font-bold",style:{color:le.title},children:"Game Buttons Playground"}),o.jsx("span",{className:"text-xs",style:{color:le.txt2},children:"(Materials + FX extended + Presets)"})]})}),o.jsx(BO,{fx:t,setFx:e})]}),o.jsxs("section",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"Shapes"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(PO,{fx:t,children:[o.jsx(tw,{size:16})," Diamond"]}),o.jsxs(NO,{fx:t,children:[o.jsx(nw,{size:16})," Hex"]}),o.jsxs(DO,{fx:t,children:[o.jsx(Zc,{size:16})," Octagon/Shield"]}),o.jsxs(MO,{fx:t,children:[o.jsx(rw,{size:16})," Shard"]}),o.jsxs(LO,{fx:t,children:[o.jsx(Vh,{size:16})," Pill/Chip"]}),o.jsx(VO,{fx:t})]})]}),o.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold",style:{color:le.title},children:"Tabs"}),o.jsx(FO,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),o.jsx("section",{className:"grid gap-4",children:o.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"More HUD Patterns"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[o.jsx(OO,{fx:t}),o.jsx($O,{fx:t}),o.jsx(UO,{fx:t}),o.jsx(zO,{fx:t}),o.jsx(HO,{fx:t}),o.jsx(GO,{fx:t}),o.jsx(WO,{fx:t}),o.jsx(qO,{fx:t}),o.jsx(KO,{fx:t}),o.jsx(QO,{fx:t}),o.jsx(YO,{fx:t}),o.jsx(XO,{fx:t}),o.jsx(JO,{fx:t}),o.jsx(ZO,{fx:t}),o.jsx(e$,{fx:t}),o.jsx(t$,{fx:t})]})]})}),o.jsx(r$,{}),o.jsx("footer",{className:"text-center text-xs",style:{color:le.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function r$(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Bo.material),"Material type present");const e=no(Bo);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=nj({...Bo,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Bo[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Ag).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const l=i({...Bo});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Nc={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},p_={Arcade:{...Nc,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Nc,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Ua={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},rj={display:"grid",gap:8,alignItems:"center"};function ei({label:t,value:e,onChange:n}){return o.jsxs("label",{style:{...rj,gridTemplateColumns:"120px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Mm({label:t,value:e,min:n,max:r,onChange:i}){return o.jsxs("label",{style:{...rj,gridTemplateColumns:"120px 1fr 70px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value))}),o.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value||"0"))})]})}function m_(){const[t,e]=Le.useState(Nc),n=Le.useRef(null),r=f=>{const p=n.current;p&&(p.style.setProperty("--page",f.page),p.style.setProperty("--tile",f.tile),p.style.setProperty("--tile-hover",f.tileHover),p.style.setProperty("--nav",f.nav),p.style.setProperty("--active",f.active),p.style.setProperty("--text",f.text),p.style.setProperty("--text-soft",f.textSoft),p.style.setProperty("--title",f.title),p.style.setProperty("--line",f.line),p.style.setProperty("--radius",`${f.radius}px`),p.style.setProperty("--shadow",`0 8px ${f.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${f.gap}px`))};Le.useEffect(()=>{r(t)},[t]);const i=f=>e(p_[f]),l=()=>e(Nc),c=()=>{const f=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(f),p.download="sfdatahub-theme.json",p.click()},d=async f=>{const p=await f.text();e({...Nc,...JSON.parse(p)})};return o.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[o.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(p_).map(f=>o.jsx("button",{style:Ua,onClick:()=>i(f),children:f},f)),o.jsx("button",{style:Ua,onClick:l,children:"Default"}),o.jsx("button",{style:Ua,onClick:c,children:"Export JSON"}),o.jsxs("label",{style:{...Ua,display:"inline-block"},children:["Import JSON",o.jsx("input",{type:"file",accept:"application/json",onChange:f=>f.target.files&&d(f.target.files[0]),style:{display:"none"}})]})]}),o.jsx(ei,{label:"Page",value:t.page,onChange:f=>e(p=>({...p,page:f}))}),o.jsx(ei,{label:"Tile",value:t.tile,onChange:f=>e(p=>({...p,tile:f}))}),o.jsx(ei,{label:"Tile Hover",value:t.tileHover,onChange:f=>e(p=>({...p,tileHover:f}))}),o.jsx(ei,{label:"Nav",value:t.nav,onChange:f=>e(p=>({...p,nav:f}))}),o.jsx(ei,{label:"Active",value:t.active,onChange:f=>e(p=>({...p,active:f}))}),o.jsx(ei,{label:"Text",value:t.text,onChange:f=>e(p=>({...p,text:f}))}),o.jsx(ei,{label:"Text Soft",value:t.textSoft,onChange:f=>e(p=>({...p,textSoft:f}))}),o.jsx(ei,{label:"Title",value:t.title,onChange:f=>e(p=>({...p,title:f}))}),o.jsx(ei,{label:"Line",value:t.line,onChange:f=>e(p=>({...p,line:f}))}),o.jsx(Mm,{label:"Radius",value:t.radius,min:8,max:28,onChange:f=>e(p=>({...p,radius:f}))}),o.jsx(Mm,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:f=>e(p=>({...p,shadow:f}))}),o.jsx(Mm,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:f=>e(p=>({...p,gap:f}))})]}),o.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[o.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),o.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),o.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[o.jsx("button",{style:{...Ua,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),o.jsx("button",{style:Ua,children:"Secondary"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((f,p)=>o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[o.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),o.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const Ig={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},g_={"SFDataHub (Default)":{...Ig},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},hf={display:"grid",gap:8,alignItems:"center"},No={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Do={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Vr({label:t,value:e,onChange:n}){return o.jsxs("label",{style:{...hf,gridTemplateColumns:"140px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function ti({label:t,value:e,min:n,max:r,step:i=1,onChange:l,suffix:c}){return o.jsxs("label",{style:{...hf,gridTemplateColumns:"140px 1fr 70px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>l(parseFloat(d.target.value))}),o.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function s$({label:t,checked:e,onChange:n}){return o.jsxs("label",{style:{...hf,gridTemplateColumns:"1fr 46px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function y_(){const[t,e]=Le.useState(Ig),n=Le.useRef(null),r=p=>{const g=n.current;g&&(g.style.setProperty("--page",p.page),g.style.setProperty("--tile",p.tile),g.style.setProperty("--tile-hover",p.tileHover),g.style.setProperty("--nav",p.nav),g.style.setProperty("--active",p.active),g.style.setProperty("--text",p.text),g.style.setProperty("--text-soft",p.textSoft),g.style.setProperty("--title",p.title),g.style.setProperty("--line",p.line),g.style.setProperty("--accent",p.accent),g.style.setProperty("--success",p.success),g.style.setProperty("--warning",p.warning),g.style.setProperty("--danger",p.danger),g.style.setProperty("--radius",`${p.radius}px`),g.style.setProperty("--border",`${p.border}px`),g.style.setProperty("--gap",`${p.gap}px`),g.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),g.style.setProperty("--noise",`${p.noise}%`),g.style.setProperty("--font",p.fontFamily),g.style.setProperty("--font-size",`${p.fontSize}px`),g.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${p.glow}`),g.style.setProperty("--scanlines",`${p.scanlines}`))};Le.useEffect(()=>{r(t)},[t]);const i=(p,g)=>e(v=>({...v,[p]:g})),l=p=>e(g=>({...g,...g_[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(p),g.download="sfdatahub-theme-pro.json",g.click()},d=async p=>{try{const g=await p.text(),v=JSON.parse(g);e({...t,...v})}catch(g){}},f={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return o.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[o.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(g_).map(p=>o.jsx("button",{style:No,onClick:()=>l(p),children:p},p)),o.jsx("button",{style:No,onClick:()=>e(Ig),children:"Reset"}),o.jsx("button",{style:No,onClick:c,children:"Export"}),o.jsxs("label",{style:{...No,display:"inline-block"},children:["Import",o.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(Vr,{label:"Page",value:t.page,onChange:p=>i("page",p)}),o.jsx(Vr,{label:"Tile",value:t.tile,onChange:p=>i("tile",p)}),o.jsx(Vr,{label:"Tile Hover",value:t.tileHover,onChange:p=>i("tileHover",p)}),o.jsx(Vr,{label:"Active",value:t.active,onChange:p=>i("active",p)}),o.jsx(Vr,{label:"Text",value:t.text,onChange:p=>i("text",p)}),o.jsx(Vr,{label:"Text Soft",value:t.textSoft,onChange:p=>i("textSoft",p)}),o.jsx(Vr,{label:"Title",value:t.title,onChange:p=>i("title",p)}),o.jsx(Vr,{label:"Line",value:t.line,onChange:p=>i("line",p)}),o.jsx(Vr,{label:"Accent",value:t.accent,onChange:p=>i("accent",p)}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[o.jsx(Vr,{label:"Success",value:t.success,onChange:p=>i("success",p)}),o.jsx(Vr,{label:"Warning",value:t.warning,onChange:p=>i("warning",p)}),o.jsx(Vr,{label:"Danger",value:t.danger,onChange:p=>i("danger",p)})]})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(ti,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>i("radius",p)}),o.jsx(ti,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>i("border",p)}),o.jsx(ti,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>i("gap",p)}),o.jsx(ti,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>i("shadow",p)}),o.jsx(ti,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>i("surfaceOpacity",p),suffix:"%"}),o.jsx(ti,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>i("noise",p),suffix:"%"})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsxs("label",{style:{...hf,gridTemplateColumns:"140px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),o.jsx("input",{value:t.fontFamily,onChange:p=>i("fontFamily",p.target.value)})]}),o.jsx(ti,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>i("fontSize",p)}),o.jsx(s$,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>i("headingsTight",p)})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(ti,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>i("glow",p)}),o.jsx(ti,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>i("scanlines",p)})]})]})]}),o.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[o.jsxs("span",{style:Do,children:[o.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),o.jsx("span",{style:{...Do,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),o.jsx("span",{style:{...Do,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),o.jsx("span",{style:{...Do,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),o.jsxs("span",{style:Do,children:["Radius: ",t.radius]}),o.jsxs("span",{style:Do,children:["Shadow: ",t.shadow]}),o.jsxs("span",{style:Do,children:["Noise: ",t.noise,"%"]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:f.name}),o.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[f.className,"  ",f.guild," ",o.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",f.server,")"]})]})]}),o.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:f.level,pct:f.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:f.scrapbook+"%",pct:f.scrapbook/100,color:"var(--success)"},{label:"Power",value:f.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:f.activity+"%",pct:f.activity/100,color:"var(--accent)"}].map((p,g)=>o.jsxs("div",{style:{display:"grid",gap:4},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[o.jsx("span",{children:p.label}),o.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),o.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:o.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},g))}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[o.jsx("button",{style:{...No,background:"var(--tile-hover)"},children:"Open Profile"}),o.jsx("button",{style:{...No,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,g)=>o.jsx("button",{style:{...No,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,g)=>o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),o.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),o.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},g))}),o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[o.jsx("div",{style:{padding:10},children:"Attribute"}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,g)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[o.jsx("div",{style:{padding:10},children:p[0]}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),o.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},g))]})]})]}),o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const v_=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function i$(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:v_[n%v_.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Lm={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function x_(){const[t,e]=R.useState("rows"),[n,r]=R.useState(0),[i,l]=R.useState(""),[c,d]=R.useState(60),f=R.useMemo(()=>i$(240),[]),p=R.useMemo(()=>f.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[f,n,i,c]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[o.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[o.jsx("option",{value:"rows",children:"Compact Rows"}),o.jsx("option",{value:"cards",children:"Card Grid"}),o.jsx("option",{value:"masonry",children:"Masonry"})]}),o.jsx("input",{placeholder:"Search",value:i,onChange:g=>l(g.target.value)}),o.jsxs("label",{children:["Min Level ",o.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),o.jsxs("label",{children:["Limit ",o.jsx("input",{type:"number",value:c,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&o.jsx("div",{style:{...Lm,padding:0,overflow:"hidden"},children:p.map(g=>{var v;return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),o.jsxs("div",{children:[o.jsxs("div",{style:{fontWeight:700},children:[g.name," ",o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),o.jsx("div",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="cards"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>{var v;return o.jsxs("div",{style:Lm,children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:700},children:g.name}),o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),o.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[o.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),o.jsx("span",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="masonry"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>o.jsxs("div",{style:{...Lm,height:140+parseInt(g.id)%3*40},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:700},children:g.name}),o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),o.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function b_(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function __(){const[t,e]=R.useState(120),[n,r]=R.useState(()=>b_(24));R.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),f=[...c];return f[d]={...f[d],lastScanMinsAgo:0},f})},5e3);return()=>clearInterval(l)},[]),R.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const i=R.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[o.jsxs("label",{children:["Freshness TTL (min) ",o.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),o.jsx("button",{onClick:()=>r(b_(24)),children:"Reset Demo Data"})]}),o.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),o.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[o.jsx("div",{children:"Player"}),o.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(l=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[o.jsxs("div",{children:[l.name," ",o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),o.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),i.length===0&&o.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function o$(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function w_(){const[t,e]=R.useState("idle"),[n,r]=R.useState(null),[i,l]=R.useState(!1),c=R.useCallback(async d=>{var p;d.preventDefault(),l(!1);const f=(p=d.dataTransfer.files)==null?void 0:p[0];if(f){e("validating");try{const g=await f.text(),{isHar:v,isSf:_}=o$(g);if(e("parsing"),await new Promise(S=>setTimeout(S,600)),!v&&!_){e("error"),r({isHar:v,isSf:_,sizeKB:Math.round(f.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:v,isSf:_,sizeKB:Math.round(f.size/1024),summary:`Detected: ${v?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),o.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),o.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),o.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Status:"})," ",t]}),n?o.jsxs("ul",{children:[o.jsxs("li",{children:["isHar: ",String(n.isHar)]}),o.jsxs("li",{children:["isSf: ",String(n.isSf)]}),o.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&o.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&o.jsxs("li",{children:["summary: ",n.summary]})]}):o.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const H={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},a$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},l$={maxWidth:1200,margin:"0 auto"},c$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function u$(){return o.jsx("div",{style:a$,children:o.jsxs("div",{style:l$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"HAR Import Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:c$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),o.jsxs("div",{style:{border:`1px dashed ${H.line}`,borderRadius:12,padding:24,textAlign:"center",background:H.tileAlt},children:["Drop .har file here or"," ",o.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),o.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const d$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},h$={maxWidth:1200,margin:"0 auto"},f$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function p$(){return o.jsx("div",{style:d$,children:o.jsxs("div",{style:h$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"JSON/CSV Import Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:f$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("label",{children:["Upload JSON ",o.jsx("input",{type:"file",accept:".json"})]}),o.jsxs("label",{children:["Upload CSV ",o.jsx("input",{type:"file",accept:".csv"})]})]}),o.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const m$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},g$={maxWidth:1200,margin:"0 auto"},y$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function v$(){return o.jsx("div",{style:m$,children:o.jsxs("div",{style:g$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Index Schema Viewer Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:y$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const x$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},b$={maxWidth:1200,margin:"0 auto"},_$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function w$(){return o.jsx("div",{style:x$,children:o.jsxs("div",{style:b$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Player Profile (Contained) Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:_$,children:[o.jsxs("div",{style:{display:"flex",gap:12},children:[o.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${H.line}`}}),o.jsxs("div",{children:[o.jsx("h3",{style:{margin:"4px 0",color:H.title},children:"NightRaven"}),o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>o.jsx("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const S$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},T$={maxWidth:1200,margin:"0 auto"},j$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function E$(){return o.jsx("div",{style:S$,children:o.jsxs("div",{style:T$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Guild Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:j$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[o.jsx("b",{style:{color:H.title},children:"Ravens"}),o.jsx("span",{children:"Avg Lvl 465"}),o.jsx("span",{children:"Fresh scans 82%"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[o.jsx("b",{style:{color:H.title},children:"Arcana"}),o.jsx("span",{children:"Avg Lvl 458"}),o.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const C$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},k$={maxWidth:1200,margin:"0 auto"},A$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function I$(){return o.jsx("div",{style:C$,children:o.jsxs("div",{style:k$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Server Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:A$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const R$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},P$={maxWidth:1200,margin:"0 auto"},N$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function D$(){return o.jsx("div",{style:R$,children:o.jsxs("div",{style:P$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Rankings Views Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:N$,children:[o.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>o.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${H.line}`,borderRadius:10},children:t},t))}),o.jsx("div",{style:{border:`1px solid ${H.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[o.jsx("b",{style:{color:H.title},children:t.name}),o.jsx("span",{children:t.delta}),o.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const M$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},L$={maxWidth:1200,margin:"0 auto"},F$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function V$(){return o.jsx("div",{style:M$,children:o.jsxs("div",{style:L$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"KPI Dashboard Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsx("div",{style:F$,children:o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>o.jsx("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const B$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},O$={maxWidth:1200,margin:"0 auto"},$$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function U$(){return o.jsx("div",{style:B$,children:o.jsxs("div",{style:O$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Progression Tracker Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:$$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),o.jsx("div",{style:{height:160,border:`1px dashed ${H.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const z$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},H$={maxWidth:1200,margin:"0 auto"},G$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function W$(){return o.jsx("div",{style:z$,children:o.jsxs("div",{style:H$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Legendary & Pets Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsx("div",{style:G$,children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"Legendary Tracker"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Shadow Bow "}),o.jsx("li",{children:"Mythic Ring "})]})]}),o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"Pets"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Firewolf 4/5"}),o.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const q$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},K$={maxWidth:1200,margin:"0 auto"},Q$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function Y$(){return o.jsx("div",{style:q$,children:o.jsxs("div",{style:K$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Community Scans Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:Q$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>o.jsx("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const X$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},J$={maxWidth:1200,margin:"0 auto"},Z$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function e9(){return o.jsx("div",{style:X$,children:o.jsxs("div",{style:J$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Creator Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:Z$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const t9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},n9={maxWidth:1200,margin:"0 auto"},r9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function s9(){return o.jsx("div",{style:t9,children:o.jsxs("div",{style:n9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Feedback Form Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:r9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),o.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsx("span",{children:"Category"}),o.jsxs("select",{style:{background:"#152A42",color:H.text,border:`1px solid ${H.line}`,borderRadius:8,padding:"6px 8px"},children:[o.jsx("option",{children:"UI"}),o.jsx("option",{children:"Data"}),o.jsx("option",{children:"Bug"})]})]}),o.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{rows:4,style:{background:"#152A42",color:H.text,border:`1px solid ${H.line}`,borderRadius:8,padding:"6px 8px"}})]}),o.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${H.line}`,borderRadius:10},children:"Send"})]})})]})})}const i9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},o9={maxWidth:1200,margin:"0 auto"},a9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function l9(){return o.jsx("div",{style:i9,children:o.jsxs("div",{style:o9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Feedback Admin Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:a9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),o.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("span",{children:t}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),o.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const c9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},u9={maxWidth:1200,margin:"0 auto"},d9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function h9(){return o.jsx("div",{style:c9,children:o.jsxs("div",{style:u9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Tutorials Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:d9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Step highlights"}),o.jsx("li",{children:"Progress bar"}),o.jsx("li",{children:"Badges"})]})]})})]})})}const f9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},p9={maxWidth:1200,margin:"0 auto"},m9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function g9(){return o.jsx("div",{style:f9,children:o.jsxs("div",{style:p9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Wiki & FAQ Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:m9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),o.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${H.line}`,borderRadius:10}}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"How to import HAR?"}),o.jsx("li",{children:"What data is stored?"})]})]})})]})})}const y9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},v9={maxWidth:1200,margin:"0 auto"},x9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function b9(){return o.jsx("div",{style:y9,children:o.jsxs("div",{style:v9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Settings Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:x9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[o.jsxs("label",{children:["Language",o.jsxs("select",{style:{marginLeft:8},children:[o.jsx("option",{children:"EN"}),o.jsx("option",{children:"DE"})]})]}),o.jsxs("label",{children:["Theme",o.jsxs("select",{style:{marginLeft:8},children:[o.jsx("option",{children:"Dark"}),o.jsx("option",{children:"Custom"})]})]}),o.jsxs("label",{children:["Notifications",o.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),o.jsxs("label",{children:["Privacy",o.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const _9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},w9={maxWidth:1200,margin:"0 auto"},S9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function T9(){return o.jsx("div",{style:_9,children:o.jsxs("div",{style:w9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"ToS & Privacy Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:S9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),o.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:o.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),o.jsxs("label",{style:{marginTop:8},children:[o.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const j9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},E9={maxWidth:1200,margin:"0 auto"},C9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function k9(){return o.jsx("div",{style:j9,children:o.jsxs("div",{style:E9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Transparency Viewer Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:C9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),o.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const A9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},I9={maxWidth:1200,margin:"0 auto"},R9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function P9(){return o.jsx("div",{style:A9,children:o.jsxs("div",{style:I9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"PWA Update Flow Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:R9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[o.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),o.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const N9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},D9={maxWidth:1200,margin:"0 auto"},M9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function L9(){return o.jsx("div",{style:N9,children:o.jsxs("div",{style:D9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"PWA Install Prompt Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:M9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[o.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${H.line}`,borderRadius:20}}),o.jsxs("div",{children:[o.jsx("b",{style:{color:H.title},children:"Install SFDataHub"}),o.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),o.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const F9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},V9={maxWidth:1200,margin:"0 auto"},B9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function O9(){return o.jsx("div",{style:F9,children:o.jsxs("div",{style:V9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Connect Manual Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:B9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:[o.jsx("b",{style:{color:H.title},children:"View source"}),o.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const $9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},U9={maxWidth:1200,margin:"0 auto"},z9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function H9(){return o.jsx("div",{style:$9,children:o.jsxs("div",{style:U9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Connect Userscript Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:z9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx("div",{children:"Install/Enable check"}),o.jsx("div",{children:"Events preview"})]})]})})]})})}const G9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},W9={maxWidth:1200,margin:"0 auto"},q9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function K9(){return o.jsx("div",{style:G9,children:o.jsxs("div",{style:W9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Exports Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:q9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"CSV/Excel"}),o.jsx("div",{children:"Tabs, widths, locales"})]}),o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"JSON API"}),o.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Q9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},Y9={maxWidth:1200,margin:"0 auto"},X9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function J9(){return o.jsx("div",{style:Q9,children:o.jsxs("div",{style:Y9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Deeplinks Demo Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:X9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),o.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Z9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},e8={maxWidth:1200,margin:"0 auto"},t8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function n8(){return o.jsx("div",{style:Z9,children:o.jsxs("div",{style:e8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Servers Editor Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:t8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[o.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),o.jsxs("select",{children:[o.jsx("option",{children:"Active"}),o.jsx("option",{children:"Disabled"})]}),o.jsx("button",{children:"Add"})]})]})})]})})}const r8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},s8={maxWidth:1200,margin:"0 auto"},i8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function o8(){return o.jsx("div",{style:r8,children:o.jsxs("div",{style:s8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Jobs & Queues Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:i8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),o.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const a8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},l8={maxWidth:1200,margin:"0 auto"},c8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function u8(){return o.jsx("div",{style:a8,children:o.jsxs("div",{style:l8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Feature Flags Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:c8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[o.jsx("span",{children:"Beta: New Rankings"}),o.jsx("label",{children:o.jsx("input",{type:"checkbox",defaultChecked:!0})}),o.jsx("span",{children:"Widgets v2"}),o.jsx("label",{children:o.jsx("input",{type:"checkbox"})})]})]})})]})})}const d8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},h8={maxWidth:1200,margin:"0 auto"},f8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function p8(){return o.jsx("div",{style:d8,children:o.jsxs("div",{style:h8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Table Performance Lab Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:f8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),o.jsx("div",{style:{height:160,border:`1px dashed ${H.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const m8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},g8={maxWidth:1200,margin:"0 auto"},y8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function v8(){return o.jsx("div",{style:m8,children:o.jsxs("div",{style:g8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:y8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),o.jsx("div",{style:{height:180,border:`1px dashed ${H.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const x8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},b8={maxWidth:1200,margin:"0 auto"},_8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function w8(){return o.jsx("div",{style:x8,children:o.jsxs("div",{style:b8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Accessibility Pass Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:_8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"Focus ring visible"}),o.jsx("li",{children:"Skip links"}),o.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const S8="_backdrop_19xh2_1",T8="_panel_19xh2_19",j8="_header_19xh2_43",E8="_tabs_19xh2_63",C8="_tabBtn_19xh2_75",k8="_tabActive_19xh2_97",A8="_closeBtn_19xh2_101",I8="_content_19xh2_123",ks={backdrop:S8,panel:T8,header:j8,tabs:E8,tabBtn:C8,tabActive:k8,closeBtn:A8,content:I8},ch=t=>String(t!=null?t:"").trim(),Oi=t=>ch(t).toUpperCase(),ft=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),uh=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),S_=t=>{const e=uh(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},T_=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Fm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Ue={PLAYERS:{IDENTIFIER:ft("Identifier"),PID:ft("ID"),GUILD_IDENTIFIER:ft("Guild Identifier"),SERVER:ft("Server"),NAME:ft("Name"),TIMESTAMP:ft("Timestamp"),LEVEL:ft("Level"),CLASS:ft("Class"),GUILD:ft("Guild")},GUILDS:{GUILD_IDENTIFIER:ft("Guild Identifier"),SERVER:ft("Server"),NAME:ft("Name"),MEMBER_COUNT:ft("Guild Member Count"),TIMESTAMP:ft("Timestamp"),HOF:ft("Hall of Fame Rank"),HOF_ALT:ft("HoF"),RANK:ft("Rank"),GUILD_RANK:ft("Guild Rank")}},R8=new Set([ft("Strength"),ft("Dexterity"),ft("Intelligence"),ft("Constitution"),ft("Luck"),ft("Attribute")]),P8=["equipment"],N8=t=>R8.has(t)||P8.some(e=>t.includes(e)),He=(t,e)=>{for(const n of Object.keys(t))if(ft(n)===e)return t[n]},D8=(t,e)=>e.map(n=>He(t,n)).find(n=>n!=null&&String(n)!=="");function Dh(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),f=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,i,d,f,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function j_(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${c}-W${d}`}function E_(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),l=i+7*86400-1;return{start:i,end:l}}function C_(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function k_(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function M8(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function L8(t){var f;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=M8((f=n[0])!=null?f:""),i=p=>{const g=[];let v="",_=!1;for(let S=0;S<p.length;S++){const C=p[S];C==='"'?_&&p[S+1]==='"'?(v+='"',S++):_=!_:C===r&&!_?(g.push(v),v=""):v+=C}return g.push(v),g},c=(n[0]?i(n[0]).map(ch):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=i(n[p]);if(g.every(_=>ch(_)===""))continue;const v={};for(let _=0;_<c.length;_++)v[c[_]]=g[_]!=null?ch(g[_]):"";d.push(v)}return{headers:c,rows:d}}const A_=120,I_=40,R_=120;async function za(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const l=TN(pt),c=t.slice(i,i+e);for(const d of c)d(l);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Xd(t,e){const n={};for(const r of e){const i=ft(r);if(N8(i)){let l=null,c;for(const d of t){const f=d.row[r];if(f==null||f==="")continue;const p=Number(String(f).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=f)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function P_(t){var i;const e=await ds(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const l=Dh(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Dh(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function N_(t,e){var g,v,_,S,C;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=L8(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const A of c)Object.keys(A).forEach(j=>d.add(j));const f=Array.from(d);if(e.kind==="players"){const A=[],j=[],D=[],B=new Map;for(const F of c){const U=(g=He(F,Ue.PLAYERS.PID))!=null?g:He(F,Ue.PLAYERS.IDENTIFIER),$=String(U!=null?U:"").trim();if(!$){l.skippedMissingIdentifier++;continue}const W=Dh(He(F,Ue.PLAYERS.TIMESTAMP));if(W==null){l.skippedBadTs++;continue}const E=(()=>{const T=He(F,Ue.PLAYERS.SERVER);return T&&String(T).trim()!==""?Oi(T):void 0})();if(!E){l.skippedMissingServer++;continue}A.push(T=>{const I=zt(pt,`players/${$}/scans/${W}`);T.set(I,{playerId:$,server:E,timestamp:W,timestampRaw:He(F,Ue.PLAYERS.TIMESTAMP),name:He(F,Ue.PLAYERS.NAME)||null,values:F,createdAt:si()},{merge:!0})}),l.writtenScanPlayers++,B.has($)||B.set($,[]),B.get($).push({row:F,ts:W})}for(const[F,U]of B){U.sort((Q,ae)=>Q.ts-ae.ts);const $=U[U.length-1],W=Oi(He($.row,Ue.PLAYERS.SERVER)||""),E=He($.row,Ue.PLAYERS.NAME)||null,T=He($.row,Ue.PLAYERS.LEVEL),I=He($.row,Ue.PLAYERS.CLASS),M=He($.row,Ue.PLAYERS.GUILD),L=(_=(v=He($.row,Ue.PLAYERS.NAME))!=null?v:E)!=null?_:"",V=S_(L),N=T_(V),fe=zt(pt,`players/${F}/latest/latest`),K=await P_(fe);$.ts>K&&(j.push(Q=>{Q.set(fe,{playerId:F,server:W,timestamp:$.ts,timestampRaw:He($.row,Ue.PLAYERS.TIMESTAMP),name:E,values:$.row,updatedAt:si(),nameFold:uh(L),nameTokens:V,nameNgrams:N,level:Fm(T),className:I!=null&&String(I).trim()!==""?String(I):null,guildName:M!=null&&String(M).trim()!==""?String(M):null,guildNameFold:M?uh(M):null},{merge:!0})}),l.writtenLatestPlayers++);const re=new Map,ne=new Map;for(const Q of U){const ae=j_(Q.ts),oe=C_(Q.ts);re.has(ae)||re.set(ae,[]),ne.has(oe)||ne.set(oe,[]),re.get(ae).push(Q),ne.get(oe).push(Q)}for(const[Q,ae]of re){ae.sort((ye,we)=>ye.ts-we.ts);const oe=Xd(ae,f),G=E_(ae[ae.length-1].ts),ee=ae[ae.length-1];D.push(ye=>{const we=zt(pt,`players/${F}/history_weekly/${Q}`);ye.set(we,{playerId:F,weekId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:He(ee.row,Ue.PLAYERS.TIMESTAMP),server:Oi(He(ee.row,Ue.PLAYERS.SERVER)||""),name:He(ee.row,Ue.PLAYERS.NAME)||null,values:oe,updatedAt:si()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,ae]of ne){ae.sort((ye,we)=>ye.ts-we.ts);const oe=Xd(ae,f),G=k_(ae[ae.length-1].ts),ee=ae[ae.length-1];D.push(ye=>{const we=zt(pt,`players/${F}/history_monthly/${Q}`);ye.set(we,{playerId:F,monthId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:He(ee.row,Ue.PLAYERS.TIMESTAMP),server:Oi(He(ee.row,Ue.PLAYERS.SERVER)||""),name:He(ee.row,Ue.PLAYERS.NAME)||null,values:oe,updatedAt:si()},{merge:!0})}),l.writtenMonthlyPlayers++}}await za(A,A_,"scans",e.onProgress),await za(j,I_,"latest",e.onProgress),await za(D,R_,"history",e.onProgress)}if(e.kind==="guilds"){const A=[],j=[],D=[],B=new Map;for(const F of c){const U=String((S=He(F,Ue.GUILDS.GUILD_IDENTIFIER))!=null?S:"").trim();if(!U){l.skippedMissingGuildIdentifier++;continue}const $=Dh(He(F,Ue.GUILDS.TIMESTAMP));if($==null){l.skippedBadTsGuild++;continue}const W=(()=>{const E=He(F,Ue.GUILDS.SERVER);return E&&String(E).trim()!==""?Oi(E):void 0})();if(!W){l.skippedMissingServer++;continue}A.push(E=>{const T=zt(pt,`guilds/${U}/scans/${$}`);E.set(T,{guildIdentifier:U,server:W,timestamp:$,timestampRaw:He(F,Ue.GUILDS.TIMESTAMP),name:He(F,Ue.GUILDS.NAME)||null,values:F,createdAt:si()},{merge:!0})}),l.writtenScanGuilds++,B.has(U)||B.set(U,[]),B.get(U).push({row:F,ts:$})}for(const[F,U]of B){U.sort((K,re)=>K.ts-re.ts);const $=U[U.length-1],W=(C=He($.row,Ue.GUILDS.NAME))!=null?C:"",E=S_(W),T=T_(E),I=Fm(He($.row,Ue.GUILDS.MEMBER_COUNT)),M=Fm(D8($.row,[Ue.GUILDS.HOF,Ue.GUILDS.HOF_ALT,Ue.GUILDS.RANK,Ue.GUILDS.GUILD_RANK])),L=zt(pt,`guilds/${F}/latest/latest`),V=await P_(L);$.ts>V&&(j.push(K=>{K.set(L,{guildIdentifier:F,server:Oi(He($.row,Ue.GUILDS.SERVER)||""),timestamp:$.ts,timestampRaw:He($.row,Ue.GUILDS.TIMESTAMP),name:He($.row,Ue.GUILDS.NAME)||null,values:$.row,updatedAt:si(),nameFold:uh(W),nameTokens:E,nameNgrams:T,memberCount:I,hofRank:M},{merge:!0})}),l.writtenLatestGuilds++);const N=new Map,fe=new Map;for(const K of U){const re=j_(K.ts),ne=C_(K.ts);N.has(re)||N.set(re,[]),fe.has(ne)||fe.set(ne,[]),N.get(re).push(K),fe.get(ne).push(K)}for(const[K,re]of N){re.sort((oe,G)=>oe.ts-G.ts);const ne=Xd(re,f),Q=E_(re[re.length-1].ts),ae=re[re.length-1];D.push(oe=>{const G=zt(pt,`guilds/${F}/history_weekly/${K}`);oe.set(G,{guildIdentifier:F,weekId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:ae.ts,lastTimestampRaw:He(ae.row,Ue.GUILDS.TIMESTAMP),server:Oi(He(ae.row,Ue.GUILDS.SERVER)||""),name:He(ae.row,Ue.GUILDS.NAME)||null,values:ne,updatedAt:si()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[K,re]of fe){re.sort((oe,G)=>oe.ts-G.ts);const ne=Xd(re,f),Q=k_(re[re.length-1].ts),ae=re[re.length-1];D.push(oe=>{const G=zt(pt,`guilds/${F}/history_monthly/${K}`);oe.set(G,{guildIdentifier:F,monthId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:ae.ts,lastTimestampRaw:He(ae.row,Ue.GUILDS.TIMESTAMP),server:Oi(He(ae.row,Ue.GUILDS.SERVER)||""),name:He(ae.row,Ue.GUILDS.NAME)||null,values:ne,updatedAt:si()},{merge:!0})}),l.writtenMonthlyGuilds++}}await za(A,A_,"scans",e.onProgress),await za(j,I_,"latest",e.onProgress),await za(D,R_,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:i,durationMs:p-n}}const Ve=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),F8=t=>String(t!=null?t:"").trim(),Rg=t=>F8(t).toUpperCase(),Pg=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Pn(t,e){for(const n of Object.keys(t))if(Ve(n)===e)return t[n]}function ni(t,e){for(const n of e){const r=Pn(t,n);if(r!=null&&String(r)!=="")return r}}function Mo(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function tl(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),f=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,i,d,f,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const $t={GUILD_IDENTIFIER:Ve("Guild Identifier"),SERVER:Ve("Server"),NAME:Ve("Name"),TIMESTAMP:Ve("Timestamp"),LEVEL:Ve("Level"),CLASS:Ve("Class"),GUILD:Ve("Guild"),GUILD_ROLE:[Ve("Role"),Ve("Guild Role")],TREASURY:[Ve("Treasury"),Ve("Fortress Treasury"),Ve("Treasury Level"),Ve("Festungsschatzkammer")],MINE:[Ve("Mine"),Ve("Gem Mine"),Ve("Mine Level"),Ve("Festungsmine")],BASE_MAIN:[Ve("Base"),Ve("Base Attribute"),Ve("BaseMain"),Ve("Basis Attribut")],CON_BASE:[Ve("Con Base"),Ve("Constitution Base"),Ve("Base Constitution"),Ve("Basis Konstitution"),Ve("conbase")],ATTR_TOT:[Ve("Attribute"),Ve("Attr Total"),Ve("Attribut"),Ve("Attribut Gesamt")],CON_TOT:[Ve("Constitution"),Ve("Constitution Total"),Ve("Konstitution"),Ve("Konstitution Gesamt")],LAST_ACTIVE:[Ve("Last Active"),Ve("LastActivity"),Ve("Letzte Aktivitt")],GUILD_JOINED:[Ve("Guild Joined"),Ve("Joined Guild"),Ve("Gildenbeitritt")]},dh={GUILD_IDENTIFIER:Ve("Guild Identifier"),SERVER:Ve("Server"),NAME:Ve("Name")};function D_(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function V8(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function B8(t){var n;const e=new Map;for(const r of t){const i=String((n=Pn(r,dh.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Pn(r,dh.SERVER),c=Pn(r,dh.NAME);if(!i||!l||!c)continue;const d=`${Rg(l)}__${Pg(String(c))}`;e.set(d,i)}return e}function O8(t){var F,U;const e=Pn(t,$t.TIMESTAMP),n=tl(e),r=ni(t,$t.LAST_ACTIVE),i=tl(r),l=ni(t,$t.GUILD_JOINED),c=tl(l),d=Mo(Pn(t,$t.LEVEL)),f=(()=>{const $=Pn(t,$t.CLASS);return $!=null&&String($).trim()!==""?String($):null})(),p=(()=>{const $=ni(t,$t.GUILD_ROLE);return $!=null&&String($).trim()!==""?String($):null})(),g=Mo(ni(t,$t.TREASURY)),v=Mo(ni(t,$t.MINE)),_=Mo(ni(t,$t.BASE_MAIN)),S=Mo(ni(t,$t.CON_BASE)),C=Mo(ni(t,$t.ATTR_TOT)),A=Mo(ni(t,$t.CON_TOT)),j=_!=null&&S!=null?_+S:null,D=C!=null&&A!=null?C+A:null,B=(()=>{const $=Pn(t,$t.NAME);return $!=null&&String($).trim()!==""?String($):null})();return{id:String((U=(F=t==null?void 0:t.ID)!=null?F:t==null?void 0:t.Identifier)!=null?U:""),name:B,class:f,role:p,level:d,treasury:g,mine:v,baseMain:_,conBase:S,sumBaseTotal:j,attrTotal:C,conTotal:A,totalStats:D,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function ri(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function $8(t){var c,d,f;const e=zt(pt,`guilds/${t}/latest/latest`),n=await ds(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(f=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?f:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(l=tl(i)),{sec:l,raw:i}}async function U8(t){const e=zt(pt,`guilds/${t}/snapshots/members_summary`),n=await ds(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=tl(r.updatedAt);if(i!=null)return i}return 0}async function z8(t,e){var l,c,d,f,p,g,v;const n=B8(e||[]),r=new Set;for(const _ of e||[]){const S=String((l=Pn(_,dh.GUILD_IDENTIFIER))!=null?l:"").trim();S&&r.add(S)}for(const _ of t||[]){const S=Pn(_,$t.SERVER);let C=String((c=Pn(_,$t.GUILD_IDENTIFIER))!=null?c:"").trim();if(!C){const A=(d=Pn(_,$t.GUILD))!=null?d:_.Guild;if(A&&S){const j=`${Rg(S)}__${Pg(String(A))}`,D=n.get(j);D&&(C=D)}}C&&r.add(C)}let i=0;for(const _ of r){const{sec:S,raw:C}=await $8(_);if(S==null)continue;const A=await U8(_);if(S<=A)continue;const j=new Map;for(const K of t||[]){const re=Pn(K,$t.SERVER);let ne=String((f=Pn(K,$t.GUILD_IDENTIFIER))!=null?f:"").trim();if(!ne){const oe=(p=Pn(K,$t.GUILD))!=null?p:K.Guild;if(oe&&re){const G=`${Rg(re)}__${Pg(String(oe))}`,ee=n.get(G);ee&&(ne=ee)}}if(ne!==_)continue;const Q=tl(Pn(K,$t.TIMESTAMP));if(Q==null||Q!==S)continue;const ae=String((v=(g=K==null?void 0:K.ID)!=null?g:K==null?void 0:K.Identifier)!=null?v:"").trim();ae&&(j.has(ae)||j.set(ae,K))}const D=Array.from(j.values()),B=[];for(const K of D)B.push(O8(K));B.sort((K,re)=>{var ae,oe;const ne=D_(K.role),Q=D_(re.role);return ne!==Q?ne-Q:((ae=K.name)!=null?ae:"").toLowerCase().localeCompare(((oe=re.name)!=null?oe:"").toLowerCase())});const F=ri(B,"level"),U=ri(B,"treasury"),$=ri(B,"mine"),W=ri(B,"baseMain"),E=ri(B,"conBase"),T=ri(B,"sumBaseTotal"),I=ri(B,"attrTotal"),M=ri(B,"conTotal"),L=ri(B,"totalStats"),V=JSON.stringify({gid:_,tsSec:S,members:B.map(K=>{var re,ne,Q,ae,oe,G,ee,ye,we,Ee,me,Ce,Ae;return{id:K.id,name:(re=K.name)!=null?re:"",class:(ne=K.class)!=null?ne:"",role:(Q=K.role)!=null?Q:"",level:(ae=K.level)!=null?ae:null,treasury:(oe=K.treasury)!=null?oe:null,mine:(G=K.mine)!=null?G:null,baseMain:(ee=K.baseMain)!=null?ee:null,conBase:(ye=K.conBase)!=null?ye:null,sumBaseTotal:(we=K.sumBaseTotal)!=null?we:null,attrTotal:(Ee=K.attrTotal)!=null?Ee:null,conTotal:(me=K.conTotal)!=null?me:null,totalStats:(Ce=K.totalStats)!=null?Ce:null,guildJoinedMs:(Ae=K.guildJoinedMs)!=null?Ae:null}})}),N=V8(V),fe=zt(pt,`guilds/${_}/snapshots/members_summary`);await Sh(fe,{guildId:_,count:B.length,updatedAt:C!=null?C:String(S),updatedAtMs:S*1e3,hash:N,avgLevel:F,avgTreasury:U,avgMine:$,avgBaseMain:W,avgConBase:E,avgSumBaseTotal:T,avgAttrTotal:I,avgConTotal:M,avgTotalStats:L,members:B,updatedAtServer:si()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function H8(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function G8(t,e,n,r){var f,p,g;const i=zt(pt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await ds(i);if(!l.exists())return await Sh(i,n,{merge:!1}),{first:n,firstTsMs:(f=n.updatedAtMs)!=null?f:n.timestamp?n.timestamp*1e3:r};const c=l.data(),d=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<d?(await Sh(i,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function W8(t,e,n){const r=zt(pt,`guilds/${t}/history_monthly/${e}`);await Sh(r,n,{merge:!0})}function q8(t){var B,F,U,$,W,E,T,I,M,L,V,N,fe;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:l,latest:c,latestTsMs:d}=t,f=l!=null?Math.floor((d-l)/864e5):null,p=f!=null&&f<=40,g={available:p};p||(g.reason=f==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const v={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:f,guildId:e,server:r!=null?r:null},status:g};if(!p||!i)return v;const _=new Map;for(const K of i.members||[])K.playerId&&_.set(K.playerId,K);const S=[],C=[],A=[],j=[],D=[];for(const K of c.members||[]){if(!K.playerId)continue;const re=_.get(K.playerId)||null,ne=(B=K.sumBaseTotal)!=null?B:null,Q=(F=re==null?void 0:re.sumBaseTotal)!=null?F:null,ae=ne!=null&&Q!=null?ne-Q:0,oe=(U=K.totalStats)!=null?U:null,G=($=re==null?void 0:re.totalStats)!=null?$:null,ee=oe!=null&&G!=null?oe-G:0;S.push({playerId:K.playerId,name:(W=K.name)!=null?W:null,class:(E=K.class)!=null?E:null,levelLatest:(T=K.level)!=null?T:null,baseLatest:ne,baseDelta:ae}),C.push({playerId:K.playerId,name:(I=K.name)!=null?I:null,base:ne,stamDelta:null,shoDelta:null}),A.push({playerId:K.playerId,name:(M=K.name)!=null?M:null,stats:ne,delta:ae}),j.push({playerId:K.playerId,name:(L=K.name)!=null?L:null,total:oe,delta:ee}),D.push({playerId:K.playerId,name:(V=K.name)!=null?V:null,class:(N=K.class)!=null?N:null,stats:(fe=K.baseMain)!=null?fe:null,delta:(re==null?void 0:re.baseMain)!=null&&K.baseMain!=null?K.baseMain-re.baseMain:0})}return S.sort((K,re)=>{var ne,Q;return((ne=re.baseDelta)!=null?ne:-1/0)-((Q=K.baseDelta)!=null?Q:-1/0)}),A.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),j.sort((K,re)=>{var ne,Q;return((ne=re.total)!=null?ne:-1/0)-((Q=K.total)!=null?Q:-1/0)}),C.sort((K,re)=>{var ne,Q;return((ne=re.base)!=null?ne:-1/0)-((Q=K.base)!=null?Q:-1/0)}),D.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),{...v,mostBaseGained:S.slice(0,50),sumBaseStats:C.slice(0,50),highestBaseStats:A.slice(0,50),highestTotalStats:j.slice(0,50),mainAndCon:D.slice(0,50)}}const Vm=t=>String(t!=null?t:"").trim(),$n=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function K8(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function M_(t){var f;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=K8((f=n[0])!=null?f:""),i=p=>{const g=[];let v="",_=!1;for(let S=0;S<p.length;S++){const C=p[S];C==='"'?_&&p[S+1]==='"'?(v+='"',S++):_=!_:C===r&&!_?(g.push(v),v=""):v+=C}return g.push(v),g},c=(n[0]?i(n[0]).map(Vm):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=i(n[p]);if(g.every(_=>Vm(_)===""))continue;const v={};for(let _=0;_<c.length;_++)v[c[_]]=g[_]!=null?Vm(g[_]):"";d.push(v)}return{headers:c,rows:d,delimiter:r}}const Ht={PLAYERS:{IDENTIFIER:$n("Identifier"),GUILD_IDENTIFIER:$n("Guild Identifier"),TIMESTAMP:$n("Timestamp"),NAME:$n("Name"),SERVER:$n("Server"),OWN:$n("Own")},GUILDS:{GUILD_IDENTIFIER:$n("Guild Identifier"),GUILD_MEMBER_COUNT:$n("Guild Member Count"),NAME:$n("Name"),TIMESTAMP:$n("Timestamp")}},sj=(t,e)=>{const n=new Set(t.map($n));return e.every(r=>n.has(r))},Or=(t,e)=>{for(const n of Object.keys(t))if($n(n)===e)return t[n]};function Q8(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function L_(t){const e=t.map($n),n=l=>e.includes(l);let r=0,i=0;return n(Ht.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Ht.PLAYERS.IDENTIFIER)&&(r+=2),n(Ht.PLAYERS.TIMESTAMP)&&(r+=1),n(Ht.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(Ht.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(Ht.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(Ht.PLAYERS.IDENTIFIER)?"players":"guilds"}function F_(t,e){const n=Q8(t);if(n!=="unknown"){const i=L_(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=L_(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function ij(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function Y8(t,e){var r;const n=[];if(!sj(e,[Ht.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const l=Or(i,Ht.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=Or(i,Ht.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:Or(i,Ht.PLAYERS.IDENTIFIER)||void 0,name:Or(i,Ht.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Or(i,Ht.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=ij(Or(i,Ht.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function X8(t,e){const n=[];if(!sj(e,[Ht.GUILDS.GUILD_IDENTIFIER,Ht.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=Or(r,Ht.GUILDS.GUILD_IDENTIFIER),l=Number(Or(r,Ht.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(l))continue;const c=ij(Or(r,Ht.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:Or(r,Ht.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function J8(t,e){var j,D,B,F,U,$;const n=[],r=new Map;for(const W of t){const E=W.id||"",T=(j=W.server)==null?void 0:j.toUpperCase();if(E){const I=`${T!=null?T:"NO"}::${E}`;r.has(I)||r.set(I,{server:T,id:E,name:W.name||"",own:!!W.own})}}const i=r.size,l=t.length,c=Array.from(r.values()).filter(W=>W.own).length,d=new Map;for(const W of r.values())W.server&&d.set(W.server,((D=d.get(W.server))!=null?D:0)+1);const f=Array.from(d.entries()).map(([W,E])=>({server:W,players:E})).sort((W,E)=>E.players-W.players),p=f.length,g=new Map;for(const W of t)g.set(W.guildIdentifier,((B=g.get(W.guildIdentifier))!=null?B:0)+1);const v=new Set,_=new Map;for(const W of e)v.add(W.guildIdentifier),_.set(W.guildIdentifier,{name:W.name||"",declared:W.memberCount});for(const W of g.keys())v.add(W);let S=0;const C=[];for(const W of v){const E=(F=_.get(W))==null?void 0:F.declared,T=(U=g.get(W))!=null?U:0,I=E!=null&&T===E;I&&S++,C.push({id:W,name:(($=_.get(W))==null?void 0:$.name)||"",declaredCount:E!=null?E:0,playersCount:T,full:I})}[..._.values()].some(W=>Number.isFinite(W.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),C.sort((W,E)=>W.name?W.name.localeCompare(E.name):W.id.localeCompare(E.id));const A=Array.from(r.values()).sort((W,E)=>(W.server||"")===(E.server||"")?W.name.localeCompare(E.name):(W.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:i,ownPlayers:c,servers:p,perServer:f,guildsRepresented:v.size,fullyScannedGuilds:S,notes:n,playersList:A,guildsList:C}}function Z8(){const[t,e]=R.useState([]),[n,r]=R.useState(null),[i,l]=R.useState(!1),[c,d]=R.useState(null),[f,p]=R.useState(!1),[g,v]=R.useState(null),[_,S]=R.useState([]),[C,A]=R.useState(null);R.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const j=R.useCallback(async E=>{var T;l(!0),d(null),r(null),S([]),v(null);try{const I=Array.from(E).slice(0,2),M=[];let L=[],V=[];for(const N of I){const fe=N,K=await fe.text(),re=M_(K),{kind:ne,warn:Q}=F_(fe.name,re.headers);M.push({name:fe.name,size:fe.size||K.length,rows:re.rows.length,delimiter:re.delimiter,text:K,kind:ne,warn:Q}),ne==="players"?L=L.concat(Y8(re.rows,re.headers)):ne==="guilds"&&(V=V.concat(X8(re.rows,re.headers)))}e(M),r(J8(L,V))}catch(I){d(String((T=I==null?void 0:I.message)!=null?T:I))}finally{l(!1)}},[]),D=R.useCallback(async E=>{!E||E.length===0||await j(E)},[j]),B=R.useCallback(async E=>{E.preventDefault();const T=E.dataTransfer.files;!T||!T.length||await j(T)},[j]);async function F(){var E,T,I;if(t.length){p(!0),A({phase:"prepare",current:0,total:0}),v(null),S([]);try{let M=[],L=[];for(const K of t){const re=M_(K.text),{kind:ne}=F_(K.name,re.headers);ne==="players"&&(M=M.concat(re.rows)),ne==="guilds"&&(L=L.concat(re.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!M.length,hasGuildsCsv:!!L.length,playersRows:M.length,guildsRows:L.length}),!L.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!M.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await N_(null,{kind:"guilds",rows:L,onProgress:K=>A(K)});console.info("[Import Report] guilds",V);const N=await N_(null,{kind:"players",rows:M,onProgress:K=>A(K)});console.info("[Import Report] players",N),await z8(M,L);const fe=new Set;for(const K of L){const re=Or(K,$n("Guild Identifier"));re&&fe.add(String(re))}for(const K of M){const re=Or(K,$n("Guild Identifier"));re&&fe.add(String(re))}for(const K of fe){const re=zt(pt,`guilds/${K}/snapshots/members_summary`),ne=await ds(re);if(!ne.exists())continue;const Q=ne.data(),ae=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),oe=H8(ae),{first:G,firstTsMs:ee}=await G8(K,oe,Q,ae),ye=q8({guildId:K,monthKey:oe,server:(T=Q.server)!=null?T:null,first:G,firstTsMs:ee,latest:Q,latestTsMs:ae});await W8(K,oe,ye)}A({phase:"done",current:1,total:1}),S([V,N]),v("Import abgeschlossen.")}catch(M){console.error("[UploadCenter] Import error:",M),v(`Fehler beim Import: ${(I=M==null?void 0:M.message)!=null?I:M}`)}finally{p(!1),setTimeout(()=>A(null),1200)}}}const U=R.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, ${E.delimiter}, ${E.kind}${E.warn?" ":""})`),[t]),$=R.useMemo(()=>t.reduce((E,T)=>E+T.rows,0),[t]),W=C?Math.floor(100*C.current/Math.max(1,C.total||1)):0;return o.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[o.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[o.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),o.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[U.map((E,T)=>o.jsx("span",{className:"uc-chip",title:t[T].warn||"",children:E},T)),t.length>0&&o.jsxs("span",{className:"uc-chip",children:["Total: ",$," rows"]})]}),o.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[C&&o.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[o.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:o.jsx("div",{style:{width:`${W}%`,height:"100%",background:"#2E75F0"}})}),o.jsxs("span",{style:{color:"#D6E4F7"},children:[W,"%"]})]}),o.jsx("button",{onClick:F,disabled:!t.length||!n||f,className:"uc-btn",children:f?"Loading":"Load to DB"}),g&&o.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),o.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[o.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),o.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>D(E.target.files),disabled:i})]}),o.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:B,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&o.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&o.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[o.jsx("b",{children:"Fehler:"})," ",c]}),n&&o.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[o.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:o.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),o.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[o.jsx(gc,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),o.jsx(gc,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),o.jsx(gc,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),o.jsx(gc,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),o.jsx(gc,{label:"Verschiedene Server",value:n.servers})]}),o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Server"}),o.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),o.jsx("tbody",{children:n.perServer.map(E=>o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:E.server}),o.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),o.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[o.jsxs("details",{children:[o.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Server"}),o.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),o.jsx("th",{style:{textAlign:"left"},children:"Name"}),o.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),o.jsx("tbody",{children:n.playersList.map((E,T)=>{var I,M;return o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:(I=E.server)!=null?I:""}),o.jsx("td",{children:E.id}),o.jsx("td",{children:E.name||""}),o.jsx("td",{children:E.own?"":""})]},`${(M=E.server)!=null?M:"NO"}-${E.id}-${T}`)})})]})})]}),o.jsxs("details",{open:!0,children:[o.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),o.jsx("th",{style:{textAlign:"left"},children:"Name"}),o.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),o.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),o.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),o.jsx("tbody",{children:n.guildsList.map((E,T)=>o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:E.id}),o.jsx("td",{children:E.name||""}),o.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),o.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),o.jsx("td",{style:{textAlign:"center"},children:E.full?"":""})]},`${E.id}-${T}`))})]})})]})]}),!!n.notes.length&&o.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",o.jsx("ul",{children:n.notes.map((E,T)=>o.jsx("li",{children:E},T))})]})]})]})}function gc({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[o.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),o.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&o.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function eU(){return o.jsxs("div",{children:[o.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),o.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",o.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function tU(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=ow();return!t||!i?null:o.jsx("div",{className:ks.backdrop,onClick:e,children:o.jsxs("div",{className:ks.panel,onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:ks.header,children:[o.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),o.jsxs("div",{className:ks.tabs,children:[o.jsx("button",{type:"button",className:`${ks.tabBtn} ${n==="csv"?ks.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),o.jsx("button",{type:"button",className:`${ks.tabBtn} ${n==="json"?ks.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),o.jsx("button",{type:"button",className:ks.closeBtn,onClick:e,children:"Schlieen"})]}),o.jsx("div",{className:ks.content,children:n==="csv"?o.jsx(Z8,{}):o.jsx(eU,{})})]})})}const nU=t=>()=>o.jsx("div",{style:{padding:16},children:o.jsx("h2",{style:{color:"var(--title)"},children:t})}),mn=nU("Diese Unterseite existiert in der neuen Struktur nicht mehr.");yE.createRoot(document.getElementById("root")).render(o.jsx(Le.StrictMode,{children:o.jsxs(Gk,{role:"admin",children:[o.jsx(NC,{children:o.jsx(cC,{children:o.jsxs(se,{element:o.jsx(_D,{}),children:[o.jsx(se,{path:"/",element:o.jsx(wD,{})}),o.jsx(se,{path:"/dashboard",element:o.jsx(aF,{})}),o.jsx(se,{path:"/dashboard/kpis",element:o.jsx(uF,{})}),o.jsx(se,{path:"/dashboard/activity",element:o.jsx(dF,{})}),o.jsx(se,{path:"/dashboard/progression",element:o.jsx(hF,{})}),o.jsx(se,{path:"/discover",element:o.jsx(fF,{})}),o.jsx(se,{path:"/toplists",element:o.jsx(fV,{})}),o.jsx(se,{path:"/sfmagazine",element:o.jsx(vF,{})}),o.jsx(se,{path:"/players",element:o.jsx(pV,{})}),o.jsx(se,{path:"/players/rankings",element:o.jsx(mV,{})}),o.jsx(se,{path:"/players/stats",element:o.jsx(gV,{})}),o.jsx(se,{path:"/players/profile",element:o.jsx(Cm,{})}),o.jsx(se,{path:"/players/profile/:playerId",element:o.jsx(Cm,{})}),o.jsx(se,{path:"/player/:playerId",element:o.jsx(Cm,{})}),o.jsx(se,{path:"/guilds",element:o.jsx(_V,{})}),o.jsx(se,{path:"/guilds/rankings",element:o.jsx(wV,{})}),o.jsx(se,{path:"/guilds/stats",element:o.jsx(SV,{})}),o.jsx(se,{path:"/guilds/profile",element:o.jsx(Im,{})}),o.jsx(se,{path:"/guilds/profile/:guildId",element:o.jsx(Im,{})}),o.jsx(se,{path:"/guild/:guildId",element:o.jsx(Im,{})}),o.jsx(se,{path:"/servers",element:o.jsx(l6,{})}),o.jsx(se,{path:"/servers/rankings",element:o.jsx(c6,{})}),o.jsx(se,{path:"/servers/stats",element:o.jsx(u6,{})}),o.jsx(se,{path:"/servers/profile",element:o.jsx(Rm,{})}),"               ",o.jsx(se,{path:"/servers/profile/:serverId",element:o.jsx(Rm,{})}),"     ",o.jsx(se,{path:"/server/:serverId",element:o.jsx(Rm,{})}),"              ",o.jsx(se,{path:"/guidehub",element:o.jsx($6,{})}),o.jsx(se,{path:"/guidehub/fortress",element:o.jsx(UT,{})}),o.jsx(se,{path:"/guidehub/underworld",element:o.jsx(zT,{})}),o.jsx(se,{path:"/guidehub/arena-am",element:o.jsx(HT,{})}),o.jsx(se,{path:"/guidehub/dungeons",element:o.jsx(GT,{})}),o.jsx(se,{path:"/guidehub/hellevator",element:o.jsx(WT,{})}),o.jsx(se,{path:"/guidehub/legendary-dungeon",element:o.jsx(qT,{})}),o.jsx(se,{path:"/guidehub/events",element:o.jsx(KT,{})}),o.jsx(se,{path:"/guidehub/calculators",element:o.jsx(QT,{})}),o.jsx(se,{path:"/guidehub/infographics",element:o.jsx(YT,{})}),o.jsx(se,{path:"/community",element:o.jsx(dO,{})}),o.jsx(se,{path:"/community/scans",element:o.jsx(JT,{})}),o.jsx(se,{path:"/community/predictions",element:o.jsx(ZT,{})}),o.jsx(se,{path:"/community/creators",element:o.jsx(XT,{})}),o.jsx(se,{path:"/community/feedback",element:o.jsx(tj,{})}),o.jsx(se,{path:"/community/news",element:o.jsx(ej,{})}),o.jsx(se,{path:"/scans",element:o.jsx(hO,{})}),o.jsx(se,{path:"/scans/latest",element:o.jsx(fO,{})}),o.jsx(se,{path:"/scans/archive",element:o.jsx(pO,{})}),o.jsx(se,{path:"/guild-hub",element:o.jsx(mO,{})}),o.jsx(se,{path:"/guild-hub/planner",element:o.jsx(vO,{})}),o.jsx(se,{path:"/guild-hub/fusion",element:o.jsx(xO,{})}),o.jsx(se,{path:"/guild-hub/waitlist",element:o.jsx(bO,{})}),o.jsx(se,{path:"/guild-hub/activity",element:o.jsx(_O,{})}),o.jsx(se,{path:"/guild-hub/imports",element:o.jsx(wO,{})}),o.jsx(se,{path:"/guild-hub/announcements",element:o.jsx(SO,{})}),o.jsx(se,{path:"/guild-hub/events",element:o.jsx(TO,{})}),o.jsx(se,{path:"/guild-hub/roles",element:o.jsx(jO,{})}),o.jsx(se,{path:"/guild-hub/settings",element:o.jsx(EO,{})}),o.jsx(se,{path:"/settings",element:o.jsx(CO,{})}),o.jsxs(se,{path:"/playground",element:o.jsx(kO,{}),children:[o.jsx(se,{index:!0,element:o.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),o.jsx(se,{path:"list-views",element:o.jsx(x_,{})}),o.jsx(se,{path:"rescan-widget",element:o.jsx(__,{})}),o.jsx(se,{path:"upload-sim",element:o.jsx(w_,{})}),o.jsx(se,{path:"theme-maker",element:o.jsx(m_,{})}),o.jsx(se,{path:"theme-maker-pro",element:o.jsx(y_,{})}),o.jsx(se,{path:"hud",element:o.jsx(AO,{})}),o.jsx(se,{path:"hud/game-buttons",element:o.jsx(n$,{})}),o.jsx(se,{path:"core-ui/theme-maker",element:o.jsx(m_,{})}),o.jsx(se,{path:"core-ui/theme-maker-pro",element:o.jsx(y_,{})}),o.jsx(se,{path:"core-ui/list-views",element:o.jsx(x_,{})}),o.jsx(se,{path:"sync/rescan",element:o.jsx(__,{})}),o.jsx(se,{path:"upload/sim",element:o.jsx(w_,{})}),o.jsx(se,{path:"import/har",element:o.jsx(u$,{})}),o.jsx(se,{path:"import/json-csv",element:o.jsx(p$,{})}),o.jsx(se,{path:"import/schema",element:o.jsx(v$,{})}),o.jsx(se,{path:"hubs/player-contained",element:o.jsx(w$,{})}),o.jsx(se,{path:"hubs/guilds",element:o.jsx(E$,{})}),o.jsx(se,{path:"hubs/servers",element:o.jsx(I$,{})}),o.jsx(se,{path:"rankings/views",element:o.jsx(D$,{})}),o.jsx(se,{path:"analytics/kpi",element:o.jsx(V$,{})}),o.jsx(se,{path:"analytics/progression",element:o.jsx(U$,{})}),o.jsx(se,{path:"analytics/legendary-pets",element:o.jsx(W$,{})}),o.jsx(se,{path:"community/scans",element:o.jsx(Y$,{})}),o.jsx(se,{path:"community/creators",element:o.jsx(e9,{})}),o.jsx(se,{path:"feedback/form",element:o.jsx(s9,{})}),o.jsx(se,{path:"feedback/admin",element:o.jsx(l9,{})}),o.jsx(se,{path:"help/tutorials",element:o.jsx(h9,{})}),o.jsx(se,{path:"help/wiki",element:o.jsx(g9,{})}),o.jsx(se,{path:"legal/tos",element:o.jsx(T9,{})}),o.jsx(se,{path:"legal/transparency",element:o.jsx(k9,{})}),o.jsx(se,{path:"settings",element:o.jsx(b9,{})}),o.jsx(se,{path:"pwa/update",element:o.jsx(P9,{})}),o.jsx(se,{path:"pwa/install",element:o.jsx(L9,{})}),o.jsx(se,{path:"connect/manual",element:o.jsx(O9,{})}),o.jsx(se,{path:"connect/userscript",element:o.jsx(H9,{})}),o.jsx(se,{path:"interop/exports",element:o.jsx(K9,{})}),o.jsx(se,{path:"interop/deeplinks",element:o.jsx(J9,{})}),o.jsx(se,{path:"admin/servers",element:o.jsx(n8,{})}),o.jsx(se,{path:"admin/jobs",element:o.jsx(o8,{})}),o.jsx(se,{path:"admin/flags",element:o.jsx(u8,{})}),o.jsx(se,{path:"perf/table-lab",element:o.jsx(p8,{})}),o.jsx(se,{path:"mobile/filters",element:o.jsx(v8,{})}),o.jsx(se,{path:"qa/a11y",element:o.jsx(w8,{})})]}),o.jsx(se,{path:"/latest-scan",element:o.jsx(Gp,{to:"/scans/latest",replace:!0})}),o.jsx(se,{path:"/old-scans",element:o.jsx(Gp,{to:"/scans/archive",replace:!0})}),o.jsx(se,{path:"/favorites",element:mn()}),o.jsx(se,{path:"/notifications",element:mn()}),o.jsx(se,{path:"/guilds/planner",element:mn()}),o.jsx(se,{path:"/guilds/fusion",element:mn()}),o.jsx(se,{path:"/guilds/academy",element:mn()}),o.jsx(se,{path:"/toplists/players",element:mn()}),o.jsx(se,{path:"/toplists/guilds",element:mn()}),o.jsx(se,{path:"/toplists/servers",element:mn()}),o.jsx(se,{path:"/settings/profile",element:mn()}),o.jsx(se,{path:"/settings/account",element:mn()}),o.jsx(se,{path:"/settings/appearance",element:mn()}),o.jsx(se,{path:"/players/search",element:mn()}),o.jsx(se,{path:"/players/compare",element:mn()}),o.jsx(se,{path:"/servers/list",element:mn()}),o.jsx(se,{path:"/servers/trend",element:mn()}),o.jsx(se,{path:"/scans/upload",element:mn()}),o.jsx(se,{path:"/scans/history",element:mn()}),o.jsx(se,{path:"*",element:o.jsx(Gp,{to:"/",replace:!0})})]})})}),o.jsx(tU,{})]})}));
