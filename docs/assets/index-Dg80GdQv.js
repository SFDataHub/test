import Hj from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},_d={},Ug={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function O4(){if(Hb)return mt;Hb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function I(G,te,ce){this.props=G,this.context=te,this.refs=P,this.updater=ce||j}I.prototype.isReactComponent={},I.prototype.setState=function(G,te){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,te,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function F(){}F.prototype=I.prototype;function B(G,te,ce){this.props=G,this.context=te,this.refs=P,this.updater=ce||j}var T=B.prototype=new F;T.constructor=B,N(T,I.prototype),T.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,M={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(G,te,ce){var Z,pe={},Ce=null,ge=null;if(te!=null)for(Z in te.ref!==void 0&&(ge=te.ref),te.key!==void 0&&(Ce=""+te.key),te)w.call(te,Z)&&!C.hasOwnProperty(Z)&&(pe[Z]=te[Z]);var Te=arguments.length-2;if(Te===1)pe.children=ce;else if(1<Te){for(var Ne=Array(Te),Ke=0;Ke<Te;Ke++)Ne[Ke]=arguments[Ke+2];pe.children=Ne}if(G&&G.defaultProps)for(Z in Te=G.defaultProps,Te)pe[Z]===void 0&&(pe[Z]=Te[Z]);return{$$typeof:t,type:G,key:Ce,ref:ge,props:pe,_owner:M.current}}function E(G,te){return{$$typeof:t,type:G.type,key:te,ref:G.ref,props:G.props,_owner:G._owner}}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function R(G){var te={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ce){return te[ce]})}var V=/\/+/g;function $(G,te){return typeof G=="object"&&G!==null&&G.key!=null?R(""+G.key):te.toString(36)}function q(G,te,ce,Z,pe){var Ce=typeof G;(Ce==="undefined"||Ce==="boolean")&&(G=null);var ge=!1;if(G===null)ge=!0;else switch(Ce){case"string":case"number":ge=!0;break;case"object":switch(G.$$typeof){case t:case e:ge=!0}}if(ge)return ge=G,pe=pe(ge),G=Z===""?"."+$(ge,0):Z,y(pe)?(ce="",G!=null&&(ce=G.replace(V,"$&/")+"/"),q(pe,te,ce,"",function(Ke){return Ke})):pe!=null&&(L(pe)&&(pe=E(pe,ce+(!pe.key||ge&&ge.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+G)),te.push(pe)),1;if(ge=0,Z=Z===""?".":Z+":",y(G))for(var Te=0;Te<G.length;Te++){Ce=G[Te];var Ne=Z+$(Ce,Te);ge+=q(Ce,te,ce,Ne,pe)}else if(Ne=v(G),typeof Ne=="function")for(G=Ne.call(G),Te=0;!(Ce=G.next()).done;)Ce=Ce.value,Ne=Z+$(Ce,Te++),ge+=q(Ce,te,ce,Ne,pe);else if(Ce==="object")throw te=String(G),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return ge}function z(G,te,ce){if(G==null)return G;var Z=[],pe=0;return q(G,Z,"","",function(Ce){return te.call(ce,Ce,pe++)}),Z}function W(G){if(G._status===-1){var te=G._result;te=te(),te.then(function(ce){(G._status===0||G._status===-1)&&(G._status=1,G._result=ce)},function(ce){(G._status===0||G._status===-1)&&(G._status=2,G._result=ce)}),G._status===-1&&(G._status=0,G._result=te)}if(G._status===1)return G._result.default;throw G._result}var Q={current:null},H={transition:null},ee={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:H,ReactCurrentOwner:M};function ne(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:z,forEach:function(G,te,ce){z(G,function(){te.apply(this,arguments)},ce)},count:function(G){var te=0;return z(G,function(){te++}),te},toArray:function(G){return z(G,function(te){return te})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},mt.Component=I,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=B,mt.StrictMode=r,mt.Suspense=u,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,mt.act=ne,mt.cloneElement=function(G,te,ce){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Z=N({},G.props),pe=G.key,Ce=G.ref,ge=G._owner;if(te!=null){if(te.ref!==void 0&&(Ce=te.ref,ge=M.current),te.key!==void 0&&(pe=""+te.key),G.type&&G.type.defaultProps)var Te=G.type.defaultProps;for(Ne in te)w.call(te,Ne)&&!C.hasOwnProperty(Ne)&&(Z[Ne]=te[Ne]===void 0&&Te!==void 0?Te[Ne]:te[Ne])}var Ne=arguments.length-2;if(Ne===1)Z.children=ce;else if(1<Ne){Te=Array(Ne);for(var Ke=0;Ke<Ne;Ke++)Te[Ke]=arguments[Ke+2];Z.children=Te}return{$$typeof:t,type:G.type,key:pe,ref:Ce,props:Z,_owner:ge}},mt.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},mt.createElement=_,mt.createFactory=function(G){var te=_.bind(null,G);return te.type=G,te},mt.createRef=function(){return{current:null}},mt.forwardRef=function(G){return{$$typeof:d,render:G}},mt.isValidElement=L,mt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:W}},mt.memo=function(G,te){return{$$typeof:m,type:G,compare:te===void 0?null:te}},mt.startTransition=function(G){var te=H.transition;H.transition={};try{G()}finally{H.transition=te}},mt.unstable_act=ne,mt.useCallback=function(G,te){return Q.current.useCallback(G,te)},mt.useContext=function(G){return Q.current.useContext(G)},mt.useDebugValue=function(){},mt.useDeferredValue=function(G){return Q.current.useDeferredValue(G)},mt.useEffect=function(G,te){return Q.current.useEffect(G,te)},mt.useId=function(){return Q.current.useId()},mt.useImperativeHandle=function(G,te,ce){return Q.current.useImperativeHandle(G,te,ce)},mt.useInsertionEffect=function(G,te){return Q.current.useInsertionEffect(G,te)},mt.useLayoutEffect=function(G,te){return Q.current.useLayoutEffect(G,te)},mt.useMemo=function(G,te){return Q.current.useMemo(G,te)},mt.useReducer=function(G,te,ce){return Q.current.useReducer(G,te,ce)},mt.useRef=function(G){return Q.current.useRef(G)},mt.useState=function(G){return Q.current.useState(G)},mt.useSyncExternalStore=function(G,te,ce){return Q.current.useSyncExternalStore(G,te,ce)},mt.useTransition=function(){return Q.current.useTransition()},mt.version="18.3.1",mt}var Gb;function Jv(){return Gb||(Gb=1,Ug.exports=O4()),Ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function U4(){if(Wb)return _d;Wb=1;var t=Jv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,m){var p,x={},v=null,j=null;m!==void 0&&(v=""+m),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(j=u.ref);for(p in u)r.call(u,p)&&!o.hasOwnProperty(p)&&(x[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)x[p]===void 0&&(x[p]=u[p]);return{$$typeof:e,type:d,key:v,ref:j,props:x,_owner:i.current}}return _d.Fragment=n,_d.jsx=c,_d.jsxs=c,_d}var qb;function z4(){return qb||(qb=1,Og.exports=U4()),Og.exports}var s=z4(),A=Jv();const re=Yv(A);var lm={},zg={exports:{}},$n={},Hg={exports:{}},Gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function H4(){return Kb||(Kb=1,(function(t){function e(H,ee){var ne=H.length;H.push(ee);e:for(;0<ne;){var G=ne-1>>>1,te=H[G];if(0<i(te,ee))H[G]=ee,H[ne]=te,ne=G;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],ne=H.pop();if(ne!==ee){H[0]=ne;e:for(var G=0,te=H.length,ce=te>>>1;G<ce;){var Z=2*(G+1)-1,pe=H[Z],Ce=Z+1,ge=H[Ce];if(0>i(pe,ne))Ce<te&&0>i(ge,pe)?(H[G]=ge,H[Ce]=ne,G=Ce):(H[G]=pe,H[Z]=ne,G=Z);else if(Ce<te&&0>i(ge,ne))H[G]=ge,H[Ce]=ne,G=Ce;else break e}}return ee}function i(H,ee){var ne=H.sortIndex-ee.sortIndex;return ne!==0?ne:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var u=[],m=[],p=1,x=null,v=3,j=!1,N=!1,P=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var ee=n(m);ee!==null;){if(ee.callback===null)r(m);else if(ee.startTime<=H)r(m),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(m)}}function y(H){if(P=!1,T(H),!N)if(n(u)!==null)N=!0,W(w);else{var ee=n(m);ee!==null&&Q(y,ee.startTime-H)}}function w(H,ee){N=!1,P&&(P=!1,F(_),_=-1),j=!0;var ne=v;try{for(T(ee),x=n(u);x!==null&&(!(x.expirationTime>ee)||H&&!R());){var G=x.callback;if(typeof G=="function"){x.callback=null,v=x.priorityLevel;var te=G(x.expirationTime<=ee);ee=t.unstable_now(),typeof te=="function"?x.callback=te:x===n(u)&&r(u),T(ee)}else r(u);x=n(u)}if(x!==null)var ce=!0;else{var Z=n(m);Z!==null&&Q(y,Z.startTime-ee),ce=!1}return ce}finally{x=null,v=ne,j=!1}}var M=!1,C=null,_=-1,E=5,L=-1;function R(){return!(t.unstable_now()-L<E)}function V(){if(C!==null){var H=t.unstable_now();L=H;var ee=!0;try{ee=C(!0,H)}finally{ee?$():(M=!1,C=null)}}else M=!1}var $;if(typeof B=="function")$=function(){B(V)};else if(typeof MessageChannel!="undefined"){var q=new MessageChannel,z=q.port2;q.port1.onmessage=V,$=function(){z.postMessage(null)}}else $=function(){I(V,0)};function W(H){C=H,M||(M=!0,$())}function Q(H,ee){_=I(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){N||j||(N=!0,W(w))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var ne=v;v=ee;try{return H()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=v;v=H;try{return ee()}finally{v=ne}},t.unstable_scheduleCallback=function(H,ee,ne){var G=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?G+ne:G):ne=G,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ne+te,H={id:p++,callback:ee,priorityLevel:H,startTime:ne,expirationTime:te,sortIndex:-1},ne>G?(H.sortIndex=ne,e(m,H),n(u)===null&&H===n(m)&&(P?(F(_),_=-1):P=!0,Q(y,ne-G))):(H.sortIndex=te,e(u,H),N||j||(N=!0,W(w))),H},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(H){var ee=v;return function(){var ne=v;v=ee;try{return H.apply(this,arguments)}finally{v=ne}}}})(Gg)),Gg}var Qb;function G4(){return Qb||(Qb=1,Hg.exports=H4()),Hg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function W4(){if(Xb)return $n;Xb=1;var t=Jv(),e=G4();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function v(a){return u.call(x,a)?!0:u.call(p,a)?!1:m.test(a)?x[a]=!0:(p[a]=!0,!1)}function j(a,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function N(a,l,h,g){if(l===null||typeof l=="undefined"||j(a,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(a,l,h,g,b,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new P(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new P(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new P(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new P(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new P(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new P(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new P(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new P(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new P(a,5,!1,a.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function B(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(F,B);I[l]=new P(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(F,B);I[l]=new P(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(F,B);I[l]=new P(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new P(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new P(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,l,h,g){var b=I.hasOwnProperty(l)?I[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,h,b,g)&&(h=null),g||b===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):b.mustUseProperty?a[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,g=b.attributeNamespace,h===null?a.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?a.setAttributeNS(g,l,h):a.setAttribute(l,h))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),H=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,G;function te(a){if(G===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+a}var ce=!1;function Z(a,l){if(!a||ce)return"";ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(le){var g=le}Reflect.construct(a,[],l)}else{try{l.call()}catch(le){g=le}a.call(l.prototype)}else{try{throw Error()}catch(le){g=le}a()}}catch(le){if(le&&g&&typeof le.stack=="string"){for(var b=le.stack.split(`
`),k=g.stack.split(`
`),O=b.length-1,K=k.length-1;1<=O&&0<=K&&b[O]!==k[K];)K--;for(;1<=O&&0<=K;O--,K--)if(b[O]!==k[K]){if(O!==1||K!==1)do if(O--,K--,0>K||b[O]!==k[K]){var X=`
`+b[O].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=O&&0<=K);break}}}finally{ce=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?te(a):""}function pe(a){switch(a.tag){case 5:return te(a.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return a=Z(a.type,!1),a;case 11:return a=Z(a.type.render,!1),a;case 1:return a=Z(a.type,!0),a;default:return""}}function Ce(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case M:return"Portal";case E:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case R:return(a.displayName||"Context")+".Consumer";case L:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return l=a.displayName||null,l!==null?l:Ce(a.type)||"Memo";case W:l=a._payload,a=a._init;try{return Ce(a(l))}catch(h){}}return null}function ge(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(l);case 8:return l===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ne(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ke(a){var l=Ne(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,k=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){g=""+O,k.call(this,O)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function It(a){a._valueTracker||(a._valueTracker=Ke(a))}function he(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return a&&(g=Ne(a)?a.checked?"true":"false":a.value),a=g,a!==h?(l.setValue(a),!0):!1}function De(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(l){return a.body}}function Ue(a,l){var h=l.checked;return ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h!=null?h:a._wrapperState.initialChecked})}function Rt(a,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Te(l.value!=null?l.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Vt(a,l){l=l.checked,l!=null&&T(a,"checked",l,!1)}function ys(a,l){Vt(a,l);var h=Te(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?In(a,l.type,h):l.hasOwnProperty("defaultValue")&&In(a,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Lr(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function In(a,l,h){(l!=="number"||De(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var gn=Array.isArray;function xn(a,l,h,g){if(a=a.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=l.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Te(h),l=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Dr(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function cr(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(gn(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:Te(h)}}function dr(a,l){var h=Te(l.value),g=Te(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function Es(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Jt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Jt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Dt,oi=(function(a){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(l,h,g,b){MSApp.execUnsafeLocalFunction(function(){return a(l,h,g,b)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Dt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function qn(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(a){hr.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ur[l]=ur[a]})});function li(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ur.hasOwnProperty(a)&&ur[a]?(""+l).trim():l+"px"}function Ai(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=li(h,l[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,b):a[h]=b}}var ci=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mr(a,l){if(l){if(ci[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function qt(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function Ii(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ri=null,vn=null,Kn=null;function Pi(a){if(a=ad(a)){if(typeof Ri!="function")throw Error(n(280));var l=a.stateNode;l&&(l=jh(l),Ri(a.stateNode,a.type,l))}}function Qn(a){vn?Kn?Kn.push(a):Kn=[a]:vn=a}function Fc(){if(vn){var a=vn,l=Kn;if(Kn=vn=null,Pi(a),l)for(a=0;a<l.length;a++)Pi(l[a])}}function to(a,l){return a(l)}function Bc(){}var Li=!1;function $c(a,l,h){if(Li)return a(l,h);Li=!0;try{return to(a,l,h)}finally{Li=!1,(vn!==null||Kn!==null)&&(Bc(),Fc())}}function ps(a,l){var h=a.stateNode;if(h===null)return null;var g=jh(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var il=!1;if(d)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){il=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch(a){il=!1}function so(a,l,h,g,b,k,O,K,X){var le=Array.prototype.slice.call(arguments,3);try{l.apply(h,le)}catch(ve){this.onError(ve)}}var no=!1,al=null,Br=!1,Vc=null,ff={onError:function(a){no=!0,al=a}};function ol(a,l,h,g,b,k,O,K,X){no=!1,al=null,so.apply(ff,arguments)}function Ku(a,l,h,g,b,k,O,K,X){if(ol.apply(this,arguments),no){if(no){var le=al;no=!1,al=null}else throw Error(n(198));Br||(Br=!0,Vc=le)}}function $r(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function ro(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Vr(a){if($r(a)!==a)throw Error(n(188))}function Qu(a){var l=a.alternate;if(!l){if(l=$r(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,g=l;;){var b=h.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===h)return Vr(b),a;if(k===g)return Vr(b),l;k=k.sibling}throw Error(n(188))}if(h.return!==g.return)h=b,g=k;else{for(var O=!1,K=b.child;K;){if(K===h){O=!0,h=b,g=k;break}if(K===g){O=!0,g=b,h=k;break}K=K.sibling}if(!O){for(K=k.child;K;){if(K===h){O=!0,h=k,g=b;break}if(K===g){O=!0,g=k,h=b;break}K=K.sibling}if(!O)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function Oc(a){return a=Qu(a),a!==null?ll(a):null}function ll(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ll(a);if(l!==null)return l;a=a.sibling}return null}var cl=e.unstable_scheduleCallback,Uc=e.unstable_cancelCallback,Xu=e.unstable_shouldYield,gf=e.unstable_requestPaint,Ot=e.unstable_now,Yu=e.unstable_getCurrentPriorityLevel,io=e.unstable_ImmediatePriority,ua=e.unstable_UserBlockingPriority,pr=e.unstable_NormalPriority,zc=e.unstable_LowPriority,Ju=e.unstable_IdlePriority,ao=null,Xn=null;function Zu(a){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(ao,a,void 0,(a.current.flags&128)===128)}catch(l){}}var yn=Math.clz32?Math.clz32:th,Hc=Math.log,eh=Math.LN2;function th(a){return a>>>=0,a===0?32:31-(Hc(a)/eh|0)|0}var dl=64,ul=4194304;function ha(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function oo(a,l){var h=a.pendingLanes;if(h===0)return 0;var g=0,b=a.suspendedLanes,k=a.pingedLanes,O=h&268435455;if(O!==0){var K=O&~b;K!==0?g=ha(K):(k&=O,k!==0&&(g=ha(k)))}else O=h&~b,O!==0?g=ha(O):k!==0&&(g=ha(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)h=31-yn(l),b=1<<h,g|=a[h],l&=~b;return g}function xf(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(a,l){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var O=31-yn(k),K=1<<O,X=b[O];X===-1?((K&h)===0||(K&g)!==0)&&(b[O]=xf(K,l)):X<=l&&(a.expiredLanes|=K),k&=~K}}function Yn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function lo(){var a=dl;return dl<<=1,(dl&4194240)===0&&(dl=64),a}function ma(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function pa(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-yn(l),a[l]=h}function Ft(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var b=31-yn(h),k=1<<b;l[b]=0,g[b]=-1,a[b]=-1,h&=~k}}function fa(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var g=31-yn(h),b=1<<g;b&l|a[g]&l&&(a[g]|=l),h&=~b}}var yt=0;function ga(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var sh,hl,nh,rh,ih,Gc=!1,di=[],zs=null,Or=null,Ur=null,xa=new Map,fr=new Map,ui=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ah(a,l){switch(a){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":xa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(l.pointerId)}}function Rn(a,l,h,g,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},l!==null&&(l=ad(l),l!==null&&hl(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function yf(a,l,h,g,b){switch(l){case"focusin":return zs=Rn(zs,a,l,h,g,b),!0;case"dragenter":return Or=Rn(Or,a,l,h,g,b),!0;case"mouseover":return Ur=Rn(Ur,a,l,h,g,b),!0;case"pointerover":var k=b.pointerId;return xa.set(k,Rn(xa.get(k)||null,a,l,h,g,b)),!0;case"gotpointercapture":return k=b.pointerId,fr.set(k,Rn(fr.get(k)||null,a,l,h,g,b)),!0}return!1}function oh(a){var l=po(a.target);if(l!==null){var h=$r(l);if(h!==null){if(l=h.tag,l===13){if(l=ro(h),l!==null){a.blockedOn=l,ih(a.priority,function(){nh(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Mi(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=ml(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);mr=g,h.target.dispatchEvent(g),mr=null}else return l=ad(h),l!==null&&hl(l),a.blockedOn=h,!1;l.shift()}return!0}function co(a,l,h){Mi(a)&&h.delete(l)}function lh(){Gc=!1,zs!==null&&Mi(zs)&&(zs=null),Or!==null&&Mi(Or)&&(Or=null),Ur!==null&&Mi(Ur)&&(Ur=null),xa.forEach(co),fr.forEach(co)}function zr(a,l){a.blockedOn===l&&(a.blockedOn=null,Gc||(Gc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lh)))}function Hr(a){function l(b){return zr(b,a)}if(0<di.length){zr(di[0],a);for(var h=1;h<di.length;h++){var g=di[h];g.blockedOn===a&&(g.blockedOn=null)}}for(zs!==null&&zr(zs,a),Or!==null&&zr(Or,a),Ur!==null&&zr(Ur,a),xa.forEach(l),fr.forEach(l),h=0;h<ui.length;h++)g=ui[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<ui.length&&(h=ui[0],h.blockedOn===null);)oh(h),h.blockedOn===null&&ui.shift()}var Fi=y.ReactCurrentBatchConfig,va=!0;function Zt(a,l,h,g){var b=yt,k=Fi.transition;Fi.transition=null;try{yt=1,Wc(a,l,h,g)}finally{yt=b,Fi.transition=k}}function bf(a,l,h,g){var b=yt,k=Fi.transition;Fi.transition=null;try{yt=4,Wc(a,l,h,g)}finally{yt=b,Fi.transition=k}}function Wc(a,l,h,g){if(va){var b=ml(a,l,h,g);if(b===null)If(a,l,g,uo,h),ah(a,g);else if(yf(b,a,l,h,g))g.stopPropagation();else if(ah(a,g),l&4&&-1<vf.indexOf(a)){for(;b!==null;){var k=ad(b);if(k!==null&&sh(k),k=ml(a,l,h,g),k===null&&If(a,l,g,uo,h),k===b)break;b=k}b!==null&&g.stopPropagation()}else If(a,l,g,null,h)}}var uo=null;function ml(a,l,h,g){if(uo=null,a=Ii(g),a=po(a),a!==null)if(l=$r(a),l===null)a=null;else if(h=l.tag,h===13){if(a=ro(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return uo=a,null}function qc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yu()){case io:return 1;case ua:return 4;case pr:case zc:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var Jn=null,pl=null,Pn=null;function Kc(){if(Pn)return Pn;var a,l=pl,h=l.length,g,b="value"in Jn?Jn.value:Jn.textContent,k=b.length;for(a=0;a<h&&l[a]===b[a];a++);var O=h-a;for(g=1;g<=O&&l[h-g]===b[k-g];g++);return Pn=b.slice(a,1<g?1-g:void 0)}function fl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function hi(){return!0}function Qc(){return!1}function Hs(a){function l(h,g,b,k,O){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(h=a[K],this[K]=h?h(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?hi:Qc,this.isPropagationStopped=Qc,this}return ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),l}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=Hs(Gr),mi=ne({},Gr,{view:0,detail:0}),_f=Hs(mi),xl,Bi,ya,ho=ne({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ya&&(ya&&a.type==="mousemove"?(xl=a.screenX-ya.screenX,Bi=a.screenY-ya.screenY):Bi=xl=0,ya=a),xl)},movementY:function(a){return"movementY"in a?a.movementY:Bi}}),vl=Hs(ho),Xc=ne({},ho,{dataTransfer:0}),ch=Hs(Xc),yl=ne({},mi,{relatedTarget:0}),bl=Hs(yl),dh=ne({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),$i=Hs(dh),uh=ne({},Gr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hh=Hs(uh),mh=ne({},Gr,{data:0}),Yc=Hs(mh),_l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ph[a])?!!l[a]:!1}function pi(){return fh}var f=ne({},mi,{key:function(a){if(a.key){var l=_l[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=fl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(a){return a.type==="keypress"?fl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?fl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),S=Hs(f),D=ne({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Hs(D),ie=ne({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),de=Hs(ie),Ie=ne({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pt=Hs(Ie),As=ne({},ho,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),wt=Hs(As),Ds=[9,13,27,32],bs=d&&"CompositionEvent"in window,gr=null;d&&"documentMode"in document&&(gr=document.documentMode);var Zn=d&&"TextEvent"in window&&!gr,mo=d&&(!bs||gr&&8<gr&&11>=gr),wl=" ",B0=!1;function $0(a,l){switch(a){case"keyup":return Ds.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var jl=!1;function B5(a,l){switch(a){case"compositionend":return V0(l);case"keypress":return l.which!==32?null:(B0=!0,wl);case"textInput":return a=l.data,a===wl&&B0?null:a;default:return null}}function $5(a,l){if(jl)return a==="compositionend"||!bs&&$0(a,l)?(a=Kc(),Pn=pl=Jn=null,jl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return mo&&l.locale!=="ko"?null:l.data;default:return null}}var V5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!V5[a.type]:l==="textarea"}function U0(a,l,h,g){Qn(g),l=bh(l,"onChange"),0<l.length&&(h=new gl("onChange","change",null,h,g),a.push({event:h,listeners:l}))}var Jc=null,Zc=null;function O5(a){a1(a,0)}function gh(a){var l=Tl(a);if(he(l))return a}function U5(a,l){if(a==="change")return l}var z0=!1;if(d){var wf;if(d){var jf="oninput"in document;if(!jf){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),jf=typeof H0.oninput=="function"}wf=jf}else wf=!1;z0=wf&&(!document.documentMode||9<document.documentMode)}function G0(){Jc&&(Jc.detachEvent("onpropertychange",W0),Zc=Jc=null)}function W0(a){if(a.propertyName==="value"&&gh(Zc)){var l=[];U0(l,Zc,a,Ii(a)),$c(O5,l)}}function z5(a,l,h){a==="focusin"?(G0(),Jc=l,Zc=h,Jc.attachEvent("onpropertychange",W0)):a==="focusout"&&G0()}function H5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gh(Zc)}function G5(a,l){if(a==="click")return gh(l)}function W5(a,l){if(a==="input"||a==="change")return gh(l)}function q5(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Wr=typeof Object.is=="function"?Object.is:q5;function ed(a,l){if(Wr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!u.call(l,b)||!Wr(a[b],l[b]))return!1}return!0}function q0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function K0(a,l){var h=q0(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=l&&g>=l)return{node:h,offset:l-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=q0(h)}}function Q0(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Q0(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function X0(){for(var a=window,l=De();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch(g){h=!1}if(h)a=l.contentWindow;else break;l=De(a.document)}return l}function Sf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function K5(a){var l=X0(),h=a.focusedElem,g=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&Q0(h.ownerDocument.documentElement,h)){if(g!==null&&Sf(h)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=h.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!a.extend&&k>g&&(b=g,g=k,k=b),b=K0(h,k);var O=K0(h,g);b&&O&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==O.node||a.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),k>g?(a.addRange(l),a.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Q5=d&&"documentMode"in document&&11>=document.documentMode,Sl=null,Nf=null,td=null,kf=!1;function Y0(a,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;kf||Sl==null||Sl!==De(g)||(g=Sl,"selectionStart"in g&&Sf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),td&&ed(td,g)||(td=g,g=bh(Nf,"onSelect"),0<g.length&&(l=new gl("onSelect","select",null,l,h),a.push({event:l,listeners:g}),l.target=Sl)))}function xh(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Nl={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Cf={},J0={};d&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function vh(a){if(Cf[a])return Cf[a];if(!Nl[a])return a;var l=Nl[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in J0)return Cf[a]=l[h];return a}var Z0=vh("animationend"),e1=vh("animationiteration"),t1=vh("animationstart"),s1=vh("transitionend"),n1=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(a,l){n1.set(a,l),o(l,[a])}for(var Tf=0;Tf<r1.length;Tf++){var Ef=r1[Tf],X5=Ef.toLowerCase(),Y5=Ef[0].toUpperCase()+Ef.slice(1);ba(X5,"on"+Y5)}ba(Z0,"onAnimationEnd"),ba(e1,"onAnimationIteration"),ba(t1,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(s1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J5=new Set("cancel close invalid load scroll toggle".split(" ").concat(sd));function i1(a,l,h){var g=a.type||"unknown-event";a.currentTarget=h,Ku(g,l,void 0,a),a.currentTarget=null}function a1(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var O=g.length-1;0<=O;O--){var K=g[O],X=K.instance,le=K.currentTarget;if(K=K.listener,X!==k&&b.isPropagationStopped())break e;i1(b,K,le),k=X}else for(O=0;O<g.length;O++){if(K=g[O],X=K.instance,le=K.currentTarget,K=K.listener,X!==k&&b.isPropagationStopped())break e;i1(b,K,le),k=X}}}if(Br)throw a=Vc,Br=!1,Vc=null,a}function Kt(a,l){var h=l[Ff];h===void 0&&(h=l[Ff]=new Set);var g=a+"__bubble";h.has(g)||(o1(l,a,2,!1),h.add(g))}function Af(a,l,h){var g=0;l&&(g|=4),o1(h,a,g,l)}var yh="_reactListening"+Math.random().toString(36).slice(2);function nd(a){if(!a[yh]){a[yh]=!0,r.forEach(function(h){h!=="selectionchange"&&(J5.has(h)||Af(h,!1,a),Af(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[yh]||(l[yh]=!0,Af("selectionchange",!1,l))}}function o1(a,l,h,g){switch(qc(l)){case 1:var b=Zt;break;case 4:b=bf;break;default:b=Wc}h=b.bind(null,l,h,a),b=void 0,!il||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(l,h,{capture:!0,passive:b}):a.addEventListener(l,h,!0):b!==void 0?a.addEventListener(l,h,{passive:b}):a.addEventListener(l,h,!1)}function If(a,l,h,g,b){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var K=g.stateNode.containerInfo;if(K===b||K.nodeType===8&&K.parentNode===b)break;if(O===4)for(O=g.return;O!==null;){var X=O.tag;if((X===3||X===4)&&(X=O.stateNode.containerInfo,X===b||X.nodeType===8&&X.parentNode===b))return;O=O.return}for(;K!==null;){if(O=po(K),O===null)return;if(X=O.tag,X===5||X===6){g=k=O;continue e}K=K.parentNode}}g=g.return}$c(function(){var le=k,ve=Ii(h),we=[];e:{var xe=n1.get(a);if(xe!==void 0){var Me=gl,$e=a;switch(a){case"keypress":if(fl(h)===0)break e;case"keydown":case"keyup":Me=S;break;case"focusin":$e="focus",Me=bl;break;case"focusout":$e="blur",Me=bl;break;case"beforeblur":case"afterblur":Me=bl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=de;break;case Z0:case e1:case t1:Me=$i;break;case s1:Me=Pt;break;case"scroll":Me=_f;break;case"wheel":Me=wt;break;case"copy":case"cut":case"paste":Me=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=U}var Ve=(l&4)!==0,fs=!Ve&&a==="scroll",ae=Ve?xe!==null?xe+"Capture":null:xe;Ve=[];for(var J=le,oe;J!==null;){oe=J;var Se=oe.stateNode;if(oe.tag===5&&Se!==null&&(oe=Se,ae!==null&&(Se=ps(J,ae),Se!=null&&Ve.push(rd(J,Se,oe)))),fs)break;J=J.return}0<Ve.length&&(xe=new Me(xe,$e,null,h,ve),we.push({event:xe,listeners:Ve}))}}if((l&7)===0){e:{if(xe=a==="mouseover"||a==="pointerover",Me=a==="mouseout"||a==="pointerout",xe&&h!==mr&&($e=h.relatedTarget||h.fromElement)&&(po($e)||$e[Vi]))break e;if((Me||xe)&&(xe=ve.window===ve?ve:(xe=ve.ownerDocument)?xe.defaultView||xe.parentWindow:window,Me?($e=h.relatedTarget||h.toElement,Me=le,$e=$e?po($e):null,$e!==null&&(fs=$r($e),$e!==fs||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Me=null,$e=le),Me!==$e)){if(Ve=vl,Se="onMouseLeave",ae="onMouseEnter",J="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=U,Se="onPointerLeave",ae="onPointerEnter",J="pointer"),fs=Me==null?xe:Tl(Me),oe=$e==null?xe:Tl($e),xe=new Ve(Se,J+"leave",Me,h,ve),xe.target=fs,xe.relatedTarget=oe,Se=null,po(ve)===le&&(Ve=new Ve(ae,J+"enter",$e,h,ve),Ve.target=oe,Ve.relatedTarget=fs,Se=Ve),fs=Se,Me&&$e)t:{for(Ve=Me,ae=$e,J=0,oe=Ve;oe;oe=kl(oe))J++;for(oe=0,Se=ae;Se;Se=kl(Se))oe++;for(;0<J-oe;)Ve=kl(Ve),J--;for(;0<oe-J;)ae=kl(ae),oe--;for(;J--;){if(Ve===ae||ae!==null&&Ve===ae.alternate)break t;Ve=kl(Ve),ae=kl(ae)}Ve=null}else Ve=null;Me!==null&&l1(we,xe,Me,Ve,!1),$e!==null&&fs!==null&&l1(we,fs,$e,Ve,!0)}}e:{if(xe=le?Tl(le):window,Me=xe.nodeName&&xe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&xe.type==="file")var He=U5;else if(O0(xe))if(z0)He=W5;else{He=H5;var Qe=z5}else(Me=xe.nodeName)&&Me.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(He=G5);if(He&&(He=He(a,le))){U0(we,He,h,ve);break e}Qe&&Qe(a,xe,le),a==="focusout"&&(Qe=xe._wrapperState)&&Qe.controlled&&xe.type==="number"&&In(xe,"number",xe.value)}switch(Qe=le?Tl(le):window,a){case"focusin":(O0(Qe)||Qe.contentEditable==="true")&&(Sl=Qe,Nf=le,td=null);break;case"focusout":td=Nf=Sl=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Y0(we,h,ve);break;case"selectionchange":if(Q5)break;case"keydown":case"keyup":Y0(we,h,ve)}var Xe;if(bs)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else jl?$0(a,h)&&(Ze="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ze="onCompositionStart");Ze&&(mo&&h.locale!=="ko"&&(jl||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&jl&&(Xe=Kc()):(Jn=ve,pl="value"in Jn?Jn.value:Jn.textContent,jl=!0)),Qe=bh(le,Ze),0<Qe.length&&(Ze=new Yc(Ze,a,null,h,ve),we.push({event:Ze,listeners:Qe}),Xe?Ze.data=Xe:(Xe=V0(h),Xe!==null&&(Ze.data=Xe)))),(Xe=Zn?B5(a,h):$5(a,h))&&(le=bh(le,"onBeforeInput"),0<le.length&&(ve=new Yc("onBeforeInput","beforeinput",null,h,ve),we.push({event:ve,listeners:le}),ve.data=Xe))}a1(we,l)})}function rd(a,l,h){return{instance:a,listener:l,currentTarget:h}}function bh(a,l){for(var h=l+"Capture",g=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=ps(a,h),k!=null&&g.unshift(rd(a,k,b)),k=ps(a,l),k!=null&&g.push(rd(a,k,b))),a=a.return}return g}function kl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function l1(a,l,h,g,b){for(var k=l._reactName,O=[];h!==null&&h!==g;){var K=h,X=K.alternate,le=K.stateNode;if(X!==null&&X===g)break;K.tag===5&&le!==null&&(K=le,b?(X=ps(h,k),X!=null&&O.unshift(rd(h,X,K))):b||(X=ps(h,k),X!=null&&O.push(rd(h,X,K)))),h=h.return}O.length!==0&&a.push({event:l,listeners:O})}var Z5=/\r\n?/g,e4=/\u0000|\uFFFD/g;function c1(a){return(typeof a=="string"?a:""+a).replace(Z5,`
`).replace(e4,"")}function _h(a,l,h){if(l=c1(l),c1(a)!==l&&h)throw Error(n(425))}function wh(){}var Rf=null,Pf=null;function Lf(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,t4=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof d1!="undefined"?function(a){return d1.resolve(null).then(a).catch(n4)}:Df;function n4(a){setTimeout(function(){throw a})}function Mf(a,l){var h=l,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){a.removeChild(b),Hr(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);Hr(l)}function _a(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function u1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),fi="__reactFiber$"+Cl,id="__reactProps$"+Cl,Vi="__reactContainer$"+Cl,Ff="__reactEvents$"+Cl,r4="__reactListeners$"+Cl,i4="__reactHandles$"+Cl;function po(a){var l=a[fi];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Vi]||h[fi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=u1(a);a!==null;){if(h=a[fi])return h;a=u1(a)}return l}a=h,h=a.parentNode}return null}function ad(a){return a=a[fi]||a[Vi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Tl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function jh(a){return a[id]||null}var Bf=[],El=-1;function wa(a){return{current:a}}function Qt(a){0>El||(a.current=Bf[El],Bf[El]=null,El--)}function Ut(a,l){El++,Bf[El]=a.current,a.current=l}var ja={},nn=wa(ja),Ln=wa(!1),fo=ja;function Al(a,l){var h=a.type.contextTypes;if(!h)return ja;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in h)b[k]=l[k];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function Dn(a){return a=a.childContextTypes,a!=null}function Sh(){Qt(Ln),Qt(nn)}function h1(a,l,h){if(nn.current!==ja)throw Error(n(168));Ut(nn,l),Ut(Ln,h)}function m1(a,l,h){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(n(108,ge(a)||"Unknown",b));return ne({},h,g)}function Nh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ja,fo=nn.current,Ut(nn,a),Ut(Ln,Ln.current),!0}function p1(a,l,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=m1(a,l,fo),g.__reactInternalMemoizedMergedChildContext=a,Qt(Ln),Qt(nn),Ut(nn,a)):Qt(Ln),Ut(Ln,h)}var Oi=null,kh=!1,$f=!1;function f1(a){Oi===null?Oi=[a]:Oi.push(a)}function a4(a){kh=!0,f1(a)}function Sa(){if(!$f&&Oi!==null){$f=!0;var a=0,l=yt;try{var h=Oi;for(yt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Oi=null,kh=!1}catch(b){throw Oi!==null&&(Oi=Oi.slice(a+1)),cl(io,Sa),b}finally{yt=l,$f=!1}}return null}var Il=[],Rl=0,Ch=null,Th=0,xr=[],vr=0,go=null,Ui=1,zi="";function xo(a,l){Il[Rl++]=Th,Il[Rl++]=Ch,Ch=a,Th=l}function g1(a,l,h){xr[vr++]=Ui,xr[vr++]=zi,xr[vr++]=go,go=a;var g=Ui;a=zi;var b=32-yn(g)-1;g&=~(1<<b),h+=1;var k=32-yn(l)+b;if(30<k){var O=b-b%5;k=(g&(1<<O)-1).toString(32),g>>=O,b-=O,Ui=1<<32-yn(l)+b|h<<b|g,zi=k+a}else Ui=1<<k|h<<b|g,zi=a}function Vf(a){a.return!==null&&(xo(a,1),g1(a,1,0))}function Of(a){for(;a===Ch;)Ch=Il[--Rl],Il[Rl]=null,Th=Il[--Rl],Il[Rl]=null;for(;a===go;)go=xr[--vr],xr[vr]=null,zi=xr[--vr],xr[vr]=null,Ui=xr[--vr],xr[vr]=null}var er=null,tr=null,es=!1,qr=null;function x1(a,l){var h=wr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function v1(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,er=a,tr=_a(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,er=a,tr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=go!==null?{id:Ui,overflow:zi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=wr(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,er=a,tr=null,!0):!1;default:return!1}}function Uf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function zf(a){if(es){var l=tr;if(l){var h=l;if(!v1(a,l)){if(Uf(a))throw Error(n(418));l=_a(h.nextSibling);var g=er;l&&v1(a,l)?x1(g,h):(a.flags=a.flags&-4097|2,es=!1,er=a)}}else{if(Uf(a))throw Error(n(418));a.flags=a.flags&-4097|2,es=!1,er=a}}}function y1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;er=a}function Eh(a){if(a!==er)return!1;if(!es)return y1(a),es=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Lf(a.type,a.memoizedProps)),l&&(l=tr)){if(Uf(a))throw b1(),Error(n(418));for(;l;)x1(a,l),l=_a(l.nextSibling)}if(y1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){tr=_a(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}tr=null}}else tr=er?_a(a.stateNode.nextSibling):null;return!0}function b1(){for(var a=tr;a;)a=_a(a.nextSibling)}function Pl(){tr=er=null,es=!1}function Hf(a){qr===null?qr=[a]:qr.push(a)}var o4=y.ReactCurrentBatchConfig;function od(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var b=g,k=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var K=b.refs;O===null?delete K[k]:K[k]=O},l._stringRef=k,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Ah(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function _1(a){var l=a._init;return l(a._payload)}function w1(a){function l(ae,J){if(a){var oe=ae.deletions;oe===null?(ae.deletions=[J],ae.flags|=16):oe.push(J)}}function h(ae,J){if(!a)return null;for(;J!==null;)l(ae,J),J=J.sibling;return null}function g(ae,J){for(ae=new Map;J!==null;)J.key!==null?ae.set(J.key,J):ae.set(J.index,J),J=J.sibling;return ae}function b(ae,J){return ae=Ra(ae,J),ae.index=0,ae.sibling=null,ae}function k(ae,J,oe){return ae.index=oe,a?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<J?(ae.flags|=2,J):oe):(ae.flags|=2,J)):(ae.flags|=1048576,J)}function O(ae){return a&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,J,oe,Se){return J===null||J.tag!==6?(J=Dg(oe,ae.mode,Se),J.return=ae,J):(J=b(J,oe),J.return=ae,J)}function X(ae,J,oe,Se){var He=oe.type;return He===C?ve(ae,J,oe.props.children,Se,oe.key):J!==null&&(J.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===W&&_1(He)===J.type)?(Se=b(J,oe.props),Se.ref=od(ae,J,oe),Se.return=ae,Se):(Se=em(oe.type,oe.key,oe.props,null,ae.mode,Se),Se.ref=od(ae,J,oe),Se.return=ae,Se)}function le(ae,J,oe,Se){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=Mg(oe,ae.mode,Se),J.return=ae,J):(J=b(J,oe.children||[]),J.return=ae,J)}function ve(ae,J,oe,Se,He){return J===null||J.tag!==7?(J=No(oe,ae.mode,Se,He),J.return=ae,J):(J=b(J,oe),J.return=ae,J)}function we(ae,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Dg(""+J,ae.mode,oe),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return oe=em(J.type,J.key,J.props,null,ae.mode,oe),oe.ref=od(ae,null,J),oe.return=ae,oe;case M:return J=Mg(J,ae.mode,oe),J.return=ae,J;case W:var Se=J._init;return we(ae,Se(J._payload),oe)}if(gn(J)||ee(J))return J=No(J,ae.mode,oe,null),J.return=ae,J;Ah(ae,J)}return null}function xe(ae,J,oe,Se){var He=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return He!==null?null:K(ae,J,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return oe.key===He?X(ae,J,oe,Se):null;case M:return oe.key===He?le(ae,J,oe,Se):null;case W:return He=oe._init,xe(ae,J,He(oe._payload),Se)}if(gn(oe)||ee(oe))return He!==null?null:ve(ae,J,oe,Se,null);Ah(ae,oe)}return null}function Me(ae,J,oe,Se,He){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ae=ae.get(oe)||null,K(J,ae,""+Se,He);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case w:return ae=ae.get(Se.key===null?oe:Se.key)||null,X(J,ae,Se,He);case M:return ae=ae.get(Se.key===null?oe:Se.key)||null,le(J,ae,Se,He);case W:var Qe=Se._init;return Me(ae,J,oe,Qe(Se._payload),He)}if(gn(Se)||ee(Se))return ae=ae.get(oe)||null,ve(J,ae,Se,He,null);Ah(J,Se)}return null}function $e(ae,J,oe,Se){for(var He=null,Qe=null,Xe=J,Ze=J=0,Bs=null;Xe!==null&&Ze<oe.length;Ze++){Xe.index>Ze?(Bs=Xe,Xe=null):Bs=Xe.sibling;var Tt=xe(ae,Xe,oe[Ze],Se);if(Tt===null){Xe===null&&(Xe=Bs);break}a&&Xe&&Tt.alternate===null&&l(ae,Xe),J=k(Tt,J,Ze),Qe===null?He=Tt:Qe.sibling=Tt,Qe=Tt,Xe=Bs}if(Ze===oe.length)return h(ae,Xe),es&&xo(ae,Ze),He;if(Xe===null){for(;Ze<oe.length;Ze++)Xe=we(ae,oe[Ze],Se),Xe!==null&&(J=k(Xe,J,Ze),Qe===null?He=Xe:Qe.sibling=Xe,Qe=Xe);return es&&xo(ae,Ze),He}for(Xe=g(ae,Xe);Ze<oe.length;Ze++)Bs=Me(Xe,ae,Ze,oe[Ze],Se),Bs!==null&&(a&&Bs.alternate!==null&&Xe.delete(Bs.key===null?Ze:Bs.key),J=k(Bs,J,Ze),Qe===null?He=Bs:Qe.sibling=Bs,Qe=Bs);return a&&Xe.forEach(function(Pa){return l(ae,Pa)}),es&&xo(ae,Ze),He}function Ve(ae,J,oe,Se){var He=ee(oe);if(typeof He!="function")throw Error(n(150));if(oe=He.call(oe),oe==null)throw Error(n(151));for(var Qe=He=null,Xe=J,Ze=J=0,Bs=null,Tt=oe.next();Xe!==null&&!Tt.done;Ze++,Tt=oe.next()){Xe.index>Ze?(Bs=Xe,Xe=null):Bs=Xe.sibling;var Pa=xe(ae,Xe,Tt.value,Se);if(Pa===null){Xe===null&&(Xe=Bs);break}a&&Xe&&Pa.alternate===null&&l(ae,Xe),J=k(Pa,J,Ze),Qe===null?He=Pa:Qe.sibling=Pa,Qe=Pa,Xe=Bs}if(Tt.done)return h(ae,Xe),es&&xo(ae,Ze),He;if(Xe===null){for(;!Tt.done;Ze++,Tt=oe.next())Tt=we(ae,Tt.value,Se),Tt!==null&&(J=k(Tt,J,Ze),Qe===null?He=Tt:Qe.sibling=Tt,Qe=Tt);return es&&xo(ae,Ze),He}for(Xe=g(ae,Xe);!Tt.done;Ze++,Tt=oe.next())Tt=Me(Xe,ae,Ze,Tt.value,Se),Tt!==null&&(a&&Tt.alternate!==null&&Xe.delete(Tt.key===null?Ze:Tt.key),J=k(Tt,J,Ze),Qe===null?He=Tt:Qe.sibling=Tt,Qe=Tt);return a&&Xe.forEach(function(V4){return l(ae,V4)}),es&&xo(ae,Ze),He}function fs(ae,J,oe,Se){if(typeof oe=="object"&&oe!==null&&oe.type===C&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:e:{for(var He=oe.key,Qe=J;Qe!==null;){if(Qe.key===He){if(He=oe.type,He===C){if(Qe.tag===7){h(ae,Qe.sibling),J=b(Qe,oe.props.children),J.return=ae,ae=J;break e}}else if(Qe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===W&&_1(He)===Qe.type){h(ae,Qe.sibling),J=b(Qe,oe.props),J.ref=od(ae,Qe,oe),J.return=ae,ae=J;break e}h(ae,Qe);break}else l(ae,Qe);Qe=Qe.sibling}oe.type===C?(J=No(oe.props.children,ae.mode,Se,oe.key),J.return=ae,ae=J):(Se=em(oe.type,oe.key,oe.props,null,ae.mode,Se),Se.ref=od(ae,J,oe),Se.return=ae,ae=Se)}return O(ae);case M:e:{for(Qe=oe.key;J!==null;){if(J.key===Qe)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){h(ae,J.sibling),J=b(J,oe.children||[]),J.return=ae,ae=J;break e}else{h(ae,J);break}else l(ae,J);J=J.sibling}J=Mg(oe,ae.mode,Se),J.return=ae,ae=J}return O(ae);case W:return Qe=oe._init,fs(ae,J,Qe(oe._payload),Se)}if(gn(oe))return $e(ae,J,oe,Se);if(ee(oe))return Ve(ae,J,oe,Se);Ah(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,J!==null&&J.tag===6?(h(ae,J.sibling),J=b(J,oe),J.return=ae,ae=J):(h(ae,J),J=Dg(oe,ae.mode,Se),J.return=ae,ae=J),O(ae)):h(ae,J)}return fs}var Ll=w1(!0),j1=w1(!1),Ih=wa(null),Rh=null,Dl=null,Gf=null;function Wf(){Gf=Dl=Rh=null}function qf(a){var l=Ih.current;Qt(Ih),a._currentValue=l}function Kf(a,l,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===h)break;a=a.return}}function Ml(a,l){Rh=a,Gf=Dl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Mn=!0),a.firstContext=null)}function yr(a){var l=a._currentValue;if(Gf!==a)if(a={context:a,memoizedValue:l,next:null},Dl===null){if(Rh===null)throw Error(n(308));Dl=a,Rh.dependencies={lanes:0,firstContext:a}}else Dl=Dl.next=a;return l}var vo=null;function Qf(a){vo===null?vo=[a]:vo.push(a)}function S1(a,l,h,g){var b=l.interleaved;return b===null?(h.next=h,Qf(l)):(h.next=b.next,b.next=h),l.interleaved=h,Hi(a,g)}function Hi(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Na=!1;function Xf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Gi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ka(a,l,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(St&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Hi(a,h)}return b=g.interleaved,b===null?(l.next=l,Qf(g)):(l.next=b.next,b.next=l),g.interleaved=l,Hi(a,h)}function Ph(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,fa(a,h)}}function k1(a,l){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var O={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?b=k=O:k=k.next=O,h=h.next}while(h!==null);k===null?b=k=l:k=k.next=l}else b=k=l;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function Lh(a,l,h,g){var b=a.updateQueue;Na=!1;var k=b.firstBaseUpdate,O=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var X=K,le=X.next;X.next=null,O===null?k=le:O.next=le,O=X;var ve=a.alternate;ve!==null&&(ve=ve.updateQueue,K=ve.lastBaseUpdate,K!==O&&(K===null?ve.firstBaseUpdate=le:K.next=le,ve.lastBaseUpdate=X))}if(k!==null){var we=b.baseState;O=0,ve=le=X=null,K=k;do{var xe=K.lane,Me=K.eventTime;if((g&xe)===xe){ve!==null&&(ve=ve.next={eventTime:Me,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var $e=a,Ve=K;switch(xe=l,Me=h,Ve.tag){case 1:if($e=Ve.payload,typeof $e=="function"){we=$e.call(Me,we,xe);break e}we=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ve.payload,xe=typeof $e=="function"?$e.call(Me,we,xe):$e,xe==null)break e;we=ne({},we,xe);break e;case 2:Na=!0}}K.callback!==null&&K.lane!==0&&(a.flags|=64,xe=b.effects,xe===null?b.effects=[K]:xe.push(K))}else Me={eventTime:Me,lane:xe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ve===null?(le=ve=Me,X=we):ve=ve.next=Me,O|=xe;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;xe=K,K=xe.next,xe.next=null,b.lastBaseUpdate=xe,b.shared.pending=null}}while(!0);if(ve===null&&(X=we),b.baseState=X,b.firstBaseUpdate=le,b.lastBaseUpdate=ve,l=b.shared.interleaved,l!==null){b=l;do O|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);_o|=O,a.lanes=O,a.memoizedState=we}}function C1(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var ld={},gi=wa(ld),cd=wa(ld),dd=wa(ld);function yo(a){if(a===ld)throw Error(n(174));return a}function Yf(a,l){switch(Ut(dd,l),Ut(cd,a),Ut(gi,ld),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Wt(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Wt(l,a)}Qt(gi),Ut(gi,l)}function Fl(){Qt(gi),Qt(cd),Qt(dd)}function T1(a){yo(dd.current);var l=yo(gi.current),h=Wt(l,a.type);l!==h&&(Ut(cd,a),Ut(gi,h))}function Jf(a){cd.current===a&&(Qt(gi),Qt(cd))}var rs=wa(0);function Dh(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zf=[];function eg(){for(var a=0;a<Zf.length;a++)Zf[a]._workInProgressVersionPrimary=null;Zf.length=0}var Mh=y.ReactCurrentDispatcher,tg=y.ReactCurrentBatchConfig,bo=0,is=null,Is=null,Ms=null,Fh=!1,ud=!1,hd=0,l4=0;function rn(){throw Error(n(321))}function sg(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Wr(a[h],l[h]))return!1;return!0}function ng(a,l,h,g,b,k){if(bo=k,is=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Mh.current=a===null||a.memoizedState===null?h4:m4,a=h(g,b),ud){k=0;do{if(ud=!1,hd=0,25<=k)throw Error(n(301));k+=1,Ms=Is=null,l.updateQueue=null,Mh.current=p4,a=h(g,b)}while(ud)}if(Mh.current=Vh,l=Is!==null&&Is.next!==null,bo=0,Ms=Is=is=null,Fh=!1,l)throw Error(n(300));return a}function rg(){var a=hd!==0;return hd=0,a}function xi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ms===null?is.memoizedState=Ms=a:Ms=Ms.next=a,Ms}function br(){if(Is===null){var a=is.alternate;a=a!==null?a.memoizedState:null}else a=Is.next;var l=Ms===null?is.memoizedState:Ms.next;if(l!==null)Ms=l,Is=a;else{if(a===null)throw Error(n(310));Is=a,a={memoizedState:Is.memoizedState,baseState:Is.baseState,baseQueue:Is.baseQueue,queue:Is.queue,next:null},Ms===null?is.memoizedState=Ms=a:Ms=Ms.next=a}return Ms}function md(a,l){return typeof l=="function"?l(a):l}function ig(a){var l=br(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Is,b=g.baseQueue,k=h.pending;if(k!==null){if(b!==null){var O=b.next;b.next=k.next,k.next=O}g.baseQueue=b=k,h.pending=null}if(b!==null){k=b.next,g=g.baseState;var K=O=null,X=null,le=k;do{var ve=le.lane;if((bo&ve)===ve)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),g=le.hasEagerState?le.eagerState:a(g,le.action);else{var we={lane:ve,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(K=X=we,O=g):X=X.next=we,is.lanes|=ve,_o|=ve}le=le.next}while(le!==null&&le!==k);X===null?O=g:X.next=K,Wr(g,l.memoizedState)||(Mn=!0),l.memoizedState=g,l.baseState=O,l.baseQueue=X,h.lastRenderedState=g}if(a=h.interleaved,a!==null){b=a;do k=b.lane,is.lanes|=k,_o|=k,b=b.next;while(b!==a)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function ag(a){var l=br(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,k=l.memoizedState;if(b!==null){h.pending=null;var O=b=b.next;do k=a(k,O.action),O=O.next;while(O!==b);Wr(k,l.memoizedState)||(Mn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),h.lastRenderedState=k}return[k,g]}function E1(){}function A1(a,l){var h=is,g=br(),b=l(),k=!Wr(g.memoizedState,b);if(k&&(g.memoizedState=b,Mn=!0),g=g.queue,og(P1.bind(null,h,g,a),[a]),g.getSnapshot!==l||k||Ms!==null&&Ms.memoizedState.tag&1){if(h.flags|=2048,pd(9,R1.bind(null,h,g,b,l),void 0,null),Fs===null)throw Error(n(349));(bo&30)!==0||I1(h,l,b)}return b}function I1(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=is.updateQueue,l===null?(l={lastEffect:null,stores:null},is.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function R1(a,l,h,g){l.value=h,l.getSnapshot=g,L1(l)&&D1(a)}function P1(a,l,h){return h(function(){L1(l)&&D1(a)})}function L1(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Wr(a,h)}catch(g){return!0}}function D1(a){var l=Hi(a,1);l!==null&&Yr(l,a,1,-1)}function M1(a){var l=xi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:a},l.queue=a,a=a.dispatch=u4.bind(null,is,a),[l.memoizedState,a]}function pd(a,l,h,g){return a={tag:a,create:l,destroy:h,deps:g,next:null},l=is.updateQueue,l===null?(l={lastEffect:null,stores:null},is.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,l.lastEffect=a)),a}function F1(){return br().memoizedState}function Bh(a,l,h,g){var b=xi();is.flags|=a,b.memoizedState=pd(1|l,h,void 0,g===void 0?null:g)}function $h(a,l,h,g){var b=br();g=g===void 0?null:g;var k=void 0;if(Is!==null){var O=Is.memoizedState;if(k=O.destroy,g!==null&&sg(g,O.deps)){b.memoizedState=pd(l,h,k,g);return}}is.flags|=a,b.memoizedState=pd(1|l,h,k,g)}function B1(a,l){return Bh(8390656,8,a,l)}function og(a,l){return $h(2048,8,a,l)}function $1(a,l){return $h(4,2,a,l)}function V1(a,l){return $h(4,4,a,l)}function O1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function U1(a,l,h){return h=h!=null?h.concat([a]):null,$h(4,4,O1.bind(null,l,a),h)}function lg(){}function z1(a,l){var h=br();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&sg(l,g[1])?g[0]:(h.memoizedState=[a,l],a)}function H1(a,l){var h=br();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&sg(l,g[1])?g[0]:(a=a(),h.memoizedState=[a,l],a)}function G1(a,l,h){return(bo&21)===0?(a.baseState&&(a.baseState=!1,Mn=!0),a.memoizedState=h):(Wr(h,l)||(h=lo(),is.lanes|=h,_o|=h,a.baseState=!0),l)}function c4(a,l){var h=yt;yt=h!==0&&4>h?h:4,a(!0);var g=tg.transition;tg.transition={};try{a(!1),l()}finally{yt=h,tg.transition=g}}function W1(){return br().memoizedState}function d4(a,l,h){var g=Aa(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},q1(a))K1(l,h);else if(h=S1(a,l,h,g),h!==null){var b=wn();Yr(h,a,g,b),Q1(h,l,g)}}function u4(a,l,h){var g=Aa(a),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(q1(a))K1(l,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,K=k(O,h);if(b.hasEagerState=!0,b.eagerState=K,Wr(K,O)){var X=l.interleaved;X===null?(b.next=b,Qf(l)):(b.next=X.next,X.next=b),l.interleaved=b;return}}catch(le){}finally{}h=S1(a,l,b,g),h!==null&&(b=wn(),Yr(h,a,g,b),Q1(h,l,g))}}function q1(a){var l=a.alternate;return a===is||l!==null&&l===is}function K1(a,l){ud=Fh=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function Q1(a,l,h){if((h&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,fa(a,h)}}var Vh={readContext:yr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},h4={readContext:yr,useCallback:function(a,l){return xi().memoizedState=[a,l===void 0?null:l],a},useContext:yr,useEffect:B1,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,Bh(4194308,4,O1.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Bh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Bh(4,2,a,l)},useMemo:function(a,l){var h=xi();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var g=xi();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=d4.bind(null,is,a),[g.memoizedState,a]},useRef:function(a){var l=xi();return a={current:a},l.memoizedState=a},useState:M1,useDebugValue:lg,useDeferredValue:function(a){return xi().memoizedState=a},useTransition:function(){var a=M1(!1),l=a[0];return a=c4.bind(null,a[1]),xi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var g=is,b=xi();if(es){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Fs===null)throw Error(n(349));(bo&30)!==0||I1(g,l,h)}b.memoizedState=h;var k={value:h,getSnapshot:l};return b.queue=k,B1(P1.bind(null,g,k,a),[a]),g.flags|=2048,pd(9,R1.bind(null,g,k,h,l),void 0,null),h},useId:function(){var a=xi(),l=Fs.identifierPrefix;if(es){var h=zi,g=Ui;h=(g&~(1<<32-yn(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=hd++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=l4++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},m4={readContext:yr,useCallback:z1,useContext:yr,useEffect:og,useImperativeHandle:U1,useInsertionEffect:$1,useLayoutEffect:V1,useMemo:H1,useReducer:ig,useRef:F1,useState:function(){return ig(md)},useDebugValue:lg,useDeferredValue:function(a){var l=br();return G1(l,Is.memoizedState,a)},useTransition:function(){var a=ig(md)[0],l=br().memoizedState;return[a,l]},useMutableSource:E1,useSyncExternalStore:A1,useId:W1,unstable_isNewReconciler:!1},p4={readContext:yr,useCallback:z1,useContext:yr,useEffect:og,useImperativeHandle:U1,useInsertionEffect:$1,useLayoutEffect:V1,useMemo:H1,useReducer:ag,useRef:F1,useState:function(){return ag(md)},useDebugValue:lg,useDeferredValue:function(a){var l=br();return Is===null?l.memoizedState=a:G1(l,Is.memoizedState,a)},useTransition:function(){var a=ag(md)[0],l=br().memoizedState;return[a,l]},useMutableSource:E1,useSyncExternalStore:A1,useId:W1,unstable_isNewReconciler:!1};function Kr(a,l){if(a&&a.defaultProps){l=ne({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function cg(a,l,h,g){l=a.memoizedState,h=h(g,l),h=h==null?l:ne({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Oh={isMounted:function(a){return(a=a._reactInternals)?$r(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var g=wn(),b=Aa(a),k=Gi(g,b);k.payload=l,h!=null&&(k.callback=h),l=ka(a,k,b),l!==null&&(Yr(l,a,b,g),Ph(l,a,b))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var g=wn(),b=Aa(a),k=Gi(g,b);k.tag=1,k.payload=l,h!=null&&(k.callback=h),l=ka(a,k,b),l!==null&&(Yr(l,a,b,g),Ph(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=wn(),g=Aa(a),b=Gi(h,g);b.tag=2,l!=null&&(b.callback=l),l=ka(a,b,g),l!==null&&(Yr(l,a,g,h),Ph(l,a,g))}};function X1(a,l,h,g,b,k,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,O):l.prototype&&l.prototype.isPureReactComponent?!ed(h,g)||!ed(b,k):!0}function Y1(a,l,h){var g=!1,b=ja,k=l.contextType;return typeof k=="object"&&k!==null?k=yr(k):(b=Dn(l)?fo:nn.current,g=l.contextTypes,k=(g=g!=null)?Al(a,b):ja),l=new l(h,k),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Oh,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),l}function J1(a,l,h,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==a&&Oh.enqueueReplaceState(l,l.state,null)}function dg(a,l,h,g){var b=a.stateNode;b.props=h,b.state=a.memoizedState,b.refs={},Xf(a);var k=l.contextType;typeof k=="object"&&k!==null?b.context=yr(k):(k=Dn(l)?fo:nn.current,b.context=Al(a,k)),b.state=a.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(cg(a,l,k,h),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Oh.enqueueReplaceState(b,b.state,null),Lh(a,h,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Bl(a,l){try{var h="",g=l;do h+=pe(g),g=g.return;while(g);var b=h}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:l,stack:b,digest:null}}function ug(a,l,h){return{value:a,source:null,stack:h!=null?h:null,digest:l!=null?l:null}}function hg(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var f4=typeof WeakMap=="function"?WeakMap:Map;function Z1(a,l,h){h=Gi(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){Kh||(Kh=!0,Cg=g),hg(a,l)},h}function eb(a,l,h){h=Gi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;h.payload=function(){return g(b)},h.callback=function(){hg(a,l)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){hg(a,l),typeof g!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),h}function tb(a,l,h){var g=a.pingCache;if(g===null){g=a.pingCache=new f4;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(h)||(b.add(h),a=E4.bind(null,a,l,h),l.then(a,a))}function sb(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function nb(a,l,h,g,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Gi(-1,1),l.tag=2,ka(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var g4=y.ReactCurrentOwner,Mn=!1;function _n(a,l,h,g){l.child=a===null?j1(l,null,h,g):Ll(l,a.child,h,g)}function rb(a,l,h,g,b){h=h.render;var k=l.ref;return Ml(l,b),g=ng(a,l,h,g,k,b),h=rg(),a!==null&&!Mn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,Wi(a,l,b)):(es&&h&&Vf(l),l.flags|=1,_n(a,l,g,b),l.child)}function ib(a,l,h,g,b){if(a===null){var k=h.type;return typeof k=="function"&&!Lg(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=k,ab(a,l,k,g,b)):(a=em(h.type,null,g,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(k=a.child,(a.lanes&b)===0){var O=k.memoizedProps;if(h=h.compare,h=h!==null?h:ed,h(O,g)&&a.ref===l.ref)return Wi(a,l,b)}return l.flags|=1,a=Ra(k,g),a.ref=l.ref,a.return=l,l.child=a}function ab(a,l,h,g,b){if(a!==null){var k=a.memoizedProps;if(ed(k,g)&&a.ref===l.ref)if(Mn=!1,l.pendingProps=g=k,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Mn=!0);else return l.lanes=a.lanes,Wi(a,l,b)}return mg(a,l,h,g,b)}function ob(a,l,h){var g=l.pendingProps,b=g.children,k=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Vl,sr),sr|=h;else{if((h&1073741824)===0)return a=k!==null?k.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ut(Vl,sr),sr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:h,Ut(Vl,sr),sr|=g}else k!==null?(g=k.baseLanes|h,l.memoizedState=null):g=h,Ut(Vl,sr),sr|=g;return _n(a,l,b,h),l.child}function lb(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function mg(a,l,h,g,b){var k=Dn(h)?fo:nn.current;return k=Al(l,k),Ml(l,b),h=ng(a,l,h,g,k,b),g=rg(),a!==null&&!Mn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,Wi(a,l,b)):(es&&g&&Vf(l),l.flags|=1,_n(a,l,h,b),l.child)}function cb(a,l,h,g,b){if(Dn(h)){var k=!0;Nh(l)}else k=!1;if(Ml(l,b),l.stateNode===null)zh(a,l),Y1(l,h,g),dg(l,h,g,b),g=!0;else if(a===null){var O=l.stateNode,K=l.memoizedProps;O.props=K;var X=O.context,le=h.contextType;typeof le=="object"&&le!==null?le=yr(le):(le=Dn(h)?fo:nn.current,le=Al(l,le));var ve=h.getDerivedStateFromProps,we=typeof ve=="function"||typeof O.getSnapshotBeforeUpdate=="function";we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==g||X!==le)&&J1(l,O,g,le),Na=!1;var xe=l.memoizedState;O.state=xe,Lh(l,g,O,b),X=l.memoizedState,K!==g||xe!==X||Ln.current||Na?(typeof ve=="function"&&(cg(l,h,ve,g),X=l.memoizedState),(K=Na||X1(l,h,K,g,xe,X,le))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),O.props=g,O.state=X,O.context=le,g=K):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{O=l.stateNode,N1(a,l),K=l.memoizedProps,le=l.type===l.elementType?K:Kr(l.type,K),O.props=le,we=l.pendingProps,xe=O.context,X=h.contextType,typeof X=="object"&&X!==null?X=yr(X):(X=Dn(h)?fo:nn.current,X=Al(l,X));var Me=h.getDerivedStateFromProps;(ve=typeof Me=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==we||xe!==X)&&J1(l,O,g,X),Na=!1,xe=l.memoizedState,O.state=xe,Lh(l,g,O,b);var $e=l.memoizedState;K!==we||xe!==$e||Ln.current||Na?(typeof Me=="function"&&(cg(l,h,Me,g),$e=l.memoizedState),(le=Na||X1(l,h,le,g,xe,$e,X)||!1)?(ve||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,$e,X),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,$e,X)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&xe===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&xe===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=$e),O.props=g,O.state=$e,O.context=X,g=le):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&xe===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&xe===a.memoizedState||(l.flags|=1024),g=!1)}return pg(a,l,h,g,k,b)}function pg(a,l,h,g,b,k){lb(a,l);var O=(l.flags&128)!==0;if(!g&&!O)return b&&p1(l,h,!1),Wi(a,l,k);g=l.stateNode,g4.current=l;var K=O&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&O?(l.child=Ll(l,a.child,null,k),l.child=Ll(l,null,K,k)):_n(a,l,K,k),l.memoizedState=g.state,b&&p1(l,h,!0),l.child}function db(a){var l=a.stateNode;l.pendingContext?h1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&h1(a,l.context,!1),Yf(a,l.containerInfo)}function ub(a,l,h,g,b){return Pl(),Hf(b),l.flags|=256,_n(a,l,h,g),l.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function gg(a){return{baseLanes:a,cachePool:null,transitions:null}}function hb(a,l,h){var g=l.pendingProps,b=rs.current,k=!1,O=(l.flags&128)!==0,K;if((K=O)||(K=a!==null&&a.memoizedState===null?!1:(b&2)!==0),K?(k=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),Ut(rs,b&1),a===null)return zf(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=g.children,a=g.fallback,k?(g=l.mode,k=l.child,O={mode:"hidden",children:O},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=tm(O,g,0,null),a=No(a,g,h,null),k.return=l,a.return=l,k.sibling=a,l.child=k,l.child.memoizedState=gg(h),l.memoizedState=fg,a):xg(l,O));if(b=a.memoizedState,b!==null&&(K=b.dehydrated,K!==null))return x4(a,l,O,g,K,b,h);if(k){k=g.fallback,O=l.mode,b=a.child,K=b.sibling;var X={mode:"hidden",children:g.children};return(O&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=X,l.deletions=null):(g=Ra(b,X),g.subtreeFlags=b.subtreeFlags&14680064),K!==null?k=Ra(K,k):(k=No(k,O,h,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,O=a.child.memoizedState,O=O===null?gg(h):{baseLanes:O.baseLanes|h,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=a.childLanes&~h,l.memoizedState=fg,g}return k=a.child,a=k.sibling,g=Ra(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=g,l.memoizedState=null,g}function xg(a,l){return l=tm({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Uh(a,l,h,g){return g!==null&&Hf(g),Ll(l,a.child,null,h),a=xg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function x4(a,l,h,g,b,k,O){if(h)return l.flags&256?(l.flags&=-257,g=ug(Error(n(422))),Uh(a,l,O,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(k=g.fallback,b=l.mode,g=tm({mode:"visible",children:g.children},b,0,null),k=No(k,b,O,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&Ll(l,a.child,null,O),l.child.memoizedState=gg(O),l.memoizedState=fg,k);if((l.mode&1)===0)return Uh(a,l,O,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var K=g.dgst;return g=K,k=Error(n(419)),g=ug(k,g,void 0),Uh(a,l,O,g)}if(K=(O&a.childLanes)!==0,Mn||K){if(g=Fs,g!==null){switch(O&-O){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|O))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Hi(a,b),Yr(g,a,b,-1))}return Pg(),g=ug(Error(n(421))),Uh(a,l,O,g)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=A4.bind(null,a),b._reactRetry=l,null):(a=k.treeContext,tr=_a(b.nextSibling),er=l,es=!0,qr=null,a!==null&&(xr[vr++]=Ui,xr[vr++]=zi,xr[vr++]=go,Ui=a.id,zi=a.overflow,go=l),l=xg(l,g.children),l.flags|=4096,l)}function mb(a,l,h){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Kf(a.return,l,h)}function vg(a,l,h,g,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=b)}function pb(a,l,h){var g=l.pendingProps,b=g.revealOrder,k=g.tail;if(_n(a,l,g.children,h),g=rs.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&mb(a,h,l);else if(a.tag===19)mb(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ut(rs,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)a=h.alternate,a!==null&&Dh(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),vg(l,!1,b,h,k);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Dh(a)===null){l.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}vg(l,!0,h,null,k);break;case"together":vg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function zh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Wi(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),_o|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Ra(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ra(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function v4(a,l,h){switch(l.tag){case 3:db(l),Pl();break;case 5:T1(l);break;case 1:Dn(l.type)&&Nh(l);break;case 4:Yf(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Ut(Ih,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ut(rs,rs.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?hb(a,l,h):(Ut(rs,rs.current&1),a=Wi(a,l,h),a!==null?a.sibling:null);Ut(rs,rs.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(a.flags&128)!==0){if(g)return pb(a,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ut(rs,rs.current),g)break;return null;case 22:case 23:return l.lanes=0,ob(a,l,h)}return Wi(a,l,h)}var fb,yg,gb,xb;fb=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},yg=function(){},gb=function(a,l,h,g){var b=a.memoizedProps;if(b!==g){a=l.stateNode,yo(gi.current);var k=null;switch(h){case"input":b=Ue(a,b),g=Ue(a,g),k=[];break;case"select":b=ne({},b,{value:void 0}),g=ne({},g,{value:void 0}),k=[];break;case"textarea":b=Dr(a,b),g=Dr(a,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=wh)}Mr(h,g);var O;h=null;for(le in b)if(!g.hasOwnProperty(le)&&b.hasOwnProperty(le)&&b[le]!=null)if(le==="style"){var K=b[le];for(O in K)K.hasOwnProperty(O)&&(h||(h={}),h[O]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?k||(k=[]):(k=k||[]).push(le,null));for(le in g){var X=g[le];if(K=b!=null?b[le]:void 0,g.hasOwnProperty(le)&&X!==K&&(X!=null||K!=null))if(le==="style")if(K){for(O in K)!K.hasOwnProperty(O)||X&&X.hasOwnProperty(O)||(h||(h={}),h[O]="");for(O in X)X.hasOwnProperty(O)&&K[O]!==X[O]&&(h||(h={}),h[O]=X[O])}else h||(k||(k=[]),k.push(le,h)),h=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(k=k||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&Kt("scroll",a),k||K===X||(k=[])):(k=k||[]).push(le,X))}h&&(k=k||[]).push("style",h);var le=k;(l.updateQueue=le)&&(l.flags|=4)}},xb=function(a,l,h,g){h!==g&&(l.flags|=4)};function fd(a,l){if(!es)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function an(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(l)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,l}function y4(a,l,h){var g=l.pendingProps;switch(Of(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(l),null;case 1:return Dn(l.type)&&Sh(),an(l),null;case 3:return g=l.stateNode,Fl(),Qt(Ln),Qt(nn),eg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Eh(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qr!==null&&(Ag(qr),qr=null))),yg(a,l),an(l),null;case 5:Jf(l);var b=yo(dd.current);if(h=l.type,a!==null&&l.stateNode!=null)gb(a,l,h,g,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return an(l),null}if(a=yo(gi.current),Eh(l)){g=l.stateNode,h=l.type;var k=l.memoizedProps;switch(g[fi]=l,g[id]=k,a=(l.mode&1)!==0,h){case"dialog":Kt("cancel",g),Kt("close",g);break;case"iframe":case"object":case"embed":Kt("load",g);break;case"video":case"audio":for(b=0;b<sd.length;b++)Kt(sd[b],g);break;case"source":Kt("error",g);break;case"img":case"image":case"link":Kt("error",g),Kt("load",g);break;case"details":Kt("toggle",g);break;case"input":Rt(g,k),Kt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Kt("invalid",g);break;case"textarea":cr(g,k),Kt("invalid",g)}Mr(h,k),b=null;for(var O in k)if(k.hasOwnProperty(O)){var K=k[O];O==="children"?typeof K=="string"?g.textContent!==K&&(k.suppressHydrationWarning!==!0&&_h(g.textContent,K,a),b=["children",K]):typeof K=="number"&&g.textContent!==""+K&&(k.suppressHydrationWarning!==!0&&_h(g.textContent,K,a),b=["children",""+K]):i.hasOwnProperty(O)&&K!=null&&O==="onScroll"&&Kt("scroll",g)}switch(h){case"input":It(g),Lr(g,k,!0);break;case"textarea":It(g),Es(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=wh)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{O=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Jt(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=O.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=O.createElement(h,{is:g.is}):(a=O.createElement(h),h==="select"&&(O=a,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):a=O.createElementNS(a,h),a[fi]=l,a[id]=g,fb(a,l,!1,!1),l.stateNode=a;e:{switch(O=qt(h,g),h){case"dialog":Kt("cancel",a),Kt("close",a),b=g;break;case"iframe":case"object":case"embed":Kt("load",a),b=g;break;case"video":case"audio":for(b=0;b<sd.length;b++)Kt(sd[b],a);b=g;break;case"source":Kt("error",a),b=g;break;case"img":case"image":case"link":Kt("error",a),Kt("load",a),b=g;break;case"details":Kt("toggle",a),b=g;break;case"input":Rt(a,g),b=Ue(a,g),Kt("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=ne({},g,{value:void 0}),Kt("invalid",a);break;case"textarea":cr(a,g),b=Dr(a,g),Kt("invalid",a);break;default:b=g}Mr(h,b),K=b;for(k in K)if(K.hasOwnProperty(k)){var X=K[k];k==="style"?Ai(a,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&oi(a,X)):k==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&qn(a,X):typeof X=="number"&&qn(a,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Kt("scroll",a):X!=null&&T(a,k,X,O))}switch(h){case"input":It(a),Lr(a,g,!1);break;case"textarea":It(a),Es(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Te(g.value));break;case"select":a.multiple=!!g.multiple,k=g.value,k!=null?xn(a,!!g.multiple,k,!1):g.defaultValue!=null&&xn(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=wh)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return an(l),null;case 6:if(a&&l.stateNode!=null)xb(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=yo(dd.current),yo(gi.current),Eh(l)){if(g=l.stateNode,h=l.memoizedProps,g[fi]=l,(k=g.nodeValue!==h)&&(a=er,a!==null))switch(a.tag){case 3:_h(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&_h(g.nodeValue,h,(a.mode&1)!==0)}k&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[fi]=l,l.stateNode=g}return an(l),null;case 13:if(Qt(rs),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(es&&tr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)b1(),Pl(),l.flags|=98560,k=!1;else if(k=Eh(l),g!==null&&g.dehydrated!==null){if(a===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[fi]=l}else Pl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;an(l),k=!1}else qr!==null&&(Ag(qr),qr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(rs.current&1)!==0?Rs===0&&(Rs=3):Pg())),l.updateQueue!==null&&(l.flags|=4),an(l),null);case 4:return Fl(),yg(a,l),a===null&&nd(l.stateNode.containerInfo),an(l),null;case 10:return qf(l.type._context),an(l),null;case 17:return Dn(l.type)&&Sh(),an(l),null;case 19:if(Qt(rs),k=l.memoizedState,k===null)return an(l),null;if(g=(l.flags&128)!==0,O=k.rendering,O===null)if(g)fd(k,!1);else{if(Rs!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(O=Dh(a),O!==null){for(l.flags|=128,fd(k,!1),g=O.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)k=h,a=g,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,a=O.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return Ut(rs,rs.current&1|2),l.child}a=a.sibling}k.tail!==null&&Ot()>Ol&&(l.flags|=128,g=!0,fd(k,!1),l.lanes=4194304)}else{if(!g)if(a=Dh(O),a!==null){if(l.flags|=128,g=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),fd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!es)return an(l),null}else 2*Ot()-k.renderingStartTime>Ol&&h!==1073741824&&(l.flags|=128,g=!0,fd(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(h=k.last,h!==null?h.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Ot(),l.sibling=null,h=rs.current,Ut(rs,g?h&1|2:h&1),l):(an(l),null);case 22:case 23:return Rg(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(sr&1073741824)!==0&&(an(l),l.subtreeFlags&6&&(l.flags|=8192)):an(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function b4(a,l){switch(Of(l),l.tag){case 1:return Dn(l.type)&&Sh(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Fl(),Qt(Ln),Qt(nn),eg(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Jf(l),null;case 13:if(Qt(rs),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Pl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Qt(rs),null;case 4:return Fl(),null;case 10:return qf(l.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var Hh=!1,on=!1,_4=typeof WeakSet=="function"?WeakSet:Set,Be=null;function $l(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){ds(a,l,g)}else h.current=null}function bg(a,l,h){try{h()}catch(g){ds(a,l,g)}}var vb=!1;function w4(a,l){if(Rf=va,a=X0(),Sf(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch(Se){h=null;break e}var O=0,K=-1,X=-1,le=0,ve=0,we=a,xe=null;t:for(;;){for(var Me;we!==h||b!==0&&we.nodeType!==3||(K=O+b),we!==k||g!==0&&we.nodeType!==3||(X=O+g),we.nodeType===3&&(O+=we.nodeValue.length),(Me=we.firstChild)!==null;)xe=we,we=Me;for(;;){if(we===a)break t;if(xe===h&&++le===b&&(K=O),xe===k&&++ve===g&&(X=O),(Me=we.nextSibling)!==null)break;we=xe,xe=we.parentNode}we=Me}h=K===-1||X===-1?null:{start:K,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Pf={focusedElem:a,selectionRange:h},va=!1,Be=l;Be!==null;)if(l=Be,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Be=a;else for(;Be!==null;){l=Be;try{var $e=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Ve=$e.memoizedProps,fs=$e.memoizedState,ae=l.stateNode,J=ae.getSnapshotBeforeUpdate(l.elementType===l.type?Ve:Kr(l.type,Ve),fs);ae.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var oe=l.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){ds(l,l.return,Se)}if(a=l.sibling,a!==null){a.return=l.return,Be=a;break}Be=l.return}return $e=vb,vb=!1,$e}function gd(a,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&bg(l,h,k)}b=b.next}while(b!==g)}}function Gh(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function _g(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function yb(a){var l=a.alternate;l!==null&&(a.alternate=null,yb(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[fi],delete l[id],delete l[Ff],delete l[r4],delete l[i4])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function bb(a){return a.tag===5||a.tag===3||a.tag===4}function _b(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||bb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=wh));else if(g!==4&&(a=a.child,a!==null))for(wg(a,l,h),a=a.sibling;a!==null;)wg(a,l,h),a=a.sibling}function jg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(jg(a,l,h),a=a.sibling;a!==null;)jg(a,l,h),a=a.sibling}var Gs=null,Qr=!1;function Ca(a,l,h){for(h=h.child;h!==null;)wb(a,l,h),h=h.sibling}function wb(a,l,h){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(ao,h)}catch(K){}switch(h.tag){case 5:on||$l(h,l);case 6:var g=Gs,b=Qr;Gs=null,Ca(a,l,h),Gs=g,Qr=b,Gs!==null&&(Qr?(a=Gs,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Gs.removeChild(h.stateNode));break;case 18:Gs!==null&&(Qr?(a=Gs,h=h.stateNode,a.nodeType===8?Mf(a.parentNode,h):a.nodeType===1&&Mf(a,h),Hr(a)):Mf(Gs,h.stateNode));break;case 4:g=Gs,b=Qr,Gs=h.stateNode.containerInfo,Qr=!0,Ca(a,l,h),Gs=g,Qr=b;break;case 0:case 11:case 14:case 15:if(!on&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&bg(h,l,O),b=b.next}while(b!==g)}Ca(a,l,h);break;case 1:if(!on&&($l(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(K){ds(h,l,K)}Ca(a,l,h);break;case 21:Ca(a,l,h);break;case 22:h.mode&1?(on=(g=on)||h.memoizedState!==null,Ca(a,l,h),on=g):Ca(a,l,h);break;default:Ca(a,l,h)}}function jb(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new _4),l.forEach(function(g){var b=I4.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Xr(a,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var k=a,O=l,K=O;e:for(;K!==null;){switch(K.tag){case 5:Gs=K.stateNode,Qr=!1;break e;case 3:Gs=K.stateNode.containerInfo,Qr=!0;break e;case 4:Gs=K.stateNode.containerInfo,Qr=!0;break e}K=K.return}if(Gs===null)throw Error(n(160));wb(k,O,b),Gs=null,Qr=!1;var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(le){ds(b,l,le)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Sb(l,a),l=l.sibling}function Sb(a,l){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Xr(l,a),vi(a),g&4){try{gd(3,a,a.return),Gh(3,a)}catch(Ve){ds(a,a.return,Ve)}try{gd(5,a,a.return)}catch(Ve){ds(a,a.return,Ve)}}break;case 1:Xr(l,a),vi(a),g&512&&h!==null&&$l(h,h.return);break;case 5:if(Xr(l,a),vi(a),g&512&&h!==null&&$l(h,h.return),a.flags&32){var b=a.stateNode;try{qn(b,"")}catch(Ve){ds(a,a.return,Ve)}}if(g&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,O=h!==null?h.memoizedProps:k,K=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{K==="input"&&k.type==="radio"&&k.name!=null&&Vt(b,k),qt(K,O);var le=qt(K,k);for(O=0;O<X.length;O+=2){var ve=X[O],we=X[O+1];ve==="style"?Ai(b,we):ve==="dangerouslySetInnerHTML"?oi(b,we):ve==="children"?qn(b,we):T(b,ve,we,le)}switch(K){case"input":ys(b,k);break;case"textarea":dr(b,k);break;case"select":var xe=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Me=k.value;Me!=null?xn(b,!!k.multiple,Me,!1):xe!==!!k.multiple&&(k.defaultValue!=null?xn(b,!!k.multiple,k.defaultValue,!0):xn(b,!!k.multiple,k.multiple?[]:"",!1))}b[id]=k}catch(Ve){ds(a,a.return,Ve)}}break;case 6:if(Xr(l,a),vi(a),g&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(Ve){ds(a,a.return,Ve)}}break;case 3:if(Xr(l,a),vi(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Hr(l.containerInfo)}catch(Ve){ds(a,a.return,Ve)}break;case 4:Xr(l,a),vi(a);break;case 13:Xr(l,a),vi(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(kg=Ot())),g&4&&jb(a);break;case 22:if(ve=h!==null&&h.memoizedState!==null,a.mode&1?(on=(le=on)||ve,Xr(l,a),on=le):Xr(l,a),vi(a),g&8192){if(le=a.memoizedState!==null,(a.stateNode.isHidden=le)&&!ve&&(a.mode&1)!==0)for(Be=a,ve=a.child;ve!==null;){for(we=Be=ve;Be!==null;){switch(xe=Be,Me=xe.child,xe.tag){case 0:case 11:case 14:case 15:gd(4,xe,xe.return);break;case 1:$l(xe,xe.return);var $e=xe.stateNode;if(typeof $e.componentWillUnmount=="function"){g=xe,h=xe.return;try{l=g,$e.props=l.memoizedProps,$e.state=l.memoizedState,$e.componentWillUnmount()}catch(Ve){ds(g,h,Ve)}}break;case 5:$l(xe,xe.return);break;case 22:if(xe.memoizedState!==null){Cb(we);continue}}Me!==null?(Me.return=xe,Be=Me):Cb(we)}ve=ve.sibling}e:for(ve=null,we=a;;){if(we.tag===5){if(ve===null){ve=we;try{b=we.stateNode,le?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(K=we.stateNode,X=we.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=li("display",O))}catch(Ve){ds(a,a.return,Ve)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=le?"":we.memoizedProps}catch(Ve){ds(a,a.return,Ve)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===a)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===a)break e;for(;we.sibling===null;){if(we.return===null||we.return===a)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Xr(l,a),vi(a),g&4&&jb(a);break;case 21:break;default:Xr(l,a),vi(a)}}function vi(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(bb(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(qn(b,""),g.flags&=-33);var k=_b(a);jg(a,k,b);break;case 3:case 4:var O=g.stateNode.containerInfo,K=_b(a);wg(a,K,O);break;default:throw Error(n(161))}}catch(X){ds(a,a.return,X)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function j4(a,l,h){Be=a,Nb(a)}function Nb(a,l,h){for(var g=(a.mode&1)!==0;Be!==null;){var b=Be,k=b.child;if(b.tag===22&&g){var O=b.memoizedState!==null||Hh;if(!O){var K=b.alternate,X=K!==null&&K.memoizedState!==null||on;K=Hh;var le=on;if(Hh=O,(on=X)&&!le)for(Be=b;Be!==null;)O=Be,X=O.child,O.tag===22&&O.memoizedState!==null?Tb(b):X!==null?(X.return=O,Be=X):Tb(b);for(;k!==null;)Be=k,Nb(k),k=k.sibling;Be=b,Hh=K,on=le}kb(a)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,Be=k):kb(a)}}function kb(a){for(;Be!==null;){var l=Be;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:on||Gh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!on)if(h===null)g.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:Kr(l.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&C1(l,k,g);break;case 3:var O=l.updateQueue;if(O!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}C1(l,O,h)}break;case 5:var K=l.stateNode;if(h===null&&l.flags&4){h=K;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var le=l.alternate;if(le!==null){var ve=le.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&Hr(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}on||l.flags&512&&_g(l)}catch(xe){ds(l,l.return,xe)}}if(l===a){Be=null;break}if(h=l.sibling,h!==null){h.return=l.return,Be=h;break}Be=l.return}}function Cb(a){for(;Be!==null;){var l=Be;if(l===a){Be=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Be=h;break}Be=l.return}}function Tb(a){for(;Be!==null;){var l=Be;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Gh(4,l)}catch(X){ds(l,h,X)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(X){ds(l,b,X)}}var k=l.return;try{_g(l)}catch(X){ds(l,k,X)}break;case 5:var O=l.return;try{_g(l)}catch(X){ds(l,O,X)}}}catch(X){ds(l,l.return,X)}if(l===a){Be=null;break}var K=l.sibling;if(K!==null){K.return=l.return,Be=K;break}Be=l.return}}var S4=Math.ceil,Wh=y.ReactCurrentDispatcher,Sg=y.ReactCurrentOwner,_r=y.ReactCurrentBatchConfig,St=0,Fs=null,_s=null,Ws=0,sr=0,Vl=wa(0),Rs=0,xd=null,_o=0,qh=0,Ng=0,vd=null,Fn=null,kg=0,Ol=1/0,qi=null,Kh=!1,Cg=null,Ta=null,Qh=!1,Ea=null,Xh=0,yd=0,Tg=null,Yh=-1,Jh=0;function wn(){return(St&6)!==0?Ot():Yh!==-1?Yh:Yh=Ot()}function Aa(a){return(a.mode&1)===0?1:(St&2)!==0&&Ws!==0?Ws&-Ws:o4.transition!==null?(Jh===0&&(Jh=lo()),Jh):(a=yt,a!==0||(a=window.event,a=a===void 0?16:qc(a.type)),a)}function Yr(a,l,h,g){if(50<yd)throw yd=0,Tg=null,Error(n(185));pa(a,h,g),((St&2)===0||a!==Fs)&&(a===Fs&&((St&2)===0&&(qh|=h),Rs===4&&Ia(a,Ws)),Bn(a,g),h===1&&St===0&&(l.mode&1)===0&&(Ol=Ot()+500,kh&&Sa()))}function Bn(a,l){var h=a.callbackNode;Di(a,l);var g=oo(a,a===Fs?Ws:0);if(g===0)h!==null&&Uc(h),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(h!=null&&Uc(h),l===1)a.tag===0?a4(Ab.bind(null,a)):f1(Ab.bind(null,a)),s4(function(){(St&6)===0&&Sa()}),h=null;else{switch(ga(g)){case 1:h=io;break;case 4:h=ua;break;case 16:h=pr;break;case 536870912:h=Ju;break;default:h=pr}h=Bb(h,Eb.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function Eb(a,l){if(Yh=-1,Jh=0,(St&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Ul()&&a.callbackNode!==h)return null;var g=oo(a,a===Fs?Ws:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=Zh(a,g);else{l=g;var b=St;St|=2;var k=Rb();(Fs!==a||Ws!==l)&&(qi=null,Ol=Ot()+500,jo(a,l));do try{C4();break}catch(K){Ib(a,K)}while(!0);Wf(),Wh.current=k,St=b,_s!==null?l=0:(Fs=null,Ws=0,l=Rs)}if(l!==0){if(l===2&&(b=Yn(a),b!==0&&(g=b,l=Eg(a,b))),l===1)throw h=xd,jo(a,0),Ia(a,g),Bn(a,Ot()),h;if(l===6)Ia(a,g);else{if(b=a.current.alternate,(g&30)===0&&!N4(b)&&(l=Zh(a,g),l===2&&(k=Yn(a),k!==0&&(g=k,l=Eg(a,k))),l===1))throw h=xd,jo(a,0),Ia(a,g),Bn(a,Ot()),h;switch(a.finishedWork=b,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:So(a,Fn,qi);break;case 3:if(Ia(a,g),(g&130023424)===g&&(l=kg+500-Ot(),10<l)){if(oo(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){wn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Df(So.bind(null,a,Fn,qi),l);break}So(a,Fn,qi);break;case 4:if(Ia(a,g),(g&4194240)===g)break;for(l=a.eventTimes,b=-1;0<g;){var O=31-yn(g);k=1<<O,O=l[O],O>b&&(b=O),g&=~k}if(g=b,g=Ot()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*S4(g/1960))-g,10<g){a.timeoutHandle=Df(So.bind(null,a,Fn,qi),g);break}So(a,Fn,qi);break;case 5:So(a,Fn,qi);break;default:throw Error(n(329))}}}return Bn(a,Ot()),a.callbackNode===h?Eb.bind(null,a):null}function Eg(a,l){var h=vd;return a.current.memoizedState.isDehydrated&&(jo(a,l).flags|=256),a=Zh(a,l),a!==2&&(l=Fn,Fn=h,l!==null&&Ag(l)),a}function Ag(a){Fn===null?Fn=a:Fn.push.apply(Fn,a)}function N4(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],k=b.getSnapshot;b=b.value;try{if(!Wr(k(),b))return!1}catch(O){return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ia(a,l){for(l&=~Ng,l&=~qh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-yn(l),g=1<<h;a[h]=-1,l&=~g}}function Ab(a){if((St&6)!==0)throw Error(n(327));Ul();var l=oo(a,0);if((l&1)===0)return Bn(a,Ot()),null;var h=Zh(a,l);if(a.tag!==0&&h===2){var g=Yn(a);g!==0&&(l=g,h=Eg(a,g))}if(h===1)throw h=xd,jo(a,0),Ia(a,l),Bn(a,Ot()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,So(a,Fn,qi),Bn(a,Ot()),null}function Ig(a,l){var h=St;St|=1;try{return a(l)}finally{St=h,St===0&&(Ol=Ot()+500,kh&&Sa())}}function wo(a){Ea!==null&&Ea.tag===0&&(St&6)===0&&Ul();var l=St;St|=1;var h=_r.transition,g=yt;try{if(_r.transition=null,yt=1,a)return a()}finally{yt=g,_r.transition=h,St=l,(St&6)===0&&Sa()}}function Rg(){sr=Vl.current,Qt(Vl)}function jo(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,t4(h)),_s!==null)for(h=_s.return;h!==null;){var g=h;switch(Of(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Sh();break;case 3:Fl(),Qt(Ln),Qt(nn),eg();break;case 5:Jf(g);break;case 4:Fl();break;case 13:Qt(rs);break;case 19:Qt(rs);break;case 10:qf(g.type._context);break;case 22:case 23:Rg()}h=h.return}if(Fs=a,_s=a=Ra(a.current,null),Ws=sr=l,Rs=0,xd=null,Ng=qh=_o=0,Fn=vd=null,vo!==null){for(l=0;l<vo.length;l++)if(h=vo[l],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,k=h.pending;if(k!==null){var O=k.next;k.next=b,g.next=O}h.pending=g}vo=null}return a}function Ib(a,l){do{var h=_s;try{if(Wf(),Mh.current=Vh,Fh){for(var g=is.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Fh=!1}if(bo=0,Ms=Is=is=null,ud=!1,hd=0,Sg.current=null,h===null||h.return===null){Rs=1,xd=l,_s=null;break}e:{var k=a,O=h.return,K=h,X=l;if(l=Ws,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,ve=K,we=ve.tag;if((ve.mode&1)===0&&(we===0||we===11||we===15)){var xe=ve.alternate;xe?(ve.updateQueue=xe.updateQueue,ve.memoizedState=xe.memoizedState,ve.lanes=xe.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Me=sb(O);if(Me!==null){Me.flags&=-257,nb(Me,O,K,k,l),Me.mode&1&&tb(k,le,l),l=Me,X=le;var $e=l.updateQueue;if($e===null){var Ve=new Set;Ve.add(X),l.updateQueue=Ve}else $e.add(X);break e}else{if((l&1)===0){tb(k,le,l),Pg();break e}X=Error(n(426))}}else if(es&&K.mode&1){var fs=sb(O);if(fs!==null){(fs.flags&65536)===0&&(fs.flags|=256),nb(fs,O,K,k,l),Hf(Bl(X,K));break e}}k=X=Bl(X,K),Rs!==4&&(Rs=2),vd===null?vd=[k]:vd.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var ae=Z1(k,X,l);k1(k,ae);break e;case 1:K=X;var J=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Ta===null||!Ta.has(oe)))){k.flags|=65536,l&=-l,k.lanes|=l;var Se=eb(k,K,l);k1(k,Se);break e}}k=k.return}while(k!==null)}Lb(h)}catch(He){l=He,_s===h&&h!==null&&(_s=h=h.return);continue}break}while(!0)}function Rb(){var a=Wh.current;return Wh.current=Vh,a===null?Vh:a}function Pg(){(Rs===0||Rs===3||Rs===2)&&(Rs=4),Fs===null||(_o&268435455)===0&&(qh&268435455)===0||Ia(Fs,Ws)}function Zh(a,l){var h=St;St|=2;var g=Rb();(Fs!==a||Ws!==l)&&(qi=null,jo(a,l));do try{k4();break}catch(b){Ib(a,b)}while(!0);if(Wf(),St=h,Wh.current=g,_s!==null)throw Error(n(261));return Fs=null,Ws=0,Rs}function k4(){for(;_s!==null;)Pb(_s)}function C4(){for(;_s!==null&&!Xu();)Pb(_s)}function Pb(a){var l=Fb(a.alternate,a,sr);a.memoizedProps=a.pendingProps,l===null?Lb(a):_s=l,Sg.current=null}function Lb(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=y4(h,l,sr),h!==null){_s=h;return}}else{if(h=b4(h,l),h!==null){h.flags&=32767,_s=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Rs=6,_s=null;return}}if(l=l.sibling,l!==null){_s=l;return}_s=l=a}while(l!==null);Rs===0&&(Rs=5)}function So(a,l,h){var g=yt,b=_r.transition;try{_r.transition=null,yt=1,T4(a,l,h,g)}finally{_r.transition=b,yt=g}return null}function T4(a,l,h,g){do Ul();while(Ea!==null);if((St&6)!==0)throw Error(n(327));h=a.finishedWork;var b=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var k=h.lanes|h.childLanes;if(Ft(a,k),a===Fs&&(_s=Fs=null,Ws=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Qh||(Qh=!0,Bb(pr,function(){return Ul(),null})),k=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||k){k=_r.transition,_r.transition=null;var O=yt;yt=1;var K=St;St|=4,Sg.current=null,w4(a,h),Sb(h,a),K5(Pf),va=!!Rf,Pf=Rf=null,a.current=h,j4(h),gf(),St=K,yt=O,_r.transition=k}else a.current=h;if(Qh&&(Qh=!1,Ea=a,Xh=b),k=a.pendingLanes,k===0&&(Ta=null),Zu(h.stateNode),Bn(a,Ot()),l!==null)for(g=a.onRecoverableError,h=0;h<l.length;h++)b=l[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(Kh)throw Kh=!1,a=Cg,Cg=null,a;return(Xh&1)!==0&&a.tag!==0&&Ul(),k=a.pendingLanes,(k&1)!==0?a===Tg?yd++:(yd=0,Tg=a):yd=0,Sa(),null}function Ul(){if(Ea!==null){var a=ga(Xh),l=_r.transition,h=yt;try{if(_r.transition=null,yt=16>a?16:a,Ea===null)var g=!1;else{if(a=Ea,Ea=null,Xh=0,(St&6)!==0)throw Error(n(331));var b=St;for(St|=4,Be=a.current;Be!==null;){var k=Be,O=k.child;if((Be.flags&16)!==0){var K=k.deletions;if(K!==null){for(var X=0;X<K.length;X++){var le=K[X];for(Be=le;Be!==null;){var ve=Be;switch(ve.tag){case 0:case 11:case 15:gd(8,ve,k)}var we=ve.child;if(we!==null)we.return=ve,Be=we;else for(;Be!==null;){ve=Be;var xe=ve.sibling,Me=ve.return;if(yb(ve),ve===le){Be=null;break}if(xe!==null){xe.return=Me,Be=xe;break}Be=Me}}}var $e=k.alternate;if($e!==null){var Ve=$e.child;if(Ve!==null){$e.child=null;do{var fs=Ve.sibling;Ve.sibling=null,Ve=fs}while(Ve!==null)}}Be=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,Be=O;else e:for(;Be!==null;){if(k=Be,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:gd(9,k,k.return)}var ae=k.sibling;if(ae!==null){ae.return=k.return,Be=ae;break e}Be=k.return}}var J=a.current;for(Be=J;Be!==null;){O=Be;var oe=O.child;if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,Be=oe;else e:for(O=J;Be!==null;){if(K=Be,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Gh(9,K)}}catch(He){ds(K,K.return,He)}if(K===O){Be=null;break e}var Se=K.sibling;if(Se!==null){Se.return=K.return,Be=Se;break e}Be=K.return}}if(St=b,Sa(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(ao,a)}catch(He){}g=!0}return g}finally{yt=h,_r.transition=l}}return!1}function Db(a,l,h){l=Bl(h,l),l=Z1(a,l,1),a=ka(a,l,1),l=wn(),a!==null&&(pa(a,1,l),Bn(a,l))}function ds(a,l,h){if(a.tag===3)Db(a,a,h);else for(;l!==null;){if(l.tag===3){Db(l,a,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ta===null||!Ta.has(g))){a=Bl(h,a),a=eb(l,a,1),l=ka(l,a,1),a=wn(),l!==null&&(pa(l,1,a),Bn(l,a));break}}l=l.return}}function E4(a,l,h){var g=a.pingCache;g!==null&&g.delete(l),l=wn(),a.pingedLanes|=a.suspendedLanes&h,Fs===a&&(Ws&h)===h&&(Rs===4||Rs===3&&(Ws&130023424)===Ws&&500>Ot()-kg?jo(a,0):Ng|=h),Bn(a,l)}function Mb(a,l){l===0&&((a.mode&1)===0?l=1:(l=ul,ul<<=1,(ul&130023424)===0&&(ul=4194304)));var h=wn();a=Hi(a,l),a!==null&&(pa(a,l,h),Bn(a,h))}function A4(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Mb(a,h)}function I4(a,l){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Mb(a,h)}var Fb;Fb=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||Ln.current)Mn=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return Mn=!1,v4(a,l,h);Mn=(a.flags&131072)!==0}else Mn=!1,es&&(l.flags&1048576)!==0&&g1(l,Th,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;zh(a,l),a=l.pendingProps;var b=Al(l,nn.current);Ml(l,h),b=ng(null,l,g,a,b,h);var k=rg();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Dn(g)?(k=!0,Nh(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Xf(l),b.updater=Oh,l.stateNode=b,b._reactInternals=l,dg(l,g,a,h),l=pg(null,l,g,!0,k,h)):(l.tag=0,es&&k&&Vf(l),_n(null,l,b,h),l=l.child),l;case 16:g=l.elementType;e:{switch(zh(a,l),a=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=P4(g),a=Kr(g,a),b){case 0:l=mg(null,l,g,a,h);break e;case 1:l=cb(null,l,g,a,h);break e;case 11:l=rb(null,l,g,a,h);break e;case 14:l=ib(null,l,g,Kr(g.type,a),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Kr(g,b),mg(a,l,g,b,h);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Kr(g,b),cb(a,l,g,b,h);case 3:e:{if(db(l),a===null)throw Error(n(387));g=l.pendingProps,k=l.memoizedState,b=k.element,N1(a,l),Lh(l,g,null,h);var O=l.memoizedState;if(g=O.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=Bl(Error(n(423)),l),l=ub(a,l,g,h,b);break e}else if(g!==b){b=Bl(Error(n(424)),l),l=ub(a,l,g,h,b);break e}else for(tr=_a(l.stateNode.containerInfo.firstChild),er=l,es=!0,qr=null,h=j1(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Pl(),g===b){l=Wi(a,l,h);break e}_n(a,l,g,h)}l=l.child}return l;case 5:return T1(l),a===null&&zf(l),g=l.type,b=l.pendingProps,k=a!==null?a.memoizedProps:null,O=b.children,Lf(g,b)?O=null:k!==null&&Lf(g,k)&&(l.flags|=32),lb(a,l),_n(a,l,O,h),l.child;case 6:return a===null&&zf(l),null;case 13:return hb(a,l,h);case 4:return Yf(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Ll(l,null,g,h):_n(a,l,g,h),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Kr(g,b),rb(a,l,g,b,h);case 7:return _n(a,l,l.pendingProps,h),l.child;case 8:return _n(a,l,l.pendingProps.children,h),l.child;case 12:return _n(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,k=l.memoizedProps,O=b.value,Ut(Ih,g._currentValue),g._currentValue=O,k!==null)if(Wr(k.value,O)){if(k.children===b.children&&!Ln.current){l=Wi(a,l,h);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var K=k.dependencies;if(K!==null){O=k.child;for(var X=K.firstContext;X!==null;){if(X.context===g){if(k.tag===1){X=Gi(-1,h&-h),X.tag=2;var le=k.updateQueue;if(le!==null){le=le.shared;var ve=le.pending;ve===null?X.next=X:(X.next=ve.next,ve.next=X),le.pending=X}}k.lanes|=h,X=k.alternate,X!==null&&(X.lanes|=h),Kf(k.return,h,l),K.lanes|=h;break}X=X.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(n(341));O.lanes|=h,K=O.alternate,K!==null&&(K.lanes|=h),Kf(O,h,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}_n(a,l,b.children,h),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Ml(l,h),b=yr(b),g=g(b),l.flags|=1,_n(a,l,g,h),l.child;case 14:return g=l.type,b=Kr(g,l.pendingProps),b=Kr(g.type,b),ib(a,l,g,b,h);case 15:return ab(a,l,l.type,l.pendingProps,h);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Kr(g,b),zh(a,l),l.tag=1,Dn(g)?(a=!0,Nh(l)):a=!1,Ml(l,h),Y1(l,g,b),dg(l,g,b,h),pg(null,l,g,!0,a,h);case 19:return pb(a,l,h);case 22:return ob(a,l,h)}throw Error(n(156,l.tag))};function Bb(a,l){return cl(a,l)}function R4(a,l,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,l,h,g){return new R4(a,l,h,g)}function Lg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function P4(a){if(typeof a=="function")return Lg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===z)return 14}return 2}function Ra(a,l){var h=a.alternate;return h===null?(h=wr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function em(a,l,h,g,b,k){var O=2;if(g=a,typeof a=="function")Lg(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case C:return No(h.children,b,k,l);case _:O=8,b|=8;break;case E:return a=wr(12,h,l,b|2),a.elementType=E,a.lanes=k,a;case $:return a=wr(13,h,l,b),a.elementType=$,a.lanes=k,a;case q:return a=wr(19,h,l,b),a.elementType=q,a.lanes=k,a;case Q:return tm(h,b,k,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:O=10;break e;case R:O=9;break e;case V:O=11;break e;case z:O=14;break e;case W:O=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=wr(O,h,l,b),l.elementType=a,l.type=g,l.lanes=k,l}function No(a,l,h,g){return a=wr(7,a,g,l),a.lanes=h,a}function tm(a,l,h,g){return a=wr(22,a,g,l),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function Dg(a,l,h){return a=wr(6,a,null,l),a.lanes=h,a}function Mg(a,l,h){return l=wr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function L4(a,l,h,g,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Fg(a,l,h,g,b,k,O,K,X){return a=new L4(a,l,h,K,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=wr(3,null,null,l),a.current=k,k.stateNode=a,k.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(k),a}function D4(a,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:a,containerInfo:l,implementation:h}}function $b(a){if(!a)return ja;a=a._reactInternals;e:{if($r(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Dn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Dn(h))return m1(a,h,l)}return l}function Vb(a,l,h,g,b,k,O,K,X){return a=Fg(h,g,!0,a,b,k,O,K,X),a.context=$b(null),h=a.current,g=wn(),b=Aa(h),k=Gi(g,b),k.callback=l!=null?l:null,ka(h,k,b),a.current.lanes=b,pa(a,b,g),Bn(a,g),a}function sm(a,l,h,g){var b=l.current,k=wn(),O=Aa(b);return h=$b(h),l.context===null?l.context=h:l.pendingContext=h,l=Gi(k,O),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=ka(b,l,O),a!==null&&(Yr(a,b,O,k),Ph(a,b,O)),O}function nm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Ob(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Bg(a,l){Ob(a,l),(a=a.alternate)&&Ob(a,l)}function M4(){return null}var Ub=typeof reportError=="function"?reportError:function(a){console.error(a)};function $g(a){this._internalRoot=a}rm.prototype.render=$g.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));sm(a,l,null,null)},rm.prototype.unmount=$g.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;wo(function(){sm(null,a,null,null)}),l[Vi]=null}};function rm(a){this._internalRoot=a}rm.prototype.unstable_scheduleHydration=function(a){if(a){var l=rh();a={blockedOn:null,target:a,priority:l};for(var h=0;h<ui.length&&l!==0&&l<ui[h].priority;h++);ui.splice(h,0,a),h===0&&oh(a)}};function Vg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function im(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function zb(){}function F4(a,l,h,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var le=nm(O);k.call(le)}}var O=Vb(l,g,a,0,null,!1,!1,"",zb);return a._reactRootContainer=O,a[Vi]=O.current,nd(a.nodeType===8?a.parentNode:a),wo(),O}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var K=g;g=function(){var le=nm(X);K.call(le)}}var X=Fg(a,0,!1,null,null,!1,!1,"",zb);return a._reactRootContainer=X,a[Vi]=X.current,nd(a.nodeType===8?a.parentNode:a),wo(function(){sm(l,X,h,g)}),X}function am(a,l,h,g,b){var k=h._reactRootContainer;if(k){var O=k;if(typeof b=="function"){var K=b;b=function(){var X=nm(O);K.call(X)}}sm(l,O,a,b)}else O=F4(h,l,a,b,g);return nm(O)}sh=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=ha(l.pendingLanes);h!==0&&(fa(l,h|1),Bn(l,Ot()),(St&6)===0&&(Ol=Ot()+500,Sa()))}break;case 13:wo(function(){var g=Hi(a,1);if(g!==null){var b=wn();Yr(g,a,1,b)}}),Bg(a,1)}},hl=function(a){if(a.tag===13){var l=Hi(a,134217728);if(l!==null){var h=wn();Yr(l,a,134217728,h)}Bg(a,134217728)}},nh=function(a){if(a.tag===13){var l=Aa(a),h=Hi(a,l);if(h!==null){var g=wn();Yr(h,a,l,g)}Bg(a,l)}},rh=function(){return yt},ih=function(a,l){var h=yt;try{return yt=a,l()}finally{yt=h}},Ri=function(a,l,h){switch(l){case"input":if(ys(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==a&&g.form===a.form){var b=jh(g);if(!b)throw Error(n(90));he(g),ys(g,b)}}}break;case"textarea":dr(a,h);break;case"select":l=h.value,l!=null&&xn(a,!!h.multiple,l,!1)}},to=Ig,Bc=wo;var B4={usingClientEntryPoint:!1,Events:[ad,Tl,jh,Qn,Fc,Ig]},bd={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$4={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Oc(a),a===null?null:a.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||M4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{ao=om.inject($4),Xn=om}catch(a){}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4,$n.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vg(l))throw Error(n(200));return D4(a,l,null,h)},$n.createRoot=function(a,l){if(!Vg(a))throw Error(n(299));var h=!1,g="",b=Ub;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Fg(a,1,!1,null,null,h,!1,g,b),a[Vi]=l.current,nd(a.nodeType===8?a.parentNode:a),new $g(l)},$n.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Oc(l),a=a===null?null:a.stateNode,a},$n.flushSync=function(a){return wo(a)},$n.hydrate=function(a,l,h){if(!im(l))throw Error(n(200));return am(null,a,l,!0,h)},$n.hydrateRoot=function(a,l,h){if(!Vg(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,b=!1,k="",O=Ub;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),l=Vb(l,null,a,1,h!=null?h:null,b,!1,k,O),a[Vi]=l.current,nd(a),g)for(a=0;a<g.length;a++)h=g[a],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new rm(l)},$n.render=function(a,l,h){if(!im(l))throw Error(n(200));return am(null,a,l,!1,h)},$n.unmountComponentAtNode=function(a){if(!im(a))throw Error(n(40));return a._reactRootContainer?(wo(function(){am(null,null,a,!1,function(){a._reactRootContainer=null,a[Vi]=null})}),!0):!1},$n.unstable_batchedUpdates=Ig,$n.unstable_renderSubtreeIntoContainer=function(a,l,h,g){if(!im(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return am(a,l,h,!1,g)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var Yb;function Gj(){if(Yb)return zg.exports;Yb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zg.exports=W4(),zg.exports}var Jb;function q4(){if(Jb)return lm;Jb=1;var t=Gj();return lm.createRoot=t.createRoot,lm.hydrateRoot=t.hydrateRoot,lm}var K4=q4();const Q4=Yv(K4),X4={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License"},Y4={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},J4={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},Z4={nav:X4,topbar:Y4,profile:J4},eC={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen"},tC={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},sC={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},nC={nav:eC,topbar:tC,profile:sC},rC={en:Z4,de:nC};function et(t,e="en"){const n=t.split(".");let r=rC[e];for(const i of n)if(r=r==null?void 0:r[i],r==null)return t;return String(r)}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zb="popstate";function iC(t={}){function e(i,o){let{pathname:c="/",search:d="",hash:u=""}=Qo(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Jx("",{pathname:c,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let u=i.location.href,m=u.indexOf("#");d=m===-1?u:u.slice(0,m)}return d+"#"+(typeof o=="string"?o:ru(o))}function r(i,o){or(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return oC(e,n,r,t)}function ss(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function or(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function aC(){return Math.random().toString(36).substring(2,10)}function e2(t,e){return{usr:t.state,key:t.key,idx:e}}function Jx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:n,key:e&&e.key||r||aC()}}function ru({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",u=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function x(){d="POP";let I=p(),F=I==null?null:I-m;m=I,u&&u({action:d,location:P.location,delta:F})}function v(I,F){d="PUSH";let B=Jx(P.location,I,F);n&&n(B,I),m=p()+1;let T=e2(B,m),y=P.createHref(B);try{c.pushState(T,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(y)}o&&u&&u({action:d,location:P.location,delta:1})}function j(I,F){d="REPLACE";let B=Jx(P.location,I,F);n&&n(B,I),m=p();let T=e2(B,m),y=P.createHref(B);c.replaceState(T,"",y),o&&u&&u({action:d,location:P.location,delta:0})}function N(I){return lC(I)}let P={get action(){return d},get location(){return t(i,c)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Zb,x),u=I,()=>{i.removeEventListener(Zb,x),u=null}},createHref(I){return e(i,I)},createURL:N,encodeLocation(I){let F=N(I);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:v,replace:j,go(I){return c.go(I)}};return P}function lC(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ss(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ru(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Wj(t,e,n="/"){return cC(t,e,n,!1)}function cC(t,e,n,r){let i=typeof e=="string"?Qo(e):e,o=ra(i.pathname||"/",n);if(o==null)return null;let c=qj(t);dC(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let m=_C(o);d=yC(c[u],m,r)}return d}function qj(t,e=[],n=[],r="",i=!1){let o=(c,d,u=i,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;ss(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let x=sa([r,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(ss(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),qj(c.children,e,v,x,u)),!(c.path==null&&!c.index)&&e.push({path:x,score:xC(x,c.index),routesMeta:v})};return t.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,d);else for(let m of Kj(c.path))o(c,d,!0,m)}),e}function Kj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=Kj(r.join("/")),d=[];return d.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&d.push(...c),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function dC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uC=/^:[\w-]+$/,hC=3,mC=2,pC=1,fC=10,gC=-2,t2=t=>t==="*";function xC(t,e){let n=t.split("/"),r=n.length;return n.some(t2)&&(r+=gC),e&&(r+=mC),n.filter(i=>!t2(i)).reduce((i,o)=>i+(uC.test(o)?hC:o===""?pC:fC),r)}function vC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yC(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],m=d===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=tp({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},p),v=u.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=tp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:sa([o,x.pathname]),pathnameBase:NC(sa([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=sa([o,x.pathnameBase]))}return c}function tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:x},v)=>{if(p==="*"){let N=d[v]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const j=d[v];return x&&!j?m[p]=void 0:m[p]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function bC(t,e=!1,n=!0){or(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return or(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ra(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wC(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:jC(n,e):e,search:kC(r),hash:CC(i)}}function jC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zv(t){let e=SC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ey(t,e,n,r=!1){let i;typeof t=="string"?i=Qo(t):(i={...t},ss(!i.pathname||!i.pathname.includes("?"),Wg("?","pathname","search",i)),ss(!i.pathname||!i.pathname.includes("#"),Wg("#","pathname","hash",i)),ss(!i.search||!i.search.includes("#"),Wg("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}d=x>=0?e[x]:"/"}let u=wC(i,d),m=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(m||p)&&(u.pathname+="/"),u}var sa=t=>t.join("/").replace(/\/\/+/g,"/"),NC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Qj=["POST","PUT","PATCH","DELETE"];new Set(Qj);var EC=["GET",...Qj];new Set(EC);var Nc=A.createContext(null);Nc.displayName="DataRouter";var Rp=A.createContext(null);Rp.displayName="DataRouterState";A.createContext(!1);var Xj=A.createContext({isTransitioning:!1});Xj.displayName="ViewTransition";var AC=A.createContext(new Map);AC.displayName="Fetchers";var IC=A.createContext(null);IC.displayName="Await";var ii=A.createContext(null);ii.displayName="Navigation";var ku=A.createContext(null);ku.displayName="Location";var Ir=A.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var ty=A.createContext(null);ty.displayName="RouteError";function RC(t,{relative:e}={}){ss(kc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(ii),{hash:i,pathname:o,search:c}=Cu(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:sa([n,o])),r.createHref({pathname:d,search:c,hash:i})}function kc(){return A.useContext(ku)!=null}function Wn(){return ss(kc(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(ku).location}var Yj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jj(t){A.useContext(ii).static||A.useLayoutEffect(t)}function Rr(){let{isDataRoute:t}=A.useContext(Ir);return t?qC():PC()}function PC(){ss(kc(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Nc),{basename:e,navigator:n}=A.useContext(ii),{matches:r}=A.useContext(Ir),{pathname:i}=Wn(),o=JSON.stringify(Zv(r)),c=A.useRef(!1);return Jj(()=>{c.current=!0}),A.useCallback((u,m={})=>{if(or(c.current,Yj),!c.current)return;if(typeof u=="number"){n.go(u);return}let p=ey(u,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:sa([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,i,t])}var LC=A.createContext(null);function DC(t){let e=A.useContext(Ir).outlet;return e&&A.createElement(LC.Provider,{value:t},e)}function Pp(){let{matches:t}=A.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function Cu(t,{relative:e}={}){let{matches:n}=A.useContext(Ir),{pathname:r}=Wn(),i=JSON.stringify(Zv(n));return A.useMemo(()=>ey(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function MC(t,e){return Zj(t,e)}function Zj(t,e,n,r,i){var B;ss(kc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(ii),{matches:c}=A.useContext(Ir),d=c[c.length-1],u=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",x=d&&d.route;{let T=x&&x.path||"";eS(m,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Wn(),j;if(e){let T=typeof e=="string"?Qo(e):e;ss(p==="/"||((B=T.pathname)==null?void 0:B.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),j=T}else j=v;let N=j.pathname||"/",P=N;if(p!=="/"){let T=p.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(T.length).join("/")}let I=Wj(t,{pathname:P});or(x||I!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),or(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=OC(I&&I.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:sa([p,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:sa([p,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,n,r,i);return e&&F?A.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},F):F}function FC(){let t=WC(),e=TC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,c)}var BC=A.createElement(FC,null),$C=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Ir.Provider,{value:this.props.routeContext},A.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VC({routeContext:t,match:e,children:n}){let r=A.useContext(Nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Ir.Provider,{value:t},n)}function OC(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n==null?void 0:n.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);ss(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,u=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:x,errors:v}=n,j=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||j){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,p,x)=>{let v,j=!1,N=null,P=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,N=p.route.errorElement||BC,d&&(u<0&&x===0?(eS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,P=null):u===x&&(j=!0,P=p.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,x+1)),F=()=>{let B;return v?B=N:j?B=P:p.route.Component?B=A.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=m,A.createElement(VC,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?A.createElement($C,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:F(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):F()},null)}function sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UC(t){let e=A.useContext(Nc);return ss(e,sy(t)),e}function zC(t){let e=A.useContext(Rp);return ss(e,sy(t)),e}function HC(t){let e=A.useContext(Ir);return ss(e,sy(t)),e}function ny(t){let e=HC(t),n=e.matches[e.matches.length-1];return ss(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function GC(){return ny("useRouteId")}function WC(){var r;let t=A.useContext(ty),e=zC("useRouteError"),n=ny("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function qC(){let{router:t}=UC("useNavigate"),e=ny("useNavigate"),n=A.useRef(!1);return Jj(()=>{n.current=!0}),A.useCallback(async(i,o={})=>{or(n.current,Yj),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var s2={};function eS(t,e,n){!e&&!s2[t]&&(s2[t]=!0,or(!1,n))}A.memo(KC);function KC({routes:t,future:e,state:n,unstable_onError:r}){return Zj(t,void 0,n,r,e)}function qg({to:t,replace:e,state:n,relative:r}){ss(kc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(ii);or(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=A.useContext(Ir),{pathname:c}=Wn(),d=Rr(),u=ey(t,Zv(o),c,r==="path"),m=JSON.stringify(u);return A.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function tS(t){return DC(t.context)}function ue(t){ss(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ss(!kc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=Qo(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:v="default"}=n,j=A.useMemo(()=>{let N=ra(u,c);return N==null?null:{location:{pathname:N,search:m,hash:p,state:x,key:v},navigationType:r}},[c,u,m,p,x,v,r]);return or(j!=null,`<Router basename="${c}"> is not able to match the URL "${u}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:A.createElement(ii.Provider,{value:d},A.createElement(ku.Provider,{children:e,value:j}))}function XC({children:t,location:e}){return MC(Zx(t),e)}function Zx(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let o=[...e,i];if(r.type===A.Fragment){n.push.apply(n,Zx(r.props.children,o));return}ss(r.type===ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ss(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Zx(r.props.children,o)),n.push(c)}),n}var Mm="get",Fm="application/x-www-form-urlencoded";function Lp(t){return t!=null&&typeof t.tagName=="string"}function YC(t){return Lp(t)&&t.tagName.toLowerCase()==="button"}function JC(t){return Lp(t)&&t.tagName.toLowerCase()==="form"}function ZC(t){return Lp(t)&&t.tagName.toLowerCase()==="input"}function eT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tT(t,e){return t.button===0&&(!e||e==="_self")&&!eT(t)}function ev(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function sT(t,e){let n=ev(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var cm=null;function nT(){if(cm===null)try{new FormData(document.createElement("form"),0),cm=!1}catch(t){cm=!0}return cm}var rT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(t){return t!=null&&!rT.has(t)?(or(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):t}function iT(t,e){let n,r,i,o,c;if(JC(t)){let d=t.getAttribute("action");r=d?ra(d,e):null,n=t.getAttribute("method")||Mm,i=Kg(t.getAttribute("enctype"))||Fm,o=new FormData(t)}else if(YC(t)||ZC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(r=u?ra(u,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Mm,i=Kg(t.getAttribute("formenctype"))||Kg(d.getAttribute("enctype"))||Fm,o=new FormData(d,t),!nT()){let{name:m,type:p,value:x}=t;if(p==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,x)}}else{if(Lp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mm,r=null,i=Fm,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ry(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function aT(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ra(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cT(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await oT(o,n);return c.links?c.links():[]}return[]}));return mT(r.flat(1).filter(lT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n2(t,e,n,r,i,o){let c=(u,m)=>n[m]?u.route.id!==n[m].route.id:!0,d=(u,m)=>{var p;return n[m].pathname!==u.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,m)=>c(u,m)||d(u,m)):o==="data"?e.filter((u,m)=>{var x;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(c(u,m)||d(u,m))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function dT(t,e,{includeHydrateFallback:n}={}){return uT(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function uT(t){return[...new Set(t)]}function hT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mT(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(hT(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function sS(){let t=A.useContext(Nc);return ry(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pT(){let t=A.useContext(Rp);return ry(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iy=A.createContext(void 0);iy.displayName="FrameworkContext";function nS(){let t=A.useContext(iy);return ry(t,"You must render this element inside a <HydratedRouter> element"),t}function fT(t,e){let n=A.useContext(iy),[r,i]=A.useState(!1),[o,c]=A.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:m,onMouseLeave:p,onTouchStart:x}=e,v=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=F=>{F.forEach(B=>{c(B.isIntersecting)})},I=new IntersectionObserver(P,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),A.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let j=()=>{i(!0)},N=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,v,{}]:[o,v,{onFocus:wd(d,j),onBlur:wd(u,N),onMouseEnter:wd(m,j),onMouseLeave:wd(p,N),onTouchStart:wd(x,j)}]:[!1,v,{}]}function wd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function gT({page:t,...e}){let{router:n}=sS(),r=A.useMemo(()=>Wj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(vT,{page:t,matches:r,...e}):null}function xT(t){let{manifest:e,routeModules:n}=nS(),[r,i]=A.useState([]);return A.useEffect(()=>{let o=!1;return cT(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function vT({page:t,matches:e,...n}){let r=Wn(),{manifest:i,routeModules:o}=nS(),{basename:c}=sS(),{loaderData:d,matches:u}=pT(),m=A.useMemo(()=>n2(t,e,u,i,r,"data"),[t,e,u,i,r]),p=A.useMemo(()=>n2(t,e,u,i,r,"assets"),[t,e,u,i,r]),x=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(F=>{var T;let B=i.routes[F.route.id];!B||!B.hasLoader||(!m.some(y=>y.route.id===F.route.id)&&F.route.id in d&&((T=o[F.route.id])!=null&&T.shouldRevalidate)||B.hasClientLoader?P=!0:N.add(F.route.id))}),N.size===0)return[];let I=aT(t,c,"data");return P&&N.size>0&&I.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[I.pathname+I.search]},[c,d,r,i,m,e,t,o]),v=A.useMemo(()=>dT(p,i),[p,i]),j=xT(p);return A.createElement(A.Fragment,null,x.map(N=>A.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),v.map(N=>A.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),j.map(({key:N,link:P})=>A.createElement("link",{key:N,nonce:n.nonce,...P})))}function yT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rS=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{rS&&(window.__reactRouterVersion="7.9.1")}catch(t){}function bT({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=iC({window:n,v5Compat:!0}));let i=r.current,[o,c]=A.useState({action:i.action,location:i.location}),d=A.useCallback(u=>{A.startTransition(()=>c(u))},[c]);return A.useLayoutEffect(()=>i.listen(d),[i,d]),A.createElement(QC,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:u,to:m,preventScrollReset:p,viewTransition:x,...v},j){let{basename:N}=A.useContext(ii),P=typeof m=="string"&&iS.test(m),I,F=!1;if(typeof m=="string"&&P&&(I=m,rS))try{let E=new URL(window.location.href),L=m.startsWith("//")?new URL(E.protocol+m):new URL(m),R=ra(L.pathname,N);L.origin===E.origin&&R!=null?m=R+L.search+L.hash:F=!0}catch(E){or(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=RC(m,{relative:i}),[T,y,w]=fT(r,v),M=jT(m,{replace:c,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:x});function C(E){e&&e(E),E.defaultPrevented||M(E)}let _=A.createElement("a",{...v,...w,href:I||B,onClick:F||o?e:C,ref:yT(j,y),target:u,"data-discover":!P&&n==="render"?"true":void 0});return T&&!P?A.createElement(A.Fragment,null,_,A.createElement(gT,{page:B})):_});Mt.displayName="Link";var hs=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:u,...m},p){let x=Cu(c,{relative:m.relative}),v=Wn(),j=A.useContext(Rp),{navigator:N,basename:P}=A.useContext(ii),I=j!=null&&TT(x)&&d===!0,F=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,B=v.pathname,T=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(B=B.toLowerCase(),T=T?T.toLowerCase():null,F=F.toLowerCase()),T&&P&&(T=ra(T,P)||T);const y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let w=B===F||!i&&B.startsWith(F)&&B.charAt(y)==="/",M=T!=null&&(T===F||!i&&T.startsWith(F)&&T.charAt(F.length)==="/"),C={isActive:w,isPending:M,isTransitioning:I},_=w?e:void 0,E;typeof r=="function"?E=r(C):E=[r,w?"active":null,M?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(C):o;return A.createElement(Mt,{...m,"aria-current":_,className:E,ref:p,style:L,to:c,viewTransition:d},typeof u=="function"?u(C):u)});hs.displayName="NavLink";var _T=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=Mm,action:d,onSubmit:u,relative:m,preventScrollReset:p,viewTransition:x,...v},j)=>{let N=kT(),P=CT(d,{relative:m}),I=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&iS.test(d),B=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let y=T.nativeEvent.submitter,w=(y==null?void 0:y.getAttribute("formmethod"))||c;N(y||T.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:o,relative:m,preventScrollReset:p,viewTransition:x})};return A.createElement("form",{ref:j,method:I,action:P,onSubmit:r?u:B,...v,"data-discover":!F&&t==="render"?"true":void 0})});_T.displayName="Form";function wT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(t){let e=A.useContext(Nc);return ss(e,wT(t)),e}function jT(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Rr(),u=Wn(),m=Cu(t,{relative:o});return A.useCallback(p=>{if(tT(p,e)){p.preventDefault();let x=n!==void 0?n:ru(u)===ru(m);d(t,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[u,d,m,n,r,e,t,i,o,c])}function Xo(t){or(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(ev(t)),n=A.useRef(!1),r=Wn(),i=A.useMemo(()=>sT(r.search,n.current?null:e.current),[r.search]),o=Rr(),c=A.useCallback((d,u)=>{const m=ev(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,o("?"+m,u)},[o,i]);return[i,c]}var ST=0,NT=()=>`__${String(++ST)}__`;function kT(){let{router:t}=aS("useSubmit"),{basename:e}=A.useContext(ii),n=GC();return A.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:u,body:m}=iT(r,e);if(i.navigate===!1){let p=i.fetcherKey||NT();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function CT(t,{relative:e}={}){let{basename:n}=A.useContext(ii),r=A.useContext(Ir);ss(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Cu(t||".",{relative:e})},c=Wn();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:sa([n,o.pathname])),ru(o)}function TT(t,{relative:e}={}){let n=A.useContext(Xj);ss(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aS("useViewTransitionState"),i=Cu(t,{relative:e});if(!n.isTransitioning)return!1;let o=ra(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ra(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tp(i.pathname,c)!=null||tp(i.pathname,o)!=null}var ET=Gj();const AT=Yv(ET);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),r2=t=>{const e=RT(t);return e.charAt(0).toUpperCase()+e.slice(1)},oS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),PT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...d},u)=>A.createElement("svg",{ref:u,...LT,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oS("lucide",i),...!o&&!PT(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,p])=>A.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(DT,{ref:o,iconNode:e,className:oS(`lucide-${IT(r2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=r2(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Dp=nt("aperture",MT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],BT=nt("arrow-up-right",FT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VT=nt("ban",$T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UT=nt("bell",OT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],HT=nt("book-open",zT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],WT=nt("chart-column",GT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KT=nt("chevron-right",qT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hd=nt("circle-alert",QT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YT=nt("circle-check",XT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Bm=nt("circle-dot",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eE=nt("circle-user-round",ZT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sE=nt("clock-3",tE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],rE=nt("cloud-upload",nE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aE=nt("compass",iE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],lE=nt("database",oE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],lS=nt("diamond",cE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uE=nt("file-text",dE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],mE=nt("folder-search",hE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fE=nt("globe",pE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],cS=nt("hexagon",gE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vE=nt("house",xE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bE=nt("layers",yE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wE=nt("layout-dashboard",_E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ua=nt("loader-circle",jE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],NE=nt("messages-square",SE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],CE=nt("pin-off",kE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],EE=nt("pin",TE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Mp=nt("refresh-ccw",AE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],RE=nt("scroll-text",IE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tv=nt("search",PE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],DE=nt("server-cog",LE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FE=nt("settings",ME);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],dS=nt("shapes",BE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],uS=nt("shield-alert",$E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OE=nt("shield-check",VE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],zE=nt("shield-off",UE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yo=nt("shield",HE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],WE=nt("square-activity",GE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],KE=nt("star",qE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],XE=nt("sticky-note",QE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ay=nt("triangle-alert",YE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ZE=nt("trophy",JE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tA=nt("upload",eA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fp=nt("users",sA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hS=nt("zap",nA),rA="_topbar_qgv6p_3",iA="_topbarLeft_qgv6p_39",aA="_searchWrap_qgv6p_55",oA="_topbarRight_qgv6p_109",lA="_ico_qgv6p_125",cA="_btnIco_qgv6p_139",dA="_pill_qgv6p_173",uA="_onlyExpanded_qgv6p_195",hA="_upload_qgv6p_201",mA="_label_qgv6p_231",pA="_avatarBtn_qgv6p_237",fA="_avatar_qgv6p_237",gA="_accountRoot_qgv6p_260",xA="_accountDropdown_qgv6p_264",vA="_accountHeader_qgv6p_279",yA="_accountName_qgv6p_285",bA="_accountSub_qgv6p_291",_A="_accountStatusText_qgv6p_296",wA="_accountPrimary_qgv6p_301",jA="_accountHint_qgv6p_312",SA="_accountItem_qgv6p_317",NA="_accountDivider_qgv6p_332",kA="_accountMiniAvatar_qgv6p_338",CA="_accountLogout_qgv6p_344",Et={topbar:rA,topbarLeft:iA,searchWrap:aA,topbarRight:oA,ico:lA,btnIco:cA,pill:dA,onlyExpanded:uA,upload:hA,label:mA,avatarBtn:pA,avatar:fA,accountRoot:gA,accountDropdown:xA,accountHeader:vA,accountName:yA,accountSub:bA,accountStatusText:_A,accountPrimary:wA,accountHint:jA,accountItem:SA,accountDivider:NA,accountMiniAvatar:kA,accountLogout:CA},Tu="https://authapi-57ravjntpa-ew.a.run.app",mS=A.createContext(void 0),i2=`${Tu}/auth/session`,a2=`${Tu}/auth/logout`,TA=({children:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState("idle"),o=A.useCallback(j=>{j!=null&&j.authenticated&&j.user?(n(j.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),c=A.useCallback(async()=>{if(i("loading"),!i2){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated");return}try{const j=await fetch(i2,{credentials:"include"});if(!j.ok)throw new Error(`Failed to fetch session (${j.status})`);const N=await j.json();o(N)}catch(j){console.error("[Auth] Failed to refresh session.",j),n(null),i("unauthenticated")}},[o]);A.useEffect(()=>{c()},[c]);const d=A.useCallback(j=>{window.location.href=`${Tu}/auth/${j}/login`},[]),u=A.useCallback(()=>d("discord"),[d]),m=A.useCallback(()=>d("google"),[d]),p=A.useCallback(async()=>{if(!a2){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const j=await fetch(a2,{method:"POST",credentials:"include"});if(!j.ok)throw new Error(`Logout failed (${j.status})`)}catch(j){console.error("[Auth] Failed to logout. Clearing local session anyway.",j)}finally{n(null),i("unauthenticated")}},[]),x=A.useCallback(async()=>{await c()},[c]),v=A.useMemo(()=>({user:e,status:r,loginWithDiscord:u,loginWithGoogle:m,logout:p,refreshSession:x}),[e,r,u,m,p,x]);return s.jsx(mS.Provider,{value:v,children:t})},Eu=()=>{const t=A.useContext(mS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},EA="https://i.pravatar.cc/72",AA=({fallbackName:t})=>{var F,B;const{user:e,status:n,logout:r}=Eu(),i=Rr(),[o,c]=A.useState(!1),d=A.useRef(null),u=n==="authenticated",m=u?(B=(F=e==null?void 0:e.displayName)!=null?F:t)!=null?B:"Player":t!=null?t:"Guest",p=u&&(e!=null&&e.avatarUrl)?e.avatarUrl:EA;A.useEffect(()=>{const T=y=>{d.current&&!d.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const x=A.useCallback(()=>c(!1),[]),v=()=>{c(T=>!T)},j=()=>{i("/login"),x()},N=()=>{i("/settings/account"),x()},P=A.useCallback(async()=>{try{await r()}finally{x(),i("/")}},[x,r,i]),I=()=>n==="loading"||n==="idle"?s.jsx("p",{className:Et.accountStatusText,children:"Checking session..."}):n==="unauthenticated"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Et.accountHeader,children:[s.jsx("p",{className:Et.accountName,children:"Not signed in"}),s.jsx("p",{className:Et.accountSub,children:"Your scans stay synced when you log in."})]}),s.jsx("button",{type:"button",className:Et.accountPrimary,onClick:j,children:"Sign in"}),s.jsx("p",{className:Et.accountHint,children:"Use Discord or Google on the sign-in page."})]}):n==="authenticated"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Et.accountHeader,children:[s.jsx("img",{className:Et.accountMiniAvatar,src:p,alt:m}),s.jsxs("div",{children:[s.jsx("p",{className:Et.accountName,children:m}),s.jsxs("p",{className:Et.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),s.jsx("button",{type:"button",className:Et.accountItem,onClick:N,children:"Account & Profile"}),s.jsx("hr",{className:Et.accountDivider}),s.jsx("button",{type:"button",className:`${Et.accountItem} ${Et.accountLogout}`,onClick:P,children:"Logout"})]}):null;return s.jsxs("div",{className:Et.accountRoot,ref:d,children:[s.jsx("button",{type:"button",className:Et.avatarBtn,"aria-haspopup":"menu","aria-expanded":o,"aria-label":m,onClick:v,children:s.jsx("img",{className:Et.avatar,src:p,alt:m})}),o&&s.jsx("div",{className:Et.accountDropdown,role:"menu",children:I()})]})},pS=A.createContext(null);function IA({children:t,role:e}){const[n,r]=A.useState(!1),[i,o]=A.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=A.useCallback(p=>{c&&(p!=null&&p.tab?o(p.tab):o("csv"),r(!0))},[c]),u=A.useCallback(()=>r(!1),[]),m=A.useMemo(()=>({isOpen:n,open:d,close:u,activeTab:i,setTab:o,canUse:c}),[n,d,u,i,c]);return s.jsx(pS.Provider,{value:m,children:t})}function fS(){const t=A.useContext(pS);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var o2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],d=t[n++],u=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},xS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,d=c?t[i+1]:0,u=i+2<t.length,m=u?t[i+2]:0,p=o>>2,x=(o&3)<<4|d>>4;let v=(d&15)<<2|m>>6,j=m&63;u||(j=64,c||(v=64)),r.push(n[p],n[x],n[v],n[j])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||x==null)throw new PA;const v=o<<2|d>>4;if(r.push(v),m!==64){const j=d<<4&240|m>>2;if(r.push(j),x!==64){const N=m<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LA=function(t){const e=gS(t);return xS.encodeByteArray(e,!0)},sp=function(t){return LA(t).replace(/\./g,"")},DA=function(t){try{return xS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>MA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process=="undefined"||typeof o2=="undefined")return;const t=o2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$A=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&DA(t[1]);return e&&JSON.parse(e)},oy=()=>{try{return FA()||BA()||$A()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VA=t=>{var e,n;return(n=(e=oy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OA=t=>{const e=VA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vS=()=>{var t;return(t=oy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(n)),sp(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){var t;const e=(t=oy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function WA(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch(t){return!1}}function KA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class Cc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QA,Object.setPrototypeOf(this,Cc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yS.prototype.create)}}class yS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?XA(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Cc(i,d,r)}}function XA(t,e){return t.replace(YA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YA=/\{\$([^}]+)}/g;function sv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(l2(o)&&l2(c)){if(!sv(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class iu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e6(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZA(t){return t===Do?void 0:t}function e6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));const s6={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},n6=Ct.INFO,r6={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},i6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=r6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bS{constructor(e){this.name=e,this._logLevel=n6,this._logHandler=i6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const a6=(t,e)=>e.some(n=>t instanceof n);let c2,d2;function o6(){return c2||(c2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l6(){return d2||(d2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,nv=new WeakMap,wS=new WeakMap,Qg=new WeakMap,ly=new WeakMap;function c6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(za(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_S.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function d6(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});nv.set(t,e)}let rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u6(t){rv=t(rv)}function h6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xg(this),e,...n);return wS.set(r,e.sort?e.sort():[e]),za(r)}:l6().includes(t)?function(...e){return t.apply(Xg(this),e),za(_S.get(this))}:function(...e){return za(t.apply(Xg(this),e))}}function m6(t){return typeof t=="function"?h6(t):(t instanceof IDBTransaction&&d6(t),a6(t,o6())?new Proxy(t,rv):t)}function za(t){if(t instanceof IDBRequest)return c6(t);if(Qg.has(t))return Qg.get(t);const e=m6(t);return e!==t&&(Qg.set(t,e),ly.set(e,t)),e}const Xg=t=>ly.get(t);function p6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),d=za(c);return r&&c.addEventListener("upgradeneeded",u=>{r(za(c.result),u.oldVersion,u.newVersion,za(c.transaction),u)}),n&&c.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),d.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const f6=["get","getKey","getAll","getAllKeys","count"],g6=["put","add","delete","clear"],Yg=new Map;function u2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=g6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f6.includes(n)))return;const o=async function(c,...d){const u=this.transaction(c,i?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&u.done]))[0]};return Yg.set(e,o),o}u6(t=>({...t,get:(e,n,r)=>u2(e,n)||t.get(e,n,r),has:(e,n)=>!!u2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iv="@firebase/app",h2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new bS("@firebase/app"),y6="@firebase/app-compat",b6="@firebase/analytics-compat",_6="@firebase/analytics",w6="@firebase/app-check-compat",j6="@firebase/app-check",S6="@firebase/auth",N6="@firebase/auth-compat",k6="@firebase/database",C6="@firebase/data-connect",T6="@firebase/database-compat",E6="@firebase/functions",A6="@firebase/functions-compat",I6="@firebase/installations",R6="@firebase/installations-compat",P6="@firebase/messaging",L6="@firebase/messaging-compat",D6="@firebase/performance",M6="@firebase/performance-compat",F6="@firebase/remote-config",B6="@firebase/remote-config-compat",$6="@firebase/storage",V6="@firebase/storage-compat",O6="@firebase/firestore",U6="@firebase/vertexai-preview",z6="@firebase/firestore-compat",H6="firebase",G6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",W6={[iv]:"fire-core",[y6]:"fire-core-compat",[_6]:"fire-analytics",[b6]:"fire-analytics-compat",[j6]:"fire-app-check",[w6]:"fire-app-check-compat",[S6]:"fire-auth",[N6]:"fire-auth-compat",[k6]:"fire-rtdb",[C6]:"fire-data-connect",[T6]:"fire-rtdb-compat",[E6]:"fire-fn",[A6]:"fire-fn-compat",[I6]:"fire-iid",[R6]:"fire-iid-compat",[P6]:"fire-fcm",[L6]:"fire-fcm-compat",[D6]:"fire-perf",[M6]:"fire-perf-compat",[F6]:"fire-rc",[B6]:"fire-rc-compat",[$6]:"fire-gcs",[V6]:"fire-gcs-compat",[O6]:"fire-fst",[z6]:"fire-fst-compat",[U6]:"fire-vertex","fire-js":"fire-js",[H6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Map,q6=new Map,ov=new Map;function m2(t,e){try{t.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function np(t){const e=t.name;if(ov.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(const n of au.values())m2(n,t);for(const n of q6.values())m2(n,t);return!0}function K6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new yS("app","Firebase",Q6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=G6;function jS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(n||(n=vS()),!n)throw Ha.create("no-options");const o=au.get(i);if(o){if(sv(n,o.options)&&sv(r,o.config))return o;throw Ha.create("duplicate-app",{appName:i})}const c=new t6(i);for(const u of ov.values())c.addComponent(u);const d=new X6(n,r,c);return au.set(i,d),d}function SS(t=av){const e=au.get(t);if(!e&&t===av&&vS())return jS();if(!e)throw Ha.create("no-app",{appName:t});return e}function J6(){return Array.from(au.values())}function lc(t,e,n){var r;let i=(r=W6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(d.join(" "));return}np(new iu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="firebase-heartbeat-database",eI=1,ou="firebase-heartbeat-store";let Jg=null;function NS(){return Jg||(Jg=p6(Z6,eI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),Jg}async function tI(t){try{const n=(await NS()).transaction(ou),r=await n.objectStore(ou).get(kS(t));return await n.done,r}catch(e){if(e instanceof Cc)ia.warn(e.message);else{const n=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ia.warn(n.message)}}}async function p2(t,e){try{const r=(await NS()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,kS(t)),await r.done}catch(n){if(n instanceof Cc)ia.warn(n.message);else{const r=Ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(r.message)}}}function kS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1024,nI=720*60*60*1e3;class rI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=f2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=nI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ia.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f2(),{heartbeatsToSend:r,unsentEntries:i}=iI(this._heartbeatsCache.heartbeats),o=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ia.warn(n),""}}}function f2(){return new Date().toISOString().substring(0,10)}function iI(t,e=sI){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),g2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?KA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g2(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){np(new iu("platform-logger",e=>new x6(e),"PRIVATE")),np(new iu("heartbeat",e=>new rI(e),"PRIVATE")),lc(iv,h2,t),lc(iv,h2,"esm2017"),lc("fire-js","")}oI("");var x2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oo,CS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function E(){}E.prototype=_.prototype,C.D=_.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(L,R,V){for(var $=Array(arguments.length-2),q=2;q<arguments.length;q++)$[q-2]=arguments[q];return _.prototype[R].apply(L,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,E){E||(E=0);var L=Array(16);if(typeof _=="string")for(var R=0;16>R;++R)L[R]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(R=0;16>R;++R)L[R]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=C.g[0],E=C.g[1],R=C.g[2];var V=C.g[3],$=_+(V^E&(R^V))+L[0]+3614090360&4294967295;_=E+($<<7&4294967295|$>>>25),$=V+(R^_&(E^R))+L[1]+3905402710&4294967295,V=_+($<<12&4294967295|$>>>20),$=R+(E^V&(_^E))+L[2]+606105819&4294967295,R=V+($<<17&4294967295|$>>>15),$=E+(_^R&(V^_))+L[3]+3250441966&4294967295,E=R+($<<22&4294967295|$>>>10),$=_+(V^E&(R^V))+L[4]+4118548399&4294967295,_=E+($<<7&4294967295|$>>>25),$=V+(R^_&(E^R))+L[5]+1200080426&4294967295,V=_+($<<12&4294967295|$>>>20),$=R+(E^V&(_^E))+L[6]+2821735955&4294967295,R=V+($<<17&4294967295|$>>>15),$=E+(_^R&(V^_))+L[7]+4249261313&4294967295,E=R+($<<22&4294967295|$>>>10),$=_+(V^E&(R^V))+L[8]+1770035416&4294967295,_=E+($<<7&4294967295|$>>>25),$=V+(R^_&(E^R))+L[9]+2336552879&4294967295,V=_+($<<12&4294967295|$>>>20),$=R+(E^V&(_^E))+L[10]+4294925233&4294967295,R=V+($<<17&4294967295|$>>>15),$=E+(_^R&(V^_))+L[11]+2304563134&4294967295,E=R+($<<22&4294967295|$>>>10),$=_+(V^E&(R^V))+L[12]+1804603682&4294967295,_=E+($<<7&4294967295|$>>>25),$=V+(R^_&(E^R))+L[13]+4254626195&4294967295,V=_+($<<12&4294967295|$>>>20),$=R+(E^V&(_^E))+L[14]+2792965006&4294967295,R=V+($<<17&4294967295|$>>>15),$=E+(_^R&(V^_))+L[15]+1236535329&4294967295,E=R+($<<22&4294967295|$>>>10),$=_+(R^V&(E^R))+L[1]+4129170786&4294967295,_=E+($<<5&4294967295|$>>>27),$=V+(E^R&(_^E))+L[6]+3225465664&4294967295,V=_+($<<9&4294967295|$>>>23),$=R+(_^E&(V^_))+L[11]+643717713&4294967295,R=V+($<<14&4294967295|$>>>18),$=E+(V^_&(R^V))+L[0]+3921069994&4294967295,E=R+($<<20&4294967295|$>>>12),$=_+(R^V&(E^R))+L[5]+3593408605&4294967295,_=E+($<<5&4294967295|$>>>27),$=V+(E^R&(_^E))+L[10]+38016083&4294967295,V=_+($<<9&4294967295|$>>>23),$=R+(_^E&(V^_))+L[15]+3634488961&4294967295,R=V+($<<14&4294967295|$>>>18),$=E+(V^_&(R^V))+L[4]+3889429448&4294967295,E=R+($<<20&4294967295|$>>>12),$=_+(R^V&(E^R))+L[9]+568446438&4294967295,_=E+($<<5&4294967295|$>>>27),$=V+(E^R&(_^E))+L[14]+3275163606&4294967295,V=_+($<<9&4294967295|$>>>23),$=R+(_^E&(V^_))+L[3]+4107603335&4294967295,R=V+($<<14&4294967295|$>>>18),$=E+(V^_&(R^V))+L[8]+1163531501&4294967295,E=R+($<<20&4294967295|$>>>12),$=_+(R^V&(E^R))+L[13]+2850285829&4294967295,_=E+($<<5&4294967295|$>>>27),$=V+(E^R&(_^E))+L[2]+4243563512&4294967295,V=_+($<<9&4294967295|$>>>23),$=R+(_^E&(V^_))+L[7]+1735328473&4294967295,R=V+($<<14&4294967295|$>>>18),$=E+(V^_&(R^V))+L[12]+2368359562&4294967295,E=R+($<<20&4294967295|$>>>12),$=_+(E^R^V)+L[5]+4294588738&4294967295,_=E+($<<4&4294967295|$>>>28),$=V+(_^E^R)+L[8]+2272392833&4294967295,V=_+($<<11&4294967295|$>>>21),$=R+(V^_^E)+L[11]+1839030562&4294967295,R=V+($<<16&4294967295|$>>>16),$=E+(R^V^_)+L[14]+4259657740&4294967295,E=R+($<<23&4294967295|$>>>9),$=_+(E^R^V)+L[1]+2763975236&4294967295,_=E+($<<4&4294967295|$>>>28),$=V+(_^E^R)+L[4]+1272893353&4294967295,V=_+($<<11&4294967295|$>>>21),$=R+(V^_^E)+L[7]+4139469664&4294967295,R=V+($<<16&4294967295|$>>>16),$=E+(R^V^_)+L[10]+3200236656&4294967295,E=R+($<<23&4294967295|$>>>9),$=_+(E^R^V)+L[13]+681279174&4294967295,_=E+($<<4&4294967295|$>>>28),$=V+(_^E^R)+L[0]+3936430074&4294967295,V=_+($<<11&4294967295|$>>>21),$=R+(V^_^E)+L[3]+3572445317&4294967295,R=V+($<<16&4294967295|$>>>16),$=E+(R^V^_)+L[6]+76029189&4294967295,E=R+($<<23&4294967295|$>>>9),$=_+(E^R^V)+L[9]+3654602809&4294967295,_=E+($<<4&4294967295|$>>>28),$=V+(_^E^R)+L[12]+3873151461&4294967295,V=_+($<<11&4294967295|$>>>21),$=R+(V^_^E)+L[15]+530742520&4294967295,R=V+($<<16&4294967295|$>>>16),$=E+(R^V^_)+L[2]+3299628645&4294967295,E=R+($<<23&4294967295|$>>>9),$=_+(R^(E|~V))+L[0]+4096336452&4294967295,_=E+($<<6&4294967295|$>>>26),$=V+(E^(_|~R))+L[7]+1126891415&4294967295,V=_+($<<10&4294967295|$>>>22),$=R+(_^(V|~E))+L[14]+2878612391&4294967295,R=V+($<<15&4294967295|$>>>17),$=E+(V^(R|~_))+L[5]+4237533241&4294967295,E=R+($<<21&4294967295|$>>>11),$=_+(R^(E|~V))+L[12]+1700485571&4294967295,_=E+($<<6&4294967295|$>>>26),$=V+(E^(_|~R))+L[3]+2399980690&4294967295,V=_+($<<10&4294967295|$>>>22),$=R+(_^(V|~E))+L[10]+4293915773&4294967295,R=V+($<<15&4294967295|$>>>17),$=E+(V^(R|~_))+L[1]+2240044497&4294967295,E=R+($<<21&4294967295|$>>>11),$=_+(R^(E|~V))+L[8]+1873313359&4294967295,_=E+($<<6&4294967295|$>>>26),$=V+(E^(_|~R))+L[15]+4264355552&4294967295,V=_+($<<10&4294967295|$>>>22),$=R+(_^(V|~E))+L[6]+2734768916&4294967295,R=V+($<<15&4294967295|$>>>17),$=E+(V^(R|~_))+L[13]+1309151649&4294967295,E=R+($<<21&4294967295|$>>>11),$=_+(R^(E|~V))+L[4]+4149444226&4294967295,_=E+($<<6&4294967295|$>>>26),$=V+(E^(_|~R))+L[11]+3174756917&4294967295,V=_+($<<10&4294967295|$>>>22),$=R+(_^(V|~E))+L[2]+718787259&4294967295,R=V+($<<15&4294967295|$>>>17),$=E+(V^(R|~_))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(R+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var E=_-this.blockSize,L=this.B,R=this.h,V=0;V<_;){if(R==0)for(;V<=E;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<_;)if(L[R++]=C.charCodeAt(V++),R==this.blockSize){i(this,L),R=0;break}}else for(;V<_;)if(L[R++]=C[V++],R==this.blockSize){i(this,L),R=0;break}}this.h=R,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var E=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=E&255,E/=256;for(this.u(C),C=Array(16),_=E=0;4>_;++_)for(var L=0;32>L;L+=8)C[E++]=this.g[_]>>>L&255;return C};function o(C,_){var E=d;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=_(C)}function c(C,_){this.h=_;for(var E=[],L=!0,R=C.length-1;0<=R;R--){var V=C[R]|0;L&&V==_||(E[R]=V,L=!1)}this.g=E}var d={};function u(C){return-128<=C&&128>C?o(C,function(_){return new c([_|0],0>_?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return x;if(0>C)return I(m(-C));for(var _=[],E=1,L=0;C>=E;L++)_[L]=C/E|0,E*=4294967296;return new c(_,0)}function p(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return I(p(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=m(Math.pow(_,8)),L=x,R=0;R<C.length;R+=8){var V=Math.min(8,C.length-R),$=parseInt(C.substring(R,R+V),_);8>V?(V=m(Math.pow(_,V)),L=L.j(V).add(m($))):(L=L.j(E),L=L.add(m($)))}return L}var x=u(0),v=u(1),j=u(16777216);t=c.prototype,t.m=function(){if(P(this))return-I(this).m();for(var C=0,_=1,E=0;E<this.g.length;E++){var L=this.i(E);C+=(0<=L?L:4294967296+L)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+I(this).toString(C);for(var _=m(Math.pow(C,6)),E=this,L="";;){var R=y(E,_).g;E=F(E,R.j(_));var V=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=R,N(E))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=F(this,C),P(C)?-1:N(C)?0:1};function I(C){for(var _=C.g.length,E=[],L=0;L<_;L++)E[L]=~C.g[L];return new c(E,~C.h).add(v)}t.abs=function(){return P(this)?I(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],L=0,R=0;R<=_;R++){var V=L+(this.i(R)&65535)+(C.i(R)&65535),$=(V>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);L=$>>>16,V&=65535,$&=65535,E[R]=$<<16|V}return new c(E,E[E.length-1]&-2147483648?-1:0)};function F(C,_){return C.add(I(_))}t.j=function(C){if(N(this)||N(C))return x;if(P(this))return P(C)?I(this).j(I(C)):I(I(this).j(C));if(P(C))return I(this.j(I(C)));if(0>this.l(j)&&0>C.l(j))return m(this.m()*C.m());for(var _=this.g.length+C.g.length,E=[],L=0;L<2*_;L++)E[L]=0;for(L=0;L<this.g.length;L++)for(var R=0;R<C.g.length;R++){var V=this.i(L)>>>16,$=this.i(L)&65535,q=C.i(R)>>>16,z=C.i(R)&65535;E[2*L+2*R]+=$*z,B(E,2*L+2*R),E[2*L+2*R+1]+=V*z,B(E,2*L+2*R+1),E[2*L+2*R+1]+=$*q,B(E,2*L+2*R+1),E[2*L+2*R+2]+=V*q,B(E,2*L+2*R+2)}for(L=0;L<_;L++)E[L]=E[2*L+1]<<16|E[2*L];for(L=_;L<2*_;L++)E[L]=0;return new c(E,0)};function B(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function T(C,_){this.g=C,this.h=_}function y(C,_){if(N(_))throw Error("division by zero");if(N(C))return new T(x,x);if(P(C))return _=y(I(C),_),new T(I(_.g),I(_.h));if(P(_))return _=y(C,I(_)),new T(I(_.g),_.h);if(30<C.g.length){if(P(C)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var E=v,L=_;0>=L.l(C);)E=w(E),L=w(L);var R=M(E,1),V=M(L,1);for(L=M(L,2),E=M(E,2);!N(L);){var $=V.add(L);0>=$.l(C)&&(R=R.add(E),V=$),L=M(L,1),E=M(E,1)}return _=F(C,R.j(_)),new T(R,_)}for(R=x;0<=C.l(_);){for(E=Math.max(1,Math.floor(C.m()/_.m())),L=Math.ceil(Math.log(E)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=m(E),$=V.j(_);P($)||0<$.l(C);)E-=L,V=m(E),$=V.j(_);N(V)&&(V=v),R=R.add(V),C=F(C,$)}return new T(R,C)}t.A=function(C){return y(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],L=0;L<_;L++)E[L]=this.i(L)&C.i(L);return new c(E,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],L=0;L<_;L++)E[L]=this.i(L)|C.i(L);return new c(E,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],L=0;L<_;L++)E[L]=this.i(L)^C.i(L);return new c(E,this.h^C.h)};function w(C){for(var _=C.g.length+1,E=[],L=0;L<_;L++)E[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(E,C.h)}function M(C,_){var E=_>>5;_%=32;for(var L=C.g.length-E,R=[],V=0;V<L;V++)R[V]=0<_?C.i(V+E)>>>_|C.i(V+E+1)<<32-_:C.i(V+E);return new c(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=p,Oo=c}).apply(typeof x2!="undefined"?x2:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var dm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TS,Ld,ES,$m,lv,AS,IS,RS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,D){return f==Array.prototype||f==Object.prototype||(f[S]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dm=="object"&&dm];for(var S=0;S<f.length;++S){var D=f[S];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(f,S){if(S)e:{var D=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ie=f[U];if(!(ie in D))break e;D=D[ie]}f=f[f.length-1],U=D[f],S=S(U),S!=U&&S!=null&&e(D,f,{configurable:!0,writable:!0,value:S})}}function o(f,S){f instanceof String&&(f+="");var D=0,U=!1,ie={next:function(){if(!U&&D<f.length){var de=D++;return{value:S(de,f[de]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(f){return f||function(){return o(this,function(S,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function u(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function m(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function p(f,S,D){return f.call.apply(f.bind,arguments)}function x(f,S,D){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,U),f.apply(S,ie)}}return function(){return f.apply(S,arguments)}}function v(f,S,D){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,v.apply(null,arguments)}function j(f,S){var D=Array.prototype.slice.call(arguments,1);return function(){var U=D.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function N(f,S){function D(){}D.prototype=S.prototype,f.aa=S.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(U,ie,de){for(var Ie=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Ie[Pt-2]=arguments[Pt];return S.prototype[ie].apply(U,Ie)}}function P(f){const S=f.length;if(0<S){const D=Array(S);for(let U=0;U<S;U++)D[U]=f[U];return D}return[]}function I(f,S){for(let D=1;D<arguments.length;D++){const U=arguments[D];if(u(U)){const ie=f.length||0,de=U.length||0;f.length=ie+de;for(let Ie=0;Ie<de;Ie++)f[ie+Ie]=U[Ie]}else f.push(U)}}class F{constructor(S,D){this.i=S,this.j=D,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function B(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var w=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(f,S,D){for(const U in f)S.call(D,f[U],U,f)}function C(f,S){for(const D in f)S.call(void 0,f[D],D,f)}function _(f){const S={};for(const D in f)S[D]=f[D];return S}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,S){let D,U;for(let ie=1;ie<arguments.length;ie++){U=arguments[ie];for(D in U)f[D]=U[D];for(let de=0;de<E.length;de++)D=E[de],Object.prototype.hasOwnProperty.call(U,D)&&(f[D]=U[D])}}function R(f){var S=1;f=f.split(":");const D=[];for(;0<S&&f.length;)D.push(f.shift()),S--;return f.length&&D.push(f.join(":")),D}function V(f){d.setTimeout(()=>{throw f},0)}function $(){var f=ee;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class q{constructor(){this.h=this.g=null}add(S,D){const U=z.get();U.set(S,D),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new F(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(S,D){this.h=S,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,H=!1,ee=new q,ne=()=>{const f=d.Promise.resolve(void 0);Q=()=>{f.then(G)}};var G=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(D){V(D)}var S=z;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}H=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};d.addEventListener("test",D,S),d.removeEventListener("test",D,S)}catch(D){}return f})();function pe(f,S){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(w){e:{try{y(S.nodeName);var ie=!0;break e}catch(de){}ie=!1}ie||(S=null)}}else D=="mouseover"?S=f.fromElement:D=="mouseout"&&(S=f.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&pe.aa.h.call(this)}}N(pe,ce);var Ce={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ne(f,S,D,U,ie){this.listener=f,this.proxy=null,this.src=S,this.type=D,this.capture=!!U,this.ha=ie,this.key=++Te,this.da=this.fa=!1}function Ke(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function It(f){this.src=f,this.g={},this.h=0}It.prototype.add=function(f,S,D,U,ie){var de=f.toString();f=this.g[de],f||(f=this.g[de]=[],this.h++);var Ie=De(f,S,U,ie);return-1<Ie?(S=f[Ie],D||(S.fa=!1)):(S=new Ne(S,this.src,de,!!U,ie),S.fa=D,f.push(S)),S};function he(f,S){var D=S.type;if(D in f.g){var U=f.g[D],ie=Array.prototype.indexOf.call(U,S,void 0),de;(de=0<=ie)&&Array.prototype.splice.call(U,ie,1),de&&(Ke(S),f.g[D].length==0&&(delete f.g[D],f.h--))}}function De(f,S,D,U){for(var ie=0;ie<f.length;++ie){var de=f[ie];if(!de.da&&de.listener==S&&de.capture==!!D&&de.ha==U)return ie}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),Rt={};function Vt(f,S,D,U,ie){if(Array.isArray(S)){for(var de=0;de<S.length;de++)Vt(f,S[de],D,U,ie);return null}return D=Es(D),f&&f[ge]?f.K(S,D,m(U)?!!U.capture:!1,ie):ys(f,S,D,!1,U,ie)}function ys(f,S,D,U,ie,de){if(!S)throw Error("Invalid event type");var Ie=m(ie)?!!ie.capture:!!ie,Pt=cr(f);if(Pt||(f[Ue]=Pt=new It(f)),D=Pt.add(S,D,U,Ie,de),D.proxy)return D;if(U=Lr(),D.proxy=U,U.src=f,U.listener=D,f.addEventListener)Z||(ie=Ie),ie===void 0&&(ie=!1),f.addEventListener(S.toString(),U,ie);else if(f.attachEvent)f.attachEvent(xn(S.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Lr(){function f(D){return S.call(f.src,f.listener,D)}const S=Dr;return f}function In(f,S,D,U,ie){if(Array.isArray(S))for(var de=0;de<S.length;de++)In(f,S[de],D,U,ie);else U=m(U)?!!U.capture:!!U,D=Es(D),f&&f[ge]?(f=f.i,S=String(S).toString(),S in f.g&&(de=f.g[S],D=De(de,D,U,ie),-1<D&&(Ke(de[D]),Array.prototype.splice.call(de,D,1),de.length==0&&(delete f.g[S],f.h--)))):f&&(f=cr(f))&&(S=f.g[S.toString()],f=-1,S&&(f=De(S,D,U,ie)),(D=-1<f?S[f]:null)&&gn(D))}function gn(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[ge])he(S.i,f);else{var D=f.type,U=f.proxy;S.removeEventListener?S.removeEventListener(D,U,f.capture):S.detachEvent?S.detachEvent(xn(D),U):S.addListener&&S.removeListener&&S.removeListener(U),(D=cr(S))?(he(D,f),D.h==0&&(D.src=null,S[Ue]=null)):Ke(f)}}}function xn(f){return f in Rt?Rt[f]:Rt[f]="on"+f}function Dr(f,S){if(f.da)f=!0;else{S=new pe(S,this);var D=f.listener,U=f.ha||f.src;f.fa&&gn(f),f=D.call(U,S)}return f}function cr(f){return f=f[Ue],f instanceof It?f:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Es(f){return typeof f=="function"?f:(f[dr]||(f[dr]=function(S){return f.handleEvent(S)}),f[dr])}function Jt(){te.call(this),this.i=new It(this),this.M=this,this.F=null}N(Jt,te),Jt.prototype[ge]=!0,Jt.prototype.removeEventListener=function(f,S,D,U){In(this,f,S,D,U)};function Wt(f,S){var D,U=f.F;if(U)for(D=[];U;U=U.F)D.push(U);if(f=f.M,U=S.type||S,typeof S=="string")S=new ce(S,f);else if(S instanceof ce)S.target=S.target||f;else{var ie=S;S=new ce(U,f),L(S,ie)}if(ie=!0,D)for(var de=D.length-1;0<=de;de--){var Ie=S.g=D[de];ie=Dt(Ie,U,!0,S)&&ie}if(Ie=S.g=f,ie=Dt(Ie,U,!0,S)&&ie,ie=Dt(Ie,U,!1,S)&&ie,D)for(de=0;de<D.length;de++)Ie=S.g=D[de],ie=Dt(Ie,U,!1,S)&&ie}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var D=f.g[S],U=0;U<D.length;U++)Ke(D[U]);delete f.g[S],f.h--}}this.F=null},Jt.prototype.K=function(f,S,D,U){return this.i.add(String(f),S,!1,D,U)},Jt.prototype.L=function(f,S,D,U){return this.i.add(String(f),S,!0,D,U)};function Dt(f,S,D,U){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var ie=!0,de=0;de<S.length;++de){var Ie=S[de];if(Ie&&!Ie.da&&Ie.capture==D){var Pt=Ie.listener,As=Ie.ha||Ie.src;Ie.fa&&he(f.i,Ie),ie=Pt.call(As,U)!==!1&&ie}}return ie&&!U.defaultPrevented}function oi(f,S,D){if(typeof f=="function")D&&(f=v(f,D));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:d.setTimeout(f,S||0)}function qn(f){f.g=oi(()=>{f.g=null,f.i&&(f.i=!1,qn(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class ur extends te{constructor(S,D){super(),this.m=S,this.l=D,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(f){te.call(this),this.h=f,this.g={}}N(hr,te);var li=[];function Ai(f){M(f.g,function(S,D){this.g.hasOwnProperty(D)&&gn(S)},f),f.g={}}hr.prototype.N=function(){hr.aa.N.call(this),Ai(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,Mr=d.JSON.parse,qt=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function mr(){}mr.prototype.h=null;function Ii(f){return f.h||(f.h=f.i())}function Ri(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){ce.call(this,"d")}N(Kn,ce);function Pi(){ce.call(this,"c")}N(Pi,ce);var Qn={},Fc=null;function to(){return Fc=Fc||new Jt}Qn.La="serverreachability";function Bc(f){ce.call(this,Qn.La,f)}N(Bc,ce);function Li(f){const S=to();Wt(S,new Bc(S))}Qn.STAT_EVENT="statevent";function $c(f,S){ce.call(this,Qn.STAT_EVENT,f),this.stat=S}N($c,ce);function ps(f){const S=to();Wt(S,new $c(S,f))}Qn.Ma="timingevent";function il(f,S){ce.call(this,Qn.Ma,f),this.size=S}N(il,ce);function Fr(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},S)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function no(f,S,D,U,ie,de){f.info(function(){if(f.g)if(de)for(var Ie="",Pt=de.split("&"),As=0;As<Pt.length;As++){var wt=Pt[As].split("=");if(1<wt.length){var Ds=wt[0];wt=wt[1];var bs=Ds.split("_");Ie=2<=bs.length&&bs[1]=="type"?Ie+(Ds+"="+wt+"&"):Ie+(Ds+"=redacted&")}}else Ie=null;else Ie=de;return"XMLHTTP REQ ("+U+") [attempt "+ie+"]: "+S+`
`+D+`
`+Ie})}function al(f,S,D,U,ie,de,Ie){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ie+"]: "+S+`
`+D+`
`+de+" "+Ie})}function Br(f,S,D,U){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+ff(f,D)+(U?" "+U:"")})}function Vc(f,S){f.info(function(){return"TIMEOUT: "+S})}so.prototype.info=function(){};function ff(f,S){if(!f.g)return S;if(!S)return null;try{var D=JSON.parse(S);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var U=D[f];if(!(2>U.length)){var ie=U[1];if(Array.isArray(ie)&&!(1>ie.length)){var de=ie[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Ie=1;Ie<ie.length;Ie++)ie[Ie]=""}}}}return ci(D)}catch(Pt){return S}}var ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ku={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function ro(){}N(ro,mr),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},$r=new ro;function Vr(f,S,D,U){this.j=f,this.i=S,this.l=D,this.R=U||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qu}function Qu(){this.i=null,this.g="",this.h=!1}var Oc={},ll={};function cl(f,S,D){f.L=1,f.v=fa(Yn(S)),f.m=D,f.P=!0,Uc(f,null)}function Uc(f,S){f.F=Date.now(),Ot(f),f.A=Yn(f.v);var D=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),xa(D.i,"t",U),f.C=0,D=f.j.J,f.h=new Qu,f.g=mh(f.j,D?S:null,!f.m),0<f.O&&(f.M=new ur(v(f.Y,f,f.g),f.O)),S=f.U,D=f.g,U=f.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(li[0]=ie.toString()),ie=li);for(var de=0;de<ie.length;de++){var Ie=Vt(D,ie[de],U||S.handleEvent,!1,S.h||S);if(!Ie)break;S.g[Ie.key]=Ie}S=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),Li(),no(f.i,f.u,f.A,f.l,f.R,f.m)}Vr.prototype.ca=function(f){f=f.target;const S=this.M;S&&Pn(f)==3?S.j():this.Y(f)},Vr.prototype.Y=function(f){try{if(f==this.g)e:{const bs=Pn(this.g);var S=this.g.Ba();const gr=this.g.Z();if(!(3>bs)&&(bs!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||bs!=4||S==7||(S==8||0>=gr?Li(3):Li(2)),io(this);var D=this.g.Z();this.X=D;t:if(Xu(this)){var U=Kc(this.g);f="";var ie=U.length,de=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){pr(this),ua(this);var Ie="";break t}this.h.i=new d.TextDecoder}for(S=0;S<ie;S++)this.h.h=!0,f+=this.h.i.decode(U[S],{stream:!(de&&S==ie-1)});U.length=0,this.h.g+=f,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=D==200,al(this.i,this.u,this.A,this.l,this.R,bs,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,As=this.g;if((Pt=As.g?As.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Pt)){var wt=Pt;break t}}wt=null}if(D=wt)Br(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,D);else{this.o=!1,this.s=3,ps(12),pr(this),ua(this);break e}}if(this.P){D=!0;let Zn;for(;!this.J&&this.C<Ie.length;)if(Zn=gf(this,Ie),Zn==ll){bs==4&&(this.s=4,ps(14),D=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Oc){this.s=4,ps(15),Br(this.i,this.l,Ie,"[Invalid Chunk]"),D=!1;break}else Br(this.i,this.l,Zn,null),zc(this,Zn);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bs!=4||Ie.length!=0||this.h.h||(this.s=1,ps(16),D=!1),this.o=this.o&&D,!D)Br(this.i,this.l,Ie,"[Invalid Chunked Response]"),pr(this),ua(this);else if(0<Ie.length&&!this.W){this.W=!0;var Ds=this.j;Ds.g==this&&Ds.ba&&!Ds.M&&(Ds.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),Xc(Ds),Ds.M=!0,ps(11))}}else Br(this.i,this.l,Ie,null),zc(this,Ie);bs==4&&pr(this),this.o&&!this.J&&(bs==4?bl(this.j,this):(this.o=!1,Ot(this)))}else fl(this.g),D==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,ps(12)):(this.s=0,ps(13)),pr(this),ua(this)}}}catch(bs){}finally{}};function Xu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function gf(f,S){var D=f.C,U=S.indexOf(`
`,D);return U==-1?ll:(D=Number(S.substring(D,U)),isNaN(D)?Oc:(U+=1,U+D>S.length?ll:(S=S.slice(U,U+D),f.C=U+D,S)))}Vr.prototype.cancel=function(){this.J=!0,pr(this)};function Ot(f){f.S=Date.now()+f.I,Yu(f,f.I)}function Yu(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fr(v(f.ba,f),S)}function io(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Vr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Vc(this.i,this.A),this.L!=2&&(Li(),ps(17)),pr(this),this.s=2,ua(this)):Yu(this,this.S-f)};function ua(f){f.j.G==0||f.J||bl(f.j,f)}function pr(f){io(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,Ai(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function zc(f,S){try{var D=f.j;if(D.G!=0&&(D.g==f||yn(D.h,f))){if(!f.K&&yn(D.h,f)&&D.G==3){try{var U=D.Da.g.parse(S)}catch(wt){U=null}if(Array.isArray(U)&&U.length==3){var ie=U;if(ie[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)yl(D),Gr(D);else break e;vl(D),ps(18)}}else D.za=ie[1],0<D.za-D.T&&37500>ie[2]&&D.F&&D.v==0&&!D.C&&(D.C=Fr(v(D.Za,D),6e3));if(1>=Zu(D.h)&&D.ca){try{D.ca()}catch(wt){}D.ca=void 0}}else $i(D,11)}else if((f.K||D.g==f)&&yl(D),!B(S))for(ie=D.Da.g.parse(S),S=0;S<ie.length;S++){let wt=ie[S];if(D.T=wt[0],wt=wt[1],D.G==2)if(wt[0]=="c"){D.K=wt[1],D.ia=wt[2];const Ds=wt[3];Ds!=null&&(D.la=Ds,D.j.info("VER="+D.la));const bs=wt[4];bs!=null&&(D.Aa=bs,D.j.info("SVER="+D.Aa));const gr=wt[5];gr!=null&&typeof gr=="number"&&0<gr&&(U=1.5*gr,D.L=U,D.j.info("backChannelRequestTimeoutMs_="+U)),U=D;const Zn=f.g;if(Zn){const mo=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mo){var de=U.h;de.g||mo.indexOf("spdy")==-1&&mo.indexOf("quic")==-1&&mo.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Hc(de,de.h),de.h=null))}if(U.D){const wl=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(U.ya=wl,Ft(U.I,U.D,wl))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),U=D;var Ie=f;if(U.qa=hh(U,U.J?U.ia:null,U.W),Ie.K){eh(U.h,Ie);var Pt=Ie,As=U.L;As&&(Pt.I=As),Pt.B&&(io(Pt),Ot(Pt)),U.g=Ie}else ho(U);0<D.i.length&&mi(D)}else wt[0]!="stop"&&wt[0]!="close"||$i(D,7);else D.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?$i(D,7):Hs(D):wt[0]!="noop"&&D.l&&D.l.ta(wt),D.v=0)}}Li(4)}catch(wt){}}var Ju=class{constructor(f,S){this.g=f,this.map=S}};function ao(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zu(f){return f.h?1:f.g?f.g.size:0}function yn(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Hc(f,S){f.g?f.g.add(S):f.h=S}function eh(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}ao.prototype.cancel=function(){if(this.i=th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function th(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const D of f.g.values())S=S.concat(D.D);return S}return P(f.i)}function dl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var S=[],D=f.length,U=0;U<D;U++)S.push(f[U]);return S}S=[],D=0;for(U in f)S[D++]=f[U];return S}function ul(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var S=[];f=f.length;for(var D=0;D<f;D++)S.push(D);return S}S=[],D=0;for(const U in f)S[D++]=U;return S}}}function ha(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var D=ul(f),U=dl(f),ie=U.length,de=0;de<ie;de++)S.call(void 0,U[de],D&&D[de],f)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(f,S){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var U=f[D].indexOf("="),ie=null;if(0<=U){var de=f[D].substring(0,U);ie=f[D].substring(U+1)}else de=f[D];S(de,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Di(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Di){this.h=f.h,lo(this,f.j),this.o=f.o,this.g=f.g,ma(this,f.s),this.l=f.l;var S=f.i,D=new di;D.i=S.i,S.g&&(D.g=new Map(S.g),D.h=S.h),pa(this,D),this.m=f.m}else f&&(S=String(f).match(oo))?(this.h=!1,lo(this,S[1]||"",!0),this.o=yt(S[2]||""),this.g=yt(S[3]||"",!0),ma(this,S[4]),this.l=yt(S[5]||"",!0),pa(this,S[6]||"",!0),this.m=yt(S[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Di.prototype.toString=function(){var f=[],S=this.j;S&&f.push(ga(S,hl,!0),":");var D=this.g;return(D||S=="file")&&(f.push("//"),(S=this.o)&&f.push(ga(S,hl,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(ga(D,D.charAt(0)=="/"?rh:nh,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",ga(D,Gc)),f.join("")};function Yn(f){return new Di(f)}function lo(f,S,D){f.j=D?yt(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function ma(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function pa(f,S,D){S instanceof di?(f.i=S,ui(f.i,f.h)):(D||(S=ga(S,ih)),f.i=new di(S,f.h))}function Ft(f,S,D){f.i.set(S,D)}function fa(f){return Ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function yt(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ga(f,S,D){return typeof f=="string"?(f=encodeURI(f).replace(S,sh),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function sh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var hl=/[#\/\?@]/g,nh=/[#\?:]/g,rh=/[#\?]/g,ih=/[#\?@]/g,Gc=/#/g;function di(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function zs(f){f.g||(f.g=new Map,f.h=0,f.i&&xf(f.i,function(S,D){f.add(decodeURIComponent(S.replace(/\+/g," ")),D)}))}t=di.prototype,t.add=function(f,S){zs(this),this.i=null,f=fr(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(S),this.h+=1,this};function Or(f,S){zs(f),S=fr(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function Ur(f,S){return zs(f),S=fr(f,S),f.g.has(S)}t.forEach=function(f,S){zs(this),this.g.forEach(function(D,U){D.forEach(function(ie){f.call(S,ie,U,this)},this)},this)},t.na=function(){zs(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),D=[];for(let U=0;U<S.length;U++){const ie=f[U];for(let de=0;de<ie.length;de++)D.push(S[U])}return D},t.V=function(f){zs(this);let S=[];if(typeof f=="string")Ur(this,f)&&(S=S.concat(this.g.get(fr(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)S=S.concat(f[D])}return S},t.set=function(f,S){return zs(this),this.i=null,f=fr(this,f),Ur(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function xa(f,S,D){Or(f,S),0<D.length&&(f.i=null,f.g.set(fr(f,S),P(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var D=0;D<S.length;D++){var U=S[D];const de=encodeURIComponent(String(U)),Ie=this.V(U);for(U=0;U<Ie.length;U++){var ie=de;Ie[U]!==""&&(ie+="="+encodeURIComponent(String(Ie[U]))),f.push(ie)}}return this.i=f.join("&")};function fr(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function ui(f,S){S&&!f.j&&(zs(f),f.i=null,f.g.forEach(function(D,U){var ie=U.toLowerCase();U!=ie&&(Or(this,U),xa(this,ie,D))},f)),f.j=S}function vf(f,S){const D=new so;if(d.Image){const U=new Image;U.onload=j(Rn,D,"TestLoadImage: loaded",!0,S,U),U.onerror=j(Rn,D,"TestLoadImage: error",!1,S,U),U.onabort=j(Rn,D,"TestLoadImage: abort",!1,S,U),U.ontimeout=j(Rn,D,"TestLoadImage: timeout",!1,S,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else S(!1)}function ah(f,S){const D=new so,U=new AbortController,ie=setTimeout(()=>{U.abort(),Rn(D,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:U.signal}).then(de=>{clearTimeout(ie),de.ok?Rn(D,"TestPingServer: ok",!0,S):Rn(D,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ie),Rn(D,"TestPingServer: error",!1,S)})}function Rn(f,S,D,U,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),U(D)}catch(de){}}function yf(){this.g=new qt}function oh(f,S,D){const U=D||"";try{ha(f,function(ie,de){let Ie=ie;m(ie)&&(Ie=ci(ie)),S.push(U+de+"="+encodeURIComponent(Ie))})}catch(ie){throw S.push(U+"type="+encodeURIComponent("_badmap")),ie}}function Mi(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Mi,mr),Mi.prototype.g=function(){return new co(this.l,this.j)},Mi.prototype.i=(function(f){return function(){return f}})({});function co(f,S){Jt.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(co,Jt),t=co.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Hr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||d).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?zr(this):Hr(this),this.readyState==3&&lh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,zr(this))},t.Qa=function(f){this.g&&(this.response=f,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Hr(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var D=S.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=S.next();return f.join(`\r
`)};function Hr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fi(f){let S="";return M(f,function(D,U){S+=U,S+=":",S+=D,S+=`\r
`}),S}function va(f,S,D){e:{for(U in D){var U=!1;break e}U=!0}U||(D=Fi(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):Ft(f,S,D))}function Zt(f){Jt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Zt,Jt);var bf=/^https?$/i,Wc=["POST","PUT"];t=Zt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,D,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?Ii(this.o):Ii($r),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(de){uo(this,de);return}if(f=D||"",D=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ie in U)D.set(ie,U[ie]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const de of U.keys())D.set(de,U.get(de));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(D.keys()).find(de=>de.toLowerCase()=="content-type"),ie=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Wc,S,void 0))||U||ie||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ie]of D)this.g.setRequestHeader(de,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pl(this),this.u=!0,this.g.send(f),this.u=!1}catch(de){uo(this,de)}};function uo(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,ml(f),Jn(f)}function ml(f){f.A||(f.A=!0,Wt(f,"complete"),Wt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Wt(this,"complete"),Wt(this,"abort"),Jn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qc(this):this.bb())},t.bb=function(){qc(this)};function qc(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||Pn(f)!=4||f.Z()!=2)){if(f.u&&Pn(f)==4)oi(f.Ea,0,f);else if(Wt(f,"readystatechange"),Pn(f)==4){f.h=!1;try{const Ie=f.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var D;if(!(D=S)){var U;if(U=Ie===0){var ie=String(f.D).match(oo)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),U=!bf.test(ie?ie.toLowerCase():"")}D=U}if(D)Wt(f,"complete"),Wt(f,"success");else{f.m=6;try{var de=2<Pn(f)?f.g.statusText:""}catch(Pt){de=""}f.l=de+" ["+f.Z()+"]",ml(f)}}finally{Jn(f)}}}}function Jn(f,S){if(f.g){pl(f);const D=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||Wt(f,"ready");try{D.onreadystatechange=U}catch(ie){}}}function pl(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Pn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Mr(S)}};function Kc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(S){return null}}function fl(f){const S={};f=(f.g&&2<=Pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(B(f[U]))continue;var D=R(f[U]);const ie=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const de=S[ie]||[];S[ie]=de,de.push(D)}C(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(f,S,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||S}function Qc(f){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hi("baseRetryDelayMs",5e3,f),this.cb=hi("retryDelaySeedMs",1e4,f),this.Wa=hi("forwardChannelMaxRetries",2,f),this.wa=hi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ao(f&&f.concurrentRequestLimit),this.Da=new yf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qc.prototype,t.la=8,t.G=1,t.connect=function(f,S,D,U){ps(0),this.W=f,this.H=S||{},D&&U!==void 0&&(this.H.OSID=D,this.H.OAID=U),this.F=this.X,this.I=hh(this,null,this.W),mi(this)};function Hs(f){if(gl(f),f.G==3){var S=f.U++,D=Yn(f.I);if(Ft(D,"SID",f.K),Ft(D,"RID",S),Ft(D,"TYPE","terminate"),Bi(f,D),S=new Vr(f,f.j,S),S.L=2,S.v=fa(Yn(D)),D=!1,d.navigator&&d.navigator.sendBeacon)try{D=d.navigator.sendBeacon(S.v.toString(),"")}catch(U){}!D&&d.Image&&(new Image().src=S.v,D=!0),D||(S.g=mh(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Ot(S)}uh(f)}function Gr(f){f.g&&(Xc(f),f.g.cancel(),f.g=null)}function gl(f){Gr(f),f.u&&(d.clearTimeout(f.u),f.u=null),yl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function mi(f){if(!Xn(f.h)&&!f.s){f.s=!0;var S=f.Ga;Q||ne(),H||(Q(),H=!0),ee.add(S,f),f.B=0}}function _f(f,S){return Zu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fr(v(f.Ga,f,S),dh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ie=new Vr(this,this.j,f);let de=this.o;if(this.S&&(de?(de=_(de),L(de,this.S)):de=this.S),this.m!==null||this.O||(ie.H=de,de=null),this.P)e:{for(var S=0,D=0;D<this.i.length;D++){t:{var U=this.i[D];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=D;break e}if(S===4096||D===this.i.length-1){S=D+1;break e}}S=1e3}else S=1e3;S=ya(this,ie,S),D=Yn(this.I),Ft(D,"RID",f),Ft(D,"CVER",22),this.D&&Ft(D,"X-HTTP-Session-Id",this.D),Bi(this,D),de&&(this.O?S="headers="+encodeURIComponent(String(Fi(de)))+"&"+S:this.m&&va(D,this.m,de)),Hc(this.h,ie),this.Ua&&Ft(D,"TYPE","init"),this.P?(Ft(D,"$req",S),Ft(D,"SID","null"),ie.T=!0,cl(ie,D,null)):cl(ie,D,S),this.G=2}}else this.G==3&&(f?xl(this,f):this.i.length==0||Xn(this.h)||xl(this))};function xl(f,S){var D;S?D=S.l:D=f.U++;const U=Yn(f.I);Ft(U,"SID",f.K),Ft(U,"RID",D),Ft(U,"AID",f.T),Bi(f,U),f.m&&f.o&&va(U,f.m,f.o),D=new Vr(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),S&&(f.i=S.D.concat(f.i)),S=ya(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Hc(f.h,D),cl(D,U,S)}function Bi(f,S){f.H&&M(f.H,function(D,U){Ft(S,U,D)}),f.l&&ha({},function(D,U){Ft(S,U,D)})}function ya(f,S,D){D=Math.min(f.i.length,D);var U=f.l?v(f.l.Na,f.l,f):null;e:{var ie=f.i;let de=-1;for(;;){const Ie=["count="+D];de==-1?0<D?(de=ie[0].g,Ie.push("ofs="+de)):de=0:Ie.push("ofs="+de);let Pt=!0;for(let As=0;As<D;As++){let wt=ie[As].g;const Ds=ie[As].map;if(wt-=de,0>wt)de=Math.max(0,ie[As].g-100),Pt=!1;else try{oh(Ds,Ie,"req"+wt+"_")}catch(bs){U&&U(Ds)}}if(Pt){U=Ie.join("&");break e}}}return f=f.i.splice(0,D),S.D=f,U}function ho(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;Q||ne(),H||(Q(),H=!0),ee.add(S,f),f.v=0}}function vl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fr(v(f.Fa,f),dh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fr(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ps(10),Gr(this),ch(this))};function Xc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function ch(f){f.g=new Vr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=Yn(f.qa);Ft(S,"RID","rpc"),Ft(S,"SID",f.K),Ft(S,"AID",f.T),Ft(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ft(S,"TO",f.ja),Ft(S,"TYPE","xmlhttp"),Bi(f,S),f.m&&f.o&&va(S,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=fa(Yn(S)),D.m=null,D.P=!0,Uc(D,f)}t.Za=function(){this.C!=null&&(this.C=null,Gr(this),vl(this),ps(19))};function yl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function bl(f,S){var D=null;if(f.g==S){yl(f),Xc(f),f.g=null;var U=2}else if(yn(f.h,S))D=S.D,eh(f.h,S),U=1;else return;if(f.G!=0){if(S.o)if(U==1){D=S.m?S.m.length:0,S=Date.now()-S.F;var ie=f.B;U=to(),Wt(U,new il(U,D)),mi(f)}else ho(f);else if(ie=S.s,ie==3||ie==0&&0<S.X||!(U==1&&_f(f,S)||U==2&&vl(f)))switch(D&&0<D.length&&(S=f.h,S.i=S.i.concat(D)),ie){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function dh(f,S){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*S}function $i(f,S){if(f.j.info("Error code "+S),S==2){var D=v(f.fb,f),U=f.Xa;const ie=!U;U=new Di(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||lo(U,"https"),fa(U),ie?vf(U.toString(),D):ah(U.toString(),D)}else ps(2);f.G=0,f.l&&f.l.sa(S),uh(f),gl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ps(2)):(this.j.info("Failed to ping google.com"),ps(1))};function uh(f){if(f.G=0,f.ka=[],f.l){const S=th(f.h);(S.length!=0||f.i.length!=0)&&(I(f.ka,S),I(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function hh(f,S,D){var U=D instanceof Di?Yn(D):new Di(D);if(U.g!="")S&&(U.g=S+"."+U.g),ma(U,U.s);else{var ie=d.location;U=ie.protocol,S=S?S+"."+ie.hostname:ie.hostname,ie=+ie.port;var de=new Di(null);U&&lo(de,U),S&&(de.g=S),ie&&ma(de,ie),D&&(de.l=D),U=de}return D=f.D,S=f.ya,D&&S&&Ft(U,D,S),Ft(U,"VER",f.la),Bi(f,U),U}function mh(f,S,D){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Zt(new Mi({eb:D})):new Zt(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}t=Yc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(f,S){return new bn(f,S)};function bn(f,S){Jt.call(this),this.g=new Qc(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!B(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!B(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new pi(this)}N(bn,Jt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Hs(this.g)},bn.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=ci(f),f=D);S.i.push(new Ju(S.Ya++,f)),S.G==3&&mi(S)},bn.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,bn.aa.N.call(this)};function ph(f){Kn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const D in S){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}N(ph,Kn);function fh(){Pi.call(this),this.status=1}N(fh,Pi);function pi(f){this.g=f}N(pi,Yc),pi.prototype.ua=function(){Wt(this.g,"a")},pi.prototype.ta=function(f){Wt(this.g,new ph(f))},pi.prototype.sa=function(f){Wt(this.g,new fh)},pi.prototype.ra=function(){Wt(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,RS=function(){return new _l},IS=function(){return to()},AS=Qn,lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,$m=ol,Ku.COMPLETE="complete",ES=Ku,Ri.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,Ld=Ri,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,TS=Zt}).apply(typeof dm!="undefined"?dm:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const v2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new bS("@firebase/firestore");function jd(){return Ho.logLevel}function Oe(t,...e){if(Ho.logLevel<=Ct.DEBUG){const n=e.map(cy);Ho.debug(`Firestore (${Tc}): ${t}`,...n)}}function aa(t,...e){if(Ho.logLevel<=Ct.ERROR){const n=e.map(cy);Ho.error(`Firestore (${Tc}): ${t}`,...n)}}function mc(t,...e){if(Ho.logLevel<=Ct.WARN){const n=e.map(cy);Ho.warn(`Firestore (${Tc}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t="Unexpected state"){const e=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: `+t;throw aa(e),new Error(e)}function Lt(t,e){t||tt()}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Cc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class cI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dI{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new na,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new na)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string"),new PS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string"),new un(e)}}class uI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Lt(this.o===void 0);const r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Lt(typeof n.token=="string"),this.R=n.token,new mI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function At(t,e){return t<e?-1:t>e?1:0}function pc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ts.fromMillis(Date.now())}static fromDate(e){return Ts.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ts(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.timestamp=e}static fromTimestamp(e){return new it(e)}static min(){return new it(new Ts(0,0))}static max(){return new it(new Ts(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(),r===void 0?r=e.length-n:r>e.length-n&&tt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),c=n.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $t extends lu{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const gI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zs extends lu{construct(e,n,r){return new Zs(e,n,r)}static isValidIdentifier(e){return gI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zs(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Re(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Re(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new Re(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zs(n)}static emptyPath(){return new Zs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe($t.fromString(e))}static fromName(e){return new qe($t.fromString(e).popFirst(5))}static empty(){return new qe($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new $t(e.slice()))}}function xI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new Ts(n+1,0):new Ts(n,r));return new Wa(i,qe.empty(),e)}function vI(t){return new Wa(t.readTime,t.key,-1)}class Wa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wa(it.min(),qe.empty(),-1)}static max(){return new Wa(it.max(),qe.empty(),-1)}}function yI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==bI)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,o=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++o,c&&o===i&&n()}),(u=>r(u)))})),c=!0,o===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let u=0;u<o;u++){const m=u;n(e[m]).next((p=>{c[m]=p,++d,d===o&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function wI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dy.oe=-1;function Bp(t){return t==null}function rp(t){return t===0&&1/t==-1/0}function jI(t){return typeof t=="number"&&Number.isInteger(t)&&!rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.comparator=e,this.root=n||Xs.EMPTY}insert(e,n){return new ls(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(e){return new ls(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xs{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:Xs.RED,this.left=i!=null?i:Xs.EMPTY,this.right=o!=null?o:Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xs(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1;Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new ls(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b2(this.data.getIterator())}getIteratorFrom(e){return new b2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class b2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Zs.comparator)}static empty(){return new ir([])}unionWith(e){let n=new tn(Zs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException!="undefined"&&o instanceof DOMException?new MS("Invalid base64 string: "+o):o}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const SI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(t){if(Lt(!!t),typeof t=="string"){let e=0;const n=SI.exec(t);if(Lt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vs(t.seconds),nanos:vs(t.nanos)}}function vs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uy(t){const e=t.mapValue.fields.__previous_value__;return $p(e)?uy(e):e}function cu(t){const e=qa(t.mapValue.fields.__local_write_time__.timestampValue);return new Ts(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,i,o,c,d,u,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=m}}class du{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new du("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm={mapValue:{}};function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:CI(t)?9007199254740991:kI(t)?10:11:tt()}function Ei(t,e){if(t===e)return!0;const n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=qa(i.timestampValue),d=qa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Go(i.bytesValue).isEqual(Go(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return vs(i.geoPointValue.latitude)===vs(o.geoPointValue.latitude)&&vs(i.geoPointValue.longitude)===vs(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return vs(i.integerValue)===vs(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=vs(i.doubleValue),d=vs(o.doubleValue);return c===d?rp(c)===rp(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return pc(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(y2(c)!==y2(d))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(d[u]===void 0||!Ei(c[u],d[u])))return!1;return!0})(t,e);default:return tt()}}function uu(t,e){return(t.values||[]).find((n=>Ei(n,e)))!==void 0}function fc(t,e){if(t===e)return 0;const n=Wo(t),r=Wo(e);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=vs(o.integerValue||o.doubleValue),u=vs(c.integerValue||c.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(t,e);case 3:return _2(t.timestampValue,e.timestampValue);case 4:return _2(cu(t),cu(e));case 5:return At(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=Go(o),u=Go(c);return d.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),u=c.split("/");for(let m=0;m<d.length&&m<u.length;m++){const p=At(d[m],u[m]);if(p!==0)return p}return At(d.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=At(vs(o.latitude),vs(c.latitude));return d!==0?d:At(vs(o.longitude),vs(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return w2(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var d,u,m,p;const x=o.fields||{},v=c.fields||{},j=(d=x.value)===null||d===void 0?void 0:d.arrayValue,N=(u=v.value)===null||u===void 0?void 0:u.arrayValue,P=At(((m=j==null?void 0:j.values)===null||m===void 0?void 0:m.length)||0,((p=N==null?void 0:N.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:w2(j,N)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===hm.mapValue&&c===hm.mapValue)return 0;if(o===hm.mapValue)return 1;if(c===hm.mapValue)return-1;const d=o.fields||{},u=Object.keys(d),m=c.fields||{},p=Object.keys(m);u.sort(),p.sort();for(let x=0;x<u.length&&x<p.length;++x){const v=At(u[x],p[x]);if(v!==0)return v;const j=fc(d[u[x]],m[p[x]]);if(j!==0)return j}return At(u.length,p.length)})(t.mapValue,e.mapValue);default:throw tt()}}function _2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const n=qa(t),r=qa(e),i=At(n.seconds,r.seconds);return i!==0?i:At(n.nanos,r.nanos)}function w2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=fc(n[i],r[i]);if(o)return o}return At(n.length,r.length)}function gc(t){return cv(t)}function cv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=qa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=cv(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${cv(n.fields[c])}`;return i+"}"})(t.mapValue):tt()}function ip(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dv(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function j2(t){return!!t&&"nullValue"in t}function S2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vm(t){return!!t&&"mapValue"in t}function kI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gd(n)}setAll(e){let n=Zs.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Gd(c):i.push(d.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Vm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jo(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Hn(Gd(this.value))}}function FS(t){const e=[];return Jo(t.fields,((n,r)=>{const i=new Zs([n]);if(Vm(r)){const o=FS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,i,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,it.min(),it.min(),it.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new mn(e,1,n,it.min(),r,i,0)}static newNoDocument(e,n){return new mn(e,2,n,it.min(),it.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,it.min(),it.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.position=e,this.inclusive=n}}function N2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=fc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function k2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function TI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{}class Cs extends BS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AI(e,n,r):n==="array-contains"?new PI(e,r):n==="in"?new LI(e,r):n==="not-in"?new DI(e,r):n==="array-contains-any"?new MI(e,r):new Cs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new II(e,r):new RI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fc(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends BS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ri(e,n)}matches(e){return $S(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $S(t){return t.op==="and"}function VS(t){return EI(t)&&$S(t)}function EI(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function uv(t){if(t instanceof Cs)return t.field.canonicalString()+t.op.toString()+gc(t.value);if(VS(t))return t.filters.map((e=>uv(e))).join(",");{const e=t.filters.map((n=>uv(n))).join(",");return`${t.op}(${e})`}}function OS(t,e){return t instanceof Cs?(function(r,i){return i instanceof Cs&&r.op===i.op&&r.field.isEqual(i.field)&&Ei(r.value,i.value)})(t,e):t instanceof ri?(function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,d)=>o&&OS(c,i.filters[d])),!0):!1})(t,e):void tt()}function US(t){return t instanceof Cs?(function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`})(t):t instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"})(t):"Filter"}class AI extends Cs{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class II extends Cs{constructor(e,n){super(e,"in",n),this.keys=zS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RI extends Cs{constructor(e,n){super(e,"not-in",n),this.keys=zS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function zS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>qe.fromName(r.referenceValue)))}class PI extends Cs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&uu(n.arrayValue,this.value)}}class LI extends Cs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class DI extends Cs{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uu(this.value.arrayValue,n)}}class MI extends Cs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function C2(t,e=null,n=[],r=[],i=null,o=null,c=null){return new FI(t,e,n,r,i,o,c)}function my(t){const e=at(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>uv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>gc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>gc(r))).join(",")),e.ue=n}return e.ue}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k2(t.startAt,e.startAt)&&k2(t.endAt,e.endAt)}function hv(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],i=[],o=null,c="F",d=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BI(t,e,n,r,i,o,c,d){return new da(t,e,n,r,i,o,c,d)}function fy(t){return new da(t)}function T2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gy(t){return t.collectionGroup!==null}function cc(t){const e=at(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(Zs.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new hu(o,r))})),n.has(Zs.keyField().canonicalString())||e.ce.push(new hu(Zs.keyField(),r))}return e.ce}function ji(t){const e=at(t);return e.le||(e.le=$I(e,cc(t))),e.le}function $I(t,e){if(t.limitType==="F")return C2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new hu(i.field,o)}));const n=t.endAt?new xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xc(t.startAt.position,t.startAt.inclusive):null;return C2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mv(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ap(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vp(t,e){return py(ji(t),ji(e))&&t.limitType===e.limitType}function HS(t){return`${my(ji(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>US(i))).join(", ")}]`),Bp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>gc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>gc(i))).join(",")),`Target(${r})`})(ji(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,u){const m=N2(c,d,u);return c.inclusive?m<=0:m<0})(r.startAt,cc(r),i)||r.endAt&&!(function(c,d,u){const m=N2(c,d,u);return c.inclusive?m>=0:m>0})(r.endAt,cc(r),i))})(t,e)}function VI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GS(t){return(e,n)=>{let r=!1;for(const i of cc(t)){const o=OI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OI(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(o,c,d){const u=c.data.field(o),m=d.data.field(o);return u!==null&&m!==null?fc(u,m):tt()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return DS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new ls(qe.comparator);function oa(){return UI}const WS=new ls(qe.comparator);function Dd(...t){let e=WS;for(const n of t)e=e.insert(n.key,n);return e}function qS(t){let e=WS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $o(){return Wd()}function KS(){return Wd()}function Wd(){return new Ec((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zI=new ls(qe.comparator),HI=new tn(qe.comparator);function xt(...t){let e=HI;for(const n of t)e=e.add(n);return e}const GI=new tn(At);function WI(){return GI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rp(e)?"-0":e}}function QS(t){return{integerValue:""+t}}function qI(t,e){return jI(e)?QS(e):xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this._=void 0}}function KI(t,e,n){return t instanceof mu?(function(i,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$p(o)&&(o=uy(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(n,e):t instanceof pu?YS(t,e):t instanceof fu?JS(t,e):(function(i,o){const c=XS(i,o),d=E2(c)+E2(i.Pe);return dv(c)&&dv(i.Pe)?QS(d):xy(i.serializer,d)})(t,e)}function QI(t,e,n){return t instanceof pu?YS(t,e):t instanceof fu?JS(t,e):n}function XS(t,e){return t instanceof op?(function(r){return dv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class mu extends Up{}class pu extends Up{constructor(e){super(),this.elements=e}}function YS(t,e){const n=ZS(e);for(const r of t.elements)n.some((i=>Ei(i,r)))||n.push(r);return{arrayValue:{values:n}}}class fu extends Up{constructor(e){super(),this.elements=e}}function JS(t,e){let n=ZS(e);for(const r of t.elements)n=n.filter((i=>!Ei(i,r)));return{arrayValue:{values:n}}}class op extends Up{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function E2(t){return vs(t.integerValue||t.doubleValue)}function ZS(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.field=e,this.transform=n}}function YI(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof pu&&i instanceof pu||r instanceof fu&&i instanceof fu?pc(r.elements,i.elements,Ei):r instanceof op&&i instanceof op?Ei(r.Pe,i.Pe):r instanceof mu&&i instanceof mu})(t.transform,e.transform)}class JI{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Om(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zp{}function eN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,Gn.none()):new Ru(t.key,t.data,Gn.none());{const n=t.data,r=Hn.empty();let i=new tn(Zs.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Ja(t.key,r,new ir(i.toArray()),Gn.none())}}function ZI(t,e,n){t instanceof Ru?(function(i,o,c){const d=i.value.clone(),u=I2(i.fieldTransforms,o,c.transformResults);d.setAll(u),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ja?(function(i,o,c){if(!Om(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=I2(i.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(tN(i)),u.setAll(d),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function qd(t,e,n,r){return t instanceof Ru?(function(o,c,d,u){if(!Om(o.precondition,c))return d;const m=o.value.clone(),p=R2(o.fieldTransforms,u,c);return m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ja?(function(o,c,d,u){if(!Om(o.precondition,c))return d;const m=R2(o.fieldTransforms,u,c),p=c.data;return p.setAll(tN(o)),p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(o,c,d){return Om(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function e8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XS(r.transform,i||null);o!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function A2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pc(r,i,((o,c)=>YI(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends zp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function I2(t,e,n){const r=new Map;Lt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,QI(c,d,n[i]))}return r}function R2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,KI(o,c,e))}return r}class vy extends zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t8 extends zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ZI(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KS();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(i.key)?null:d;const u=eN(c,d);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(it.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xt())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,((n,r)=>A2(n,r)))&&pc(this.baseMutations,e.baseMutations,((n,r)=>A2(n,r)))}}class yy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Lt(e.mutations.length===r.length);let i=(function(){return zI})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new yy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js,jt;function i8(t){switch(t){default:return tt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function sN(t){if(t===void 0)return aa("GRPC error has no .code"),me.UNKNOWN;switch(t){case js.OK:return me.OK;case js.CANCELLED:return me.CANCELLED;case js.UNKNOWN:return me.UNKNOWN;case js.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case js.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case js.INTERNAL:return me.INTERNAL;case js.UNAVAILABLE:return me.UNAVAILABLE;case js.UNAUTHENTICATED:return me.UNAUTHENTICATED;case js.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case js.NOT_FOUND:return me.NOT_FOUND;case js.ALREADY_EXISTS:return me.ALREADY_EXISTS;case js.PERMISSION_DENIED:return me.PERMISSION_DENIED;case js.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case js.ABORTED:return me.ABORTED;case js.OUT_OF_RANGE:return me.OUT_OF_RANGE;case js.UNIMPLEMENTED:return me.UNIMPLEMENTED;case js.DATA_LOSS:return me.DATA_LOSS;default:return tt()}}(jt=js||(js={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new Oo([4294967295,4294967295],0);function P2(t){const e=a8().encode(t),n=new CS;return n.update(e),new Uint8Array(n.digest())}function L2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,o],0)]}class by{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Md(`Invalid padding: ${n}`);if(r<0)throw new Md(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Md(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Md(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Oo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Oo.fromNumber(r)));return i.compare(o8)===1&&(i=new Oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=P2(e),[r,i]=L2(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new by(o,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=P2(e),[r,i]=L2(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hp(it.min(),i,new ls(At),oa(),xt())}}class Pu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pu(r,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nN{constructor(e,n){this.targetId=e,this.me=n}}class rN{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D2{constructor(){this.fe=0,this.ge=F2(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xt(),n=xt(),r=xt();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tt()}})),new Pu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=F2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class l8{constructor(e){this.Le=e,this.Be=new Map,this.ke=oa(),this.qe=M2(),this.Qe=new ls(At)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:tt()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(hv(o))if(r===0){const c=new qe(o.path);this.Ue(n,c,mn.newNoDocument(c,it.min()))}else Lt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),u=d?this.Xe(d,e,c):1;if(u!==0){this.je(n);const m=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,d;try{c=Go(r).toUint8Array()}catch(u){if(u instanceof MS)return mc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new by(c,i,o)}catch(u){return mc(u instanceof Md?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,o,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((o,c)=>{const d=this.Je(c);if(d){if(o.current&&hv(d.target)){const u=new qe(d.target.path);this.ke.get(u)!==null||this.it(c,u)||this.Ue(c,u,mn.newNoDocument(u,e))}o.be&&(n.set(c,o.ve()),o.Ce())}}));let r=xt();this.qe.forEach(((o,c)=>{let d=!0;c.forEachWhile((u=>{const m=this.Je(u);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(e)));const i=new Hp(e,n,this.Qe,this.ke,r);return this.ke=oa(),this.qe=M2(),this.Qe=new ls(At),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new D2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(At),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new D2),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function M2(){return new ls(qe.comparator)}function F2(){return new ls(qe.comparator)}const c8={asc:"ASCENDING",desc:"DESCENDING"},d8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u8={and:"AND",or:"OR"};class h8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pv(t,e){return t.useProto3Json||Bp(e)?e:{value:e}}function lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m8(t,e){return lp(t,e.toTimestamp())}function Si(t){return Lt(!!t),it.fromTimestamp((function(n){const r=qa(n);return new Ts(r.seconds,r.nanos)})(t))}function _y(t,e){return fv(t,e).canonicalString()}function fv(t,e){const n=(function(i){return new $t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aN(t){const e=$t.fromString(t);return Lt(uN(e)),e}function gv(t,e){return _y(t.databaseId,e.path)}function Zg(t,e){const n=aN(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(lN(n))}function oN(t,e){return _y(t.databaseId,e)}function p8(t){const e=aN(t);return e.length===4?$t.emptyPath():lN(e)}function xv(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lN(t){return Lt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B2(t,e,n){return{name:gv(t,e),fields:n.value.mapValue.fields}}function f8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:tt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(m,p){return m.useProto3Json?(Lt(p===void 0||typeof p=="string"),sn.fromBase64String(p||"")):(Lt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),sn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const p=m.code===void 0?me.UNKNOWN:sN(m.code);return new Re(p,m.message||"")})(c);n=new rN(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zg(t,r.document.name),o=Si(r.document.updateTime),c=r.document.createTime?Si(r.document.createTime):it.min(),d=new Hn({mapValue:{fields:r.document.fields}}),u=mn.newFoundDocument(i,o,c,d),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Um(m,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zg(t,r.document),o=r.readTime?Si(r.readTime):it.min(),c=mn.newNoDocument(i,o),d=r.removedTargetIds||[];n=new Um([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zg(t,r.document),o=r.removedTargetIds||[];n=new Um([],o,i,null)}else{if(!("filter"in e))return tt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new r8(i,o),d=r.targetId;n=new nN(d,c)}}return n}function g8(t,e){let n;if(e instanceof Ru)n={update:B2(t,e.key,e.value)};else if(e instanceof vy)n={delete:gv(t,e.key)};else if(e instanceof Ja)n={update:B2(t,e.key,e.data),updateMask:N8(e.fieldMask)};else{if(!(e instanceof t8))return tt();n={verify:gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof mu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof op)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw tt()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:m8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt()})(t,e.precondition)),n}function x8(t,e){return t&&t.length>0?(Lt(e!==void 0),t.map((n=>(function(i,o){let c=i.updateTime?Si(i.updateTime):Si(o);return c.isEqual(it.min())&&(c=Si(o)),new JI(c,i.transformResults||[])})(n,e)))):[]}function v8(t,e){return{documents:[oN(t,e.path)]}}function y8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oN(t,i);const o=(function(m){if(m.length!==0)return dN(ri.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((p=>(function(v){return{field:Yl(v.field),direction:w8(v.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=pv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:i}}function b8(t){let e=p8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(x){const v=cN(x);return v instanceof ri&&VS(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((v=>(function(N){return new hu(Jl(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let v;return v=typeof x=="object"?x.value:x,Bp(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(x){const v=!!x.before,j=x.values||[];return new xc(j,v)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const v=!x.before,j=x.values||[];return new xc(j,v)})(n.endAt)),BI(e,i,c,o,d,"F",u,m)}function _8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return Cs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jl(n.unaryFilter.field);return Cs.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jl(n.unaryFilter.field);return Cs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jl(n.unaryFilter.field);return Cs.create(c,"!=",{nullValue:"NULL_VALUE"});default:return tt()}})(t):t.fieldFilter!==void 0?(function(n){return Cs.create(Jl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((r=>cN(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt()}})(n.compositeFilter.op))})(t):tt()}function w8(t){return c8[t]}function j8(t){return d8[t]}function S8(t){return u8[t]}function Yl(t){return{fieldPath:t.canonicalString()}}function Jl(t){return Zs.fromServerFormat(t.fieldPath)}function dN(t){return t instanceof Cs?(function(n){if(n.op==="=="){if(S2(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NAN"}};if(j2(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S2(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NAN"}};if(j2(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(n.field),op:j8(n.op),value:n.value}}})(t):t instanceof ri?(function(n){const r=n.getFilters().map((i=>dN(i)));return r.length===1?r[0]:{compositeFilter:{op:S8(n.op),filters:r}}})(t):tt()}function N8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r,i,o=it.min(),c=it.min(),d=sn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.ct=e}}function C8(t){const e=b8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.un=new E8}addToCollectionParentIndex(e,n){return this.un.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(Wa.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(Wa.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class E8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn($t.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vc(0)}static kn(){return new vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(){this.changes=new Ec((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&qd(r.mutation,i,ir.empty(),Ts.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,xt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=xt()){const i=$o();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let c=Dd();return o.forEach(((d,u)=>{c=c.insert(d,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,xt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let o=oa();const c=Wd(),d=(function(){return Wd()})();return n.forEach(((u,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof Ja)?o=o.insert(m.key,m):p!==void 0?(c.set(m.key,p.mutation.getFieldMask()),qd(p.mutation,m,p.mutation.getFieldMask(),Ts.now())):c.set(m.key,ir.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((m,p)=>c.set(m,p))),n.forEach(((m,p)=>{var x;return d.set(m,new I8(p,(x=c.get(m))!==null&&x!==void 0?x:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Wd();let i=new ls(((c,d)=>c-d)),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((u=>{const m=n.get(u);if(m===null)return;let p=r.get(u)||ir.empty();p=d.applyToLocalView(m,p),r.set(u,p);const x=(i.get(d.batchId)||xt()).add(u);i=i.insert(d.batchId,x)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),m=u.key,p=u.value,x=KS();p.forEach((v=>{if(!o.has(v)){const j=eN(n.get(v),r.get(v));j!==null&&x.set(v,j),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return _e.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):_e.resolve($o());let d=-1,u=o;return c.next((m=>_e.forEach(m,((p,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{u=u.insert(p,v)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,u,m,xt()))).next((p=>({batchId:d,changes:qS(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=Dd();return this.indexManager.getCollectionParents(e,o).next((d=>_e.forEach(d,(u=>{const m=(function(x,v){return new da(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((c=>{o.forEach(((u,m)=>{const p=m.getKey();c.get(p)===null&&(c=c.insert(p,mn.newInvalidDocument(p)))}));let d=Dd();return c.forEach(((u,m)=>{const p=o.get(u);p!==void 0&&qd(p.mutation,m,ir.empty(),Ts.now()),Op(n,m)&&(d=d.insert(u,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return _e.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:C8(i.bundledQuery),readTime:Si(i.readTime)}})(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.overlays=new ls(qe.comparator),this.Ir=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return _e.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.ht(e,n,o)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=$o(),o=n.length+1,c=new qe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const u=d.getNext().value,m=u.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ls(((m,p)=>m-p));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=o.get(m.largestBatchId);p===null&&(p=$o(),o=o.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=$o(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((m,p)=>d.set(m,p))),!(d.size()>=i)););return _e.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new n8(n,r));let o=this.Ir.get(n);o===void 0&&(o=xt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Tr=new tn(Vs.Er),this.dr=new tn(Vs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Vs(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Vs(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new qe(new $t([])),r=new Vs(n,e),i=new Vs(n,e+1),o=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new qe(new $t([])),r=new Vs(n,e),i=new Vs(n,e+1);let o=xt();return this.dr.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new Vs(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vs{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return qe.comparator(e.key,n.key)||At(e.wr,n.wr)}static Ar(e,n){return At(e.wr,n.wr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Vs.Er)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new s8(o,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new Vs(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(e,n){return _e.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return _e.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vs(n,0),i=new Vs(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);o.push(d)})),_e.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(At);return n.forEach((i=>{const o=new Vs(i,0),c=new Vs(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(d=>{r=r.add(d.wr)}))})),_e.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const c=new Vs(new qe(o),0);let d=new tn(At);return this.br.forEachWhile((u=>{const m=u.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(u.wr)),!0)}),c),_e.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Lt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return _e.forEach(n.mutations,(i=>{const o=new Vs(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Vs(n,0),i=this.br.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.Mr=e,this.docs=(function(){return new ls(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oa();const c=n.path,d=new qe(c.child("")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:m,value:{document:p}}=u.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||yI(vI(p),r)<=0||(i.has(p.key)||Op(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return _e.resolve(o)}getAllFromCollectionGroup(e,n,r,i){tt()}Or(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new B8(this)}getSize(e){return _e.resolve(this.size)}}class B8 extends A8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.persistence=e,this.Nr=new Ec((n=>my(n)),py),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wy,this.targetCount=0,this.kr=vc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),_e.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Kn(n),_e.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),_e.waitFor(o).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),_e.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dy(0),this.Kr=!1,this.Kr=!0,this.$r=new D8,this.referenceDelegate=e(this),this.Ur=new $8(this),this.indexManager=new T8,this.remoteDocumentCache=(function(i){return new F8(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new k8(n),this.Gr=new P8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new M8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new O8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,n){return _e.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class O8 extends _I{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.Jr=new wy,this.Yr=null}static Zr(e){return new jy(e)}get Xr(){if(this.Yr)return this.Yr;throw tt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xr,(r=>{const i=qe.fromPath(r);return this.ei(e,i).next((o=>{o||n.removeEntry(i,it.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return _e.or([()=>_e.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xt(),i=xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return WA()?8:wI(HA())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(e,n,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new U8;return this.Xi(e,n,c).next((d=>{if(o.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>o.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(jd()<=Ct.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_e.resolve()):(jd()<=Ct.DEBUG&&Oe("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(jd()<=Ct.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):_e.resolve())}Yi(e,n){if(T2(n))return _e.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ap(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=xt(...o);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const m=this.ts(n,d);return this.ns(n,m,c,u.readTime)?this.Yi(e,ap(n,null,"F")):this.rs(e,m,n,u)}))))})))))}Zi(e,n,r,i){return T2(n)||i.isEqual(it.min())?_e.resolve(null):this.Ji.getDocuments(e,r).next((o=>{const c=this.ts(n,o);return this.ns(n,c,r,i)?_e.resolve(null):(jd()<=Ct.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xl(n)),this.rs(e,c,n,xI(i,-1)).next((d=>d)))}))}ts(e,n){let r=new tn(GS(e));return n.forEach(((i,o)=>{Op(e,o)&&(r=r.add(o))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return jd()<=Ct.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Wa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ls(At),this._s=new Ec((o=>my(o)),py),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function G8(t,e,n,r){return new H8(t,e,n,r)}async function hN(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let u=xt();for(const m of i){c.push(m.batchId);for(const p of m.mutations)u=u.add(p.key)}for(const m of o){d.push(m.batchId);for(const p of m.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function W8(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,u,m,p){const x=m.batch,v=x.keys();let j=_e.resolve();return v.forEach((N=>{j=j.next((()=>p.getEntry(u,N))).next((P=>{const I=m.docVersions.get(N);Lt(I!==null),P.version.compareTo(I)<0&&(x.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),p.addEntry(P)))}))})),j.next((()=>d.mutationQueue.removeMutationBatch(u,x)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=xt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(u=u.add(d.batch.mutations[m].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function mN(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function q8(t,e){const n=at(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((p,x)=>{const v=i.get(x);if(!v)return;d.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,x).next((()=>n.Ur.addMatchingKeys(o,p.addedDocuments,x))));let j=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?j=j.withResumeToken(sn.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):p.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(p.resumeToken,r)),i=i.insert(x,j),(function(P,I,F){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(v,j,p)&&d.push(n.Ur.updateTargetData(o,j))}));let u=oa(),m=xt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),d.push(K8(o,c,e.documentUpdates).next((p=>{u=p.Ps,m=p.Is}))),!r.isEqual(it.min())){const p=n.Ur.getLastRemoteSnapshotVersion(o).next((x=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(p)}return _e.waitFor(d).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,m))).next((()=>u))})).then((o=>(n.os=i,o)))}function K8(t,e,n){let r=xt(),i=xt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=oa();return n.forEach(((d,u)=>{const m=o.get(d);u.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(it.min())?(e.removeEntry(d,u.readTime),c=c.insert(d,u)):!m.isValidDocument()||u.version.compareTo(m.version)>0||u.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(u),c=c.insert(d,u)):Oe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",u.version)})),{Ps:c,Is:i}}))}function Q8(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X8(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((o=>o?(i=o,_e.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new Va(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function vv(t,e,n){const r=at(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Iu(c))throw c;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function $2(t,e,n){const r=at(t);let i=it.min(),o=xt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,m,p){const x=at(u),v=x._s.get(p);return v!==void 0?_e.resolve(x.os.get(v)):x.Ur.getTargetData(m,p)})(r,c,ji(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((u=>{o=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:it.min(),n?o:xt()))).next((d=>(Y8(r,VI(e),d),{documents:d,Ts:o})))))}function Y8(t,e,n){let r=t.us.get(e)||it.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.us.set(e,r)}class V2{constructor(){this.activeTargetIds=WI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J8{constructor(){this.so=new V2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new V2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm=null;function ex(){return mm===null?mm=(function(){return 268435456+Math.round(2147483648*Math.random())})():mm++,"0x"+mm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class sR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,c){const d=ex(),u=this.xo(n,r.toUriEncodedString());Oe("RestConnection",`Sending RPC '${n}' ${d}:`,u,i);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,c),this.No(n,u,m,i).then((p=>(Oe("RestConnection",`Received RPC '${n}' ${d}: `,p),p)),(p=>{throw mc("RestConnection",`RPC '${n}' ${d} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,r,i,o,c,d){return this.Mo(n,r,i,o,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tc})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,c)=>n[c]=o)),i&&i.headers.forEach(((o,c)=>n[c]=o))}xo(n,r){const i=eR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ex();return new Promise(((c,d)=>{const u=new TS;u.setWithCredentials(!0),u.listenOnce(ES.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case $m.NO_ERROR:const p=u.getResponseJson();Oe(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case $m.TIMEOUT:Oe(ln,`RPC '${e}' ${o} timed out`),d(new Re(me.DEADLINE_EXCEEDED,"Request time out"));break;case $m.HTTP_ERROR:const x=u.getStatus();if(Oe(ln,`RPC '${e}' ${o} failed with status:`,x,"response text:",u.getResponseText()),x>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const j=v==null?void 0:v.error;if(j&&j.status&&j.message){const N=(function(I){const F=I.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(F)>=0?F:me.UNKNOWN})(j.status);d(new Re(N,j.message))}else d(new Re(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new Re(me.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Oe(ln,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);Oe(ln,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",m,r,15)}))}Bo(e,n,r){const i=ex(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=RS(),d=IS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(u.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");Oe(ln,`Creating RPC '${e}' stream ${i}: ${p}`,u);const x=c.createWebChannel(p,u);let v=!1,j=!1;const N=new tR({Io:I=>{j?Oe(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(v||(Oe(ln,`Opening RPC '${e}' stream ${i} transport.`),x.open(),v=!0),Oe(ln,`RPC '${e}' stream ${i} sending:`,I),x.send(I))},To:()=>x.close()}),P=(I,F,B)=>{I.listen(F,(T=>{try{B(T)}catch(y){setTimeout((()=>{throw y}),0)}}))};return P(x,Ld.EventType.OPEN,(()=>{j||(Oe(ln,`RPC '${e}' stream ${i} transport opened.`),N.yo())})),P(x,Ld.EventType.CLOSE,(()=>{j||(j=!0,Oe(ln,`RPC '${e}' stream ${i} transport closed`),N.So())})),P(x,Ld.EventType.ERROR,(I=>{j||(j=!0,mc(ln,`RPC '${e}' stream ${i} transport errored:`,I),N.So(new Re(me.UNAVAILABLE,"The operation could not be completed")))})),P(x,Ld.EventType.MESSAGE,(I=>{var F;if(!j){const B=I.data[0];Lt(!!B);const T=B,y=T.error||((F=T[0])===null||F===void 0?void 0:F.error);if(y){Oe(ln,`RPC '${e}' stream ${i} received error:`,y);const w=y.status;let M=(function(E){const L=js[E];if(L!==void 0)return sN(L)})(w),C=y.message;M===void 0&&(M=me.INTERNAL,C="Unknown error status: "+w+" with message "+y.message),j=!0,N.So(new Re(M,C)),x.close()}else Oe(ln,`RPC '${e}' stream ${i} received:`,B),N.bo(B)}})),P(d,AS.STAT_EVENT,(I=>{I.stat===lv.PROXY?Oe(ln,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===lv.NOPROXY&&Oe(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.wo()}),0),N}}function tx(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){return new h8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,r,i,o,c,d,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pN(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Re(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nR extends fN{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=f8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return it.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?it.min():c.readTime?Si(c.readTime):it.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xv(this.serializer),n.addTarget=(function(o,c){let d;const u=c.target;if(d=hv(u)?{documents:v8(o,u)}:{query:y8(o,u)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iN(o,c.resumeToken);const m=pv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(it.min())>0){d.readTime=lp(o,c.snapshotVersion.toTimestamp());const m=pv(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=_8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xv(this.serializer),n.removeTarget=e,this.a_(n)}}class rR extends fN{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=x8(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>g8(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(e,fv(n,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(me.UNKNOWN,o.toString())}))}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,fv(n,r),i,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(me.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class aR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(aa(n),this.D_=!1):Oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{r.enqueueAndForget((async()=>{Zo(this)&&(Oe("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const m=at(u);m.L_.add(4),await Lu(m),m.q_.set("Unknown"),m.L_.delete(4),await Wp(m)})(this))}))})),this.q_=new aR(r,i)}}async function Wp(t){if(Zo(t))for(const e of t.B_)await e(!0)}async function Lu(t){for(const e of t.B_)await e(!1)}function gN(t,e){const n=at(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ty(n)?Cy(n):Ac(n).r_()&&ky(n,e))}function Ny(t,e){const n=at(t),r=Ac(n);n.N_.delete(e),r.r_()&&xN(n,e),n.N_.size===0&&(r.r_()?r.o_():Zo(n)&&n.q_.set("Unknown"))}function ky(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).A_(e)}function xN(t,e){t.Q_.xe(e),Ac(t).R_(e)}function Cy(t){t.Q_=new l8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.q_.v_()}function Ty(t){return Zo(t)&&!Ac(t).n_()&&t.N_.size>0}function Zo(t){return at(t).L_.size===0}function vN(t){t.Q_=void 0}async function lR(t){t.q_.set("Online")}async function cR(t){t.N_.forEach(((e,n)=>{ky(t,e)}))}async function dR(t,e){vN(t),Ty(t)?(t.q_.M_(e),Cy(t)):t.q_.set("Unknown")}async function uR(t,e,n){if(t.q_.set("Online"),e instanceof rN&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const d of o.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cp(t,r)}else if(e instanceof Um?t.Q_.Ke(e):e instanceof nN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(it.min()))try{const r=await mN(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach(((u,m)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.N_.get(m);p&&o.N_.set(m,p.withResumeToken(u.resumeToken,c))}})),d.targetMismatches.forEach(((u,m)=>{const p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(sn.EMPTY_BYTE_STRING,p.snapshotVersion)),xN(o,u);const x=new Va(p.target,u,m,p.sequenceNumber);ky(o,x)})),o.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),await cp(t,r)}}async function cp(t,e,n){if(!Iu(e))throw e;t.L_.add(1),await Lu(t),t.q_.set("Offline"),n||(n=()=>mN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wp(t)}))}function yN(t,e){return e().catch((n=>cp(t,n,e)))}async function qp(t){const e=at(t),n=Ka(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hR(e);)try{const i=await Q8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,mR(e,i)}catch(i){await cp(e,i)}bN(e)&&_N(e)}function hR(t){return Zo(t)&&t.O_.length<10}function mR(t,e){t.O_.push(e);const n=Ka(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bN(t){return Zo(t)&&!Ka(t).n_()&&t.O_.length>0}function _N(t){Ka(t).start()}async function pR(t){Ka(t).p_()}async function fR(t){const e=Ka(t);for(const n of t.O_)e.m_(n.mutations)}async function gR(t,e,n){const r=t.O_.shift(),i=yy.from(r,e,n);await yN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await qp(t)}async function xR(t,e){e&&Ka(t).V_&&await(async function(r,i){if((function(c){return i8(c)&&c!==me.ABORTED})(i.code)){const o=r.O_.shift();Ka(r).s_(),await yN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await qp(r)}})(t,e),bN(t)&&_N(t)}async function U2(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=Zo(n);n.L_.add(3),await Lu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wp(n)}async function vR(t,e){const n=at(t);e?(n.L_.delete(2),await Wp(n)):e||(n.L_.add(2),await Lu(n),n.q_.set("Unknown"))}function Ac(t){return t.K_||(t.K_=(function(n,r,i){const o=at(n);return o.w_(),new nR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:lR.bind(null,t),Ro:cR.bind(null,t),mo:dR.bind(null,t),d_:uR.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Ty(t)?Cy(t):t.q_.set("Unknown")):(await t.K_.stop(),vN(t))}))),t.K_}function Ka(t){return t.U_||(t.U_=(function(n,r,i){const o=at(n);return o.w_(),new rR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pR.bind(null,t),mo:xR.bind(null,t),f_:fR.bind(null,t),g_:gR.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await qp(t)):(await t.U_.stop(),t.O_.length>0&&(Oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,d=new Ey(e,n,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(t,e){if(aa("AsyncQueue",`${e}: ${t}`),Iu(t))return new Re(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Dd(),this.sortedSet=new ls(this.comparator)}static emptySet(e){return new dc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.W_=new ls(qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):tt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yc{constructor(e,n,r,i,o,c,d,u,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new yc(e,n,dc.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class bR{constructor(){this.queries=H2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=H2(),o.forEach(((c,d)=>{for(const u of d.j_)u.onError(r)}))})(this,new Re(me.ABORTED,"Firestore shutting down"))}}function H2(){return new Ec((t=>HS(t)),Vp)}async function wN(t,e){const n=at(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new yR,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Ay(c,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Iy(n)}async function jN(t,e){const n=at(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _R(t,e){const n=at(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&Iy(n)}function wR(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Iy(t){t.Y_.forEach((e=>{e.next()}))}var yv,G2;(G2=yv||(yv={})).ea="default",G2.Cache="cache";class SN{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.key=e}}class kN{constructor(e){this.key=e}}class jR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xt(),this.mutatedKeys=xt(),this.Aa=GS(e),this.Ra=new dc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new z2,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,x)=>{const v=i.get(p),j=Op(this.query,x)?x:null,N=!!v&&this.mutatedKeys.has(v.key),P=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let I=!1;v&&j?v.data.isEqual(j.data)?N!==P&&(r.track({type:3,doc:j}),I=!0):this.ga(v,j)||(r.track({type:2,doc:j}),I=!0,(u&&this.Aa(j,u)>0||m&&this.Aa(j,m)<0)&&(d=!0)):!v&&j?(r.track({type:0,doc:j}),I=!0):v&&!j&&(r.track({type:1,doc:v}),I=!0,(u||m)&&(d=!0)),I&&(j?(c=c.add(j),o=P?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((p,x)=>(function(j,N){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return P(j)-P(N)})(p.type,x.type)||this.Aa(p.doc,x.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,m=u!==this.Ea;return this.Ea=u,c.length!==0||m?{snapshot:new yc(this.query,e.Ra,o,c,e.mutatedKeys,u===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new z2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new kN(r))})),this.da.forEach((r=>{e.has(r)||n.push(new NN(r))})),n}ba(e){this.Ta=e.Ts,this.da=xt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NR{constructor(e){this.key=e,this.va=!1}}class kR{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Ec((d=>HS(d)),Vp),this.Ma=new Map,this.xa=new Set,this.Oa=new ls(qe.comparator),this.Na=new Map,this.La=new wy,this.Ba={},this.ka=new Map,this.qa=vc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function CR(t,e,n=!0){const r=RN(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await CN(r,e,n,!0),i}async function TR(t,e){const n=RN(t);await CN(n,e,!0,!1)}async function CN(t,e,n,r){const i=await X8(t.localStore,ji(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await ER(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&gN(t.remoteStore,i),d}async function ER(t,e,n,r,i){t.Ka=(x,v,j)=>(async function(P,I,F,B){let T=I.view.ma(F);T.ns&&(T=await $2(P.localStore,I.query,!1).then((({documents:C})=>I.view.ma(C,T))));const y=B&&B.targetChanges.get(I.targetId),w=B&&B.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(T,P.isPrimaryClient,y,w);return q2(P,I.targetId,M.wa),M.snapshot})(t,x,v,j);const o=await $2(t.localStore,e,!0),c=new jR(e,o.Ts),d=c.ma(o.documents),u=Pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,u);q2(t,n,m.wa);const p=new SR(e,n,c);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function AR(t,e,n){const r=at(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((c=>!Vp(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ny(r.remoteStore,i.targetId),bv(r,i.targetId)})).catch(Au)):(bv(r,i.targetId),await vv(r.localStore,i.targetId,!0))}async function IR(t,e){const n=at(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ny(n.remoteStore,r.targetId))}async function RR(t,e,n){const r=$R(t);try{const i=await(function(c,d){const u=at(c),m=Ts.now(),p=d.reduce(((j,N)=>j.add(N.key)),xt());let x,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let N=oa(),P=xt();return u.cs.getEntries(j,p).next((I=>{N=I,N.forEach(((F,B)=>{B.isValidDocument()||(P=P.add(F))}))})).next((()=>u.localDocuments.getOverlayedDocuments(j,N))).next((I=>{x=I;const F=[];for(const B of d){const T=e8(B,x.get(B.key).overlayedDocument);T!=null&&F.push(new Ja(B.key,T,FS(T.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(j,m,F,d)})).next((I=>{v=I;const F=I.applyToLocalDocumentSet(x,P);return u.documentOverlayCache.saveOverlays(j,I.batchId,F)}))})).then((()=>({batchId:v.batchId,changes:qS(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,u){let m=c.Ba[c.currentUser.toKey()];m||(m=new ls(At)),m=m.insert(d,u),c.Ba[c.currentUser.toKey()]=m})(r,i.batchId,n),await Du(r,i.changes),await qp(r.remoteStore)}catch(i){const o=Ay(i,"Failed to persist write");n.reject(o)}}async function TN(t,e){const n=at(t);try{const r=await q8(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=n.Na.get(o);c&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?Lt(c.va):i.removedDocuments.size>0&&(Lt(c.va),c.va=!1))})),await Du(n,r,e)}catch(r){await Au(r)}}function W2(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((o,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const u=at(c);u.onlineState=d;let m=!1;u.queries.forEach(((p,x)=>{for(const v of x.j_)v.Z_(d)&&(m=!0)})),m&&Iy(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PR(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let c=new ls(qe.comparator);c=c.insert(o,mn.newNoDocument(o,it.min()));const d=xt().add(o),u=new Hp(it.min(),new Map,new ls(At),c,d);await TN(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ry(r)}else await vv(r.localStore,e,!1).then((()=>bv(r,e,n))).catch(Au)}async function LR(t,e){const n=at(t),r=e.batch.batchId;try{const i=await W8(n.localStore,e);AN(n,r,null),EN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,i)}catch(i){await Au(i)}}async function DR(t,e,n){const r=at(t);try{const i=await(function(c,d){const u=at(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return u.mutationQueue.lookupMutationBatch(m,d).next((x=>(Lt(x!==null),p=x.keys(),u.mutationQueue.removeMutationBatch(m,x)))).next((()=>u.mutationQueue.performConsistencyCheck(m))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(m,p,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>u.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);AN(r,e,n),EN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Du(r,i)}catch(i){await Au(i)}}function EN(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function AN(t,e,n){const r=at(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||IN(t,r)}))}function IN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ny(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ry(t))}function q2(t,e,n){for(const r of n)r instanceof NN?(t.La.addReference(r.key,e),MR(t,r)):r instanceof kN?(Oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||IN(t,r.key)):tt()}function MR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ry(t))}function Ry(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new qe($t.fromString(e)),r=t.qa.next();t.Na.set(r,new NR(n)),t.Oa=t.Oa.insert(n,r),gN(t.remoteStore,new Va(ji(fy(n.path)),r,"TargetPurposeLimboResolution",dy.oe))}}async function Du(t,e,n){const r=at(t),i=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,u)=>{c.push(r.Ka(u,e,n).then((m=>{var p;if((m||n)&&r.isPrimaryClient){const x=m?!m.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,x?"current":"not-current")}if(m){i.push(m);const x=Sy.Wi(u.targetId,m);o.push(x)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(u,m){const p=at(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>_e.forEach(m,(v=>_e.forEach(v.$i,(j=>p.persistence.referenceDelegate.addReference(x,v.targetId,j))).next((()=>_e.forEach(v.Ui,(j=>p.persistence.referenceDelegate.removeReference(x,v.targetId,j)))))))))}catch(x){if(!Iu(x))throw x;Oe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const v=x.targetId;if(!x.fromCache){const j=p.os.get(v),N=j.snapshotVersion,P=j.withLastLimboFreeSnapshotVersion(N);p.os=p.os.insert(v,P)}}})(r.localStore,o))}async function FR(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=await hN(n.localStore,e);n.currentUser=e,(function(o,c){o.ka.forEach((d=>{d.forEach((u=>{u.reject(new Re(me.CANCELLED,c))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(n,r.hs)}}function BR(t,e){const n=at(t),r=n.Na.get(e);if(r&&r.va)return xt().add(r.key);{let i=xt();const o=n.Ma.get(e);if(!o)return i;for(const c of o){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function RN(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PR.bind(null,e),e.Ca.d_=_R.bind(null,e.eventManager),e.Ca.$a=wR.bind(null,e.eventManager),e}function $R(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DR.bind(null,e),e}class dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return G8(this.persistence,new z8,e.initialUser,this.serializer)}Ga(e){return new V8(jy.Zr,this.serializer)}Wa(e){return new J8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dp.provider={build:()=>new dp};class _v{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FR.bind(null,this.syncEngine),await vR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bR})()}createDatastore(e){const n=Gp(e.databaseInfo.databaseId),r=(function(o){return new sR(o)})(e.databaseInfo);return(function(o,c,d,u){return new iR(o,c,d,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,c,d){return new oR(r,i,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>W2(this.syncEngine,n,0)),(function(){return O2.D()?new O2:new Z8})())}createSyncEngine(e,n){return(function(i,o,c,d,u,m,p){const x=new kR(i,o,c,d,u,m);return p&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=at(i);Oe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Lu(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_v.provider={build:()=>new _v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=LS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Oe("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Oe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ay(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sx(t,e){t.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await hN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function K2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OR(t);Oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>U2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>U2(e.remoteStore,i))),t._onlineComponents=e}async function OR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;mc("Error using user provided cache. Falling back to memory cache: "+n),await sx(t,new dp)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),await sx(t,new dp);return t._offlineComponents}async function LN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),await K2(t,t._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),await K2(t,new _v))),t._onlineComponents}function UR(t){return LN(t).then((e=>e.syncEngine))}async function DN(t){const e=await LN(t),n=e.eventManager;return n.onListen=CR.bind(null,e.syncEngine),n.onUnlisten=AR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IR.bind(null,e.syncEngine),n}function zR(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,m){const p=new PN({next:v=>{p.Za(),c.enqueueAndForget((()=>jN(o,x)));const j=v.docs.has(d);!j&&v.fromCache?m.reject(new Re(me.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&v.fromCache&&u&&u.source==="server"?m.reject(new Re(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),x=new SN(fy(d.path),p,{includeMetadataChanges:!0,_a:!0});return wN(o,x)})(await DN(t),t.asyncQueue,e,n,r))),r.promise}function HR(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,u,m){const p=new PN({next:v=>{p.Za(),c.enqueueAndForget((()=>jN(o,x))),v.fromCache&&u.source==="server"?m.reject(new Re(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),x=new SN(d,p,{includeMetadataChanges:!0,_a:!0});return wN(o,x)})(await DN(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){if(!n)throw new Re(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GR(t,e,n,r){if(e===!0&&r===!0)throw new Re(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X2(t){if(!qe.isDocumentKey(t))throw new Re(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y2(t){if(qe.isDocumentKey(t))throw new Re(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt()}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kp(t);throw new Re(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function WR(t,e){if(e<=0)throw new Re(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lI;switch(r.type){case"firstParty":return new hI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Q2.get(n);r&&(Oe("ComponentProvider","Removing Datastore"),Q2.delete(n),r.terminate())})(this),Promise.resolve()}}function qR(t,e,n,r={}){var i;const o=(t=Ar(t,Mu))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=un.MOCK_USER;else{d=zA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Re(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new un(m)}t._authCredentials=new cI(new PS(d,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Ga extends ai{constructor(e,n,r){super(e,n,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new qe(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function el(t,e,...n){if(t=Er(t),Py("collection","path",e),t instanceof Mu){const r=$t.fromString(e,...n);return Y2(r),new Ga(t,null,r)}{if(!(t instanceof En||t instanceof Ga))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return Y2(r),new Ga(t.firestore,null,r)}}function Ly(t,e){if(t=Ar(t,Mu),Py("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ai(t,null,(function(r){return new da($t.emptyPath(),r)})(e))}function Yt(t,e,...n){if(t=Er(t),arguments.length===1&&(e=LS.newId()),Py("doc","path",e),t instanceof Mu){const r=$t.fromString(e,...n);return X2(r),new En(t,null,new qe(r))}{if(!(t instanceof En||t instanceof Ga))throw new Re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return X2(r),new En(t.firestore,t instanceof Ga?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pN(this,"async_queue_retry"),this.Vu=()=>{const r=tx();r&&Oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=tx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=tx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new na;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Iu(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw aa("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ey.createAndSchedule(this,e,n,r,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&tt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class tl extends Mu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Z2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z2(e),this._firestoreClient=void 0,await e}}}function KR(t,e){const n=typeof t=="object"?t:SS(),r=typeof t=="string"?t:"(default)",i=K6(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=OA("firestore");o&&qR(i,...o)}return i}function Qp(t){if(t._terminated)throw new Re(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QR(t),t._firestoreClient}function QR(t){var e,n,r;const i=t._freezeSettings(),o=(function(d,u,m,p){return new NI(d,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MN(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VR(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(d){const u=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(sn.fromBase64String(e))}catch(n){throw new Re(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bc(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^__.*__$/;class YR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class FN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class Fy{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return up(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BN(this.Cu)&&XR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gp(e)}Qu(e,n,r,i=!1){return new Fy({Cu:e,methodName:n,qu:r,path:Zs.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ic(t){const e=t._freezeSettings(),n=Gp(t._databaseId);return new JR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function By(t,e,n,r,i,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Vy("Data must be an object, but it was:",c,r);const d=UN(r,c);let u,m;if(o.merge)u=new ir(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const p=[];for(const x of o.mergeFields){const v=wv(e,x,n);if(!c.contains(v))throw new Re(me.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);HN(p,v)||p.push(v)}u=new ir(p),m=c.fieldTransforms.filter((x=>u.covers(x.field)))}else u=null,m=c.fieldTransforms;return new YR(new Hn(d),u,m)}class Yp extends Xp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yp}}class $y extends Xp{_toFieldTransform(e){return new XI(e.path,new mu)}isEqual(e){return e instanceof $y}}function $N(t,e,n,r){const i=t.Qu(1,e,n);Vy("Data must be an object, but it was:",i,r);const o=[],c=Hn.empty();Jo(r,((u,m)=>{const p=Oy(e,u,n);m=Er(m);const x=i.Nu(p);if(m instanceof Yp)o.push(p);else{const v=Bu(m,x);v!=null&&(o.push(p),c.set(p,v))}}));const d=new ir(o);return new FN(c,d,i.fieldTransforms)}function VN(t,e,n,r,i,o){const c=t.Qu(1,e,n),d=[wv(e,r,n)],u=[i];if(o.length%2!=0)throw new Re(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(wv(e,o[v])),u.push(o[v+1]);const m=[],p=Hn.empty();for(let v=d.length-1;v>=0;--v)if(!HN(m,d[v])){const j=d[v];let N=u[v];N=Er(N);const P=c.Nu(j);if(N instanceof Yp)m.push(j);else{const I=Bu(N,P);I!=null&&(m.push(j),p.set(j,I))}}const x=new ir(m);return new FN(p,x,c.fieldTransforms)}function ON(t,e,n,r=!1){return Bu(n,t.Qu(r?4:3,e))}function Bu(t,e){if(zN(t=Er(t)))return Vy("Unsupported field value:",e,t),UN(t,e);if(t instanceof Xp)return(function(r,i){if(!BN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const d of r){let u=Bu(d,i.Lu(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Er(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ts.fromDate(r);return{timestampValue:lp(i.serializer,o)}}if(r instanceof Ts){const o=new Ts(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lp(i.serializer,o)}}if(r instanceof Dy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bc)return{bytesValue:iN(i.serializer,r._byteString)};if(r instanceof En){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_y(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof My)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((u=>{if(typeof u!="number")throw d.Bu("VectorValues must only contain numeric values.");return xy(d.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Kp(r)}`)})(t,e)}function UN(t,e){const n={};return DS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(t,((r,i)=>{const o=Bu(i,e.Mu(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function zN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ts||t instanceof Dy||t instanceof bc||t instanceof En||t instanceof Xp||t instanceof My)}function Vy(t,e,n){if(!zN(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Kp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function wv(t,e,n){if((e=Er(e))instanceof Fu)return e._internalPath;if(typeof e=="string")return Oy(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZR=new RegExp("[~\\*/\\[\\]]");function Oy(t,e,n){if(e.search(ZR)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fu(...e.split("."))._internalPath}catch(r){throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function up(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new Re(me.INVALID_ARGUMENT,d+t+u)}function HN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eP extends Uy{data(){return super.data()}}function Jp(t,e){return typeof e=="string"?Oy(t,e):e instanceof Fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class $u extends zy{}function Cn(t,e,...n){let r=[];e instanceof zy&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((u=>u instanceof Hy)).length,d=o.filter((u=>u instanceof Zp)).length;if(c>1||c>0&&d>0)throw new Re(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Zp extends $u{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zp(e,n,r)}_apply(e){const n=this._parse(e);return qN(e._query,n),new ai(e.firestore,e.converter,mv(e._query,n))}_parse(e){const n=Ic(e.firestore);return(function(o,c,d,u,m,p,x){let v;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){t_(x,p);const j=[];for(const N of x)j.push(e_(u,o,N));v={arrayValue:{values:j}}}else v=e_(u,o,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||t_(x,p),v=ON(d,c,x,p==="in"||p==="not-in");return Cs.create(m,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ni(t,e,n){const r=e,i=Jp("where",t);return Zp._create(i,r,n)}class Hy extends zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let c=i;const d=o.getFlattenedFilters();for(const u of d)qN(c,u),c=mv(c,u)})(e._query,n),new ai(e.firestore,e.converter,mv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gy extends $u{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gy(e,n)}_apply(e){const n=(function(i,o,c){if(i.startAt!==null)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(o,c)})(e._query,this._field,this._direction);return new ai(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new da(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function wi(t,e="asc"){const n=e,r=Jp("orderBy",t);return Gy._create(r,n)}class Wy extends $u{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wy(e,n,r)}_apply(e){return new ai(e.firestore,e.converter,ap(e._query,this._limit,this._limitType))}}function Tn(t){return WR("limit",t),Wy._create("limit",t,"F")}class ef extends $u{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ef(e,n,r)}_apply(e){const n=WN(e,this.type,this._docOrFields,this._inclusive);return new ai(e.firestore,e.converter,(function(i,o){return new da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,n))}}function Zl(...t){return ef._create("startAt",t,!0)}function GN(...t){return ef._create("startAfter",t,!1)}class qy extends $u{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qy(e,n,r)}_apply(e){const n=WN(e,this.type,this._docOrFields,this._inclusive);return new ai(e.firestore,e.converter,(function(i,o){return new da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)})(e._query,n))}}function ec(...t){return qy._create("endAt",t,!0)}function WN(t,e,n,r){if(n[0]=Er(n[0]),n[0]instanceof Uy)return(function(o,c,d,u,m){if(!u)throw new Re(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const p=[];for(const x of cc(o))if(x.field.isKeyField())p.push(ip(c,u.key));else{const v=u.data.field(x.field);if($p(v))throw new Re(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const j=x.field.canonicalString();throw new Re(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}p.push(v)}return new xc(p,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ic(t.firestore);return(function(c,d,u,m,p,x){const v=c.explicitOrderBy;if(p.length>v.length)throw new Re(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let N=0;N<p.length;N++){const P=p[N];if(v[N].field.isKeyField()){if(typeof P!="string")throw new Re(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!gy(c)&&P.indexOf("/")!==-1)throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const I=c.path.child($t.fromString(P));if(!qe.isDocumentKey(I))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const F=new qe(I);j.push(ip(d,F))}else{const I=ON(u,m,P);j.push(I)}}return new xc(j,x)})(t._query,t.firestore._databaseId,i,e,n,r)}}function e_(t,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new Re(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gy(e)&&n.indexOf("/")!==-1)throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!qe.isDocumentKey(r))throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ip(t,new qe(r))}if(n instanceof En)return ip(t,n._key);throw new Re(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kp(n)}.`)}function t_(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qN(t,e){const n=(function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sP{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jo(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>vs(c.doubleValue)));return new My(o)}convertGeoPoint(e){return new Dy(vs(e.latitude),vs(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=qa(e);return new Ts(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Lt(uN(r));const i=new du(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||aa(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KN extends Uy{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zm extends KN{data(e={}){return super.data(e)}}class nP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new zm(this._firestore,this._userDataWriter,r.key,r,new Fd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const u=new zm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Fd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const u=new zm(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Fd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:rP(d.type),doc:u,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){t=Ar(t,En);const e=Ar(t.firestore,tl);return zR(Qp(e),t._key).then((n=>oP(e,t,n)))}class QN extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function pn(t){t=Ar(t,ai);const e=Ar(t.firestore,tl),n=Qp(e),r=new QN(e);return tP(t._query),HR(n,t._query).then((i=>new nP(e,r,t,i)))}function hp(t,e,n){t=Ar(t,En);const r=Ar(t.firestore,tl),i=Ky(t.converter,e,n);return tf(r,[By(Ic(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gn.none())])}function iP(t,e,n,...r){t=Ar(t,En);const i=Ar(t.firestore,tl),o=Ic(i);let c;return c=typeof(e=Er(e))=="string"||e instanceof Fu?VN(o,"updateDoc",t._key,e,n,r):$N(o,"updateDoc",t._key,e),tf(i,[c.toMutation(t._key,Gn.exists(!0))])}function aP(t,e){const n=Ar(t.firestore,tl),r=Yt(t),i=Ky(t.converter,e);return tf(n,[By(Ic(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then((()=>r))}function tf(t,e){return(function(r,i){const o=new na;return r.asyncQueue.enqueueAndForget((async()=>RR(await UR(r),i,o))),o.promise})(Qp(t),e)}function oP(t,e,n){const r=n.docs.get(e._key),i=new QN(t);return new KN(t,i,e._key,r,new Fd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ic(e)}set(e,n,r){this._verifyNotCommitted();const i=nx(e,this._firestore),o=Ky(i.converter,n,r),c=By(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Gn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=nx(e,this._firestore);let c;return c=typeof(n=Er(n))=="string"||n instanceof Fu?VN(this._dataReader,"WriteBatch.update",o._key,n,r,i):$N(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=nx(e,this._firestore);return this._mutations=this._mutations.concat(new vy(n._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nx(t,e){if((t=Er(t)).firestore!==e)throw new Re(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function _i(){return new $y("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){return Qp(t=Ar(t,tl)),new lP(t,(e=>tf(t,e)))}(function(e,n=!0){(function(i){Tc=i})(Y6),np(new iu("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new tl(new dI(r.getProvider("auth-internal")),new pI(r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Re(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(m.options.projectId,p)})(c,i),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),lc(v2,"4.7.3",e),lc(v2,"4.7.3","esm2017")})();var dP="firebase",uP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lc(dP,uP,"app");const XN={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};XN.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const hP=J6().length?SS():jS(XN),_t=KR(hP),Jr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Zr=t=>`https://drive.google.com/uc?export=view&id=${t}`,YN=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Ls=[{key:"warrior",label:"Warrior",iconUrl:Zr(Jr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Zr(Jr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Zr(Jr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Zr(Jr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Zr(Jr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Zr(Jr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Zr(Jr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Zr(Jr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Zr(Jr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Zr(Jr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Zr(Jr.paladin),fallback:""}],jv=Object.fromEntries(Ls.map(t=>[t.key,t])),Sv=new Map;function cs(t,e){Sv.set(YN(t),e)}for(const t of Ls)cs(t.key,t.key),cs(t.label,t.key);cs("war","warrior");cs("krieger","warrior");cs("magier","mage");cs("jaeger","scout");cs("jger","scout");cs("assa","assassin");cs("meuchelmoerder","assassin");cs("meuchelmrder","assassin");cs("demonhunter","demon-hunter");cs("dh","demon-hunter");cs("daemonenjaeger","demon-hunter");cs("dmonenjger","demon-hunter");cs("zerker","berserker");cs("battlemage","battle-mage");cs("kampfmagier","battle-mage");cs("bm","battle-mage");cs("druide","druid");cs("barde","bard");cs("necro","necromancer");cs("nekromant","necromancer");cs("pala","paladin");function mP(t){const e=YN(t);if(!e)return{};const n=Sv.get(e);if(n){const r=jv[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Sv.entries())if(r.startsWith(e)||e.startsWith(r)){const o=jv[i];return{url:o.iconUrl,fallback:o.fallback}}return{}}const pP=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Ls,CLASS_BY_KEY:jv,iconForClassName:mP},Symbol.toStringTag,{value:"Module"}));function sf(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function Hm(t){if(t==null)return;const e=sf(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function JN(t,e=64){if(t==null)return;const n=sf(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function ZN(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function ek(t,e,n,r){const i=Hm(t);return i?ZN(i,{w:e,h:n,fit:r}):void 0}function Pr(t,e=64){const n=JN(t,e);return n?ZN(n,{w:e,h:e,fit:"contain"}):void 0}function rx(t){if(t==null)return;const e=sf(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function fP(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const qo=Object.assign(t=>Hm(t),{id:sf,direct:Hm,thumb:JN,proxy:ek,thumbProxy:Pr,raw:rx,gif:rx,gifProxy:t=>{const e=rx(t);return e&&/^https?:\/\//i.test(e)?fP(e):Hm(t)}}),ix=t=>Number.isFinite(t),zl=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},gP=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function xP(t,e=64){if(!t)return;const n=o=>o.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Ls.find(o=>n(o.label)===r);if(i||(i=Ls.find(o=>n(o.label).startsWith(r)||r.startsWith(n(o.label)))),!!i)return Pr(i.iconUrl,e)}function vP(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function yP({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const r=Rr(),[i,o]=re.useState(""),[c,d]=re.useState(""),[u,m]=re.useState(!1),[p,x]=re.useState(null),[v,j]=re.useState([]),[N,P]=re.useState([]),[I,F]=re.useState([]),[B,T]=re.useState(-1),y=re.useRef(null);re.useEffect(()=>{const _=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(_)},[i]),re.useEffect(()=>{async function _(){x(null);const E=c;if(E.length<1){j([]),P([]),F([]),T(-1);return}m(!0);try{let L=function(Ce){var It,he,De,Ue,Rt,Vt,ys,Lr,In,gn,xn,Dr,cr,dr,Es,Jt,Wt,Dt,oi,qn,ur,hr,li,Ai,ci,Mr,qt,mr,Ii,Ri,vn,Kn,Pi,Qn;const ge=Ce.data(),{root:Te,id:Ne}=vP(Ce),Ke=Ne||ge.playerId||ge.guildIdentifier||"";if(Te==="players"||ge.playerId&&!ge.guildIdentifier){if(!Ke||z.has(Ke))return;z.add(Ke),Q.push({kind:"player",id:Ke,name:(De=(he=ge.name)!=null?he:(It=ge.values)==null?void 0:It.Name)!=null?De:null,nameFold:(Ue=ge.nameFold)!=null?Ue:null,server:(ys=(Vt=ge.server)!=null?Vt:(Rt=ge.values)==null?void 0:Rt.Server)!=null?ys:null,guildName:(gn=(In=ge.guildName)!=null?In:(Lr=ge.values)==null?void 0:Lr.Guild)!=null?gn:null,className:(cr=(Dr=ge.className)!=null?Dr:(xn=ge.values)==null?void 0:xn.Class)!=null?cr:null,level:zl((Es=ge.level)!=null?Es:(dr=ge.values)==null?void 0:dr.Level),ts:zl(ge.timestamp)});return}if(Te==="guilds"||ge.guildIdentifier&&!ge.playerId){if(!Ke||W.has(Ke))return;W.add(Ke),H.push({kind:"guild",id:Ke,name:(Dt=(Wt=ge.name)!=null?Wt:(Jt=ge.values)==null?void 0:Jt.Name)!=null?Dt:null,nameFold:(oi=ge.nameFold)!=null?oi:null,server:(hr=(ur=ge.server)!=null?ur:(qn=ge.values)==null?void 0:qn.Server)!=null?hr:null,memberCount:zl((Mr=(Ai=ge.memberCount)!=null?Ai:(li=ge.values)==null?void 0:li["Guild Member Count"])!=null?Mr:(ci=ge.values)==null?void 0:ci.GuildMemberCount),hofRank:zl((Qn=(Kn=(Ri=(mr=ge.hofRank)!=null?mr:(qt=ge.values)==null?void 0:qt["Hall of Fame Rank"])!=null?Ri:(Ii=ge.values)==null?void 0:Ii.HoF)!=null?Kn:(vn=ge.values)==null?void 0:vn.Rank)!=null?Qn:(Pi=ge.values)==null?void 0:Pi["Guild Rank"]),ts:zl(ge.timestamp)});return}};const R=gP(E),V=Ly(_t,"latest"),$=await pn(Cn(V,wi("nameFold"),Zl(R),ec(R+""),Tn(e*6))),q=await pn(Cn(V,ni("nameNgrams","array-contains",R),Tn(e*6))),z=new Set,W=new Set,Q=[],H=[];$.forEach(L),q.forEach(L);const ee=el(_t,"servers"),ne=E.toLowerCase(),G=E.toUpperCase(),te=[pn(Cn(ee,wi("displayName"),Zl(E),ec(E+""),Tn(e*4))),pn(Cn(ee,wi("code"),Zl(G),ec(G+""),Tn(e*4))),pn(Cn(ee,wi("host"),Zl(ne),ec(ne+""),Tn(e*4)))],ce=await Promise.allSettled(te),Z=new Set,pe=[];for(const Ce of ce)Ce.status==="fulfilled"&&Ce.value.forEach(ge=>{var Ke,It,he,De,Ue;const Te=ge.data(),Ne=ge.id;!Ne||Z.has(Ne)||(Z.add(Ne),pe.push({kind:"server",id:Ne,displayName:(Ke=Te.displayName)!=null?Ke:null,code:(It=Te.code)!=null?It:null,host:(he=Te.host)!=null?he:null,region:(De=Te.region)!=null?De:null,type:(Ue=Te.type)!=null?Ue:null,numericId:zl(Te.numericId),active:typeof Te.active=="boolean"?Te.active:null}))});j(Q.slice(0,e)),P(H.slice(0,e)),F(pe.slice(0,e)),T(Q.length+H.length+pe.length?0:-1)}catch(L){x((L==null?void 0:L.message)||"Unbekannter Fehler bei der Suche."),j([]),P([]),F([]),T(-1)}finally{m(!1)}}return _(),()=>{}},[c,e]),re.useEffect(()=>{const _=E=>{y.current&&(y.current.contains(E.target)||(j([]),P([]),F([]),T(-1)))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const w=[...v,...N,...I],M=_=>{_.kind==="player"?r(`/player/${encodeURIComponent(_.id)}`):_.kind==="guild"?r(`/guild/${encodeURIComponent(_.id)}`):r(`/server/${encodeURIComponent(_.id)}`),j([]),P([]),F([]),T(-1),o("")},C=_=>{if(w.length)if(_.key==="ArrowDown")_.preventDefault(),T(E=>(E+1)%w.length);else if(_.key==="ArrowUp")_.preventDefault(),T(E=>(E-1+w.length)%w.length);else if(_.key==="Enter"){_.preventDefault();const E=w[B>=0?B:0];E&&M(E)}else _.key==="Escape"&&(j([]),P([]),F([]),T(-1))};return s.jsxs("div",{ref:y,style:ot.wrap,children:[s.jsx("input",{style:ot.input,placeholder:t,value:i,onChange:_=>o(_.target.value),onKeyDown:C,"aria-label":"Spieler, Gilden und Server suchen"}),(u||p||v.length||N.length||I.length)&&s.jsxs("div",{style:ot.dropdown,children:[u&&s.jsx("div",{style:ot.hint,children:"Suche"}),p&&!u&&s.jsxs("div",{style:ot.err,children:[" ",p]}),!u&&!p&&(v.length>0||N.length>0||I.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Spieler"}),v.map((_,E)=>{var V,$,q,z;const L=E===B,R=(V=n==null?void 0:n(_.className,64))!=null?V:xP(_.className,64);return s.jsxs("button",{onClick:()=>M(_),style:L?ot.itemActive:ot.item,title:_.name||"",onMouseEnter:()=>T(E),children:[s.jsx("div",{style:ot.iconBoxPlain,children:R?s.jsx("img",{src:R,alt:"",style:ot.iconImgShadow,onError:W=>{const Q=W.currentTarget.parentElement;Q&&(Q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:ot.iconFallback,children:(_.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:($=_.name)!=null?$:"Unbekannt"}),ix(_.level)&&s.jsxs("span",{style:ot.badge,children:["Lvl ",_.level]})]}),s.jsxs("div",{style:ot.line2,children:[_.guildName?s.jsxs("span",{children:["",_.guildName,""]}):s.jsx("span",{style:ot.muted,children:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(q=_.className)!=null?q:"Klasse ?"}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(z=_.server)!=null?z:"Server ?"})]})]})]},`p-${_.id}-${E}`)})]}),N.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Gilden"}),N.map((_,E)=>{var V,$;const L=v.length+E,R=L===B;return s.jsxs("button",{onClick:()=>M(_),style:R?ot.itemActive:ot.item,title:_.name||"",onMouseEnter:()=>T(L),children:[s.jsx("div",{style:ot.iconBox,children:""}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:(V=_.name)!=null?V:"Unbekannt"}),ix(_.hofRank)&&s.jsxs("span",{style:ot.badge,children:["HoF #",_.hofRank]})]}),s.jsxs("div",{style:ot.line2,children:[s.jsx("span",{children:($=_.server)!=null?$:"Server ?"}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:ix(_.memberCount)?`${_.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${_.id}-${E}`)})]}),I.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ot.sectionHdr,children:"Server"}),I.map((_,E)=>{var V,$,q,z,W,Q;const L=v.length+N.length+E,R=L===B;return s.jsxs("button",{onClick:()=>M(_),style:R?ot.itemActive:ot.item,title:_.displayName||_.code||_.host||"",onMouseEnter:()=>T(L),children:[s.jsx("div",{style:ot.iconBoxPlain,children:s.jsx("div",{style:ot.serverGlyph,children:""})}),s.jsxs("div",{style:ot.meta,children:[s.jsxs("div",{style:ot.line1,children:[s.jsx("span",{style:ot.name,children:(q=($=(V=_.displayName)!=null?V:_.code)!=null?$:_.host)!=null?q:_.id}),_.active!=null&&s.jsx("span",{style:ot.badge,children:_.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:ot.line2,children:[s.jsx("span",{children:(z=_.code)!=null?z:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(W=_.host)!=null?W:""}),s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:(Q=_.region)!=null?Q:""}),_.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:ot.sep,children:""}),s.jsx("span",{children:_.type.toUpperCase()})]}):null]})]})]},`s-${_.id}-${E}`)})]})]}),!u&&!p&&v.length===0&&N.length===0&&I.length===0&&c.length>=1&&s.jsx("div",{style:ot.hint,children:"Keine Treffer"})]})]})}const ot={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function bP(t){var d,u,m;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),o=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,pP];for(const p of c){if(!p)continue;const x=(m=(u=(d=p[n])!=null?d:p[r])!=null?u:p[i])!=null?m:p[o];if(typeof x=="string")return x}}function _P({user:t}){const{open:e,canUse:n}=fS(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:Et.topbar,children:[s.jsxs("div",{className:Et.topbarLeft,children:[s.jsx("button",{className:Et.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(UT,{className:Et.ico})}),s.jsx("button",{className:Et.btnIco,"aria-label":"Favoriten",children:s.jsx(KE,{className:Et.ico})})]}),s.jsx("div",{className:Et.searchWrap,children:s.jsx(yP,{placeholder:"Suchen (Spieler)",getClassIcon:bP,maxPerSection:10})}),s.jsxs("div",{className:Et.topbarRight,children:[s.jsxs("a",{className:`${Et.pill} ${Et.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(fE,{className:Et.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:Et.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(tA,{className:Et.ico}),s.jsx("span",{className:Et.label,children:"Scan hochladen"})]}),s.jsx(AA,{fallbackName:t==null?void 0:t.name})]})]})}const wP="_root_1x0ud_3",jP="_expanded_1x0ud_45",SP="_headRow_1x0ud_55",NP="_headTitle_1x0ud_63",kP="_headDot_1x0ud_65",CP="_headLabel_1x0ud_67",TP="_pinBtn_1x0ud_69",EP="_navScroll_1x0ud_81",AP="_pad_1x0ud_83",IP="_segCard_1x0ud_89",RP="_segTitle_1x0ud_121",PP="_navCol_1x0ud_139",LP="_navItemWrap_1x0ud_141",DP="_navBtn_1x0ud_147",MP="_navBtnActive_1x0ud_171",FP="_label_1x0ud_175",BP="_trailing_1x0ud_205",$P="_isOpen_1x0ud_253",VP="_footer_1x0ud_279",OP="_login_1x0ud_281",UP="_userMeta_1x0ud_299",zP="_legal_1x0ud_306",HP="_labelText_1x0ud_329",GP="_char_1x0ud_339",WP="_mainNavCard_1x0ud_407",kt={root:wP,expanded:jP,headRow:SP,headTitle:NP,headDot:kP,headLabel:CP,pinBtn:TP,navScroll:EP,pad:AP,segCard:IP,segTitle:RP,navCol:PP,navItemWrap:LP,navBtn:DP,navBtnActive:MP,label:FP,trailing:BP,isOpen:$P,footer:VP,login:OP,userMeta:UP,legal:zP,labelText:HP,char:GP,mainNavCard:WP},qP="_panel_90cjk_1",KP="_open_90cjk_31",QP="_col_90cjk_43",ax={panel:qP,open:KP,col:QP};function XP(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function YP({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:o}){const[c,d]=re.useState({left:0,top:0});return re.useEffect(()=>{if(!e||!t)return;const u=()=>d(XP(t));u();const m=new ResizeObserver(u);return m.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{m.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),AT.createPortal(s.jsx("div",{className:`${ax.panel} ${e?ax.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:o,role:"menu",children:s.jsx("div",{className:ax.col,children:n.map(u=>r(u))})}),document.body))}const JP=[{to:"/",label:"Home",icon:s.jsx(vE,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(wE,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(Yo,{className:"ico"})},{to:"/admin",label:"Admin",icon:s.jsx(OE,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(Dp,{className:"ico"})}],ZP=[{to:"/discover",label:"Discover",icon:s.jsx(aE,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(ZE,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(HT,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(NE,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(mE,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(FE,{className:"ico"})}],eL={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/fusion",label:"Fusion"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function tL(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function sL(t,e){return t?t.filter(n=>tL(e,n.minRole)):[]}const nL=220;function rL(t=nL){const[e,n]=re.useState(!1),r=re.useRef(null),i=re.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),o=re.useCallback(()=>{i(),n(!0)},[i]),c=re.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return re.useEffect(()=>()=>i(),[i]),{open:e,onEnter:o,onLeave:c,setOpen:n}}function Qy({text:t,isOpen:e,duration:n=1,step:r=45}){const i=re.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:kt.label,children:s.jsx("span",{className:kt.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((o,c)=>s.jsx("span",{className:kt.char,style:{"--i":c},"aria-hidden":"true",children:o===" "?"":o},`${t}-${c}`))})})}function iL({it:t,collapsed:e,allowSubmenus:n,subItems:r}){const i=r.length>0,{open:o,onEnter:c,onLeave:d,setOpen:u}=rL(),m=re.useRef(null),p=re.useCallback(()=>{if(!n||!i){u(!1);return}c()},[n,i,c,u]);return s.jsxs("div",{ref:m,className:`${kt.navItemWrap} ${o?kt.isOpen:""}`,onMouseEnter:p,onMouseLeave:d,children:[s.jsxs(hs,{to:t.to,end:!!t.end,className:({isActive:x})=>`${kt.navBtn} ${x?kt.navBtnActive:""}`,children:[t.icon,s.jsx(Qy,{text:t.label,isOpen:!e}),i&&!e&&s.jsx("span",{className:kt.trailing,"aria-hidden":"true",children:s.jsx(KT,{className:"ico"})})]}),i&&s.jsx(YP,{anchorEl:m.current,open:o,items:r.map(({to:x,label:v})=>({to:x,label:v})),renderLink:x=>s.jsx(hs,{to:x.to,className:({isActive:v})=>`link ${v?"linkActive":""}`,children:x.label},x.to),onMouseEnter:c,onMouseLeave:d})]})}function s_({title:t,items:e,collapsed:n,allowSubmenus:r,userRoles:i}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${kt.navTitle} ${kt.segTitle}`,children:t}),s.jsx("div",{className:kt.navCol,children:e.map(o=>{const c=sL(eL[o.to],i);return c.length?s.jsx(iL,{it:o,collapsed:n,allowSubmenus:r,subItems:c},o.to):s.jsxs(hs,{to:o.to,end:!!o.end,className:({isActive:d})=>`${kt.navBtn} ${d?kt.navBtnActive:""}`,children:[o.icon,s.jsx(Qy,{text:o.label,isOpen:!n})]},o.to)})})]})}const aL=90,oL=180;function lL({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){var M;const o=re.useRef(null),c=re.useRef(null),[d,u]=re.useState(!1),m=re.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),p=re.useCallback(()=>{!i||n||(m(),u(!1),o.current=window.setTimeout(()=>e(!0),aL))},[i,n,m,e]),x=re.useCallback(()=>{!i||n||(m(),c.current=window.setTimeout(()=>{e(!1),u(!1)},oL))},[i,n,m,e]);re.useEffect(()=>()=>m(),[m]),re.useEffect(()=>{n&&u(!0)},[n]);const v=C=>{C.propertyName==="width"&&t&&!n&&u(!0)};re.useEffect(()=>{if(t&&!n){const C=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(C)}},[t,n]);const j=!t,N=n||t&&d,P=Rr(),{status:I,user:F,logout:B}=Eu(),T=I==="authenticated",y=(M=F==null?void 0:F.roles)!=null?M:[],w=()=>{T?B():P("/login")};return s.jsxs("aside",{id:"sidebar-root",className:`${kt.root} ${t?kt.expanded:""}`,"data-collapsed":j?"true":"false",onMouseEnter:p,onMouseLeave:x,onTransitionEnd:v,"aria-label":"Navigation",children:[s.jsxs("div",{className:kt.headRow,children:[s.jsxs("div",{className:kt.headTitle,children:[s.jsx("span",{className:kt.headDot})," ",s.jsx("span",{className:kt.headLabel,children:"Navigation"})]}),s.jsx("button",{className:kt.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(EE,{className:"ico"}):s.jsx(CE,{className:"ico"})})]}),s.jsx("div",{className:kt.navScroll,children:s.jsxs("div",{className:kt.pad,children:[s.jsx("div",{className:`${kt.segCard} ${kt.mainNavCard}`,children:s.jsx(s_,{items:JP,collapsed:j,allowSubmenus:N,userRoles:y})}),s.jsx("div",{className:kt.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${kt.segCard} ${kt.mainNavCard}`,children:s.jsx(s_,{items:ZP,collapsed:j,allowSubmenus:N,userRoles:y})})]})}),s.jsxs("div",{className:`${kt.footer} ${kt.segCard} ${kt.mainNavCard}`,children:[s.jsxs("button",{className:kt.login,type:"button",onClick:w,children:[s.jsx(Yo,{className:"ico"}),s.jsx(Qy,{text:T?"Logout":"Login",isOpen:!j})]}),T&&(F!=null&&F.displayName)?s.jsx("div",{className:kt.userMeta,title:F.displayName,children:F.displayName}):null,s.jsx("div",{className:kt.legal,children:"(c) 2025 SFDataHub - Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Gm="/test/assets/logo-sfdatahub-CUdhlsEb.png";function cL({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:o="async"}){const c=t!=null?t:Gm;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(hs,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:o,onError:d=>{const u=d.currentTarget;u.src!==Gm&&(u.src=Gm)}})}),n]})}function dL(){const[t,e]=A.useState(!1),[n,r]=A.useState(!1),i=n||t,o=A.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return s.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":o},children:[s.jsx(cL,{src:"/logo.png"}),s.jsx(_P,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(lL,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(tS,{})})})})]})}const tk=A.createContext({});function Xy(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yy=A.createContext(null),Jy=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function uL(t=!0){const e=A.useContext(Yy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{t&&i(o)},[t]);const c=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const Zy=typeof window!="undefined",sk=Zy?A.useLayoutEffect:A.useEffect,ar=t=>t;let nk=ar;function e0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ko=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ni=t=>t*1e3,ki=t=>t/1e3,hL={useManualTiming:!1};function mL(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(u.schedule(m),t()),m(c)}const u={schedule:(m,p=!1,x=!1)=>{const j=x&&r?e:n;return p&&o.add(m),j.has(m)||j.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,u.process(m))}};return u}const pm=["read","resolveKeyframes","update","preRender","render","postRender"],pL=40;function rk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=pm.reduce((F,B)=>(F[B]=mL(o),F),{}),{read:d,resolveKeyframes:u,update:m,preRender:p,render:x,postRender:v}=c,j=()=>{const F=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,pL),1),i.timestamp=F,i.isProcessing=!0,d.process(i),u.process(i),m.process(i),p.process(i),x.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(j))},N=()=>{n=!0,r=!0,i.isProcessing||t(j)};return{schedule:pm.reduce((F,B)=>{const T=c[B];return F[B]=(y,w=!1,M=!1)=>(n||N(),T.schedule(y,w,M)),F},{}),cancel:F=>{for(let B=0;B<pm.length;B++)c[pm[B]].cancel(F)},state:i,steps:c}}const{schedule:Gt,cancel:la,state:Qs,steps:ox}=rk(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:ar,!0),ik=A.createContext({strict:!1}),n_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_c={};for(const t in n_)_c[t]={isEnabled:e=>n_[t].some(n=>!!e[n])};function fL(t){for(const e in t)_c[e]={..._c[e],...t[e]}}const gL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gL.has(t)}let ak=t=>!mp(t);function xL(t){t&&(ak=e=>e.startsWith("on")?!mp(e):t(e))}try{xL(require("@emotion/is-prop-valid").default)}catch(t){}function vL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ak(i)||n===!0&&mp(i)||!e&&!mp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function yL(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const nf=A.createContext({});function gu(t){return typeof t=="string"||Array.isArray(t)}function rf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const t0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s0=["initial",...t0];function af(t){return rf(t.animate)||s0.some(e=>gu(t[e]))}function ok(t){return!!(af(t)||t.variants)}function bL(t,e){if(af(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gu(n)?n:void 0,animate:gu(r)?r:void 0}}return t.inherit!==!1?e:{}}function _L(t){const{initial:e,animate:n}=bL(t,A.useContext(nf));return A.useMemo(()=>({initial:e,animate:n}),[r_(e),r_(n)])}function r_(t){return Array.isArray(t)?t.join(" "):t}const wL=Symbol.for("motionComponentSymbol");function tc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jL(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tc(n)&&(n.current=r))},[e])}const n0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SL="framerAppearId",lk="data-"+n0(SL),{schedule:r0}=rk(queueMicrotask,!1),ck=A.createContext({});function NL(t,e,n,r,i){var o,c;const{visualElement:d}=A.useContext(nf),u=A.useContext(ik),m=A.useContext(Yy),p=A.useContext(Jy).reducedMotion,x=A.useRef(null);r=r||u.renderer,!x.current&&r&&(x.current=r(t,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=x.current,j=A.useContext(ck);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&kL(x.current,n,i,j);const N=A.useRef(!1);A.useInsertionEffect(()=>{v&&N.current&&v.update(n,m)});const P=n[lk],I=A.useRef(!!P&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return sk(()=>{v&&(N.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),r0.render(v.render),I.current&&v.animationState&&v.animationState.animateChanges())}),A.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,P)}),I.current=!1))}),v}function kL(t,e,n,r){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:u,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dk(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&tc(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:m})}function dk(t){if(t)return t.options.allowProjection!==!1?t.projection:dk(t.parent)}function CL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,c;t&&fL(t);function d(m,p){let x;const v={...A.useContext(Jy),...m,layoutId:TL(m)},{isStatic:j}=v,N=_L(m),P=r(m,j);if(!j&&Zy){EL();const I=AL(v);x=I.MeasureLayout,N.visualElement=NL(i,P,v,e,I.ProjectionNode)}return s.jsxs(nf.Provider,{value:N,children:[x&&N.visualElement?s.jsx(x,{visualElement:N.visualElement,...v}):null,n(i,m,jL(P,N.visualElement,p),P,j,N.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&c!==void 0?c:""})`}`;const u=A.forwardRef(d);return u[wL]=i,u}function TL({layoutId:t}){const e=A.useContext(tk).id;return e&&t!==void 0?e+"-"+t:t}function EL(t,e){A.useContext(ik).strict}function AL(t){const{drag:e,layout:n}=_c;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const IL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i0(t){return typeof t!="string"||t.includes("-")?!1:!!(IL.indexOf(t)>-1||/[A-Z]/u.test(t))}function i_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function a0(t,e,n,r){if(typeof e=="function"){const[i,o]=i_(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=i_(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const Nv=t=>Array.isArray(t),RL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),PL=t=>Nv(t)?t[t.length-1]||0:t,Os=t=>!!(t&&t.getVelocity);function Wm(t){const e=Os(t)?t.get():t;return RL(e)?e.toValue():e}function LL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const c={latestValues:DL(r,i,o,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const uk=t=>(e,n)=>{const r=A.useContext(nf),i=A.useContext(Yy),o=()=>LL(t,e,r,i);return n?o():Xy(o)};function DL(t,e,n,r){const i={},o=r(t,{});for(const v in o)i[v]=Wm(o[v]);let{initial:c,animate:d}=t;const u=af(t),m=ok(t);e&&m&&!u&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const x=p?d:c;if(x&&typeof x!="boolean"&&!rf(x)){const v=Array.isArray(x)?x:[x];for(let j=0;j<v.length;j++){const N=a0(t,v[j]);if(N){const{transitionEnd:P,transition:I,...F}=N;for(const B in F){let T=F[B];if(Array.isArray(T)){const y=p?T.length-1:0;T=T[y]}T!==null&&(i[B]=T)}for(const B in P)i[B]=P[B]}}}return i}const Rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(Rc),hk=t=>e=>typeof e=="string"&&e.startsWith(t),mk=hk("--"),ML=hk("var(--"),o0=t=>ML(t)?FL.test(t.split("/*")[0].trim()):!1,FL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ca=(t,e,n)=>n>e?e:n<t?t:n,Pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xu={...Pc,transform:t=>ca(0,1,t)},fm={...Pc,default:1},Vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$a=Vu("deg"),Ci=Vu("%"),Ye=Vu("px"),BL=Vu("vh"),$L=Vu("vw"),a_={...Ci,parse:t=>Ci.parse(t)/100,transform:t=>Ci.transform(t*100)},VL={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye},OL={rotate:$a,rotateX:$a,rotateY:$a,rotateZ:$a,scale:fm,scaleX:fm,scaleY:fm,scaleZ:fm,skew:$a,skewX:$a,skewY:$a,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:xu,originX:a_,originY:a_,originZ:Ye},o_={...Pc,transform:Math.round},l0={...VL,...OL,zIndex:o_,size:Ye,fillOpacity:xu,strokeOpacity:xu,numOctaves:o_},UL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zL=Rc.length;function HL(t,e,n){let r="",i=!0;for(let o=0;o<zL;o++){const c=Rc[o],d=t[c];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(c.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const m=pk(d,l0[c]);if(!u){i=!1;const p=UL[c]||c;r+=`${p}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function c0(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const u in e){const m=e[u];if(sl.has(u)){c=!0;continue}else if(mk(u)){i[u]=m;continue}else{const p=pk(m,l0[u]);u.startsWith("origin")?(d=!0,o[u]=p):r[u]=p}}if(e.transform||(c||n?r.transform=HL(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:m="50%",originZ:p=0}=o;r.transformOrigin=`${u} ${m} ${p}`}}const GL={offset:"stroke-dashoffset",array:"stroke-dasharray"},WL={offset:"strokeDashoffset",array:"strokeDasharray"};function qL(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?GL:WL;t[o.offset]=Ye.transform(-r);const c=Ye.transform(e),d=Ye.transform(n);t[o.array]=`${c} ${d}`}function l_(t,e,n){return typeof t=="string"?t:Ye.transform(e+n*t)}function KL(t,e,n){const r=l_(e,t.x,t.width),i=l_(n,t.y,t.height);return`${r} ${i}`}function d0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...m},p,x){if(c0(t,m,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:j,dimensions:N}=t;v.transform&&(N&&(j.transform=v.transform),delete v.transform),N&&(i!==void 0||o!==void 0||j.transform)&&(j.transformOrigin=KL(N,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),c!==void 0&&qL(v,c,d,u,!1)}const u0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),fk=()=>({...u0(),attrs:{}}),h0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const xk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vk(t,e,n,r){gk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(xk.has(i)?i:n0(i),e.attrs[i])}const pp={};function QL(t){Object.assign(pp,t)}function yk(t,{layout:e,layoutId:n}){return sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pp[t]||t==="opacity")}function m0(t,e,n){var r;const{style:i}=t,o={};for(const c in i)(Os(i[c])||e.style&&Os(e.style[c])||yk(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[c]=i[c]);return o}function bk(t,e,n){const r=m0(t,e,n);for(const i in t)if(Os(t[i])||Os(e[i])){const o=Rc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function XL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const c_=["x","y","width","height","cx","cy","r"],YL={useVisualState:uk({scrapeMotionValuesFromProps:bk,createRenderState:fk,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const d in i)if(sl.has(d)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let d=0;d<c_.length;d++){const u=c_[d];t[u]!==e[u]&&(c=!0)}c&&Gt.read(()=>{XL(n,r),Gt.render(()=>{d0(r,i,h0(n.tagName),t.transformTemplate),vk(n,r)})})}})},JL={useVisualState:uk({scrapeMotionValuesFromProps:m0,createRenderState:u0})};function _k(t,e,n){for(const r in e)!Os(e[r])&&!yk(r,n)&&(t[r]=e[r])}function ZL({transformTemplate:t},e){return A.useMemo(()=>{const n=u0();return c0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eD(t,e){const n=t.style||{},r={};return _k(r,n,t),Object.assign(r,ZL(t,e)),r}function tD(t,e){const n={},r=eD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function sD(t,e,n,r){const i=A.useMemo(()=>{const o=fk();return d0(o,e,h0(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};_k(o,t.style,t),i.style={...o,...i.style}}return i}function nD(t=!1){return(n,r,i,{latestValues:o},c)=>{const u=(i0(n)?sD:tD)(r,o,c,n),m=vL(r,typeof n=="string",t),p=n!==A.Fragment?{...m,...u,ref:i}:{},{children:x}=r,v=A.useMemo(()=>Os(x)?x.get():x,[x]);return A.createElement(n,{...p,children:v})}}function rD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...i0(r)?YL:JL,preloadedFeatures:t,useRender:nD(i),createVisualElement:e,Component:r};return CL(c)}}function wk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function of(t,e,n){const r=t.getProps();return a0(r,e,n!==void 0?n:r.custom,t)}const iD=e0(()=>window.ScrollTimeline!==void 0);class aD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(iD()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jk extends aD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function p0(t,e){return t?t[e]||t.default||t:void 0}const fp=2e4;function f0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fp;)e+=n,r=t.next(e);return e>=fp?1/0:e}function oD(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(f0(r),fp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:ki(i)}}function lf(t){return typeof t=="function"}function d_(t,e){t.timeline=e,t.onfinish=null}const g0=t=>Array.isArray(t)&&typeof t[0]=="number",lD={linearEasing:void 0};function cD(t,e){const n=e0(t);return()=>{var r;return(r=lD[e])!==null&&r!==void 0?r:n()}}const gp=cD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),Sk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(Ko(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Nk(t){return!!(typeof t=="function"&&gp()||!t||typeof t=="string"&&(t in kv||gp())||g0(t)||Array.isArray(t)&&t.every(Nk))}const Bd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function kk(t,e){if(t)return typeof t=="function"&&gp()?Sk(t,e):g0(t)?Bd(t):Array.isArray(t)?t.map(n=>kk(n,e)||kv.easeOut):kv[t]}const ei={x:!1,y:!1};function Ck(){return ei.x||ei.y}function Tk(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Ek(t,e){const n=Tk(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function u_(t){return e=>{e.pointerType==="touch"||Ck()||t(e)}}function dD(t,e,n={}){const[r,i,o]=Ek(t,n),c=u_(d=>{const{target:u}=d,m=e(d);if(typeof m!="function"||!u)return;const p=u_(x=>{m(x),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const Ak=(t,e)=>e?t===e?!0:Ak(t,e.parentElement):!1,x0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hD(t){return uD.has(t.tagName)||t.tabIndex!==-1}const $d=new WeakSet;function h_(t){return e=>{e.key==="Enter"&&t(e)}}function lx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=h_(()=>{if($d.has(n))return;lx(n,"down");const i=h_(()=>{lx(n,"up")}),o=()=>lx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function m_(t){return x0(t)&&!Ck()}function pD(t,e,n={}){const[r,i,o]=Ek(t,n),c=d=>{const u=d.currentTarget;if(!m_(d)||$d.has(u))return;$d.add(u);const m=e(d),p=(j,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!m_(j)||!$d.has(u))&&($d.delete(u),typeof m=="function"&&m(j,{success:N}))},x=j=>{p(j,n.useGlobalTarget||Ak(u,j.target))},v=j=>{p(j,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!hD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",m=>mD(m,i),i)}),o}function fD(t){return t==="x"||t==="y"?ei[t]?null:(ei[t]=!0,()=>{ei[t]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}const Ik=new Set(["width","height","top","left","right","bottom",...Rc]);let qm;function gD(){qm=void 0}const Ti={now:()=>(qm===void 0&&Ti.set(Qs.isProcessing||hL.useManualTiming?Qs.timestamp:performance.now()),qm),set:t=>{qm=t,queueMicrotask(gD)}};function v0(t,e){t.indexOf(e)===-1&&t.push(e)}function cf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class y0{constructor(){this.subscriptions=[]}add(e){return v0(this.subscriptions,e),()=>cf(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Rk(t,e){return e?t*(1e3/e):0}const p_=30,xD=t=>!isNaN(parseFloat(t)),Kd={current:void 0};class vD{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Ti.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Kd.current&&Kd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,p_);return Rk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wc(t,e){return new vD(t,e)}function yD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wc(n))}function bD(t,e){const n=of(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const c in o){const d=PL(o[c]);yD(t,c,d)}}function _D(t){return!!(Os(t)&&t.add)}function Cv(t,e){const n=t.getValue("willChange");if(_D(n))return n.add(e)}function Pk(t){return t.props[lk]}const Lk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wD=1e-7,jD=12;function SD(t,e,n,r,i){let o,c,d=0;do c=e+(n-e)/2,o=Lk(c,r,i)-t,o>0?n=c:e=c;while(Math.abs(o)>wD&&++d<jD);return c}function Ou(t,e,n,r){if(t===e&&n===r)return ar;const i=o=>SD(o,0,1,t,n);return o=>o===0||o===1?o:Lk(i(o),e,r)}const Dk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Mk=t=>e=>1-t(1-e),Fk=Ou(.33,1.53,.69,.99),b0=Mk(Fk),Bk=Dk(b0),$k=t=>(t*=2)<1?.5*b0(t):.5*(2-Math.pow(2,-10*(t-1))),_0=t=>1-Math.sin(Math.acos(t)),Vk=Mk(_0),Ok=Dk(_0),Uk=t=>/^0[^.\s]+$/u.test(t);function ND(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Uk(t):!0}const Qd=t=>Math.round(t*1e5)/1e5,w0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kD(t){return t==null}const CD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j0=(t,e)=>n=>!!(typeof n=="string"&&CD.test(n)&&n.startsWith(t)||e&&!kD(n)&&Object.prototype.hasOwnProperty.call(n,e)),zk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,c,d]=r.match(w0);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},TD=t=>ca(0,255,t),cx={...Pc,transform:t=>Math.round(TD(t))},Vo={test:j0("rgb","red"),parse:zk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cx.transform(t)+", "+cx.transform(e)+", "+cx.transform(n)+", "+Qd(xu.transform(r))+")"};function ED(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Tv={test:j0("#"),parse:ED,transform:Vo.transform},sc={test:j0("hsl","hue"),parse:zk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ci.transform(Qd(e))+", "+Ci.transform(Qd(n))+", "+Qd(xu.transform(r))+")"},dn={test:t=>Vo.test(t)||Tv.test(t)||sc.test(t),parse:t=>Vo.test(t)?Vo.parse(t):sc.test(t)?sc.parse(t):Tv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vo.transform(t):sc.transform(t)},AD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ID(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(w0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(AD))===null||n===void 0?void 0:n.length)||0)>0}const Hk="number",Gk="color",RD="var",PD="var(",f_="${}",LD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(LD,u=>(dn.test(u)?(r.color.push(o),i.push(Gk),n.push(dn.parse(u))):u.startsWith(PD)?(r.var.push(o),i.push(RD),n.push(u)):(r.number.push(o),i.push(Hk),n.push(parseFloat(u))),++o,f_)).split(f_);return{values:n,split:d,indexes:r,types:i}}function Wk(t){return vu(t).values}function qk(t){const{split:e,types:n}=vu(t),r=e.length;return i=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],i[c]!==void 0){const d=n[c];d===Hk?o+=Qd(i[c]):d===Gk?o+=dn.transform(i[c]):o+=i[c]}return o}}const DD=t=>typeof t=="number"?0:t;function MD(t){const e=Wk(t);return qk(t)(e.map(DD))}const Qa={test:ID,parse:Wk,createTransformer:qk,getAnimatableNone:MD},FD=new Set(["brightness","contrast","saturate","opacity"]);function BD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(w0)||[];if(!r)return t;const i=n.replace(r,"");let o=FD.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const $D=/\b([a-z-]*)\(.*?\)/gu,Ev={...Qa,getAnimatableNone:t=>{const e=t.match($D);return e?e.map(BD).join(" "):t}},VD={...l0,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Ev,WebkitFilter:Ev},S0=t=>VD[t];function Kk(t,e){let n=S0(t);return n!==Ev&&(n=Qa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OD=new Set(["auto","none","0"]);function UD(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!OD.has(o)&&vu(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Kk(n,i)}const g_=t=>t===Pc||t===Ye,x_=(t,e)=>parseFloat(t.split(", ")[e]),v_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return x_(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?x_(o[1],t):0}},zD=new Set(["x","y","z"]),HD=Rc.filter(t=>!zD.has(t));function GD(t){const e=[];return HD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:v_(4,13),y:v_(5,14)};jc.translateX=jc.x;jc.translateY=jc.y;const Uo=new Set;let Av=!1,Iv=!1;function Qk(){if(Iv){const t=Array.from(Uo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=GD(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,c])=>{var d;(d=r.getValue(o))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iv=!1,Av=!1,Uo.forEach(t=>t.complete()),Uo.clear()}function Xk(){Uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Iv=!0)})}function WD(){Xk(),Qk()}class N0{constructor(e,n,r,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uo.add(this),Av||(Av=!0,Gt.read(Xk),Gt.resolveKeyframes(Qk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const u=r.readValue(n,d);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),qD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KD(t){const e=qD.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function Jk(t,e,n=1){const[r,i]=KD(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return Yk(c)?parseFloat(c):c}return o0(i)?Jk(i,e,n+1):i}const Zk=t=>e=>e.test(t),QD={test:t=>t==="auto",parse:t=>t},e3=[Pc,Ye,Ci,$a,$L,BL,QD],y_=t=>e3.find(Zk(t));class t3 extends N0{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let m=e[u];if(typeof m=="string"&&(m=m.trim(),o0(m))){const p=Jk(m,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Ik.has(r)||e.length!==2)return;const[i,o]=e,c=y_(i),d=y_(o);if(c!==d)if(g_(c)&&g_(d))for(let u=0;u<e.length;u++){const m=e[u];typeof m=="string"&&(e[u]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)ND(e[i])&&r.push(i);r.length&&UD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=jc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,m])=>{n.getValue(u).set(m)}),this.resolveNoneKeyframes()}}const b_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qa.test(t)||t==="0")&&!t.startsWith("url("));function XD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function YD(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=b_(i,e),d=b_(o,e);return!c||!d?!1:XD(t)||(n==="spring"||lf(n))&&r}const JD=t=>t!==null;function df(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(JD),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const ZD=40;class s3{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ti.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&WD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ti.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:c,onComplete:d,onUpdate:u,isGenerator:m}=this.options;if(!m&&!YD(e,r,i,o))if(c)this.options.duration=0;else{u&&u(df(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ts=(t,e,n)=>t+(e-t)*n;function dx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function e9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,u=2*n-d;i=dx(u,d,t+1/3),o=dx(u,d,t),c=dx(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function xp(t,e){return n=>n>0?e:t}const ux=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},t9=[Tv,Vo,sc],s9=t=>t9.find(e=>e.test(t));function __(t){const e=s9(t);if(!e)return!1;let n=e.parse(t);return e===sc&&(n=e9(n)),n}const w_=(t,e)=>{const n=__(t),r=__(e);if(!n||!r)return xp(t,e);const i={...n};return o=>(i.red=ux(n.red,r.red,o),i.green=ux(n.green,r.green,o),i.blue=ux(n.blue,r.blue,o),i.alpha=ts(n.alpha,r.alpha,o),Vo.transform(i))},n9=(t,e)=>n=>e(t(n)),Uu=(...t)=>t.reduce(n9),Rv=new Set(["none","hidden"]);function r9(t,e){return Rv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function i9(t,e){return n=>ts(t,e,n)}function k0(t){return typeof t=="number"?i9:typeof t=="string"?o0(t)?xp:dn.test(t)?w_:l9:Array.isArray(t)?n3:typeof t=="object"?dn.test(t)?w_:a9:xp}function n3(t,e){const n=[...t],r=n.length,i=t.map((o,c)=>k0(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=i[c](o);return n}}function a9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=k0(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function o9(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][i[c]],u=(n=t.values[d])!==null&&n!==void 0?n:0;r[o]=u,i[c]++}return r}const l9=(t,e)=>{const n=Qa.createTransformer(e),r=vu(t),i=vu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rv.has(t)&&!i.values.length||Rv.has(e)&&!r.values.length?r9(t,e):Uu(n3(o9(r,i),i.values),n):xp(t,e)};function r3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ts(t,e,n):k0(t)(t,e)}const c9=5;function i3(t,e,n){const r=Math.max(e-c9,0);return Rk(n-t(r),e-r)}const ms={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hx=.001;function d9({duration:t=ms.duration,bounce:e=ms.bounce,velocity:n=ms.velocity,mass:r=ms.mass}){let i,o,c=1-e;c=ca(ms.minDamping,ms.maxDamping,c),t=ca(ms.minDuration,ms.maxDuration,ki(t)),c<1?(i=m=>{const p=m*c,x=p*t,v=p-n,j=Pv(m,c),N=Math.exp(-x);return hx-v/j*N},o=m=>{const x=m*c*t,v=x*n+n,j=Math.pow(c,2)*Math.pow(m,2)*t,N=Math.exp(-x),P=Pv(Math.pow(m,2),c);return(-i(m)+hx>0?-1:1)*((v-j)*N)/P}):(i=m=>{const p=Math.exp(-m*t),x=(m-n)*t+1;return-hx+p*x},o=m=>{const p=Math.exp(-m*t),x=(n-m)*(t*t);return p*x});const d=5/t,u=h9(i,o,d);if(t=Ni(t),isNaN(u))return{stiffness:ms.stiffness,damping:ms.damping,duration:t};{const m=Math.pow(u,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const u9=12;function h9(t,e,n){let r=n;for(let i=1;i<u9;i++)r=r-t(r)/e(r);return r}function Pv(t,e){return t*Math.sqrt(1-e*e)}const m9=["duration","bounce"],p9=["stiffness","damping","mass"];function j_(t,e){return e.some(n=>t[n]!==void 0)}function f9(t){let e={velocity:ms.velocity,stiffness:ms.stiffness,damping:ms.damping,mass:ms.mass,isResolvedFromDuration:!1,...t};if(!j_(t,p9)&&j_(t,m9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*ca(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ms.mass,stiffness:i,damping:o}}else{const n=d9(t);e={...e,...n,mass:ms.mass},e.isResolvedFromDuration=!0}return e}function C0(t=ms.visualDuration,e=ms.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:u,damping:m,mass:p,duration:x,velocity:v,isResolvedFromDuration:j}=f9({...n,velocity:-ki(n.velocity||0)}),N=v||0,P=m/(2*Math.sqrt(u*p)),I=c-o,F=ki(Math.sqrt(u/p)),B=Math.abs(I)<5;r||(r=B?ms.restSpeed.granular:ms.restSpeed.default),i||(i=B?ms.restDelta.granular:ms.restDelta.default);let T;if(P<1){const w=Pv(F,P);T=M=>{const C=Math.exp(-P*F*M);return c-C*((N+P*F*I)/w*Math.sin(w*M)+I*Math.cos(w*M))}}else if(P===1)T=w=>c-Math.exp(-F*w)*(I+(N+F*I)*w);else{const w=F*Math.sqrt(P*P-1);T=M=>{const C=Math.exp(-P*F*M),_=Math.min(w*M,300);return c-C*((N+P*F*I)*Math.sinh(_)+w*I*Math.cosh(_))/w}}const y={calculatedDuration:j&&x||null,next:w=>{const M=T(w);if(j)d.done=w>=x;else{let C=0;P<1&&(C=w===0?Ni(N):i3(T,w,M));const _=Math.abs(C)<=r,E=Math.abs(c-M)<=i;d.done=_&&E}return d.value=d.done?c:M,d},toString:()=>{const w=Math.min(f0(y),fp),M=Sk(C=>y.next(w*C).value,w,30);return w+"ms "+M}};return y}function S_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:u,restDelta:m=.5,restSpeed:p}){const x=t[0],v={done:!1,value:x},j=_=>d!==void 0&&_<d||u!==void 0&&_>u,N=_=>d===void 0?u:u===void 0||Math.abs(d-_)<Math.abs(u-_)?d:u;let P=n*e;const I=x+P,F=c===void 0?I:c(I);F!==I&&(P=F-x);const B=_=>-P*Math.exp(-_/r),T=_=>F+B(_),y=_=>{const E=B(_),L=T(_);v.done=Math.abs(E)<=m,v.value=v.done?F:L};let w,M;const C=_=>{j(v.value)&&(w=_,M=C0({keyframes:[v.value,N(v.value)],velocity:i3(T,_,v.value),damping:i,stiffness:o,restDelta:m,restSpeed:p}))};return C(0),{calculatedDuration:null,next:_=>{let E=!1;return!M&&w===void 0&&(E=!0,y(_),C(_)),w!==void 0&&_>=w?M.next(_-w):(!E&&y(_),v)}}}const g9=Ou(.42,0,1,1),x9=Ou(0,0,.58,1),a3=Ou(.42,0,.58,1),o3=t=>Array.isArray(t)&&typeof t[0]!="number",v9={linear:ar,easeIn:g9,easeInOut:a3,easeOut:x9,circIn:_0,circInOut:Ok,circOut:Vk,backIn:b0,backInOut:Bk,backOut:Fk,anticipate:$k},N_=t=>{if(g0(t)){nk(t.length===4);const[e,n,r,i]=t;return Ou(e,n,r,i)}else if(typeof t=="string")return v9[t];return t};function y9(t,e,n){const r=[],i=n||r3,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const u=Array.isArray(e)?e[c]||ar:e;d=Uu(u,d)}r.push(d)}return r}function l3(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(nk(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=y9(e,r,i),u=d.length,m=p=>{if(c&&p<t[0])return e[0];let x=0;if(u>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const v=Ko(t[x],t[x+1],p);return d[x](v)};return n?p=>m(ca(t[0],t[o-1],p)):m}function c3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ko(0,e,r);t.push(ts(n,1,i))}}function d3(t){const e=[0];return c3(e,t.length-1),e}function b9(t,e){return t.map(n=>n*e)}function _9(t,e){return t.map(()=>e||a3).splice(0,t.length-1)}function vp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=o3(r)?r.map(N_):N_(r),o={done:!1,value:e[0]},c=b9(n&&n.length===e.length?n:d3(e),t),d=l3(c,e,{ease:Array.isArray(i)?i:_9(e,i)});return{calculatedDuration:t,next:u=>(o.value=d(u),o.done=u>=t,o)}}const w9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Gt.update(e,!0),stop:()=>la(e),now:()=>Qs.isProcessing?Qs.timestamp:Ti.now()}},j9={decay:S_,inertia:S_,tween:vp,keyframes:vp,spring:C0},S9=t=>t/100;class T0 extends s3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,c=(i==null?void 0:i.KeyframeResolver)||N0,d=(u,m)=>this.onKeyframesResolved(u,m);this.resolver=new c(o,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=this.options,d=lf(n)?n:j9[n]||vp;let u,m;d!==vp&&typeof e[0]!="number"&&(u=Uu(S9,r3(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});o==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=f0(p));const{calculatedDuration:x}=p,v=x+i,j=v*(r+1)-i;return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:u,calculatedDuration:x,resolvedDuration:v,totalDuration:j}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:u,calculatedDuration:m,totalDuration:p,resolvedDuration:x}=r;if(this.startTime===null)return o.next(0);const{delay:v,repeat:j,repeatType:N,repeatDelay:P,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-v*(this.speed>=0?1:-1),B=this.speed>=0?F<0:F>p;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let T=this.currentTime,y=o;if(j){const _=Math.min(this.currentTime,p)/x;let E=Math.floor(_),L=_%1;!L&&_>=1&&(L=1),L===1&&E--,E=Math.min(E,j+1),!!(E%2)&&(N==="reverse"?(L=1-L,P&&(L-=P/x)):N==="mirror"&&(y=c)),T=ca(0,1,L)*x}const w=B?{done:!1,value:u[0]}:y.next(T);d&&(w.value=d(w.value));let{done:M}=w;!B&&m!==null&&(M=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(w.value=df(u,this.options,i)),I&&I(w.value),C&&this.finish(),w}get duration(){const{resolved:e}=this;return e?ki(e.calculatedDuration):0}get time(){return ki(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=w9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const N9=new Set(["opacity","clipPath","filter","transform"]);function k9(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeInOut",times:u}={}){const m={[e]:n};u&&(m.offset=u);const p=kk(d,i);return Array.isArray(p)&&(m.easing=p),t.animate(m,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const C9=e0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yp=10,T9=2e4;function E9(t){return lf(t.type)||t.type==="spring"||!Nk(t.ease)}function A9(t,e){const n=new T0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<T9;)r=n.sample(o),i.push(r.value),o+=yp;return{times:void 0,keyframes:i,duration:o-yp,ease:"linear"}}const u3={anticipate:$k,backInOut:Bk,circInOut:Ok};function I9(t){return t in u3}class k_ extends s3{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new t3(o,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:c,motionValue:d,name:u,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&gp()&&I9(o)&&(o=u3[o]),E9(this.options)){const{onComplete:x,onUpdate:v,motionValue:j,element:N,...P}=this.options,I=A9(e,P);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,o=I.ease,c="keyframes"}const p=k9(d.owner.current,u,e,{...this.options,duration:r,times:i,ease:o});return p.startTime=m!=null?m:this.calcStartTime(),this.pendingTimeline?(d_(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:x}=this.options;d.set(df(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ki(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ki(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ar;const{animation:r}=n;d_(r,e)}return ar}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:p,onComplete:x,element:v,...j}=this.options,N=new T0({...j,keyframes:r,duration:i,type:o,ease:c,times:d,isGenerator:!0}),P=Ni(this.time);m.setWithVelocity(N.sample(P-yp).value,N.sample(P).value,yp)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:m}=n.owner.getProps();return C9()&&r&&N9.has(r)&&!u&&!m&&!i&&o!=="mirror"&&c!==0&&d!=="inertia"}}const R9={type:"spring",stiffness:500,damping:25,restSpeed:10},P9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L9={type:"keyframes",duration:.8},D9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M9=(t,{keyframes:e})=>e.length>2?L9:sl.has(t)?t.startsWith("scale")?P9(e[1]):R9:D9;function F9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:u,elapsed:m,...p}){return!!Object.keys(p).length}const E0=(t,e,n,r={},i,o)=>c=>{const d=p0(r,t)||{},u=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ni(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};F9(d)||(p={...p,...M9(t,p)}),p.duration&&(p.duration=Ni(p.duration)),p.repeatDelay&&(p.repeatDelay=Ni(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const v=df(p.keyframes,d);if(v!==void 0)return Gt.update(()=>{p.onUpdate(v),p.onComplete()}),new jk([])}return!o&&k_.supports(p)?new k_(p):new T0(p)};function B9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function A0(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...u}=e;r&&(c=r);const m=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const x in u){const v=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),j=u[x];if(j===void 0||p&&B9(p,x))continue;const N={delay:n,...p0(c||{},x)};let P=!1;if(window.MotionHandoffAnimation){const F=Pk(t);if(F){const B=window.MotionHandoffAnimation(F,x,Gt);B!==null&&(N.startTime=B,P=!0)}}Cv(t,x),v.start(E0(x,v,j,t.shouldReduceMotion&&Ik.has(x)?{type:!1}:N,t,P));const I=v.animation;I&&m.push(I)}return d&&Promise.all(m).then(()=>{Gt.update(()=>{d&&bD(t,d)})}),m}function Lv(t,e,n={}){var r;const i=of(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const c=i?()=>Promise.all(A0(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:v}=o;return $9(t,e,p+m,x,v,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[m,p]=u==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(n.delay)])}function $9(t,e,n=0,r=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*r,u=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(t.variantChildren).sort(V9).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(Lv(m,e,{...o,delay:n+u(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function V9(t,e){return t.sortNodePosition(e)}function O9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Lv(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Lv(t,e,n);else{const i=typeof e=="function"?of(t,e,n.custom):e;r=Promise.all(A0(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const U9=s0.length;function h3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?h3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<U9;n++){const r=s0[n],i=t.props[r];(gu(i)||i===!1)&&(e[r]=i)}return e}const z9=[...t0].reverse(),H9=t0.length;function G9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>O9(t,n,r)))}function W9(t){let e=G9(t),n=C_(),r=!0;const i=u=>(m,p)=>{var x;const v=of(t,p,u==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:j,transitionEnd:N,...P}=v;m={...m,...P,...N}}return m};function o(u){e=u(t)}function c(u){const{props:m}=t,p=h3(t.parent)||{},x=[],v=new Set;let j={},N=1/0;for(let I=0;I<H9;I++){const F=z9[I],B=n[F],T=m[F]!==void 0?m[F]:p[F],y=gu(T),w=F===u?B.isActive:null;w===!1&&(N=I);let M=T===p[F]&&T!==m[F]&&y;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),B.protectedKeys={...j},!B.isActive&&w===null||!T&&!B.prevProp||rf(T)||typeof T=="boolean")continue;const C=q9(B.prevProp,T);let _=C||F===u&&B.isActive&&!M&&y||I>N&&y,E=!1;const L=Array.isArray(T)?T:[T];let R=L.reduce(i(F),{});w===!1&&(R={});const{prevResolvedValues:V={}}=B,$={...V,...R},q=Q=>{_=!0,v.has(Q)&&(E=!0,v.delete(Q)),B.needsAnimating[Q]=!0;const H=t.getValue(Q);H&&(H.liveStyle=!1)};for(const Q in $){const H=R[Q],ee=V[Q];if(j.hasOwnProperty(Q))continue;let ne=!1;Nv(H)&&Nv(ee)?ne=!wk(H,ee):ne=H!==ee,ne?H!=null?q(Q):v.add(Q):H!==void 0&&v.has(Q)?q(Q):B.protectedKeys[Q]=!0}B.prevProp=T,B.prevResolvedValues=R,B.isActive&&(j={...j,...R}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(M&&C)||E)&&x.push(...L.map(Q=>({animation:Q,options:{type:F}})))}if(v.size){const I={};v.forEach(F=>{const B=t.getBaseTarget(F),T=t.getValue(F);T&&(T.liveStyle=!0),I[F]=B!=null?B:null}),x.push({animation:I})}let P=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(x):Promise.resolve()}function d(u,m){var p;if(n[u].isActive===m)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var j;return(j=v.animationState)===null||j===void 0?void 0:j.setActive(u,m)}),n[u].isActive=m;const x=c(u);for(const v in n)n[v].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=C_(),r=!0}}}function q9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wk(e,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C_(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class Za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class K9 extends Za{constructor(e){super(e),e.animationState||(e.animationState=W9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Q9=0;class X9 extends Za{constructor(){super(...arguments),this.id=Q9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Y9={animation:{Feature:K9},exit:{Feature:X9}};function yu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zu(t){return{point:{x:t.pageX,y:t.pageY}}}const J9=t=>e=>x0(e)&&t(e,zu(e));function Xd(t,e,n,r){return yu(t,e,J9(n),r)}const T_=(t,e)=>Math.abs(t-e);function Z9(t,e){const n=T_(t.x,e.x),r=T_(t.y,e.y);return Math.sqrt(n**2+r**2)}class m3{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=px(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,j=Z9(x.offset,{x:0,y:0})>=3;if(!v&&!j)return;const{point:N}=x,{timestamp:P}=Qs;this.history.push({...N,timestamp:P});const{onStart:I,onMove:F}=this.handlers;v||(I&&I(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=mx(v,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=px(x.type==="pointercancel"?this.lastMoveEventInfo:mx(v,this.transformPagePoint),this.history);this.startEvent&&j&&j(x,I),N&&N(x,I)},!x0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=zu(e),d=mx(c,this.transformPagePoint),{point:u}=d,{timestamp:m}=Qs;this.history=[{...u,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,px(d,this.history)),this.removeListeners=Uu(Xd(this.contextWindow,"pointermove",this.handlePointerMove),Xd(this.contextWindow,"pointerup",this.handlePointerUp),Xd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),la(this.updatePoint)}}function mx(t,e){return e?{point:e(t.point)}:t}function E_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function px({point:t},e){return{point:t,delta:E_(t,p3(e)),offset:E_(t,eM(e)),velocity:tM(e,.1)}}function eM(t){return t[0]}function p3(t){return t[t.length-1]}function tM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=p3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ni(e)));)n--;if(!r)return{x:0,y:0};const o=ki(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const f3=1e-4,sM=1-f3,nM=1+f3,g3=.01,rM=0-g3,iM=0+g3;function lr(t){return t.max-t.min}function aM(t,e,n){return Math.abs(t-e)<=n}function A_(t,e,n,r=.5){t.origin=r,t.originPoint=ts(e.min,e.max,t.origin),t.scale=lr(n)/lr(e),t.translate=ts(n.min,n.max,t.origin)-t.originPoint,(t.scale>=sM&&t.scale<=nM||isNaN(t.scale))&&(t.scale=1),(t.translate>=rM&&t.translate<=iM||isNaN(t.translate))&&(t.translate=0)}function Yd(t,e,n,r){A_(t.x,e.x,n.x,r?r.originX:void 0),A_(t.y,e.y,n.y,r?r.originY:void 0)}function I_(t,e,n){t.min=n.min+e.min,t.max=t.min+lr(e)}function oM(t,e,n){I_(t.x,e.x,n.x),I_(t.y,e.y,n.y)}function R_(t,e,n){t.min=e.min-n.min,t.max=t.min+lr(e)}function Jd(t,e,n){R_(t.x,e.x,n.x),R_(t.y,e.y,n.y)}function lM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ts(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ts(n,t,r.max):Math.min(t,n)),t}function P_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cM(t,{top:e,left:n,bottom:r,right:i}){return{x:P_(t.x,n,i),y:P_(t.y,e,r)}}function L_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dM(t,e){return{x:L_(t.x,e.x),y:L_(t.y,e.y)}}function uM(t,e){let n=.5;const r=lr(t),i=lr(e);return i>r?n=Ko(e.min,e.max-r,t.min):r>i&&(n=Ko(t.min,t.max-i,e.min)),ca(0,1,n)}function hM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dv=.35;function mM(t=Dv){return t===!1?t=0:t===!0&&(t=Dv),{x:D_(t,"left","right"),y:D_(t,"top","bottom")}}function D_(t,e,n){return{min:M_(t,e),max:M_(t,n)}}function M_(t,e){return typeof t=="number"?t:t[e]||0}const F_=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:F_(),y:F_()}),B_=()=>({min:0,max:0}),us=()=>({x:B_(),y:B_()});function Nr(t){return[t("x"),t("y")]}function x3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fx(t){return t===void 0||t===1}function Mv({scale:t,scaleX:e,scaleY:n}){return!fx(t)||!fx(e)||!fx(n)}function Mo(t){return Mv(t)||v3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function v3(t){return $_(t.x)||$_(t.y)}function $_(t){return t&&t!=="0%"}function bp(t,e,n){const r=t-n,i=e*r;return n+i}function V_(t,e,n,r,i){return i!==void 0&&(t=bp(t,i,r)),bp(t,n,r)+e}function Fv(t,e=0,n=1,r,i){t.min=V_(t.min,e,n,r,i),t.max=V_(t.max,e,n,r,i)}function y3(t,{x:e,y:n}){Fv(t.x,e.translate,e.scale,e.originPoint),Fv(t.y,n.translate,n.scale,n.originPoint)}const O_=.999999999999,U_=1.0000000000001;function gM(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=n[d],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ic(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,y3(t,c)),r&&Mo(o.latestValues)&&ic(t,o.latestValues))}e.x<U_&&e.x>O_&&(e.x=1),e.y<U_&&e.y>O_&&(e.y=1)}function rc(t,e){t.min=t.min+e,t.max=t.max+e}function z_(t,e,n,r,i=.5){const o=ts(t.min,t.max,i);Fv(t,e,n,o,r)}function ic(t,e){z_(t.x,e.x,e.scaleX,e.scale,e.originX),z_(t.y,e.y,e.scaleY,e.scale,e.originY)}function b3(t,e){return x3(fM(t.getBoundingClientRect(),e))}function xM(t,e,n){const r=b3(t,n),{scroll:i}=e;return i&&(rc(r.x,i.offset.x),rc(r.y,i.offset.y)),r}const _3=({current:t})=>t?t.ownerDocument.defaultView:null,vM=new WeakMap;class yM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=us(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zu(p).point)},o=(p,x)=>{const{drag:v,dragPropagation:j,onDragStart:N}=this.getProps();if(v&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fD(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(I=>{let F=this.getAxisMotionValue(I).get()||0;if(Ci.test(F)){const{projection:B}=this.visualElement;if(B&&B.layout){const T=B.layout.layoutBox[I];T&&(F=lr(T)*(parseFloat(F)/100))}}this.originPoint[I]=F}),N&&Gt.postRender(()=>N(p,x)),Cv(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(p,x)=>{const{dragPropagation:v,dragDirectionLock:j,onDirectionLock:N,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:I}=x;if(j&&this.currentDirection===null){this.currentDirection=bM(I),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",x.point,I),this.updateAxis("y",x.point,I),this.visualElement.render(),P&&P(p,x)},d=(p,x)=>this.stop(p,x),u=()=>Nr(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new m3(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:_3(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!gm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=lM(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&tc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=cM(i.layoutBox,n):this.constraints=!1,this.elastic=mM(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Nr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=hM(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=xM(r,i.root,this.visualElement.getTransformPagePoint());let c=dM(i.layout.layoutBox,o);if(n){const d=n(pM(c));this.hasMutatedConstraints=!!d,d&&(c=x3(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},m=Nr(p=>{if(!gm(p,n,this.currentDirection))return;let x=u&&u[p]||{};c&&(x={min:0,max:0});const v=i?200:1e6,j=i?40:1e7,N={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,N)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cv(this.visualElement,e),r.start(E0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!gm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];o.set(e[n]-ts(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Nr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const u=d.get();i[c]=uM({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(c=>{if(!gm(c,e,null))return;const d=this.getAxisMotionValue(c),{min:u,max:m}=this.constraints[c];d.set(ts(u,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;vM.set(this.visualElement,this);const e=this.visualElement.current,n=Xd(e,"pointerdown",u=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();tc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gt.read(r);const c=yu(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:m})=>{this.isDragging&&m&&(Nr(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=u[p].translate,x.set(x.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=Dv,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function gm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _M extends Za{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new yM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const H_=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};class wM extends Za{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new m3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:H_(e),onStart:H_(n),onMove:r,onEnd:(o,c)=>{delete this.session,i&&Gt.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=Xd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Km={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ye.test(t))t=parseFloat(t);else return t;const n=G_(t,e.target.x),r=G_(t,e.target.y);return`${n}% ${r}%`}},jM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Qa.parse(t);if(i.length>5)return r;const o=Qa.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,u=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=u;const m=ts(d,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class SM extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;QL(NM),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Km.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,c=r.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Gt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w3(t){const[e,n]=uL(),r=A.useContext(tk);return s.jsx(SM,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(ck),isPresent:e,safeToRemove:n})}const NM={borderRadius:{...Sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomLeftRadius:Sd,borderBottomRightRadius:Sd,boxShadow:jM};function j3(t,e,n){const r=Os(t)?t:wc(t);return r.start(E0("",r,e,n)),r.animation}function S3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const kM=(t,e)=>t.depth-e.depth;class CM{constructor(){this.children=[],this.isDirty=!1}add(e){v0(this.children,e),this.isDirty=!0}remove(e){cf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kM),this.isDirty=!1,this.children.forEach(e)}}function TM(t,e){const n=Ti.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(la(r),t(o-e))};return Gt.read(r,!0),()=>la(r)}const N3=["TopLeft","TopRight","BottomLeft","BottomRight"],EM=N3.length,W_=t=>typeof t=="string"?parseFloat(t):t,q_=t=>typeof t=="number"||Ye.test(t);function AM(t,e,n,r,i,o){i?(t.opacity=ts(0,n.opacity!==void 0?n.opacity:1,IM(r)),t.opacityExit=ts(e.opacity!==void 0?e.opacity:1,0,RM(r))):o&&(t.opacity=ts(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<EM;c++){const d=`border${N3[c]}Radius`;let u=K_(e,d),m=K_(n,d);if(u===void 0&&m===void 0)continue;u||(u=0),m||(m=0),u===0||m===0||q_(u)===q_(m)?(t[d]=Math.max(ts(W_(u),W_(m),r),0),(Ci.test(m)||Ci.test(u))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=ts(e.rotate||0,n.rotate||0,r))}function K_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IM=k3(0,.5,Vk),RM=k3(.5,.95,ar);function k3(t,e,n){return r=>r<t?0:r>e?1:n(Ko(t,e,r))}function Q_(t,e){t.min=e.min,t.max=e.max}function jr(t,e){Q_(t.x,e.x),Q_(t.y,e.y)}function X_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Y_(t,e,n,r,i){return t-=e,t=bp(t,1/n,r),i!==void 0&&(t=bp(t,1/i,r)),t}function PM(t,e=0,n=1,r=.5,i,o=t,c=t){if(Ci.test(e)&&(e=parseFloat(e),e=ts(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ts(o.min,o.max,r);t===o&&(d-=e),t.min=Y_(t.min,e,n,d,i),t.max=Y_(t.max,e,n,d,i)}function J_(t,e,[n,r,i],o,c){PM(t,e[n],e[r],e[i],e.scale,o,c)}const LM=["x","scaleX","originX"],DM=["y","scaleY","originY"];function Z_(t,e,n,r){J_(t.x,e,LM,n?n.x:void 0,r?r.x:void 0),J_(t.y,e,DM,n?n.y:void 0,r?r.y:void 0)}function ew(t){return t.translate===0&&t.scale===1}function C3(t){return ew(t.x)&&ew(t.y)}function tw(t,e){return t.min===e.min&&t.max===e.max}function MM(t,e){return tw(t.x,e.x)&&tw(t.y,e.y)}function sw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function T3(t,e){return sw(t.x,e.x)&&sw(t.y,e.y)}function nw(t){return lr(t.x)/lr(t.y)}function rw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FM{constructor(){this.members=[]}add(e){v0(this.members,e),e.scheduleRender()}remove(e){if(cf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BM(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(r=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:v,skewX:j,skewY:N}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),j&&(r+=`skewX(${j}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const Fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vd=typeof window!="undefined"&&window.MotionDebug!==void 0,gx=["","X","Y","Z"],$M={visibility:"hidden"},iw=1e3;let VM=0;function xx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function E3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Pk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&E3(r)}function A3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=VM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vd&&(Fo.totalNodes=Fo.resolvedTargetDeltas=Fo.recalculatedProjection=0),this.nodes.forEach(zM),this.nodes.forEach(KM),this.nodes.forEach(QM),this.nodes.forEach(HM),Vd&&window.MotionDebug.record(Fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new CM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new y0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const u=this.eventHandlers.get(c);u&&u.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=S3(c),this.instance=c;const{layoutId:u,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||u)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=TM(v,250),Km.hasAnimatedSinceResize&&(Km.hasAnimatedSinceResize=!1,this.nodes.forEach(ow))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:j,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||e7,{onLayoutAnimationStart:I,onLayoutAnimationComplete:F}=p.getProps(),B=!this.targetLayout||!T3(this.targetLayout,N)||j,T=!v&&j;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,T);const y={...p0(P,"layout"),onPlay:I,onComplete:F};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,la(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aw);return}this.isUpdating||this.nodes.forEach(WM),this.isUpdating=!1,this.nodes.forEach(qM),this.nodes.forEach(OM),this.nodes.forEach(UM),this.clearAllSnapshots();const d=Ti.now();Qs.delta=ca(0,1e3/60,d-Qs.timestamp),Qs.timestamp=d,Qs.isProcessing=!0,ox.update.process(Qs),ox.preRender.process(Qs),ox.render.process(Qs),Qs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GM),this.sharedNodes.forEach(YM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=us(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!C3(this.projectionDelta),u=this.getTransformTemplate(),m=u?u(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||Mo(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return c&&(u=this.removeTransform(u)),t7(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return us();const u=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(s7))){const{scroll:p}=this.root;p&&(rc(u.x,p.offset.x),rc(u.y,p.offset.y))}return u}removeElementScroll(c){var d;const u=us();if(jr(u,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return u;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:v}=p;p!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&jr(u,c),rc(u.x,x.offset.x),rc(u.y,x.offset.y))}return u}applyTransform(c,d=!1){const u=us();jr(u,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ic(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Mo(p.latestValues)&&ic(u,p.latestValues)}return Mo(this.latestValues)&&ic(u,this.latestValues),u}removeTransform(c){const d=us();jr(d,c);for(let u=0;u<this.path.length;u++){const m=this.path[u];if(!m.instance||!Mo(m.latestValues))continue;Mv(m.latestValues)&&m.updateSnapshot();const p=us(),x=m.measurePageBox();jr(p,x),Z_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Mo(this.latestValues)&&Z_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Qs.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=us(),this.relativeTargetOrigin=us(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=us(),this.targetWithTransforms=us()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jr(this.target,this.layout.layoutBox),y3(this.target,this.targetDelta)):jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=us(),this.relativeTargetOrigin=us(),Jd(this.relativeTargetOrigin,this.target,j.target),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vd&&Fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mv(this.parent.latestValues)||v3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Qs.timestamp&&(m=!1),m)return;const{layout:p,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||x))return;jr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,j=this.treeScale.y;gM(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=us());const{target:N}=d;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X_(this.prevProjectionDelta.x,this.projectionDelta.x),X_(this.prevProjectionDelta.y,this.projectionDelta.y)),Yd(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==j||!rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),Vd&&Fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(c,d=!1){const u=this.snapshot,m=u?u.latestValues:{},p={...this.latestValues},x=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=us(),j=u?u.source:void 0,N=this.layout?this.layout.source:void 0,P=j!==N,I=this.getStack(),F=!I||I.members.length<=1,B=!!(P&&!F&&this.options.crossfade===!0&&!this.path.some(ZM));this.animationProgress=0;let T;this.mixTargetDelta=y=>{const w=y/1e3;lw(x.x,c.x,w),lw(x.y,c.y,w),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JM(this.relativeTarget,this.relativeTargetOrigin,v,w),T&&MM(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=us()),jr(T,this.relativeTarget)),P&&(this.animationValues=p,AM(p,m,this.latestValues,w,B,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(la(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Km.hasAnimatedSinceResize=!0,this.currentAnimation=j3(0,iw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:u,layout:m,latestValues:p}=c;if(!(!d||!u||!m)){if(this!==c&&this.layout&&m&&I3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){u=this.target||us();const x=lr(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+x;const v=lr(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}jr(d,u),ic(d,p),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new FM),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:u}={}){const m=this.getStack();m&&m.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const m={};u.z&&xx("z",c,m,this.animationValues);for(let p=0;p<gx.length;p++)xx(`rotate${gx[p]}`,c,m,this.animationValues),xx(`skew${gx[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){var d,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $M;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Wm(c==null?void 0:c.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Wm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(P.transform=p?p({},""):"none",this.hasProjected=!1),P}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=BM(this.projectionDeltaWithTransform,this.treeScale,v),p&&(m.transform=p(v,m.transform));const{x:j,y:N}=this.projectionDelta;m.transformOrigin=`${j.origin*100}% ${N.origin*100}% 0`,x.animationValues?m.opacity=x===this?(u=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in pp){if(v[P]===void 0)continue;const{correct:I,applyTo:F}=pp[P],B=m.transform==="none"?v[P]:I(v[P],x);if(F){const T=F.length;for(let y=0;y<T;y++)m[F[y]]=B}else m[P]=B}return this.options.layoutId&&(m.pointerEvents=x===this?Wm(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(aw),this.root.sharedNodes.clear()}}}function OM(t){t.updateLayout()}function UM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,c=n.source!==t.layout.source;o==="size"?Nr(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],j=lr(v);v.min=r[x].min,v.max=v.min+j}):I3(o,n.layoutBox,r)&&Nr(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],j=lr(r[x]);v.max=v.min+j,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+j)});const d=nc();Yd(d,r,n.layoutBox);const u=nc();c?Yd(u,t.applyTransform(i,!0),n.measuredBox):Yd(u,r,n.layoutBox);const m=!C3(d);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:j}=x;if(v&&j){const N=us();Jd(N,n.layoutBox,v.layoutBox);const P=us();Jd(P,r,j.layoutBox),T3(N,P)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=N,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zM(t){Vd&&Fo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GM(t){t.clearSnapshot()}function aw(t){t.clearMeasurements()}function WM(t){t.isLayoutDirty=!1}function qM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ow(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KM(t){t.resolveTargetDelta()}function QM(t){t.calcProjection()}function XM(t){t.resetSkewAndRotation()}function YM(t){t.removeLeadSnapshot()}function lw(t,e,n){t.translate=ts(e.translate,0,n),t.scale=ts(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cw(t,e,n,r){t.min=ts(e.min,n.min,r),t.max=ts(e.max,n.max,r)}function JM(t,e,n,r){cw(t.x,e.x,n.x,r),cw(t.y,e.y,n.y,r)}function ZM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const e7={duration:.45,ease:[.4,0,.1,1]},dw=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uw=dw("applewebkit/")&&!dw("chrome/")?Math.round:ar;function hw(t){t.min=uw(t.min),t.max=uw(t.max)}function t7(t){hw(t.x),hw(t.y)}function I3(t,e,n){return t==="position"||t==="preserve-aspect"&&!aM(nw(e),nw(n),.2)}function s7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const n7=A3({attachResizeListener:(t,e)=>yu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vx={current:void 0},R3=A3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vx.current){const t=new n7({});t.mount(window),t.setOptions({layoutScroll:!0}),vx.current=t}return vx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),r7={pan:{Feature:wM},drag:{Feature:_M,ProjectionNode:R3,MeasureLayout:w3}};function mw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Gt.postRender(()=>o(e,zu(e)))}class i7 extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=dD(e,n=>(mw(this.node,n,"Start"),r=>mw(this.node,r,"End"))))}unmount(){}}class a7 extends Za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Gt.postRender(()=>o(e,zu(e)))}class o7 extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=pD(e,n=>(pw(this.node,n,"Start"),(r,{success:i})=>pw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bv=new WeakMap,yx=new WeakMap,l7=t=>{const e=Bv.get(t.target);e&&e(t)},c7=t=>{t.forEach(l7)};function d7({root:t,...e}){const n=t||document;yx.has(n)||yx.set(n,{});const r=yx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(c7,{root:t,...e})),r[i]}function u7(t,e,n){const r=d7(e);return Bv.set(t,n),r.observe(t),()=>{Bv.delete(t),r.unobserve(t)}}const h7={some:0,all:1};class m7 extends Za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:h7[i]},d=u=>{const{isIntersecting:m}=u;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),v=m?p:x;v&&v(u)};return u7(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(p7(e,n))&&this.startObserver()}unmount(){}}function p7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f7={inView:{Feature:m7},tap:{Feature:o7},focus:{Feature:a7},hover:{Feature:i7}},g7={layout:{ProjectionNode:R3,MeasureLayout:w3}},_p={current:null},I0={current:!1};function P3(){if(I0.current=!0,!!Zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_p.current=t.matches;t.addListener(e),e()}else _p.current=!1}const x7=[...e3,dn,Qa],v7=t=>x7.find(Zk(t)),Sc=new WeakMap;function y7(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Os(i))t.addValue(r,i);else if(Os(o))t.addValue(r,wc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,wc(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=N0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=Ti.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,Gt.render(this.render,!1,!0))};const{latestValues:u,renderState:m,onUpdate:p}=c;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=af(n),this.isVariantNode=ok(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const j in v){const N=v[j];u[j]!==void 0&&Os(N)&&N.set(u[j],!1)}}mount(e){this.current=e,Sc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),I0.current||P3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_p.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sc.delete(this.current),this.projection&&this.projection.unmount(),la(this.notifyUpdate),la(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sl.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _c){const n=_c[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):us()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fw.length;r++){const i=fw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=y7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Yk(i)||Uk(i))?i=parseFloat(i):!v7(i)&&Qa.test(n)&&(i=Kk(e,n)),this.setBaseTarget(e,Os(i)?i.get():i)),Os(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=a0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Os(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class D3 extends L3{constructor(){super(...arguments),this.KeyframeResolver=t3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Os(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function b7(t){return window.getComputedStyle(t)}class M3 extends D3{constructor(){super(...arguments),this.type="html",this.renderInstance=gk}readValueFromInstance(e,n){if(sl.has(n)){const r=S0(n);return r&&r.default||0}else{const r=b7(e),i=(mk(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return b3(e,n)}build(e,n,r){c0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return m0(e,n,r)}}class F3 extends D3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=us}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sl.has(n)){const r=S0(n);return r&&r.default||0}return n=xk.has(n)?n:n0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bk(e,n,r)}build(e,n,r){d0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){vk(e,n,r,i)}mount(e){this.isSVGTag=h0(e.tagName),super.mount(e)}}const _7=(t,e)=>i0(t)?new F3(e):new M3(e,{allowProjection:t!==A.Fragment}),w7=rD({...Y9,...f7,...r7,...g7},_7),B3=yL(w7);function Od(t){const e=Xy(()=>wc(t)),{isStatic:n}=A.useContext(Jy);if(n){const[,r]=A.useState(t);A.useEffect(()=>e.on("change",r),[])}return e}function $3(t,e){const n=Od(e()),r=()=>n.set(e());return r(),sk(()=>{const i=()=>Gt.preRender(r,!1,!0),o=t.map(c=>c.on("change",i));return()=>{o.forEach(c=>c()),la(r)}}),n}const j7=t=>t&&typeof t=="object"&&t.mix,S7=t=>j7(t)?t.mix:void 0;function N7(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],c=t[3+n],d=l3(i,o,{mixer:S7(o[0]),...c});return e?d(r):d}function k7(t){Kd.current=[],t();const e=$3(Kd.current,t);return Kd.current=void 0,e}function xm(t,e,n,r){if(typeof t=="function")return k7(t);const i=typeof e=="function"?e:N7(e,n,r);return Array.isArray(t)?gw(t,i):gw([t],([o])=>i(o))}function gw(t,e){const n=Xy(()=>[]);return $3(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function V3(){!I0.current&&P3();const[t]=A.useState(_p.current);return t}const C7=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function O3(t,e){return o3(t)?t[C7(0,t.length,e)]:t}function R0(t){return typeof t=="object"&&!Array.isArray(t)}function U3(t,e,n,r){return typeof t=="string"&&R0(e)?Tk(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function T7(t,e,n){return t*(e+1)}function xw(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function E7(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(cf(t,i),r--)}}function A7(t,e,n,r,i,o){E7(t,i,o);for(let c=0;c<e.length;c++)t.push({value:e[c],at:ts(i,o,r[c]),easing:O3(n,c)})}function I7(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function R7(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const P7="easeInOut";function L7(t,{defaultTransition:e={},...n}={},r,i){const o=e.duration||.3,c=new Map,d=new Map,u={},m=new Map;let p=0,x=0,v=0;for(let j=0;j<t.length;j++){const N=t[j];if(typeof N=="string"){m.set(N,x);continue}else if(!Array.isArray(N)){m.set(N.name,xw(x,N.at,p,m));continue}let[P,I,F={}]=N;F.at!==void 0&&(x=xw(x,F.at,p,m));let B=0;const T=(y,w,M,C=0,_=0)=>{const E=D7(y),{delay:L=0,times:R=d3(E),type:V="keyframes",repeat:$,repeatType:q,repeatDelay:z=0,...W}=w;let{ease:Q=e.ease||"easeOut",duration:H}=w;const ee=typeof L=="function"?L(C,_):L,ne=E.length,G=lf(V)?V:i==null?void 0:i[V];if(ne<=2&&G){let pe=100;if(ne===2&&B7(E)){const Te=E[1]-E[0];pe=Math.abs(Te)}const Ce={...W};H!==void 0&&(Ce.duration=Ni(H));const ge=oD(Ce,pe,G);Q=ge.ease,H=ge.duration}H!=null||(H=o);const te=x+ee;R.length===1&&R[0]===0&&(R[1]=1);const ce=R.length-E.length;if(ce>0&&c3(R,ce),E.length===1&&E.unshift(null),$){H=T7(H,$);const pe=[...E],Ce=[...R];Q=Array.isArray(Q)?[...Q]:[Q];const ge=[...Q];for(let Te=0;Te<$;Te++){E.push(...pe);for(let Ne=0;Ne<pe.length;Ne++)R.push(Ce[Ne]+(Te+1)),Q.push(Ne===0?"linear":O3(ge,Ne-1))}I7(R,$)}const Z=te+H;A7(M,E,Q,R,te,Z),B=Math.max(ee+H,B),v=Math.max(Z,v)};if(Os(P)){const y=vw(P,d);T(I,F,yw("default",y))}else{const y=U3(P,I,r,u),w=y.length;for(let M=0;M<w;M++){I=I,F=F;const C=y[M],_=vw(C,d);for(const E in I)T(I[E],M7(F,E),yw(E,_),M,w)}}p=x,x+=B}return d.forEach((j,N)=>{for(const P in j){const I=j[P];I.sort(R7);const F=[],B=[],T=[];for(let w=0;w<I.length;w++){const{at:M,value:C,easing:_}=I[w];F.push(C),B.push(Ko(0,v,M)),T.push(_||"easeOut")}B[0]!==0&&(B.unshift(0),F.unshift(F[0]),T.unshift(P7)),B[B.length-1]!==1&&(B.push(1),F.push(null)),c.has(N)||c.set(N,{keyframes:{},transition:{}});const y=c.get(N);y.keyframes[P]=F,y.transition[P]={...e,duration:v,ease:T,times:B,...n}}}),c}function vw(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function yw(t,e){return e[t]||(e[t]=[]),e[t]}function D7(t){return Array.isArray(t)?t:[t]}function M7(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const F7=t=>typeof t=="number",B7=t=>t.every(F7);function $7(t,e){return t in e}class V7 extends L3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if($7(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return us()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function O7(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=S3(t)?new F3(e):new M3(e);n.mount(t),Sc.set(t,n)}function U7(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new V7(e);n.mount(t),Sc.set(t,n)}function z7(t,e){return Os(t)||typeof t=="number"||typeof t=="string"&&!R0(e)}function z3(t,e,n,r){const i=[];if(z7(t,e))i.push(j3(t,R0(e)&&e.default||e,n&&(n.default||n)));else{const o=U3(t,e,r),c=o.length;for(let d=0;d<c;d++){const u=o[d],m=u instanceof Element?O7:U7;Sc.has(u)||m(u);const p=Sc.get(u),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),i.push(...A0(p,{...e,transition:x},{}))}}return i}function H7(t,e,n){const r=[];return L7(t,e,n,{spring:C0}).forEach(({keyframes:o,transition:c},d)=>{r.push(...z3(d,o,c))}),r}function G7(t){return Array.isArray(t)&&t.some(Array.isArray)}function W7(t){function e(n,r,i){let o=[];return G7(n)?o=H7(n,r,t):o=z3(n,r,i,t),new jk(o)}return e}const vm=W7(),ta={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function q7(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+ta.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function K7(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:ta.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:ta.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:ta.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:ta.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function bw({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=V3();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:ta.border,background:"var(--nav, "+ta.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(q7,{}),s.jsx(B3.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(K7,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const bx={borderColor:"#2B4C73",background:"#1A2F4A"},ym={borderColor:"#2B4C73",background:"#152A42"};function vt({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:o,right:c,children:d,rounded:u="rounded-3xl",padded:m=!0,centerFramed:p=!1,leftWidth:x=0,rightWidth:v=0,stickyRails:j=!0,mode:N="card",outerPadding:P="px-4 py-3",leftPlacement:I="inside",stickyTopbar:F=!0,stickySubheader:B=!0,shellViewportOffset:T="var(--app-topbar-h,72px)",topbarHeight:y=56}){const w={"--left":typeof x=="number"?`${x}px`:x,"--right":typeof v=="number"?`${v}px`:v},M=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:bx,children:t}),(e||n||r)&&s.jsxs("div",{className:[F?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:bx,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[B?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...B?{top:F?`${y}px`:0}:{},...bx},children:i})]}),C=N==="card"?({children:E})=>s.jsx(bw,{rounded:u,padded:m,children:E}):({children:E})=>s.jsx("div",{className:`w-full ${P}`,children:E}),_=s.jsx("div",{className:"relative min-h-0 h-full",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ym,position:j?"sticky":"static",top:j?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),p?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:ym,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ym,position:j?"sticky":"static",top:j?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return I==="bleed"&&N==="card"?s.jsx("div",{className:`w-full ${P}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[M,s.jsx("div",{className:"flex-1 min-h-0",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[o?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ym,position:j?"sticky":"static",top:j?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(bw,{rounded:u,padded:m,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:_})})]})})]})}):s.jsx(C,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${T})`},children:[M,s.jsx("div",{className:"flex-1 min-h-0",children:_})]})})}const Q7="_row_1wiu6_2",X7="_colFull_1wiu6_9",Y7="_colCommunity_1wiu6_16",J7="_colGuides_1wiu6_17",Z7="_card_1wiu6_65",eF="_header_1wiu6_72",tF="_title_1wiu6_78",sF="_subtitle_1wiu6_79",nF="_empty_1wiu6_80",rF="_errorNote_1wiu6_81",iF="_linkBtn_1wiu6_82",aF="_primaryBtn_1wiu6_82",oF="_navBtn_1wiu6_82",lF="_closeBtn_1wiu6_82",cF="_actionsRight_1wiu6_90",dF="_tileGrid_1wiu6_93",uF="_tile_1wiu6_93",hF="_tileIcon_1wiu6_106",mF="_tileIconFallback_1wiu6_107",pF="_tileLabel_1wiu6_108",fF="_newsList_1wiu6_111",gF="_newsItem_1wiu6_112",xF="_newsMeta_1wiu6_113",vF="_newsAuthor_1wiu6_114",yF="_newsTime_1wiu6_115",bF="_newsText_1wiu6_116",_F="_newsImage_1wiu6_117",wF="_carouselCtrls_1wiu6_121",jF="_carousel_1wiu6_121",SF="_slide_1wiu6_125",NF="_slideActive_1wiu6_126",kF="_slideInactive_1wiu6_127",CF="_slideThumb_1wiu6_128",TF="_slideFallback_1wiu6_129",EF="_slideCaption_1wiu6_130",AF="_liveCard_1wiu6_133",IF="_liveAvatar_1wiu6_134",RF="_liveAvatarFallback_1wiu6_135",PF="_liveInfo_1wiu6_136",LF="_liveName_1wiu6_137",DF="_liveMeta_1wiu6_138",MF="_liveBadge_1wiu6_139",FF="_liveViewers_1wiu6_140",BF="_modalOverlay_1wiu6_143",$F="_modal_1wiu6_143",VF="_modalHeader_1wiu6_145",OF="_modalTitle_1wiu6_146",UF="_modalFilters_1wiu6_148",zF="_formRow_1wiu6_149",HF="_formRowCheckbox_1wiu6_150",GF="_select_1wiu6_151",WF="_input_1wiu6_151",qF="_tableWrap_1wiu6_152",KF="_table_1wiu6_152",Pe={row:Q7,colFull:X7,colCommunity:Y7,colGuides:J7,card:Z7,header:eF,title:tF,subtitle:sF,empty:nF,errorNote:rF,linkBtn:iF,primaryBtn:aF,navBtn:oF,closeBtn:lF,actionsRight:cF,tileGrid:dF,tile:uF,tileIcon:hF,tileIconFallback:mF,tileLabel:pF,newsList:fF,newsItem:gF,newsMeta:xF,newsAuthor:vF,newsTime:yF,newsText:bF,newsImage:_F,carouselCtrls:wF,carousel:jF,slide:SF,slideActive:NF,slideInactive:kF,slideThumb:CF,slideFallback:TF,slideCaption:EF,liveCard:AF,liveAvatar:IF,liveAvatarFallback:RF,liveInfo:PF,liveName:LF,liveMeta:DF,liveBadge:MF,liveViewers:FF,modalOverlay:BF,modal:$F,modalHeader:VF,modalTitle:OF,modalFilters:UF,formRow:zF,formRowCheckbox:HF,select:GF,input:WF,tableWrap:qF,table:KF},QF=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function H3(){const t=[];for(const n of QF)try{const i=await(await fetch(n,{cache:"no-store"})).text(),o=XF(i);t.push(...o)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function _w(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];o==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:o===","&&!r?(e.push(n),n=""):n+=o}return e.push(n),e}function XF(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=_w(e[0]);return e.slice(1).map(r=>{const i=_w(r),o={};return n.forEach((c,d)=>{var u;return o[c.trim()]=((u=i[d])!=null?u:"").trim()}),o})}function YF(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const o=Math.floor(i/60);if(o<60)return`${o}m`;const c=Math.floor(o/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function JF(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const ZF=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],ww={},eB=()=>s.jsxs("section",{className:Pe.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:Pe.header,children:[s.jsx("span",{className:Pe.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:Pe.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:Pe.tileGrid,role:"list",children:ZF.map(t=>s.jsxs(Mt,{to:t.to,role:"listitem",className:Pe.tile,"aria-label":t.label,children:[ww[t.to]?s.jsx("img",{src:ww[t.to],alt:"",className:Pe.tileIcon}):s.jsx("div",{className:Pe.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:Pe.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),tB=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(null);A.useEffect(()=>{async function o(){{e([]);return}}return o(),()=>{}},[]);const i=!t||t.length===0;return s.jsxs("section",{className:Pe.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:Pe.header,children:s.jsx("span",{className:Pe.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:Pe.newsList,children:[t==null?void 0:t.map(o=>{var c;return s.jsxs("article",{className:Pe.newsItem,children:[s.jsxs("div",{className:Pe.newsMeta,children:[s.jsx("span",{className:Pe.newsAuthor,children:o.author||"Discord"}),s.jsx("span",{className:Pe.newsTime,children:YF(o.timestamp)})]}),s.jsx("p",{className:Pe.newsText,children:o.text}),o.image&&s.jsx("img",{src:o.image,alt:"",className:Pe.newsImage}),o.url&&s.jsx("a",{href:o.url,target:"_blank",rel:"noreferrer",className:Pe.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=o.id)!=null?c:`${o.author}-${o.timestamp}`)}),i&&s.jsx("div",{className:Pe.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:Pe.errorNote,"aria-live":"polite",children:n})]})},sB=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(0),i=A.useRef(null);A.useEffect(()=>{let u=!0;async function m(){try{const x=(await H3()).map(v=>{const j=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),N=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!N)return null;const P=JF(N),I=P?`https://i.ytimg.com/vi/${P}/hqdefault.jpg`:void 0;return{title:j,url:N,thumb:I}}).filter(Boolean).slice(0,12);u&&e(x)}catch(p){u&&e([])}}return m(),()=>{u=!1}},[]),A.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const o=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),c=()=>r(u=>(u+1)%Math.max(t.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),o()),u.key==="ArrowRight"&&(u.preventDefault(),c())};return s.jsxs("section",{className:Pe.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:Pe.header,children:[s.jsx("span",{className:Pe.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:Pe.carouselCtrls,children:[s.jsx("button",{className:Pe.navBtn,onClick:o,"aria-label":"Prev",children:""}),s.jsx("button",{className:Pe.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:Pe.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:Pe.empty,children:"No videos"}):t.map((u,m)=>s.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[Pe.slide,m===n?Pe.slideActive:Pe.slideInactive].join(" "),children:[u.thumb?s.jsx("img",{src:u.thumb,alt:"",className:Pe.slideThumb}):s.jsx("div",{className:Pe.slideFallback,children:u.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:Pe.slideCaption,children:u.title})]},u.url))})]})},nB=({onOpenSchedule:t})=>{var p;const[e,n]=A.useState(null),[r,i]=A.useState(new Map),[o,c]=A.useState(0),d=A.useRef(null);if(A.useEffect(()=>{async function x(){{n([]);return}}return x(),()=>{}},[]),A.useEffect(()=>{let x=!0;async function v(){try{const j=await H3(),N=new Map;for(const P of j){const I=String(P["Creator Name"]||P.creator_name||P.name||"").trim(),F=String(P["Twitch Link"]||P.twitch||P.Twitch||"").trim();if(!I||!F)continue;const B=(()=>{try{return new URL(F).pathname.replace(/^\//,"").toLowerCase()}catch(T){return F.toLowerCase()}})();B&&N.set(B,F),N.set(I.toLowerCase(),F)}x&&i(N)}catch(j){x&&i(new Map)}}return v(),()=>{x=!1}},[]),A.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>c(x=>(x+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:Pe.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Pe.header,children:s.jsx("span",{className:Pe.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:Pe.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:Pe.actionsRight,children:s.jsx("button",{className:Pe.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[o],m=(()=>{const x=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(x)return r.has(x)?r.get(x):r.has(x.replace(/^@/,""))?r.get(x.replace(/^@/,"")):`https://www.twitch.tv/${x}`})();return s.jsxs("section",{className:Pe.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Pe.header,children:s.jsx("span",{className:Pe.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:Pe.liveCard,children:[u!=null&&u.avatar?s.jsx("img",{src:u.avatar,alt:"",className:Pe.liveAvatar}):s.jsx("div",{className:Pe.liveAvatarFallback,"aria-hidden":!0,children:(p=u==null?void 0:u.name)==null?void 0:p.slice(0,2).toUpperCase()}),s.jsxs("div",{className:Pe.liveInfo,children:[s.jsx("div",{className:Pe.liveName,children:u==null?void 0:u.name}),s.jsxs("div",{className:Pe.liveMeta,children:[s.jsx("span",{className:Pe.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&s.jsxs("span",{className:Pe.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),m&&s.jsx("a",{href:m,target:"_blank",rel:"noreferrer",className:Pe.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:Pe.carouselCtrls,children:[s.jsx("button",{className:Pe.navBtn,onClick:()=>c(x=>(x-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:Pe.navBtn,onClick:()=>c(x=>(x+1)%e.length),"aria-label":"Next",children:""})]})]})},rB=({open:t,onClose:e})=>{var j;const[n,r]=A.useState(null),[i,o]=A.useState("All"),[c,d]=A.useState(""),[u,m]=A.useState(!1);if(A.useEffect(()=>{if(!t)return;async function N(){{r([]);return}}return N(),()=>{}},[t]),A.useEffect(()=>{const N=P=>{P.key==="Escape"&&e()};return t&&window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[t,e]),!t)return null;const p=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),x=(n||[]).filter(N=>{if(i!=="All"&&N.platform.toLowerCase()!==i.toLowerCase()||u&&N.weekday&&N.weekday.toLowerCase()!==p.toLowerCase())return!1;if(c){const P=c.toLowerCase();if(!`${N.streamer} ${N.title}`.toLowerCase().includes(P))return!1}return!0}),v=((j=n==null?void 0:n.length)!=null?j:0)===0;return s.jsx("div",{className:Pe.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:Pe.modal,children:[s.jsxs("header",{className:Pe.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:Pe.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:Pe.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:Pe.modalFilters,children:[s.jsxs("label",{className:Pe.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:i,onChange:N=>o(N.target.value),className:Pe.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:Pe.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:c,onChange:N=>d(N.target.value),className:Pe.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:Pe.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:u,onChange:N=>m(N.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:Pe.tableWrap,children:s.jsxs("table",{className:Pe.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:v?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:Pe.empty,children:"No schedule yet"})}):x.map((N,P)=>s.jsxs("tr",{children:[s.jsx("td",{children:N.weekday}),s.jsx("td",{children:N.start_utc}),s.jsx("td",{children:N.end_utc}),s.jsx("td",{children:N.timezone}),s.jsx("td",{children:N.platform}),s.jsx("td",{children:N.channel_url?s.jsx("a",{href:N.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:N.streamer}),s.jsx("td",{children:N.title})]},P))})]})})]})})},iB=()=>{const[t,e]=A.useState(!1);return s.jsxs(vt,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:Pe.row,children:s.jsx("div",{className:Pe.colFull,children:s.jsx(eB,{})})}),s.jsxs("div",{className:Pe.row,children:[s.jsx("div",{className:Pe.colCommunity,children:s.jsx(tB,{})}),s.jsx("div",{className:Pe.colGuides,children:s.jsx(sB,{})})]}),s.jsx("div",{className:Pe.row,children:s.jsx("div",{className:Pe.colFull,children:s.jsx(nB,{onOpenSchedule:()=>e(!0)})})}),s.jsx(rB,{open:t,onClose:()=>e(!1)})]})},aB="_wrapper_1jpn5_1",oB="_card_1jpn5_10",lB="_logo_1jpn5_23",cB="_heading_1jpn5_31",dB="_subcopy_1jpn5_37",uB="_buttonStack_1jpn5_42",hB="_providerButton_1jpn5_49",mB="_discord_1jpn5_73",pB="_google_1jpn5_77",fB="_disclaimer_1jpn5_81",gB="_status_1jpn5_87",xB="_sessionBlock_1jpn5_92",vB="_logoutButton_1jpn5_99",yB="_linkButton_1jpn5_114",bB="_loading_1jpn5_123",_B="_spinner_1jpn5_131",qs={wrapper:aB,card:oB,logo:lB,heading:cB,subcopy:dB,buttonStack:uB,providerButton:hB,discord:mB,google:pB,disclaimer:fB,status:gB,sessionBlock:xB,logoutButton:vB,linkButton:yB,loading:bB,spinner:_B},wB=()=>{const t=Rr(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:o}=Eu(),c=e==="loading"||e==="idle",d=e==="authenticated"&&!!n,u=()=>{c||r()},m=()=>{c||i()},p=async()=>{await o()},x=()=>{t("/")};let v;return c?v=s.jsxs("div",{className:qs.loading,children:[s.jsx("div",{className:qs.spinner}),s.jsx("div",{children:"Checking session"})]}):d&&n?v=s.jsxs("div",{className:qs.sessionBlock,children:[s.jsxs("div",{className:qs.status,children:["You are logged in as ",n.displayName,"."]}),s.jsx("button",{className:qs.logoutButton,type:"button",onClick:p,children:"Logout"}),s.jsx("button",{className:qs.linkButton,type:"button",onClick:x,children:"Back to dashboard"})]}):v=s.jsxs("div",{className:qs.buttonStack,children:[s.jsx("button",{className:`${qs.providerButton} ${qs.discord}`,type:"button",onClick:u,children:"Login with Discord"}),s.jsx("button",{className:`${qs.providerButton} ${qs.google}`,type:"button",onClick:m,children:"Login with Google"})]}),s.jsx(vt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:s.jsx("div",{className:qs.wrapper,children:s.jsxs("div",{className:qs.card,children:[s.jsx("img",{className:qs.logo,src:Gm,alt:"SFDataHub logo"}),s.jsx("h1",{className:qs.heading,children:"Sign in"}),s.jsx("p",{className:qs.subcopy,children:"Choose a method to access SFDataHub."}),v,s.jsx("p",{className:qs.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function jB(){return s.jsx(vt,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(SB,{}),right:s.jsx(NB,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(_x,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(_x,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(_x,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function SB(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(wx,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(wx,{to:"/dashboard/activity",children:"Activity"}),s.jsx(wx,{to:"/dashboard/progression",children:"Progression"})]})]})}function NB(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function _x({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function wx({to:t,children:e}){return s.jsx(Mt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function kB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(jx,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(jx,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(jx,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function jx({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function CB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function TB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Sx,{title:"Scrapbook 100%",progress:72}),s.jsx(Sx,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(Sx,{title:"Underworld Boss",progress:35})]})]})}function Sx({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function EB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Hl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(Hl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(Hl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(Hl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(Hl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(Hl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Hl({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function AB({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:ta.border,backgroundColor:ta.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function IB(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const RB=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:o,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:m=!0})=>{const[p,x]=A.useState(!1),v=A.useMemo(()=>IB(t,m),[t,m]),j=i?"lazy":"eager",N={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},P={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},I=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},F={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:o,style:N,children:s.jsx("div",{style:P,children:s.jsxs("div",{style:I,children:[s.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:j,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>x(B=>!B),style:F,title:"Info",children:"i"}),p&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},PB="#0C1C2E",LB=()=>s.jsx(vt,{children:s.jsx(AB,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:PB,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(RB,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),DB="_pageWrap_72re9_7",MB="_infoLine_72re9_17",FB="_viewerHost_72re9_43",BB="_overlay_72re9_99",$B="_dragZoneLeft_72re9_101",VB="_dragZoneRight_72re9_103",OB="_inbookLink_72re9_105",La={pageWrap:DB,infoLine:MB,viewerHost:FB,overlay:BB,dragZoneLeft:$B,dragZoneRight:VB,inbookLink:OB};var Ud={exports:{}},UB=Ud.exports,jw;function zB(){return jw||(jw=1,(function(t,e){(function(n,r){r(e)})(UB,(function(n){class r{constructor(y,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,w,M){super(y,M),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(y){const w=this.render.getContext(),M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,_=this.render.getRect().height;w.save(),w.translate(M.x,M.y),w.beginPath();for(let E of this.state.area)E!==null&&(E=this.render.convertToGlobal(E),w.lineTo(E.x-M.x,E.y-M.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,C,_):this.drawLoader(w,{x:0,y:0},C,_),w.restore()}simpleDraw(y){const w=this.render.getRect(),M=this.render.getContext(),C=w.pageWidth,_=w.height,E=y===1?w.left+w.pageWidth:w.left,L=w.top;this.isLoad?M.drawImage(this.image,E,L,C,_):this.drawLoader(M,{x:E,y:L},C,_)}drawLoader(y,w,M,C){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(w.x+1,w.y+1,M-1,C-1),y.stroke(),y.fill();const _={x:w.x+M/2,y:w.y+C/2};y.beginPath(),y.lineWidth=10,y.arc(_.x,_.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class o{constructor(y,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let w=y;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const w=this.getSpread();for(let M=0;M<w.length;M++)if(y===w[M][0]||y===w[M][1])return M;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const w=this.pages.indexOf(y);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(y){const w=this.pages.indexOf(y);return w>0?this.pages[w-1]:null}getFlippingPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const M=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return M.length===1||y===0?this.pages[M[0]]:this.pages[M[1]]}}getBottomPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w+1]:this.pages[w-1];{const M=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return M.length===1?this.pages[M[0]]:y===0?this.pages[M[1]]:this.pages[M[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const w=this.getSpreadIndexByPage(y);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends o{constructor(y,w,M){super(y,w),this.imagesHref=M}load(){for(const y of this.imagesHref){const w=new i(this.render,y,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,w){return y===null||w===null?1/0:Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,w){const M=y[0].y-y[1].y,C=w[0].y-w[1].y,_=y[1].x-y[0].x,E=w[1].x-w[0].x;return Math.acos((M*C+_*E)/(Math.sqrt(M*M+_*_)*Math.sqrt(C*C+E*E)))}static PointInRect(y,w){return w===null?null:w.x>=y.left&&w.x<=y.width+y.left&&w.y>=y.top&&w.y<=y.top+y.height?w:null}static GetRotatedPoint(y,w,M){return{x:y.x*Math.cos(M)+y.y*Math.sin(M)+w.x,y:y.y*Math.cos(M)-y.x*Math.sin(M)+w.y}}static LimitPointToCircle(y,w,M){if(d.GetDistanceBetweenTwoPoint(y,M)<=w)return M;const C=y.x,_=y.y,E=M.x,L=M.y;let R=Math.sqrt(Math.pow(w,2)*Math.pow(C-E,2)/(Math.pow(C-E,2)+Math.pow(_-L,2)))+C;M.x<0&&(R*=-1);let V=(R-C)*(_-L)/(C-E)+_;return C-E+_===0&&(V=w),{x:R,y:V}}static GetIntersectBetweenTwoSegment(y,w,M){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(w,M))}static GetIntersectBeetwenTwoLine(y,w){const M=y[0].y-y[1].y,C=w[0].y-w[1].y,_=y[1].x-y[0].x,E=w[1].x-w[0].x,L=y[0].x*y[1].y-y[1].x*y[0].y,R=w[0].x*w[1].y-w[1].x*w[0].y,V=M*R-C*L,$=_*R-E*L,q=-(L*E-R*_)/(M*E-C*_),z=-(M*R-C*L)/(M*E-C*_);if(isFinite(q)&&isFinite(z))return{x:q,y:z};if(Math.abs(V-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,w){const M=Math.abs(y.x-w.x),C=Math.abs(y.y-w.y),_=Math.max(M,C),E=[y];function L(R,V,$,q,z){return V>R?R+z*($/q):V<R?R-z*($/q):R}for(let R=1;R<=_;R+=1)E.push({x:L(y.x,w.x,M,_,R),y:L(y.y,w.y,C,_,R)});return E}}class u extends r{constructor(y,w,M){super(y,M),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+M)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const w=y||this.nowDrawingDensity,M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,_=this.render.getRect().height;this.element.classList.remove("--simple");const E=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${C}px;
            height: ${_}px;
        `;w==="hard"?this.drawHard(E):this.drawSoft(M,E)}drawHard(y=""){const w=this.render.getRect().left+this.render.getRect().width/2,M=this.state.hardDrawingAngle,C=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${M}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${M}deg);`);this.element.style.cssText=C}drawSoft(y,w=""){let M="polygon( ";for(const _ of this.state.area)if(_!==null){let E=this.render.getDirection()===1?{x:-_.x+this.state.position.x,y:_.y-this.state.position.y}:{x:_.x-this.state.position.x,y:_.y-this.state.position.y};E=d.GetRotatedPoint(E,{x:0,y:0},this.state.angle),M+=E.x+"px "+E.y+"px, "}M=M.slice(0,-2),M+=")";const C=w+`transform-origin: 0 0; clip-path: ${M}; -webkit-clip-path: ${M};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=C}simpleDraw(y){const w=this.render.getRect(),M=w.pageWidth,C=w.height,_=y===1?w.left+w.pageWidth:w.left,E=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${C}px; 
            left: ${_}px; 
            top: ${E}px; 
            width: ${M}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class m extends o{constructor(y,w,M,C){super(y,w),this.element=M,this.pagesElement=C}load(){for(const y of this.pagesElement){const w=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class p{constructor(y,w,M,C){this.direction=y,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(M,10),this.pageHeight=parseInt(C,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const y=[];let w=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),y.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let w=y;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const w=this.pageWidth-y.x+1,M=this.corner==="bottom"?this.pageHeight-y.y:y.y;let C=2*Math.acos(w/Math.sqrt(M*M+w*w));M<0&&(C=-C);const _=Math.PI-C;if(!isFinite(C)||_>=0&&_<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(C=-C),C}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,w){return{topLeft:this.getRotatedPoint(y[0],w),topRight:this.getRotatedPoint(y[1],w),bottomLeft:this.getRotatedPoint(y[2],w),bottomRight:this.getRotatedPoint(y[3],w)}}getRotatedPoint(y,w){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+w.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(y){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,w,M){let C=y;const _=d.LimitPointToCircle(w,this.pageWidth,C);C!==_&&(C=_,this.updateAngleAndGeometry(C));const E=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,R=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,R=this.rect.bottomLeft),L.x<=0){const V=d.LimitPointToCircle(M,E,R);V!==C&&(C=V,this.updateAngleAndGeometry(C))}return C}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class x{constructor(y,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=w}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const w=this.getBoundsRect();this.setState("flipping");const M=w.height/10,C=this.calc.getCorner()==="bottom"?w.height-M:M,_=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-M,y:C}),this.animateFlippingTo({x:w.pageWidth-M,y:C},{x:-w.pageWidth,y:_},!0)}start(y){this.reset();const w=this.render.convertToBook(y),M=this.getBoundsRect(),C=this.getDirectionByPoint(w),_=w.y>=M.height/2?"bottom":"top";if(!this.checkDirection(C))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(C),this.bottomPage=this.app.getPageCollection().getBottomPage(C),this.render.getOrientation()==="landscape")if(C===1){const E=this.app.getPageCollection().nextBy(this.flippingPage);E!==null&&this.flippingPage.getDensity()!==E.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),E.setDrawingDensity("hard"))}else{const E=this.app.getPageCollection().prevBy(this.flippingPage);E!==null&&this.flippingPage.getDensity()!==E.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),E.setDrawingDensity("hard"))}return this.render.setDirection(C),this.calc=new p(C,_,M.pageWidth.toString(10),M.height.toString(10)),!0}catch(E){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(y,w){const M=this.app.getPageCollection().getCurrentSpreadIndex(),C=this.app.getPageCollection().getSpreadIndexByPage(y);try{C>M&&(this.app.getPageCollection().setCurrentSpreadIndex(C-1),this.flipNext(w)),C<M&&(this.app.getPageCollection().setCurrentSpreadIndex(C+1),this.flipPrev(w))}catch(_){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),w=this.getBoundsRect(),M=this.calc.getCorner()==="bottom"?w.height:0;y.x<=0?this.animateFlippingTo(y,{x:-w.pageWidth,y:M},!0):this.animateFlippingTo(y,{x:w.pageWidth,y:M},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),M=w.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:M-1,y:1});const C=50,_=this.calc.getCorner()==="bottom"?w.height-1:1,E=this.calc.getCorner()==="bottom"?w.height-C:C;this.animateFlippingTo({x:M-1,y:_},{x:M-C,y:E},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,w,M,C=!0){const _=d.GetCordsFromTwoPoint(y,w),E=[];for(const R of _)E.push(()=>this.do(R));const L=this.getAnimationDuration(_.length);this.render.startAnimation(E,L,()=>{this.calc&&(M&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),C&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-w.pageWidth<=w.width/5)return 1}else if(y.x<w.width/2)return 1;return 0}getAnimationDuration(y){const w=this.app.getSettings().flippingTime;return y>=1e3?w:y/1e3*w}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const w of y)if(this.state===w)return!0;return!1}isPointOnCorners(y){const w=this.getBoundsRect(),M=w.pageWidth,C=Math.sqrt(Math.pow(M,2)+Math.pow(w.height,2))/5,_=this.render.convertToBook(y);return _.x>0&&_.y>0&&_.x<w.width&&_.y<w.height&&(_.x<C||_.x>w.width-C)&&(_.y<C||_.y>w.height-C)}}class v{constructor(y,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=y;const M=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=M.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const w=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=w=>{this.render(w),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,w,M){this.finishAnimation(),this.animation={frames:y,duration:w,durationFrame:w/y.length,onAnimateEnd:M,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const w=this.getBlockWidth(),M=w/2,C=this.getBlockHeight()/2,_=this.setting.width/this.setting.height;let E=this.setting.width,L=this.setting.height,R=M-E;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),E=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,E>this.setting.maxWidth&&(E=this.setting.maxWidth),L=E/_,L>this.getBlockHeight()&&(L=this.getBlockHeight(),E=L*_),R=y==="portrait"?M-E/2-E:M-E):w<2*E&&this.app.getSettings().usePortrait&&(y="portrait",R=M-E/2-E),this.boundsRect={left:R,top:C-L/2,width:2*E,height:L,pageWidth:E},y}setShadowData(y,w,M,C){if(!this.app.getSettings().drawShadow)return;const _=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:w,width:3*this.getRect().pageWidth/4*M/100,opacity:(100-M)*_/100/100,direction:C,progress:2*M}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const w=this.getRect();return{x:y.x-w.left,y:y.y-w.top}}isSafari(){return this.safari}convertToPage(y,w){w||(w=this.direction);const M=this.getRect();return{x:w===0?y.x-M.left-M.width/2:M.width/2-y.x+M.left,y:y.y-M.top}}convertToGlobal(y,w){if(w||(w=this.direction),y==null)return null;const M=this.getRect();return{x:w===0?y.x+M.left+M.width/2:M.width/2-y.x+M.left,y:y.y+M.top}}convertRectToGlobal(y,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(y.topLeft,w),topRight:this.convertToGlobal(y.topRight,w),bottomLeft:this.convertToGlobal(y.bottomLeft,w),bottomRight:this.convertToGlobal(y.bottomRight,w)}}}class j extends v{constructor(y,w,M){super(y,w),this.canvas=M,this.ctx=M.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const M={x:y.left+y.width/2-w/2,y:0};this.ctx.translate(M.x,M.y);const C=this.ctx.createLinearGradient(0,0,w,0);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),C.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),C.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),C.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),C.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=C,this.ctx.fillRect(0,0,w,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const M=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),M.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),M.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),M.addColorStop(0,"rgba(0, 0, 0, 0)"),M.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=M,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(M.topLeft.x,M.topLeft.y),this.ctx.lineTo(M.topRight.x,M.topRight.y),this.ctx.lineTo(M.bottomRight.x,M.bottomRight.y),this.ctx.lineTo(M.bottomLeft.x,M.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const C=3*this.shadow.width/4,_=this.ctx.createLinearGradient(0,0,C,0);this.shadow.direction===0?(this.ctx.translate(-C,-100),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,C,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class N{constructor(y,w,M){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=_=>{if(this.checkTarget(_.target)){const E=this.getMousePos(_.clientX,_.clientY);this.app.startUserTouch(E),_.preventDefault()}},this.onTouchStart=_=>{if(this.checkTarget(_.target)&&_.changedTouches.length>0){const E=_.changedTouches[0],L=this.getMousePos(E.clientX,E.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||_.preventDefault()}},this.onMouseUp=_=>{const E=this.getMousePos(_.clientX,_.clientY);this.app.userStop(E)},this.onMouseMove=_=>{const E=this.getMousePos(_.clientX,_.clientY);this.app.userMove(E,!1)},this.onTouchMove=_=>{if(_.changedTouches.length>0){const E=_.changedTouches[0],L=this.getMousePos(E.clientX,E.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&_.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&_.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=_=>{if(_.changedTouches.length>0){const E=_.changedTouches[0],L=this.getMousePos(E.clientX,E.clientY);let R=!1;if(this.touchPoint!==null){const V=L.x-this.touchPoint.point.x,$=Math.abs(L.y-this.touchPoint.point.y);Math.abs(V)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(V>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),R=!0),this.touchPoint=null}this.app.userStop(L,R)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=w;const C=this.app.getSettings().usePortrait?1:2;y.style.minWidth=M.minWidth*C+"px",y.style.minHeight=M.minHeight+"px",M.size==="fixed"&&(y.style.minWidth=M.width*C+"px",y.style.minHeight=M.height+"px"),M.autoSize&&(y.style.width="100%",y.style.maxWidth=2*M.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=M.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,w){const M=this.distElement.getBoundingClientRect();return{x:y-M.left,y:w-M.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class P extends N{constructor(y,w,M,C){super(y,w,M),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=C;for(const _ of C)this.distElement.appendChild(_);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const w of y)this.distElement.appendChild(w);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class I extends N{constructor(y,w,M){super(y,w,M),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),w=parseInt(y.getPropertyValue("width"),10),M=parseInt(y.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=M}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class F extends v{constructor(y,w,M){super(y,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=M,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let M=(100-w)*(2.5*y.pageWidth)/100+20;M>y.pageWidth&&(M=y.pageWidth);let C=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${M}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;C+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=C}drawHardOuterShadow(){const y=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;w>y.pageWidth&&(w=y.pageWidth);let M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;M+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=M}drawInnerShadow(){const y=this.getRect(),w=3*this.shadow.width/4,M=this.getDirection()===0?w:0,C=this.getDirection()===0?"to left":"to right",_=this.convertToGlobal(this.shadow.pos),E=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let R="polygon( ";for(const $ of L){let q=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};q=d.GetRotatedPoint(q,{x:M,y:100},E),R+=q.x+"px "+q.y+"px, "}R=R.slice(0,-2),R+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*y.height}px;
            background: linear-gradient(${C},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${M}px 100px;
            transform: translate3d(${_.x-M}px, ${_.y-100}px, 0) rotate(${E}rad);
            clip-path: ${R};
            -webkit-clip-path: ${R};
        `;this.innerShadow.style.cssText=V}drawOuterShadow(){const y=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.shadow.angle+3*Math.PI/2,C=this.getDirection()===1?this.shadow.width:0,_=this.getDirection()===0?"to right":"to left",E=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let L="polygon( ";for(const V of E)if(V!==null){let $=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:C,y:100},M),L+=$.x+"px "+$.y+"px, "}L=L.slice(0,-2),L+=")";const R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${_}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${C}px 100px;
            transform: translate3d(${w.x-C}px, ${w.y-100}px, 0) rotate(${M}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=R}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class B{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const w=this._default;if(Object.assign(w,y),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(T,y){y===void 0&&(y={});var w=y.insertAt;if(typeof document!="undefined"){var M=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css",w==="top"&&M.firstChild?M.insertBefore(C,M.firstChild):M.appendChild(C),C.styleSheet?C.styleSheet.cssText=T:C.appendChild(document.createTextNode(T))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(T,y){return this.events.has(T)?this.events.get(T).push(y):this.events.set(T,[y]),this}off(T){this.events.delete(T)}trigger(T,y,w=null){if(this.events.has(T))for(const M of this.events.get(T))M({data:w,object:y})}}{constructor(T,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new B().getSettings(y),this.block=T}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(T){this.ui=new I(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new j(this,this.setting,y),this.flipController=new x(this.render,this),this.pages=new c(this,this.render,T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(T){this.ui=new P(this.block,this,this.setting,T),this.render=new F(this,this.setting,this.ui.getDistElement()),this.flipController=new x(this.render,this),this.pages=new m(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,T),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new m(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.ui.updateItems(T),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(T){this.pages.show(T)}flipNext(T="top"){this.flipController.flipNext(T)}flipPrev(T="top"){this.flipController.flipPrev(T)}flip(T,y="top"){this.flipController.flipToPage(T,y)}updateState(T){this.trigger("changeState",this,T)}updatePageIndex(T){this.trigger("flip",this,T)}updateOrientation(T){this.ui.setOrientationStyle(T),this.update(),this.trigger("changeOrientation",this,T)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(T){return this.pages.getPage(T)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(T){this.mousePosition=T,this.isUserTouch=!0,this.isUserMove=!1}userMove(T,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,T)>5&&(this.isUserMove=!0,this.flipController.fold(T)):this.flipController.showCorner(T)}userStop(T,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(T)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Ud,Ud.exports)),Ud.exports}var HB=zB();const GB="_viewerRoot_hj39c_5",WB="_stage_hj39c_17",qB="_host_hj39c_43",KB="_hud_hj39c_91",QB="_hBtn_hj39c_125",XB="_hText_hj39c_153",YB="_title_hj39c_167",JB="_sep_hj39c_169",ZB="_spacer_hj39c_171",e$="_errorBox_hj39c_175",nr={viewerRoot:GB,stage:WB,host:qB,hud:KB,hBtn:QB,hText:XB,title:YB,sep:JB,spacer:ZB,errorBox:e$},t$=(()=>{const t="/test/";return t.endsWith("/")?t:t+"/"})(),G3=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${t$}${e}`.replace(/\/{2,}/g,"/")},s$=async t=>{const e=G3(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},n$=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},r$=(t,e,n)=>Math.max(e,Math.min(n,t)),ws={hostEl:null,pf:null,slug:null},ti={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},i$=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function a$(t){for(const e of t)e&&(ti.cache.has(e)||ti.inFlight.has(e)||ti.queue.includes(e)||ti.queue.push(e));W3()}function W3(){i$(()=>{for(;ti.inFlight.size<ti.maxParallel&&ti.queue.length>0;){const t=ti.queue.shift();ti.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{ti.inFlight.delete(t),ti.cache.add(t),W3()},e.src=t}})}const o$=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const o=A.useRef(null),c=A.useRef(null),[d,u]=A.useState(null),[m,p]=A.useState(null),x=A.useRef(),v=A.useRef(),j=A.useRef(e);A.useEffect(()=>{x.current=n},[n]),A.useEffect(()=>{v.current=r},[r]),A.useEffect(()=>{j.current=e},[e]);const N=A.useMemo(()=>G3(`flipbooks/${t}`),[t]),P=A.useCallback(T=>{var y,w;if((y=T.srcset)!=null&&y.length){const M=[...T.srcset].sort((_,E)=>_.width-E.width),C=(w=M.find(_=>_.width>=1600))!=null?w:M[M.length-1];return/^https?:\/\//i.test(C.src)||C.src.startsWith("/")?C.src:`${N}/${C.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${N}/${T.src}`.replace(/\/{2,}/g,"/")},[N]);A.useEffect(()=>{let T=!0;return p(null),s$(t).then(y=>{T&&u(y)}).catch(y=>{T&&p(y.message||"Failed to load flipbook manifest.")}),()=>{T=!1}},[t]),A.useEffect(()=>{const T=c.current,y=o.current;if(!T||!y||!d||(ws.hostEl||(ws.hostEl=document.createElement("div"),ws.hostEl.className=nr.host),ws.hostEl.parentElement!==T&&T.appendChild(ws.hostEl),!ws.hostEl.isConnected))return;if(!(!ws.pf||ws.slug!==t)){try{ws.pf.update()}catch($){}return}if(ws.pf){try{ws.pf.destroy()}catch($){}ws.pf=null}const M={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},C=new HB.PageFlip(ws.hostEl,M);ws.pf=C,ws.slug=t;const _=d.pages.map(P);C.loadFromImages(_);const E=$=>{const q=[],z=$+1,W=$+2;d.pages[z]&&q.push(P(d.pages[z])),d.pages[W]&&q.push(P(d.pages[W])),a$(q)},L=()=>{var q;const $=r$(j.current,1,d.pageCount)-1;C.turnToPage($,"hard"),setTimeout(()=>E($),220),(q=x.current)==null||q.call(x,C)};C.on("init",L),C.on("flip",$=>{var z;const q=$.data;(z=v.current)==null||z.call(v,q),setTimeout(()=>E(q),220)});const R=new ResizeObserver(()=>{var $;try{($=ws.pf)==null||$.update()}catch(q){}});R.observe(y);const V=$=>{var q,z;$.key==="ArrowLeft"&&($.preventDefault(),(q=ws.pf)==null||q.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(z=ws.pf)==null||z.flipNext())};return window.addEventListener("keydown",V,{passive:!1}),()=>{window.removeEventListener("keydown",V),R.disconnect()}},[d,P,t]);const I=()=>{var T;return(T=ws.pf)==null?void 0:T.flipPrev()},F=()=>{var T;return(T=ws.pf)==null?void 0:T.flipNext()},B=()=>{var w;const T=o.current;if(!T)return;const y=T;(w=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||w.call(y)};return m?s.jsxs("div",{className:nr.errorBox,children:["Flipbook konnte nicht geladen werden: ",m]}):d?s.jsxs("div",{className:nr.viewerRoot,ref:o,"aria-label":d.title,children:[s.jsx("div",{className:nr.stage,ref:c}),s.jsxs("div",{className:nr.hud,children:[s.jsx("button",{className:nr.hBtn,onClick:I,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:nr.hText,children:[s.jsx("span",{className:nr.title,children:d.title}),s.jsx("span",{className:nr.sep,children:""}),s.jsxs("span",{children:[d.pageCount," Seiten"]})]}),s.jsx("div",{className:nr.spacer}),n$()&&s.jsx("button",{className:nr.hBtn,onClick:B,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:nr.hBtn,onClick:F,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:nr.errorBox,children:"Lade Flipbook"})},l$=re.memo(o$),c$={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},d$=()=>{const t="sf-history-book",[e,n]=A.useState(1),r=A.useRef(null),i=A.useMemo(()=>{var p;return(p=c$[e])!=null?p:[]},[e]),o=A.useCallback(p=>{r.current=p},[]),c=A.useCallback(p=>{n(p+1)},[]),d=A.useCallback(p=>{const x=r.current;if(x)try{x.turnToPage(Math.max(0,p-1))}catch(v){}},[]),u=A.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),m=A.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return s.jsx(vt,{title:"SF History Book",children:s.jsxs("div",{className:La.pageWrap,children:[s.jsx("div",{className:La.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:La.viewerHost,children:[s.jsx(l$,{slug:t,initialPage:1,onReady:o,onPageChange:c,noSound:!0}),s.jsxs("div",{className:La.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:La.dragZoneLeft,onClick:u}),s.jsx("div",{className:La.dragZoneRight,onClick:m}),i.map((p,x)=>{const v={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?s.jsx("button",{className:La.inbookLink,style:v,"aria-label":p.label,onClick:()=>d(p.toPage)},x):s.jsx("a",{className:La.inbookLink,style:v,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},x)})]})]})]})})},q3=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(q3.map(t=>[t.id,t]));const K3="TL_FILTERS_V2",zn={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function u$(){var t;try{const e=localStorage.getItem(K3);if(!e)return zn;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:zn.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:zn.listView,o=["hud","sheet"].includes(n.filterMode)?n.filterMode:zn.filterMode,c=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,d=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...zn,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:c,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:d,quickFav:c,quickActive:d,days:r,listView:i,filterMode:o,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:zn.sortBy,searchText:typeof n.searchText=="string"?n.searchText:zn.searchText}}catch(e){return zn}}function h$(t){try{localStorage.setItem(K3,JSON.stringify(t))}catch(e){}}const Q3=A.createContext(null),Sw=t=>Array.from(new Set(t));function bm(t,e){return typeof t=="function"?t(e):t}function m$({children:t}){const[e,n]=A.useState(()=>u$());A.useEffect(()=>{h$(e)},[e]);const r=_=>n(E=>({...E,servers:Sw(bm(_,E.servers))})),i=_=>n(E=>{const L=new Set(E.servers);return L.has(_)?L.delete(_):L.add(_),{...E,servers:Array.from(L)}}),o=()=>n(_=>({..._,servers:[]})),c=_=>n(E=>({...E,classes:Sw(bm(_,E.classes))})),d=_=>n(E=>{const L=new Set(E.classes);return L.has(_)?L.delete(_):L.add(_),{...E,classes:Array.from(L)}}),u=()=>n(_=>({..._,classes:[]})),m=_=>n(E=>({...E,days:_})),p=_=>m(_),x=_=>n(E=>({...E,sortBy:_||"level"})),v=_=>n(E=>({...E,favoritesOnly:!!_,quickFav:!!_})),j=_=>n(E=>({...E,activeOnly:!!_,quickActive:!!_})),N=_=>n(E=>({...E,searchText:_})),P=_=>n(E=>{const L=bm(_,E.quickFav);return{...E,quickFav:L,favoritesOnly:L}}),I=_=>n(E=>{const L=bm(_,E.quickActive);return{...E,quickActive:L,activeOnly:L}}),F=_=>n(E=>({...E,filterMode:_})),B=_=>n(E=>({...E,listView:_})),T=_=>n(E=>({...E,bottomFilterOpen:!!_})),y=_=>n(E=>({...E,serverSheetOpen:!!_})),w=()=>n(zn),M=()=>w(),C=A.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:o,setClasses:c,toggleClass:d,clearClasses:u,setDays:m,setRange:p,setSortBy:x,setFavoritesOnly:v,setActiveOnly:j,setSearchText:N,setQuickFav:P,setQuickActive:I,setFilterMode:F,setListView:B,setBottomFilterOpen:T,setServerSheetOpen:y,resetFilters:w,resetAll:M}),[e]);return s.jsx(Q3.Provider,{value:C,children:t})}function Hu(){const t=A.useContext(Q3);return t||{...zn,range:zn.days,searchText:zn.searchText,quickFav:zn.quickFav,quickActive:zn.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const p$="_hudWrap_107o7_9",f$="_hudBtn_107o7_11",g$="_hudSubBtn_107o7_15",x$="_iconRow_107o7_19",v$="_segmented_107o7_21",y$="_sortLabel_107o7_27",b$="_sortSelect_107o7_29",_$="_chip_107o7_31",w$="_isActive_107o7_33",Vn={hudWrap:p$,hudBtn:f$,hudSubBtn:g$,iconRow:x$,segmented:v$,sortLabel:y$,sortSelect:b$,chip:_$,isActive:w$};function j$({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:o}){const c=Math.round(i*.7),d=re.useMemo(()=>{const F=[],B=ek(n,c*2,c*2,"contain");B&&F.push(B);const T=Pr(n,c*2);return T&&T!==B&&F.push(T),!F.length&&n&&F.push(n),F},[n,c]),[u,m]=re.useState(0),[p,x]=re.useState(!1),[v,j]=re.useState(!1);re.useEffect(()=>m(0),[d]);const N=d[u]||"",P={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(P.background="rgba(255,255,255,.04)"),t&&(P.outline="2px solid #5C8BC6");const I={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:o,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onFocus:()=>j(!0),onBlur:()=>j(!1),style:P,children:N?s.jsx("img",{src:N,alt:e||"class",width:c,height:c,loading:"lazy",style:I,onError:()=>{m(F=>F+1<d.length?F+1:F)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const S$=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function N$(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:o,setSortBy:c,quickFav:d,setQuickFav:u,quickActive:m,setQuickActive:p,filterMode:x,setBottomFilterOpen:v,serverSheetOpen:j,setServerSheetOpen:N,resetAll:P}=Hu();return s.jsxs("div",{className:Vn.hudWrap,children:[s.jsxs("button",{type:"button",className:Vn.hudBtn,onClick:I=>{I.preventDefault(),I.stopPropagation(),N(!0)},"aria-haspopup":"dialog","aria-expanded":j||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:Vn.iconRow,children:[Ls.map(I=>s.jsx(j$,{active:e.includes(I.key),title:I.label,iconUrl:I.iconUrl,fallback:I.fallback,size:40,onClick:()=>n(F=>F.includes(I.key)?F.filter(B=>B!==I.key):[...F,I.key])},I.key)),s.jsx("button",{type:"button",className:Vn.hudSubBtn,onClick:()=>n(Ls.map(I=>I.key)),children:"All"}),s.jsx("button",{type:"button",className:Vn.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:Vn.segmented,role:"group","aria-label":"Range",children:S$.map(I=>s.jsx("button",{type:"button","aria-pressed":r===I.value,onClick:()=>i(I.value),children:I.label},I.label))}),s.jsx("label",{className:Vn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:o,onChange:I=>c(I.target.value),className:Vn.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${Vn.chip} ${d?Vn.isActive:""}`,onClick:()=>u(I=>!I),children:" Favorites"}),s.jsx("button",{type:"button",className:`${Vn.chip} ${m?Vn.isActive:""}`,onClick:()=>p(I=>!I),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:Vn.hudSubBtn,onClick:P,children:"Reset"}),x==="sheet"&&s.jsx("button",{type:"button",className:Vn.hudBtn,onClick:I=>{I.preventDefault(),I.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Us={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function k$({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:o,onSelectAllInRegion:c,onClearAll:d}){const[u,m]=A.useState(""),p=A.useRef(null),[x,v]=A.useState(null),[j,N]=A.useState(!1);A.useEffect(()=>{if(!t)return;const T=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),A.useEffect(()=>{if(t&&p.current){const T=p.current.querySelector("#sheet-serversearch");T==null||T.focus()}},[t]);const P=A.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var w;return!((w=r==null?void 0:r[y])!=null&&w.length)}),[r]);A.useEffect(()=>{if(!t||!P)return;let T=!0;return(async()=>{try{N(!0);const y=await fn(Yt(_t,"stats_public","toplists_bundle_v1"));if(!T)return;const w=y.data()||{},M=Array.isArray(w.servers)?w.servers:JSON.parse(w.servers||"[]");v(C$(M))}catch(y){v(null)}finally{T&&N(!1)}})(),()=>{T=!1}},[t,P]);const I=A.useMemo(()=>P?x!=null?x:{EU:[],US:[],INT:[],Fusion:[]}:r,[P,r,x]),F=A.useMemo(()=>Object.keys(I),[I]),B=T=>{const y=u.trim().toLowerCase();return y?T.toLowerCase().includes(y):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:E$,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:p,style:n==="modal"?X3:A$,className:"sf-server-sheet",children:[s.jsxs("div",{style:I$,children:[s.jsx("h2",{id:"server-dialog-title",style:R$,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:Nw,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:$$,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:u,onChange:T=>m(T.target.value),"aria-label":"Search servers",autoComplete:"off",style:L$})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:F.map(T=>{const y=(I[T]||[]).filter(B);return s.jsxs("section",{"aria-labelledby":`region-${T}`,children:[s.jsxs("div",{style:D$,children:[s.jsxs("h3",{id:`region-${T}`,style:P$,children:[T," ",j&&P?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:Us.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:Nw,onClick:()=>{c?c(T):y.filter(M=>!i.includes(M)).forEach(o)},children:"Select all"})})]}),s.jsxs("div",{style:M$,children:[y.map(w=>{const M=i.includes(w);return s.jsx("button",{type:"button",onClick:()=>o(w),"aria-pressed":M,title:w,style:{...F$,...M?B$:null},children:w},w)}),y.length===0&&s.jsx("div",{style:{color:Us.text2,fontSize:13,padding:"4px 2px"},children:j&&P?"Loading":"No servers found"})]})]},T)})})]})}):null}function C$(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(T$)),e}function T$(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const E$={position:"fixed",inset:0,background:Us.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},X3={width:"min(900px, 100%)",background:Us.tile,border:`1px solid ${Us.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Us.text},A$={...X3,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},I$={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},R$={fontSize:18,margin:0},P$={fontSize:14,margin:0,color:Us.text2},L$={width:"100%",background:Us.input,color:Us.text,border:`1px solid ${Us.line}`,borderRadius:12,padding:"10px 12px"},D$={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},M$={display:"flex",flexWrap:"wrap",gap:8},F$={background:Us.chip,border:`1px solid ${Us.line}`,padding:"6px 10px",borderRadius:999,color:Us.text},B$={outline:`2px solid ${Us.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},$$={background:"#25456B",color:Us.text,border:`1px solid ${Us.accent}`,borderRadius:10,padding:"8px 12px"},Nw={background:"transparent",color:Us.text,border:`1px solid ${Us.line}`,borderRadius:10,padding:"8px 12px"},V$=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=V$,document.head.appendChild(e)}}const en={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function O$({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:o,sortBy:c,setSortBy:d,quickFav:u,setQuickFav:m,quickActive:p,setQuickActive:x}=Hu(),v=A.useRef(null);if(A.useEffect(()=>{if(!t)return;const N=P=>{P.key==="Escape"&&e()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[t,e]),A.useEffect(()=>{if(t&&v.current){const N=v.current.querySelector("#sheet-search");N==null||N.focus()}},[t]),!t)return null;const j=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:U$,onClick:N=>{N.target===N.currentTarget&&e()},children:s.jsxs("div",{ref:v,style:z$,children:[s.jsxs("div",{style:H$,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:en.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:W$,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:N=>r(N.target.value),"aria-label":"Search",autoComplete:"off",style:Y3})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:en.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:j.map(N=>s.jsx("button",{type:"button","aria-pressed":i===N.value,onClick:()=>o(N.value),style:{...Nx,...i===N.value?kx:null},children:N.label},N.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:en.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:N=>d(N.target.value),"aria-label":"Sort",autoComplete:"off",style:G$,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>m(N=>!N),"aria-pressed":u,style:{...Nx,...u?kx:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>x(N=>!N),"aria-pressed":p,style:{...Nx,...p?kx:null},children:" Active"})]})]})})}const U$={position:"fixed",inset:0,background:en.backdrop,zIndex:60,display:"grid",alignItems:"end"},z$={background:en.tile,borderTop:`1px solid ${en.line}`,borderLeft:`1px solid ${en.line}`,borderRight:`1px solid ${en.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:en.text,maxHeight:"80vh",overflow:"auto"},H$={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},Y3={width:"100%",background:en.input,color:en.text,border:`1px solid ${en.line}`,borderRadius:12,padding:"10px 12px"},G$={...Y3,appearance:"none"},Nx={background:"#14273E",border:`1px solid ${en.line}`,padding:"6px 10px",borderRadius:999,color:en.text},kx={outline:`2px solid ${en.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},W$={background:"#25456B",color:en.text,border:`1px solid ${en.accent}`,borderRadius:10,padding:"8px 12px"},q$=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=q$,document.head.appendChild(e)}}function K$(){var i;const t=Hu(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(o=>{var c,d,u,m,p,x,v;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=o.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=o.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(u=o.class)!=null?u:""}),"  Lv ",(m=o.level)!=null?m:"","  Scrap ",(p=o.scrapbook)!=null?p:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(Cx,{children:o.active?"Active":"Idle"}),o.favorite&&s.jsx(Cx,{children:" Fav"}),s.jsx(Cx,{children:`Scan ${(x=o.lastScanDays)!=null?x:"?"}d`})]})]},(v=o.id)!=null?v:`${o.name}-${o.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(o=>{var c,d,u,m;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[o.favorite&&" ",(c=o.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=o.server)!=null?d:"","  Lv ",(u=o.level)!=null?u:"",")"]})]},(m=o.id)!=null?m:`${o.name}-${o.server}`)})})]})}function Cx({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const J3=A.createContext(null),kw=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function Q$(t,e){return t.timeRange===e.timeRange&&kw(t.servers,e.servers)&&kw(t.classes,e.classes)}function X$(t,e){return t.field===e.field&&t.dir===e.dir}function Y$({children:t}){const[e,n]=A.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=A.useState({field:"Level",dir:"desc"}),[o,c]=A.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=A.useCallback(x=>{n(v=>{const j=typeof x=="function"?x(v):{...v,...x};return Q$(v,j)?v:j})},[]),u=A.useCallback(x=>{i(v=>{const j=typeof x=="function"?x(v):x;return X$(v,j)?v:j})},[]),m=A.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);A.useEffect(()=>{let x=!1;return x||c(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{x=!0}},[m]);const p=A.useMemo(()=>({state:o,filters:e,sort:r,setFilters:d,setSort:u}),[o,e,r,d,u]);return s.jsx(J3.Provider,{value:p,children:t})}function J$(){const t=A.useContext(J3);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const Cw=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(n,r)=>{t[n].includes(r)||t[n].push(r)};return q3.forEach(n=>{var o;const r=(o=n.id)!=null?o:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(n=>{t[n].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function Z$(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function eV(){const t=Hu(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:o,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:u,servers:m,setServers:p,classes:x,range:v,sortBy:j}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(vt,{mode:"card",title:"Top Lists",actions:s.jsx(sV,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(N$,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(K$,{}),r==="table"&&s.jsx(Y$,{children:s.jsx(tV,{servers:m!=null?m:[],classes:x!=null?x:[],range:v!=null?v:"all",sortKey:j!=null?j:"level"})})]}),s.jsx(k$,{mode:"modal",open:d,onClose:()=>u(!1),serversByRegion:Cw,selected:m,onToggle:N=>p(P=>P.includes(N)?P.filter(I=>I!==N):[...P,N]),onSelectAllInRegion:N=>p(Cw[N]),onClearAll:()=>p([])}),s.jsx(O$,{open:e==="sheet"&&o,onClose:()=>c(!1)})]})}function tV({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:o,setSort:c}=J$(),{loading:d,error:u,data:m,lastUpdated:p}=i;A.useEffect(()=>{const v=n==="all"?"all":n===60?"30d":`${n}d`;o({servers:t,classes:e,timeRange:v})},[t,e,n,o]),A.useEffect(()=>{const v=Z$(r);c(v)},[r,c]);const x=v=>v==null?"":new Intl.NumberFormat("en").format(v);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":u?"Error":"Ready","  ",m.length," rows"]}),s.jsx("div",{children:p?`Updated: ${new Date(p*1e3).toLocaleString()}`:null})]}),u&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:u}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[m.map((v,j)=>{var N,P,I;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(N=v.Guild)!=null?N:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(P=v.Ratio)!=null?P:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(I=v["Last Scan"])!=null?I:""}),s.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${j}`)}),d&&m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!u&&m.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function sV(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:o}=Hu();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(Tw,{to:"/toplists/players",label:"Players"}),s.jsx(Tw,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Tw({to:t,label:e}){return s.jsx(hs,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const nV=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function rV(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),nV.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function iV(t="players"){const e=Rr(),{search:n,pathname:r}=Wn();return[new URLSearchParams(n).get("tab")||t,d=>{const u=new URLSearchParams(n);u.set("tab",d),e(`${r}?${u.toString()}`,{replace:!1})}]}function aV(){const[t]=iV("players");return s.jsx(m$,{children:t==="players"?s.jsx(eV,{}):s.jsx(rV,{})})}function oV(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function lV(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function cV(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const _m={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},dV={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},On=(t,e)=>Math.min(Math.max(Math.round(t),0),e),uV=t=>{var n,r,i,o;const e={..._m,...t||{}};return{...e,class:On(e.class,15),race:On(e.race,8),mouth:On(e.mouth,30),hair:On(e.hair,40),hairColor:On(e.hairColor,12),horn:On(e.horn,10),hornColor:On(e.hornColor,10),brows:On(e.brows,10),eyes:On(e.eyes,20),beard:On(e.beard,15),nose:On(e.nose,10),ears:On(e.ears,10),extra:On(e.extra,20),special:On(e.special,200),showBorder:(n=e.showBorder)!=null?n:!0,background:(r=e.background)!=null?r:_m.background,frame:(i=e.frame)!=null?i:_m.frame,mirrorHorizontal:(o=e.mirrorHorizontal)!=null?o:_m.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function Z3({config:t,label:e}){const n=A.useRef(null),r=A.useRef(null),[i,o]=A.useState("idle"),c=A.useMemo(()=>({...uV(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);A.useEffect(()=>{let u=!1;o("loading");try{const m=n.current;if(!m){o("error");return}const p=new Hj(m,c);r.current=p,o("ready")}catch(m){console.error("[PortraitMaker] failed to initialize",m),u||o("error")}return()=>{var m,p;u=!0;try{(p=(m=r.current)==null?void 0:m.dispose)==null||p.call(m)}catch(x){}r.current=null}},[c]);const d=i!=="ready"?dV[i]:null;return s.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[s.jsx("div",{className:"avatar-portrait__canvas-shell",children:s.jsx("canvas",{ref:n,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&s.jsx("span",{className:"avatar-portrait__status",children:d})]})}function hV({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function mV({className:t,label:e,size:n=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),o=Ls.find(d=>r(d.label)===i)||Ls.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),c=o?Pr(o.iconUrl,n*2):null;return c?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:c,alt:"",draggable:!1})}):s.jsx(hV,{label:e,size:n})}function pV({data:t,loading:e,actionFeedback:n,onAction:r}){return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsx(Z3,{config:t.portrait,label:t.playerName}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsxs("div",{className:"player-profile__identity",children:[s.jsx(mV,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&s.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),s.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),s.jsx("span",{children:i.label}),s.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&s.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),n&&s.jsx("p",{className:"player-profile__hero-feedback",children:n})]})]})]})}function fV({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function gV({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function xV({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsxs("article",{className:"player-profile__trend-card",children:[s.jsxs("div",{className:"player-profile__trend-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&s.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),s.jsxs("div",{className:"player-profile__card-value",children:[(n=e.points[e.points.length-1])==null?void 0:n.toLocaleString("de-DE"),e.unit||""]})]}),s.jsx(bV,{points:e.points})]},e.label)})})}function vV({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function yV({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function bV({points:t}){if(!t.length)return s.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),n=Math.max(...t),r=Math.max(1,n-e||1),o=t.map((c,d)=>{const u=t.length>1?d/(t.length-1)*100:0,m=100-(c-e)/r*100;return`${d===0?"M":"L"}${u},${m}`}).join(" ");return s.jsx("div",{className:"player-profile__trend-chart",children:s.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:s.jsx("path",{d:o})})})}const _V=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Tx(){const t=Pp(),e=t.id||t.pid||t.playerId||t.player||"",n=Rr(),[r,i]=A.useState(!0),[o,c]=A.useState(null),[d,u]=A.useState(null),[m,p]=A.useState("Statistiken"),[x,v]=A.useState(null),j=A.useRef(null);A.useEffect(()=>{let T=!1;async function y(){var w,M,C,_,E,L,R,V,$,q,z,W,Q,H,ee;i(!0),c(null);try{const ne=(e||"").trim();if(!ne)throw new Error("Kein Spieler gewhlt.");const G=Yt(_t,`players/${ne}/latest/latest`),te=await fn(G);if(!te.exists())throw new Error("Spieler nicht gefunden.");const ce=te.data(),Z=typeof ce.values=="object"&&ce.values?ce.values:{},pe=(M=zd((w=ce.level)!=null?w:Z==null?void 0:Z.Level))!=null?M:null,Ce=((_=(C=ce.className)!=null?C:Z==null?void 0:Z.Class)!=null?_:null)||null,ge=((L=(E=ce.guildName)!=null?E:Z==null?void 0:Z.Guild)!=null?L:null)||null,Te=(V=(R=ce.name)!=null?R:Z==null?void 0:Z.Name)!=null?V:ne,Ne=(q=($=ce.server)!=null?$:Z==null?void 0:Z.Server)!=null?q:null,Ke=(W=zd((z=ce.totalStats)!=null?z:Z==null?void 0:Z["Total Stats"]))!=null?W:null,It=(ee=zd((H=(Q=Z==null?void 0:Z.Album)!=null?Q:Z==null?void 0:Z["Album %"])!=null?H:Z==null?void 0:Z.AlbumPct))!=null?ee:null,he=wV(zd(ce.timestamp)),De=typeof ce.portrait=="object"?ce.portrait:typeof ce.portraitOptions=="object"?ce.portraitOptions:typeof(Z==null?void 0:Z.portraitOptions)=="object"?Z.portraitOptions:void 0;T||u({id:ne,name:Te,className:Ce,level:pe,guild:ge,server:Ne,scrapbookPct:It,totalStats:Ke,lastScanDays:he,values:Z,portraitConfig:De})}catch(ne){T||(u(null),c((ne==null?void 0:ne.message)||"Unbekannter Fehler beim Laden."))}finally{T||i(!1)}}return y(),()=>{T=!0}},[e]),A.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]);const N=A.useMemo(()=>d?kV(d):null,[d]),P=T=>{v(T),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>v(null),3500)},I=async T=>{if(d){if(T==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),P("Profil-Link wurde kopiert.")}catch(w){P("Konnte Link nicht kopieren.")}}return}if(T==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),P("Profil geteilt.")}catch(y){P("Teilen abgebrochen.")}return}if(T==="guild"&&d.guild){n(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(T==="rescan"){P("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},F=()=>{if(!N)return null;switch(m){case"Statistiken":return s.jsx(fV,{data:N.stats});case"Charts":return s.jsx(xV,{series:N.charts});case"Fortschritt":return s.jsx(gV,{items:N.progress});case"Vergleich":return s.jsx(vV,{rows:N.comparison});case"Historie":return s.jsx(yV,{entries:N.history});default:return null}},B=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:o!=null?o:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsx(vt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsxs("div",{className:"player-profile",children:[r&&!d&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!N)&&B(),N&&s.jsxs(s.Fragment,{children:[s.jsx(pV,{data:N.hero,loading:r,actionFeedback:x,onAction:I}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:_V.map(T=>{const y=m===T;return s.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>p(T),children:T},T)})}),F()]})]})})}const zd=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),n=Number(e);return Number.isFinite(n)?n:null},wV=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},Ex=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),jV=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(Ex(n),r)),{number(n,r=null){for(const i of n){const o=zd(e.get(Ex(i)));if(o!=null)return o}return r},text(n,r=null){for(const i of n){const o=e.get(Ex(i));if(o!=null&&String(o).trim())return String(o).trim()}return r}}},e5=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Ps=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),Qm=t=>t==null?"":`${Math.round(t)}%`,Ew=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,SV={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},NV=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=e5(t.id||t.name),n=SV[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:n,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},kV=t=>{var q,z,W,Q,H,ee,ne,G,te,ce,Z;const e=t.values||{},n=jV(e),r=e5(t.id),i=(q=t.level)!=null?q:n.number(["level"]),o=(z=t.scrapbookPct)!=null?z:n.number(["album","scrapbook","albumpct"]),c=n.number(["honor","ehre"]),d=(W=t.totalStats)!=null?W:n.number(["totalstats","stats"]),p=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(pe=>{var Ce;return(Ce=n.number(pe,0))!=null?Ce:0}).reduce((pe,Ce)=>pe+(Ce!=null?Ce:0),0),x=o!=null?o:Math.round(r()*80+10),v=(Q=n.number(["fortresslevel","fortress"]))!=null?Q:Math.round(r()*20)+30,j=(H=n.number(["underworld","underworldlevel"]))!=null?H:Math.round(r()*10)+20,N=(ee=n.number(["tower","towerfloor"]))!=null?ee:Math.round(r()*90)+10,P=(ne=n.number(["pets","petprogress"]))!=null?ne:Math.round(r()*50)+25,I=(i!=null?i:0)*1200+p+Math.round((o!=null?o:0)*3200),F=(G=n.text(["mount","reittier"]))!=null?G:"Greifendrachen (280%)",B=(te=n.text(["guildrole","role"]))!=null?te:"Member",T=n.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Ps(i)}`:""},{label:"Power Score",value:Ps(I)},{label:"Scrapbook",value:Qm(x)},{label:"Total Stats",value:Ps(d)}],w=[{label:"Mount",value:F,tone:"neutral"},{label:"Honor",value:Ps(c),tone:"success"},{label:"Gildenrolle",value:B,tone:"warning"},{label:"HoF",value:T?`#${Ps(T)}`:"",tone:"neutral"}],M={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Ps(i)}`:void 0,lastScanLabel:(ce=Ew(t.lastScanDays))!=null?ce:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:w,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:NV(t)},C=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],_={summary:[{label:"Power Score",value:Ps(I),hint:"Level * SumBase"},{label:"Honor",value:Ps(c)},{label:"HoF Platz",value:T?`#${Ps(T)}`:""},{label:"Letzter Scan",value:(Z=Ew(t.lastScanDays))!=null?Z:""}],attributes:C.map(pe=>({label:pe.label,baseLabel:Ps(n.number(pe.base)),totalLabel:n.number(pe.total)!=null?`Gesamt ${Ps(n.number(pe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Ps(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Ps(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:F},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},E=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(x!=null?x:0)/100),targetLabel:`${Qm(x)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:x!=null&&x>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,N/100),targetLabel:`Ebene ${Math.round(N)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,j/30),targetLabel:`Lvl ${Math.round(j)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,P/100),targetLabel:`${Math.round(P)} / 100`,meta:"Habitate offen"}],L=(pe,Ce=.12)=>{const ge=pe!=null?pe:Math.round(r()*100),Te=[];let Ne=ge*.85;for(let Ke=0;Ke<8;Ke++)Ne+=Ne*(r()*Ce-Ce/2),Te.push(Math.max(0,Math.round(Ne)));return Te[Te.length-1]=ge,Te},R=[{label:"Level Verlauf",points:L(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:L(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:L(c!=null?c:0,.25),unit:"",subLabel:"Hall of Fame"}],V=[{label:"Level",playerValue:i?`Lvl ${Ps(i)}`:"",benchmark:i?`Lvl ${Ps(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Ps(I),benchmark:Ps(Math.round(I*.9)),diffLabel:`+${Ps(Math.round(I*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:Qm(x),benchmark:`${Math.min(100,Math.round((x!=null?x:60)-8))}%`,diffLabel:x!=null?`+${Math.round(x-60)}%`:"",trend:x!=null&&x>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(j)}`,benchmark:`Lvl ${Math.round(j-2)}`,diffLabel:"+2",trend:"neutral"}],$=CV(t,n,r);return{hero:M,stats:_,progress:E,charts:R,comparison:V,history:$}},CV=(t,e,n)=>{var c,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const o=e.text(["lastdungeon","lastfight"]);return o&&r.push({dateLabel:wm(Math.round(n()*15)+5),title:"Dungeon Clear",description:o,tag:"Dungeon"}),r.push({dateLabel:wm(2),title:"Level-Up",description:`Erreichte Level ${Ps(t.level)}`,tag:"Level"}),r.push({dateLabel:wm(10),title:"Scrapbook Meilenstein",description:`${Qm((c=t.scrapbookPct)!=null?c:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:wm(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(n()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},wm=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function TV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Aw,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(Aw,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function Aw({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function EV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function AV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function IV(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const RV={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function PV(t){var n;const e=IV(t);return(n=RV[e])!=null?n:null}function LV(t,e=128){var o,c;const n=PV(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(o=qo(n))!=null?o:null,i=r&&(c=Pr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function bu(t,e=128){return LV(t,e).thumb}const nl={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},uf=(t,e)=>({...t||{},...e||{}}),Iw=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},DV=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Ks=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function MV(t){var v,j,N,P,I,F,B,T;const e=Ks(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Ks(t==null?void 0:t.baseMain),r=Ks(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},o=Ks(i==null?void 0:i.sumBaseTotal);if(o!=null)return o;const c=Ks(i==null?void 0:i.main),d=Ks(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const u=(t==null?void 0:t.values)||{},m=(j=(v=Ks(u==null?void 0:u.SumBaseTotal))!=null?v:Ks(u==null?void 0:u.sumBaseTotal))!=null?j:Ks(u==null?void 0:u["Sum Base Total"]);if(m!=null)return m;const p=(I=(P=(N=Ks(u==null?void 0:u.Main))!=null?N:Ks(u==null?void 0:u.main))!=null?P:Ks(u==null?void 0:u.BaseMain))!=null?I:Ks(u==null?void 0:u.baseMain),x=(T=(B=(F=Ks(u==null?void 0:u.Con))!=null?F:Ks(u==null?void 0:u.con))!=null?B:Ks(u==null?void 0:u.ConBase))!=null?T:Ks(u==null?void 0:u.conBase);return p!=null&&x!=null?p+x:null}function Co(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function FV(t,e=56){if(!t)return;const n=Co(t),r=Ls.find(i=>Co(i.label)===n||Co(i.key)===n)||Ls.find(i=>Co(i.label).startsWith(n)||n.startsWith(Co(i.label))||Co(i.key).startsWith(n)||n.startsWith(Co(i.key)));return r?Pr(r.iconUrl,e):void 0}function BV({name:t,memberClass:e,online:n,theme:r=nl}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=FV(e,56);return s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const $V={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},VV=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+($V[t]||""),children:t});function Rw(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function OV(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function jm({label:t,value:e,theme:n=nl}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function UV({member:t,theme:e,actions:n,extraKPIs:r}){var p,x,v,j,N,P,I,F,B;if(!t)return null;const i=uf(nl,e),o=t,c=Rw((x=(p=o.guildJoined)!=null?p:o.joinedAt)!=null?x:null,(v=o.guildJoinedMs)!=null?v:null),d=Rw((j=o.lastActivity)!=null?j:null,(N=o.lastActivityMs)!=null?N:typeof o.lastOnline=="number"?o.lastOnline:null),u=OV(o),m=typeof o.totalStats=="number"?o.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(BV,{name:t.name,memberClass:(F=(I=o.class)!=null?I:(P=o.values)==null?void 0:P.Class)!=null?F:null,online:o.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),o.role&&s.jsx(VV,{role:o.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[o.class||"",o.server?`  ${o.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(jm,{label:"Level",value:(B=o.level)!=null?B:"",theme:i}),typeof o.scrapbook=="number"&&s.jsx(jm,{label:"Scrapbook",value:`${o.scrapbook}%`,theme:i}),s.jsx(jm,{label:"Sum Base",value:u,theme:i}),s.jsx(jm,{label:"Total Stats",value:m,theme:i}),r]})]})}function To(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function zV(t,e=40){if(!t)return;const n=To(t);let r=Ls.find(i=>To(i.label)===n||To(i.key)===n)||Ls.find(i=>To(i.label).startsWith(n)||n.startsWith(To(i.label))||To(i.key).startsWith(n)||n.startsWith(To(i.key)));return r?Pr(r.iconUrl,e):void 0}function HV({name:t,memberClass:e,online:n,theme:r=nl}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=zV(e,40);return s.jsxs("div",{className:"relative",children:[o?s.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const GV=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function WV({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const o=uf(nl,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:o.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:o.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:o.header}}),t.map((c,d)=>{var u,m,p;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(HV,{name:c.name,memberClass:(p=(m=c.class)!=null?m:(u=c.values)==null?void 0:u.Class)!=null?p:null,online:c.online,theme:o}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:o.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(GV,{role:c.role})}),r(c)]},c.id)})]})]})}function Eo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function qV(t,e=40){if(!t)return;const n=Eo(t);let r=Ls.find(i=>Eo(i.label)===n||Eo(i.key)===n)||Ls.find(i=>Eo(i.label).startsWith(n)||n.startsWith(Eo(i.label))||Eo(i.key).startsWith(n)||n.startsWith(Eo(i.key)));return r?Pr(r.iconUrl,e):void 0}function KV({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const o=uf(nl,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var v,j,N,P,I,F,B,T,y;const d=c,u=c.name.slice(0,2).toUpperCase(),m=qV((N=(j=d.class)!=null?j:(v=d.values)==null?void 0:v.Class)!=null?N:null,40),p=typeof d.level=="number"?d.level:typeof((P=d.values)==null?void 0:P.Level)=="number"?d.values.Level:"",x=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((I=d.values)==null?void 0:I.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${o.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m?s.jsx("img",{src:m,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:o.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const M=w.currentTarget.parentElement;M&&(M.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${o.tile};color:${o.title};border-color:${o.border}">${u}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:o.tile,color:o.title,borderColor:o.border},children:u}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:o.sub},children:[(T=(B=d.class)!=null?B:(F=d.values)==null?void 0:F.Class)!=null?T:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:o.border},children:(y=d.role)!=null?y:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:o.title},children:p})]}),x&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:o.title},children:x})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}const QV=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function XV({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:o,onSelect:c,renderActions:d,renderKPIs:u,theme:m}){var L;const p=A.useMemo(()=>uf(nl,m),[m]),[x,v]=A.useState(e),[j,N]=A.useState(n),[P,I]=A.useState(r.key),[F,B]=A.useState(r.dir),[T,y]=A.useState((L=t[0])==null?void 0:L.id),w=o!=null?o:T,M=R=>{o||y(R);const V=t.find($=>$.id===R);V&&c&&c(V)},C=A.useMemo(()=>{const R=j.trim().toLowerCase();return R?t.filter(V=>V.name.toLowerCase().includes(R)||V.class.toLowerCase().includes(R)||String(V.role).toLowerCase().includes(R)):t},[t,j]),_=A.useMemo(()=>{const R=F==="asc"?1:-1,V=$=>{var q,z;switch(P){case"sumBaseStats":{const W=MV($);return W==null?-1/0:W}case"totalStats":return(z=(q=$.totalStats)!=null?q:DV(QV($.baseStats)))!=null?z:-1/0;default:return $[P]}};return[...C].sort(($,q)=>{const z=V($),W=V(q);return z===W?0:z>W?R:-R})},[C,P,F]),E=A.useMemo(()=>_.find(R=>R.id===w)||_[0],[_,w]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),s.jsxs("select",{value:x,onChange:R=>v(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),s.jsx("input",{value:j,onChange:R=>N(R.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),s.jsxs("select",{value:String(P),onChange:R=>I(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>B(R=>R==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:F==="asc"?"":""})]})]}),s.jsx(UV,{member:E,actions:E&&(d?d(E):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:E&&u?u(E):null,theme:p}),x==="list"?s.jsx(WV,{rows:_,selId:w,onSelect:M,theme:p,rightCols:R=>{var V;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(V=R.level)!=null?V:""}),s.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:Iw(R.lastOnline)})]})}}):s.jsx(KV,{rows:_,selId:w,onSelect:M,theme:p,footer:R=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:s.jsxs("span",{children:["Last ",Iw(R.lastOnline)]})})})]})}function YV({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:o,totalPower:c,activity7d:d,topClasses:u,tickerItems:m,href:p,onClick:x,className:v}){const j=!!V3(),N=A.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(V/6e4));if($<60)return`${$}m`;const q=Math.floor($/60);return q<24?`${q}h`:`${Math.floor(q/24)}d`},[r]),P=Od(0),I=Od(0),F=Od(0),B=Od(0),T=xm(P,V=>Math.round(V).toString()),y=xm(I,V=>Math.round(V).toString()),w=xm(F,V=>Math.round(V).toLocaleString()),M=xm(B,V=>`${Math.round(V)}%`);A.useEffect(()=>{const V=j?0:.6;if(V===0){P.set(i),I.set(o),F.set(c!=null?c:0),B.set(d!=null?d:0);return}const $=[vm(P,i,{duration:V}),vm(I,o,{duration:V}),vm(F,c!=null?c:0,{duration:V}),vm(B,d!=null?d:0,{duration:V})];return()=>$.forEach(q=>q.stop())},[i,o,c,d,j]);const C=A.useRef(null);A.useEffect(()=>{if(j||!C.current)return;const V=C.current;let $=0,q=0;const z=()=>{q+=.016;const W=q*14%140-20;V.style.setProperty("--s-x",`${W}%`),$=requestAnimationFrame(z)};return $=requestAnimationFrame(z),()=>cancelAnimationFrame($)},[j]);const _={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},E=100,L=p?"a":"div",R=p?{href:p}:{onClick:x};return s.jsxs(L,{...R,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${_.bgFrom}, ${_.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:C,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),N&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:_.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${_.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",N]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${E}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${E}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${E}deg, transparent 0 46px, ${_.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:_.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:_.soft,border:`1px solid ${_.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Sm,{label:"Members",value:T}),s.jsx(Sm,{label:" Level",value:y}),s.jsx(Sm,{label:"Total Power",value:w}),typeof d=="number"&&s.jsx(Sm,{label:"Activity (7d)",value:M})]}),u!=null&&u.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:_.soft},children:"Top Classes"}),u.slice(0,3).map(V=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${_.border}`,color:_.text},children:[V.iconUrl?s.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:_.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[V.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),m!=null&&m.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${_.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(JV,{items:m,muted:j,color:_.soft})}):null]})}function Sm({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(B3.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function JV({items:t,muted:e,color:n}){const r=A.useRef(null);return A.useEffect(()=>{if(e||!r.current)return;const i=r.current;let o=0,c=0;const d=()=>{o+=.016;const u=o*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,o)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},o))})})}const ZV="_wrap_q5gkc_53",eO="_banner_q5gkc_59",tO="_bannerRowTop_q5gkc_61",sO="_bannerStripe_q5gkc_71",nO="_bannerTitle_q5gkc_79",rO="_bannerRowBottom_q5gkc_93",iO="_bannerSub_q5gkc_95",aO="_monthPickerWrap_q5gkc_101",oO="_monthPickerLabel_q5gkc_113",lO="_monthPicker_q5gkc_101",cO="_monthButton_q5gkc_131",dO="_monthButtonText_q5gkc_159",uO="_chev_q5gkc_161",hO="_monthList_q5gkc_165",mO="_monthOption_q5gkc_195",pO="_monthBadge_q5gkc_221",fO="_gridRow_q5gkc_237",gO="_gridRowBottom_q5gkc_239",xO="_sideImage_q5gkc_253",vO="_sideImagePh_q5gkc_271",yO="_emblemPanel_q5gkc_275",bO="_emblemFrame_q5gkc_295",_O="_emblemImg_q5gkc_297",wO="_emblemPlaceholder_q5gkc_299",jO="_emblemShimmer_q5gkc_307",SO="_emblemCaption_q5gkc_315",NO="_card_q5gkc_319",kO="_cardHeader_q5gkc_331",CO="_cardTitle_q5gkc_339",TO="_cardSubtitle_q5gkc_341",EO="_headerRight_q5gkc_343",AO="_cardBody_q5gkc_345",IO="_tableWrap_q5gkc_349",RO="_tableTitle_q5gkc_351",PO="_table_q5gkc_349",LO="_th_q5gkc_355",DO="_td_q5gkc_355",MO="_tdEmpty_q5gkc_365",FO="_sectionDivider_q5gkc_375",BO="_sectionStripe_q5gkc_389",$O="_sectionTitle_q5gkc_397",st={wrap:ZV,banner:eO,bannerRowTop:tO,bannerStripe:sO,bannerTitle:nO,bannerRowBottom:rO,bannerSub:iO,monthPickerWrap:aO,monthPickerLabel:oO,monthPicker:lO,monthButton:cO,monthButtonText:dO,chev:uO,monthList:hO,monthOption:mO,monthBadge:pO,gridRow:fO,gridRowBottom:gO,sideImage:xO,sideImagePh:vO,emblemPanel:yO,emblemFrame:bO,emblemImg:_O,emblemPlaceholder:wO,emblemShimmer:jO,emblemCaption:SO,card:NO,cardHeader:kO,cardTitle:CO,cardSubtitle:TO,headerRight:EO,cardBody:AO,tableWrap:IO,tableTitle:RO,table:PO,th:LO,td:DO,tdEmpty:MO,sectionDivider:FO,sectionStripe:BO,sectionTitle:$O};function VO(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function Pw(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Lw=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:st.card,children:[(t||e||r)&&s.jsxs("header",{className:st.cardHeader,children:[s.jsxs("div",{className:st.headerTitles,children:[t&&s.jsx("h3",{className:st.cardTitle,children:t}),e&&s.jsx("div",{className:st.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:st.headerRight,children:r})]}),s.jsx("div",{className:st.cardBody,children:n})]}),Dw=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:st.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:st.tableTitle,children:t.title}),s.jsxs("table",{className:st.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(o=>s.jsx("th",{className:st.th,style:{width:o.width},children:o.label},o.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:st.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((o,c)=>{var d;return s.jsx("tr",{children:e.map(u=>{var v;const m=o[u.key],p=typeof m=="number"||typeof m=="string"?m:"",x=u.format==="num"?VO(p):p;return s.jsx("td",{className:st.td,"data-align":(v=u.align)!=null?v:"left",children:u.render?u.render(o):x},u.key)})},(d=o.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:st.tableFooter,children:t.footer})]})},OO=(t,e)=>{A.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},UO=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var p;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:st.bannerSub,children:r!=null?r:""});const o=A.useRef(null),[c,d]=A.useState(!1);OO(o,()=>d(!1));const u=t.find(x=>x.key===e),m=u?`${Pw(u.fromISO)}${Pw(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:st.monthPickerWrap,children:[s.jsx("div",{className:st.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:st.monthPicker,ref:o,children:[s.jsxs("button",{type:"button",className:st.monthButton,onClick:()=>d(x=>!x),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:st.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),s.jsx("svg",{className:st.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:st.monthList,role:"listbox",children:t.map(x=>s.jsx("li",{children:s.jsx("button",{type:"button",className:st.monthOption,onClick:()=>{d(!1),n==null||n(x.key)},role:"option","aria-selected":x.key===e,children:x.label})},x.key))})]}),m&&s.jsx("span",{className:st.monthBadge,children:m})]})},zO=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:st.banner,children:[s.jsxs("div",{className:st.bannerRowTop,children:[s.jsx("div",{className:st.bannerStripe}),s.jsx("div",{className:st.bannerTitle,children:t}),s.jsx("div",{className:st.bannerStripe})]}),s.jsx("div",{className:st.bannerRowBottom,children:s.jsx(UO,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),HO=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:st.emblemPanel,children:[s.jsxs("div",{className:st.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:st.emblemImg}):s.jsx("div",{className:st.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:st.emblemShimmer})]}),e&&s.jsx("div",{className:st.emblemCaption,children:e})]}),Mw=({imgUrl:t,alt:e})=>s.jsx("div",{className:st.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:st.sideImagePh,children:"Image"})}),Ax=({children:t,className:e})=>s.jsx("div",{className:`${st.gridRow} ${e!=null?e:""}`,children:t}),GO=({children:t})=>s.jsxs("div",{className:st.sectionDivider,children:[s.jsx("div",{className:st.sectionStripe}),s.jsx("div",{className:st.sectionTitle,children:t}),s.jsx("div",{className:st.sectionStripe})]}),WO=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:o}=t;return s.jsxs("div",{className:st.wrap,children:[s.jsx(zO,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Ax,{children:[s.jsx(Mw,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(HO,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Mw,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Ax,{children:i.map((c,d)=>s.jsx(Lw,{title:c.title,subtitle:c.subtitle,children:s.jsx(Dw,{block:c})},d))}),s.jsx(GO,{children:"Guild Overview"}),s.jsx(Ax,{className:st.gridRowBottom,children:o.map((c,d)=>s.jsx(Lw,{title:c.title,subtitle:c.subtitle,children:s.jsx(Dw,{block:c})},d))})]})},qO=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=A.useState(!0),[o,c]=A.useState(null),[d,u]=A.useState(void 0),m=A.useRef({}),[p,x]=A.useState(()=>Nm(e,n));A.useEffect(()=>{let j=!1;async function N(){var P,I,F,B,T;i(!0);try{const y=el(_t,`guilds/${t}/history_monthly`),w=await pn(y),M=[];for(const E of w.docs){const L=E.id,R=E.data();if(!R)continue;m.current[L]=R;const V=(P=R==null?void 0:R.meta)!=null?P:{},$=V.fromISO||V.baselineISO||V.firstISO||"",q=V.toISO||V.latestISO||V.nowISO||"",z=Number((I=V.daysSpan)!=null?I:Math.floor((+new Date(q)-+new Date($))/864e5))||0,W=!!((B=(F=R==null?void 0:R.status)==null?void 0:F.available)!=null?B:$&&q&&z<=40),Q=V.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});M.push({key:L,label:Q,fromISO:$||new Date(L+"-01").toISOString(),toISO:q||new Date(L+"-28").toISOString(),daysSpan:z,available:W,reason:W||(T=R==null?void 0:R.status)==null?void 0:T.reason})}if(M.sort((E,L)=>E.key<L.key?1:-1),j)return;if(M.length===0){c(null),u(void 0),x(Nm(e,n)),i(!1);return}c(M);const C=M[0].key;u(C);const _=m.current[C];x(Fw(_,{guildName:e,guildServer:n,currentMonthKey:C,months:M}))}catch(y){console.error(y),c(null),u(void 0),x(Nm(e,n))}finally{j||i(!1)}}return N(),()=>{j=!0}},[t,e,n]);async function v(j){u(j);let N=m.current[j];if(!N)try{const P=Yt(_t,`guilds/${t}/history_monthly/${j}`),I=await fn(P);I.exists()?(N=I.data(),m.current[j]=N):N=null}catch(P){console.error(P),N=null}if(!N){x(Nm(e,n,{currentMonthKey:j,months:o!=null?o:void 0}));return}x(Fw(N,{guildName:e,guildServer:n,currentMonthKey:j,months:o!=null?o:void 0}))}return s.jsx(WO,{data:p,onMonthChange:v})};function Nm(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:bu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Ao("Most Base Stats gained",e?`Server ${e}`:void 0),Ao("Sum Base Stats"),Ao("Highest Base Stats")],tablesBottom:[Ao("Main & Con"),Ao("Sum Base Stats"),Ao("Highest Base Stats"),Ao("Highest Total Stats")]}}function Ao(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function Fw(t,e){var c,d,u,m,p,x,v,j;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:bu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((N,P)=>{var I,F,B,T,y,w,M,C;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",level:(T=(B=N.levelLatest)!=null?B:N.level)!=null?T:null,base:(w=(y=N.baseLatest)!=null?y:N.base)!=null?w:null,delta:(C=(M=N.baseDelta)!=null?M:N.delta)!=null?C:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((N,P)=>{var I,F,B,T,y,w,M;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",base:(B=N.base)!=null?B:null,stam:(y=(T=N.stamDelta)!=null?T:N.staminaDelta)!=null?y:null,sho:(M=(w=N.shoDelta)!=null?w:N.shootingDelta)!=null?M:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((m=t==null?void 0:t.highestBaseStats)!=null?m:[]).map((N,P)=>{var I,F,B,T,y;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",stats:(T=(B=N.stats)!=null?B:N.base)!=null?T:null,delta:(y=N.delta)!=null?y:null}})}],o=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.mainAndCon)!=null?p:[]).map((N,P)=>{var I,F,B,T,y,w;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",class:(T=(B=N.class)!=null?B:N.className)!=null?T:"",stats:(y=N.stats)!=null?y:null,delta:(w=N.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((x=t==null?void 0:t.sumBaseStats)!=null?x:[]).map((N,P)=>{var I,F,B,T,y;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",base:(B=N.base)!=null?B:null,stam:(T=N.stamDelta)!=null?T:null,sho:(y=N.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((N,P)=>{var I,F,B,T;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",stats:(B=N.stats)!=null?B:null,delta:(T=N.delta)!=null?T:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((j=t==null?void 0:t.highestTotalStats)!=null?j:[]).map((N,P)=>{var I,F,B,T;return{id:(I=N.playerId)!=null?I:P,rank:P+1,name:(F=N.name)!=null?F:"-",total:(B=N.total)!=null?B:null,delta:(T=N.delta)!=null?T:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:o}}const KO="_root_r1uj3_5",QO="_sectionDivider_r1uj3_17",XO="_sectionStripe_r1uj3_31",YO="_sectionTitle_r1uj3_33",Nd={root:KO,sectionDivider:QO,sectionStripe:XO,sectionTitle:YO},JO="_root_4jywc_1",ZO="_accent_4jywc_31",Bw={root:JO,default:"_default_4jywc_29",accent:ZO};function Xa({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${Bw.root} ${Bw[e]} ${n!=null?n:""}`.trim(),children:t})}const km=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function t5(t,e=64){if(!t)return;const n=km(t);let r=Ls.find(i=>km(i.label)===n);return r||(r=Ls.find(i=>km(i.label).startsWith(n)||n.startsWith(km(i.label)))),r?Pr(r.iconUrl,e):void 0}const eU="_card_vvv3s_3",tU="_wrap_vvv3s_31",sU="_divider_vvv3s_45",nU="_rows_vvv3s_77",rU="_row_vvv3s_77",iU="_left_vvv3s_109",aU="_label_vvv3s_111",oU="_avgHead_vvv3s_113",lU="_avgNum_vvv3s_115",cU="_top3_vvv3s_121",dU="_chip_vvv3s_123",uU="_badge_vvv3s_151",hU="_name_vvv3s_159",mU="_score_vvv3s_161",pU="_headerSpacer_vvv3s_167",Sn={card:eU,wrap:tU,divider:sU,rows:nU,row:rU,left:iU,label:aU,avgHead:oU,avgNum:lU,top3:cU,chip:dU,badge:uU,name:hU,score:mU,headerSpacer:pU};function fU({name:t,value:e,classLabel:n,colors:r}){const i=t5(n,64);return s.jsxs("div",{className:Sn.chip,children:[s.jsx("span",{className:Sn.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Sn.name,children:t!=null?t:""}),s.jsx("span",{className:Sn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function gU({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,m)=>{var p,x;return((p=m[d])!=null?p:0)-((x=u[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:Sn.card,children:[s.jsx(Xa,{text:n}),s.jsx("div",{className:Sn.headerSpacer}),s.jsxs("div",{className:Sn.wrap,children:[s.jsx("div",{className:Sn.divider}),s.jsx("div",{className:Sn.rows,children:o.map((d,u)=>s.jsxs("div",{className:Sn.row,children:[s.jsxs("div",{className:Sn.left,children:[s.jsx("div",{className:Sn.label,children:d.label}),s.jsx("div",{className:Sn.avgHead,children:""}),s.jsx("div",{className:Sn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Sn.top3,children:d.list.map((m,p)=>s.jsx(fU,{name:m.name,value:m[d.key],classLabel:m.class,colors:e},p))})]},u))})]})]})}const xU="_card_1enwc_1",vU="_wrap_1enwc_1",yU="_divider_1enwc_1",bU="_rows_1enwc_1",_U="_row_1enwc_1",wU="_left_1enwc_1",jU="_label_1enwc_1",SU="_avgHead_1enwc_1",NU="_avgNum_1enwc_1",kU="_top3_1enwc_1",CU="_chip_1enwc_1",TU="_badge_1enwc_1",EU="_name_1enwc_1",AU="_score_1enwc_1",IU="_headerSpacer_1enwc_1",Nn={card:xU,wrap:vU,divider:yU,rows:bU,row:_U,left:wU,label:jU,avgHead:SU,avgNum:NU,top3:kU,chip:CU,badge:TU,name:EU,score:AU,headerSpacer:IU};function RU({name:t,value:e,classLabel:n,colors:r}){const i=t5(n,64);return s.jsxs("div",{className:Nn.chip,children:[s.jsx("span",{className:Nn.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:Nn.name,children:t!=null?t:""}),s.jsx("span",{className:Nn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function PU({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,m)=>{var p,x;return((p=m[d])!=null?p:0)-((x=u[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:Nn.card,children:[s.jsx(Xa,{text:n}),s.jsx("div",{className:Nn.headerSpacer}),s.jsxs("div",{className:Nn.wrap,children:[s.jsx("div",{className:Nn.divider}),s.jsx("div",{className:Nn.rows,children:o.map((d,u)=>s.jsxs("div",{className:Nn.row,children:[s.jsxs("div",{className:Nn.left,children:[s.jsx("div",{className:Nn.label,children:d.label}),s.jsx("div",{className:Nn.avgHead,children:""}),s.jsx("div",{className:Nn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Nn.top3,children:d.list.map((m,p)=>s.jsx(RU,{name:m.name,value:m[d.key],classLabel:m.class,colors:e},p))})]},u))})]})]})}function LU({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Xa,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function DU({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Xa,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function MU({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Xa,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function FU({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Xa,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const BU=A.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const o=i.icon,c=({text:d})=>s.jsxs("div",{className:Nd.sectionDivider,children:[s.jsx("div",{className:Nd.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}}),s.jsx("div",{className:Nd.sectionTitle,style:{color:i.soft},children:d}),s.jsx("div",{className:Nd.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}})]});return s.jsxs("div",{className:Nd.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(LU,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(gU,{snapshot:n,colors:i}),s.jsx(PU,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(DU,{colors:i}),s.jsx(MU,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(FU,{colors:i})})]})}),$U="_wrapper_zqchq_3",VU="_grid_zqchq_9",OU="_tile_zqchq_13",UU="_disabled_zqchq_37",zU="_crestWrap_zqchq_41",HU="_crest_zqchq_41",GU="_ring_zqchq_53",WU="_badge_zqchq_55",qU="_meta_zqchq_67",KU="_nameRow_zqchq_69",QU="_name_zqchq_69",XU="_share_zqchq_73",YU="_sub_zqchq_75",JU="_tileButton_zqchq_79",ZU="_donutCard_zqchq_85",ez="_donutHeader_zqchq_87",tz="_legend_zqchq_91",sz="_legendItem_zqchq_93",nz="_legendSwatch_zqchq_95",rz="_legendRight_zqchq_97",iz="_centerLabel_zqchq_101",os={wrapper:$U,grid:VU,tile:OU,disabled:UU,crestWrap:zU,crest:HU,ring:GU,badge:WU,meta:qU,nameRow:KU,name:QU,share:XU,sub:YU,tileButton:JU,donutCard:ZU,donutHeader:ez,legend:tz,legendItem:sz,legendSwatch:nz,legendRight:rz,centerLabel:iz},$v=56;function wp(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function $w(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const az=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function oz(t){return t?/drive\.google\.com/.test(t):!1}function Vw(t,e=$v){if(t)return oz(t)?Pr(t,e):t}function lz(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function cz(t){var p,x,v,j,N,P;if(!t)return null;const e=t,n=t,r=(p=e.key)!=null?p:n.id,i=(x=e.label)!=null?x:n.name,o=(j=(v=n.crestUrl)!=null?v:e.iconUrl)!=null?j:n.iconUrl,c=(N=e.iconUrl)!=null?N:n.iconUrl,d=(P=e.fallback)!=null?P:n.fallback;if(!r||!i)return null;const u=Vw(o,$v),m=Vw(c,$v);return{id:r,name:String(i),crestUrl:u||m,iconUrl:m||u,fallback:d?String(d):void 0}}function s5(t,e){var p,x,v,j,N,P,I,F,B,T,y,w,M,C,_,E,L,R,V,$,q;const n={},r={},i={},o={},c=e.map(z=>z.id);for(const z of c)n[z]=0,r[z]=0,i[z]=0,o[z]=null;for(const z of Array.isArray(t)?t:[]){const W=(w=(T=(F=(P=(j=(v=(x=(p=z.classId)!=null?p:z.class)!=null?x:z.klass)!=null?v:z.playerClass)!=null?j:z.cls)!=null?P:(N=z.values)==null?void 0:N.Class)!=null?F:(I=z.values)==null?void 0:I.class)!=null?T:(B=z.values)==null?void 0:B.Klasse)!=null?w:(y=z.values)==null?void 0:y.klasse,Q=lz(W);if(!Q||!c.includes(Q))continue;n[Q]+=1;const H=az((E=(C=z.level)!=null?C:(M=z.values)==null?void 0:M.Level)!=null?E:(_=z.values)==null?void 0:_.level);H!=null&&(r[Q]+=H,i[Q]+=1,(!o[Q]||((R=(L=o[Q])==null?void 0:L.level)!=null?R:-1/0)<H)&&(o[Q]={id:z.id,name:(q=($=z.name)!=null?$:(V=z.values)==null?void 0:V.Name)!=null?q:null,level:H}))}const d=Object.values(n).reduce((z,W)=>z+W,0),u={},m={};return c.forEach(z=>{u[z]=d>0?n[z]/d*100:0,m[z]=i[z]>0?r[z]/i[z]:null}),{counts:n,shares:u,avg:m,top:o}}const dz=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:os.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},uz=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=A.useState({}),o=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:u,avg:m,top:p}=A.useMemo(()=>s5(o,c),[o,c]);return s.jsx("section",{className:os.wrapper,children:s.jsx("div",{className:os.grid,style:{gridTemplateColumns:"1fr"},children:c.map(x=>{var B,T,y;const v=(B=d[x.id])!=null?B:0,j=(T=u[x.id])!=null?T:0,N=m[x.id],P=p[x.id],I=v<=0,F=r[x.id]?void 0:x.crestUrl||x.iconUrl;return s.jsxs("div",{className:`${os.tile} ${I?os.disabled:""}`,title:I?`${x.name}: kein Mitglied`:`${x.name}  ${$w(v)}  ${wp(j)}${N?`   ${N.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:os.crestWrap,children:[F?s.jsx("img",{className:os.crest,src:F,alt:x.name,onError:()=>i(w=>({...w,[x.id]:!0}))}):s.jsx("div",{className:os.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=x.fallback)!=null?y:""}),s.jsx(dz,{valuePct:j}),s.jsx("div",{className:os.badge,children:$w(v)})]}),s.jsxs("div",{className:os.meta,children:[s.jsxs("div",{className:os.nameRow,children:[s.jsx("div",{className:os.name,children:x.name}),s.jsx("div",{className:os.share,children:wp(j)})]}),s.jsxs("div",{className:os.sub,children:[N?` Lvl ${N.toFixed(1)}`:"",P?`  Top: ${P.name}${P.level?` (Lv ${P.level})`:""}`:""]})]}),!I&&n&&s.jsx("button",{className:os.tileButton,onClick:()=>n(x.id),"aria-label":`${x.name} filtern`})]},x.id)})})})},hz=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:o}=A.useMemo(()=>s5(n,r),[n,r]),c=A.useMemo(()=>Object.values(o).reduce((d,u)=>d+u,0),[o]);return s.jsxs("div",{className:os.donutCard,children:[s.jsxs("div",{className:os.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:os.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const x=Math.PI*2,v=r.map((N,P)=>{var I;return{id:N.id,pct:(I=i[N.id])!=null?I:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*P)} 60% 55%)`}});let j=0;return v.map(N=>{const P=(N.pct||0)/100;if(P<=0)return null;const I=j,F=j+x*P;j=F;const B=F-I>Math.PI?1:0,T=130+100*Math.cos(I),y=130+100*Math.sin(I),w=130+100*Math.cos(F),M=130+100*Math.sin(F),C=130+64*Math.cos(F),_=130+64*Math.sin(F),E=130+64*Math.cos(I),L=130+64*Math.sin(I),R=`M ${T} ${y} A 100 100 0 ${B} 1 ${w} ${M} L ${C} ${_} A 64 64 0 ${B} 0 ${E} ${L} Z`;return s.jsx("path",{d:R,fill:N.color,opacity:.95},N.id)})})()]}),s.jsx("div",{className:os.legend,children:r.map((d,u)=>{var x,v;const m=(x=i[d.id])!=null?x:0,p=(v=o[d.id])!=null?v:0;return s.jsxs("div",{className:os.legendItem,title:`${d.name}: ${p}  ${wp(m)}`,children:[s.jsx("span",{className:os.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:os.legendRight,children:[p,"  ",wp(m)]})]},d.id)})})]}),s.jsx("div",{className:os.centerLabel,children:"Anteile je Klasse"})]})},Ns={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},mz=t=>{var e,n,r,i,o,c,d,u,m,p,x,v,j,N,P;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(n=t.class)!=null?n:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(o=t.lastActivityMs)!=null?o:null,server:null,baseStats:{main:(c=t.baseMain)!=null?c:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(m=t.totalStats)!=null?m:void 0,values:{treasury:(p=t.treasury)!=null?p:void 0,mine:(x=t.mine)!=null?x:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(j=t.conTotal)!=null?j:void 0,lastScan:(N=t.lastScan)!=null?N:void 0,lastActivity:(P=t.lastActivity)!=null?P:void 0}}},Ix=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},pz=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function n5({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Ns.tile,border:`1px solid ${Ns.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Ns.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Ns.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function kd({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:Ns.title},children:e})]})}function fz({guild:t}){var n,r;const e=bu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(n5,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(kd,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(kd,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(kd,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(kd,{k:"Inaktiv",v:"0"}),s.jsx(kd,{k:"Aktivitt",v:"100%"})]})})]})}function Rx(){var I,F,B,T,y,w;const t=Pp(),e=t.id||t.gid||t.guildId||t.guild||"",n=Rr(),[r,i]=A.useState(!0),[o,c]=A.useState(null),[d,u]=A.useState(null),[m,p]=A.useState(null),[x,v]=A.useState("grid"),j=A.useMemo(()=>(Array.isArray(Ls)?Ls:[]).map(cz).filter(Boolean),[]);A.useEffect(()=>{let M=!1;async function C(){var _,E,L,R,V,$,q,z,W,Q,H,ee,ne,G,te,ce,Z,pe,Ce,ge,Te,Ne,Ke,It,he,De,Ue,Rt,Vt,ys,Lr,In,gn,xn,Dr,cr,dr;i(!0),c(null);try{const Es=e.trim();if(!Es){c("Keine Gilde gewhlt."),i(!1);return}const Jt=Yt(_t,`guilds/${Es}/latest/latest`),Wt=await fn(Jt);if(!Wt.exists()){c("Gilde nicht gefunden."),i(!1);return}const Dt=Wt.data(),oi=(L=(E=Dt.name)!=null?E:(_=Dt.values)==null?void 0:_.Name)!=null?L:Es,qn=($=(V=Dt.server)!=null?V:(R=Dt.values)==null?void 0:R.Server)!=null?$:null,ur=(H=Ix((Q=(z=Dt.memberCount)!=null?z:(q=Dt.values)==null?void 0:q["Guild Member Count"])!=null?Q:(W=Dt.values)==null?void 0:W.GuildMemberCount))!=null?H:null,hr=(ge=Ix((Ce=(Z=(te=(ne=Dt.hofRank)!=null?ne:(ee=Dt.values)==null?void 0:ee["Hall of Fame Rank"])!=null?te:(G=Dt.values)==null?void 0:G.HoF)!=null?Z:(ce=Dt.values)==null?void 0:ce.Rank)!=null?Ce:(pe=Dt.values)==null?void 0:pe["Guild Rank"]))!=null?ge:null,li=pz(Ix(Dt.timestamp));M||u({id:Es,name:oi,server:qn,memberCount:ur,hofRank:hr,lastScanDays:li});const ci=Yt(_t,`guilds/${Es}/snapshots/members_summary`),Mr=await fn(ci);if(Mr.exists()&&!M){const qt=Mr.data(),mr={guildId:String((Te=qt.guildId)!=null?Te:Es),updatedAt:String((It=(Ke=qt.updatedAt)!=null?Ke:(Ne=Dt.values)==null?void 0:Ne.Timestamp)!=null?It:""),updatedAtMs:Number((De=(he=qt.updatedAtMs)!=null?he:Dt.timestamp*1e3)!=null?De:0),count:Number((Ue=qt.count)!=null?Ue:0),hash:String((Rt=qt.hash)!=null?Rt:""),avgLevel:(Vt=qt.avgLevel)!=null?Vt:null,avgTreasury:(ys=qt.avgTreasury)!=null?ys:null,avgMine:(Lr=qt.avgMine)!=null?Lr:null,avgBaseMain:(In=qt.avgBaseMain)!=null?In:null,avgConBase:(gn=qt.avgConBase)!=null?gn:null,avgSumBaseTotal:(xn=qt.avgSumBaseTotal)!=null?xn:null,avgAttrTotal:(Dr=qt.avgAttrTotal)!=null?Dr:null,avgConTotal:(cr=qt.avgConTotal)!=null?cr:null,avgTotalStats:(dr=qt.avgTotalStats)!=null?dr:null,members:Array.isArray(qt.members)?qt.members:[]};p(mr)}}catch(Es){M||c((Es==null?void 0:Es.message)||"Fehler beim Laden.")}finally{M||i(!1)}}return C(),()=>{M=!0}},[e]);const N=A.useMemo(()=>{var M;return((M=m==null?void 0:m.members)!=null?M:[]).map(C=>mz(C))},[m]);if(r)return s.jsx(vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:Ns.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:Ns.soft},children:[o!=null?o:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const P=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Ns.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Ns.tile,border:`1px solid ${Ns.line}`,color:Ns.title},children:(I=d.server)!=null?I:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:Ns.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Ns.soft},children:["Zuletzt aktualisiert:",m!=null&&m.updatedAt?m.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:Ns.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[P,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(fz,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(BU,{guild:d,snapshot:m,emblemUrl:bu(d.name,512)||void 0,colors:Ns}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(YV,{guildName:d.name,server:(F=d.server)!=null?F:"",emblemUrl:bu(d.name,512)||void 0,lastScanISO:m!=null&&m.updatedAtMs?new Date(m.updatedAtMs).toISOString():void 0,members:(B=d.memberCount)!=null?B:0,avgLevel:(T=m==null?void 0:m.avgLevel)!=null?T:0,totalPower:(y=m==null?void 0:m.avgTotalStats)!=null?y:void 0,tickerItems:m!=null&&m.updatedAt?[`Updated ${m.updatedAt}`,`Members ${(w=d.memberCount)!=null?w:0}`]:void 0})})}),s.jsx(gz,{members:N,guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:s.jsx(Xa,{text:"Klassenbersicht",tone:x==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:s.jsx(Xa,{text:"Klassenverteilung",tone:x==="donut"?"accent":"default"})})]}),x==="grid"?s.jsx(uz,{data:N,classMeta:j,onPickClass:M=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",M),window.location.href=C.toString()}}):s.jsx(hz,{data:N,classMeta:j})]})]})})]})}function gz({members:t,guildId:e,guildName:n,guildServer:r}){const[i,o]=A.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Ns.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>o(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Ns.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Ns.title},children:c},c)})}),s.jsxs(n5,{children:[i==="bersicht"&&s.jsx(XV,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:Ns.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(qO,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:Ns.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function xz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Ow,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(Ow,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function Ow({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function vz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function yz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const $s={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Uw({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function bz({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function Gl({label:t,value:e}){return s.jsxs("div",{style:{background:$s.tileAlt,border:`1px solid ${$s.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:$s.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:$s.title,fontWeight:700},children:e})]})}function _z(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),o=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const u=d[1],m=String(parseInt(d[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();c=`s${m}.sfgame.${p}`}return Array.from(new Set([e,n,r,i,o,c].filter(Boolean)))}function Px(){var P,I,F,B;const t=Pp(),e=Rr(),n=Wn(),r=t.id||t.sid||t.serverId||t.server||"",[i,o]=A.useState(!0),[c,d]=A.useState(null),[u,m]=A.useState(null),[p,x]=A.useState(null);A.useEffect(()=>{let T=!1;async function y(){o(!0),d(null),m(null),x(null);try{const w=r.trim();if(!w)throw new Error("Kein Server gewhlt.");const M=Yt(_t,`servers/${w}`),C=await fn(M);if(C.exists()){T||(m(C.id),x(C.data()));return}const _=el(_t,"servers"),E=_z(w),L=[];for(const q of E)L.push(pn(Cn(_,ni("code","==",q),Tn(1)))),L.push(pn(Cn(_,ni("displayName","==",q),Tn(1)))),L.push(pn(Cn(_,ni("host","==",q),Tn(1))));const R=await Promise.allSettled(L);let V=null,$=null;for(const q of R){if(q.status!=="fulfilled")continue;const z=q.value;if(!z.empty){const W=z.docs[0];V=W.id,$=W.data();break}}if(!V||!$)throw new Error("Server nicht gefunden.");T||(m(V),x($),V!==w&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch(w){T||d((w==null?void 0:w.message)||"Fehler beim Laden.")}finally{T||o(!1)}}return y(),()=>{T=!0}},[r,e,n.pathname]);const v=A.useMemo(()=>s.jsxs("div",{style:{padding:24,color:$s.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:$s.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return s.jsx(vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:$s.textSoft},children:"Lade Serverprofil"})});if(!p)return s.jsx(vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const j=p.displayName||p.code||u||r,N=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return s.jsxs(vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${$s.line}`},children:s.jsxs(Uw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(bz,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:$s.title,fontWeight:700},children:j}),s.jsxs("div",{style:{fontSize:12,color:$s.textSoft},children:[p.host||"","  ",p.region||"","  ",((P=p.type)==null?void 0:P.toUpperCase())||""]})]})]})}),s.jsxs(Uw,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:$s.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${$s.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:$s.title,fontSize:24,fontWeight:800},children:j}),s.jsxs("div",{style:{marginTop:6,color:$s.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((I=p.type)==null?void 0:I.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:$s.textSoft},children:["Status: ",N]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(Gl,{label:"Code",value:p.code||""}),s.jsx(Gl,{label:"Host",value:p.host||""}),s.jsx(Gl,{label:"Region",value:p.region||""}),s.jsx(Gl,{label:"Typ",value:((F=p.type)==null?void 0:F.toUpperCase())||""}),s.jsx(Gl,{label:"Numeric ID",value:(B=p.numericId)!=null?B:""}),s.jsx(Gl,{label:"Status",value:N})]}),s.jsxs("div",{style:{marginTop:16,background:$s.tileAlt,padding:15,borderRadius:12,border:`1px solid ${$s.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:$s.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const wz="_page_10cmn_1",jz="_sectionCard_10cmn_8",Sz="_identityCard_10cmn_15",Nz="_identityGrid_10cmn_20",kz="_profileName_10cmn_32",Cz="_identityMeta_10cmn_39",Tz="_mainCharacter_10cmn_48",Ez="_characterHeader_10cmn_59",Az="_characterTitle_10cmn_66",Iz="_characterSubtitle_10cmn_72",Rz="_classIcon_10cmn_77",Pz="_metaGrid_10cmn_91",Lz="_metaLabel_10cmn_97",Dz="_metaValue_10cmn_104",Mz="_portrait_10cmn_109",Fz="_sectionHeader_10cmn_123",Bz="_sectionHint_10cmn_133",$z="_bioText_10cmn_138",Vz="_tagGroups_10cmn_148",Oz="_tagGroupLabel_10cmn_155",Uz="_tagList_10cmn_162",zz="_tag_10cmn_148",Hz="_showcaseGrid_10cmn_177",Gz="_characterCard_10cmn_183",Wz="_characterCardHeader_10cmn_193",qz="_characterName_10cmn_200",Kz="_badge_10cmn_206",Qz="_characterMeta_10cmn_217",Xz="_characterStats_10cmn_225",Yz="_statGrid_10cmn_233",Jz="_statTile_10cmn_239",Zz="_statLabel_10cmn_246",eH="_statValue_10cmn_253",tH="_statSubtext_10cmn_260",sH="_emptyState_10cmn_266",nH="_recordsHighlights_10cmn_276",rH="_highlightCard_10cmn_283",iH="_recordType_10cmn_290",aH="_recordTitle_10cmn_297",oH="_timeline_10cmn_304",lH="_timelineItem_10cmn_313",cH="_timelineBullet_10cmn_318",dH="_timelineContent_10cmn_327",uH="_timelineTitle_10cmn_331",hH="_timelineMeta_10cmn_337",mH="_achievementsHighlights_10cmn_343",pH="_achievementCard_10cmn_350",fH="_achievementIcon_10cmn_362",gH="_achievementName_10cmn_374",xH="_achievementDesc_10cmn_380",vH="_achievementTier_10cmn_386",yH="_achievementDate_10cmn_393",bH="_achievementsGrid_10cmn_398",_H="_achievementBadge_10cmn_404",wH="_tierGold_10cmn_416",jH="_tierSilver_10cmn_420",SH="_tierBronze_10cmn_424",ke={page:wz,sectionCard:jz,identityCard:Sz,identityGrid:Nz,profileName:kz,identityMeta:Cz,mainCharacter:Tz,characterHeader:Ez,characterTitle:Az,characterSubtitle:Iz,classIcon:Rz,metaGrid:Pz,metaLabel:Lz,metaValue:Dz,portrait:Mz,sectionHeader:Fz,sectionHint:Bz,bioText:$z,tagGroups:Vz,tagGroupLabel:Oz,tagList:Uz,tag:zz,showcaseGrid:Hz,characterCard:Gz,characterCardHeader:Wz,characterName:qz,badge:Kz,characterMeta:Qz,characterStats:Xz,statGrid:Yz,statTile:Jz,statLabel:Zz,statValue:eH,statSubtext:tH,emptyState:sH,recordsHighlights:nH,highlightCard:rH,recordType:iH,recordTitle:aH,timeline:oH,timelineItem:lH,timelineBullet:cH,timelineContent:dH,timelineTitle:uH,timelineMeta:hH,achievementsHighlights:mH,achievementCard:pH,achievementIcon:fH,achievementName:gH,achievementDesc:xH,achievementTier:vH,achievementDate:yH,achievementsGrid:bH,achievementBadge:_H,tierGold:wH,tierSilver:jH,tierBronze:SH},NH={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},kH=1e3*60*60*24,zw={gold:3,silver:2,bronze:1};function CH(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/kH)}function Cm(t){const e=new Date(t);return Number.isNaN(e.getTime())?et("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function TH(){const{profileId:t}=Pp(),e=NH,n=CH(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),o=[...e.achievements].sort((p,x)=>zw[x.tier]-zw[p.tier]).slice(0,3),c=[{label:et("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:et("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:et("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:et("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],d=n==null?et("profile.public.identity.dateUnknown"):n===0?et("profile.public.identity.lastScanToday"):`${n} ${et("profile.public.identity.daysAgoSuffix")}`,u=et("profile.public.identity.portraitPlaceholder"),m=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):et("profile.public.identity.unknownValue");return s.jsx(vt,{title:et("profile.public.title"),subtitle:et("profile.public.subtitle"),centerFramed:!1,padded:!0,children:s.jsxs("div",{className:ke.page,children:[s.jsx("section",{className:`${ke.sectionCard} ${ke.identityCard}`,children:s.jsxs("div",{className:ke.identityGrid,children:[s.jsxs("div",{children:[s.jsx("h1",{className:ke.profileName,children:e.profileUser.displayName}),s.jsxs("div",{className:ke.identityMeta,children:[s.jsxs("span",{children:[et("profile.public.identity.profileIdLabel"),": ",t!=null?t:et("profile.public.identity.unknownValue")]}),s.jsxs("span",{children:[et("profile.public.identity.lastScanLabel"),": ",d]})]}),s.jsxs("article",{className:ke.mainCharacter,children:[s.jsxs("div",{className:ke.characterHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:ke.metaLabel,children:et("profile.public.identity.mainCharacterLabel")}),s.jsx("div",{className:ke.characterTitle,children:e.mainCharacter.name}),s.jsxs("div",{className:ke.characterSubtitle,children:[e.mainCharacter.class,"  ",et("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),s.jsx("div",{className:ke.classIcon,children:e.mainCharacter.class.charAt(0)})]}),s.jsxs("div",{className:ke.metaGrid,children:[s.jsxs("div",{children:[s.jsx("div",{className:ke.metaLabel,children:et("profile.public.identity.serverLabel")}),s.jsx("div",{className:ke.metaValue,children:e.mainCharacter.server})]}),s.jsxs("div",{children:[s.jsx("div",{className:ke.metaLabel,children:et("profile.public.identity.guildLabel")}),s.jsx("div",{className:ke.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),s.jsx("div",{className:ke.portrait,children:u})]})}),s.jsxs("section",{className:ke.sectionCard,children:[s.jsx("div",{className:ke.sectionHeader,children:s.jsx("span",{children:et("profile.public.bio.title")})}),s.jsx("p",{className:ke.bioText,children:e.bio}),s.jsxs("div",{className:ke.tagGroups,children:[s.jsxs("div",{children:[s.jsx("div",{className:ke.tagGroupLabel,children:et("profile.public.bio.languagesLabel")}),s.jsx("div",{className:ke.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>s.jsx("span",{className:ke.tag,children:p.toUpperCase()},p)):s.jsx("span",{className:ke.tag,children:et("profile.public.identity.unknownValue")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:ke.tagGroupLabel,children:et("profile.public.bio.rolesLabel")}),s.jsx("div",{className:ke.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>s.jsx("span",{className:ke.tag,children:et(`profile.public.roles.${p}`)},p)):s.jsx("span",{className:ke.tag,children:et("profile.public.identity.unknownValue")})})]})]})]}),s.jsxs("section",{className:ke.sectionCard,children:[s.jsxs("div",{className:ke.sectionHeader,children:[s.jsx("span",{children:et("profile.public.showcase.title")}),s.jsx("span",{className:ke.sectionHint,children:et("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?s.jsx("div",{className:ke.emptyState,children:et("profile.public.showcase.empty")}):s.jsx("div",{className:ke.showcaseGrid,children:e.showcaseCharacters.map(p=>s.jsxs("article",{className:ke.characterCard,children:[s.jsxs("div",{className:ke.characterCardHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:ke.characterName,children:p.name}),s.jsxs("div",{className:ke.characterMeta,children:[s.jsx("span",{children:p.class}),s.jsxs("span",{children:[et("profile.public.identity.levelShort")," ",p.level]})]})]}),s.jsx("span",{className:ke.badge,children:et(`profile.public.showcase.tags.${p.tag}`)})]}),s.jsxs("div",{className:ke.characterMeta,children:[s.jsx("span",{children:p.server}),s.jsx("span",{children:p.guildName})]}),s.jsxs("div",{className:ke.characterStats,children:[s.jsxs("span",{children:[et("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),s.jsxs("span",{children:[et("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),s.jsxs("section",{className:ke.sectionCard,children:[s.jsx("div",{className:ke.sectionHeader,children:s.jsx("span",{children:et("profile.public.stats.title")})}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ke.statGrid,children:c.map(p=>s.jsxs("article",{className:ke.statTile,children:[s.jsx("div",{className:ke.statLabel,children:p.label}),s.jsx("div",{className:ke.statValue,children:p.value})]},p.label))}),s.jsxs("div",{className:ke.statSubtext,children:[et("profile.public.stats.topServersLabel"),": ",m]}),s.jsxs("div",{className:ke.statSubtext,children:[et("profile.public.stats.firstScanLabel"),": ",Cm(e.scanStats.firstScanAt)]})]})]}),s.jsxs("section",{className:ke.sectionCard,children:[s.jsx("div",{className:ke.sectionHeader,children:s.jsx("span",{children:et("profile.public.records.title")})}),e.recordsAndMilestones.length===0?s.jsx("div",{className:ke.emptyState,children:et("profile.public.records.empty")}):s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx("div",{className:ke.recordsHighlights,children:i.map(p=>s.jsxs("article",{className:ke.highlightCard,children:[s.jsx("div",{className:ke.recordType,children:et(`profile.public.records.type.${p.type}`)}),s.jsx("div",{className:ke.recordTitle,children:p.title}),s.jsxs("div",{className:ke.timelineMeta,children:[Cm(p.when),"  ",p.context]})]},p.id))}),s.jsx("ul",{className:ke.timeline,children:e.recordsAndMilestones.map(p=>s.jsxs("li",{className:ke.timelineItem,children:[s.jsx("div",{className:ke.timelineBullet}),s.jsxs("div",{className:ke.timelineContent,children:[s.jsx("div",{className:ke.timelineTitle,children:p.title}),s.jsxs("div",{className:ke.timelineMeta,children:[Cm(p.when),"  ",p.context]})]})]},p.id))})]})]}),s.jsxs("section",{className:ke.sectionCard,children:[s.jsxs("div",{className:ke.sectionHeader,children:[s.jsx("span",{children:et("profile.public.achievements.title")}),e.achievements.length>0&&s.jsx("span",{className:ke.sectionHint,children:et("profile.public.achievements.highlights")})]}),e.achievements.length===0?s.jsx("div",{className:ke.emptyState,children:et("profile.public.achievements.empty")}):s.jsxs(s.Fragment,{children:[o.length>0&&s.jsx("div",{className:ke.achievementsHighlights,children:o.map(p=>s.jsxs("article",{className:ke.achievementCard,children:[s.jsx("div",{className:[ke.achievementIcon,p.tier==="gold"?ke.tierGold:p.tier==="silver"?ke.tierSilver:ke.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:ke.achievementTier,children:et(`profile.public.achievements.tiers.${p.tier}`)}),s.jsx("div",{className:ke.achievementName,children:et(p.nameKey)}),s.jsx("div",{className:ke.achievementDesc,children:et(p.descriptionKey)}),p.unlockedAt&&s.jsx("div",{className:ke.achievementDate,children:Cm(p.unlockedAt)})]},p.id))}),s.jsx("div",{className:ke.achievementsGrid,children:e.achievements.map(p=>s.jsxs("article",{className:ke.achievementBadge,children:[s.jsx("div",{className:[ke.achievementIcon,p.tier==="gold"?ke.tierGold:p.tier==="silver"?ke.tierSilver:ke.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:ke.achievementName,children:et(p.nameKey)}),s.jsx("div",{className:ke.achievementDesc,children:et(p.descriptionKey)})]},p.id))})]})]})]})})}const EH="_wrap_k6pqt_1",AH="_centerLogoWrap_k6pqt_21",IH="_centerLogoLink_k6pqt_37",RH="_centerLogo_k6pqt_21",PH="_arc_k6pqt_55",LH="_left_k6pqt_57",DH="_right_k6pqt_59",MH="_sub_k6pqt_61",FH="_full_k6pqt_63",BH="_arcItem_k6pqt_65",$H="_iconBtn_k6pqt_71",VH="_active_k6pqt_125",OH="_iconImg_k6pqt_135",UH="_placeholderIcon_k6pqt_139",zH="_placeholderText_k6pqt_157",HH="_iconLabel_k6pqt_161",Ys={wrap:EH,centerLogoWrap:AH,centerLogoLink:IH,centerLogo:RH,arc:PH,left:LH,right:DH,sub:MH,full:FH,arcItem:BH,iconBtn:$H,active:VH,iconImg:OH,placeholderIcon:UH,placeholderText:zH,iconLabel:HH},GH=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Wn();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),m=c.get("sub2"),p=new URL(t,window.location.origin).searchParams,x=p.get("tab"),v=p.get("sub"),j=p.get("sub2");r==="main"?o=d===x:r==="sub"?o=d===x&&!!v&&u===v:o=d===x&&!!v&&u===v&&!!j&&m===j}catch(c){o=!1}return s.jsxs(Mt,{to:t,"aria-label":e,className:[Ys.iconBtn,o?Ys.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Ys.iconImg}):s.jsx("div",{className:Ys.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Ys.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Ys.iconLabel,children:e})]})},Tm=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=A.useMemo(()=>{const x=t.length;if(x===0)return[];let v=-90,j=90;e==="left"?(v=90,j=270):e==="sub"||e==="sub2"?n==="left"?(v=90,j=270):(v=-90,j=90):e==="full"&&(v=0,j=360);const N=(j-v)/(x+1),P=r?190:250;return t.map((I,F)=>{const T=(v+N*(F+1))*Math.PI/180;return{it:I,x:Math.cos(T)*P,y:Math.sin(T)*P}})},[t,e,n,r]),m=(()=>{const x={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?x.left=`calc(50% - ${o}px)`:e==="right"?x.left=`calc(50% + ${o}px)`:e==="sub"?x.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(x.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),x})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[Ys.arc,e==="left"?Ys.left:"",e==="right"?Ys.right:"",e==="sub"?Ys.sub:"",e==="sub2"?Ys.sub2:"",e==="full"?Ys.full:""].join(" "),style:m,children:u.map(({it:x,x:v,y:j})=>s.jsx("div",{className:Ys.arcItem,style:{transform:`translate(${v}px, ${j}px)`},children:s.jsx(GH,{to:x.to,label:x.label,icon:x.icon,variant:p})},x.key))})},WH=({logoSrc:t,categories:e})=>{const[n]=Xo(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const o=A.useMemo(()=>e.find(T=>T.key===r)||null,[e,r]),c=(o==null?void 0:o.sub)||[],d=A.useMemo(()=>c.find(T=>T.key===i)||null,[c,i]),u=(d==null?void 0:d.sub2)||[],m=(o==null?void 0:o.side)==="left"||(o==null?void 0:o.side)==="right"?o.side:"right",p=A.useRef(null),[x,v]=A.useState(!1),[j,N]=A.useState(220),[P,I]=A.useState(440),[F,B]=A.useState(660);return A.useLayoutEffect(()=>{(()=>{var L,R;const w=((R=(L=p.current)==null?void 0:L.getBoundingClientRect().width)!=null?R:380)/2,C=Math.round(w+60),_=Math.round(C+220),E=Math.round(_+220);N(C),I(_),B(E),v(!0)})()},[]),A.useEffect(()=>{let T=0,y=null,w={main:j,out:P,sup:F};const M=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{T=requestAnimationFrame(()=>{var W,Q;const _=((Q=(W=p.current)==null?void 0:W.getBoundingClientRect().width)!=null?Q:380)/2,L=Math.round(_+60),R=Math.round(L+220),V=Math.round(R+220),$=Math.abs(L-w.main),q=Math.abs(R-w.out),z=Math.abs(V-w.sup);$>1&&N(L),q>1&&I(R),z>1&&B(V),w={main:L,out:R,sup:V}})},120)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),y!=null&&window.clearTimeout(y),T&&cancelAnimationFrame(T)}},[j,P,F]),s.jsxs("div",{className:Ys.wrap,children:[s.jsx("div",{className:Ys.centerLogoWrap,children:s.jsx(Mt,{to:"/guidehub",className:Ys.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:p,src:t,alt:"Guide Hub",className:Ys.centerLogo})})}),x&&s.jsxs(s.Fragment,{children:[s.jsx(Tm,{items:e.filter(T=>T.side==="left").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"left",variant:"main",arcOffset:j}),s.jsx(Tm,{items:e.filter(T=>T.side==="right").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"right",variant:"main",arcOffset:j}),m&&c.length>0&&s.jsx(Tm,{items:c.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub",anchorSide:m,variant:"sub",outerOffset:P,compact:!0}),m&&u.length>0&&s.jsx(Tm,{items:u.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub2",anchorSide:m,variant:"sub2",superOffset:F,compact:!0})]})]})},Hw=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],qH="_topWrap_1vr4p_1",KH="_divider_1vr4p_19",QH="_contentArea_1vr4p_53",XH="_placeholder_1vr4p_65",YH="_placeholderTitle_1vr4p_79",JH="_placeholderText_1vr4p_93",Wl={topWrap:qH,divider:KH,contentArea:QH,placeholder:XH,placeholderTitle:YH,placeholderText:JH},ZH="/test/assets/logo_guidehub-c4zKGdF-.png";function rl({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const eG=()=>s.jsx(rl,{title:"Game Features"});function ns({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const tG=()=>s.jsx(ns,{title:"Progression"}),sG=()=>s.jsx(ns,{title:"Hellevator"}),nG=()=>s.jsx(ns,{title:"Legendary Dungeon"}),rG=()=>s.jsx(ns,{title:"Events"}),iG="_card_1rxdx_21",aG="_hoverLift_1rxdx_51",oG="_title_1rxdx_63",lG="_body_1rxdx_89",cG="_iconStack_1rxdx_99",Cd={card:iG,hoverLift:aG,title:oG,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:lG,iconStack:cG};function dG({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[Cd.card,Cd[`pad-${e}`],n?Cd.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Cd.title,children:t}):null,s.jsx("div",{className:Cd.body,children:i})]})}const uG=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],hG="_grid_1amcc_3",mG="_tileBtn_1amcc_45",pG="_wrap_1amcc_87",fG="_headerBar_1amcc_99",gG="_title_1amcc_117",Td={grid:hG,tileBtn:mG,wrap:pG,headerBar:fG,title:gG};function xG(){const[t,e]=Xo(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:Td.wrap,children:[s.jsx("div",{className:Td.headerBar,children:s.jsx("h2",{className:Td.title,children:"Calculators"})}),s.jsx("div",{className:Td.grid,children:uG.map(r=>s.jsx("button",{className:Td.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(dG,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const vG=()=>s.jsx(ns,{title:"Infographics (Dropdown inside page)"}),yG=()=>s.jsx(ns,{title:"Class book"}),bG=()=>s.jsx(ns,{title:"Dungeons"}),_G=()=>s.jsx(rl,{title:"Fortress"}),wG=()=>s.jsx(rl,{title:"Fortress Calculator"}),jG="_wrap_1skhh_7",SG="_headerBar_1skhh_21",NG="_title_1skhh_39",kG="_meta_1skhh_55",CG="_description_1skhh_67",TG="_contentWrapper_1skhh_83",EG="_tableSection_1skhh_97",AG="_table_1skhh_97",IG="_infoBox_1skhh_151",RG="_sectionTitle_1skhh_165",PG="_divider_1skhh_181",Un={wrap:jG,headerBar:SG,title:NG,meta:kG,description:CG,contentWrapper:TG,tableSection:EG,table:AG,infoBox:IG,sectionTitle:RG,divider:PG};function LG(){return s.jsxs("div",{className:Un.wrap,children:[s.jsxs("div",{className:Un.headerBar,children:[s.jsx("h2",{className:Un.title,children:"Fortress Package skip order"}),s.jsx("span",{className:Un.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:Un.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:Un.contentWrapper,children:[s.jsxs("section",{className:Un.tableSection,children:[s.jsx("h3",{className:Un.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:Un.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:Un.infoBox,children:[s.jsx("h3",{className:Un.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:Un.divider}),s.jsx("h3",{className:Un.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:Un.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const DG=()=>s.jsx(rl,{title:"Fortress attack duplication guide"}),MG=()=>s.jsx(rl,{title:"Underworld"}),FG=()=>s.jsx(rl,{title:"Underworld Calculator"}),BG=()=>s.jsx(rl,{title:"Underworld Pro Package skip order"}),$G=()=>s.jsx(ns,{title:"Arena / AM"}),VG="_wrap_mm7x0_5",OG="_headerBar_mm7x0_19",UG="_title_mm7x0_37",zG="_meta_mm7x0_51",HG="_description_mm7x0_63",GG="_controls_mm7x0_79",WG="_search_mm7x0_83",qG="_tableWrap_mm7x0_119",KG="_table_mm7x0_119",QG="_thead_mm7x0_143",XG="_th_mm7x0_143",YG="_td_mm7x0_167",JG="_tierCell_mm7x0_179",ZG="_amountCell_mm7x0_181",eW="_bonusCell_mm7x0_183",tW="_tags_mm7x0_185",sW="_tierBox_mm7x0_191",nW="_tierIcon_mm7x0_193",rW="_tierTexts_mm7x0_203",iW="_tierName_mm7x0_205",aW="_badge_mm7x0_211",oW="_badgeMax_mm7x0_231",lW="_badgeAchiev_mm7x0_233",cW="_badgeX2_mm7x0_235",dW="_badgeX12_mm7x0_237",uW="_badgeX60_mm7x0_239",hW="_iconHead_mm7x0_245",mW="_achiev_mm7x0_261",pW="_achievImg_mm7x0_263",fW="_dataRow_mm7x0_291",gW="_tierCellHover_mm7x0_311",Fe={wrap:VG,headerBar:OG,title:UG,meta:zG,description:HG,controls:GG,search:WG,tableWrap:qG,table:KG,thead:QG,th:XG,td:YG,tierCell:JG,amountCell:ZG,bonusCell:eW,tags:tW,tierBox:sW,tierIcon:nW,tierTexts:rW,tierName:iW,badge:aW,badgeMax:oW,badgeAchiev:lW,badgeX2:cW,badgeX12:dW,badgeX60:uW,iconHead:hW,achiev:mW,achievImg:pW,dataRow:fW,tierCellHover:gW};function r5(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function xW(t){const e=t.filter(Boolean).join(" ");return r5(e)}const vW={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function yW(t){var n;const e=Array.isArray(t)?xW(t):r5(t!=null?t:"");return(n=vW[e])!=null?n:null}function hf(t,e=512){var o,c;const n=yW(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(o=qo(n))!=null?o:null,i=r&&(c=Pr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function zo(t,e=512){return hf(t,e).thumb}const Da={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},Gw={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Ma({keyName:t,label:e}){const n=hf(t,36);return s.jsxs("div",{className:Fe.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function bW({name:t}){const e=Object.keys(Gw).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=hf(e?Gw[e]:"achiev_generic",16);return s.jsxs("div",{className:Fe.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:Fe.achievImg}),s.jsx("span",{children:t})]})}const jp=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Lx(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function _W(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function wW(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const Ww={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},jW="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function SW(t){const e=t.trim().toLowerCase();return e?jp.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):jp}function NW(){const[t,e]=A.useState(""),[n,r]=A.useState(null),i=SW(t),o=A.useMemo(()=>Math.max(...jp.map(d=>Lx(d.amount))),[]),c=A.useMemo(()=>{const d=new Map;for(const m of i)d.has(m.tier)||d.set(m.tier,[]),d.get(m.tier).push(m);const u=Array.from(new Set(jp.map(m=>m.tier)));return Array.from(d.entries()).sort((m,p)=>u.indexOf(m[0])-u.indexOf(p[0]))},[i]);return s.jsxs("div",{className:Fe.wrap,children:[s.jsxs("div",{className:Fe.headerBar,children:[s.jsx("h2",{className:Fe.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:Fe.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:Fe.description,children:jW}),s.jsx("div",{className:Fe.controls,children:s.jsx("input",{className:Fe.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),s.jsx("div",{className:Fe.tableWrap,children:s.jsxs("table",{className:Fe.table,children:[s.jsx("thead",{className:Fe.thead,children:s.jsxs("tr",{className:Fe.headRow,children:[s.jsx("th",{className:`${Fe.th} ${Fe.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${Fe.th} ${Fe.amountCell}`,children:"Amount"}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.gold,label:"Gold Bonus"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.xp,label:"XP Bonus"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.hp,label:"HP Bonus"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.elem,label:"Elemental Damage"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.item,label:"Improved Item Quality"})}),s.jsx("th",{className:Fe.th,children:s.jsx(Ma,{keyName:Da.epics,label:"Chances of Epics"})}),s.jsx("th",{className:Fe.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([d,u])=>{const m=Math.max(...u.map(p=>Lx(p.amount)));return u.map((p,x)=>{var N,P,I,F,B,T,y,w;const v=Math.abs(Lx(p.amount)-o)<1e-6,j=wW(p.note);return s.jsxs("tr",{className:Fe.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[x===0&&s.jsx("td",{className:`${Fe.td} ${Fe.tierCell} ${Math.abs(m-o)<1e-6?Fe.tierMax:""} ${n===d?Fe.tierCellHover:""}`,rowSpan:u.length,children:s.jsxs("div",{className:Fe.tierBox,children:[s.jsx("div",{className:Fe.tierIcon,children:d.slice(0,1).toUpperCase()}),s.jsxs("div",{className:Fe.tierTexts,children:[s.jsx("div",{className:Fe.tierName,children:d}),Ww[d]&&s.jsx(bW,{name:Ww[d]})]})]})}),s.jsx("td",{className:`${Fe.td} ${Fe.amountCell}`,children:p.amount}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(N=p.gold)!=null?N:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(P=p.xp)!=null?P:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(I=p.hp)!=null?I:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(F=p.totalRes)!=null?F:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(B=p.singleRes)!=null?B:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(T=p.elemDmg)!=null?T:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),s.jsx("td",{className:`${Fe.td} ${Fe.bonusCell}`,children:(w=p.epics)!=null?w:""}),s.jsxs("td",{className:`${Fe.td} ${Fe.tags}`,children:[v&&s.jsx("span",{className:`${Fe.badge} ${Fe.badgeMax}`,children:"MAX"}),_W(p.note)&&s.jsx("span",{className:`${Fe.badge} ${Fe.badgeAchiev}`,children:"Achievement"}),j==="x2"&&s.jsx("span",{className:`${Fe.badge} ${Fe.badgeX2}`,children:"x2"}),j==="x12"&&s.jsx("span",{className:`${Fe.badge} ${Fe.badgeX12}`,children:"x12"}),j==="x60"&&s.jsx("span",{className:`${Fe.badge} ${Fe.badgeX60}`,children:"x60"}),j==="x8"&&s.jsx("span",{className:Fe.badge,children:"x8"})]})]},`${d}-${x}`)})})})]})})]})}const kW="_wrap_zrza7_11",CW="_headerBar_zrza7_15",TW="_title_zrza7_31",EW="_meta_zrza7_33",AW="_centerCol_zrza7_37",IW="_text_zrza7_53",RW="_imageBox_zrza7_55",PW="_imageFallback_zrza7_57",LW="_credit_zrza7_59",Ki={wrap:kW,headerBar:CW,title:TW,meta:EW,centerCol:AW,text:IW,imageBox:RW,imageFallback:PW,credit:LW};function DW(){const t=hf("ambuildorder"),e=A.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=A.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||n||r;return s.jsxs("div",{className:Ki.wrap,children:[s.jsxs("div",{className:Ki.headerBar,children:[s.jsx("h2",{className:Ki.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:Ki.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:Ki.centerCol,children:[s.jsxs("div",{className:Ki.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?s.jsx("div",{className:Ki.imageBox,children:s.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:Ki.imageFallback,children:""}),s.jsxs("p",{className:Ki.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const MW=()=>s.jsx(ns,{title:"Hellevator Guide"}),FW=()=>s.jsx(ns,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),BW=()=>s.jsx(ns,{title:"Event List"}),$W=()=>s.jsx(ns,{title:"Event Cycle"}),VW="_foCalc_18a5w_3",OW="_panel_18a5w_211",UW="_panelHead_18a5w_227",zW="_panelTitle_18a5w_241",HW="_controls_18a5w_243",GW="_ctrlLabel_18a5w_245",WW="_ctrlSelect_18a5w_249",qW="_tableWrap_18a5w_291",KW="_table_18a5w_291",QW="_th_18a5w_305",XW="_td_18a5w_321",YW="_row_18a5w_333",JW="_note_18a5w_335",as={foCalc:VW,panel:OW,panelHead:UW,panelTitle:zW,controls:HW,ctrlLabel:GW,ctrlSelect:WW,tableWrap:qW,table:KW,th:QW,td:XW,row:YW,note:JW},i5={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},gs=(t,e=0)=>t*3600+e*60,se=[gs(0,15),gs(0,31),gs(1,6),gs(2,20),gs(5,0),gs(8,0),gs(11,25),gs(18,27),gs(40,0),gs(87,16),gs(190,46),gs(320,0),gs(480,0),gs(615,33),gs(800,0)],bt=[gs(1054,17),gs(1122,51),gs(1245,42),gs(1343,20),gs(1440,0)],ZW={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:se[0]},{level:2,wood:150,stone:50,gold:20,timeSec:se[1]},{level:3,wood:440,stone:140,gold:30,timeSec:se[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:se[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:se[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:se[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:se[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:se[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:se[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:se[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:se[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:se[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:se[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:se[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:se[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:bt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:bt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:bt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:bt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:bt[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:se[0]},{level:2,wood:138,stone:46,gold:10,timeSec:se[1]},{level:3,wood:406,stone:129,gold:15,timeSec:se[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:se[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:se[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:se[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:se[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:se[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:se[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:se[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:se[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:se[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:se[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:se[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:se[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:se[0]},{level:2,wood:28,stone:37,gold:14,timeSec:se[1]},{level:3,wood:81,stone:103,gold:21,timeSec:se[2]},{level:4,wood:203,stone:246,gold:28,timeSec:se[3]},{level:5,wood:462,stone:591,gold:35,timeSec:se[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:se[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:se[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:se[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:se[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:se[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:se[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:se[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:se[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:se[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:se[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:bt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:bt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:bt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:bt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:bt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:se[0]},{level:2,wood:160,stone:53,gold:50,timeSec:se[1]},{level:3,wood:469,stone:149,gold:75,timeSec:se[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:se[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:se[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:se[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:se[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:se[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:se[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:se[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:se[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:se[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:se[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:se[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:se[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:se[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:se[0]},{level:2,wood:200,stone:67,gold:30,timeSec:se[1]},{level:3,wood:587,stone:187,gold:45,timeSec:se[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:se[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:se[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:se[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:se[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:se[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:se[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:se[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:se[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:se[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:se[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:se[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:se[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:bt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:bt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:bt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:bt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:bt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:gs(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:se[0]},{level:2,wood:30,stone:20,gold:4,timeSec:se[1]},{level:3,wood:88,stone:56,gold:6,timeSec:se[2]},{level:4,wood:220,stone:133,gold:8,timeSec:se[3]},{level:5,wood:500,stone:320,gold:10,timeSec:se[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:se[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:se[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:se[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:se[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:se[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:se[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:se[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:se[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:se[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:se[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:bt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:bt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:bt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:bt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:bt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:se[0]},{level:2,wood:90,stone:16,gold:6,timeSec:se[1]},{level:3,wood:264,stone:45,gold:9,timeSec:se[2]},{level:4,wood:660,stone:107,gold:12,timeSec:se[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:se[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:se[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:se[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:se[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:se[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:se[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:se[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:se[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:se[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:se[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:se[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:bt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:bt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:bt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:bt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:bt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:se[0]},{level:2,wood:82,stone:55,gold:8,timeSec:se[1]},{level:3,wood:240,stone:153,gold:12,timeSec:se[2]},{level:4,wood:600,stone:364,gold:16,timeSec:se[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:se[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:se[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:se[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:se[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:se[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:se[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:se[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:se[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:se[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:se[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:se[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:se[0]},{level:2,wood:100,stone:33,gold:8,timeSec:se[1]},{level:3,wood:293,stone:93,gold:12,timeSec:se[2]},{level:4,wood:733,stone:222,gold:16,timeSec:se[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:se[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:se[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:se[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:se[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:se[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:se[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:se[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:se[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:se[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:se[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:se[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:bt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:bt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:bt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:bt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:bt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:se[0]},{level:2,wood:240,stone:61,gold:12,timeSec:se[1]},{level:3,wood:675,stone:205,gold:18,timeSec:se[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:se[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:se[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:se[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:se[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:se[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:se[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:se[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:se[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:se[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:se[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:se[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:se[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:se[0]},{level:2,wood:164,stone:27,gold:10,timeSec:se[1]},{level:3,wood:480,stone:76,gold:15,timeSec:se[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:se[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:se[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:se[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:se[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:se[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:se[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:se[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:se[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:se[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:se[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:se[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:se[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:se[0]},{level:2,wood:120,stone:53,gold:30,timeSec:se[1]},{level:3,wood:352,stone:149,gold:45,timeSec:se[2]},{level:4,wood:880,stone:356,gold:60,timeSec:se[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:se[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:se[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:se[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:se[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:se[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:se[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:se[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:se[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:se[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:se[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:se[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:bt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:bt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:bt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:bt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:bt[4]}]}},eq=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],tq="fortress",sq={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function nq(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function qw(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,o=c=>c.toString().padStart(2,"0");return`${o(n)}:${o(r)}:${o(i)}`}const rq=()=>{const[t,e]=A.useState(tq),[n,r]=A.useState(1),i=A.useMemo(()=>{var p;const d=sq[t],u=i5[d],m=(p=u==null?void 0:u.id)!=null?p:u;return qo.gifProxy(m)||qo.gif(m)||""},[t]),o=A.useMemo(()=>{var d,u;return(u=(d=ZW[t])==null?void 0:d.costs)!=null?u:[]},[t]),c=A.useMemo(()=>nq(n),[n]);return s.jsxs("div",{className:`${as.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:eq.map(d=>s.jsx("option",{value:d.key,children:d.label},d.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:as.panel,children:[s.jsxs("div",{className:as.panelHead,children:[s.jsxs("div",{className:as.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:as.controls,children:[s.jsx("span",{className:as.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:as.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,u)=>u).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:as.tableWrap,children:s.jsxs("table",{className:as.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:as.th,children:"Level"}),s.jsx("th",{className:as.th,children:"Wood"}),s.jsx("th",{className:as.th,children:"Stone"}),s.jsx("th",{className:as.th,children:"Build Time"}),s.jsx("th",{className:as.th,children:"Build Time (L2)"}),s.jsx("th",{className:as.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:o.map(d=>{var x,v,j,N,P,I,F;const u=(x=d.timeSec)!=null?x:0,m=Math.round(u*(1-c)),p=Math.ceil(Math.ceil(m/60)/10);return s.jsxs("tr",{className:as.row,children:[s.jsx("td",{className:as.td,children:d.level}),s.jsx("td",{className:as.td,children:(N=(j=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:j.call(v))!=null?N:d.wood}),s.jsx("td",{className:as.td,children:(F=(I=(P=d.stone)==null?void 0:P.toLocaleString)==null?void 0:I.call(P))!=null?F:d.stone}),s.jsx("td",{className:as.td,children:qw(u)}),s.jsx("td",{className:as.td,children:qw(m)}),s.jsx("td",{className:as.td,children:p.toLocaleString()})]},d.level)})})]})}),s.jsx("div",{className:as.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},iq="_uwCalc_64lws_3",aq="_panel_64lws_211",oq="_panelHead_64lws_227",lq="_panelTitle_64lws_241",cq="_controls_64lws_243",dq="_ctrlLabel_64lws_245",uq="_ctrlSelect_64lws_251",hq="_tableWrap_64lws_295",mq="_table_64lws_295",pq="_th_64lws_309",fq="_td_64lws_325",gq="_row_64lws_337",xq="_note_64lws_339",Xt={uwCalc:iq,panel:aq,panelHead:oq,panelTitle:lq,controls:cq,ctrlLabel:dq,ctrlSelect:uq,tableWrap:hq,table:mq,th:pq,td:fq,row:gq,note:xq},vq={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},yq={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function bq(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function _q(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),o=n%60;return{h:r,m:i,s:o}}function Kw(t){const{h:e,m:n,s:r}=_q(t),i=o=>String(o).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function wq(t,e){var i,o;const n=bq(e);return((o=(i=yq[t])==null?void 0:i.costs)!=null?o:[]).map(c=>{const d=c.timeSec*(1-n),u=Math.ceil(Math.ceil(d/60)/10);return{...c,timeAdjSec:d,skipMushroomsAdj:u}})}const jq=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],Sq=()=>{const[t,e]=A.useState("hearthofdarkngif"),[n,r]=A.useState(1),i=A.useMemo(()=>{var m;const d=i5[t],u=(m=d==null?void 0:d.id)!=null?m:d;return qo.gifProxy(u)||qo.gif(u)||""},[t]),o=A.useMemo(()=>{var d;return(d=vq[t])!=null?d:"hearthofdarkn"},[t]),c=A.useMemo(()=>wq(o,n),[o,n]);return s.jsxs("div",{className:Xt.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:jq.map(d=>s.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:Xt.panel,children:[s.jsxs("div",{className:Xt.panelHead,children:[s.jsxs("div",{className:Xt.panelTitle,children:["Underworld  ",o]}),s.jsxs("div",{className:Xt.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:Xt.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:Xt.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,u)=>u+1).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:Xt.tableWrap,children:s.jsxs("table",{className:Xt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Xt.th,children:"Level"}),s.jsx("th",{className:Xt.th,children:"Soul"}),s.jsx("th",{className:Xt.th,children:"Gold"}),s.jsx("th",{className:Xt.th,children:"Build Time"}),s.jsx("th",{className:Xt.th,children:"Build Time (L2)"}),s.jsx("th",{className:Xt.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:c.length===0?s.jsx("tr",{className:Xt.row,children:s.jsx("td",{className:Xt.td,colSpan:6,children:"No data for this building yet."})}):c.map(d=>s.jsxs("tr",{className:Xt.row,children:[s.jsx("td",{className:Xt.td,children:d.level}),s.jsx("td",{className:Xt.td,children:d.soul}),s.jsx("td",{className:Xt.td,children:d.gold}),s.jsx("td",{className:Xt.td,children:Kw(d.timeSec)}),s.jsx("td",{className:Xt.td,children:Kw(d.timeAdjSec)}),s.jsx("td",{className:Xt.td,children:d.skipMushroomsAdj})]},d.level))})]})}),s.jsx("p",{className:Xt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},Nq=()=>s.jsx(ns,{title:"Max Item Stats Calculator"}),kq="_wrap_1jk12_1",Cq="_card_1jk12_7",Tq="_title_1jk12_17",Eq="_form_1jk12_23",Aq="_field_1jk12_29",Iq="_input_1jk12_36",Rq="_gemsRow_1jk12_44",Pq="_gemBox_1jk12_51",Lq="_disabled_1jk12_64",Dq="_gemImg_1jk12_68",Mq="_gemFallback_1jk12_75",Fq="_normalGem_1jk12_83",Bq="_blackGem_1jk12_87",$q="_legendaryGem_1jk12_91",Vq="_gemLabel_1jk12_95",Oq="_gemValue_1jk12_100",Uq="_hint_1jk12_106",Nt={wrap:kq,card:Cq,title:Tq,form:Eq,field:Aq,input:Iq,gemsRow:Rq,gemBox:Pq,disabled:Lq,gemImg:Dq,gemFallback:Mq,normalGem:Fq,blackGem:Bq,legendaryGem:$q,gemLabel:Vq,gemValue:Oq,hint:Uq},zq={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},Hq=.25,Sp=t=>Math.round(Number.isFinite(t)?t:0);function Gq(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const I=e*Hq*(1+(n-1)*.25)+r/3;return Sp(I)}const{A:i,B:o,C:c,D:d,E:u,F:m,G:p,H:x,I:v,J:j}=zq,P=i+o*e+c/n+d*e**2+u/n**2+m*e/n+p*e**3+x/n**3+v*e/n**2+j*e**2/n+r/3;return Sp(P)}function Wq(t){return Sp(t*(2/3))}function qq(t){return Sp(t)}const Dx={char:1e3,mine:100,hok:1e3},Kq=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,o]=A.useState(""),c=A.useMemo(()=>t===""||n===""||i===""?null:Gq({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(i)}),[t,n,i]),d=A.useMemo(()=>c==null?null:Wq(c),[c]),u=A.useMemo(()=>c==null?null:qq(c),[c]),m=zo("luckbig"),p=zo("blackbig"),x=zo("legendarybig");return s.jsx("div",{className:Nt.wrap,children:s.jsxs("div",{className:Nt.card,children:[s.jsx("h2",{className:Nt.title,children:"Gem Calculator"}),s.jsxs("div",{className:Nt.form,children:[s.jsxs("label",{className:Nt.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Nt.input,placeholder:"e.g., 360",value:t,onChange:v=>{const j=v.currentTarget.value;if(j==="")return e("");const N=Number(j);e(Number.isFinite(N)?N:"")},max:Dx.char})]}),s.jsxs("label",{className:Nt.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Nt.input,placeholder:"e.g., 10",value:n,onChange:v=>{const j=v.currentTarget.value;if(j==="")return r("");const N=Number(j);r(Number.isFinite(N)?N:"")},max:Dx.mine})]}),s.jsxs("label",{className:Nt.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Nt.input,placeholder:"e.g., 840",value:i,onChange:v=>{const j=v.currentTarget.value;if(j==="")return o("");const N=Number(j);o(Number.isFinite(N)?N:"")},max:Dx.hok})]})]}),s.jsxs("div",{className:Nt.gemsRow,children:[s.jsxs("div",{className:`${Nt.gemBox} ${c==null?Nt.disabled:""}`,children:[m?s.jsx("img",{className:Nt.gemImg,src:m,alt:"Normal Gem"}):s.jsx("div",{className:`${Nt.gemFallback} ${Nt.normalGem}`}),s.jsx("div",{className:Nt.gemLabel,children:"Normal"}),s.jsx("div",{className:Nt.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${Nt.gemBox} ${d==null?Nt.disabled:""}`,children:[p?s.jsx("img",{className:Nt.gemImg,src:p,alt:"Black Gem"}):s.jsx("div",{className:`${Nt.gemFallback} ${Nt.blackGem}`}),s.jsx("div",{className:Nt.gemLabel,children:"Black"}),s.jsx("div",{className:Nt.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${Nt.gemBox} ${u==null?Nt.disabled:""}`,children:[x?s.jsx("img",{className:Nt.gemImg,src:x,alt:"Legendary Gem"}):s.jsx("div",{className:`${Nt.gemFallback} ${Nt.legendaryGem}`}),s.jsx("div",{className:Nt.gemLabel,children:"Legendary"}),s.jsx("div",{className:Nt.gemValue,children:u!=null?u:""})]})]}),s.jsxs("p",{className:Nt.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},Qq="_container_14xll_1",Xq="_headerBar_14xll_7",Yq="_title_14xll_16",Jq="_meta_14xll_24",Zq="_description_14xll_30",Ed={container:Qq,headerBar:Xq,title:Yq,meta:Jq,description:Zq},a5=({title:t,meta:e,description:n})=>s.jsxs("header",{className:Ed.container,children:[s.jsxs("div",{className:Ed.headerBar,children:[s.jsx("h2",{className:Ed.title,children:t}),e&&s.jsx("span",{className:Ed.meta,children:e})]}),n&&s.jsx("p",{className:Ed.description,children:n})]}),eK=()=>s.jsxs(s.Fragment,{children:[s.jsx(a5,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:s.jsxs(s.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]})}),s.jsx(Kq,{})]}),tK="_wrapper_8h2ge_1",sK="_panel_8h2ge_6",nK="_header_8h2ge_14",rK="_title_8h2ge_21",iK="_resetBtn_8h2ge_27",aK="_table_8h2ge_37",oK="_row_8h2ge_50",lK="_name_8h2ge_58",cK="_selectCell_8h2ge_63",dK="_sumCell_8h2ge_72",uK="_footer_8h2ge_78",hK="_footerLine_8h2ge_88",mK="_note_8h2ge_94",xs={wrapper:tK,panel:sK,header:nK,title:rK,resetBtn:iK,table:aK,row:oK,name:lK,selectCell:cK,sumCell:dK,footer:uK,footerLine:hK,note:mK};function Zd(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let o=0;for(let d=r;d<=i;d++)o+=(c=t[d])!=null?c:0;return o}function pK(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function lt(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const fK=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:lt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:lt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:lt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:lt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:lt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:lt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:lt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:lt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:lt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)}],gK=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:lt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:lt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:lt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:lt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:lt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:lt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:lt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:lt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:lt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:lt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:lt([0,0,0,0,0,0,0,0,0,0],10)}],Qw=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],xK=(()=>{const t=[0,...Qw],e=1e3-Qw.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),vK=lt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),yK=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),ea={light:fK.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:gK.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:xK,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:vK,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:yK,specialType:"sandstorm"}]},Np=t=>t.toLocaleString("en-US");function Xw(){const t={},e={},n={};return ea.light.forEach(r=>t[r.key]={from:0,to:0}),ea.shadow.forEach(r=>e[r.key]={from:0,to:0}),ea.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function o5({row:t,range:e,onChange:n}){var d,u;const r=A.useMemo(()=>pK(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,o=(u=e.to)!=null?u:0,c=A.useMemo(()=>i===0||o===0?0:Zd(t.levels,i,o),[t.levels,i,o]);return s.jsxs("tr",{className:xs.row,children:[s.jsx("td",{className:xs.name,children:t.name}),s.jsx("td",{className:xs.selectCell,children:s.jsx("select",{value:i,onChange:m=>n({from:Number(m.target.value),to:o}),children:r.map(m=>s.jsx("option",{value:m,children:m===0?"":m},m))})}),s.jsx("td",{className:xs.selectCell,children:s.jsx("select",{value:o,onChange:m=>n({from:i,to:Number(m.target.value)}),children:r.map(m=>s.jsx("option",{value:m,children:m===0?"":m},m))})}),s.jsxs("td",{className:xs.sumCell,children:[Np(c)," XP"]})]})}function Yw({title:t,rows:e,ranges:n,setRanges:r}){const i=A.useMemo(()=>e.reduce((o,c)=>{const d=n[c.key]||{from:0,to:0};return o+Zd(c.levels,d.from,d.to)},0),[e,n]);return s.jsxs("div",{className:xs.panel,children:[s.jsx("div",{className:xs.header,children:s.jsx("div",{className:xs.title,children:t})}),s.jsxs("table",{className:xs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(o=>{var c;return s.jsx(o5,{row:o,range:(c=n[o.key])!=null?c:{from:0,to:0},onChange:d=>r(o.key,d)},o.key)})})]}),s.jsx("div",{className:xs.footer,children:s.jsxs("div",{className:xs.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[Np(i)," XP"]})]})})]})}function bK(){const t=Xw(),[e,n]=A.useState(t.light),[r,i]=A.useState(t.shadow),[o,c]=A.useState(t.special),d=A.useMemo(()=>ea.light.reduce((v,j)=>{const N=e[j.key];return v+(N?Zd(j.levels,N.from,N.to):0)},0),[e]),u=A.useMemo(()=>ea.shadow.reduce((v,j)=>{const N=r[j.key];return v+(N?Zd(j.levels,N.from,N.to):0)},0),[r]),m=A.useMemo(()=>ea.special.reduce((v,j)=>{const N=o[j.key];return v+(N?Zd(j.levels,N.from,N.to):0)},0),[o]),p=d+u+m,x=()=>{const v=Xw();n(v.light),i(v.shadow),c(v.special)};return s.jsxs("div",{className:xs.wrapper,children:[s.jsx(Yw,{title:"Light World",rows:ea.light,ranges:e,setRanges:(v,j)=>n(N=>({...N,[v]:j}))}),s.jsx(Yw,{title:"Shadow World",rows:ea.shadow,ranges:r,setRanges:(v,j)=>i(N=>({...N,[v]:j}))}),s.jsxs("div",{className:xs.panel,children:[s.jsxs("div",{className:xs.header,children:[s.jsx("div",{className:xs.title,children:"Special Dungeons"}),s.jsx("button",{className:xs.resetBtn,onClick:x,children:"RESET"})]}),s.jsxs("table",{className:xs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:ea.special.map(v=>{var j;return s.jsx(o5,{row:v,range:(j=o[v.key])!=null?j:{from:0,to:0},onChange:N=>c(P=>({...P,[v.key]:N}))},v.key)})})]}),s.jsxs("div",{className:xs.footer,children:[s.jsxs("div",{className:xs.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[Np(m)," XP"]})]}),s.jsxs("div",{className:xs.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[Np(p)," XP"]})]}),s.jsxs("div",{className:xs.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function _K(){return s.jsx("div",{style:{padding:12},children:s.jsx(bK,{})})}const wK=()=>s.jsx(ns,{title:"Progression  Early Game"}),jK="_wrap_n2poq_31",SK="_title_n2poq_33",NK="_infoBox_n2poq_39",kK="_infoTitle_n2poq_63",CK="_infoList_n2poq_73",TK="_section_n2poq_89",EK="_h2_n2poq_101",AK="_h3_n2poq_103",IK="_intro_n2poq_105",RK="_ul_n2poq_107",PK="_img_n2poq_113",Bt={wrap:jK,title:SK,infoBox:NK,infoTitle:kK,infoList:CK,section:TK,h2:EK,h3:AK,intro:IK,ul:RK,img:PK},LK=()=>{Xo();const t=[zo("first-weekend-guide-day1",900),zo("first-weekend-guide-day2",900),zo("first-weekend-guide-day3",900)];return s.jsxs("div",{className:Bt.wrap,children:[s.jsx("h1",{className:Bt.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:Bt.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:Bt.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:Bt.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:Bt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Day 1"}),s.jsx("h3",{className:Bt.h3,children:"Level 13"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:Bt.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h3",{className:Bt.h3,children:"Level 410"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Day 2"}),s.jsx("h3",{className:Bt.h3,children:"Level 1015"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:Bt.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:Bt.section,children:[s.jsx("h2",{className:Bt.h2,children:"Day 3"}),s.jsx("h3",{className:Bt.h3,children:"Level 1520"}),s.jsxs("ul",{className:Bt.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:Bt.img,src:t[2],alt:"Day 3 overview"})]})]})},DK=()=>s.jsx(ns,{title:"Max Item Stats Calculator"}),MK=()=>s.jsx(ns,{title:"Fortress Package skip order (Early)"}),FK=()=>s.jsx(ns,{title:"Underworld Pro Package skip order (Early)"}),BK=()=>s.jsx(ns,{title:"Gem Calculator (Early)"}),$K=()=>s.jsx(ns,{title:"Fortress attack duplication guide (Early)"}),VK=()=>s.jsx(ns,{title:"Progression  Mid Game"}),OK="_wrap_1x7jo_31",UK="_header_1x7jo_35",zK="_titles_1x7jo_55",HK="_h1_1x7jo_57",GK="_lead_1x7jo_59",WK="_ctaRow_1x7jo_63",qK="_cta_1x7jo_63",KK="_section_1x7jo_85",QK="_sectionGrid_1x7jo_87",XK="_card_1x7jo_99",YK="_h2_1x7jo_103",JK="_h3_1x7jo_105",ZK="_p_1x7jo_107",eQ="_ul_1x7jo_111",tQ="_ol_1x7jo_111",sQ="_figure_1x7jo_117",nQ="_figureNarrow_1x7jo_139",rQ="_img_1x7jo_149",iQ="_fallbackImg_1x7jo_151",aQ="_figCaption_1x7jo_159",oQ="_tableWrap_1x7jo_163",lQ="_table_1x7jo_163",cQ="_footer_1x7jo_217",dQ="_tools_1x7jo_219",uQ="_toolBtn_1x7jo_221",ft={wrap:OK,header:UK,titles:zK,h1:HK,lead:GK,ctaRow:WK,cta:qK,section:KK,sectionGrid:QK,card:XK,h2:YK,h3:JK,p:ZK,ul:eQ,ol:tQ,figure:sQ,figureNarrow:nQ,img:rQ,fallbackImg:iQ,figCaption:aQ,tableWrap:oQ,table:lQ,footer:cQ,tools:dQ,toolBtn:uQ},hQ=1400;function mQ(){const t=A.useMemo(()=>zo("goldxpcurve",hQ),[]);return s.jsxs("div",{className:ft.wrap,children:[s.jsxs("header",{className:ft.header,children:[s.jsxs("div",{className:ft.titles,children:[s.jsx("h1",{className:ft.h1,children:"Dungeon Pause"}),s.jsx("p",{className:ft.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:ft.ctaRow,children:[s.jsx(Mt,{className:ft.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(Mt,{className:ft.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:ft.section,children:[s.jsx("h2",{className:ft.h2,children:"Worum gehts?"}),s.jsxs("p",{className:ft.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:ft.section,children:[s.jsx("h3",{className:ft.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${ft.figure} ${ft.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:ft.img}):s.jsx("div",{className:ft.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:ft.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:ft.sectionGrid,children:[s.jsxs("div",{className:ft.card,children:[s.jsx("h3",{className:ft.h3,children:"Start & Ende"}),s.jsxs("ul",{className:ft.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:ft.card,children:[s.jsx("h3",{className:ft.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:ft.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:ft.section,children:[s.jsx("h3",{className:ft.h3,children:"Vorgehen"}),s.jsxs("ol",{className:ft.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:ft.section,children:[s.jsx("h3",{className:ft.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:ft.tableWrap,children:s.jsxs("table",{className:ft.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:ft.footer,children:s.jsxs("div",{className:ft.tools,children:[s.jsx(Mt,{className:ft.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(Mt,{className:ft.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const pQ=()=>s.jsx(ns,{title:"Dungeon Pause open XP Calculator"}),fQ="_wrap_1uhww_3",gQ="_headerBar_1uhww_15",xQ="_title_1uhww_33",vQ="_meta_1uhww_45",yQ="_description_1uhww_55",bQ="_section_1uhww_69",_Q="_sectionTitle_1uhww_77",wQ="_steps_1uhww_87",yi={wrap:fQ,headerBar:gQ,title:xQ,meta:vQ,description:yQ,section:bQ,sectionTitle:_Q,steps:wQ};function jQ(){return s.jsxs("div",{className:yi.wrap,children:[s.jsxs("div",{className:yi.headerBar,children:[s.jsx("h2",{className:yi.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:yi.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:yi.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:yi.section,children:[s.jsx("h3",{className:yi.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:yi.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:yi.section,children:[s.jsx("h3",{className:yi.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const SQ=()=>s.jsx(ns,{title:"Gem Calculator (Mid)"}),NQ=()=>s.jsx(ns,{title:"Calendar Skip"}),kQ=()=>s.jsx(ns,{title:"Progression  Late Game"}),CQ="_layout_13sgm_29",TQ="_side_13sgm_49",EQ="_sideHead_13sgm_61",AQ="_search_13sgm_71",IQ="_spotBtn_13sgm_89",RQ="_sideList_13sgm_109",PQ="_sideItem_13sgm_111",LQ="_active_13sgm_119",DQ="_sideTitle_13sgm_121",MQ="_ico_13sgm_123",FQ="_badge_13sgm_125",BQ="_detail_13sgm_139",$Q="_detailInner_13sgm_141",VQ="_detailHead_13sgm_143",OQ="_detailTitle_13sgm_145",UQ="_empty_13sgm_147",zQ="_grid_13sgm_151",HQ="_card_13sgm_157",GQ="_cardHead_13sgm_175",WQ="_btnGrid_13sgm_177",qQ="_itemBtn_13sgm_179",KQ="_spotWrap_13sgm_203",QQ="_spot_13sgm_89",XQ="_spotHead_13sgm_227",YQ="_spotSearch_13sgm_235",JQ="_spotClose_13sgm_243",ZQ="_spotList_13sgm_253",eX="_spotItem_13sgm_255",tX="_spotItemEmpty_13sgm_259",sX="_spotCat_13sgm_261",nX="_spotLabel_13sgm_263",rX="_mark_13sgm_267",ht={layout:CQ,side:TQ,sideHead:EQ,search:AQ,spotBtn:IQ,sideList:RQ,sideItem:PQ,active:LQ,sideTitle:DQ,ico:MQ,badge:FQ,detail:BQ,detailInner:$Q,detailHead:VQ,detailTitle:OQ,empty:UQ,grid:zQ,card:HQ,cardHead:GQ,btnGrid:WQ,itemBtn:qQ,spotWrap:KQ,spot:QQ,spotHead:XQ,spotSearch:YQ,spotClose:JQ,spotList:ZQ,spotItem:eX,spotItemEmpty:tX,spotCat:sX,spotLabel:nX,mark:rX};function iX(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ad(t,e){if(!e)return t;const n=new RegExp(`(${iX(e)})`,"ig");return t.replace(n,`<mark class="${ht.mark}">$1</mark>`)}function Jw(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function aX(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of i.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${i.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else for(const c of i.sub2)e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function oX(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const lX=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=A.useState(()=>{var B;return((B=t==null?void 0:t[0])==null?void 0:B.key)||""}),[o,c]=A.useState(""),[d,u]=A.useState(!1),m=A.useRef(null),p=A.useMemo(()=>{const B=o.trim().toLowerCase();if(!B)return t;const T=y=>y.toLowerCase().includes(B);return t.map(y=>{const w=T(y.label),M=[];for(const C of y.sub||[]){const _=T(C.label);if(C.sub2&&C.sub2.length)if(C.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const R of C.sub2)if(R.sub2&&R.sub2.length){const V=R.sub2.filter($=>T($.label));V.length&&L.push({...R,sub2:V})}else T(R.label)&&L.push(R);(_||L.length)&&M.push({...C,sub2:L})}else{const L=C.sub2.filter(R=>T(R.label));(_||L.length)&&M.push({...C,sub2:L})}else _&&M.push(C)}return w||M.length?{...y,sub:M.length?M:y.sub}:null}).filter(Boolean)},[t,o]),x=A.useMemo(()=>{const B=p.length?p:t,T=oX(B,r);return B.find(y=>y.key===T)||B[0]||null},[p,t,r]),v=A.useMemo(()=>aX(t),[t]),[j,N]=A.useState(""),P=A.useMemo(()=>{const B=j.trim().toLowerCase();return B?v.filter(T=>T.full.toLowerCase().includes(B)):v},[v,j]);A.useEffect(()=>{const B=T=>{const y=T.key.toLowerCase()==="k";(T.metaKey||T.ctrlKey)&&y&&(T.preventDefault(),u(!0),setTimeout(()=>{var w;return(w=m.current)==null?void 0:w.focus()},0)),T.key==="Escape"&&u(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[]);const I=A.useRef(null);A.useEffect(()=>{var B;n&&((B=I.current)==null||B.focus())},[n]);const F=()=>{var M;const B=o.trim().toLowerCase(),T=(B?v.find(C=>C.full.toLowerCase().includes(B)):v[0])||null;if(T){e({tab:T.catKey,sub:T.subKey,sub2:T.sub2Key});return}const y=x,w=(M=y==null?void 0:y.sub)==null?void 0:M[0];if(!(!y||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(_=>_.sub2&&_.sub2.length)){const _=w.sub2[0];_.sub2&&_.sub2.length?e({tab:y.key,sub:w.key,sub2:_.sub2[0].key}):e({tab:y.key,sub:w.key,sub2:_.key})}else e({tab:y.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:y.key,sub:w.key})};return s.jsxs("div",{className:ht.layout,children:[s.jsxs("div",{className:ht.side,children:[s.jsxs("div",{className:ht.sideHead,children:[s.jsx("input",{ref:I,className:ht.search,type:"search",placeholder:"Suche",value:o,onChange:B=>c(B.target.value),onKeyDown:B=>{B.key==="Enter"&&F()}}),s.jsx("button",{className:ht.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var B;return(B=m.current)==null?void 0:B.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:ht.sideList,children:(p.length?p:t).map(B=>s.jsxs("div",{className:`${ht.sideItem} ${(x==null?void 0:x.key)===B.key?ht.active:""}`,onClick:()=>i(B.key),children:[s.jsxs("span",{className:ht.sideTitle,children:[B.icon?s.jsx("span",{className:ht.ico,"aria-hidden":!0,children:B.icon}):null,B.label]}),s.jsx("span",{className:ht.badge,children:Jw(B.sub)})]},B.key))})]}),s.jsx("div",{className:ht.detail,children:x?s.jsxs("div",{className:ht.detailInner,children:[s.jsxs("div",{className:ht.detailHead,children:[s.jsxs("h3",{className:ht.detailTitle,children:[x.icon?s.jsx("span",{className:ht.ico,"aria-hidden":!0,children:x.icon}):null,x.label]}),s.jsxs("div",{className:ht.badge,children:[Jw(x.sub)," Eintrge"]})]}),s.jsx("div",{className:ht.grid,children:(x.sub||[]).map(B=>{const T=B.sub2&&B.sub2.length>0,y=T&&B.sub2.some(w=>w.sub2&&w.sub2.length);return s.jsxs("div",{className:ht.card,children:[s.jsx("div",{className:ht.cardHead,dangerouslySetInnerHTML:{__html:Ad(B.label,o)}}),T?s.jsx("div",{className:ht.btnGrid,children:y?B.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(M=>s.jsx("button",{className:ht.itemBtn,onClick:()=>e({tab:x.key,sub:B.key,sub2:M.key}),dangerouslySetInnerHTML:{__html:Ad(`${w.label}  ${M.label}`,o)}},`${w.key}__${M.key}`)):[s.jsx("button",{className:ht.itemBtn,onClick:()=>e({tab:x.key,sub:B.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Ad(w.label,o)}},w.key)]):B.sub2.map(w=>s.jsx("button",{className:ht.itemBtn,onClick:()=>e({tab:x.key,sub:B.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Ad(w.label,o)}},w.key))}):s.jsx("div",{className:ht.btnGrid,children:s.jsx("button",{className:ht.itemBtn,onClick:()=>e({tab:x.key,sub:B.key}),dangerouslySetInnerHTML:{__html:Ad(B.label,o)}})})]},B.key)})}),o&&x.sub&&x.sub.length>0&&x.sub.every(B=>!B.sub2||!B.sub2.length?!B.label.toLowerCase().includes(o.trim().toLowerCase()):B.sub2.some(y=>y.sub2&&y.sub2.length)?B.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(w=>!w.label.toLowerCase().includes(o.trim().toLowerCase())):!y.label.toLowerCase().includes(o.trim().toLowerCase())):B.sub2.every(y=>!y.label.toLowerCase().includes(o.trim().toLowerCase())))?s.jsxs("div",{className:ht.empty,children:["Keine Treffer in ",x.label,"."]}):null]}):s.jsx("div",{className:ht.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:ht.spotWrap,onClick:()=>u(!1),children:s.jsxs("div",{className:ht.spot,onClick:B=>B.stopPropagation(),children:[s.jsxs("div",{className:ht.spotHead,children:[s.jsx("input",{ref:m,className:ht.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:j,onChange:B=>N(B.target.value)}),s.jsx("button",{className:ht.spotClose,onClick:()=>u(!1),children:"Esc"})]}),s.jsx("div",{className:ht.spotList,children:P.length===0?s.jsx("div",{className:ht.spotItemEmpty,children:"Keine Treffer"}):P.map((B,T)=>s.jsxs("div",{className:ht.spotItem,onClick:()=>{u(!1),e({tab:B.catKey,sub:B.subKey,sub2:B.sub2Key})},children:[s.jsx("div",{className:ht.spotCat,children:B.catKey}),s.jsx("div",{className:ht.spotLabel,children:B.full})]},T))})]})})]})},cX={gamefeatures:eG,progression:tG,hellevator:sG,"legendary-dungeon":nG,events:rG,calculators:xG,infographics:vG,"class-book":yG,dungeons:bG},Zw={gamefeatures:{fortress:_G,underworld:MG,arenaam:$G},hellevator:{"hellevator-guide":MW},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":FW},events:{"event-list":BW,"event-cycle":$W},calculators:{"fortress-calculator":rq,"underworld-calculator":Sq,"max-item-stats-calculator":Nq,"gem-calculator":eK,"dungeon-pause-open-xp-calculator":_K},progression:{early:wK,mid:VK,late:kQ}},Mx={gamefeatures:{arenaam:{"am-rune-bonuses":NW,"am-build-order":DW},underworld:{"underworld-calculator":FG,"underworld-pro-package-skip-order":BG},fortress:{"fortress-calculator":wG,"fortress-package-skip-order":LG,"fortress-attack-duplication":DG}},progression:{early:{"first-weekend-guide":LK,"max-item-stats-calculator":DK,"fortress-package-skip-order":MK,"underworld-pro-package-skip-order":FK,"gem-calculator":BK,"fortress-attack-duplication":$K},mid:{"dungeon-pause":mQ,"dungeon-pause-open-xp-calculator":pQ,"dungeon-pause-exit":jQ,"gem-calculator":SQ,"calendar-skip":NQ}}};function dX(){const[t,e]=Xo(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let o=null;n?n&&!r?o=cX[n]||null:n&&r&&!i?o=Zw[n]&&Zw[n][r]||null:n&&r&&i&&(o=Mx[n]&&Mx[n][r]&&Mx[n][r][i]||null):o=null;const c=d=>{const u=new URLSearchParams(t);u.set("tab",d.tab),d.sub?u.set("sub",d.sub):u.delete("sub"),d.sub2?u.set("sub2",d.sub2):u.delete("sub2"),e(u,{replace:!1})};return s.jsxs(vt,{children:[s.jsx("div",{className:Wl.topWrap,children:s.jsx(WH,{logoSrc:ZH,categories:Hw,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:Wl.divider}),s.jsx("div",{className:Wl.contentArea,children:o?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Wl.placeholder,children:[s.jsx("h2",{className:Wl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:Wl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(lX,{categories:Hw,onNavigate:c,autoFocusSearch:!1})]})})]})}const uX="_wrap_1353r_1",hX="_centerLogoWrap_1353r_21",mX="_centerLogoLink_1353r_37",pX="_centerLogo_1353r_21",fX="_arc_1353r_71",gX="_left_1353r_73",xX="_right_1353r_75",vX="_sub_1353r_77",yX="_full_1353r_79",bX="_arcItem_1353r_81",_X="_iconBtn_1353r_87",wX="_active_1353r_141",jX="_iconImg_1353r_151",SX="_placeholderIcon_1353r_155",NX="_placeholderText_1353r_173",kX="_iconLabel_1353r_177",Js={wrap:uX,centerLogoWrap:hX,centerLogoLink:mX,centerLogo:pX,arc:fX,left:gX,right:xX,sub:vX,full:yX,arcItem:bX,iconBtn:_X,active:wX,iconImg:jX,placeholderIcon:SX,placeholderText:NX,iconLabel:kX},CX=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Wn();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),p=new URL(t,window.location.origin).searchParams,x=p.get("tab"),v=p.get("sub");o=r==="sub"?d===x&&!!v&&u===v:d===x}catch(c){o=!1}return s.jsxs(Mt,{to:t,"aria-label":e,className:[Js.iconBtn,r==="sub"?Js.muted:"",o?Js.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Js.iconImg}):s.jsx("div",{className:Js.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Js.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Js.iconLabel,children:e})]})},Fx=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440})=>{const d=A.useMemo(()=>{const m=t.length;if(m===0)return[];let p=-90,x=90;e==="left"?(p=90,x=270):e==="sub"?n==="left"?(p=90,x=270):(p=-90,x=90):e==="full"&&(p=0,x=360);const v=(x-p)/(m+1),j=r?190:250;return t.map((N,P)=>{const F=(p+v*(P+1))*Math.PI/180;return{it:N,x:Math.cos(F)*j,y:Math.sin(F)*j}})},[t,e,n,r]),u=(()=>{const m={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?m.left=`calc(50% - ${o}px)`:e==="right"?m.left=`calc(50% + ${o}px)`:e==="sub"&&(m.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),m})();return s.jsx("div",{className:[Js.arc,e==="left"?Js.left:"",e==="right"?Js.right:"",e==="sub"?Js.sub:"",e==="full"?Js.full:""].join(" "),style:u,children:d.map(({it:m,x:p,y:x})=>s.jsx("div",{className:Js.arcItem,style:{transform:`translate(${p}px, ${x}px)`},children:s.jsx(CX,{to:m.to,label:m.label,icon:m.icon,variant:i})},m.key))})},TX=["creators","scans","predictions","news","records","feedback"],Vv=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],EX={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},AX=new Set(TX),IX=Vv.reduce((t,e)=>(t[e.key]=e,t),{}),RX=t=>typeof t=="string"&&AX.has(t),PX=({logoSrc:t})=>{const[e]=Xo(),n=e.get("tab")||null,r=A.useMemo(()=>Vv.filter(j=>j.side==="left"),[]),i=A.useMemo(()=>Vv.filter(j=>j.side==="right"),[]),o=RX(n)?n:null,c=o?EX[o]:[],d=o?IX[o].side:"right",u=A.useRef(null),[m,p]=A.useState(220),[x,v]=A.useState(440);return A.useEffect(()=>{const j=()=>{var T,y;const P=((y=(T=u.current)==null?void 0:T.offsetWidth)!=null?y:380)/2,F=Math.round(P+60),B=Math.round(F+220);p(F),v(B)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),s.jsxs("div",{className:Js.wrap,children:[s.jsx("div",{className:Js.centerLogoWrap,children:s.jsx(Mt,{to:"/community",className:Js.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:u,src:t,alt:"Community Hub",className:Js.centerLogo})})}),s.jsx(Fx,{items:r.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"left",variant:"main",arcOffset:m}),s.jsx(Fx,{items:i.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"right",variant:"main",arcOffset:m}),c.length>0&&s.jsx(Fx,{items:c.map(j=>({key:j.key,to:j.to,label:j.label,icon:j.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:x})]})},LX="_topWrap_1rivx_1",DX="_divider_1rivx_19",MX="_contentArea_1rivx_53",FX="_placeholder_1rivx_63",BX="_placeholderTitle_1rivx_77",$X="_placeholderText_1rivx_91",ql={topWrap:LX,divider:DX,contentArea:MX,placeholder:FX,placeholderTitle:BX,placeholderText:$X},VX="/test/assets/logo_communityhub-LVMLHRD6.png",OX=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function l5(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function UX(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,o]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o))return new Date(o,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function Bx(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function zX(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function HX(t){return t.avatar?t.avatar:`/avatars/${l5(t.code||t.name||"creator")}.png`}function GX(t){const e=l5(t.code||t.name||"creator"),n=[],r=Bx(t.youtube);r&&n.push({type:"YouTube",url:r});const i=Bx(t.twitch);i&&n.push({type:"Twitch",url:i});const o=Bx(t.discord);return o&&n.push({type:"Discord",url:o}),{id:`sheet-${e}`,name:t.name,avatar:HX(t),description:zX(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:UX(t.latestActivity),platforms:n}}function WX(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function c5(t="/data/creators-live.json"){const[e,n]=A.useState(null),[r,i]=A.useState(""),[o,c]=A.useState(!1),[d,u]=A.useState(0);return A.useEffect(()=>{let m=!1;async function p(){c(!0),i("");try{const x=await fetch(t,{cache:"no-store"});if(!x.ok)throw new Error(`HTTP ${x.status}`);const v=await x.json();m||n(WX(v))}catch(x){m||(i((x==null?void 0:x.message)||"Failed to load creator snapshot"),n(null))}finally{m||c(!1)}}return p(),()=>{m=!0}},[t,d]),{snapshot:e,error:r,loading:o,refresh:()=>u(m=>m+1)}}const qX=OX,KX=qX.map(GX),QX=[...KX];function d5(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function Oa(t,e,n=d5){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function _u(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function XX(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(_u(r.lastActive)-_u(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function YX(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function ej({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[YX(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:Oa(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:Oa(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:Oa(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:Oa(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",_u(t.lastActive),"d ago"]})]})]},t.id)}function JX({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:Oa(e.subscribers)}),s.jsx("td",{children:Oa(e.totalViews)}),s.jsx("td",{children:Oa(e.weeklyViews)}),s.jsx("td",{children:Oa(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[_u(e.lastActive),"d"]})]},e.id))})]})})}function u5(){var te,ce;const[t,e]=A.useState("static"),[n,r]=A.useState("cards"),[i,o]=A.useState("subs"),[c,d]=A.useState("desc"),[u,m]=A.useState("all"),[p,x]=A.useState("all"),[v,j]=A.useState(0),[N,P]=A.useState(365),[I,F]=A.useState(null),[B,T]=A.useState(""),[y,w]=A.useState(!1),[M,C]=A.useState(""),[_,E]=A.useState(null),{snapshot:L,error:R}=c5(),V=(te=L==null?void 0:L.data)!=null&&te.length?L.data:null,$=V!=null?V:QX,q=t==="static"?$:(ce=_!=null?_:V)!=null?ce:[],z=A.useMemo(()=>{const Z=new Set(q.map(pe=>pe.language));return Array.from(Z).sort()},[q]),W=A.useMemo(()=>q.filter(Z=>u==="all"?!0:Z.language===u).filter(Z=>p==="all"?!0:Z.platforms.some(pe=>pe.type===p)).filter(Z=>Z.subscribers>=v).filter(Z=>_u(Z.lastActive)<=N).slice().sort(XX(i,c)),[q,u,p,v,N,i,c]);A.useEffect(()=>{if(!I&&W.length){const Z=W[Math.floor(Math.random()*W.length)];F(Z.id)}},[W,I]);const Q=A.useMemo(()=>W.find(Z=>Z.id===I)||null,[W,I]),H=A.useMemo(()=>W.slice().sort((Z,pe)=>pe.weeklyViews-Z.weeklyViews).slice(0,5),[W]),ee=A.useMemo(()=>W.slice().sort((Z,pe)=>pe.weeklyPosts-Z.weeklyPosts).slice(0,5),[W]);async function ne(){C(""),w(!0);try{const Z=await fetch(B,{headers:{Accept:"application/json"}});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const pe=await Z.json(),Ce=Array.isArray(pe)?pe:Array.isArray(pe==null?void 0:pe.data)?pe.data:[];E(Ce)}catch(Z){C((Z==null?void 0:Z.message)||"Fetch failed")}finally{w(!1)}}const G=W.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),L&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(L.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[L.data.length," profiles"]})]}),R&&s.jsx("p",{className:"cc-sync-error",children:R})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:Z=>e(Z.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:Z=>r(Z.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:Z=>o(Z.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:c,onChange:Z=>d(Z.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:u,onChange:Z=>m(Z.target.value),children:[s.jsx("option",{value:"all",children:"All"}),z.map(Z=>s.jsx("option",{value:Z,children:Z.toUpperCase()},Z))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:p,onChange:Z=>x(Z.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:v,onChange:Z=>j(Number(Z.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:N,onChange:Z=>P(Number(Z.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:B,onChange:Z=>T(Z.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:ne,disabled:!B||y,children:y?"Loading":"Fetch"})]}),M&&s.jsx("div",{className:"cc-api-error",children:M}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),Q&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!W.length)return;const Z=W[Math.floor(Math.random()*W.length)];F(Z.id)},children:"Shuffle"})]}),s.jsx(ej,{c:Q})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[G&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!G&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:W.map(Z=>s.jsx(ej,{c:Z},Z.id))}),!G&&n==="table"&&s.jsx(JX,{data:W}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(W,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:H.map(Z=>s.jsxs("li",{children:[s.jsx("span",{children:Z.name}),s.jsx("span",{className:"cc-top-val",children:d5(Z.weeklyViews)})]},Z.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:ee.map(Z=>s.jsxs("li",{children:[s.jsx("span",{children:Z.name}),s.jsx("span",{className:"cc-top-val",children:Z.weeklyPosts})]},Z.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function h5(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function m5(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function p5(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function f5(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const ZX=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],$x=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],eY={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},tY=t=>eY[t],sY=(t,e=64)=>{var i;const n=tY(t),r=qo(n);return r&&(i=Pr(r,e))!=null?i:null},nY="_recordsPage_brq13_1",rY="_navArea_brq13_8",iY="_tabList_brq13_14",aY="_tabButton_brq13_28",oY="_tabButtonActive_brq13_51",lY="_sectionContent_brq13_58",cY="_placeholderPanel_brq13_64",dY="_placeholderTitle_brq13_72",uY="_placeholderText_brq13_79",hY="_milestoneSection_brq13_86",mY="_sectionHeader_brq13_92",pY="_filterBar_brq13_99",fY="_filterButtons_brq13_116",gY="_filterButton_brq13_116",xY="_filterButtonActive_brq13_148",vY="_filterSelectWrapper_brq13_155",yY="_filterLabel_brq13_161",bY="_filterSelect_brq13_155",_Y="_emptyFilterMessage_brq13_178",wY="_currentSection_brq13_185",jY="_currentGrid_brq13_191",SY="_currentCard_brq13_197",NY="_categoryLabel_brq13_210",kY="_recordTitle_brq13_217",CY="_currentDetails_brq13_223",TY="_notes_brq13_229",EY="_infoPanel_brq13_235",AY="_infoCard_brq13_241",IY="_disclaimerCard_brq13_242",RY="_infoHeader_brq13_263",PY="_infoAuthor_brq13_270",LY="_authorName_brq13_279",DY="_authorBadge_brq13_283",MY="_infoAuthorIcon_brq13_296",FY="_infoDate_brq13_312",BY="_infoBody_brq13_317",$Y="_infoTitle_brq13_323",VY="_infoLink_brq13_333",OY="_milestoneGrid_brq13_360",UY="_milestoneCard_brq13_366",zY="_milestoneCategory_brq13_379",HY="_milestoneTitle_brq13_386",GY="_milestoneDetails_brq13_393",WY="_detailRow_brq13_399",qY="_detailLabel_brq13_405",KY="_detailValue_brq13_412",QY="_sourceLink_brq13_417",XY="_emptyState_brq13_428",Le={recordsPage:nY,navArea:rY,tabList:iY,tabButton:aY,tabButtonActive:oY,sectionContent:lY,placeholderPanel:cY,placeholderTitle:dY,placeholderText:uY,milestoneSection:hY,sectionHeader:mY,filterBar:pY,filterButtons:fY,filterButton:gY,filterButtonActive:xY,filterSelectWrapper:vY,filterLabel:yY,filterSelect:bY,emptyFilterMessage:_Y,currentSection:wY,currentGrid:jY,currentCard:SY,categoryLabel:NY,recordTitle:kY,currentDetails:CY,notes:TY,infoPanel:EY,infoCard:AY,disclaimerCard:IY,infoHeader:RY,infoAuthor:PY,authorName:LY,authorBadge:DY,infoAuthorIcon:MY,infoDate:FY,infoBody:BY,infoTitle:$Y,infoLink:VY,milestoneGrid:OY,milestoneCard:UY,milestoneCategory:zY,milestoneTitle:HY,milestoneDetails:GY,detailRow:WY,detailLabel:qY,detailValue:KY,sourceLink:QY,emptyState:XY},YY=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],JY={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},ZY=({title:t,description:e,hint:n})=>s.jsxs("article",{className:Le.placeholderPanel,children:[s.jsx("h2",{className:Le.placeholderTitle,children:t}),s.jsx("p",{className:Le.placeholderText,children:e}),n&&s.jsx("p",{className:Le.emptyState,children:n})]}),eJ=()=>{const[t,e]=A.useState("all"),n=A.useMemo(()=>{const o=new Set,c=[];for(const d of $x)o.has(d.category)||(o.add(d.category),c.push(d.category));return["all",...c]},[]),r=t==="all"?$x:$x.filter(o=>o.category===t),i=o=>{e(o)};return s.jsxs("section",{className:Le.milestoneSection,"aria-label":"Records milestones",children:[s.jsxs("div",{className:Le.sectionHeader,children:[s.jsx("p",{children:"Milestones"}),s.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),s.jsxs("div",{className:Le.filterBar,children:[s.jsx("div",{className:Le.filterButtons,children:n.map(o=>s.jsx("button",{type:"button",className:[Le.filterButton,t===o&&Le.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(o),"aria-pressed":t===o,children:o==="all"?"All Categories":o},o))}),s.jsxs("label",{className:Le.filterSelectWrapper,children:[s.jsx("span",{className:Le.filterLabel,children:"Category"}),s.jsx("select",{value:t,onChange:o=>i(o.target.value),className:Le.filterSelect,children:n.map(o=>s.jsx("option",{value:o,children:o==="all"?"All Categories":o},o))})]})]}),r.length===0?s.jsx("p",{className:Le.emptyFilterMessage,children:"No milestones fall into this category yet."}):s.jsx("div",{className:Le.milestoneGrid,children:r.map(o=>s.jsxs("article",{className:Le.milestoneCard,children:[s.jsx("span",{className:Le.milestoneCategory,children:o.category}),s.jsx("h3",{className:Le.milestoneTitle,children:o.achievement}),s.jsxs("div",{className:Le.milestoneDetails,children:[s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Name"}),s.jsx("span",{className:Le.detailValue,children:o.name})]}),s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Server"}),s.jsx("span",{className:Le.detailValue,children:o.server})]}),s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Date"}),s.jsx("span",{className:Le.detailValue,children:o.date})]}),o.notes&&s.jsx("p",{className:Le.notes,children:o.notes}),o.source&&s.jsx("a",{href:o.source,target:"_blank",rel:"noreferrer",className:Le.sourceLink,children:"Source"})]})]},`${o.achievement}-${o.name}`))})]})},tJ=()=>s.jsxs("section",{className:Le.currentSection,"aria-label":"Current community records",children:[s.jsxs("div",{className:Le.sectionHeader,children:[s.jsx("p",{children:"Current Records"}),s.jsx("h2",{children:"The latest verified achievements"})]}),s.jsx("div",{className:Le.currentGrid,children:ZX.map((t,e)=>s.jsxs("article",{className:Le.currentCard,children:[s.jsx("span",{className:Le.categoryLabel,children:t.category}),s.jsx("h3",{className:Le.recordTitle,children:t.record}),s.jsxs("div",{className:Le.currentDetails,children:[s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Class"}),s.jsx("span",{className:Le.detailValue,children:t.classType})]}),s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Player"}),s.jsx("span",{className:Le.detailValue,children:t.playerName})]}),s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Server"}),s.jsx("span",{className:Le.detailValue,children:t.server})]}),s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Days"}),s.jsx("span",{className:Le.detailValue,children:t.days})]}),t.release&&s.jsxs("div",{className:Le.detailRow,children:[s.jsx("span",{className:Le.detailLabel,children:"Release"}),s.jsx("span",{className:Le.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&s.jsxs("p",{className:Le.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&s.jsx("p",{className:Le.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),Id={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function g5(){const[t,e]=A.useState("current"),n=sY("infoCard",32),r=()=>{if(t==="current")return s.jsx(tJ,{});if(t==="milestones")return s.jsx(eJ,{});const i=JY[t];return s.jsx(ZY,{title:i.title,description:i.description,hint:i.hint})};return s.jsxs("section",{className:Le.recordsPage,children:[s.jsx(a5,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),s.jsxs("div",{className:Le.infoPanel,children:[s.jsxs("div",{className:Le.infoCard,children:[s.jsxs("div",{className:Le.infoHeader,children:[s.jsxs("div",{className:Le.infoAuthor,children:[n?s.jsx("img",{src:n,alt:"Community Data",className:Le.infoAuthorIcon}):null,s.jsx("span",{className:Le.authorName,children:"S&F Tavern Info"}),s.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Le.authorBadge,children:"Discord"})]}),s.jsx("span",{className:Le.infoDate,children:"11.12.2020 14:08"})]}),s.jsxs("div",{className:Le.infoBody,children:[s.jsx("h3",{className:Le.infoTitle,children:Id.title}),Id.paragraphs.map(i=>s.jsx("p",{children:i},i))]}),s.jsxs("div",{className:Le.infoLink,children:[s.jsx("span",{children:Id.linkLabel}),s.jsx("a",{href:Id.linkUrl,target:"_blank",rel:"noreferrer",children:Id.linkUrl})]})]}),s.jsxs("div",{className:Le.disclaimerCard,children:[s.jsx("h3",{className:Le.infoTitle,children:"Disclaimer"}),s.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),s.jsx("div",{className:Le.navArea,children:s.jsx("nav",{className:Le.tabList,"aria-label":"Records navigation",children:YY.map(i=>s.jsx("button",{type:"button",className:`${Le.tabButton} ${t===i.key?Le.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),s.jsx("div",{className:Le.sectionContent,children:r()})]})}const sJ={creators:u5,scans:h5,predictions:m5,news:p5,records:g5,feedback:f5};function nJ(){const[t]=Xo(),e=t.get("tab")||"",n=sJ[e];return s.jsxs(vt,{children:[s.jsx("div",{className:ql.topWrap,children:s.jsx(PX,{logoSrc:VX})}),s.jsx("div",{className:ql.divider}),s.jsx("div",{className:ql.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:ql.placeholder,children:[s.jsx("h2",{className:ql.placeholderTitle,children:"Community"}),s.jsx("p",{className:ql.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function rJ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(Mt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(Mt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function iJ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function aJ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function oJ(){return s.jsx(vt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(lJ,{}),right:s.jsx(cJ,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(Mt,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),s.jsx(Mt,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Em,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Em,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),s.jsx(Em,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),s.jsx(Em,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function lJ(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Rd,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Rd,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),s.jsx(Rd,{to:"/guild-hub/fusion",children:"Fusion"}),s.jsx(Rd,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Rd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function cJ(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Em({to:t,title:e,desc:n}){return s.jsxs(Mt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Rd({to:t,children:e}){return s.jsx(hs,{to:t,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}function wu(t){const e=re.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[n,r]=re.useState(()=>e());return re.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),o=c=>r(c.matches);return r(i.matches),i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[t]),n}function ju(t,e=300){const[n,r]=re.useState(t);return re.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}const dJ='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function Su(t,e){re.useEffect(()=>{var c;if(!e)return;const n=t.current;if(!n)return;const r=()=>n.querySelectorAll(dJ);(c=r()[0])==null||c.focus();const o=d=>{if(d.key!=="Tab")return;const u=r();if(u.length===0)return;const m=u[0],p=u[u.length-1];d.shiftKey?document.activeElement===m&&(d.preventDefault(),p.focus()):document.activeElement===p&&(d.preventDefault(),m.focus())};return n.addEventListener("keydown",o),()=>n.removeEventListener("keydown",o)},[t,e])}const uJ="_page_1etjv_1",hJ="_header_1etjv_7",mJ="_headerStack_1etjv_13",pJ="_kicker_1etjv_19",fJ="_title_1etjv_27",gJ="_headerActions_1etjv_33",xJ="_primaryAction_1etjv_39",vJ="_secondaryAction_1etjv_40",yJ="_infoStrip_1etjv_64",bJ="_infoBlock_1etjv_74",_J="_infoLabel_1etjv_81",wJ="_freshnessWrapper_1etjv_91",jJ="_freshnessBadge_1etjv_95",SJ="_badge_f0_1etjv_107",NJ="_badge_f1_1etjv_108",kJ="_badge_f2_1etjv_109",CJ="_badge_f3_1etjv_110",TJ="_badge_f4_1etjv_111",EJ="_badge_f5_1etjv_112",AJ="_badge_f6_1etjv_113",IJ="_badge_f7_1etjv_114",RJ="_badge_unknown_1etjv_115",PJ="_popover_1etjv_117",LJ="_popoverLabel_1etjv_133",DJ="_filterToolbar_1etjv_138",MJ="_filterSheetButton_1etjv_143",FJ="_inlineFilters_1etjv_152",BJ="_searchInput_1etjv_158",$J="_select_1etjv_159",VJ="_ownerGroup_1etjv_168",OJ="_ownerChip_1etjv_174",UJ="_ownerChipActive_1etjv_183",zJ="_sortGroup_1etjv_188",HJ="_sortLabel_1etjv_194",GJ="_directionButton_1etjv_199",WJ="_listBody_1etjv_208",qJ="_tableWrapper_1etjv_214",KJ="_table_1etjv_214",QJ="_stickyColumn_1etjv_241",XJ="_rowTitleButton_1etjv_248",YJ="_tableStatus_1etjv_257",JJ="_cardList_1etjv_267",ZJ="_card_1etjv_267",eZ="_cardHeader_1etjv_283",tZ="_cardTitle_1etjv_289",sZ="_cardMeta_1etjv_298",nZ="_cardDescription_1etjv_306",rZ="_cardFooter_1etjv_312",iZ="_cardLabel_1etjv_320",aZ="_scanBadge_1etjv_325",oZ="_emptyState_1etjv_333",lZ="_sheetBackdrop_1etjv_341",cZ="_sheet_1etjv_341",dZ="_sheetHandle_1etjv_361",uZ="_sheetBody_1etjv_370",hZ="_sheetLabel_1etjv_378",mZ="_sheetActions_1etjv_397",pZ="_overlay_1etjv_404",fZ="_panel_1etjv_413",gZ="_modal_1etjv_426",xZ="_drawer_1etjv_431",vZ="_panelHeader_1etjv_435",yZ="_panelControls_1etjv_442",bZ="_panelDescription_1etjv_457",_Z="_detailGrid_1etjv_463",wZ="_panelFooter_1etjv_479",jZ="_formOverlay_1etjv_485",SZ="_formPanel_1etjv_496",NZ="_formGrid_1etjv_509",kZ="_menuWrapper_1etjv_515",CZ="_dotsButton_1etjv_519",TZ="_menu_1etjv_515",EZ="_pagination_1etjv_555",ye={page:uJ,header:hJ,headerStack:mJ,kicker:pJ,title:fJ,headerActions:gJ,primaryAction:xJ,secondaryAction:vJ,infoStrip:yJ,infoBlock:bJ,infoLabel:_J,freshnessWrapper:wJ,freshnessBadge:jJ,badge_f0:SJ,badge_f1:NJ,badge_f2:kJ,badge_f3:CJ,badge_f4:TJ,badge_f5:EJ,badge_f6:AJ,badge_f7:IJ,badge_unknown:RJ,popover:PJ,popoverLabel:LJ,filterToolbar:DJ,filterSheetButton:MJ,inlineFilters:FJ,searchInput:BJ,select:$J,ownerGroup:VJ,ownerChip:OJ,ownerChipActive:UJ,sortGroup:zJ,sortLabel:HJ,directionButton:GJ,listBody:WJ,tableWrapper:qJ,table:KJ,stickyColumn:QJ,rowTitleButton:XJ,tableStatus:YJ,cardList:JJ,card:ZJ,cardHeader:eZ,cardTitle:tZ,cardMeta:sZ,cardDescription:nZ,cardFooter:rZ,cardLabel:iZ,scanBadge:aZ,emptyState:oZ,sheetBackdrop:lZ,sheet:cZ,sheetHandle:dZ,sheetBody:uZ,sheetLabel:hZ,sheetActions:mZ,overlay:pZ,panel:fZ,modal:gZ,drawer:xZ,panelHeader:vZ,panelControls:yZ,panelDescription:bZ,detailGrid:_Z,panelFooter:wZ,formOverlay:jZ,formPanel:SZ,formGrid:NZ,menuWrapper:kZ,dotsButton:CZ,menu:TZ,pagination:EZ},x5=["Ari","Borin","Celeste","Doran","Lena","Nix"],AZ={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},P0={raid:"Raid",event:"Event",task:"Task"},v5={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},tj={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},sj={urgent:4,high:3,medium:2,low:1},IZ={"7d":7,"30d":30,"90d":90,all:null},Vx={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},RZ=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Io(5,20),createdAt:jn(2,14),updatedAt:jn(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:Im(3),nextUpdateAt:Am(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Io(2,12),createdAt:jn(4,9),updatedAt:jn(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:Im(8),nextUpdateAt:Am(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Io(7,17),createdAt:jn(1,10),updatedAt:jn(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:Im(22),nextUpdateAt:Am(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:jn(1,19),createdAt:jn(9,10),updatedAt:jn(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:jn(1,19),nextUpdateAt:Io(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Io(12,18),createdAt:jn(6,15),updatedAt:jn(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:Im(1),nextUpdateAt:Am(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Io(18,13),createdAt:jn(12,18),updatedAt:jn(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:jn(2,16),nextUpdateAt:Io(4,9)}];function Io(t,e=12){const n=new Date;return n.setDate(n.getDate()+t),n.setHours(e,0,0,0),n.toISOString()}function Am(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function jn(t,e=12){const n=new Date;return n.setDate(n.getDate()-t),n.setHours(e,0,0,0),n.toISOString()}function Im(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function nj(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function PZ(t,e,n){const r=Date.now(),i=IZ[e.range];return t.filter(o=>{const c=n===""||o.title.toLowerCase().includes(n.toLowerCase())||o.description.toLowerCase().includes(n.toLowerCase()),d=e.type==="all"||o.type===e.type,u=e.status==="all"||o.status===e.status,m=e.owner.length===0||e.owner.includes(o.owner)||o.assignees.some(x=>e.owner.includes(x));let p=!0;if(i!==null){const x=new Date(o.dueAt).getTime(),v=r+i*24*60*60*1e3;p=x<=v}return c&&d&&u&&m&&p})}function LZ(t,e,n){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"dueAt":c=new Date(i.dueAt).getTime()-new Date(o.dueAt).getTime();break;case"updatedAt":c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break;case"priority":c=sj[i.priority]-sj[o.priority];break;case"title":c=i.title.localeCompare(o.title);break;default:c=0}return n==="asc"?c:-c}),r}function DZ(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function Ya(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function mf(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Ov(t,e){const n=new Date(t).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function MZ(t){return t.length===0?null:t.reduce((e,n)=>e?tj[n.freshness]>tj[e.freshness]?n:e:n,null)}function FZ(){var ne;const[t,e]=re.useState(RZ),[n,r]=re.useState(Vx),[i,o]=re.useState(Vx),c=ju(n.q,300),d=re.useMemo(()=>{const G=PZ(t,n,c);return LZ(G,n.sort,n.dir)},[t,n,c]),u=re.useMemo(()=>DZ(d,n.page,n.pageSize),[d,n.page,n.pageSize]),m=Math.max(1,Math.ceil(d.length/n.pageSize)),p=re.useMemo(()=>Array.from(new Set(t.map(G=>G.owner))),[t]),x=wu("(min-width: 768px)"),v=wu("(min-width: 1024px)"),[j,N]=re.useState(!1),[P,I]=re.useState(null),F=(ne=t.find(G=>G.id===P))!=null?ne:null,B=re.useRef(null);Su(B,!!F&&!v);const[T,y]=re.useState(null),[w,M]=re.useState(!1),C=re.useRef(null);Su(C,w);const _=re.useMemo(()=>MZ(t),[t]),E=re.useMemo(()=>_?Ov(_.nextUpdateAt,Date.now()):"",[_]),L=x,R=v,V=s.jsxs("div",{className:ye.headerActions,children:[s.jsx("button",{type:"button",className:ye.primaryAction,onClick:()=>{y(null),M(!0)},children:"Neuer Eintrag"}),!x&&s.jsx("button",{type:"button",className:ye.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>N(!0),children:"Filter"})]}),$=G=>{const te=nj(G);r(te),o(te)},q=(G,te)=>{const ce=nj({...n,[G]:te,page:G==="page"||G==="pageSize"?te:1});$(ce)},z=()=>{$(i),N(!1)},W=()=>{$(Vx),N(!1)},Q=(G,te=!1)=>{if(te)o(ce=>{const pe=ce.owner.includes(G)?ce.owner.filter(Ce=>Ce!==G):[...ce.owner,G];return{...ce,owner:pe}});else{const Z=n.owner.includes(G)?n.owner.filter(pe=>pe!==G):[...n.owner,G];q("owner",Z)}},H=(G,te)=>{e(ce=>ce.map(Z=>Z.id===G?{...Z,status:te,updatedAt:new Date().toISOString()}:Z))},ee=G=>{e(te=>te.some(Z=>Z.id===G.id)?te.map(Z=>Z.id===G.id?G:Z):[G,...te]),M(!1)};return s.jsxs(vt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[s.jsxs("div",{className:ye.page,children:[s.jsxs("header",{className:ye.header,children:[s.jsxs("div",{className:ye.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ye.kicker,children:"Deployment"}),s.jsx("h1",{className:ye.title,children:"Planer"})]}),V]}),s.jsxs("div",{className:ye.infoStrip,children:[s.jsxs("div",{className:ye.infoBlock,children:[s.jsx("span",{className:ye.infoLabel,children:"Offen"}),s.jsx("strong",{children:d.filter(G=>G.status==="open").length})]}),s.jsxs("div",{className:ye.infoBlock,children:[s.jsx("span",{className:ye.infoLabel,children:"In Arbeit"}),s.jsx("strong",{children:d.filter(G=>G.status==="in_progress").length})]}),_&&s.jsx(BZ,{code:_.freshness,label:v5[_.freshness],updatedAt:_.lastScanAt,nextUpdateAt:_.nextUpdateAt,countdown:E})]})]}),s.jsx("section",{className:ye.filterToolbar,children:x?s.jsx($Z,{filters:n,owners:p,onChange:q,onOwnerToggle:G=>Q(G,!1)}):s.jsx("button",{type:"button",className:ye.filterSheetButton,onClick:()=>N(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),s.jsx("section",{className:ye.listBody,children:L?s.jsx(VZ,{items:u,sort:n.sort,dir:n.dir,onSortChange:G=>{const te=n.sort===G&&n.dir==="asc"?"desc":"asc";q("sort",G),q("dir",te)},onSelect:G=>I(G.id),onStatusChange:H,onEdit:G=>{y(G),M(!0)}}):s.jsx(OZ,{items:u,onSelect:G=>I(G.id),onStatusChange:H,onEdit:G=>{y(G),M(!0)}})}),s.jsx(zZ,{page:n.page,totalPages:m,onChange:G=>q("page",G)})]}),j&&s.jsx(UZ,{filters:i,owners:p,onChange:o,onOwnerToggle:G=>Q(G,!0),onClose:()=>N(!1),onApply:z,onReset:W}),F&&s.jsx(b5,{ref:B,item:F,mode:R?"drawer":"modal",onClose:()=>I(null),onEdit:()=>{y(F),M(!0),I(null)},onStatusChange:H}),w&&s.jsx(_5,{ref:C,owners:p.length?p:x5,item:T,onClose:()=>M(!1),onSubmit:ee})]})}function BZ({code:t,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var d;const[o,c]=re.useState(!1);return s.jsxs("div",{className:ye.freshnessWrapper,children:[s.jsx("button",{type:"button",className:`${ye.freshnessBadge} ${(d=ye[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>c(u=>!u),children:e}),o&&s.jsxs("div",{className:ye.popover,role:"dialog","aria-label":"Freshness Details",children:[s.jsxs("div",{children:[s.jsx("span",{className:ye.popoverLabel,children:"Zuletzt gescannt"}),s.jsx("strong",{children:Ya(n)})]}),s.jsxs("div",{children:[s.jsx("span",{className:ye.popoverLabel,children:"Naechster Scan"}),s.jsx("strong",{children:Ya(r)})]}),s.jsxs("div",{children:[s.jsx("span",{className:ye.popoverLabel,children:"Countdown"}),s.jsx("strong",{children:i})]})]})]})}function $Z({filters:t,owners:e,onChange:n,onOwnerToggle:r}){return s.jsxs("div",{className:ye.inlineFilters,children:[s.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:ye.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>n("q",i.target.value)}),s.jsxs("select",{className:ye.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>n("type",i.target.value),children:[s.jsx("option",{value:"all",children:"Typ (alle)"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]}),s.jsxs("select",{className:ye.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>n("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("select",{className:ye.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>n("range",i.target.value),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]}),s.jsx("div",{className:ye.ownerGroup,children:e.map(i=>{const o=t.owner.includes(i);return s.jsx("button",{type:"button",className:`${ye.ownerChip} ${o?ye.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:ye.sortGroup,children:[s.jsx("label",{htmlFor:"planner-sort",className:ye.sortLabel,children:"Sortieren"}),s.jsxs("select",{id:"planner-sort",name:"plannerSort",className:ye.select,value:t.sort,onChange:i=>n("sort",i.target.value),children:[s.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),s.jsx("option",{value:"priority",children:"Prioritaet"}),s.jsx("option",{value:"title",children:"Titel"})]}),s.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:ye.directionButton,onClick:()=>n("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function VZ({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:o,onEdit:c}){const d=u=>e===u?n==="asc"?" ":" ":"";return t.length===0?s.jsx(y5,{}):s.jsx("div",{className:ye.tableWrapper,children:s.jsxs("table",{className:ye.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:ye.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),s.jsx("th",{children:"Typ"}),s.jsx("th",{children:"Owner"}),s.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),s.jsx("th",{children:"Status"}),s.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),s.jsx("th",{})]})}),s.jsx("tbody",{children:t.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:ye.stickyColumn,children:s.jsx("button",{type:"button",className:ye.rowTitleButton,onClick:()=>i(u),children:u.title})}),s.jsx("td",{children:P0[u.type]}),s.jsx("td",{children:u.owner}),s.jsx("td",{children:Ya(u.dueAt)}),s.jsx("td",{children:s.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:ye.tableStatus,value:u.status,onChange:m=>o(u.id,m.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),s.jsx("td",{children:mf(u.updatedAt)}),s.jsx("td",{children:s.jsx(w5,{onEdit:()=>c(u),onComplete:()=>o(u.id,"done")})})]},u.id))})]})})}function OZ({items:t,onSelect:e,onStatusChange:n,onEdit:r}){return t.length===0?s.jsx(y5,{}):s.jsx("div",{className:ye.cardList,children:t.map(i=>s.jsxs("article",{className:ye.card,children:[s.jsxs("div",{className:ye.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:ye.cardTitle,onClick:()=>e(i),children:i.title}),s.jsxs("div",{className:ye.cardMeta,children:[s.jsx("span",{children:P0[i.type]}),s.jsx("span",{children:AZ[i.status]}),s.jsxs("span",{children:["Due ",Ya(i.dueAt)]})]})]}),s.jsx(w5,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),s.jsx("p",{className:ye.cardDescription,children:i.description}),s.jsxs("div",{className:ye.cardFooter,children:[s.jsxs("div",{children:[s.jsx("span",{className:ye.cardLabel,children:"Owner"}),s.jsx("strong",{children:i.owner})]}),s.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:ye.tableStatus,value:i.status,onChange:o=>n(i.id,o.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("span",{className:ye.scanBadge,children:["Letzter Scan ",mf(i.lastScanAt)]})]})]},i.id))})}function y5(){return s.jsx("div",{className:ye.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function UZ({filters:t,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:o,onReset:c}){return s.jsx("div",{className:ye.sheetBackdrop,role:"presentation",onClick:i,children:s.jsxs("div",{className:ye.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:ye.sheetHandle}),s.jsxs("div",{className:ye.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:ye.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>n(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:ye.sheetLabel,children:["Typ",s.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>n(u=>({...u,type:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{className:ye.sheetLabel,children:["Status",s.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>n(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{className:ye.sheetLabel,children:["Zeitraum",s.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>n(u=>({...u,range:d.target.value})),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]})]}),s.jsxs("div",{className:ye.sheetLabel,children:["Owner",s.jsx("div",{className:ye.ownerGroup,children:e.map(d=>{const u=t.owner.includes(d);return s.jsx("button",{type:"button",className:`${ye.ownerChip} ${u?ye.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),s.jsxs("div",{className:ye.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:ye.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const b5=re.forwardRef(({item:t,mode:e,onClose:n,onEdit:r,onStatusChange:i},o)=>s.jsx("div",{className:ye.overlay,children:s.jsxs("div",{ref:o,className:`${ye.panel} ${e==="drawer"?ye.drawer:ye.modal}`,children:[s.jsxs("header",{className:ye.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ye.cardLabel,children:P0[t.type]}),s.jsx("h2",{children:t.title})]}),s.jsx("button",{type:"button",className:ye.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("div",{className:ye.panelControls,children:[s.jsxs("label",{children:["Status",s.jsxs("select",{value:t.status,onChange:c=>i(t.id,c.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{disabled:!0,value:t.priority,children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsx("p",{className:ye.panelDescription,children:t.description}),s.jsxs("dl",{className:ye.detailGrid,children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Owner"}),s.jsx("dd",{children:t.owner})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Assignees"}),s.jsx("dd",{children:t.assignees.join(", ")})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Termin"}),s.jsx("dd",{children:Ya(t.dueAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt aktualisiert"}),s.jsx("dd",{children:mf(t.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Erstellt"}),s.jsx("dd",{children:Ya(t.createdAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Tags"}),s.jsx("dd",{children:t.tags.join(", ")})]})]}),s.jsxs("div",{className:ye.panelFooter,children:[s.jsx("button",{type:"button",className:ye.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:ye.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));b5.displayName="DetailPanel";const _5=re.forwardRef(({owners:t,item:e,onClose:n,onSubmit:r},i)=>{const[o,c]=re.useState(()=>{var m;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(m=t[0])!=null?m:x5[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});re.useEffect(()=>{e&&c(e)},[JSON.stringify(e)]);const d=m=>{m.preventDefault(),o.title.trim()&&r({...o,updatedAt:new Date().toISOString()})},u=m=>{c(p=>{const v=p.tags.includes(m)?p.tags.filter(j=>j!==m):[...p.tags,m];return{...p,tags:v}})};return s.jsx("div",{className:ye.formOverlay,children:s.jsxs("form",{ref:i,className:ye.formPanel,onSubmit:d,children:[s.jsxs("header",{className:ye.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ye.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),s.jsx("h2",{children:e?e.title:"Planner Task"})]}),s.jsx("button",{type:"button",className:ye.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("label",{className:ye.sheetLabel,children:["Titel",s.jsx("input",{name:"plannerFormTitle",value:o.title,onChange:m=>c(p=>({...p,title:m.target.value})),required:!0})]}),s.jsxs("label",{className:ye.sheetLabel,children:["Beschreibung",s.jsx("textarea",{name:"plannerFormDescription",value:o.description,onChange:m=>c(p=>({...p,description:m.target.value})),rows:4})]}),s.jsxs("div",{className:ye.formGrid,children:[s.jsxs("label",{children:["Typ",s.jsxs("select",{name:"plannerFormType",value:o.type,onChange:m=>c(p=>({...p,type:m.target.value})),children:[s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"plannerFormStatus",value:o.status,onChange:m=>c(p=>({...p,status:m.target.value})),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Owner",s.jsx("select",{name:"plannerFormOwner",value:o.owner,onChange:m=>c(p=>({...p,owner:m.target.value})),children:t.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{name:"plannerFormPriority",value:o.priority,onChange:m=>c(p=>({...p,priority:m.target.value})),children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsxs("label",{className:ye.sheetLabel,children:["Termin",s.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:o.dueAt.slice(0,16),onChange:m=>c(p=>({...p,dueAt:new Date(m.target.value).toISOString()}))})]}),s.jsxs("div",{className:ye.sheetLabel,children:["Tags",s.jsx("div",{className:ye.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(m=>{const p=o.tags.includes(m);return s.jsx("button",{type:"button",className:`${ye.ownerChip} ${p?ye.ownerChipActive:""}`,onClick:()=>u(m),children:m},m)})})]}),s.jsxs("footer",{className:ye.panelFooter,children:[s.jsx("button",{type:"button",className:ye.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:ye.primaryAction,children:"Speichern"})]})]})})});_5.displayName="PlannerFormOverlay";function w5({onEdit:t,onComplete:e}){const[n,r]=re.useState(!1),i=re.useRef(null);return re.useEffect(()=>{if(!n)return;const o=c=>{var d;(d=i.current)!=null&&d.contains(c.target)||r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n]),s.jsxs("div",{className:ye.menuWrapper,ref:i,children:[s.jsx("button",{type:"button",className:ye.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(o=>!o),children:"..."}),n&&s.jsxs("div",{className:ye.menu,role:"menu",children:[s.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),s.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),s.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function zZ({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:ye.pagination,children:[s.jsx("button",{type:"button",className:ye.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:ye.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const HZ="_page_17frs_1",GZ="_header_17frs_7",WZ="_headerLeading_17frs_15",qZ="_backLink_17frs_21",KZ="_headerStack_17frs_39",QZ="_kicker_17frs_45",XZ="_title_17frs_53",YZ="_subtitle_17frs_59",JZ="_headerActions_17frs_65",ZZ="_plannerNotice_17frs_71",eee="_noticeItem_17frs_82",tee="_noticeWarning_17frs_93",see="_noticeDot_17frs_99",nee="_tabSection_17frs_107",ree="_tabBar_17frs_113",iee="_tabItem_17frs_120",aee="_tabItemActive_17frs_140",oee="_tabLabel_17frs_146",lee="_tabHelper_17frs_151",cee="_tabPanel_17frs_156",dee="_tabBadge_17frs_166",uee="_primaryAction_17frs_666",hee="_secondaryAction_17frs_667",mee="_infoStrip_17frs_692",pee="_infoBlock_17frs_702",fee="_infoLabel_17frs_708",gee="_infoHint_17frs_721",xee="_stageGrid_17frs_727",vee="_panel_17frs_733",yee="_panelHeader_17frs_744",bee="_panelKicker_17frs_751",_ee="_panelTitle_17frs_759",wee="_panelLead_17frs_765",jee="_badge_17frs_771",See="_panelBody_17frs_782",Nee="_placeholderGrid_17frs_788",kee="_placeholderCard_17frs_794",Cee="_placeholderTitle_17frs_805",Tee="_placeholderText_17frs_810",Eee="_helperSection_17frs_816",Aee="_helperCard_17frs_820",Iee="_helperKicker_17frs_831",Ree="_helperTitle_17frs_839",Pee="_helperText_17frs_845",Lee="_helperActions_17frs_851",We={page:HZ,header:GZ,headerLeading:WZ,backLink:qZ,headerStack:KZ,kicker:QZ,title:XZ,subtitle:YZ,headerActions:JZ,plannerNotice:ZZ,noticeItem:eee,noticeWarning:tee,noticeDot:see,tabSection:nee,tabBar:ree,tabItem:iee,tabItemActive:aee,tabLabel:oee,tabHelper:lee,tabPanel:cee,tabBadge:dee,primaryAction:uee,secondaryAction:hee,infoStrip:mee,infoBlock:pee,infoLabel:fee,infoHint:gee,stageGrid:xee,panel:vee,panelHeader:yee,panelKicker:bee,panelTitle:_ee,panelLead:wee,badge:jee,panelBody:See,placeholderGrid:Nee,placeholderCard:kee,placeholderTitle:Cee,placeholderText:Tee,helperSection:Eee,helperCard:Aee,helperKicker:Iee,helperTitle:Ree,helperText:Pee,helperActions:Lee},Dee="_setupGrid_5qwtc_1",Mee="_setupLeft_5qwtc_7",Fee="_setupRight_5qwtc_8",Bee="_card_5qwtc_14",$ee="_cardHeader_5qwtc_25",Vee="_cardKicker_5qwtc_31",Oee="_cardTitle_5qwtc_39",Uee="_cardText_5qwtc_45",zee="_toggleGroup_5qwtc_51",Hee="_toggleButton_5qwtc_57",Gee="_toggleButtonActive_5qwtc_72",Wee="_modeHint_5qwtc_78",qee="_formGrid_5qwtc_84",Kee="_formField_5qwtc_90",Qee="_formLabel_5qwtc_96",Xee="_input_5qwtc_101",Yee="_suggestions_5qwtc_116",Jee="_suggestionBtn_5qwtc_129",Zee="_suggestionName_5qwtc_149",ete="_suggestionMeta_5qwtc_153",tte="_partnerActions_5qwtc_158",ste="_primaryAction_5qwtc_165",nte="_secondaryAction_5qwtc_166",rte="_partnerList_5qwtc_191",ite="_partnerRow_5qwtc_197",ate="_partnerName_5qwtc_207",ote="_partnerMeta_5qwtc_212",lte="_removeButton_5qwtc_217",cte="_emptyState_5qwtc_232",dte="_previewBlock_5qwtc_237",ute="_previewLabel_5qwtc_243",hte="_previewValue_5qwtc_250",mte="_previewCard_5qwtc_255",pte="_previewTitle_5qwtc_262",fte="_previewMeta_5qwtc_267",gte="_previewList_5qwtc_272",xte="_previewItem_5qwtc_278",vte="_setupInfo_5qwtc_285",yte="_setupWarning_5qwtc_297",bte="_setupInfoIcon_5qwtc_303",_te="_setupInfoTitle_5qwtc_315",wte="_setupInfoText_5qwtc_320",Ee={setupGrid:Dee,setupLeft:Mee,setupRight:Fee,card:Bee,cardHeader:$ee,cardKicker:Vee,cardTitle:Oee,cardText:Uee,toggleGroup:zee,toggleButton:Hee,toggleButtonActive:Gee,modeHint:Wee,formGrid:qee,formField:Kee,formLabel:Qee,input:Xee,suggestions:Yee,suggestionBtn:Jee,suggestionName:Zee,suggestionMeta:ete,partnerActions:tte,primaryAction:ste,secondaryAction:nte,partnerList:rte,partnerRow:ite,partnerName:ate,partnerMeta:ote,removeButton:lte,emptyState:cte,previewBlock:dte,previewLabel:ute,previewValue:hte,previewCard:mte,previewTitle:pte,previewMeta:fte,previewList:gte,previewItem:xte,setupInfo:vte,setupWarning:yte,setupInfoIcon:bte,setupInfoTitle:_te,setupInfoText:wte};function jte({setupState:t,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var I,F,B,T,y,w,M,C,_,E;const[o,c]=re.useState(()=>{var L,R,V,$;return{name:(R=(L=t.baseGuild)==null?void 0:L.name)!=null?R:"",server:($=(V=t.baseGuild)==null?void 0:V.server)!=null?$:""}}),[d,u]=re.useState({id:void 0,name:"",server:""}),m=ju(o.name,250),p=ju(d.name,250),x=rj(m,o.server||"all"),v=rj(p,d.server||"all"),j=!!((F=(I=t.baseGuild)==null?void 0:I.name)!=null&&F.trim()&&((T=(B=t.baseGuild)==null?void 0:B.server)!=null&&T.trim())),N=t.partnerGuilds.length>0;re.useEffect(()=>{var R,V,$,q;const L={name:(V=(R=t.baseGuild)==null?void 0:R.name)!=null?V:"",server:(q=($=t.baseGuild)==null?void 0:$.server)!=null?q:""};(L.name!==o.name||L.server!==o.server)&&c(L)},[(y=t.baseGuild)==null?void 0:y.name,(w=t.baseGuild)==null?void 0:w.server]);const P=()=>{!d.name.trim()||!d.server.trim()||(r(d),u({id:void 0,name:"",server:""}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ee.setupGrid,children:[s.jsxs("div",{className:Ee.setupLeft,children:[s.jsxs("div",{className:Ee.card,children:[s.jsx("div",{className:Ee.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ee.cardKicker,children:"Modus"}),s.jsx("h3",{className:Ee.cardTitle,children:"Scan-based oder manuell"}),s.jsx("p",{className:Ee.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),s.jsxs("div",{className:Ee.toggleGroup,role:"group","aria-label":"Setup Modus",children:[s.jsx("button",{type:"button",className:`${Ee.toggleButton} ${t.mode==="scan"?Ee.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),s.jsx("button",{type:"button",className:`${Ee.toggleButton} ${t.mode==="manual"?Ee.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),s.jsx("p",{className:Ee.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),s.jsxs("div",{className:Ee.card,children:[s.jsx("div",{className:Ee.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ee.cardKicker,children:"Base Guild"}),s.jsx("h3",{className:Ee.cardTitle,children:"Stammdaten"}),s.jsx("p",{className:Ee.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),s.jsxs("div",{className:Ee.formGrid,children:[s.jsxs("label",{className:Ee.formField,children:[s.jsx("span",{className:Ee.formLabel,children:"Guild name"}),s.jsx("input",{type:"text",className:Ee.input,value:o.name,onChange:L=>{const R=L.target.value;c(V=>({...V,name:R}))},onBlur:()=>n({name:o.name}),placeholder:"z.B. Solaris"}),x.length>0&&s.jsx("div",{className:Ee.suggestions,children:x.map(L=>s.jsxs("button",{type:"button",className:Ee.suggestionBtn,onClick:()=>{c({name:L.name,server:L.server}),n({id:L.id,name:L.name,server:L.server})},children:[s.jsx("span",{className:Ee.suggestionName,children:L.name}),s.jsx("span",{className:Ee.suggestionMeta,children:L.server})]},L.id))})]}),s.jsxs("label",{className:Ee.formField,children:[s.jsx("span",{className:Ee.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ee.input,value:o.server,onChange:L=>{const R=L.target.value;c(V=>({...V,server:R}))},onBlur:()=>n({server:o.server}),placeholder:"z.B. EU-01"})]})]})]}),s.jsxs("div",{className:Ee.card,children:[s.jsx("div",{className:Ee.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ee.cardKicker,children:"Partner Guilds"}),s.jsx("h3",{className:Ee.cardTitle,children:"Partner hinzufuegen"}),s.jsx("p",{className:Ee.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),s.jsxs("div",{className:Ee.formGrid,children:[s.jsxs("label",{className:Ee.formField,children:[s.jsx("span",{className:Ee.formLabel,children:"Name"}),s.jsx("input",{type:"text",className:Ee.input,value:d.name,onChange:L=>u(R=>({...R,name:L.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&s.jsx("div",{className:Ee.suggestions,children:v.map(L=>s.jsxs("button",{type:"button",className:Ee.suggestionBtn,onClick:()=>u({id:L.id,name:L.name,server:L.server}),children:[s.jsx("span",{className:Ee.suggestionName,children:L.name}),s.jsx("span",{className:Ee.suggestionMeta,children:L.server})]},L.id))})]}),s.jsxs("label",{className:Ee.formField,children:[s.jsx("span",{className:Ee.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ee.input,value:d.server,onChange:L=>u(R=>({...R,server:L.target.value})),placeholder:"z.B. EU-02"})]})]}),s.jsxs("div",{className:Ee.partnerActions,children:[s.jsx("button",{type:"button",className:Ee.primaryAction,onClick:P,children:"Add partner guild"}),s.jsx("button",{type:"button",className:Ee.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),s.jsx("div",{className:Ee.partnerList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ee.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>s.jsxs("div",{className:Ee.partnerRow,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ee.partnerName,children:L.name||"Unbenannt"}),s.jsx("div",{className:Ee.partnerMeta,children:L.server||"Server n/a"})]}),s.jsx("button",{type:"button",className:Ee.removeButton,onClick:()=>i(L.id),children:"Remove"})]},L.id))})]})]}),s.jsx("aside",{className:Ee.setupRight,children:s.jsxs("div",{className:Ee.card,children:[s.jsx("div",{className:Ee.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ee.cardKicker,children:"Preview"}),s.jsx("h3",{className:Ee.cardTitle,children:"Uebersicht"}),s.jsx("p",{className:Ee.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),s.jsxs("div",{className:Ee.previewBlock,children:[s.jsx("div",{className:Ee.previewLabel,children:"Modus"}),s.jsx("div",{className:Ee.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),s.jsxs("div",{className:Ee.previewBlock,children:[s.jsx("div",{className:Ee.previewLabel,children:"Base Guild"}),s.jsx("div",{className:Ee.previewCard,children:(M=t.baseGuild)!=null&&M.name||(C=t.baseGuild)!=null&&C.server?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ee.previewTitle,children:((_=t.baseGuild)==null?void 0:_.name)||"Unbenannt"}),s.jsx("div",{className:Ee.previewMeta,children:((E=t.baseGuild)==null?void 0:E.server)||"Server n/a"})]}):s.jsx("div",{className:Ee.emptyState,children:"No base guild selected yet."})})]}),s.jsxs("div",{className:Ee.previewBlock,children:[s.jsx("div",{className:Ee.previewLabel,children:"Partner Guilds"}),s.jsx("div",{className:Ee.previewList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ee.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>s.jsxs("div",{className:Ee.previewItem,children:[s.jsx("div",{className:Ee.previewTitle,children:L.name||"Unbenannt"}),s.jsx("div",{className:Ee.previewMeta,children:L.server||"Server n/a"})]},L.id))})]})]})})]}),j?N?null:s.jsxs("div",{className:Ee.setupInfo,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ee.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ee.setupInfoTitle,children:"Optional: add partner guilds."}),s.jsx("p",{className:Ee.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):s.jsxs("div",{className:`${Ee.setupInfo} ${Ee.setupWarning}`,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ee.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ee.setupInfoTitle,children:"No base guild selected yet."}),s.jsx("p",{className:Ee.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function rj(t,e){const[n,r]=re.useState([]);return re.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let o=!1;async function c(){try{const d=Ly(_t,"latest"),u=await pn(Cn(d,wi("nameFold"),Zl(i),ec(i+""),Tn(12))),m=await pn(Cn(d,ni("nameNgrams","array-contains",i),Tn(12))),p=new Set,x=[],v=j=>{var w,M,C,_,E,L,R,V,$,q;const N=j.data(),I=(w=j.ref.parent)==null?void 0:w.parent;if(((M=I==null?void 0:I.parent)==null?void 0:M.id)!=="guilds")return;const B=(_=(C=I==null?void 0:I.id)!=null?C:N.guildIdentifier)!=null?_:j.id;if(!B||p.has(B))return;const T=(R=(L=N.server)!=null?L:(E=N.values)==null?void 0:E.Server)!=null?R:"Unknown";if(e!=="all"&&T!==e)return;const y=(q=($=N.name)!=null?$:(V=N.values)==null?void 0:V.Name)!=null?q:"Unbekannte Gilde";p.add(B),x.push({id:B,name:y,server:T})};u.forEach(v),m.forEach(v),o||(x.sort((j,N)=>j.name.localeCompare(N.name)),r(x))}catch(d){console.error("[FusionPlanner] guild search failed",d),o||r([])}}return c(),()=>{o=!0}},[t,e]),n}const Ste="_membersContainer_1i8xd_1",Nte="_scenarioSwitcher_1i8xd_7",kte="_scenarioButton_1i8xd_13",Cte="_scenarioButtonActive_1i8xd_32",Tte="_scenarioButtonName_1i8xd_38",Ete="_scenarioButtonDesc_1i8xd_42",Ate="_setupInfo_1i8xd_47",Ite="_setupInfoHeader_1i8xd_57",Rte="_setupInfoTitle_1i8xd_64",Pte="_setupInfoMode_1i8xd_70",Lte="_setupInfoRow_1i8xd_82",Dte="_setupInfoLabel_1i8xd_88",Mte="_setupInfoValue_1i8xd_95",Fte="_setupInfoMeta_1i8xd_100",Bte="_setupInfoPartners_1i8xd_105",$te="_setupInfoBadge_1i8xd_111",Vte="_setupInfoEmpty_1i8xd_123",Ote="_membersSummary_1i8xd_128",Ute="_membersSummaryItem_1i8xd_138",zte="_membersSummaryLabel_1i8xd_144",Hte="_membersSummaryValue_1i8xd_151",Gte="_maxSlotsInput_1i8xd_157",Wte="_membersTable_1i8xd_166",qte="_membersRow_1i8xd_175",Kte="_membersHead_1i8xd_188",Qte="_membersCell_1i8xd_193",Xte="_memberName_1i8xd_198",Yte="_memberBadge_1i8xd_202",Jte="_assignmentCell_1i8xd_214",Zte="_assignmentBadge_1i8xd_220",ese="_assignmentBadgeMain_1i8xd_232",tse="_assignmentBadgePartner_1i8xd_238",sse="_assignmentBadgeWatch_1i8xd_244",nse="_assignmentBadgeIdle_1i8xd_250",rse="_assignmentActions_1i8xd_254",ise="_assignmentButton_1i8xd_260",ase="_assignmentButtonActive_1i8xd_276",ose="_decisionGroup_1i8xd_282",lse="_decisionButton_1i8xd_288",cse="_decisionButtonActive_1i8xd_304",dse="_emptyWrap_1i8xd_310",use="_emptyTitle_1i8xd_317",hse="_emptyText_1i8xd_321",mse="_contextMenuBackdrop_1i8xd_326",pse="_contextMenu_1i8xd_326",fse="_contextMenuItem_1i8xd_347",gse="_partnerPickerCell_1i8xd_363",xse="_partnerLabel_1i8xd_369",vse="_partnerSelect_1i8xd_376",je={membersContainer:Ste,scenarioSwitcher:Nte,scenarioButton:kte,scenarioButtonActive:Cte,scenarioButtonName:Tte,scenarioButtonDesc:Ete,setupInfo:Ate,setupInfoHeader:Ite,setupInfoTitle:Rte,setupInfoMode:Pte,setupInfoRow:Lte,setupInfoLabel:Dte,setupInfoValue:Mte,setupInfoMeta:Fte,setupInfoPartners:Bte,setupInfoBadge:$te,setupInfoEmpty:Vte,membersSummary:Ote,membersSummaryItem:Ute,membersSummaryLabel:zte,membersSummaryValue:Hte,maxSlotsInput:Gte,membersTable:Wte,membersRow:qte,membersHead:Kte,membersCell:Qte,memberName:Xte,memberBadge:Yte,assignmentCell:Jte,assignmentBadge:Zte,assignmentBadgeMain:ese,assignmentBadgePartner:tse,assignmentBadgeWatch:sse,assignmentBadgeIdle:nse,assignmentActions:rse,assignmentButton:ise,assignmentButtonActive:ase,decisionGroup:ose,decisionButton:lse,decisionButtonActive:cse,emptyWrap:dse,emptyTitle:use,emptyText:hse,contextMenuBackdrop:mse,contextMenu:pse,contextMenuItem:fse,partnerPickerCell:gse,partnerLabel:xse,partnerSelect:vse};function yse({members:t,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:o}){var C,_,E,L,R,V;const[c,d]=re.useState(null),u=re.useRef(null),m=o.partnerGuilds.length>0?o.partnerGuilds.map(($,q)=>({id:$.id,label:$.name||`Partner ${q+1}`})):[{id:"partner-default",label:"Partner guild"}],p=re.useCallback(($,q)=>{d({memberId:$,...q})},[]),x=re.useCallback(()=>{d(null)},[]),v=re.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),j=re.useCallback(($,q,z)=>{v(),u.current=window.setTimeout(()=>{p($,{x:q,y:z})},550)},[v,p]);re.useEffect(()=>()=>v(),[v]);const N=re.useCallback(($,q,z)=>{if(q==="main")n($,"take"),r($,"main");else if(q==="partner"){const W=z?`partner:${z}`:"partner";n($,"take"),r($,W)}else n($,"bench"),r($,"none");x()},[x,n,r]),P=re.useCallback(($,q)=>{n($,q),q==="take"?r($,"main"):r($,"none")},[n,r]);if(!!!((_=(C=o.baseGuild)==null?void 0:C.name)!=null&&_.trim()&&((L=(E=o.baseGuild)==null?void 0:E.server)!=null&&L.trim())))return s.jsxs("div",{className:je.emptyWrap,children:[s.jsx("h3",{className:je.emptyTitle,children:"No base guild configured"}),s.jsx("p",{className:je.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return s.jsxs("div",{className:je.emptyWrap,children:[s.jsx("h3",{className:je.emptyTitle,children:"Members & Slots"}),s.jsx("p",{className:je.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return s.jsxs("div",{className:je.emptyWrap,children:[s.jsx("h3",{className:je.emptyTitle,children:"No members found"}),s.jsx("p",{className:je.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const F=(R=e.decisions)!=null?R:{},B=(V=e.targetGuildAssignments)!=null?V:{},T=t.filter($=>F[$.id]==="take").length,y=t.filter($=>F[$.id]==="bench").length,w=t.filter($=>F[$.id]==="drop").length,M=Math.max(0,e.maxSlots-e.reservedSlots-T);return s.jsxs("div",{className:je.membersContainer,children:[s.jsx("div",{className:je.scenarioSwitcher,children:s.jsxs("div",{className:`${je.scenarioButton} ${je.scenarioButtonActive}`,children:[s.jsx("span",{className:je.scenarioButtonName,children:e.name}),e.description?s.jsx("span",{className:je.scenarioButtonDesc,children:e.description}):null]})}),s.jsxs("div",{className:je.setupInfo,children:[s.jsxs("div",{className:je.setupInfoHeader,children:[s.jsx("div",{className:je.setupInfoTitle,children:"Planning for"}),s.jsx("span",{className:je.setupInfoMode,children:o.mode==="scan"?"Scan":"Manual"})]}),o.baseGuild?s.jsxs("div",{className:je.setupInfoRow,children:[s.jsx("span",{className:je.setupInfoLabel,children:"Base Guild"}),s.jsxs("span",{className:je.setupInfoValue,children:[o.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:je.setupInfoMeta,children:["(",o.baseGuild.server||"Server n/a",")"]})]})]}):s.jsx("div",{className:je.setupInfoEmpty,children:"No base guild selected in Setup tab."}),s.jsxs("div",{className:je.setupInfoRow,children:[s.jsx("span",{className:je.setupInfoLabel,children:"Partner Guilds"}),o.partnerGuilds.length?s.jsx("div",{className:je.setupInfoPartners,children:o.partnerGuilds.map($=>s.jsxs("span",{className:je.setupInfoBadge,children:[$.name||"Unbenannt",s.jsxs("span",{className:je.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):s.jsx("span",{className:je.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),s.jsxs("div",{className:je.membersSummary,children:[s.jsxs("div",{className:je.membersSummaryItem,children:[s.jsx("div",{className:je.membersSummaryLabel,children:"Selected"}),s.jsxs("div",{className:je.membersSummaryValue,children:[T," / ",e.maxSlots]})]}),s.jsxs("div",{className:je.membersSummaryItem,children:[s.jsx("div",{className:je.membersSummaryLabel,children:"Free slots"}),s.jsx("div",{className:je.membersSummaryValue,children:M})]}),s.jsxs("div",{className:je.membersSummaryItem,children:[s.jsx("div",{className:je.membersSummaryLabel,children:"Bench"}),s.jsx("div",{className:je.membersSummaryValue,children:y})]}),s.jsxs("div",{className:je.membersSummaryItem,children:[s.jsx("div",{className:je.membersSummaryLabel,children:"Drop"}),s.jsx("div",{className:je.membersSummaryValue,children:w})]}),s.jsxs("div",{className:je.membersSummaryItem,children:[s.jsx("div",{className:je.membersSummaryLabel,children:"Reserved"}),s.jsx("div",{className:je.membersSummaryValue,children:e.reservedSlots})]}),s.jsxs("div",{className:je.membersSummaryItem,children:[s.jsx("div",{className:je.membersSummaryLabel,children:"Max slots"}),s.jsx("input",{type:"number",className:je.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),s.jsxs("div",{className:je.membersTable,children:[s.jsxs("div",{className:`${je.membersRow} ${je.membersHead}`,children:[s.jsx("div",{className:je.membersCell,children:"Name"}),s.jsx("div",{className:je.membersCell,children:"Level"}),s.jsx("div",{className:je.membersCell,children:"Guild"}),s.jsx("div",{className:je.membersCell,children:"Class"}),s.jsx("div",{className:je.membersCell,children:"Plan"}),s.jsx("div",{className:je.membersCell,children:"Decision"}),s.jsx("div",{className:je.membersCell,children:"Partner"})]}),t.map($=>{var ne,G,te,ce,Z,pe,Ce,ge,Te;const q=(ne=F[$.id])!=null?ne:"undecided",z=(G=B[$.id])!=null?G:"none",W=z&&z.toString().startsWith("partner:")?z.split(":")[1]:null,Q=(pe=(te=m.find(Ne=>Ne.id===W))==null?void 0:te.label)!=null?pe:z==="partner"?(Z=(ce=m[0])==null?void 0:ce.label)!=null?Z:"Partner guild":null,H=q==="take"&&z==="main"?"main":q==="take"&&(z==="partner"||W)?"partner":q==="bench"?"watch":"unassigned",ee=H==="main"?"Main guild":H==="partner"?Q||"Partner guild":H==="watch"?"Watchlist":"Not planned";return s.jsxs("div",{className:je.membersRow,onContextMenu:Ne=>{Ne.preventDefault(),p($.id,{x:Ne.clientX,y:Ne.clientY})},onTouchStart:Ne=>{const Ke=Ne.touches[0];Ke&&j($.id,Ke.clientX,Ke.clientY)},onTouchEnd:v,onTouchCancel:v,children:[s.jsx("div",{className:je.membersCell,children:s.jsx("div",{className:je.memberName,children:$.name})}),s.jsx("div",{className:je.membersCell,children:s.jsxs("span",{className:je.memberBadge,children:["Lvl ",$.level]})}),s.jsx("div",{className:je.membersCell,children:$.guildName}),s.jsx("div",{className:je.membersCell,children:(ge=(Ce=$.className)!=null?Ce:$.class)!=null?ge:"?"}),s.jsxs("div",{className:`${je.membersCell} ${je.assignmentCell}`,children:[s.jsx("span",{className:`${je.assignmentBadge} ${H==="main"?je.assignmentBadgeMain:H==="partner"?je.assignmentBadgePartner:H==="watch"?je.assignmentBadgeWatch:je.assignmentBadgeIdle}`,children:ee}),s.jsxs("div",{className:je.assignmentActions,role:"group","aria-label":"Target guild selection",children:[s.jsx("button",{type:"button",className:`${je.assignmentButton} ${H==="main"?je.assignmentButtonActive:""}`,onClick:()=>N($.id,"main"),children:"Main"}),s.jsx("button",{type:"button",className:`${je.assignmentButton} ${H==="watch"?je.assignmentButtonActive:""}`,onClick:()=>N($.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",className:`${je.assignmentButton} ${H==="partner"?je.assignmentButtonActive:""}`,onClick:()=>N($.id,"partner"),children:"Partner"})]})]}),s.jsx("div",{className:je.membersCell,children:s.jsx("div",{className:je.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(Ne=>s.jsx("button",{type:"button",className:`${je.decisionButton} ${q===Ne?je.decisionButtonActive:""}`,onClick:()=>P($.id,Ne),children:Ne==="take"?"Take":Ne==="bench"?"Bench":Ne==="drop"?"Drop":"?"},Ne))})}),s.jsxs("div",{className:`${je.membersCell} ${je.partnerPickerCell}`,children:[s.jsx("label",{className:je.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),s.jsx("select",{id:`partner-select-${$.id}`,className:je.partnerSelect,value:W!=null?W:(Te=m[0])==null?void 0:Te.id,onChange:Ne=>N($.id,"partner",Ne.target.value),children:m.map(Ne=>s.jsx("option",{value:Ne.id,children:Ne.label},Ne.id))})]})]},$.id)})]}),c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:je.contextMenuBackdrop,onClick:x}),s.jsxs("div",{className:je.contextMenu,style:{top:c.y,left:c.x},children:[s.jsx("button",{type:"button",className:je.contextMenuItem,onClick:()=>N(c.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:je.contextMenuItem,onClick:()=>N(c.memberId,"watch"),children:"Move to Watchlist"}),m.map($=>s.jsxs("button",{type:"button",className:je.contextMenuItem,onClick:()=>N(c.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const bse="_overview_18426_1",_se="_contextBox_18426_8",wse="_contextKicker_18426_18",jse="_contextTitle_18426_26",Sse="_contextText_18426_31",Nse="_contextDetails_18426_36",kse="_detailItem_18426_43",Cse="_detailLabel_18426_50",Tse="_detailValue_18426_57",Ese="_kpiGrid_18426_61",Ase="_kpiCard_18426_67",Ise="_kpiLabel_18426_77",Rse="_kpiValue_18426_84",Pse="_columnsWrapper_18426_89",Lse="_column_18426_89",Dse="_columnDropTarget_18426_107",Mse="_columnHeader_18426_112",Fse="_columnKicker_18426_118",Bse="_columnTitle_18426_126",$se="_columnCount_18426_130",Vse="_columnBody_18426_141",Ose="_memberCard_18426_147",Use="_memberTop_18426_169",zse="_memberName_18426_175",Hse="_memberMeta_18426_179",Gse="_memberBadge_18426_185",Wse="_memberBottom_18426_198",qse="_memberGuild_18426_205",Kse="_memberServer_18426_210",Qse="_memberActions_18426_214",Xse="_emptyList_18426_235",Yse="_emptyWrap_18426_244",Jse="_emptyTitle_18426_251",Zse="_emptyText_18426_255",ene="_addPartnerCard_18426_260",tne="_contextMenuBackdrop_18426_280",sne="_contextMenu_18426_280",nne="_contextMenuItem_18426_301",ze={overview:bse,contextBox:_se,contextKicker:wse,contextTitle:jse,contextText:Sse,contextDetails:Nse,detailItem:kse,detailLabel:Cse,detailValue:Tse,kpiGrid:Ese,kpiCard:Ase,kpiLabel:Ise,kpiValue:Rse,columnsWrapper:Pse,column:Lse,columnDropTarget:Dse,columnHeader:Mse,columnKicker:Fse,columnTitle:Bse,columnCount:$se,columnBody:Vse,memberCard:Ose,memberTop:Use,memberName:zse,memberMeta:Hse,memberBadge:Gse,memberBottom:Wse,memberGuild:qse,memberServer:Kse,memberActions:Qse,emptyList:Xse,emptyWrap:Yse,emptyTitle:Jse,emptyText:Zse,addPartnerCard:ene,contextMenuBackdrop:tne,contextMenu:sne,contextMenuItem:nne};function rne({members:t,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:o}){var z,W,Q;const c=(z=e==null?void 0:e.decisions)!=null?z:{},d=(W=e==null?void 0:e.targetGuildAssignments)!=null?W:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((H,ee)=>({id:H.id,label:H.name||`Partner ${ee+1}`})):[{id:"partner-default",label:"Partner guild"}],m=t.filter(H=>c[H.id]==="take"&&d[H.id]==="main"),p=t.filter(H=>c[H.id]==="bench"),x=u.reduce((H,ee)=>(H[ee.id]=t.filter(ne=>{const G=d[ne.id];return c[ne.id]==="take"&&(G===`partner:${ee.id}`||G==="partner")}),H),{}),v=t.filter(H=>!m.includes(H)&&!p.includes(H)&&!Object.values(x).some(ee=>ee.includes(H))),[j,N]=re.useState(null),[P,I]=re.useState(null),F=re.useRef(null),B=t.length,T=m.length,y=p.length,w=Object.values(x).reduce((H,ee)=>H+ee.length,0),M=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-T-w):0,C=re.useCallback((H,ee,ne)=>{H&&(ee==="main"?(r(H,"take"),i(H,"main")):ee==="partner"?(r(H,"take"),i(H,ne?`partner:${ne}`:"partner")):ee==="unassigned"?(r(H,"undecided"),i(H,"none")):(r(H,"bench"),i(H,"none")),I(null))},[r,i]),_=re.useCallback((H,ee)=>ne=>{ne.preventDefault();const G=ne.dataTransfer.getData("text/plain");G&&C(G,H,ee),N(null)},[C]),E=re.useCallback(H=>ee=>{ee.preventDefault(),N(H)},[]),L=re.useCallback(()=>N(null),[]),R=re.useCallback((H,ee)=>{I({memberId:H,...ee})},[]),V=re.useCallback(()=>{F.current!==null&&(window.clearTimeout(F.current),F.current=null)},[]),$=re.useCallback((H,ee,ne)=>{V(),F.current=window.setTimeout(()=>{R(H,{x:ee,y:ne})},550)},[V,R]);if(re.useEffect(()=>()=>V(),[V]),!e)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"Overview"}),s.jsx("p",{className:ze.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"No members loaded"}),s.jsx("p",{className:ze.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const q=(H,ee,ne,G,te)=>s.jsxs("div",{className:`${ze.column} ${j===H?ze.columnDropTarget:""}`,onDragOver:E(H),onDragEnter:E(H),onDragLeave:L,onDrop:_(H,te),children:[s.jsxs("div",{className:ze.columnHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.columnKicker,children:ne}),s.jsx("h4",{className:ze.columnTitle,children:ee})]}),s.jsx("span",{className:ze.columnCount,children:G.length})]}),s.jsx("div",{className:ze.columnBody,children:G.length?G.map(ce=>{var Z,pe,Ce,ge;return s.jsxs("div",{className:ze.memberCard,draggable:!0,onDragStart:Te=>Te.dataTransfer.setData("text/plain",ce.id),onContextMenu:Te=>{Te.preventDefault(),R(ce.id,{x:Te.clientX,y:Te.clientY})},onTouchStart:Te=>{const Ne=Te.touches[0];Ne&&$(ce.id,Ne.clientX,Ne.clientY)},onTouchEnd:V,onTouchCancel:V,children:[s.jsxs("div",{className:ze.memberTop,children:[s.jsxs("div",{children:[s.jsx("div",{className:ze.memberName,children:ce.name}),s.jsxs("p",{className:ze.memberMeta,children:[(pe=(Z=ce.className)!=null?Z:ce.class)!=null?pe:"Unknown","  ",(Ce=ce.role)!=null?Ce:"Unknown"]})]}),s.jsxs("span",{className:ze.memberBadge,children:["Lvl ",(ge=ce.level)!=null?ge:"?"]})]}),s.jsxs("div",{className:ze.memberBottom,children:[s.jsxs("span",{className:ze.memberGuild,children:[ce.guildName," ",s.jsxs("span",{className:ze.memberServer,children:["(",ce.server||"Server n/a",")"]})]}),s.jsxs("div",{className:ze.memberActions,children:[s.jsx("button",{type:"button",onClick:()=>C(ce.id,"main"),children:"Main"}),s.jsx("button",{type:"button",onClick:()=>C(ce.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",onClick:()=>C(ce.id,"partner"),children:"Partner"})]})]})]},ce.id)}):s.jsx("div",{className:ze.emptyList,children:"No players in this list yet."})})]});return s.jsxs("div",{className:ze.overview,children:[s.jsxs("div",{className:ze.contextBox,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.contextKicker,children:"Setup"}),s.jsx("h3",{className:ze.contextTitle,children:"Fusion Overview"}),s.jsx("p",{className:ze.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),s.jsxs("div",{className:ze.contextDetails,children:[s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Base Guild"}),s.jsx("strong",{className:ze.detailValue,children:((Q=n.baseGuild)==null?void 0:Q.name)||"Unbenannt"})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Partner Guilds"}),s.jsx("strong",{className:ze.detailValue,children:n.partnerGuilds.length})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Max Slots"}),s.jsx("strong",{className:ze.detailValue,children:e.maxSlots})]})]})]}),s.jsxs("div",{className:ze.kpiGrid,children:[s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Total players"}),s.jsx("strong",{className:ze.kpiValue,children:B})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Main guild"}),s.jsx("strong",{className:ze.kpiValue,children:T})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Watchlist"}),s.jsx("strong",{className:ze.kpiValue,children:y})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Partner guild"}),s.jsx("strong",{className:ze.kpiValue,children:w})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Free slots"}),s.jsx("strong",{className:ze.kpiValue,children:M})]})]}),s.jsxs("div",{className:ze.columnsWrapper,children:[q("unassigned","Unassigned","Noch ohne Planung",v),q("main","Main guild","Take & Assign main",m),q("watch","Watchlist","Bench for review",p),u.map(H=>{var ee;return q("partner",H.label,"Take & Assign partner",(ee=x[H.id])!=null?ee:[],H.id)}),s.jsx("button",{type:"button",className:ze.addPartnerCard,onClick:()=>o(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ze.contextMenuBackdrop,onClick:()=>I(null)}),s.jsxs("div",{className:ze.contextMenu,style:{top:P.y,left:P.x},children:[s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"watch"),children:"Move to Watchlist"}),u.map(H=>s.jsxs("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(P.memberId,"partner",H.id),children:["Move to ",H.label]},H.id))]})]}):null]})}const ine="_scenariosTab_apcjh_1",ane="_scenariosHeader_apcjh_7",one="_scenariosTitle_apcjh_18",lne="_scenariosText_apcjh_23",cne="_scenarioInfo_apcjh_29",dne="_headerActions_apcjh_36",une="_createButton_apcjh_41",hne="_scenarioList_apcjh_58",mne="_scenarioCard_apcjh_64",pne="_scenarioCardActive_apcjh_74",fne="_scenarioCardTop_apcjh_79",gne="_cardKicker_apcjh_85",xne="_cardTitle_apcjh_93",vne="_cardText_apcjh_99",yne="_scenarioActiveBadge_apcjh_105",bne="_scenarioMeta_apcjh_116",_ne="_scenarioMetaLabel_apcjh_122",wne="_scenarioMetaValue_apcjh_130",jne="_scenarioStats_apcjh_135",Sne="_scenarioStatItem_apcjh_141",Nne="_scenarioStatLabel_apcjh_148",kne="_scenarioStatValue_apcjh_156",Cne="_scenarioActions_apcjh_161",Tne="_scenarioActionButton_apcjh_169",Ene="_scenarioActionActive_apcjh_184",Ane="_scenarioActionGroup_apcjh_189",Ine="_secondaryActionButton_apcjh_195",Rne="_deleteActionButton_apcjh_196",Pne="_deleteActionDisabled_apcjh_222",ct={scenariosTab:ine,scenariosHeader:ane,scenariosTitle:one,scenariosText:lne,scenarioInfo:cne,headerActions:dne,createButton:une,scenarioList:hne,scenarioCard:mne,scenarioCardActive:pne,scenarioCardTop:fne,cardKicker:gne,cardTitle:xne,cardText:vne,scenarioActiveBadge:yne,scenarioMeta:bne,scenarioMetaLabel:_ne,scenarioMetaValue:wne,scenarioStats:jne,scenarioStatItem:Sne,scenarioStatLabel:Nne,scenarioStatValue:kne,scenarioActions:Cne,scenarioActionButton:Tne,scenarioActionActive:Ene,scenarioActionGroup:Ane,secondaryActionButton:Ine,deleteActionButton:Rne,deleteActionDisabled:Pne};function Lne({scenarios:t,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:o,onDeleteScenario:c}){const d=re.useCallback(p=>{const x=Object.values(p.decisions),v=x.filter(I=>I==="take").length,j=x.filter(I=>I==="bench").length,N=x.filter(I=>I==="drop").length,P=Math.max(0,p.maxSlots-p.reservedSlots-v);return{selected:v,bench:j,drop:N,free:P}},[]),u=p=>{const x=window.prompt("Neuer Szenario-Name",p.name);x!==null&&o(p.id,x)},m=p=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&c(p.id)};return s.jsxs("div",{className:ct.scenariosTab,children:[s.jsxs("div",{className:ct.scenariosHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ct.cardKicker,children:"Scenarios"}),s.jsx("h3",{className:ct.scenariosTitle,children:"Fusion Plans verwalten"}),s.jsx("p",{className:ct.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),s.jsx("div",{className:ct.headerActions,children:s.jsx("button",{type:"button",className:ct.createButton,onClick:r,children:"Neues Szenario"})})]}),s.jsx("p",{className:ct.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),s.jsx("div",{className:ct.scenarioList,children:t.map(p=>{const x=d(p),v=p.id===e,j=t.length<=1;return s.jsxs("article",{className:`${ct.scenarioCard} ${v?ct.scenarioCardActive:""}`,children:[s.jsxs("div",{className:ct.scenarioCardTop,children:[s.jsxs("div",{children:[s.jsx("p",{className:ct.cardKicker,children:"Scenario"}),s.jsx("h3",{className:ct.cardTitle,children:p.name}),p.description?s.jsx("p",{className:ct.cardText,children:p.description}):null]}),v?s.jsx("span",{className:ct.scenarioActiveBadge,children:"Active"}):null]}),s.jsxs("div",{className:ct.scenarioMeta,children:[s.jsxs("div",{children:[s.jsx("span",{className:ct.scenarioMetaLabel,children:"Max slots"}),s.jsx("span",{className:ct.scenarioMetaValue,children:p.maxSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:ct.scenarioMetaLabel,children:"Reserved"}),s.jsx("span",{className:ct.scenarioMetaValue,children:p.reservedSlots})]})]}),s.jsxs("div",{className:ct.scenarioStats,children:[s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Selected"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.selected})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Free"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.free})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Bench"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.bench})]}),s.jsxs("div",{className:ct.scenarioStatItem,children:[s.jsx("span",{className:ct.scenarioStatLabel,children:"Drop"}),s.jsx("strong",{className:ct.scenarioStatValue,children:x.drop})]})]}),s.jsxs("div",{className:ct.scenarioActions,children:[s.jsx("button",{type:"button",className:`${ct.scenarioActionButton} ${v?ct.scenarioActionActive:""}`,onClick:()=>n(p.id),children:"Set active"}),s.jsxs("div",{className:ct.scenarioActionGroup,children:[s.jsx("button",{type:"button",className:ct.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),s.jsx("button",{type:"button",className:ct.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),s.jsx("button",{type:"button",className:`${ct.deleteActionButton} ${j?ct.deleteActionDisabled:""}`,onClick:()=>m(p),disabled:j,children:"Delete"})]})]})]},p.id)})})]})}const Dne="_resultWrap_1cgq6_1",Mne="_emptyState_1cgq6_7",Fne="_emptyTitle_1cgq6_18",Bne="_emptyText_1cgq6_22",$ne="_resultHeader_1cgq6_28",Vne="_resultKicker_1cgq6_40",One="_resultTitle_1cgq6_48",Une="_resultText_1cgq6_54",zne="_emptyNote_1cgq6_60",Hne="_setupSummary_1cgq6_66",Gne="_setupSummaryTitle_1cgq6_75",Wne="_setupSummaryRow_1cgq6_80",qne="_setupSummaryLabel_1cgq6_86",Kne="_setupSummaryValue_1cgq6_93",Qne="_setupSummaryMeta_1cgq6_98",Xne="_setupSummaryTags_1cgq6_103",Yne="_setupSummaryTag_1cgq6_103",Jne="_classDistribution_1cgq6_121",Zne="_resultStats_1cgq6_127",ere="_resultStatBadge_1cgq6_134",tre="_resultStatBadgeMuted_1cgq6_135",sre="_group_1cgq6_154",nre="_groupHeader_1cgq6_164",rre="_groupTitle_1cgq6_171",ire="_groupHint_1cgq6_176",are="_groupBadge_1cgq6_181",ore="_badgeSuccess_1cgq6_194",lre="_badgeMuted_1cgq6_200",cre="_badgeDanger_1cgq6_205",dre="_groupEmpty_1cgq6_211",ure="_groupTable_1cgq6_219",hre="_groupRow_1cgq6_228",mre="_groupHead_1cgq6_164",pre="_groupCell_1cgq6_246",fre="_memberName_1cgq6_251",gre="_memberBadge_1cgq6_255",Ge={resultWrap:Dne,emptyState:Mne,emptyTitle:Fne,emptyText:Bne,resultHeader:$ne,resultKicker:Vne,resultTitle:One,resultText:Une,emptyNote:zne,setupSummary:Hne,setupSummaryTitle:Gne,setupSummaryRow:Wne,setupSummaryLabel:qne,setupSummaryValue:Kne,setupSummaryMeta:Qne,setupSummaryTags:Xne,setupSummaryTag:Yne,classDistribution:Jne,resultStats:Zne,resultStatBadge:ere,resultStatBadgeMuted:tre,group:sre,groupHeader:nre,groupTitle:rre,groupHint:ire,groupBadge:are,badgeSuccess:ore,badgeMuted:lre,badgeDanger:cre,groupEmpty:dre,groupTable:ure,groupRow:hre,groupHead:mre,groupCell:pre,memberName:fre,memberBadge:gre};function xre({members:t,scenario:e,setupState:n}){var N;if(!e)return s.jsxs("div",{className:Ge.emptyState,children:[s.jsx("h3",{className:Ge.emptyTitle,children:"No scenario selected"}),s.jsx("p",{className:Ge.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return s.jsxs("div",{className:Ge.emptyState,children:[s.jsx("h3",{className:Ge.emptyTitle,children:"No members available"}),s.jsx("p",{className:Ge.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:o,undecidedMembers:c}=re.useMemo(()=>{const P=[],I=[],F=[],B=[];return t.forEach(T=>{var w;const y=(w=e.decisions[T.id])!=null?w:"undecided";y==="take"?P.push(T):y==="bench"?I.push(T):y==="drop"?F.push(T):B.push(T)}),{takeMembers:P,benchMembers:I,dropMembers:F,undecidedMembers:B}},[t,e.decisions]),d=r.length,u=i.length,m=o.length,p=Math.max(0,e.maxSlots-d),x=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=re.useMemo(()=>{const P=r.reduce((F,B)=>{var y,w;const T=(y=B.className)!=null?y:B.class;return T&&(F[T]=((w=F[T])!=null?w:0)+1),F},{});return Object.entries(P).map(([F,B])=>`${F}: ${B}`).join(" | ")},[r]),j=(P,I,F,B)=>s.jsxs("div",{className:Ge.group,children:[s.jsxs("div",{className:Ge.groupHeader,children:[s.jsxs("div",{children:[s.jsx("h4",{className:Ge.groupTitle,children:P}),s.jsx("span",{className:Ge.groupHint,children:I})]}),s.jsx("span",{className:`${Ge.groupBadge} ${B}`,children:F.length})]}),F.length===0?s.jsx("div",{className:Ge.groupEmpty,children:"No players in this group."}):s.jsxs("div",{className:Ge.groupTable,role:"table",children:[s.jsxs("div",{className:`${Ge.groupRow} ${Ge.groupHead}`,role:"row",children:[s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Name"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Level"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Guild"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Class"})]}),F.map(T=>{var y,w;return s.jsxs("div",{className:Ge.groupRow,role:"row",children:[s.jsx("div",{className:Ge.groupCell,role:"cell",children:s.jsx("span",{className:Ge.memberName,children:T.name})}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:s.jsxs("span",{className:Ge.memberBadge,children:["Lvl ",T.level]})}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:T.guildName}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:(w=(y=T.className)!=null?y:T.class)!=null?w:"-"})]},T.id)})]})]});return s.jsxs("div",{className:Ge.resultWrap,children:[s.jsxs("div",{className:Ge.resultHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ge.resultKicker,children:"Final Plan"}),s.jsx("h3",{className:Ge.resultTitle,children:e.name}),s.jsx("p",{className:Ge.resultText,children:(N=e.description)!=null?N:"Zusammenfassung des aktuellen Plans."}),r.length===0?s.jsx("p",{className:Ge.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?s.jsxs("p",{className:Ge.classDistribution,children:["Class distribution: ",v]}):null,s.jsxs("div",{className:Ge.setupSummary,children:[s.jsx("div",{className:Ge.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Base"}),s.jsxs("span",{className:Ge.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Ge.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Base"}),s.jsx("span",{className:Ge.setupSummaryMeta,children:"No base guild selected."})]}),s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?s.jsx("div",{className:Ge.setupSummaryTags,children:n.partnerGuilds.map(P=>s.jsxs("span",{className:Ge.setupSummaryTag,children:[P.name||"Unbenannt"," ",s.jsxs("span",{className:Ge.setupSummaryMeta,children:["(",P.server||"Server n/a",")"]})]},P.id))}):s.jsx("span",{className:Ge.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),s.jsxs("div",{className:Ge.resultStats,children:[s.jsxs("span",{className:Ge.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Bench: ",u]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Drop: ",m]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Free slots: ",p]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Utilization: ",x,"%"]}),c.length>0?s.jsxs("span",{className:Ge.resultStatBadgeMuted,children:["Undecided: ",c.length]}):null]})]}),j("Final roster (selected)","Take",r,Ge.badgeSuccess),j("Bench (waiting list)","Bench",i,Ge.badgeMuted),j("Not included","Drop",o,Ge.badgeDanger)]})}const Rm=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],ij=t=>t.reduce((e,n)=>(e[n.id]="undecided",e),{}),aj=t=>t.reduce((e,n)=>(e[n.id]="none",e),{}),vre=(t,e,n)=>{var r,i,o,c,d,u,m,p,x,v,j,N,P,I,F,B;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(o=t.class)!=null?o:void 0,role:(c=t.role)!=null?c:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(m=t.baseMain)!=null?m:void 0,con:(p=t.conBase)!=null?p:void 0,sumBaseTotal:(x=t.sumBaseTotal)!=null?x:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(j=t.treasury)!=null?j:void 0,mine:(N=t.mine)!=null?N:void 0,attrTotal:(P=t.attrTotal)!=null?P:void 0,conTotal:(I=t.conTotal)!=null?I:void 0,lastScan:(F=t.lastScan)!=null?F:void 0,lastActivity:(B=t.lastActivity)!=null?B:void 0}}},yre=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=t.name)==null?void 0:i.trim();return n||null},oj=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,lj=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],bre=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function _re(){var $;const[t,e]=re.useState("setup"),[n,r]=re.useState(Rm),[i,o]=re.useState(!1),[c,d]=re.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,m]=re.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:ij(Rm),targetGuildAssignments:aj(Rm),isDefault:!0}]),[p,x]=re.useState("plan-a"),v=re.useMemo(()=>{var q,z;return(z=(q=u.find(W=>W.id===p))!=null?q:u[0])!=null?z:null},[p,u]),j=re.useMemo(()=>{var Q,H;const q=c.baseGuild,z=(Q=q==null?void 0:q.name)==null?void 0:Q.trim(),W=(H=q==null?void 0:q.server)==null?void 0:H.trim();return!!(z&&W)},[c.baseGuild]),N=re.useMemo(()=>n.length>0,[n.length]),P=re.useMemo(()=>u.length>0,[u.length]),I=re.useMemo(()=>{const q=[];return j||q.push("Setup incomplete - no base guild selected."),j&&!N&&q.push("No members loaded yet. Check scans or setup."),P||q.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),q},[j,N,P]),F=(q,z)=>{m(W=>W.map(Q=>Q.id===p?{...Q,decisions:{...Q.decisions,[q]:z}}:Q))},B=(q,z)=>{m(W=>W.map(Q=>{var H;return Q.id===p?{...Q,targetGuildAssignments:{...(H=Q.targetGuildAssignments)!=null?H:{},[q]:z}}:Q}))},T=q=>{const z=Number(q)||0;m(W=>W.map(Q=>Q.id===p?{...Q,maxSlots:Math.max(0,z)}:Q))},y=()=>{m(q=>{const z={id:oj(),name:`Plan ${q.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:ij(n),targetGuildAssignments:aj(n)};return x(z.id),[...q,z]})},w=q=>{m(z=>{var H;const W=z.find(ee=>ee.id===q);if(!W)return z;const Q={...W,id:oj(),name:`${W.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...W.decisions},targetGuildAssignments:{...(H=W.targetGuildAssignments)!=null?H:{}}};return x(Q.id),[...z,Q]})},M=(q,z)=>{const W=z.trim();W&&m(Q=>Q.map(H=>H.id===q?{...H,name:W}:H))},C=q=>{m(z=>{if(z.length<=1)return z;const W=z.filter(Q=>Q.id!==q);return W.length?(p===q&&x(W[0].id),W):z})};re.useEffect(()=>{if(c.mode!=="scan"){o(!1),r(Rm);return}const q=[c.baseGuild,...c.partnerGuilds].filter(Boolean);if(q.length===0){o(!1),r([]);return}let z=!1;async function W(){var Q,H,ee,ne,G,te,ce,Z,pe,Ce;o(!0);try{const ge=[];for(const Te of q){const Ne=yre(Te);if(!Ne)continue;const Ke=Yt(_t,`guilds/${Ne}/latest/latest`),It=await fn(Ke),he=It.exists()?It.data():null,De=(G=(ne=(H=(Q=Te.name)==null?void 0:Q.trim())!=null?H:he==null?void 0:he.name)!=null?ne:(ee=he==null?void 0:he.values)==null?void 0:ee.Name)!=null?G:Ne,Ue=(Ce=(pe=(ce=(te=Te.server)==null?void 0:te.trim())!=null?ce:he==null?void 0:he.server)!=null?pe:(Z=he==null?void 0:he.values)==null?void 0:Z.Server)!=null?Ce:null,Rt=Yt(_t,`guilds/${Ne}/snapshots/members_summary`),Vt=await fn(Rt);if(!Vt.exists())continue;const ys=Vt.data();(Array.isArray(ys.members)?ys.members:[]).forEach(In=>{ge.push(vre(In,De,Ue))})}z||r(ge)}catch(ge){console.error("[FusionPlanner] Failed to load members",ge),z||r([])}finally{z||o(!1)}}return r([]),W(),()=>{z=!0}},[c.baseGuild,c.partnerGuilds,c.mode]),re.useEffect(()=>{i||m(q=>q.map(z=>{var ee;const W=new Set(n.map(ne=>ne.id)),Q={...z.decisions},H={...(ee=z.targetGuildAssignments)!=null?ee:{}};return n.forEach(ne=>{Q[ne.id]||(Q[ne.id]="undecided"),H[ne.id]||(H[ne.id]="none")}),Object.keys(Q).forEach(ne=>{W.has(ne)||delete Q[ne]}),Object.keys(H).forEach(ne=>{W.has(ne)||delete H[ne]}),{...z,decisions:Q,targetGuildAssignments:H}}))},[n,i]);const _=q=>{d(z=>({...z,mode:q}))},E=q=>{d(z=>{var Q,H,ee;const W=(Q=z.baseGuild)!=null?Q:{id:"base-1",kind:"base",name:"",server:""};return{...z,baseGuild:{...W,...q.id?{id:q.id}:{},name:(H=q.name)!=null?H:W.name,server:(ee=q.server)!=null?ee:W.server}}})},L=q=>{var H;if(!q.name.trim()||!q.server.trim())return;const z=q.name.trim(),W=q.server.trim(),Q=(H=q.id)==null?void 0:H.trim();d(ee=>({...ee,partnerGuilds:[...ee.partnerGuilds,{id:Q&&!Q.startsWith("partner-")?Q:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:z,server:W,kind:"partner"}]}))},R=q=>{d(z=>({...z,partnerGuilds:z.partnerGuilds.filter(W=>W.id!==q)}))},V=()=>{switch(t){case"setup":return s.jsx(jte,{setupState:c,onChangeMode:_,onChangeBaseGuild:E,onAddPartnerGuild:L,onRemovePartnerGuild:R});case"members":return s.jsx(yse,{members:n,scenario:v,onChangeScenarioDecision:F,onChangeScenarioTargetGuild:B,onChangeScenarioMaxSlots:T,setupState:c});case"overview":return s.jsx(rne,{members:n,scenario:v,setupState:c,onChangeScenarioDecision:F,onChangeScenarioTargetGuild:B,onAddPartnerGuild:q=>L({name:q,server:"tbd"})});case"scenarios":return s.jsx(Lne,{scenarios:u,activeScenarioId:p,onSetActiveScenario:x,onCreateScenario:y,onDuplicateScenario:w,onRenameScenario:M,onDeleteScenario:C});case"result":return s.jsx(xre,{members:n,scenario:v,setupState:c});default:return null}};return s.jsx(vt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:s.jsxs("div",{className:We.page,children:[s.jsxs("header",{className:We.header,children:[s.jsxs("div",{className:We.headerLeading,children:[s.jsx(Mt,{to:"/guild-hub",className:We.backLink,children:"Back to Guild Hub"}),s.jsxs("div",{className:We.headerStack,children:[s.jsx("p",{className:We.kicker,children:"Guild Hub"}),s.jsx("h1",{className:We.title,children:"Fusion Planner"}),s.jsx("p",{className:We.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),s.jsxs("div",{className:We.headerActions,children:[s.jsx("button",{type:"button",className:We.primaryAction,children:"Neues Setup"}),s.jsx("button",{type:"button",className:We.secondaryAction,children:"Checkliste"})]})]}),I.length?s.jsx("div",{className:We.plannerNotice,role:"status","aria-live":"polite",children:I.map(q=>s.jsxs("div",{className:`${We.noticeItem} ${q.toLowerCase().includes("no base guild")?We.noticeWarning:""}`,children:[s.jsx("span",{className:We.noticeDot,"aria-hidden":!0}),s.jsx("span",{children:q})]},q))}):null,s.jsxs("section",{className:We.tabSection,"aria-label":"Fusion Planner Tabs",children:[s.jsx("div",{className:We.tabBar,children:lj.map(q=>{const z=q.key===t;return s.jsxs("button",{type:"button",className:`${We.tabItem} ${z?We.tabItemActive:""}`,onClick:()=>e(q.key),"aria-pressed":z,children:[s.jsx("span",{className:We.tabLabel,children:q.label}),s.jsx("span",{className:We.tabHelper,children:q.helper})]},q.key)})}),s.jsxs("div",{className:We.tabPanel,children:[s.jsx("span",{className:We.tabBadge,children:($=lj.find(q=>q.key===t))==null?void 0:$.label}),V()]})]}),s.jsxs("section",{className:We.infoStrip,children:[s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Status"}),s.jsx("strong",{children:"Entwurf"}),s.jsx("p",{className:We.infoHint,children:"Bereit fuer weitere Eingaben."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Slots geplant"}),s.jsx("strong",{children:"0 / 40"}),s.jsx("p",{className:We.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Szenarien"}),s.jsx("strong",{children:"3"}),s.jsx("p",{className:We.infoHint,children:"Baseline, Optimistic, Risiko."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Letztes Update"}),s.jsx("strong",{children:"vor wenigen Minuten"}),s.jsx("p",{className:We.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),s.jsx("section",{className:We.stageGrid,children:bre.map(q=>s.jsxs("article",{className:We.panel,children:[s.jsxs("div",{className:We.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.panelKicker,children:q.step}),s.jsx("h2",{className:We.panelTitle,children:q.title}),s.jsx("p",{className:We.panelLead,children:q.description})]}),q.badge?s.jsx("span",{className:We.badge,children:q.badge}):null]}),s.jsx("div",{className:We.panelBody,children:s.jsx("div",{className:We.placeholderGrid,children:q.placeholders.map(z=>s.jsxs("div",{className:We.placeholderCard,children:[s.jsx("div",{className:We.placeholderTitle,children:z}),s.jsx("p",{className:We.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},z))})})]},q.key))}),s.jsx("section",{className:We.helperSection,children:s.jsxs("div",{className:We.helperCard,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.helperKicker,children:"Result"}),s.jsx("h3",{className:We.helperTitle,children:"Finaler Merge-Plan"}),s.jsx("p",{className:We.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),s.jsxs("div",{className:We.helperActions,children:[s.jsx("button",{type:"button",className:We.secondaryAction,children:"Teilen"}),s.jsx("button",{type:"button",className:We.primaryAction,children:"Review starten"})]})]})})]})})}const wre="_page_18qex_1",jre="_header_18qex_7",Sre="_headerStack_18qex_13",Nre="_kicker_18qex_19",kre="_title_18qex_27",Cre="_subtitle_18qex_33",Tre="_headerActions_18qex_40",Ere="_secondaryAction_18qex_45",Are="_infoStrip_18qex_66",Ire="_infoCard_18qex_72",Rre="_infoLabel_18qex_82",Pre="_inlineFilters_18qex_89",Lre="_filterField_18qex_99",Dre="_select_18qex_114",Mre="_searchInput_18qex_115",Fre="_layout_18qex_125",Bre="_selectionColumn_18qex_131",$re="_selectionCard_18qex_137",Vre="_slotHeader_18qex_147",Ore="_slotLabel_18qex_154",Ure="_slotStatus_18qex_162",zre="_clearButton_18qex_168",Hre="_slotBody_18qex_178",Gre="_resultList_18qex_184",Wre="_emptyResult_18qex_193",qre="_resultItem_18qex_199",Kre="_resultName_18qex_211",Qre="_resultMeta_18qex_217",Xre="_selectButton_18qex_223",Yre="_selectedCard_18qex_233",Jre="_selectedName_18qex_240",Zre="_selectedMeta_18qex_245",eie="_selectedTagline_18qex_246",tie="_comparisonColumn_18qex_252",sie="_comparisonCard_18qex_258",nie="_comparisonHeader_18qex_268",rie="_sectionTitle_18qex_276",iie="_diffBadge_18qex_281",aie="_metricGrid_18qex_290",oie="_metricCard_18qex_296",lie="_metricLabel_18qex_306",cie="_metricValues_18qex_314",die="_metricDivider_18qex_322",uie="_metricDelta_18qex_327",hie="_freshnessRow_18qex_333",mie="_freshnessItem_18qex_339",pie="_freshnessBadge_18qex_343",fie="_freshnessPopover_18qex_367",gie="_popoverTitle_18qex_379",xie="_classCard_18qex_404",vie="_classGrid_18qex_414",yie="_classColumn_18qex_419",bie="_classBar_18qex_429",_ie="_classSlice_18qex_437",wie="_classLegend_18qex_454",jie="_emptyState_18qex_466",Sie="_supportPanels_18qex_474",Nie="_checklistCard_18qex_480",kie="_infoCardExtended_18qex_481",Cie="_checklist_18qex_480",Tie="_infoNote_18qex_517",Eie="_sheetOverlay_18qex_523",Aie="_sheetOpen_18qex_537",Iie="_sheet_18qex_523",Rie="_sheetHeader_18qex_553",Pie="_sheetBody_18qex_560",Ae={page:wre,header:jre,headerStack:Sre,kicker:Nre,title:kre,subtitle:Cre,headerActions:Tre,secondaryAction:Ere,infoStrip:Are,infoCard:Ire,infoLabel:Rre,inlineFilters:Pre,filterField:Lre,select:Dre,searchInput:Mre,layout:Fre,selectionColumn:Bre,selectionCard:$re,slotHeader:Vre,slotLabel:Ore,slotStatus:Ure,clearButton:zre,slotBody:Hre,resultList:Gre,emptyResult:Wre,resultItem:qre,resultName:Kre,resultMeta:Qre,selectButton:Xre,selectedCard:Yre,selectedName:Jre,selectedMeta:Zre,selectedTagline:eie,comparisonColumn:tie,comparisonCard:sie,comparisonHeader:nie,sectionTitle:rie,diffBadge:iie,metricGrid:aie,metricCard:oie,metricLabel:lie,metricValues:cie,metricDivider:die,metricDelta:uie,freshnessRow:hie,freshnessItem:mie,freshnessBadge:pie,freshnessPopover:fie,popoverTitle:gie,classCard:xie,classGrid:vie,classColumn:yie,classBar:bie,classSlice:_ie,classLegend:wie,emptyState:jie,supportPanels:Sie,checklistCard:Nie,infoCardExtended:kie,checklist:Cie,infoNote:Tie,sheetOverlay:Eie,sheetOpen:Aie,sheet:Iie,sheetHeader:Rie,sheetBody:Pie},Uv=["EU-01","EU-02","US-01","US-02","ASIA-01"],eu=new Intl.NumberFormat("de-DE");function Lie(){const t=wu("(min-width: 768px)"),[e,n]=re.useState("all"),[r,i]=re.useState(null),[o,c]=re.useState(null),[d,u]=re.useState(null),[m,p]=re.useState(null),x=[r,o].filter(Boolean).length,v=re.useMemo(()=>{const R=[d,m].filter(Boolean);if(!R.length)return 0;const V=R.reduce(($,q)=>{var z;return $+((z=q.members)!=null?z:0)},0);return Math.round(V/R.length)},[d,m]),[j,N]=re.useState(null),[P,I]=re.useState(!1),F=re.useRef(null);Su(F,P&&!t),re.useEffect(()=>{t&&I(!1)},[t]),re.useEffect(()=>{if(!j)return;const R=$=>{const q=$.target;q&&(q.closest(`.${Ae.freshnessBadge}`)||q.closest(`.${Ae.freshnessPopover}`)||N(null))},V=$=>{$.key==="Escape"&&N(null)};return document.addEventListener("pointerdown",R),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",R),document.removeEventListener("keydown",V)}},[j]);const B=re.useMemo(()=>d?Ov(d.nextUpdateAt,Date.now()):"",[d]),T=re.useMemo(()=>m?Ov(m.nextUpdateAt,Date.now()):"",[m]),y=()=>I(!0),w=()=>I(!1),M=R=>{n(R)},C=(R,V)=>{R==="guildA"?(i(V.id),u(V)):(c(V.id),p(V))},_=R=>{R==="guildA"?(i(null),u(null)):(c(null),p(null))},E=R=>{N(V=>V===R?null:R)},L=d&&m;return s.jsxs(vt,{title:"Guild Hub",subtitle:"Fusion",centerFramed:!1,children:[s.jsxs("div",{className:Ae.page,children:[s.jsxs("header",{className:Ae.header,children:[s.jsxs("div",{className:Ae.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ae.kicker,children:"Guild Hub"}),s.jsx("h1",{className:Ae.title,children:"Fusion vorbereiten"}),s.jsx("p",{className:Ae.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken bevor du eine Fusion bestaetigst."})]}),s.jsx("div",{className:Ae.headerActions,children:!t&&s.jsx("button",{type:"button",className:Ae.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:Ae.infoStrip,children:[s.jsxs("div",{className:Ae.infoCard,children:[s.jsx("span",{className:Ae.infoLabel,children:"Pool"}),s.jsxs("strong",{children:[eu.format(x)," Gilden"]})]}),s.jsxs("div",{className:Ae.infoCard,children:[s.jsx("span",{className:Ae.infoLabel,children:"Durchschnitt Mitglieder"}),s.jsx("strong",{children:eu.format(v)})]}),s.jsxs("div",{className:Ae.infoCard,children:[s.jsx("span",{className:Ae.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:Ae.inlineFilters,children:s.jsxs("label",{className:Ae.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:Ae.select,value:e,onChange:R=>M(R.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Uv.map(R=>s.jsx("option",{value:R,children:R},R))]})]})})]}),s.jsxs("div",{className:Ae.layout,children:[s.jsxs("section",{className:Ae.selectionColumn,children:[s.jsx(cj,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:o,onSelect:C,onClear:_,serverFilter:e,onServerChange:M}),s.jsx(cj,{title:"Gilde B",slot:"guildB",selectedGuild:m,excludeId:r,onSelect:C,onClear:_,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:Ae.comparisonColumn,children:[s.jsxs("div",{className:Ae.comparisonCard,children:[s.jsxs("div",{className:Ae.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ae.kicker,children:"Vergleich"}),s.jsx("h2",{className:Ae.sectionTitle,children:"Kennzahlen"})]}),L&&s.jsxs("span",{className:Ae.diffBadge,children:["Delta Mitglieder:"," ",eu.format(d.members-m.members)]})]}),L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ae.metricGrid,children:[s.jsx(dj,{label:"Mitglieder",aValue:d.members,bValue:m.members}),s.jsx(dj,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:m.avgLevel,isDecimal:!0}),s.jsx(Die,{guildA:d,guildB:m,countdownA:B,countdownB:T,activePopover:j,onToggle:E})]}),s.jsx(Mie,{guildA:d,guildB:m})]}):s.jsx("div",{className:Ae.emptyState,children:s.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:Ae.supportPanels,children:[s.jsx(Fie,{}),s.jsx(Bie,{})]})]})]})]}),!t&&s.jsx("div",{className:`${Ae.sheetOverlay} ${P?Ae.sheetOpen:""}`,children:s.jsxs("div",{className:Ae.sheet,role:"dialog","aria-modal":"true",ref:F,children:[s.jsxs("header",{className:Ae.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:Ae.clearButton,onClick:w,children:"Schliessen"})]}),s.jsx("div",{className:Ae.sheetBody,children:s.jsxs("label",{className:Ae.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:Ae.select,value:e,onChange:R=>M(R.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Uv.map(R=>s.jsx("option",{value:R,children:R},R))]})]})})]})})]})}function cj({title:t,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:o,serverFilter:c,onServerChange:d}){const[u,m]=re.useState(""),p=ju(u,300);re.useEffect(()=>{m("")},[n,c]);const{results:x,loading:v}=$ie(p,c,r);return s.jsxs("article",{className:Ae.selectionCard,children:[s.jsxs("div",{className:Ae.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ae.slotLabel,children:t}),s.jsx("p",{className:Ae.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:Ae.clearButton,onClick:()=>o(e),children:"Reset"})]}),s.jsxs("div",{className:Ae.slotBody,children:[s.jsxs("label",{className:Ae.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:Ae.select,value:c,onChange:j=>d(j.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),Uv.map(j=>s.jsx("option",{value:j,children:j},j))]})]}),s.jsxs("label",{className:Ae.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:Ae.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:j=>m(j.target.value)})]}),s.jsxs("div",{className:Ae.resultList,role:"list",children:[v&&s.jsx("div",{className:Ae.emptyResult,children:"Lade..."}),!v&&x.length===0&&s.jsx("div",{className:Ae.emptyResult,children:"Keine Gilde gefunden."}),!v&&x.map(j=>s.jsxs("div",{className:Ae.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ae.resultName,children:j.name}),s.jsxs("p",{className:Ae.resultMeta,children:[j.server," - ",j.members," Mitglieder"]})]}),s.jsx("button",{type:"button",className:Ae.selectButton,onClick:()=>i(e,j),children:"Waehlen"})]},j.id))]}),n&&s.jsxs("div",{className:Ae.selectedCard,children:[s.jsx("p",{className:Ae.selectedName,children:n.name}),s.jsxs("p",{className:Ae.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),s.jsx("p",{className:Ae.selectedTagline,children:n.tagline})]})]})]})}function dj({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):eu.format(d),o=e-n;let c="gleich";if(o!==0){const d=r?Math.abs(o).toFixed(1).replace(".",","):eu.format(Math.abs(o));c=o>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:Ae.metricCard,children:[s.jsx("p",{className:Ae.metricLabel,children:t}),s.jsxs("div",{className:Ae.metricValues,children:[s.jsx("span",{"aria-label":"Gilde A",children:i(e)}),s.jsx("span",{className:Ae.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),s.jsx("p",{className:Ae.metricDelta,children:c})]})}function Die({guildA:t,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:o}){return s.jsxs("div",{className:Ae.metricCard,children:[s.jsx("p",{className:Ae.metricLabel,children:"Freshness"}),s.jsx("div",{className:Ae.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,m=i===u;return s.jsxs("div",{className:Ae.freshnessItem,children:[s.jsxs("button",{type:"button",className:Ae.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":m,onClick:()=>o(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:mf(c.lastScanAt)})]}),m&&s.jsxs("div",{className:Ae.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:Ae.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:v5[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:Ya(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[Ya(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function Mie({guildA:t,guildB:e}){const n=re.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return s.jsxs("div",{className:Ae.classCard,children:[s.jsx("p",{className:Ae.metricLabel,children:"Klassenverteilung"}),s.jsx("div",{className:Ae.classGrid,children:[t,e].map(r=>s.jsxs("div",{className:Ae.classColumn,children:[s.jsx("h3",{children:r.name}),s.jsx("div",{className:Ae.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>s.jsxs("span",{style:{width:`${i.percent}%`},className:Ae.classSlice,children:[s.jsx("small",{children:i.label}),s.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),s.jsx("ul",{className:Ae.classLegend,children:n.map(r=>s.jsx("li",{children:r},r))})]})}function Fie(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return s.jsxs("section",{className:Ae.checklistCard,children:[s.jsx("h3",{children:"Vor der Fusion pruefen"}),s.jsx("ul",{className:Ae.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function Bie(){return s.jsxs("section",{className:Ae.infoCardExtended,children:[s.jsx("h3",{children:"Transfers-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:Ae.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),s.jsx("button",{type:"button",className:Ae.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function $ie(t,e,n){const[r,i]=re.useState([]),[o,c]=re.useState(!1);return re.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function m(){c(!0);try{const p=d.toLowerCase(),x=Ly(_t,"latest"),v=await pn(Cn(x,wi("nameFold"),Zl(p),ec(p+""),Tn(15))),j=await pn(Cn(x,ni("nameNgrams","array-contains",p),Tn(15))),N=new Set,P=[],I=F=>{var V,$,q,z,W,Q,H,ee,ne,G,te,ce,Z,pe,Ce,ge,Te,Ne,Ke,It,he;const B=F.data(),y=(V=F.ref.parent)==null?void 0:V.parent,w=y==null?void 0:y.parent;if((w==null?void 0:w.id)!=="guilds")return;const C=(q=($=y==null?void 0:y.id)!=null?$:B.guildIdentifier)!=null?q:F.id;if(!C||N.has(C)||n&&C===n)return;const _=(Q=(W=B.name)!=null?W:(z=B.values)==null?void 0:z.Name)!=null?Q:"Unbekannte Gilde",E=(ne=(ee=B.server)!=null?ee:(H=B.values)==null?void 0:H.Server)!=null?ne:"Unknown";if(e!=="all"&&E!==e)return;const L=(pe=(Z=(te=B.memberCount)!=null?te:(G=B.values)==null?void 0:G["Guild Member Count"])!=null?Z:(ce=B.values)==null?void 0:ce.GuildMemberCount)!=null?pe:0,R=(Te=(ge=B.updatedAt)!=null?ge:(Ce=B.values)==null?void 0:Ce.UpdatedAt)!=null?Te:B.timestamp?new Date(B.timestamp*1e3).toISOString():new Date().toISOString();N.add(C),P.push({id:C,name:_,tagline:(Ne=B.tagline)!=null?Ne:"",server:E,members:L,avgLevel:(he=(It=B.avgLevel)!=null?It:(Ke=B.values)==null?void 0:Ke.AvgLevel)!=null?he:0,lastScanAt:R,updatedAt:R,nextUpdateAt:R,freshness:"unknown",classes:[]})};v.forEach(I),j.forEach(I),u||(P.sort((F,B)=>F.name.localeCompare(B.name)),i(P))}catch(p){console.error("[GuildHub Fusion] guild search failed",p),u||i([])}finally{u||c(!1)}}return m(),()=>{u=!0}},[t,e,n]),{results:r,loading:o}}const Vie="_page_12946_1",Oie="_header_12946_7",Uie="_headerStack_12946_13",zie="_kicker_12946_19",Hie="_title_12946_27",Gie="_headerActions_12946_33",Wie="_primaryAction_12946_39",qie="_secondaryAction_12946_40",Kie="_infoStrip_12946_55",Qie="_infoPill_12946_65",Xie="_freshnessWrapper_12946_82",Yie="_freshnessBadge_12946_86",Jie="_popover_12946_96",Zie="_popoverLabel_12946_111",eae="_filterToolbar_12946_116",tae="_filterSheetButton_12946_121",sae="_inlineFilters_12946_130",nae="_searchInput_12946_136",rae="_select_12946_137",iae="_chipGroup_12946_148",aae="_chip_12946_148",oae="_chipActive_12946_163",lae="_levelRow_12946_168",cae="_sortControls_12946_182",dae="_sortLabel_12946_188",uae="_directionButton_12946_193",hae="_listBody_12946_202",mae="_tableWrapper_12946_208",pae="_table_12946_208",fae="_cardFooter_12946_230",gae="_panel_12946_231",xae="_formPanel_12946_232",vae="_statusSelect_12946_241",yae="_stickyColumn_12946_258",bae="_rowButton_12946_265",_ae="_scanBadge_12946_273",wae="_cardList_12946_281",jae="_card_12946_230",Sae="_cardHeader_12946_297",Nae="_cardTitle_12946_303",kae="_cardMeta_12946_312",Cae="_cardNotes_12946_318",Tae="_emptyState_12946_330",Eae="_sheetBackdrop_12946_338",Aae="_sheet_12946_338",Iae="_sheetHandle_12946_359",Rae="_sheetBody_12946_367",Pae="_sheetLabel_12946_375",Lae="_sheetActions_12946_393",Dae="_overlay_12946_399",Mae="_drawer_12946_419",Fae="_modal_12946_423",Bae="_panelHeader_12946_427",$ae="_section_12946_434",Vae="_tagRow_12946_450",Oae="_historyList_12946_457",Uae="_panelFooter_12946_472",zae="_formOverlay_12946_478",Hae="_formGrid_12946_502",Gae="_warning_12946_508",Wae="_pagination_12946_517",be={page:Vie,header:Oie,headerStack:Uie,kicker:zie,title:Hie,headerActions:Gie,primaryAction:Wie,secondaryAction:qie,infoStrip:Kie,infoPill:Qie,freshnessWrapper:Xie,freshnessBadge:Yie,popover:Jie,popoverLabel:Zie,filterToolbar:eae,filterSheetButton:tae,inlineFilters:sae,searchInput:nae,select:rae,chipGroup:iae,chip:aae,chipActive:oae,levelRow:lae,sortControls:cae,sortLabel:dae,directionButton:uae,listBody:hae,tableWrapper:mae,table:pae,cardFooter:fae,panel:gae,formPanel:xae,statusSelect:vae,stickyColumn:yae,rowButton:bae,scanBadge:_ae,cardList:wae,card:jae,cardHeader:Sae,cardTitle:Nae,cardMeta:kae,cardNotes:Cae,emptyState:Tae,sheetBackdrop:Eae,sheet:Aae,sheetHandle:Iae,sheetBody:Rae,sheetLabel:Pae,sheetActions:Lae,overlay:Dae,drawer:Mae,modal:Fae,panelHeader:Bae,section:$ae,tagRow:Vae,historyList:Oae,panelFooter:Uae,formOverlay:zae,formGrid:Hae,warning:Gae,pagination:Wae},kp=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],Cp=["EU-01","EU-02","US-01","US-02","ASIA-01"],L0={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},uj={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},Ox={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},qae=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Fa(2),updatedAt:Fa(3),freshness:"f1",history:[{date:rr(1),message:"Interview abgeschlossen"},{date:rr(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Fa(10),updatedAt:Fa(11),freshness:"f3",history:[{date:rr(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Fa(20),updatedAt:Fa(5),freshness:"f4",history:[{date:rr(4),message:"Probe erfolgreich"},{date:rr(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:rr(2),updatedAt:rr(2),freshness:"f5",history:[{date:rr(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:rr(3),updatedAt:rr(1),freshness:"f6",history:[{date:rr(1),message:"Bewerbung zurueckgezogen"},{date:rr(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Fa(5),updatedAt:Fa(5),freshness:"f2",history:[{date:rr(1),message:"Profil verifiziert"}]}];function hj(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function Kae(t,e,n){const r=n.toLowerCase();return t.filter(i=>{const o=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),c=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),m=i.level>=e.lvMin&&i.level<=e.lvMax;return o&&c&&d&&u&&m})}function Qae(t,e,n){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"name":c=i.name.localeCompare(o.name);break;case"level":c=i.level-o.level;break;case"status":c=i.status.localeCompare(o.status);break;case"lastScan":c=new Date(i.lastScanAt).getTime()-new Date(o.lastScanAt).getTime();break;case"updatedAt":default:c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break}return n==="asc"?c:-c}),r}function Xae(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function Xm(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Yae(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Jae(t){return t.length?t.reduce((e,n)=>e?uj[n.freshness]>uj[e.freshness]?n:e:n,null):null}function rr(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Fa(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function Zae(){var z;const[t,e]=re.useState(qae),[n,r]=re.useState(Ox),[i,o]=re.useState(Ox),c=ju(n.q,300),d=re.useMemo(()=>{const W=Kae(t,n,c);return Qae(W,n.sort,n.dir)},[t,n,c]),u=re.useMemo(()=>Xae(d,n.page,n.pageSize),[d,n.page,n.pageSize]),m=Math.max(1,Math.ceil(d.length/n.pageSize)),p=wu("(min-width: 768px)"),x=wu("(min-width: 1024px)"),[v,j]=re.useState(!1),[N,P]=re.useState(null),I=(z=t.find(W=>W.id===N))!=null?z:null,F=re.useRef(null);Su(F,!!I&&!x);const[B,T]=re.useState(null),[y,w]=re.useState(!1),M=re.useRef(null);Su(M,y);const C=re.useMemo(()=>Jae(t),[t]),_=C&&C.lastScanAt?Yae(C.lastScanAt):"unbekannt",E=W=>{const Q=hj(W);r(Q),o(Q)},L=(W,Q)=>{const H=hj({...n,[W]:Q,page:W==="page"?Q:1});E(H)},R=()=>{E(i),j(!1)},V=()=>{E(Ox),j(!1)},$=(W,Q)=>{e(H=>H.map(ee=>ee.id===W?{...ee,status:Q,updatedAt:new Date().toISOString()}:ee))},q=W=>{e(Q=>Q.some(ee=>ee.id===W.id)?Q.map(ee=>ee.id===W.id?W:ee):[W,...Q]),w(!1)};return s.jsxs(vt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[s.jsxs("div",{className:be.page,children:[s.jsxs("header",{className:be.header,children:[s.jsxs("div",{className:be.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.kicker,children:"Recruiting"}),s.jsx("h1",{className:be.title,children:"Waitlist"})]}),s.jsxs("div",{className:be.headerActions,children:[s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>{T(null),w(!0)},children:"Neuer Eintrag"}),!p&&s.jsx("button",{type:"button",className:be.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>j(!0),children:"Filter"})]})]}),s.jsxs("div",{className:be.infoStrip,children:[s.jsx(Ux,{label:"Neu",value:d.filter(W=>W.status==="new").length}),s.jsx(Ux,{label:"In Review",value:d.filter(W=>W.status==="in_review").length}),s.jsx(Ux,{label:"Zugesagt",value:d.filter(W=>W.status==="accepted").length}),C&&s.jsx(eoe,{label:L0[C.freshness],updatedAt:C.lastScanAt,countdown:_})]})]}),s.jsx("section",{className:be.filterToolbar,children:p?s.jsx(toe,{filters:n,onChange:L,onToggleClass:W=>{const Q=n.classes.includes(W)?n.classes.filter(H=>H!==W):[...n.classes,W];L("classes",Q)},onToggleServer:W=>{const Q=n.servers.includes(W)?n.servers.filter(H=>H!==W):[...n.servers,W];L("servers",Q)}}):s.jsx("button",{type:"button",className:be.filterSheetButton,onClick:()=>j(!0),children:"Filter & Sortierung"})}),s.jsx("section",{className:be.listBody,children:p?s.jsx(soe,{items:u,sort:n.sort,dir:n.dir,onSortChange:W=>{const Q=n.sort===W&&n.dir==="asc"?"desc":"asc";L("sort",W),L("dir",Q)},onSelect:P,onStatusChange:$}):s.jsx(noe,{items:u,onSelect:P,onStatusChange:$})}),s.jsx(ioe,{page:n.page,totalPages:m,onChange:W=>L("page",W)})]}),v&&s.jsx(roe,{filters:i,onChange:o,onToggleClass:W=>o(Q=>({...Q,classes:Q.classes.includes(W)?Q.classes.filter(H=>H!==W):[...Q.classes,W]})),onToggleServer:W=>o(Q=>({...Q,servers:Q.servers.includes(W)?Q.servers.filter(H=>H!==W):[...Q.servers,W]})),onClose:()=>j(!1),onApply:R,onReset:V}),I&&s.jsx(S5,{ref:F,item:I,mode:x?"drawer":"modal",onClose:()=>P(null),onEdit:()=>{T(I),w(!0),P(null)}}),y&&s.jsx(N5,{ref:M,item:B,entries:t,onClose:()=>w(!1),onSubmit:q})]})}function Ux({label:t,value:e}){return s.jsxs("div",{className:be.infoPill,children:[s.jsx("span",{children:t}),s.jsx("strong",{children:e})]})}function eoe({label:t,updatedAt:e,countdown:n}){const[r,i]=re.useState(!1);return s.jsxs("div",{className:be.freshnessWrapper,children:[s.jsx("button",{type:"button",className:be.freshnessBadge,onClick:()=>i(o=>!o),"aria-expanded":r,children:t}),r&&s.jsxs("div",{className:be.popover,children:[s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Letzter Scan"}),s.jsx("strong",{children:Xm(e)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Aktualisiert"}),s.jsx("strong",{children:n})]})]})]})}function toe({filters:t,onChange:e,onToggleClass:n,onToggleServer:r}){return s.jsxs("div",{className:be.inlineFilters,children:[s.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:be.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),s.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:be.select,value:t.status,onChange:i=>e("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("div",{className:be.chipGroup,children:kp.map(i=>{const o=t.classes.includes(i);return s.jsx("button",{type:"button",className:`${be.chip} ${o?be.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),s.jsx("div",{className:be.chipGroup,children:Cp.map(i=>{const o=t.servers.includes(i);return s.jsx("button",{type:"button",className:`${be.chip} ${o?be.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:be.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),s.jsxs("div",{className:be.sortControls,children:[s.jsx("label",{className:be.sortLabel,children:"Sortieren"}),s.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"lastScan",children:"Letzter Scan"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),s.jsx("button",{type:"button",className:be.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function soe({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:o}){const c=d=>e===d?n==="asc"?" ":" ":"";return t.length?s.jsx("div",{className:be.tableWrapper,children:s.jsxs("table",{className:be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:be.stickyColumn,onClick:()=>r("name"),children:["Name",c("name")]}),s.jsx("th",{children:"Klasse"}),s.jsxs("th",{onClick:()=>r("level"),children:["Level",c("level")]}),s.jsx("th",{children:"Server"}),s.jsxs("th",{onClick:()=>r("status"),children:["Status",c("status")]}),s.jsx("th",{children:"Notizen"}),s.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",c("lastScan")]})]})}),s.jsx("tbody",{children:t.map(d=>s.jsxs("tr",{children:[s.jsx("td",{className:be.stickyColumn,children:s.jsx("button",{type:"button",className:be.rowButton,onClick:()=>i(d.id),children:d.name})}),s.jsx("td",{children:d.classRole}),s.jsx("td",{children:d.level}),s.jsx("td",{children:d.server}),s.jsx("td",{children:s.jsxs("select",{className:be.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:u=>o(d.id,u.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),s.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),s.jsx("td",{children:s.jsx("span",{className:be.scanBadge,children:L0[d.freshness]})})]},d.id))})]})}):s.jsx(j5,{})}function noe({items:t,onSelect:e,onStatusChange:n}){return t.length?s.jsx("div",{className:be.cardList,children:t.map(r=>s.jsxs("article",{className:be.card,children:[s.jsxs("div",{className:be.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:be.cardTitle,onClick:()=>e(r.id),children:r.name}),s.jsxs("p",{className:be.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),s.jsx("span",{className:be.scanBadge,children:L0[r.freshness]})]}),s.jsxs("p",{className:be.cardNotes,children:[r.notes.slice(0,160),"..."]}),s.jsxs("div",{className:be.cardFooter,children:[s.jsxs("select",{className:be.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):s.jsx(j5,{})}function j5(){return s.jsx("div",{className:be.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function roe({filters:t,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:o,onReset:c}){return s.jsx("div",{className:be.sheetBackdrop,onClick:i,children:s.jsxs("div",{className:be.sheet,onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:be.sheetHandle}),s.jsxs("div",{className:be.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:be.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:be.sheetLabel,children:["Status",s.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),s.jsxs("div",{className:be.sheetLabel,children:["Klassen",s.jsx("div",{className:be.chipGroup,children:kp.map(d=>{const u=t.classes.includes(d);return s.jsx("button",{type:"button",className:`${be.chip} ${u?be.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>n(d),children:d},d)})})]}),s.jsxs("div",{className:be.sheetLabel,children:["Server",s.jsx("div",{className:be.chipGroup,children:Cp.map(d=>{const u=t.servers.includes(d);return s.jsx("button",{type:"button",className:`${be.chip} ${u?be.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),s.jsxs("div",{className:be.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(u=>({...u,lvMin:Number(d.target.value)}))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(u=>({...u,lvMax:Number(d.target.value)}))})]})]})]}),s.jsxs("div",{className:be.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const S5=re.forwardRef(({item:t,mode:e,onClose:n,onEdit:r},i)=>s.jsx("div",{className:be.overlay,children:s.jsxs("div",{ref:i,className:`${be.panel} ${e==="drawer"?be.drawer:be.modal}`,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsxs("p",{className:be.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),s.jsx("h2",{children:t.name})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("section",{className:be.section,children:[s.jsx("h3",{children:"Kontakt"}),s.jsx("p",{children:t.contact}),s.jsxs("p",{children:["Quelle: ",t.source]})]}),s.jsxs("section",{className:be.section,children:[s.jsx("h3",{children:"Notizen"}),s.jsx("p",{children:t.notes})]}),s.jsxs("section",{className:be.section,children:[s.jsx("h3",{children:"Tags"}),s.jsx("div",{className:be.tagRow,children:t.tags.length?t.tags.map(o=>s.jsx("span",{children:o},o)):s.jsx("span",{children:"Keine"})})]}),s.jsxs("section",{className:be.section,children:[s.jsx("h3",{children:"Historie"}),s.jsx("ul",{className:be.historyList,children:t.history.map(o=>s.jsxs("li",{children:[s.jsx("span",{children:Xm(o.date)}),s.jsx("p",{children:o.message})]},`${o.date}-${o.message}`))})]}),s.jsxs("section",{className:be.section,children:[s.jsx("h3",{children:"Scan-Infos"}),s.jsxs("p",{children:["Letzter Scan: ",Xm(t.lastScanAt)]}),s.jsxs("p",{children:["Aktualisiert: ",Xm(t.updatedAt)]})]}),s.jsxs("footer",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:n,children:"Schliessen"})]})]})}));S5.displayName="DetailPanel";const N5=re.forwardRef(({item:t,entries:e,onClose:n,onSubmit:r},i)=>{const[o,c]=re.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:kp[0],level:1,server:Cp[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});re.useEffect(()=>{t&&c(t)},[JSON.stringify(t)]);const d=m=>{m.preventDefault(),r({...o,updatedAt:new Date().toISOString()})},u=e.some(m=>m.id!==o.id&&m.name.toLowerCase()===o.name.toLowerCase()&&m.server===o.server);return s.jsx("div",{className:be.formOverlay,children:s.jsxs("form",{ref:i,className:be.formPanel,onSubmit:d,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardMeta,children:t?"Bearbeiten":"Neu"}),s.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&s.jsx("div",{className:be.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),s.jsxs("label",{className:be.sheetLabel,children:["Name",s.jsx("input",{name:"waitlistFormName",value:o.name,onChange:m=>c(p=>({...p,name:m.target.value}))})]}),s.jsxs("div",{className:be.formGrid,children:[s.jsxs("label",{children:["Klasse",s.jsx("select",{name:"waitlistFormClass",value:o.classRole,onChange:m=>c(p=>({...p,classRole:m.target.value})),children:kp.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Level",s.jsx("input",{type:"number",name:"waitlistFormLevel",value:o.level,min:1,max:200,onChange:m=>c(p=>({...p,level:Number(m.target.value)}))})]}),s.jsxs("label",{children:["Server",s.jsx("select",{name:"waitlistFormServer",value:o.server,onChange:m=>c(p=>({...p,server:m.target.value})),children:Cp.map(m=>s.jsx("option",{value:m,children:m},m))})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"waitlistFormStatus",value:o.status,onChange:m=>c(p=>({...p,status:m.target.value})),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Kontakt",s.jsx("input",{name:"waitlistFormContact",value:o.contact,onChange:m=>c(p=>({...p,contact:m.target.value}))})]}),s.jsxs("label",{className:be.sheetLabel,children:["Quelle",s.jsx("input",{name:"waitlistFormSource",value:o.source,onChange:m=>c(p=>({...p,source:m.target.value}))})]}),s.jsxs("label",{className:be.sheetLabel,children:["Notizen",s.jsx("textarea",{name:"waitlistFormNotes",value:o.notes,onChange:m=>c(p=>({...p,notes:m.target.value})),rows:4})]}),s.jsxs("footer",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:be.primaryAction,children:"Speichern"})]})]})})});N5.displayName="WaitlistForm";function ioe({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:be.pagination,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const aoe=["tab","sub","sub2","q","sort","dir","page","pageSize"];function Lc(t=[]){const[e,n]=Xo(),r=re.useMemo(()=>[...t].sort().join("|"),[t]),i=re.useMemo(()=>{const p=new Set([...aoe]);return t.forEach(x=>p.add(x)),Array.from(p)},[r]),o=re.useMemo(()=>{const p={};return i.forEach(x=>{const v=e.get(x);v!==null&&(p[x]=v)}),p},[e,i]),c=re.useCallback((p,x)=>{var j;const v=new URLSearchParams(e);Object.entries(p).forEach(([N,P])=>{P==null||P===""?v.delete(N):v.set(N,String(P))}),n(v,{replace:(j=x==null?void 0:x.replace)!=null?j:!1})},[e,n]),d=re.useCallback(p=>{const x=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(j=>x.delete(j)),n(x,{replace:!0})},[e,n,i]),u=re.useCallback((p,x="")=>{var v;return(v=o[p])!=null?v:x},[o]),m=re.useCallback((p,x=0)=>{const v=o[p],j=v?Number(v):NaN;return Number.isFinite(j)?j:x},[o]);return{params:o,getParam:u,getNumberParam:m,writeParams:c,resetParams:d}}function ooe(){return Lc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Activity"})})}function loe(){return Lc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Imports"})})}function coe(){return Lc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Announcements"})})}function doe(){return Lc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Events"})})}function uoe(){return Lc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Roles"})})}function hoe(){return Lc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Settings"})})}const moe=[{icon:s.jsx(Fp,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(WE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(DE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],poe=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],foe=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function goe(){return s.jsx(vt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Mt,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(xoe,{}),right:s.jsx(voe,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:moe.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(Mt,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:poe.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(ay,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function xoe(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(Mt,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(Mt,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(Mt,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(Mt,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function voe(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:foe.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const yoe=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function boe(){return s.jsx(vt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:yoe.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:_oe(t.severity)},children:t.severity})]},t.id))})]})})}function _oe(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const si={background:"#152A42",borderColor:"#2B4C73"},ac={background:"#1A2F4A",borderColor:"#2B4C73"},zx=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function woe(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=koe(),o=re.useMemo(()=>[{label:"Total uploads",value:kr(t.metrics.totalUploads),hint:`${kr(t.metrics.last24h)} in the last 24h`,icon:s.jsx(rE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:Nu(t.metrics.successRate),hint:`${kr(t.metrics.failed)} failed`,icon:s.jsx(WT,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?Hx(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${Hx(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(sE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:mj(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(lE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:kr(t.metrics.uniqueUploaders),hint:`${kr(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(Fp,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:kr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(uS,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(vt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx(joe,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx(Soe,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:o.map(c=>s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:oc(c.status)},"aria-hidden":"true"}),D0(c.status)]}),s.jsx("span",{className:"font-semibold",children:kr(c.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:oc(c.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[Nu(c.share)," of window"]})]},c.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:c.hourLabel}),s.jsxs("span",{children:[kr(c.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:oc("success")},"aria-hidden":"true"}),"Success ",kr(c.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:oc("failed")},"aria-hidden":"true"}),"Failed ",kr(c.failed)]})]})]},c.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:si,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Ua,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(ay,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(BT,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(c=>{var d,u,m,p;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),s.jsx("span",{children:s.jsx(Noe,{status:c.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(d=c.uploaderName)!=null?d:c.uploaderId)!=null?u:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(m=c.guildName)!=null?m:c.guildId)!=null?p:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?Hx(c.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?mj(c.fileSizeBytes):""})]},c.id)})})]})]})})}function joe({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:si,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(Mp,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:si,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:oc(i.status)},"aria-hidden":"true"}),D0(i.status)]}),s.jsx("span",{children:Nu(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(Ua,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:si,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Bm,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Bm,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Bm,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function Soe({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(uS,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(ay,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var o;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(o=i.errorCode)!=null?o:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(Fp,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Nu(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:kr(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:si,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(uE,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:ac,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Nu(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:kr(i.count)})]},i.id))})]})]})}function Noe({status:t}){const e=oc(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(Bm,{className:"h-3 w-3","aria-hidden":"true"}),D0(t)]})}function koe(){const[t,e]=re.useState(zx),[n,r]=re.useState(!0),[i,o]=re.useState(!1),[c,d]=re.useState(null),u=re.useCallback(async(p=!1)=>{p?o(!0):r(!0);try{const x=el(_t,"scanUploads"),v=Cn(x,wi("uploadedAt","desc"),Tn(100)),N=(await pn(v)).docs.map(P=>Coe(P.id,P.data()));N.length>0?(e(N),d(null)):(e(zx),d("No uploads in window  showing fallback snapshot"))}catch(x){console.error("[ScansUploaded] Failed to load Firestore data",x),d("Live data unavailable  fallback snapshot active"),e(zx)}finally{p?o(!1):r(!1)}},[]);re.useEffect(()=>{u(!1)},[u]);const m=re.useMemo(()=>Eoe(t),[t]);return{loading:n,refreshing:i,error:c,data:m,refresh:re.useCallback(()=>u(!0),[u])}}function Coe(t,e){const n=Toe(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof Ts?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function Toe(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function Eoe(t){var E,L;const e=new Map,n=new Map,r=new Map,i=new Map,o=[];let c=0,d=0;const m=Date.now()-1440*60*1e3,p=new Map;t.forEach(R=>{var z,W,Q,H,ee,ne,G,te,ce,Z,pe,Ce,ge,Te,Ne,Ke,It;const V=(z=e.get(R.status))!=null?z:0;if(e.set(R.status,V+1),R.uploadedAt&&R.uploadedAt.getTime()>=m&&(d+=1),R.processingMs!=null&&o.push(R.processingMs),R.fileSizeBytes!=null&&(c+=R.fileSizeBytes),R.status==="failed"&&R.errorCode){const he=(W=n.get(R.errorCode))!=null?W:{count:0,lastSeen:null};n.set(R.errorCode,{count:he.count+1,lastSeen:!he.lastSeen||R.uploadedAt&&he.lastSeen<R.uploadedAt?R.uploadedAt:he.lastSeen})}const $=(H=(Q=R.uploaderId)!=null?Q:R.uploaderName)!=null?H:`anon-${R.id}`,q=(G=r.get($))!=null?G:{name:(ne=(ee=R.uploaderName)!=null?ee:R.uploaderId)!=null?ne:"Unknown",success:0,total:0};if(r.set($,{name:(ce=(te=R.uploaderName)!=null?te:R.uploaderId)!=null?ce:"Unknown",success:q.success+(R.status==="success"?1:0),total:q.total+1}),R.guildId||R.guildName){const he=(pe=(Z=R.guildId)!=null?Z:R.guildName)!=null?pe:`guild-${R.id}`,De=(Te=i.get(he))!=null?Te:{name:(ge=(Ce=R.guildName)!=null?Ce:R.guildId)!=null?ge:"Unknown",success:0,total:0};i.set(he,{name:(Ke=(Ne=R.guildName)!=null?Ne:R.guildId)!=null?Ke:"Unknown",success:De.success+(R.status==="success"?1:0),total:De.total+1})}if(R.uploadedAt){const he=new Date(R.uploadedAt);he.setMinutes(0,0,0);const De=he.toISOString(),Ue=(It=p.get(De))!=null?It:{hourLabel:Ioe(he),timestamp:he,total:0,success:0,failed:0};p.set(De,{hourLabel:Ue.hourLabel,timestamp:Ue.timestamp,total:Ue.total+1,success:Ue.success+(R.status==="success"?1:0),failed:Ue.failed+(R.status==="failed"?1:0)})}});const x=t.length,v=(E=e.get("success"))!=null?E:0,j=(L=e.get("failed"))!=null?L:0,N=o.length?o.reduce((R,V)=>R+V,0)/o.length:null,P=o.length?Aoe(o,95):null,I=r.size,F=i.size,B=Array.from(e.entries()).map(([R,V])=>({status:R,count:V,share:x?V/x:0})).sort((R,V)=>V.count-R.count),T=Array.from(p.values()).sort((R,V)=>V.timestamp.getTime()-R.timestamp.getTime()).slice(0,12),y=Array.from(n.entries()).map(([R,V])=>({code:R,...V})).sort((R,V)=>V.count-R.count).slice(0,6),w=[...t].sort((R,V)=>{var $,q,z,W;return((q=($=V.uploadedAt)==null?void 0:$.getTime())!=null?q:0)-((W=(z=R.uploadedAt)==null?void 0:z.getTime())!=null?W:0)}).slice(0,12),M=t.filter(R=>R.status==="failed").sort((R,V)=>{var $,q,z,W;return((q=($=V.uploadedAt)==null?void 0:$.getTime())!=null?q:0)-((W=(z=R.uploadedAt)==null?void 0:z.getTime())!=null?W:0)}),C=Array.from(r.entries()).map(([R,V])=>({id:R,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((R,V)=>V.count-R.count).slice(0,5),_=Array.from(i.entries()).map(([R,V])=>({id:R,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((R,V)=>V.count-R.count).slice(0,5);return{metrics:{totalUploads:x,last24h:d,successRate:x?v/x:0,failed:j,avgProcessingMs:N,p95ProcessingMs:P,uniqueUploaders:I,uniqueGuilds:F,totalFileSizeBytes:c},statusBreakdown:B,timeline:T,issues:y,recentFailures:M,recentUploads:w,topUploaders:C,topGuilds:_}}function Aoe(t,e){const n=[...t].sort((d,u)=>d-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),o=Math.ceil(r);if(i===o)return n[i];const c=r-i;return n[i]*(1-c)+n[o]*c}function kr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function Nu(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function Hx(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function mj(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function oc(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function D0(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Ioe(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function Gx({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function Roe(){var d,u,m,p,x,v;const{snapshot:t,error:e,loading:n,refresh:r}=c5(),i=(d=t==null?void 0:t.warnings)!=null?d:[],o=(m=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?m:0,c=(p=t==null?void 0:t.stats)!=null?p:{};return s.jsx(vt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Gx,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(Gx,{label:"Creators tracked",value:o?o.toString():"0"}),s.jsx(Gx,{label:"API lookups",value:`${(x=c.youtubeLookups)!=null?x:0}  ${(v=c.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((j,N)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[j.creator,"  ",j.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:j.message}),j.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:j.source})]},`${j.scope}-${N}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const k5="admin_audit_log",Poe=50;async function Loe(t){await aP(el(_t,k5),{...t,createdAt:_i()})}async function zv(t={}){var x;const{limit:e=Poe,cursor:n=null,actorUserId:r,targetUserId:i,action:o}=t,c=Math.max(1,Math.min(e,100)),d=[];r&&d.push(ni("actorUserId","==",r)),i&&d.push(ni("targetUserId","==",i)),o&&d.push(ni("action","==",o)),d.push(wi("createdAt","desc")),n&&d.push(GN(n)),d.push(Tn(c));const u=await pn(Cn(el(_t,k5),...d)),m=u.docs.map(Moe),p=u.size<c?null:(x=u.docs[u.docs.length-1])!=null?x:null;return{events:m,nextPageCursor:p}}async function Doe(t,e=10){return zv({targetUserId:t,limit:e})}function Moe(t){const e=t.data();return{id:t.id,...e}}const M0="users",Foe=25,Boe=4,$oe="control-panel/users",Wx=["admin","mod","creator","user"];async function pj(t={}){var y;const{pageSize:e=Foe,cursor:n=null,role:r,status:i,provider:o,search:c}=t,d=Math.max(1,Math.min(e,100)),u=el(_t,M0),m=[wi("createdAt","desc"),wi("userId","desc")];r&&m.unshift(ni("roles","array-contains",r));let p=!1;i&&i!=="active"?m.unshift(ni("status","==",i)):i==="active"&&(p=!0);const x=!!(o||c||p),v=Math.min(d*(x?3:1),75),j=(y=c==null?void 0:c.trim().toLowerCase())!=null?y:"",N=p?"active":void 0,P=w=>!(o&&!Uoe(w,o)||j&&!zoe(w,j)||N&&Hv(w.status)!==N),I=[];let F=n,B=null,T=!1;for(let w=0;w<Boe&&I.length<d;w+=1){const M=[...m];F&&M.push(GN(F)),M.push(Tn(v));const C=await pn(Cn(u,...M));if(C.empty){T=!0,B=null;break}if(C.docs.forEach(_=>{const E=Tp(_);(!x||P(E))&&I.push(E)}),F=C.docs[C.docs.length-1],B=F,C.size<v){T=!0;break}}return{users:I.slice(0,d),nextPageCursor:T?null:B}}async function Voe(t){const e=Yt(_t,M0,t),n=await fn(e);if(!n.exists())throw new Error("User not found");return Tp(n)}async function Ooe(t,e,n){var p;const r=Yt(_t,M0,t),i=await fn(r);if(!i.exists())throw new Error("User not found");const o=Tp(i),c={};if(e.roles&&(c.roles=C5(e.roles)),typeof e.status!="undefined"&&(c.status=e.status),"notes"in e&&(c.notes=(p=e.notes)!=null?p:null),!Object.keys(c).length)return o;await iP(r,c);const d=await fn(r),u=Tp(d),m=Hoe(o,u,c);if(Object.keys(m).length&&n.actorUserId){const x=Goe(m),v=Woe(m);await Loe({actorUserId:n.actorUserId,actorDisplayName:n.actorDisplayName,targetUserId:u.userId,action:x,summary:v,changes:m,context:$oe})}return u}function Tp(t){var i,o,c,d,u,m;const e=t.data();if(!e)throw new Error("User payload missing");const n=e,r=Array.isArray(n.roles)?n.roles:["user"];return{id:t.id,roles:C5(r),displayName:(i=n.displayName)!=null?i:null,avatarUrl:(o=n.avatarUrl)!=null?o:null,userId:(c=n.userId)!=null?c:t.id,primaryProvider:(d=n.primaryProvider)!=null?d:"discord",providers:n.providers,profile:n.profile,createdAt:n.createdAt,lastLoginAt:(u=n.lastLoginAt)!=null?u:null,status:n.status,notes:(m=n.notes)!=null?m:null}}function Uoe(t,e){var n;return t.primaryProvider===e?!0:!!((n=t.providers)!=null&&n[e])}function zoe(t,e){var r,i,o,c,d,u,m;return[t.userId,(r=t.displayName)!=null?r:void 0,(o=(i=t.profile)==null?void 0:i.displayName)!=null?o:void 0,(d=(c=t.providers)==null?void 0:c.discord)==null?void 0:d.displayName,(m=(u=t.providers)==null?void 0:u.google)==null?void 0:m.displayName].filter(p=>!!p).map(p=>p.toLowerCase()).some(p=>p.includes(e))}function C5(t){const e=new Set(["user"]);return t.forEach(n=>{Wx.includes(n)&&e.add(n)}),[...e].sort((n,r)=>Wx.indexOf(n)-Wx.indexOf(r))}function Hv(t){return t!=null?t:"active"}function Hoe(t,e,n){var i,o,c,d;const r={};if("roles"in n&&!qoe(t.roles,e.roles)&&(r.roles={before:t.roles,after:e.roles}),"status"in n){const u=Hv(t.status),m=Hv(e.status);u!==m&&(r.status={before:u,after:m})}if("notes"in n){const u=(i=t.notes)!=null?i:"",m=(o=e.notes)!=null?o:"";u!==m&&(r.notes={before:(c=t.notes)!=null?c:null,after:(d=e.notes)!=null?d:null})}return r}function Goe(t){return t.roles?"user.role.update":t.status?"user.status.update":"user.notes.update"}function Woe(t){const e=[];return t.roles&&e.push(`roles: ${JSON.stringify(t.roles.before)} -> ${JSON.stringify(t.roles.after)}`),t.status&&e.push(`status: "${t.status.before}" -> "${t.status.after}"`),t.notes&&e.push("notes updated"),e.join(" | ")}function qoe(t,e){return t.length!==e.length?!1:t.every((n,r)=>n===e[r])}const Koe=20,Qoe=50,tu={borderColor:"#2B4C73",background:"#152A42"},T5={background:"#1A2F4A"};function Xoe(){var d,u;const{status:t,user:e}=Eu(),n=(d=e==null?void 0:e.roles)!=null?d:[],r=n.includes("admin"),i=r||n.includes("mod"),[o,c]=A.useState("users");return t==="loading"||t==="idle"?s.jsx(vt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?s.jsx(vt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:s.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[s.jsx(Yo,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:s.jsx(Yoe,{activeTab:o,onChange:c}),children:o==="users"?s.jsx(Joe,{isAdmin:r,currentUserId:(u=e==null?void 0:e.id)!=null?u:"",currentUserName:e==null?void 0:e.displayName}):s.jsx(Zoe,{isAdmin:r,onSelectUser:m=>{c("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:m}}))}})}):s.jsx(vt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[s.jsx(zE,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),s.jsxs("p",{children:["You need at least the ",s.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function Yoe({activeTab:t,onChange:e}){const n=[{key:"users",label:"Users",icon:s.jsx(Fp,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:s.jsx(RE,{className:"h-4 w-4"})}];return s.jsx("div",{className:"flex gap-2",children:n.map(r=>s.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function Joe({isAdmin:t,currentUserId:e,currentUserName:n}){const[r,i]=A.useState({role:"all",status:"all",provider:"all",search:""}),[o,c]=A.useState(""),d=Wv(o,350);A.useEffect(()=>{i(he=>he.search===d?he:{...he,search:d})},[d]);const[u,m]=A.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[p,x]=A.useState(0),v=A.useMemo(()=>({pageSize:Koe,role:r.role==="all"?void 0:r.role,status:r.status==="all"?void 0:r.status,provider:r.provider==="all"?void 0:r.provider,search:r.search}),[r]);A.useEffect(()=>{let he=!1;return m(De=>({...De,loading:!0,error:null})),pj(v).then(De=>{he||m({items:De.users,cursor:De.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(De=>{he||m(Ue=>({...Ue,loading:!1,loadingMore:!1,error:De instanceof Error?De.message:"Failed to load users"}))}),()=>{he=!0}},[v,p]);const j=()=>x(he=>he+1),N=async()=>{if(u.cursor){m(he=>({...he,loadingMore:!0,error:null}));try{const he=await pj({...v,cursor:u.cursor});m(De=>({items:[...De.items,...he.users],cursor:he.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(he){m(De=>{var Ue;return{...De,loadingMore:!1,error:(Ue=he==null?void 0:he.message)!=null?Ue:"Failed to load additional users"}})}}},[P,I]=A.useState(null),[F,B]=A.useState(null),[T,y]=A.useState(!1),[w,M]=A.useState(null),[C,_]=A.useState(""),[E,L]=A.useState(!1),[R,V]=A.useState(null),[$,q]=A.useState(!1),[z,W]=A.useState(!1),[Q,H]=A.useState([]),[ee,ne]=A.useState(!1),[G,te]=A.useState(null),ce=A.useRef(null);A.useEffect(()=>{ce.current=P},[P]);const Z=A.useRef(!1);A.useEffect(()=>{Z.current=E},[E]);const pe=A.useCallback(async he=>{var De;ne(!0),te(null);try{const Ue=await Doe(he,12);ce.current===he&&H(Ue.events)}catch(Ue){ce.current===he&&te((De=Ue==null?void 0:Ue.message)!=null?De:"Failed to load audit history")}finally{ce.current===he&&ne(!1)}},[]);A.useEffect(()=>{var Rt;if(!P){B(null),_(""),L(!1),H([]),te(null),W(!1);return}const he=P,De=u.items.find(Vt=>Vt.id===he);De?(B(De),_((Rt=De.notes)!=null?Rt:"")):(B(null),_("")),L(!1),y(!0),M(null);let Ue=!1;return Voe(he).then(Vt=>{var ys;Ue||ce.current!==he||(B(Vt),_((ys=Vt.notes)!=null?ys:""),L(!1),y(!1))}).catch(Vt=>{var ys;Ue||ce.current!==he||(y(!1),M((ys=Vt==null?void 0:Vt.message)!=null?ys:"Failed to load user"))}),pe(he),()=>{Ue=!0}},[P,u.items,pe]),A.useEffect(()=>{var De;if(!P)return;const he=u.items.find(Ue=>Ue.id===P);he&&(B(Ue=>Ue&&Ue.id===he.id?{...Ue,...he}:he),Z.current||_((De=he.notes)!=null?De:""))},[u.items,P]);const Ce=A.useCallback(he=>{m(De=>({...De,items:De.items.map(Ue=>Ue.id===he.id?he:Ue)}))},[]),ge=A.useCallback(async he=>{var De,Ue;if(F){q(!0),V(null);try{const Rt=await Ooe(F.id,he,{actorUserId:e,actorDisplayName:n});B(Rt),Ce(Rt),"notes"in he&&(L(!1),_((De=Rt.notes)!=null?De:"")),await pe(Rt.id)}catch(Rt){V((Ue=Rt==null?void 0:Rt.message)!=null?Ue:"Failed to update user")}finally{q(!1)}}},[F,e,n,pe,Ce]),Te=he=>{if(!F||!t||he==="user")return;const De=new Set(F.roles);De.has(he)?De.delete(he):De.add(he),De.add("user"),ge({roles:Array.from(De)})},Ne=he=>{!F||!t||Gv(F.status)===he||he==="banned"&&!window.confirm(`Ban ${su(F)}? They will lose access to the control panel.`)||ge({status:he})},Ke=he=>{_(he),L(!0)},It=()=>{!F||!t||!E||ge({notes:C.trim().length?C:null})};return A.useEffect(()=>{if(typeof window=="undefined")return;const he=De=>{const Ue=De.detail;Ue!=null&&Ue.userId&&I(Ue.userId)};return window.addEventListener("sf-admin-open-user",he),()=>{window.removeEventListener("sf-admin-open-user",he)}},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:tu,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(tv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Search user id or name",value:o,onChange:he=>c(he.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(Ym,{label:"Role",value:r.role,onChange:he=>i(De=>({...De,role:he})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),s.jsx(Ym,{label:"Status",value:r.status,onChange:he=>i(De=>({...De,status:he})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),s.jsx(Ym,{label:"Provider",value:r.provider,onChange:he=>i(De=>({...De,provider:he})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Mp,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("div",{className:"rounded-2xl border",style:tu,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#B0C4D9]",children:[u.items.length," users ",r.search?"filtered":""]}),u.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Ua,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:T5,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"User ID"}),s.jsx("th",{className:"px-4 py-2",children:"Display name"}),s.jsx("th",{className:"px-4 py-2",children:"Role"}),s.jsx("th",{className:"px-4 py-2",children:"Status"}),s.jsx("th",{className:"px-4 py-2",children:"Providers"}),s.jsx("th",{className:"px-4 py-2",children:"Created"}),s.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),s.jsx("tbody",{children:u.items.map(he=>{var Ue,Rt,Vt;const De=he.id===P;return s.jsxs("tr",{onClick:()=>I(he.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${De?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:he.userId}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A5,{url:P5(he),name:su(he)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:su(he)}),(Ue=he.profile)!=null&&Ue.displayName&&he.profile.displayName!==he.displayName?s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:he.profile.displayName}):null]})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(I5,{role:R5(he.roles)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(tle,{status:Gv(he.status)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ep,{provider:"discord",active:!!((Rt=he.providers)!=null&&Rt.discord)}),s.jsx(Ep,{provider:"google",active:!!((Vt=he.providers)!=null&&Vt.google)})]})}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:uc(he.createdAt)}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:uc(he.lastLoginAt)})]},he.id)})})]}),!u.loading&&!u.items.length&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),u.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(Hd,{className:"h-3.5 w-3.5"}),u.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:u.cursor?"More users available":"End of list"}),s.jsx("button",{type:"button",onClick:N,disabled:!u.cursor||u.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:u.loadingMore?"Loading...":"Load more"})]})]}),s.jsx("aside",{className:"rounded-2xl border p-3",style:tu,children:F?s.jsx(ele,{user:F,isAdmin:t,detailLoading:T,detailError:w,notesValue:C,notesDirty:E,onNotesChange:Ke,onNotesSave:It,onRoleToggle:Te,onStatusChange:Ne,actionError:R,actionPending:$,auditEntries:Q,auditLoading:ee,auditError:G,onRefreshAudit:()=>F&&pe(F.id),showRawJson:z,toggleRawJson:()=>W(he=>!he)}):s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[s.jsx(eE,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function Zoe({isAdmin:t,onSelectUser:e}){const[n,r]=A.useState({actor:"",target:"",action:"all"}),[i,o]=A.useState(""),[c,d]=A.useState(""),u=Wv(i,350),m=Wv(c,350);A.useEffect(()=>{r(F=>F.actor===u&&F.target===m?F:{...F,actor:u,target:m})},[u,m]);const[p,x]=A.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[v,j]=A.useState(0),N=A.useMemo(()=>{const F=n.action==="all"?void 0:n.action,B=n.actor.includes(":")?n.actor:void 0,T=n.target.includes(":")?n.target:void 0;return{limit:Qoe,action:F,actorUserId:B,targetUserId:T}},[n]);A.useEffect(()=>{let F=!1;return x(B=>({...B,loading:!0,error:null})),zv(N).then(B=>{F||x({items:B.events,cursor:B.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(B=>{F||x(T=>{var y;return{...T,loading:!1,loadingMore:!1,error:(y=B==null?void 0:B.message)!=null?y:"Failed to load audit log"}})}),()=>{F=!0}},[N,v]);const P=async()=>{if(p.cursor){x(F=>({...F,loadingMore:!0,error:null}));try{const F=await zv({...N,cursor:p.cursor});x(B=>({items:[...B.items,...F.events],cursor:F.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(F){x(B=>{var T;return{...B,loadingMore:!1,error:(T=F==null?void 0:F.message)!=null?T:"Failed to load more events"}})}}},I=A.useMemo(()=>{const F=n.actor.trim().toLowerCase(),B=n.target.trim().toLowerCase();return p.items.filter(T=>{var M;const y=!F||T.actorUserId.toLowerCase().includes(F)||((M=T.actorDisplayName)!=null?M:"").toLowerCase().includes(F),w=!B||T.targetUserId.toLowerCase().includes(B);return y&&w})},[p.items,n.actor,n.target]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:tu,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(tv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:F=>o(F.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(tv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Target user id",value:c,onChange:F=>d(F.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(Ym,{label:"Action",value:n.action,onChange:F=>r(B=>({...B,action:F})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:()=>j(F=>F+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Mp,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"rounded-2xl border",style:tu,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#8AA5C4]",children:[I.length," events"]}),p.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Ua,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:T5,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"Time"}),s.jsx("th",{className:"px-4 py-2",children:"Actor"}),s.jsx("th",{className:"px-4 py-2",children:"Target User"}),s.jsx("th",{className:"px-4 py-2",children:"Action"}),s.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),s.jsx("tbody",{children:I.map(F=>{var B;return s.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:uc(F.createdAt)}),s.jsxs("td",{className:"px-4 py-2",children:[s.jsx("div",{className:"text-white",children:(B=F.actorDisplayName)!=null?B:"N/A"}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:F.actorUserId})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(F.targetUserId),children:F.targetUserId})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(E5,{action:F.action})}),s.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:F.summary})]},F.id)})})]}),!I.length&&!p.loading&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(Hd,{className:"h-3.5 w-3.5"}),p.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),s.jsx("button",{type:"button",onClick:P,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!t&&s.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function ele({user:t,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:o,onNotesChange:c,onNotesSave:d,onRoleToggle:u,onStatusChange:m,actionError:p,actionPending:x,auditEntries:v,auditLoading:j,auditError:N,onRefreshAudit:P,showRawJson:I,toggleRawJson:F}){var T,y;const B=R5(t.roles);return s.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[s.jsx(Ua,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[s.jsx(Hd,{className:"h-3.5 w-3.5"}),r]}),s.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(A5,{url:P5(t),name:su(t),size:56}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-base text-white",children:su(t)}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),s.jsxs("div",{className:"mt-1 flex gap-1",children:[s.jsx(I5,{role:B}),s.jsx(Ep,{provider:"discord",active:!!((T=t.providers)!=null&&T.discord)}),s.jsx(Ep,{provider:"google",active:!!((y=t.providers)!=null&&y.google)})]})]})]})}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(w=>s.jsx("button",{type:"button",onClick:()=>u(w),disabled:!e||w==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(w)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:w},w))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),s.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(w=>s.jsx("button",{type:"button",onClick:()=>m(w),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${Gv(t.status)===w?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:w},w))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&s.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),s.jsx("textarea",{value:i,onChange:w=>c(w.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[x&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ua,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),o&&e&&s.jsx("button",{type:"button",onClick:d,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(Hd,{className:"h-3 w-3"}),p]})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),s.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsx(Mp,{className:"h-3 w-3"}),"Refresh"]})]}),j&&s.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[s.jsx(Ua,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),N&&s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(Hd,{className:"h-3 w-3"}),N]}),!j&&!v.length&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),s.jsx("ul",{className:"space-y-2",children:v.map(w=>{var M;return s.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[s.jsx("span",{children:uc(w.createdAt)}),s.jsx(E5,{action:w.action})]}),s.jsx("div",{className:"mt-1 text-white",children:(M=w.actorDisplayName)!=null?M:w.actorUserId}),s.jsx("div",{className:"text-[#C8D6EC]",children:w.summary})]},w.id)})})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),s.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[s.jsx(XE,{className:"h-3 w-3"}),I?"Hide raw JSON":"Show raw JSON"]})]}),s.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[s.jsx(Pm,{label:"Created",value:uc(t.createdAt)}),s.jsx(Pm,{label:"Last login",value:uc(t.lastLoginAt)}),s.jsx(Pm,{label:"Primary provider",value:t.primaryProvider}),s.jsx(Pm,{label:"Roles",value:t.roles.join(", ")})]}),I&&s.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function E5({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return s.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Pm({label:t,value:e}){return e?s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-[#6E86A6]",children:t}),s.jsx("span",{className:"text-white",children:e})]}):null}function Ym({label:t,value:e,options:n,onChange:r}){return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#8AA5C4]",children:t}),s.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})]})}function A5({url:t,name:e,size:n=32}){return t?s.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):s.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function I5({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return s.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function tle({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:s.jsx(YT,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:s.jsx(Yo,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:s.jsx(VT,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[t];return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function Ep({provider:t,active:e}){const n=t==="discord"?"D":"G";return s.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:n})}function R5(t){const e=["admin","mod","creator","user"];for(const n of e)if(t.includes(n))return n;return"user"}function su(t){var e,n,r,i,o,c,d,u,m;return(m=(u=(o=(n=t.displayName)!=null?n:(e=t.profile)==null?void 0:e.displayName)!=null?o:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(d=(c=t.providers)==null?void 0:c.google)==null?void 0:d.displayName)!=null?m:t.userId}function P5(t){var e,n,r,i,o,c,d;return(d=(c=(r=t.avatarUrl)!=null?r:(n=(e=t.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?c:(o=(i=t.providers)==null?void 0:i.google)==null?void 0:o.avatarUrl)!=null?d:null}function Gv(t){return t!=null?t:"active"}function uc(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function Wv(t,e){const[n,r]=A.useState(t);return A.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function sle(){return s.jsx(vt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const nle="_page_17yx2_1",rle="_banner_17yx2_9",ile="_bannerSuccess_17yx2_16",ale="_bannerError_17yx2_22",ole="_card_17yx2_28",lle="_cardTitle_17yx2_38",cle="_cardSubtitle_17yx2_45",dle="_identityHeader_17yx2_51",ule="_identityAvatar_17yx2_58",hle="_identityName_17yx2_65",mle="_identityProvider_17yx2_72",ple="_identityForm_17yx2_78",fle="_nameInputWrap_17yx2_86",gle="_nameLabel_17yx2_94",xle="_nameInput_17yx2_86",vle="_nameSaveButton_17yx2_110",yle="_feedbackError_17yx2_132",ble="_feedbackSuccess_17yx2_138",_le="_metaGrid_17yx2_144",wle="_metaItem_17yx2_150",jle="_metaLabel_17yx2_157",Sle="_metaValue_17yx2_164",Nle="_serviceList_17yx2_171",kle="_serviceRow_17yx2_176",Cle="_serviceName_17yx2_190",Tle="_serviceStatus_17yx2_197",Ele="_serviceAction_17yx2_203",Ale="_securityText_17yx2_219",Ile="_securityNote_17yx2_225",Rle="_logoutButton_17yx2_231",Ple="_loadingState_17yx2_247",Lle="_emptyState_17yx2_248",Dle="_emptyStateTitle_17yx2_257",Mle="_emptyStateText_17yx2_263",Fle="_primaryButton_17yx2_269",dt={page:nle,banner:rle,bannerSuccess:ile,bannerError:ale,card:ole,cardTitle:lle,cardSubtitle:cle,identityHeader:dle,identityAvatar:ule,identityName:hle,identityProvider:mle,identityForm:ple,nameInputWrap:fle,nameLabel:gle,nameInput:xle,nameSaveButton:vle,feedbackError:yle,feedbackSuccess:ble,metaGrid:_le,metaItem:wle,metaLabel:jle,metaValue:Sle,serviceList:Nle,serviceRow:kle,serviceName:Cle,serviceStatus:Tle,serviceAction:Ele,securityText:Ale,securityNote:Ile,logoutButton:Rle,loadingState:Ple,emptyState:Lle,emptyStateTitle:Dle,emptyStateText:Mle,primaryButton:Fle},Ble="https://i.pravatar.cc/72",Lm=`${Tu}/auth/account/profile`,qx=`${Tu}/auth/google/link/start`,fj=3,gj=32,xj=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},$le=()=>{const{status:t,user:e,logout:n,refreshSession:r}=Eu(),i=Rr(),o=Wn(),c=A.useMemo(()=>{const B=new URLSearchParams(o.search);return B.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:B.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[o.search]),d=t==="loading"||t==="idle",u=t==="authenticated"&&!!e,m=()=>{i("/login")},p=async()=>{await n(),i("/")},x=()=>{if(!qx){window.alert("Auth service is not configured for Google linking.");return}window.location.href=qx},v=()=>s.jsx("div",{className:dt.loadingState,children:"Checking session..."}),j=()=>s.jsxs("div",{className:dt.emptyState,children:[s.jsx("p",{className:dt.emptyStateTitle,children:"You are not signed in."}),s.jsx("p",{className:dt.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),s.jsx("button",{type:"button",className:dt.primaryButton,onClick:m,children:"Go to sign-in"})]}),N=()=>{if(!c)return null;const B=c.type==="success"?`${dt.banner} ${dt.bannerSuccess}`:`${dt.banner} ${dt.bannerError}`;return s.jsx("div",{className:B,children:c.message})},P=()=>{var E,L,R;if(!e)return null;const B=(E=e.providers)==null?void 0:E.discord,T=(L=e.providers)==null?void 0:L.google,y=!!B,w=!!T,M=!!qx,C=M?w?T!=null&&T.displayName?`Connected as ${T.displayName}`:"Connected":"Not connected":"Auth service not configured",_=[{key:"discord",name:"Discord",status:y?`Connected as ${(R=B==null?void 0:B.displayName)!=null?R:e.displayName}`:"Not connected",actionLabel:y?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:C,actionLabel:w?"Connected":"Connect",disabled:w||!M,onClick:w||!M?void 0:x},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return s.jsxs("section",{className:dt.card,children:[s.jsx("h2",{className:dt.cardTitle,children:"Connected services"}),s.jsx("p",{className:dt.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),s.jsx("div",{className:dt.serviceList,children:_.map(V=>s.jsxs("div",{className:dt.serviceRow,children:[s.jsxs("div",{children:[s.jsx("p",{className:dt.serviceName,children:V.name}),s.jsx("p",{className:dt.serviceStatus,children:V.status})]}),s.jsx("button",{type:"button",className:dt.serviceAction,disabled:V.disabled,onClick:V.onClick,children:V.actionLabel})]},V.key))})]})},I=()=>s.jsxs("section",{className:dt.card,children:[s.jsx("h2",{className:dt.cardTitle,children:"Security & session"}),s.jsx("p",{className:dt.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),s.jsx("p",{className:dt.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),s.jsx("button",{type:"button",className:dt.logoutButton,onClick:p,children:"Log out from this device"}),s.jsx("p",{className:dt.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),F=()=>d?v():u?s.jsxs(s.Fragment,{children:[s.jsx(Vle,{user:e,refreshSession:r}),P(),I()]}):j();return s.jsx(vt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:s.jsxs("div",{className:dt.page,children:[N(),F()]})})};function Vle({user:t,refreshSession:e}){var M;const[n,r]=A.useState(()=>{var C;return(C=t==null?void 0:t.displayName)!=null?C:""}),[i,o]=A.useState(!1),[c,d]=A.useState(null),[u,m]=A.useState(!1),p=(t==null?void 0:t.avatarUrl)||Ble,x=(t==null?void 0:t.provider)==="google"?"Google":"Discord",v=(M=t==null?void 0:t.displayName)!=null?M:"",j=n.trim(),N=j.length===0||j.length>=fj&&j.length<=gj,P=!!t&&j.length>0&&j!==v,I=!!(Lm&&N&&P&&!i),F=j.length>0&&!N?`Name must be between ${fj} and ${gj} characters.`:null;A.useEffect(()=>{var C;r((C=t==null?void 0:t.displayName)!=null?C:""),m(!1),d(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const B=A.useMemo(()=>{var C;return t?[{label:"SFDataHub ID",value:t.id},(C=t.roles)!=null&&C.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:xj(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:xj(t.lastLoginAt)}:null].filter(_=>!!(_!=null&&_.value)):[]},[t]),T=async()=>{var C,_;if(!I||!Lm){Lm||d("Auth service is not configured.");return}try{o(!0),d(null),m(!1);const E=await fetch(Lm,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:j})});if(!E.ok){const L=await E.json().catch(()=>null);throw new Error((C=L==null?void 0:L.error)!=null?C:"Failed to update name.")}await e(),m(!0),r(j)}catch(E){const L=(_=E==null?void 0:E.message)!=null?_:"Failed to update name.";d(L)}finally{o(!1)}},y=C=>{C.key==="Enter"&&(C.preventDefault(),I&&T())},w=()=>{I&&T()};return t?s.jsxs("section",{className:dt.card,children:[s.jsxs("div",{className:dt.identityHeader,children:[s.jsx("img",{src:p,alt:"",className:dt.identityAvatar}),s.jsxs("div",{children:[s.jsx("p",{className:dt.identityName,children:t.displayName||"Unbenannter Nutzer"}),s.jsxs("p",{className:dt.identityProvider,children:[x," sign-in"]})]}),s.jsx("span",{className:dt.statusBadge,children:"Verified"})]}),s.jsxs("div",{className:dt.identityForm,children:[s.jsxs("div",{className:dt.nameInputWrap,children:[s.jsx("label",{className:dt.nameLabel,children:"Display name"}),s.jsx("input",{type:"text",className:dt.nameInput,value:n,onChange:C=>r(C.target.value),onKeyDown:y,onBlur:w,placeholder:"Enter your display name"})]}),s.jsx("button",{type:"button",className:dt.nameSaveButton,disabled:!I,onClick:T,children:i?"Saving...":"Save"})]}),F&&s.jsx("p",{className:dt.feedbackError,children:F}),c&&s.jsx("p",{className:dt.feedbackError,children:c}),u&&s.jsx("p",{className:dt.feedbackSuccess,children:"Name updated."}),B.length>0&&s.jsx("div",{className:dt.metaGrid,children:B.map(C=>s.jsxs("div",{className:dt.metaItem,children:[s.jsx("span",{className:dt.metaLabel,children:C.label}),s.jsx("span",{className:dt.metaValue,children:C.value})]},C.label))})]}):null}const pt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function Ole(){return s.jsx("div",{style:pt.wrap,children:s.jsxs("div",{style:pt.grid,children:[s.jsxs("aside",{style:pt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:pt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:pt.groupLabel,children:"Allgemein"}),s.jsx(hs,{to:"list-views",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"List-View Switcher"}),s.jsx(hs,{to:"rescan-widget",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(hs,{to:"upload-sim",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Upload Simulator"}),s.jsx(hs,{to:"hud/game-buttons",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(hs,{to:"theme-maker",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Theme / Template Maker"}),s.jsx(hs,{to:"theme-maker-pro",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:pt.groupLabel,children:"Templates"}),s.jsx(hs,{to:"templates/content-shell",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"ContentShell Template"}),s.jsx(hs,{to:"templates/blank",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Leere Vorlage"}),s.jsx(hs,{to:"templates/blank-alt",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Leere Vorlage (Neu)"}),s.jsx(hs,{to:"templates/blank-layout-2",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Leere Vorlage  Layout 2"}),s.jsx(hs,{to:"templates/blank-layout-3",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Leere Vorlage  Layout 3"}),s.jsx(hs,{to:"templates/blank-layout-4",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"Leere Vorlage  Layout 4"}),s.jsx("div",{style:pt.groupLabel,children:"Guide Hub Demos"}),s.jsx(hs,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:pt.groupLabel,children:"Graphics / Portraits"}),s.jsx(hs,{to:"portrait-maker",style:({isActive:t})=>({...pt.link,...t?pt.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:pt.tile,children:s.jsx(tS,{})})]})})}const Ule="_page_1kokx_1",zle="_topBar_1kokx_17",Hle="_tabs_1kokx_31",Gle="_tab_1kokx_31",Wle="_tabActive_1kokx_63",qle="_searchWrap_1kokx_73",Kle="_input_1kokx_85",Qle="_stickyIcons_1kokx_105",Xle="_iconBtn_1kokx_129",Yle="_tableWrap_1kokx_161",Jle="_table_1kokx_161",Zle="_th_1kokx_181",ece="_td_1kokx_181",tce="_row_1kokx_201",sce="_chips_1kokx_219",nce="_chip_1kokx_219",rce="_badges_1kokx_249",ice="_badge_1kokx_249",ace="_badgeMax_1kokx_275",oce="_badgeAchiev_1kokx_277",lce="_badgeX2_1kokx_279",cce="_badgeX12_1kokx_281",dce="_badgeX60_1kokx_283",uce="_section_1kokx_289",hce="_sectionHeader_1kokx_297",mce="_cardList_1kokx_315",pce="_card_1kokx_315",fce="_cardMax_1kokx_353",gce="_iconXL_1kokx_355",xce="_split_1kokx_369",vce="_left_1kokx_379",yce="_leftBtn_1kokx_399",bce="_leftBtnActive_1kokx_411",_ce="_detail_1kokx_413",wce="_grid_1kokx_433",jce="_tile_1kokx_443",Sce="_drawer_1kokx_457",Nce="_timeline_1kokx_487",kce="_node_1kokx_493",Cce="_dot_1kokx_501",Je={page:Ule,topBar:zle,tabs:Hle,tab:Gle,tabActive:Wle,searchWrap:qle,input:Kle,stickyIcons:Qle,iconBtn:Xle,tableWrap:Yle,table:Jle,th:Zle,td:ece,row:tce,chips:sce,chip:nce,badges:rce,badge:ice,badgeMax:ace,badgeAchiev:oce,badgeX2:lce,badgeX12:cce,badgeX60:dce,section:uce,sectionHeader:hce,cardList:mce,card:pce,cardMax:fce,iconXL:gce,split:xce,left:vce,leftBtn:yce,leftBtnActive:bce,detail:_ce,grid:wce,tile:jce,drawer:Sce,timeline:Nce,node:kce,dot:Cce},vj=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Tr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function Tce(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function Ece(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Ap({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Je.iconBtn,title:t||"Rune",children:e})}function F0({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Je.iconXL,title:t||"Rune",children:e})}function Ace(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function Gu({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Je.chips,children:e.map((n,r)=>s.jsx("span",{className:Je.chip,children:n},r))})}function Wu({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Je.badgeMax}),Tce(t)&&n.push({label:"Achievement",cls:Je.badgeAchiev});const r=Ece(t);return r==="x2"&&n.push({label:"x2",cls:Je.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Je.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Je.badgeX60}),n.length===0?null:s.jsx("div",{className:Je.badges,children:n.map((i,o)=>{var c;return s.jsx("span",{className:`${Je.badge} ${(c=i.cls)!=null?c:""}`,children:i.label},o)})})}function Ice(t){const e=t.trim().toLowerCase();return e?vj.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):vj}function Rce({data:t}){const e=Math.max(...t.map(i=>Tr(i.amount))),n=A.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const o=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Je.stickyIcons,children:n.map((i,o)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(Ap,{label:i||"(no tier)"})},o))}),s.jsx("div",{className:Je.tableWrap,children:s.jsxs("table",{className:Je.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Je.th,style:{width:42}}),s.jsx("th",{className:Je.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Je.th,children:"Bonuses"}),s.jsx("th",{className:Je.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,o)=>{const c=Math.abs(Tr(i.amount)-e)<1e-6;return s.jsxs("tr",{className:Je.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:Je.td,children:s.jsx(Ap,{label:i.tier||""})}),s.jsx("td",{className:Je.td,children:i.amount}),s.jsx("td",{className:Je.td,children:s.jsx(Gu,{r:i})}),s.jsx("td",{className:Je.td,children:s.jsx(Wu,{r:i,isMax:c})})]},o)})})]})})]})}function Pce({data:t}){const e=Ace(t),n=Math.max(...t.map(r=>Tr(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:Je.section,children:[s.jsx("div",{className:Je.sectionHeader,children:r}),s.jsx("div",{className:Je.cardList,children:i.map((o,c)=>{const d=Math.abs(Tr(o.amount)-n)<1e-6;return s.jsxs("div",{className:`${Je.card} ${d?Je.cardMax:""}`,children:[s.jsx(F0,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:o.amount}),s.jsx(Wu,{r:o,isMax:d})]}),s.jsx(Gu,{r:o})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function Lce({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=A.useState((c=e[0])!=null?c:""),i=t.filter(d=>(d.tier||"(no tier)")===n),o=Math.max(...t.map(d=>Tr(d.amount)));return s.jsxs("div",{className:Je.split,children:[s.jsx("div",{className:Je.left,children:e.map(d=>s.jsxs("button",{className:`${Je.leftBtn} ${d===n?Je.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(Ap,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Je.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(F0,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,u)=>{const m=Math.abs(Tr(d.amount)-o)<1e-6;return s.jsxs("div",{className:Je.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(Wu,{r:d,isMax:m})]}),s.jsx(Gu,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function Dce({data:t}){const[e,n]=A.useState(null),r=Math.max(...t.map(i=>Tr(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Je.grid,children:t.map((i,o)=>s.jsx("div",{className:Je.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Ap,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},o))}),e&&s.jsxs("div",{className:Je.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(F0,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Je.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(Wu,{r:e,isMax:Math.abs(Tr(e.amount)-r)<1e-6})}),s.jsx(Gu,{r:e})]})]})}function Mce({data:t}){const e=Math.max(...t.map(r=>Tr(r.amount))),n=[...t].sort((r,i)=>Tr(r.amount)-Tr(i.amount));return s.jsx("div",{className:Je.timeline,children:n.map((r,i)=>{const o=Math.abs(Tr(r.amount)-e)<1e-6;return s.jsxs("div",{className:Je.node,children:[s.jsx("div",{className:Je.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(Wu,{r,isMax:o})]}),s.jsx(Gu,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const Fce=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function Bce(){const[t,e]=A.useState("A: Compact Table"),[n,r]=A.useState(""),i=Ice(n);return s.jsxs("div",{className:Je.page,children:[s.jsxs("div",{className:Je.topBar,children:[s.jsx("div",{className:Je.tabs,children:Fce.map(o=>s.jsx("button",{onClick:()=>e(o),className:`${Je.tab} ${t===o?Je.tabActive:""}`,children:o},o))}),s.jsx("div",{className:Je.searchWrap,children:s.jsx("input",{className:Je.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:o=>r(o.target.value)})})]}),t==="A: Compact Table"&&s.jsx(Rce,{data:i}),t==="B: Card Track"&&s.jsx(Pce,{data:i}),t==="C: Two-Pane"&&s.jsx(Lce,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(Dce,{data:i}),t==="E: Timeline"&&s.jsx(Mce,{data:i})]})}function $ce(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(hs,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const fe={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},Vce=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Bo={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function Oce(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Dc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",Oce(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function L5(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},o={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},m={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},x={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},j={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:o,gold:c,obsidian:d,neon:u,plasma:m,aurora:p,satin:x,matte:v,holo:j}[t.material]}function eo(t){const e={color:fe.title,borderColor:fe.border,...L5(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const qu=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function Mc({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function Uce({fx:t,children:e}){const n=Dc(t),r=eo(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(Mc,{fx:t,clip:i}),t.withIcon&&s.jsx(lS,{size:16,className:"relative z-10"}),s.jsx(qu,{children:e})]})}function zce({fx:t,children:e}){const n=Dc(t),r=eo(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(Mc,{fx:t,clip:i}),t.withIcon&&s.jsx(cS,{size:16,className:"relative z-10"}),s.jsx(qu,{children:e})]})}function Hce({fx:t,children:e}){const n=Dc(t),r=eo(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(Mc,{fx:t,clip:i}),t.withIcon&&s.jsx(Yo,{size:16,className:"relative z-10"}),s.jsx(qu,{children:e})]})}function Gce({fx:t,children:e}){const n=Dc(t),r=eo(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${fe.tile}, ${fe.active})`}}),s.jsx(Mc,{fx:t,clip:i}),t.withIcon&&s.jsx(dS,{size:16,className:"relative z-10"}),s.jsx(qu,{children:e})]})}function Wce({fx:t,children:e}){const n=Dc(t),r=eo(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(Mc,{fx:t}),t.withIcon&&s.jsx(Dp,{size:16,className:"relative z-10"}),s.jsx(qu,{children:e})]})}function qce({fx:t,tabs:e}){const[n,r]=A.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:fe.tile,border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:e.map((i,o)=>s.jsxs("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm transition-colors ${o===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:o===n?fe.active:"transparent",border:o===n&&t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:[t.withIcon&&o===n&&s.jsx(Dp,{size:14,className:"inline mr-1"}),i]},o))})}function Kce({fx:t}){const e=Dc(t),n=eo(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(hS,{})})}const qv={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function Qce({fx:t,setFx:e}){const n=(d,u)=>e(m=>({...m,[d]:u})),r=d=>e(u=>({...u,[d]:!u[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],o=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:fe.tile,border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${fe.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:fe.title},children:"Presets"}),Object.keys(qv).map(d=>s.jsx("button",{onClick:()=>e(u=>qv[d](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:fe.btn,borderColor:fe.border,color:fe.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${fe.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:fe.title},children:"Material"}),i.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?fe.active:fe.btn,borderColor:fe.border,color:fe.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:fe.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?fe.active:fe.btn,borderColor:fe.border,color:fe.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?fe.active:fe.btn,borderColor:fe.border,color:fe.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?fe.active:fe.btn,borderColor:fe.border,color:fe.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${fe.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:fe.title},children:"Core FX"}),o.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?fe.active:fe.btn,borderColor:fe.border,color:fe.title},children:u},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:fe.title},children:"Advanced"}),c.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?fe.active:fe.btn,borderColor:fe.border,color:fe.title},children:u},d))]}),s.jsx("button",{onClick:()=>e(Bo),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:fe.btn,borderColor:fe.border,color:fe.title},children:"Reset"})]})}function Ht({fx:t,className:e="",style:n={},children:r,clip:i}){const o=eo(t);return s.jsxs("div",{className:`relative ${e}`,style:{...o,...n},children:[s.jsx(Mc,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function An({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:fe.tile,border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:n})}function Xce({fx:t}){const[e,n]=A.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const o=e.includes(i);return s.jsx(Ht,{fx:t,className:`rounded-full border ${o?"":"opacity-80"}`,style:{borderColor:fe.border},children:s.jsx("button",{onClick:()=>n(c=>o?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function Yce({fx:t}){return s.jsxs(An,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:fe.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(Ht,{fx:t,className:"rounded-xl border p-2",style:{borderColor:fe.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(hS,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function Jce({fx:t}){return s.jsxs(Ht,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(Ht,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:fe.border},children:e},e))})]})}function Zce({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(Ht,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:fe.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function ede({fx:t}){const[e,n]=A.useState(.66);return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Meter / Energy Bar"}),s.jsx(Ht,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:fe.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function tde({fx:t}){return s.jsxs(An,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:fe.title},children:"Badge / Medal"}),s.jsxs(Ht,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:fe.border},children:[s.jsx(Yo,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function sde({fx:t}){const[e,n]=A.useState(!1);return s.jsxs(An,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:fe.title},children:"Toast / Notification"}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(Ht,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:fe.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function nde({fx:t}){const[e,n]=A.useState(!0);return s.jsxs(An,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:fe.title},children:"Toggle Switch"}),s.jsxs(Ht,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:fe.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function rde({fx:t}){const[e,n]=A.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Dropdown HUD"}),s.jsx(Ht,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:fe.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(Ht,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:fe.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function ide({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,o=56,c=56+Math.cos(i)*o,d=56+Math.sin(i)*o;return s.jsx(Ht,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:fe.border},children:n},n)}),s.jsx(Ht,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:fe.border},children:"Menu"})]})]})}function ade({fx:t}){const e=[1,2,3,4,5],[n,r]=A.useState(2);return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(Ht,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:fe.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function ode({fx:t}){const[e,n]=A.useState(!1);return s.jsxs(An,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:fe.title},children:"Modal HUD"}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(Ht,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:fe.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function lde({fx:t}){const[e,n]=A.useState("");return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Search HUD"}),s.jsx(Ht,{fx:t,className:"rounded-lg border p-2",style:{borderColor:fe.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function cde({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=A.useState("Bravo");return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(Ht,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:fe.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function dde({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=A.useState(1);return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,o)=>s.jsxs(re.Fragment,{children:[s.jsx(Ht,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${o<=n?"":"opacity-70"}`,style:{borderColor:fe.border},children:o+1}),o<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:fe.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function ude({fx:t}){const e=["","","","","",""];return s.jsxs(An,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:fe.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(Ht,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:fe.border},children:n},r))})]})}function hde(){const[t,e]=A.useState(Bo);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:fe.bg,color:fe.txt},children:[s.jsx(Vce,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bE,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:fe.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:fe.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(Qce,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:fe.tile,border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:fe.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(Uce,{fx:t,children:[s.jsx(lS,{size:16})," Diamond"]}),s.jsxs(zce,{fx:t,children:[s.jsx(cS,{size:16})," Hex"]}),s.jsxs(Hce,{fx:t,children:[s.jsx(Yo,{size:16})," Octagon/Shield"]}),s.jsxs(Gce,{fx:t,children:[s.jsx(dS,{size:16})," Shard"]}),s.jsxs(Wce,{fx:t,children:[s.jsx(Dp,{size:16})," Pill/Chip"]}),s.jsx(Kce,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:fe.tile,border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:fe.title},children:"Tabs"}),s.jsx(qce,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:fe.tile,border:t.baseBorder?`1px solid ${fe.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:fe.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(Xce,{fx:t}),s.jsx(Yce,{fx:t}),s.jsx(Jce,{fx:t}),s.jsx(Zce,{fx:t}),s.jsx(ede,{fx:t}),s.jsx(tde,{fx:t}),s.jsx(sde,{fx:t}),s.jsx(nde,{fx:t}),s.jsx(rde,{fx:t}),s.jsx(ide,{fx:t}),s.jsx(ade,{fx:t}),s.jsx(ode,{fx:t}),s.jsx(lde,{fx:t}),s.jsx(cde,{fx:t}),s.jsx(dde,{fx:t}),s.jsx(ude,{fx:t})]})]})}),s.jsx(mde,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:fe.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function mde(){return A.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Bo.material),"Material type present");const e=eo(Bo);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=L5({...Bo,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Bo[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(qv).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const o=i({...Bo});console.assert(o&&typeof o=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const nu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},yj={Arcade:{...nu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...nu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Kl={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},D5={display:"grid",gap:8,alignItems:"center"};function Qi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...D5,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Kx({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...D5,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:o=>i(parseInt(o.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:o=>i(parseInt(o.target.value||"0"))})]})}function bj(){const[t,e]=re.useState(nu),n=re.useRef(null),r=u=>{const m=n.current;m&&(m.style.setProperty("--page",u.page),m.style.setProperty("--tile",u.tile),m.style.setProperty("--tile-hover",u.tileHover),m.style.setProperty("--nav",u.nav),m.style.setProperty("--active",u.active),m.style.setProperty("--text",u.text),m.style.setProperty("--text-soft",u.textSoft),m.style.setProperty("--title",u.title),m.style.setProperty("--line",u.line),m.style.setProperty("--radius",`${u.radius}px`),m.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),m.style.setProperty("--gap",`${u.gap}px`))};re.useEffect(()=>{r(t)},[t]);const i=u=>e(yj[u]),o=()=>e(nu),c=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(u),m.download="sfdatahub-theme.json",m.click()},d=async u=>{const m=await u.text();e({...nu,...JSON.parse(m)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(yj).map(u=>s.jsx("button",{style:Kl,onClick:()=>i(u),children:u},u)),s.jsx("button",{style:Kl,onClick:o,children:"Default"}),s.jsx("button",{style:Kl,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...Kl,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&d(u.target.files[0]),style:{display:"none"}})]})]}),s.jsx(Qi,{label:"Page",value:t.page,onChange:u=>e(m=>({...m,page:u}))}),s.jsx(Qi,{label:"Tile",value:t.tile,onChange:u=>e(m=>({...m,tile:u}))}),s.jsx(Qi,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(m=>({...m,tileHover:u}))}),s.jsx(Qi,{label:"Nav",value:t.nav,onChange:u=>e(m=>({...m,nav:u}))}),s.jsx(Qi,{label:"Active",value:t.active,onChange:u=>e(m=>({...m,active:u}))}),s.jsx(Qi,{label:"Text",value:t.text,onChange:u=>e(m=>({...m,text:u}))}),s.jsx(Qi,{label:"Text Soft",value:t.textSoft,onChange:u=>e(m=>({...m,textSoft:u}))}),s.jsx(Qi,{label:"Title",value:t.title,onChange:u=>e(m=>({...m,title:u}))}),s.jsx(Qi,{label:"Line",value:t.line,onChange:u=>e(m=>({...m,line:u}))}),s.jsx(Kx,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(m=>({...m,radius:u}))}),s.jsx(Kx,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(m=>({...m,shadow:u}))}),s.jsx(Kx,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(m=>({...m,gap:u}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...Kl,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:Kl,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,m)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",m+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},m))})]})]})]})}const Kv={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},_j={"SFDataHub (Default)":{...Kv},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},pf={display:"grid",gap:8,alignItems:"center"},Ro={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Po={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Sr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...pf,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Xi({label:t,value:e,min:n,max:r,step:i=1,onChange:o,suffix:c}){return s.jsxs("label",{style:{...pf,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value||"0"))})]})}function pde({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...pf,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function wj(){const[t,e]=re.useState(Kv),n=re.useRef(null),r=m=>{const p=n.current;p&&(p.style.setProperty("--page",m.page),p.style.setProperty("--tile",m.tile),p.style.setProperty("--tile-hover",m.tileHover),p.style.setProperty("--nav",m.nav),p.style.setProperty("--active",m.active),p.style.setProperty("--text",m.text),p.style.setProperty("--text-soft",m.textSoft),p.style.setProperty("--title",m.title),p.style.setProperty("--line",m.line),p.style.setProperty("--accent",m.accent),p.style.setProperty("--success",m.success),p.style.setProperty("--warning",m.warning),p.style.setProperty("--danger",m.danger),p.style.setProperty("--radius",`${m.radius}px`),p.style.setProperty("--border",`${m.border}px`),p.style.setProperty("--gap",`${m.gap}px`),p.style.setProperty("--shadow",`0 10px ${m.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${m.surfaceOpacity}%`),p.style.setProperty("--noise",`${m.noise}%`),p.style.setProperty("--font",m.fontFamily),p.style.setProperty("--font-size",`${m.fontSize}px`),p.style.setProperty("--heading-tight",m.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${m.glow}`),p.style.setProperty("--scanlines",`${m.scanlines}`))};re.useEffect(()=>{r(t)},[t]);const i=(m,p)=>e(x=>({...x,[m]:p})),o=m=>e(p=>({...p,..._j[m]})),c=()=>{const m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(m),p.download="sfdatahub-theme-pro.json",p.click()},d=async m=>{try{const p=await m.text(),x=JSON.parse(p);e({...t,...x})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(_j).map(m=>s.jsx("button",{style:Ro,onClick:()=>o(m),children:m},m)),s.jsx("button",{style:Ro,onClick:()=>e(Kv),children:"Reset"}),s.jsx("button",{style:Ro,onClick:c,children:"Export"}),s.jsxs("label",{style:{...Ro,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:m=>m.target.files&&d(m.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Sr,{label:"Page",value:t.page,onChange:m=>i("page",m)}),s.jsx(Sr,{label:"Tile",value:t.tile,onChange:m=>i("tile",m)}),s.jsx(Sr,{label:"Tile Hover",value:t.tileHover,onChange:m=>i("tileHover",m)}),s.jsx(Sr,{label:"Active",value:t.active,onChange:m=>i("active",m)}),s.jsx(Sr,{label:"Text",value:t.text,onChange:m=>i("text",m)}),s.jsx(Sr,{label:"Text Soft",value:t.textSoft,onChange:m=>i("textSoft",m)}),s.jsx(Sr,{label:"Title",value:t.title,onChange:m=>i("title",m)}),s.jsx(Sr,{label:"Line",value:t.line,onChange:m=>i("line",m)}),s.jsx(Sr,{label:"Accent",value:t.accent,onChange:m=>i("accent",m)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(Sr,{label:"Success",value:t.success,onChange:m=>i("success",m)}),s.jsx(Sr,{label:"Warning",value:t.warning,onChange:m=>i("warning",m)}),s.jsx(Sr,{label:"Danger",value:t.danger,onChange:m=>i("danger",m)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Xi,{label:"Radius",min:0,max:28,value:t.radius,onChange:m=>i("radius",m)}),s.jsx(Xi,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:m=>i("border",m)}),s.jsx(Xi,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:m=>i("gap",m)}),s.jsx(Xi,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:m=>i("shadow",m)}),s.jsx(Xi,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:m=>i("surfaceOpacity",m),suffix:"%"}),s.jsx(Xi,{label:"Noise",min:0,max:20,value:t.noise,onChange:m=>i("noise",m),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...pf,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:m=>i("fontFamily",m.target.value)})]}),s.jsx(Xi,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:m=>i("fontSize",m)}),s.jsx(pde,{label:"Headings tighter",checked:t.headingsTight,onChange:m=>i("headingsTight",m)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Xi,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:m=>i("glow",m)}),s.jsx(Xi,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:m=>i("scanlines",m)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:Po,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...Po,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...Po,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...Po,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:Po,children:["Radius: ",t.radius]}),s.jsxs("span",{style:Po,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:Po,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((m,p)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:m.label}),s.jsx("span",{style:{color:"var(--title)"},children:m.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(m.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${m.color} 75%, transparent), ${m.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${m.color} 40%, transparent)`}})})]},p))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...Ro,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...Ro,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((m,p)=>s.jsx("button",{style:{...Ro,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:m},m))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((m,p)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:m.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:m.v}),s.jsx("div",{style:{fontSize:12,color:m.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:m.trend})]},p))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((m,p)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:m[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:m[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:m[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:m[2]})]},p))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const jj=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function fde(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:jj[n%jj.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Qx={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function Sj(){const[t,e]=A.useState("rows"),[n,r]=A.useState(0),[i,o]=A.useState(""),[c,d]=A.useState(60),u=A.useMemo(()=>fde(240),[]),m=A.useMemo(()=>u.filter(p=>p.level>=n).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[u,n,i,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:p=>o(p.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:p=>d(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...Qx,padding:0,overflow:"hidden"},children:m.map(p=>{var x;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[p.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(x=p.kpi)==null?void 0:x.toFixed(1)})]})]},p.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(p=>{var x;return s.jsxs("div",{style:Qx,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(x=p.kpi)==null?void 0:x.toFixed(1)})]})]},p.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(p=>s.jsxs("div",{style:{...Qx,height:140+parseInt(p.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function Nj(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function kj(){const[t,e]=A.useState(120),[n,r]=A.useState(()=>Nj(24));A.useEffect(()=>{const o=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),u=[...c];return u[d]={...u[d],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(o)},[]),A.useEffect(()=>{const o=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(o)},[]);const i=A.useMemo(()=>n.filter(o=>o.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:o=>e(parseInt(o.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(Nj(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(o=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[o.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:o.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[o.lastScanMinsAgo," min ago"]})]},o.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function gde(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function Cj(){const[t,e]=A.useState("idle"),[n,r]=A.useState(null),[i,o]=A.useState(!1),c=A.useCallback(async d=>{var m;d.preventDefault(),o(!1);const u=(m=d.dataTransfer.files)==null?void 0:m[0];if(u){e("validating");try{const p=await u.text(),{isHar:x,isSf:v}=gde(p);if(e("parsing"),await new Promise(j=>setTimeout(j,600)),!x&&!v){e("error"),r({isHar:x,isSf:v,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:x,isSf:v,sizeKB:Math.round(u.size/1024),summary:`Detected: ${x?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const xde="_wrap_hxkkn_3",vde="_left_hxkkn_17",yde="_right_hxkkn_25",bde="_canvasCard_hxkkn_33",_de="_hint_hxkkn_83",wde="_panel_hxkkn_95",jde="_panelTitle_hxkkn_109",Sde="_panelBody_hxkkn_121",Yi={wrap:xde,left:vde,right:yde,canvasCard:bde,hint:_de,panel:wde,panelTitle:jde,panelBody:Sde},Nde=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],kde=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Cde(){const[t,e]=A.useState("Canvas ist vorbereitet (526526)."),n=A.useRef(null),[r,i]=A.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[o,c]=A.useState(!0);A.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(j){}let x=console.error;o&&(console.error=(...j)=>{var P;const N=String((P=j==null?void 0:j[0])!=null?P:"");N.includes("Failed to load URL")&&N.includes("PortraitMaker-res/portraits/")||x(...j)});let v=null;try{v=new Hj(p,{...r}),n.current=v,e("Rendering")}catch(j){o&&(console.error=x),x("Error initializing PortraitMaker:",j),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{o&&(console.error=x),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{o&&(console.error=x)}}},[r,o]);const d=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const x=p.toDataURL("image/png"),v=document.createElement("a");v.href=x,v.download="portrait.png",v.click()},u=p=>{i(x=>({...x,genderName:p,beard:p==="female"?0:x.beard}))},m=r.special!==0;return s.jsxs("div",{className:Yi.wrap,children:[s.jsx("div",{className:Yi.left,children:s.jsxs("div",{className:Yi.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Yi.hint,children:t})]})}),s.jsx("div",{className:Yi.right,children:s.jsxs("div",{className:Yi.panel,children:[s.jsx("h2",{className:Yi.panelTitle,children:"Controls"}),s.jsx("div",{className:Yi.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:p=>i(x=>({...x,special:Number(p.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:m,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(x=>({...x,class:Number(p.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(x=>({...x,race:Number(p.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:p=>i(x=>({...x,background:p.target.value})),children:Nde.map(p=>s.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:p=>i(x=>({...x,frame:p.target.value})),children:kde.map(p=>s.jsx("option",{value:p,children:p===""?"none":p},p))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(x=>({...x,showBorder:p.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:o,onChange:p=>c(p.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:d,children:"Export PNG"})}),m&&s.jsxs("div",{className:Yi.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const Tde=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],Ede=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],Ade=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function Ide(){return s.jsx(vt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),s.jsx("ul",{className:"mt-2 space-y-2",children:Tde.map(t=>s.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[s.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),s.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[s.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),s.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),s.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),s.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:Ede.map(t=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),s.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),s.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),s.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:Ade.map(t=>s.jsx("li",{children:t},t))})]})]}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),s.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),s.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),s.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),s.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),s.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const Rde={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function Pde(){return s.jsx(vt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:s.jsx("div",{className:"flex w-full justify-center pt-10",children:s.jsx(Z3,{config:Rde,label:"Playground Avatar"})})})}const Lde=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function Dde(){return s.jsx(vt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:Lde.map(t=>s.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),s.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const Mde="_avatarFrameMask_1pzs8_5",Fde="_avatarFrameOverlay_1pzs8_7",Tj={avatarFrameMask:Mde,avatarFrameOverlay:Fde},Bde=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function $de(){return s.jsx(vt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:s.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[s.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:Bde.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),s.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),s.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:Tj.avatarFrameMask,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:Tj.avatarFrameOverlay,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const Vde=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function Ode(){return s.jsx(vt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"flex w-full flex-col gap-4",children:Vde.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,s.jsx("span",{children:"Leer"})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),s.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function Ude(){return s.jsx(vt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),s.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},zde={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hde={maxWidth:1200,margin:"0 auto"},Gde={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Wde(){return s.jsx("div",{style:zde,children:s.jsxs("div",{style:Hde,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Gde,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const qde={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Kde={maxWidth:1200,margin:"0 auto"},Qde={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Xde(){return s.jsx("div",{style:qde,children:s.jsxs("div",{style:Kde,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Qde,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const Yde={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Jde={maxWidth:1200,margin:"0 auto"},Zde={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function eue(){return s.jsx("div",{style:Yde,children:s.jsxs("div",{style:Jde,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Zde,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const tue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},sue={maxWidth:1200,margin:"0 auto"},nue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function rue(){return s.jsx("div",{style:tue,children:s.jsxs("div",{style:sue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:nue,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const iue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},aue={maxWidth:1200,margin:"0 auto"},oue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function lue(){return s.jsx("div",{style:iue,children:s.jsxs("div",{style:aue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:oue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const cue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},due={maxWidth:1200,margin:"0 auto"},uue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function hue(){return s.jsx("div",{style:cue,children:s.jsxs("div",{style:due,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:uue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const mue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},pue={maxWidth:1200,margin:"0 auto"},fue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function gue(){return s.jsx("div",{style:mue,children:s.jsxs("div",{style:pue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:fue,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:Y.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const xue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},vue={maxWidth:1200,margin:"0 auto"},yue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function bue(){return s.jsx("div",{style:xue,children:s.jsxs("div",{style:vue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:yue,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const _ue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},wue={maxWidth:1200,margin:"0 auto"},jue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Sue(){return s.jsx("div",{style:_ue,children:s.jsxs("div",{style:wue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const Nue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},kue={maxWidth:1200,margin:"0 auto"},Cue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Tue(){return s.jsx("div",{style:Nue,children:s.jsxs("div",{style:kue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Cue,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const Eue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Aue={maxWidth:1200,margin:"0 auto"},Iue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Rue(){return s.jsx("div",{style:Eue,children:s.jsxs("div",{style:Aue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Iue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Pue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Lue={maxWidth:1200,margin:"0 auto"},Due={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Mue(){return s.jsx("div",{style:Pue,children:s.jsxs("div",{style:Lue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Due,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const Fue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Bue={maxWidth:1200,margin:"0 auto"},$ue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Vue(){return s.jsx("div",{style:Fue,children:s.jsxs("div",{style:Bue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:$ue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const Oue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Uue={maxWidth:1200,margin:"0 auto"},zue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Hue(){return s.jsx("div",{style:Oue,children:s.jsxs("div",{style:Uue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const Gue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Wue={maxWidth:1200,margin:"0 auto"},que={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Kue(){return s.jsx("div",{style:Gue,children:s.jsxs("div",{style:Wue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:que,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const Que={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Xue={maxWidth:1200,margin:"0 auto"},Yue={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Jue(){return s.jsx("div",{style:Que,children:s.jsxs("div",{style:Xue,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Yue,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const Zue={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ehe={maxWidth:1200,margin:"0 auto"},the={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function she(){return s.jsx("div",{style:Zue,children:s.jsxs("div",{style:ehe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:the,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const nhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},rhe={maxWidth:1200,margin:"0 auto"},ihe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ahe(){return s.jsx("div",{style:nhe,children:s.jsxs("div",{style:rhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ihe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const ohe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},lhe={maxWidth:1200,margin:"0 auto"},che={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function dhe(){return s.jsx("div",{style:ohe,children:s.jsxs("div",{style:lhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:che,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const uhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},hhe={maxWidth:1200,margin:"0 auto"},mhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function phe(){return s.jsx("div",{style:uhe,children:s.jsxs("div",{style:hhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:mhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const fhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ghe={maxWidth:1200,margin:"0 auto"},xhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function vhe(){return s.jsx("div",{style:fhe,children:s.jsxs("div",{style:ghe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:xhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const yhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},bhe={maxWidth:1200,margin:"0 auto"},_he={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function whe(){return s.jsx("div",{style:yhe,children:s.jsxs("div",{style:bhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:_he,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:Y.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const jhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},She={maxWidth:1200,margin:"0 auto"},Nhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function khe(){return s.jsx("div",{style:jhe,children:s.jsxs("div",{style:She,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Nhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const Che={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},The={maxWidth:1200,margin:"0 auto"},Ehe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ahe(){return s.jsx("div",{style:Che,children:s.jsxs("div",{style:The,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Ehe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Ihe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Rhe={maxWidth:1200,margin:"0 auto"},Phe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Lhe(){return s.jsx("div",{style:Ihe,children:s.jsxs("div",{style:Rhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Phe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Dhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Mhe={maxWidth:1200,margin:"0 auto"},Fhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Bhe(){return s.jsx("div",{style:Dhe,children:s.jsxs("div",{style:Mhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Fhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const $he={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Vhe={maxWidth:1200,margin:"0 auto"},Ohe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Uhe(){return s.jsx("div",{style:$he,children:s.jsxs("div",{style:Vhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Ohe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const zhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hhe={maxWidth:1200,margin:"0 auto"},Ghe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Whe(){return s.jsx("div",{style:zhe,children:s.jsxs("div",{style:Hhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Ghe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const qhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Khe={maxWidth:1200,margin:"0 auto"},Qhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Xhe(){return s.jsx("div",{style:qhe,children:s.jsxs("div",{style:Khe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Qhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Yhe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Jhe={maxWidth:1200,margin:"0 auto"},Zhe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function eme(){return s.jsx("div",{style:Yhe,children:s.jsxs("div",{style:Jhe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Zhe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const tme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},sme={maxWidth:1200,margin:"0 auto"},nme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function rme(){return s.jsx("div",{style:tme,children:s.jsxs("div",{style:sme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:nme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const ime="_backdrop_19xh2_1",ame="_panel_19xh2_19",ome="_header_19xh2_43",lme="_tabs_19xh2_63",cme="_tabBtn_19xh2_75",dme="_tabActive_19xh2_97",ume="_closeBtn_19xh2_101",hme="_content_19xh2_123",bi={backdrop:ime,panel:ame,header:ome,tabs:lme,tabBtn:cme,tabActive:dme,closeBtn:ume,content:hme},Jm=t=>String(t!=null?t:"").trim(),Ba=t=>Jm(t).toUpperCase(),zt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Zm=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),Ej=t=>{const e=Zm(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},Aj=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Xx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},ut={PLAYERS:{IDENTIFIER:zt("Identifier"),PID:zt("ID"),GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),TIMESTAMP:zt("Timestamp"),LEVEL:zt("Level"),CLASS:zt("Class"),GUILD:zt("Guild")},GUILDS:{GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),MEMBER_COUNT:zt("Guild Member Count"),TIMESTAMP:zt("Timestamp"),HOF:zt("Hall of Fame Rank"),HOF_ALT:zt("HoF"),RANK:zt("Rank"),GUILD_RANK:zt("Guild Rank")}},mme=new Set([zt("Strength"),zt("Dexterity"),zt("Intelligence"),zt("Constitution"),zt("Luck"),zt("Attribute")]),pme=["equipment"],fme=t=>mme.has(t)||pme.some(e=>t.includes(e)),gt=(t,e)=>{for(const n of Object.keys(t))if(zt(n)===e)return t[n]},gme=(t,e)=>e.map(n=>gt(t,n)).find(n=>n!=null&&String(n)!=="");function Ip(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),o=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),m=n[6]?Number(n[6]):0,p=new Date(c,o,i,d,u,m);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function Ij(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),o=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),d=o.toString().padStart(2,"0");return`${c}-W${d}`}function Rj(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),o=i+7*86400-1;return{start:i,end:o}}function Pj(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function Lj(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function xme(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(n=i,r=o)}return n}function vme(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=xme((u=n[0])!=null?u:""),i=m=>{const p=[];let x="",v=!1;for(let j=0;j<m.length;j++){const N=m[j];N==='"'?v&&m[j+1]==='"'?(x+='"',j++):v=!v:N===r&&!v?(p.push(x),x=""):x+=N}return p.push(x),p},c=(n[0]?i(n[0]).map(Jm):[]).map((m,p)=>m||`col${p}`),d=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const p=i(n[m]);if(p.every(v=>Jm(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=p[v]!=null?Jm(p[v]):"";d.push(x)}return{headers:c,rows:d}}const Dj=120,Mj=40,Fj=120;async function Ql(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const o=cP(_t),c=t.slice(i,i+e);for(const d of c)d(o);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await o.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Dm(t,e){const n={};for(const r of e){const i=zt(r);if(fme(i)){let o=null,c;for(const d of t){const u=d.row[r];if(u==null||u==="")continue;const m=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(m)||(o==null||m>o)&&(o=m,c=u)}n[r]=c!=null?c:""}else{let o="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){o=d;break}}n[r]=o}}return n}async function Bj(t){var i;const e=await fn(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const o=Ip(n.values.Timestamp);if(o!=null)return o}if((n==null?void 0:n.timestampRaw)!=null){const o=Ip(n.timestampRaw);if(o!=null)return o}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const o=Date.parse(r);return Number.isFinite(o)?Math.floor(o/1e3):0}return 0}async function $j(t,e){var p,x,v,j,N;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],o={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=vme(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const P of c)Object.keys(P).forEach(I=>d.add(I));const u=Array.from(d);if(e.kind==="players"){const P=[],I=[],F=[],B=new Map;for(const T of c){const y=(p=gt(T,ut.PLAYERS.PID))!=null?p:gt(T,ut.PLAYERS.IDENTIFIER),w=String(y!=null?y:"").trim();if(!w){o.skippedMissingIdentifier++;continue}const M=Ip(gt(T,ut.PLAYERS.TIMESTAMP));if(M==null){o.skippedBadTs++;continue}const C=(()=>{const _=gt(T,ut.PLAYERS.SERVER);return _&&String(_).trim()!==""?Ba(_):void 0})();if(!C){o.skippedMissingServer++;continue}P.push(_=>{const E=Yt(_t,`players/${w}/scans/${M}`);_.set(E,{playerId:w,server:C,timestamp:M,timestampRaw:gt(T,ut.PLAYERS.TIMESTAMP),name:gt(T,ut.PLAYERS.NAME)||null,values:T,createdAt:_i()},{merge:!0})}),o.writtenScanPlayers++,B.has(w)||B.set(w,[]),B.get(w).push({row:T,ts:M})}for(const[T,y]of B){y.sort((H,ee)=>H.ts-ee.ts);const w=y[y.length-1],M=Ba(gt(w.row,ut.PLAYERS.SERVER)||""),C=gt(w.row,ut.PLAYERS.NAME)||null,_=gt(w.row,ut.PLAYERS.LEVEL),E=gt(w.row,ut.PLAYERS.CLASS),L=gt(w.row,ut.PLAYERS.GUILD),R=(v=(x=gt(w.row,ut.PLAYERS.NAME))!=null?x:C)!=null?v:"",V=Ej(R),$=Aj(V),q=Yt(_t,`players/${T}/latest/latest`),z=await Bj(q);w.ts>z&&(I.push(H=>{H.set(q,{playerId:T,server:M,timestamp:w.ts,timestampRaw:gt(w.row,ut.PLAYERS.TIMESTAMP),name:C,values:w.row,updatedAt:_i(),nameFold:Zm(R),nameTokens:V,nameNgrams:$,level:Xx(_),className:E!=null&&String(E).trim()!==""?String(E):null,guildName:L!=null&&String(L).trim()!==""?String(L):null,guildNameFold:L?Zm(L):null},{merge:!0})}),o.writtenLatestPlayers++);const W=new Map,Q=new Map;for(const H of y){const ee=Ij(H.ts),ne=Pj(H.ts);W.has(ee)||W.set(ee,[]),Q.has(ne)||Q.set(ne,[]),W.get(ee).push(H),Q.get(ne).push(H)}for(const[H,ee]of W){ee.sort((ce,Z)=>ce.ts-Z.ts);const ne=Dm(ee,u),G=Rj(ee[ee.length-1].ts),te=ee[ee.length-1];F.push(ce=>{const Z=Yt(_t,`players/${T}/history_weekly/${H}`);ce.set(Z,{playerId:T,weekId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:gt(te.row,ut.PLAYERS.TIMESTAMP),server:Ba(gt(te.row,ut.PLAYERS.SERVER)||""),name:gt(te.row,ut.PLAYERS.NAME)||null,values:ne,updatedAt:_i()},{merge:!0})}),o.writtenWeeklyPlayers++}for(const[H,ee]of Q){ee.sort((ce,Z)=>ce.ts-Z.ts);const ne=Dm(ee,u),G=Lj(ee[ee.length-1].ts),te=ee[ee.length-1];F.push(ce=>{const Z=Yt(_t,`players/${T}/history_monthly/${H}`);ce.set(Z,{playerId:T,monthId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:gt(te.row,ut.PLAYERS.TIMESTAMP),server:Ba(gt(te.row,ut.PLAYERS.SERVER)||""),name:gt(te.row,ut.PLAYERS.NAME)||null,values:ne,updatedAt:_i()},{merge:!0})}),o.writtenMonthlyPlayers++}}await Ql(P,Dj,"scans",e.onProgress),await Ql(I,Mj,"latest",e.onProgress),await Ql(F,Fj,"history",e.onProgress)}if(e.kind==="guilds"){const P=[],I=[],F=[],B=new Map;for(const T of c){const y=String((j=gt(T,ut.GUILDS.GUILD_IDENTIFIER))!=null?j:"").trim();if(!y){o.skippedMissingGuildIdentifier++;continue}const w=Ip(gt(T,ut.GUILDS.TIMESTAMP));if(w==null){o.skippedBadTsGuild++;continue}const M=(()=>{const C=gt(T,ut.GUILDS.SERVER);return C&&String(C).trim()!==""?Ba(C):void 0})();if(!M){o.skippedMissingServer++;continue}P.push(C=>{const _=Yt(_t,`guilds/${y}/scans/${w}`);C.set(_,{guildIdentifier:y,server:M,timestamp:w,timestampRaw:gt(T,ut.GUILDS.TIMESTAMP),name:gt(T,ut.GUILDS.NAME)||null,values:T,createdAt:_i()},{merge:!0})}),o.writtenScanGuilds++,B.has(y)||B.set(y,[]),B.get(y).push({row:T,ts:w})}for(const[T,y]of B){y.sort((z,W)=>z.ts-W.ts);const w=y[y.length-1],M=(N=gt(w.row,ut.GUILDS.NAME))!=null?N:"",C=Ej(M),_=Aj(C),E=Xx(gt(w.row,ut.GUILDS.MEMBER_COUNT)),L=Xx(gme(w.row,[ut.GUILDS.HOF,ut.GUILDS.HOF_ALT,ut.GUILDS.RANK,ut.GUILDS.GUILD_RANK])),R=Yt(_t,`guilds/${T}/latest/latest`),V=await Bj(R);w.ts>V&&(I.push(z=>{z.set(R,{guildIdentifier:T,server:Ba(gt(w.row,ut.GUILDS.SERVER)||""),timestamp:w.ts,timestampRaw:gt(w.row,ut.GUILDS.TIMESTAMP),name:gt(w.row,ut.GUILDS.NAME)||null,values:w.row,updatedAt:_i(),nameFold:Zm(M),nameTokens:C,nameNgrams:_,memberCount:E,hofRank:L},{merge:!0})}),o.writtenLatestGuilds++);const $=new Map,q=new Map;for(const z of y){const W=Ij(z.ts),Q=Pj(z.ts);$.has(W)||$.set(W,[]),q.has(Q)||q.set(Q,[]),$.get(W).push(z),q.get(Q).push(z)}for(const[z,W]of $){W.sort((ne,G)=>ne.ts-G.ts);const Q=Dm(W,u),H=Rj(W[W.length-1].ts),ee=W[W.length-1];F.push(ne=>{const G=Yt(_t,`guilds/${T}/history_weekly/${z}`);ne.set(G,{guildIdentifier:T,weekId:z,periodStartSec:H.start,periodEndSec:H.end,lastTs:ee.ts,lastTimestampRaw:gt(ee.row,ut.GUILDS.TIMESTAMP),server:Ba(gt(ee.row,ut.GUILDS.SERVER)||""),name:gt(ee.row,ut.GUILDS.NAME)||null,values:Q,updatedAt:_i()},{merge:!0})}),o.writtenWeeklyGuilds++}for(const[z,W]of q){W.sort((ne,G)=>ne.ts-G.ts);const Q=Dm(W,u),H=Lj(W[W.length-1].ts),ee=W[W.length-1];F.push(ne=>{const G=Yt(_t,`guilds/${T}/history_monthly/${z}`);ne.set(G,{guildIdentifier:T,monthId:z,periodStartSec:H.start,periodEndSec:H.end,lastTs:ee.ts,lastTimestampRaw:gt(ee.row,ut.GUILDS.TIMESTAMP),server:Ba(gt(ee.row,ut.GUILDS.SERVER)||""),name:gt(ee.row,ut.GUILDS.NAME)||null,values:Q,updatedAt:_i()},{merge:!0})}),o.writtenMonthlyGuilds++}}await Ql(P,Dj,"scans",e.onProgress),await Ql(I,Mj,"latest",e.onProgress),await Ql(F,Fj,"history",e.onProgress)}const m=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:o,errors:r,warnings:i,durationMs:m-n}}const rt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),yme=t=>String(t!=null?t:"").trim(),Qv=t=>yme(t).toUpperCase(),Xv=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function hn(t,e){for(const n of Object.keys(t))if(rt(n)===e)return t[n]}function Ji(t,e){for(const n of e){const r=hn(t,n);if(r!=null&&String(r)!=="")return r}}function Lo(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function hc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),o=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),m=n[6]?Number(n[6]):0,p=new Date(c,o,i,d,u,m);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ss={GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name"),TIMESTAMP:rt("Timestamp"),LEVEL:rt("Level"),CLASS:rt("Class"),GUILD:rt("Guild"),GUILD_ROLE:[rt("Role"),rt("Guild Role")],TREASURY:[rt("Treasury"),rt("Fortress Treasury"),rt("Treasury Level"),rt("Festungsschatzkammer")],MINE:[rt("Mine"),rt("Gem Mine"),rt("Mine Level"),rt("Festungsmine")],BASE_MAIN:[rt("Base"),rt("Base Attribute"),rt("BaseMain"),rt("Basis Attribut")],CON_BASE:[rt("Con Base"),rt("Constitution Base"),rt("Base Constitution"),rt("Basis Konstitution"),rt("conbase")],ATTR_TOT:[rt("Attribute"),rt("Attr Total"),rt("Attribut"),rt("Attribut Gesamt")],CON_TOT:[rt("Constitution"),rt("Constitution Total"),rt("Konstitution"),rt("Konstitution Gesamt")],LAST_ACTIVE:[rt("Last Active"),rt("LastActivity"),rt("Letzte Aktivitt")],GUILD_JOINED:[rt("Guild Joined"),rt("Joined Guild"),rt("Gildenbeitritt")]},ep={GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name")};function Vj(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function bme(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function _me(t){var n;const e=new Map;for(const r of t){const i=String((n=hn(r,ep.GUILD_IDENTIFIER))!=null?n:"").trim(),o=hn(r,ep.SERVER),c=hn(r,ep.NAME);if(!i||!o||!c)continue;const d=`${Qv(o)}__${Xv(String(c))}`;e.set(d,i)}return e}function wme(t){var T,y;const e=hn(t,Ss.TIMESTAMP),n=hc(e),r=Ji(t,Ss.LAST_ACTIVE),i=hc(r),o=Ji(t,Ss.GUILD_JOINED),c=hc(o),d=Lo(hn(t,Ss.LEVEL)),u=(()=>{const w=hn(t,Ss.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),m=(()=>{const w=Ji(t,Ss.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),p=Lo(Ji(t,Ss.TREASURY)),x=Lo(Ji(t,Ss.MINE)),v=Lo(Ji(t,Ss.BASE_MAIN)),j=Lo(Ji(t,Ss.CON_BASE)),N=Lo(Ji(t,Ss.ATTR_TOT)),P=Lo(Ji(t,Ss.CON_TOT)),I=v!=null&&j!=null?v+j:null,F=N!=null&&P!=null?N+P:null,B=(()=>{const w=hn(t,Ss.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((y=(T=t==null?void 0:t.ID)!=null?T:t==null?void 0:t.Identifier)!=null?y:""),name:B,class:u,role:m,level:d,treasury:p,mine:x,baseMain:v,conBase:j,sumBaseTotal:I,attrTotal:N,conTotal:P,totalStats:F,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:o!=null?String(o):null,guildJoinedMs:c!=null?c*1e3:null}}function Zi(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function jme(t){var c,d,u;const e=Yt(_t,`guilds/${t}/latest/latest`),n=await fn(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?u:null;let o=null;return typeof r.timestamp=="number"?o=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(o=hc(i)),{sec:o,raw:i}}async function Sme(t){const e=Yt(_t,`guilds/${t}/snapshots/members_summary`),n=await fn(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=hc(r.updatedAt);if(i!=null)return i}return 0}async function Nme(t,e){var o,c,d,u,m,p,x;const n=_me(e||[]),r=new Set;for(const v of e||[]){const j=String((o=hn(v,ep.GUILD_IDENTIFIER))!=null?o:"").trim();j&&r.add(j)}for(const v of t||[]){const j=hn(v,Ss.SERVER);let N=String((c=hn(v,Ss.GUILD_IDENTIFIER))!=null?c:"").trim();if(!N){const P=(d=hn(v,Ss.GUILD))!=null?d:v.Guild;if(P&&j){const I=`${Qv(j)}__${Xv(String(P))}`,F=n.get(I);F&&(N=F)}}N&&r.add(N)}let i=0;for(const v of r){const{sec:j,raw:N}=await jme(v);if(j==null)continue;const P=await Sme(v);if(j<=P)continue;const I=new Map;for(const z of t||[]){const W=hn(z,Ss.SERVER);let Q=String((u=hn(z,Ss.GUILD_IDENTIFIER))!=null?u:"").trim();if(!Q){const ne=(m=hn(z,Ss.GUILD))!=null?m:z.Guild;if(ne&&W){const G=`${Qv(W)}__${Xv(String(ne))}`,te=n.get(G);te&&(Q=te)}}if(Q!==v)continue;const H=hc(hn(z,Ss.TIMESTAMP));if(H==null||H!==j)continue;const ee=String((x=(p=z==null?void 0:z.ID)!=null?p:z==null?void 0:z.Identifier)!=null?x:"").trim();ee&&(I.has(ee)||I.set(ee,z))}const F=Array.from(I.values()),B=[];for(const z of F)B.push(wme(z));B.sort((z,W)=>{var ee,ne;const Q=Vj(z.role),H=Vj(W.role);return Q!==H?Q-H:((ee=z.name)!=null?ee:"").toLowerCase().localeCompare(((ne=W.name)!=null?ne:"").toLowerCase())});const T=Zi(B,"level"),y=Zi(B,"treasury"),w=Zi(B,"mine"),M=Zi(B,"baseMain"),C=Zi(B,"conBase"),_=Zi(B,"sumBaseTotal"),E=Zi(B,"attrTotal"),L=Zi(B,"conTotal"),R=Zi(B,"totalStats"),V=JSON.stringify({gid:v,tsSec:j,members:B.map(z=>{var W,Q,H,ee,ne,G,te,ce,Z,pe,Ce,ge,Te;return{id:z.id,name:(W=z.name)!=null?W:"",class:(Q=z.class)!=null?Q:"",role:(H=z.role)!=null?H:"",level:(ee=z.level)!=null?ee:null,treasury:(ne=z.treasury)!=null?ne:null,mine:(G=z.mine)!=null?G:null,baseMain:(te=z.baseMain)!=null?te:null,conBase:(ce=z.conBase)!=null?ce:null,sumBaseTotal:(Z=z.sumBaseTotal)!=null?Z:null,attrTotal:(pe=z.attrTotal)!=null?pe:null,conTotal:(Ce=z.conTotal)!=null?Ce:null,totalStats:(ge=z.totalStats)!=null?ge:null,guildJoinedMs:(Te=z.guildJoinedMs)!=null?Te:null}})}),$=bme(V),q=Yt(_t,`guilds/${v}/snapshots/members_summary`);await hp(q,{guildId:v,count:B.length,updatedAt:N!=null?N:String(j),updatedAtMs:j*1e3,hash:$,avgLevel:T,avgTreasury:y,avgMine:w,avgBaseMain:M,avgConBase:C,avgSumBaseTotal:_,avgAttrTotal:E,avgConTotal:L,avgTotalStats:R,members:B,updatedAtServer:_i()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function kme(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function Cme(t,e,n,r){var u,m,p;const i=Yt(_t,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),o=await fn(i);if(!o.exists())return await hp(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const c=o.data(),d=(m=c.updatedAtMs)!=null?m:c.timestamp?c.timestamp*1e3:r;return r<d?(await hp(i,n,{merge:!1}),{first:n,firstTsMs:(p=n.updatedAtMs)!=null?p:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function Tme(t,e,n){const r=Yt(_t,`guilds/${t}/history_monthly/${e}`);await hp(r,n,{merge:!0})}function Eme(t){var B,T,y,w,M,C,_,E,L,R,V,$,q;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:o,latest:c,latestTsMs:d}=t,u=o!=null?Math.floor((d-o)/864e5):null,m=u!=null&&u<=40,p={available:m};m||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const x={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:o?new Date(o).toISOString():null,toISO:new Date(d).toISOString(),fromTs:o?Math.floor(o/1e3):null,toTs:Math.floor(d/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!m||!i)return x;const v=new Map;for(const z of i.members||[])z.playerId&&v.set(z.playerId,z);const j=[],N=[],P=[],I=[],F=[];for(const z of c.members||[]){if(!z.playerId)continue;const W=v.get(z.playerId)||null,Q=(B=z.sumBaseTotal)!=null?B:null,H=(T=W==null?void 0:W.sumBaseTotal)!=null?T:null,ee=Q!=null&&H!=null?Q-H:0,ne=(y=z.totalStats)!=null?y:null,G=(w=W==null?void 0:W.totalStats)!=null?w:null,te=ne!=null&&G!=null?ne-G:0;j.push({playerId:z.playerId,name:(M=z.name)!=null?M:null,class:(C=z.class)!=null?C:null,levelLatest:(_=z.level)!=null?_:null,baseLatest:Q,baseDelta:ee}),N.push({playerId:z.playerId,name:(E=z.name)!=null?E:null,base:Q,stamDelta:null,shoDelta:null}),P.push({playerId:z.playerId,name:(L=z.name)!=null?L:null,stats:Q,delta:ee}),I.push({playerId:z.playerId,name:(R=z.name)!=null?R:null,total:ne,delta:te}),F.push({playerId:z.playerId,name:(V=z.name)!=null?V:null,class:($=z.class)!=null?$:null,stats:(q=z.baseMain)!=null?q:null,delta:(W==null?void 0:W.baseMain)!=null&&z.baseMain!=null?z.baseMain-W.baseMain:0})}return j.sort((z,W)=>{var Q,H;return((Q=W.baseDelta)!=null?Q:-1/0)-((H=z.baseDelta)!=null?H:-1/0)}),P.sort((z,W)=>{var Q,H;return((Q=W.stats)!=null?Q:-1/0)-((H=z.stats)!=null?H:-1/0)}),I.sort((z,W)=>{var Q,H;return((Q=W.total)!=null?Q:-1/0)-((H=z.total)!=null?H:-1/0)}),N.sort((z,W)=>{var Q,H;return((Q=W.base)!=null?Q:-1/0)-((H=z.base)!=null?H:-1/0)}),F.sort((z,W)=>{var Q,H;return((Q=W.stats)!=null?Q:-1/0)-((H=z.stats)!=null?H:-1/0)}),{...x,mostBaseGained:j.slice(0,50),sumBaseStats:N.slice(0,50),highestBaseStats:P.slice(0,50),highestTotalStats:I.slice(0,50),mainAndCon:F.slice(0,50)}}const Yx=t=>String(t!=null?t:"").trim(),kn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function Ame(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(n=i,r=o)}return n}function Oj(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=Ame((u=n[0])!=null?u:""),i=m=>{const p=[];let x="",v=!1;for(let j=0;j<m.length;j++){const N=m[j];N==='"'?v&&m[j+1]==='"'?(x+='"',j++):v=!v:N===r&&!v?(p.push(x),x=""):x+=N}return p.push(x),p},c=(n[0]?i(n[0]).map(Yx):[]).map((m,p)=>m||`col${p}`),d=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const p=i(n[m]);if(p.every(v=>Yx(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=p[v]!=null?Yx(p[v]):"";d.push(x)}return{headers:c,rows:d,delimiter:r}}const ks={PLAYERS:{IDENTIFIER:kn("Identifier"),GUILD_IDENTIFIER:kn("Guild Identifier"),TIMESTAMP:kn("Timestamp"),NAME:kn("Name"),SERVER:kn("Server"),OWN:kn("Own")},GUILDS:{GUILD_IDENTIFIER:kn("Guild Identifier"),GUILD_MEMBER_COUNT:kn("Guild Member Count"),NAME:kn("Name"),TIMESTAMP:kn("Timestamp")}},M5=(t,e)=>{const n=new Set(t.map(kn));return e.every(r=>n.has(r))},Cr=(t,e)=>{for(const n of Object.keys(t))if(kn(n)===e)return t[n]};function Ime(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function Uj(t){const e=t.map(kn),n=o=>e.includes(o);let r=0,i=0;return n(ks.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(ks.PLAYERS.IDENTIFIER)&&(r+=2),n(ks.PLAYERS.TIMESTAMP)&&(r+=1),n(ks.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(ks.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(ks.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(ks.PLAYERS.IDENTIFIER)?"players":"guilds"}function zj(t,e){const n=Ime(t);if(n!=="unknown"){const i=Uj(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=Uj(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function F5(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function Rme(t,e){var r;const n=[];if(!M5(e,[ks.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const o=Cr(i,ks.PLAYERS.GUILD_IDENTIFIER);if(!o)continue;const c=Cr(i,ks.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(o),id:Cr(i,ks.PLAYERS.IDENTIFIER)||void 0,name:Cr(i,ks.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Cr(i,ks.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=F5(Cr(i,ks.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function Pme(t,e){const n=[];if(!M5(e,[ks.GUILDS.GUILD_IDENTIFIER,ks.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=Cr(r,ks.GUILDS.GUILD_IDENTIFIER),o=Number(Cr(r,ks.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(o))continue;const c=F5(Cr(r,ks.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:Cr(r,ks.GUILDS.NAME)||void 0,memberCount:o,tsSec:c!=null?c:void 0})}return n}function Lme(t,e){var I,F,B,T,y,w;const n=[],r=new Map;for(const M of t){const C=M.id||"",_=(I=M.server)==null?void 0:I.toUpperCase();if(C){const E=`${_!=null?_:"NO"}::${C}`;r.has(E)||r.set(E,{server:_,id:C,name:M.name||"",own:!!M.own})}}const i=r.size,o=t.length,c=Array.from(r.values()).filter(M=>M.own).length,d=new Map;for(const M of r.values())M.server&&d.set(M.server,((F=d.get(M.server))!=null?F:0)+1);const u=Array.from(d.entries()).map(([M,C])=>({server:M,players:C})).sort((M,C)=>C.players-M.players),m=u.length,p=new Map;for(const M of t)p.set(M.guildIdentifier,((B=p.get(M.guildIdentifier))!=null?B:0)+1);const x=new Set,v=new Map;for(const M of e)x.add(M.guildIdentifier),v.set(M.guildIdentifier,{name:M.name||"",declared:M.memberCount});for(const M of p.keys())x.add(M);let j=0;const N=[];for(const M of x){const C=(T=v.get(M))==null?void 0:T.declared,_=(y=p.get(M))!=null?y:0,E=C!=null&&_===C;E&&j++,N.push({id:M,name:((w=v.get(M))==null?void 0:w.name)||"",declaredCount:C!=null?C:0,playersCount:_,full:E})}[...v.values()].some(M=>Number.isFinite(M.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),N.sort((M,C)=>M.name?M.name.localeCompare(C.name):M.id.localeCompare(C.id));const P=Array.from(r.values()).sort((M,C)=>(M.server||"")===(C.server||"")?M.name.localeCompare(C.name):(M.server||"").localeCompare(C.server||""));return{totalPlayers:o,uniquePlayerIds:i,ownPlayers:c,servers:m,perServer:u,guildsRepresented:x.size,fullyScannedGuilds:j,notes:n,playersList:P,guildsList:N}}function Dme(){const[t,e]=A.useState([]),[n,r]=A.useState(null),[i,o]=A.useState(!1),[c,d]=A.useState(null),[u,m]=A.useState(!1),[p,x]=A.useState(null),[v,j]=A.useState([]),[N,P]=A.useState(null);A.useEffect(()=>{const C=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=C}},[]);const I=A.useCallback(async C=>{var _;o(!0),d(null),r(null),j([]),x(null);try{const E=Array.from(C).slice(0,2),L=[];let R=[],V=[];for(const $ of E){const q=$,z=await q.text(),W=Oj(z),{kind:Q,warn:H}=zj(q.name,W.headers);L.push({name:q.name,size:q.size||z.length,rows:W.rows.length,delimiter:W.delimiter,text:z,kind:Q,warn:H}),Q==="players"?R=R.concat(Rme(W.rows,W.headers)):Q==="guilds"&&(V=V.concat(Pme(W.rows,W.headers)))}e(L),r(Lme(R,V))}catch(E){d(String((_=E==null?void 0:E.message)!=null?_:E))}finally{o(!1)}},[]),F=A.useCallback(async C=>{!C||C.length===0||await I(C)},[I]),B=A.useCallback(async C=>{C.preventDefault();const _=C.dataTransfer.files;!_||!_.length||await I(_)},[I]);async function T(){var C,_,E;if(t.length){m(!0),P({phase:"prepare",current:0,total:0}),x(null),j([]);try{let L=[],R=[];for(const z of t){const W=Oj(z.text),{kind:Q}=zj(z.name,W.headers);Q==="players"&&(L=L.concat(W.rows)),Q==="guilds"&&(R=R.concat(W.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!L.length,hasGuildsCsv:!!R.length,playersRows:L.length,guildsRows:R.length}),!R.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!L.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await $j(null,{kind:"guilds",rows:R,onProgress:z=>P(z)});console.info("[Import Report] guilds",V);const $=await $j(null,{kind:"players",rows:L,onProgress:z=>P(z)});console.info("[Import Report] players",$),await Nme(L,R);const q=new Set;for(const z of R){const W=Cr(z,kn("Guild Identifier"));W&&q.add(String(W))}for(const z of L){const W=Cr(z,kn("Guild Identifier"));W&&q.add(String(W))}for(const z of q){const W=Yt(_t,`guilds/${z}/snapshots/members_summary`),Q=await fn(W);if(!Q.exists())continue;const H=Q.data(),ee=Number((C=H.updatedAtMs)!=null?C:H.timestamp?H.timestamp*1e3:Date.now()),ne=kme(ee),{first:G,firstTsMs:te}=await Cme(z,ne,H,ee),ce=Eme({guildId:z,monthKey:ne,server:(_=H.server)!=null?_:null,first:G,firstTsMs:te,latest:H,latestTsMs:ee});await Tme(z,ne,ce)}P({phase:"done",current:1,total:1}),j([V,$]),x("Import abgeschlossen.")}catch(L){console.error("[UploadCenter] Import error:",L),x(`Fehler beim Import: ${(E=L==null?void 0:L.message)!=null?E:L}`)}finally{m(!1),setTimeout(()=>P(null),1200)}}}const y=A.useMemo(()=>t.map(C=>`${C.name} (${C.rows} rows, ${C.delimiter}, ${C.kind}${C.warn?" ":""})`),[t]),w=A.useMemo(()=>t.reduce((C,_)=>C+_.rows,0),[t]),M=N?Math.floor(100*N.current/Math.max(1,N.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((C,_)=>s.jsx("span",{className:"uc-chip",title:t[_].warn||"",children:C},_)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",w," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[N&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),s.jsx("button",{onClick:T,disabled:!t.length||!n||u,className:"uc-btn",children:u?"Loading":"Load to DB"}),p&&s.jsx("span",{style:{color:p.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:p})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:C=>F(C.target.files),disabled:i})]}),s.jsx("div",{onDragOver:C=>C.preventDefault(),onDrop:B,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Pd,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Pd,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Pd,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Pd,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Pd,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(C=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.server}),s.jsx("td",{style:{textAlign:"right"},children:C.players})]},C.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((C,_)=>{var E,L;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(E=C.server)!=null?E:""}),s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{children:C.own?"":""})]},`${(L=C.server)!=null?L:"NO"}-${C.id}-${_}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((C,_)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{style:{textAlign:"right"},children:C.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:C.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:C.full?"":""})]},`${C.id}-${_}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((C,_)=>s.jsx("li",{children:C},_))})]})]})]})}function Pd({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function Mme(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function Fme(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=fS();return!t||!i?null:s.jsx("div",{className:bi.backdrop,onClick:e,children:s.jsxs("div",{className:bi.panel,onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:bi.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:bi.tabs,children:[s.jsx("button",{type:"button",className:`${bi.tabBtn} ${n==="csv"?bi.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${bi.tabBtn} ${n==="json"?bi.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:bi.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:bi.content,children:n==="csv"?s.jsx(Dme,{}):s.jsx(Mme,{})})]})})}const Bme=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),cn=Bme("Diese Unterseite existiert in der neuen Struktur nicht mehr.");Q4.createRoot(document.getElementById("root")).render(s.jsx(re.StrictMode,{children:s.jsx(TA,{children:s.jsxs(IA,{role:"admin",children:[s.jsx(bT,{children:s.jsx(XC,{children:s.jsxs(ue,{element:s.jsx(dL,{}),children:[s.jsx(ue,{path:"/",element:s.jsx(iB,{})}),s.jsx(ue,{path:"/login",element:s.jsx(wB,{})}),s.jsx(ue,{path:"/dashboard",element:s.jsx(jB,{})}),s.jsx(ue,{path:"/dashboard/kpis",element:s.jsx(kB,{})}),s.jsx(ue,{path:"/dashboard/activity",element:s.jsx(CB,{})}),s.jsx(ue,{path:"/dashboard/progression",element:s.jsx(TB,{})}),s.jsx(ue,{path:"/discover",element:s.jsx(EB,{})}),s.jsx(ue,{path:"/toplists",element:s.jsx(aV,{})}),s.jsx(ue,{path:"/sfmagazine",element:s.jsx(LB,{})}),s.jsx(ue,{path:"/sfmagazine/historybook",element:s.jsx(d$,{})}),s.jsx(ue,{path:"/players",element:s.jsx(oV,{})}),s.jsx(ue,{path:"/players/rankings",element:s.jsx(lV,{})}),s.jsx(ue,{path:"/players/stats",element:s.jsx(cV,{})}),s.jsx(ue,{path:"/players/profile",element:s.jsx(Tx,{})}),s.jsx(ue,{path:"/players/profile/:playerId",element:s.jsx(Tx,{})}),s.jsx(ue,{path:"/player/:playerId",element:s.jsx(Tx,{})}),s.jsx(ue,{path:"/guilds",element:s.jsx(TV,{})}),s.jsx(ue,{path:"/guilds/rankings",element:s.jsx(EV,{})}),s.jsx(ue,{path:"/guilds/stats",element:s.jsx(AV,{})}),s.jsx(ue,{path:"/guilds/profile",element:s.jsx(Rx,{})}),s.jsx(ue,{path:"/guilds/profile/:guildId",element:s.jsx(Rx,{})}),s.jsx(ue,{path:"/guild/:guildId",element:s.jsx(Rx,{})}),s.jsx(ue,{path:"/servers",element:s.jsx(xz,{})}),s.jsx(ue,{path:"/servers/rankings",element:s.jsx(vz,{})}),s.jsx(ue,{path:"/servers/stats",element:s.jsx(yz,{})}),s.jsx(ue,{path:"/servers/profile",element:s.jsx(Px,{})}),"               ",s.jsx(ue,{path:"/servers/profile/:serverId",element:s.jsx(Px,{})}),"     ",s.jsx(ue,{path:"/server/:serverId",element:s.jsx(Px,{})}),"              ",s.jsx(ue,{path:"/u/:profileId",element:s.jsx(TH,{})}),s.jsx(ue,{path:"/guidehub/*",element:s.jsx(dX,{})}),s.jsx(ue,{path:"/community",element:s.jsx(nJ,{})}),s.jsx(ue,{path:"/community/scans",element:s.jsx(h5,{})}),s.jsx(ue,{path:"/community/predictions",element:s.jsx(m5,{})}),s.jsx(ue,{path:"/community/creators",element:s.jsx(u5,{})}),s.jsx(ue,{path:"/community/feedback",element:s.jsx(f5,{})}),s.jsx(ue,{path:"/community/news",element:s.jsx(p5,{})}),s.jsx(ue,{path:"/community/records",element:s.jsx(g5,{})}),s.jsx(ue,{path:"/scans",element:s.jsx(rJ,{})}),s.jsx(ue,{path:"/scans/latest",element:s.jsx(iJ,{})}),s.jsx(ue,{path:"/scans/archive",element:s.jsx(aJ,{})}),s.jsx(ue,{path:"/guild-hub",element:s.jsx(oJ,{})}),s.jsx(ue,{path:"/guild-hub/planner",element:s.jsx(FZ,{})}),s.jsx(ue,{path:"/guild-hub/fusion-planner",element:s.jsx(_re,{})}),s.jsx(ue,{path:"/guild-hub/fusion",element:s.jsx(Lie,{})}),s.jsx(ue,{path:"/guild-hub/waitlist",element:s.jsx(Zae,{})}),s.jsx(ue,{path:"/guild-hub/activity",element:s.jsx(ooe,{})}),s.jsx(ue,{path:"/guild-hub/imports",element:s.jsx(loe,{})}),s.jsx(ue,{path:"/guild-hub/announcements",element:s.jsx(coe,{})}),s.jsx(ue,{path:"/guild-hub/events",element:s.jsx(doe,{})}),s.jsx(ue,{path:"/guild-hub/roles",element:s.jsx(uoe,{})}),s.jsx(ue,{path:"/guild-hub/settings",element:s.jsx(hoe,{})}),s.jsx(ue,{path:"/admin",element:s.jsx(goe,{})}),s.jsx(ue,{path:"/admin/errors",element:s.jsx(boe,{})}),s.jsx(ue,{path:"/admin/scans-uploaded",element:s.jsx(woe,{})}),s.jsx(ue,{path:"/admin/creators-api",element:s.jsx(Roe,{})}),s.jsx(ue,{path:"/admin/users",element:s.jsx(Xoe,{})}),s.jsx(ue,{path:"/settings",element:s.jsx(sle,{})}),s.jsx(ue,{path:"/settings/account",element:s.jsx($le,{})}),s.jsxs(ue,{path:"/playground",element:s.jsx(Ole,{}),children:[s.jsx(ue,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(ue,{path:"list-views",element:s.jsx(Sj,{})}),s.jsx(ue,{path:"rescan-widget",element:s.jsx(kj,{})}),s.jsx(ue,{path:"upload-sim",element:s.jsx(Cj,{})}),s.jsx(ue,{path:"theme-maker",element:s.jsx(bj,{})}),s.jsx(ue,{path:"theme-maker-pro",element:s.jsx(wj,{})}),s.jsx(ue,{path:"am-rune-bonuses-demos",element:s.jsx(Bce,{})}),s.jsx(ue,{path:"templates/content-shell",element:s.jsx(Ide,{})}),s.jsx(ue,{path:"templates/blank",element:s.jsx(Pde,{})}),s.jsx(ue,{path:"templates/blank-alt",element:s.jsx(Dde,{})}),s.jsx(ue,{path:"templates/blank-layout-2",element:s.jsx($de,{})}),s.jsx(ue,{path:"templates/blank-layout-3",element:s.jsx(Ode,{})}),s.jsx(ue,{path:"templates/blank-layout-4",element:s.jsx(Ude,{})}),s.jsx(ue,{path:"portrait-maker",element:s.jsx(Cde,{})}),s.jsx(ue,{path:"hud",element:s.jsx($ce,{})}),s.jsx(ue,{path:"hud/game-buttons",element:s.jsx(hde,{})}),s.jsx(ue,{path:"core-ui/theme-maker",element:s.jsx(bj,{})}),s.jsx(ue,{path:"core-ui/theme-maker-pro",element:s.jsx(wj,{})}),s.jsx(ue,{path:"core-ui/list-views",element:s.jsx(Sj,{})}),s.jsx(ue,{path:"sync/rescan",element:s.jsx(kj,{})}),s.jsx(ue,{path:"upload/sim",element:s.jsx(Cj,{})}),s.jsx(ue,{path:"import/har",element:s.jsx(Wde,{})}),s.jsx(ue,{path:"import/json-csv",element:s.jsx(Xde,{})}),s.jsx(ue,{path:"import/schema",element:s.jsx(eue,{})}),s.jsx(ue,{path:"hubs/player-contained",element:s.jsx(rue,{})}),s.jsx(ue,{path:"hubs/guilds",element:s.jsx(lue,{})}),s.jsx(ue,{path:"hubs/servers",element:s.jsx(hue,{})}),s.jsx(ue,{path:"rankings/views",element:s.jsx(gue,{})}),s.jsx(ue,{path:"analytics/kpi",element:s.jsx(bue,{})}),s.jsx(ue,{path:"analytics/progression",element:s.jsx(Sue,{})}),s.jsx(ue,{path:"analytics/legendary-pets",element:s.jsx(Tue,{})}),s.jsx(ue,{path:"community/scans",element:s.jsx(Rue,{})}),s.jsx(ue,{path:"community/creators",element:s.jsx(Mue,{})}),s.jsx(ue,{path:"feedback/form",element:s.jsx(Vue,{})}),s.jsx(ue,{path:"feedback/admin",element:s.jsx(Hue,{})}),s.jsx(ue,{path:"help/tutorials",element:s.jsx(Kue,{})}),s.jsx(ue,{path:"help/wiki",element:s.jsx(Jue,{})}),s.jsx(ue,{path:"legal/tos",element:s.jsx(ahe,{})}),s.jsx(ue,{path:"legal/transparency",element:s.jsx(dhe,{})}),s.jsx(ue,{path:"settings",element:s.jsx(she,{})}),s.jsx(ue,{path:"pwa/update",element:s.jsx(phe,{})}),s.jsx(ue,{path:"pwa/install",element:s.jsx(vhe,{})}),s.jsx(ue,{path:"connect/manual",element:s.jsx(whe,{})}),s.jsx(ue,{path:"connect/userscript",element:s.jsx(khe,{})}),s.jsx(ue,{path:"interop/exports",element:s.jsx(Ahe,{})}),s.jsx(ue,{path:"interop/deeplinks",element:s.jsx(Lhe,{})}),s.jsx(ue,{path:"admin/servers",element:s.jsx(Bhe,{})}),s.jsx(ue,{path:"admin/jobs",element:s.jsx(Uhe,{})}),s.jsx(ue,{path:"admin/flags",element:s.jsx(Whe,{})}),s.jsx(ue,{path:"perf/table-lab",element:s.jsx(Xhe,{})}),s.jsx(ue,{path:"mobile/filters",element:s.jsx(eme,{})}),s.jsx(ue,{path:"qa/a11y",element:s.jsx(rme,{})})]}),s.jsx(ue,{path:"/latest-scan",element:s.jsx(qg,{to:"/scans/latest",replace:!0})}),s.jsx(ue,{path:"/old-scans",element:s.jsx(qg,{to:"/scans/archive",replace:!0})}),s.jsx(ue,{path:"/favorites",element:cn()}),s.jsx(ue,{path:"/notifications",element:cn()}),s.jsx(ue,{path:"/guilds/planner",element:cn()}),s.jsx(ue,{path:"/guilds/fusion",element:cn()}),s.jsx(ue,{path:"/guilds/academy",element:cn()}),s.jsx(ue,{path:"/toplists/players",element:cn()}),s.jsx(ue,{path:"/toplists/guilds",element:cn()}),s.jsx(ue,{path:"/toplists/servers",element:cn()}),s.jsx(ue,{path:"/settings/profile",element:cn()}),s.jsx(ue,{path:"/settings/appearance",element:cn()}),s.jsx(ue,{path:"/players/search",element:cn()}),s.jsx(ue,{path:"/players/compare",element:cn()}),s.jsx(ue,{path:"/servers/list",element:cn()}),s.jsx(ue,{path:"/servers/trend",element:cn()}),s.jsx(ue,{path:"/scans/upload",element:cn()}),s.jsx(ue,{path:"/scans/history",element:cn()}),s.jsx(ue,{path:"*",element:s.jsx(qg,{to:"/",replace:!0})})]})})}),s.jsx(Fme,{})]})})}));
