(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},ru={},Pp={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function VE(){if(d0)return Ge;d0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,I={};function k(H,ee,ye){this.props=H,this.context=ee,this.refs=I,this.updater=ye||S}k.prototype.isReactComponent={},k.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function V(){}V.prototype=k.prototype;function B(H,ee,ye){this.props=H,this.context=ee,this.refs=I,this.updater=ye||S}var F=B.prototype=new V;F.constructor=B,j(F,k.prototype),F.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,q={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(H,ee,ye){var _e,je={},me=null,Ce=null;if(ee!=null)for(_e in ee.ref!==void 0&&(Ce=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)$.call(ee,_e)&&!E.hasOwnProperty(_e)&&(je[_e]=ee[_e]);var Ae=arguments.length-2;if(Ae===1)je.children=ye;else if(1<Ae){for(var Pe=Array(Ae),tt=0;tt<Ae;tt++)Pe[tt]=arguments[tt+2];je.children=Pe}if(H&&H.defaultProps)for(_e in Ae=H.defaultProps,Ae)je[_e]===void 0&&(je[_e]=Ae[_e]);return{$$typeof:t,type:H,key:me,ref:Ce,props:je,_owner:q.current}}function A(H,ee){return{$$typeof:t,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function M(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ee[ye]})}var L=/\/+/g;function N(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):ee.toString(36)}function fe(H,ee,ye,_e,je){var me=typeof H;(me==="undefined"||me==="boolean")&&(H=null);var Ce=!1;if(H===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(H.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=H,je=je(Ce),H=_e===""?"."+N(Ce,0):_e,U(je)?(ye="",H!=null&&(ye=H.replace(L,"$&/")+"/"),fe(je,ee,ye,"",function(tt){return tt})):je!=null&&(D(je)&&(je=A(je,ye+(!je.key||Ce&&Ce.key===je.key?"":(""+je.key).replace(L,"$&/")+"/")+H)),ee.push(je)),1;if(Ce=0,_e=_e===""?".":_e+":",U(H))for(var Ae=0;Ae<H.length;Ae++){me=H[Ae];var Pe=_e+N(me,Ae);Ce+=fe(me,ee,ye,Pe,je)}else if(Pe=w(H),typeof Pe=="function")for(H=Pe.call(H),Ae=0;!(me=H.next()).done;)me=me.value,Pe=_e+N(me,Ae++),Ce+=fe(me,ee,ye,Pe,je);else if(me==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ce}function K(H,ee,ye){if(H==null)return H;var _e=[],je=0;return fe(H,_e,"","",function(me){return ee.call(ye,me,je++)}),_e}function re(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var ne={current:null},Q={transition:null},ae={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:q};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:K,forEach:function(H,ee,ye){K(H,function(){ee.apply(this,arguments)},ye)},count:function(H){var ee=0;return K(H,function(){ee++}),ee},toArray:function(H){return K(H,function(ee){return ee})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ge.Component=k,Ge.Fragment=n,Ge.Profiler=i,Ge.PureComponent=B,Ge.StrictMode=r,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ge.act=oe,Ge.cloneElement=function(H,ee,ye){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var _e=j({},H.props),je=H.key,me=H.ref,Ce=H._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,Ce=q.current),ee.key!==void 0&&(je=""+ee.key),H.type&&H.type.defaultProps)var Ae=H.type.defaultProps;for(Pe in ee)$.call(ee,Pe)&&!E.hasOwnProperty(Pe)&&(_e[Pe]=ee[Pe]===void 0&&Ae!==void 0?Ae[Pe]:ee[Pe])}var Pe=arguments.length-2;if(Pe===1)_e.children=ye;else if(1<Pe){Ae=Array(Pe);for(var tt=0;tt<Pe;tt++)Ae[tt]=arguments[tt+2];_e.children=Ae}return{$$typeof:t,type:H.type,key:je,ref:me,props:_e,_owner:Ce}},Ge.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},Ge.createElement=T,Ge.createFactory=function(H){var ee=T.bind(null,H);return ee.type=H,ee},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(H){return{$$typeof:d,render:H}},Ge.isValidElement=D,Ge.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:re}},Ge.memo=function(H,ee){return{$$typeof:p,type:H,compare:ee===void 0?null:ee}},Ge.startTransition=function(H){var ee=Q.transition;Q.transition={};try{H()}finally{Q.transition=ee}},Ge.unstable_act=oe,Ge.useCallback=function(H,ee){return ne.current.useCallback(H,ee)},Ge.useContext=function(H){return ne.current.useContext(H)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(H){return ne.current.useDeferredValue(H)},Ge.useEffect=function(H,ee){return ne.current.useEffect(H,ee)},Ge.useId=function(){return ne.current.useId()},Ge.useImperativeHandle=function(H,ee,ye){return ne.current.useImperativeHandle(H,ee,ye)},Ge.useInsertionEffect=function(H,ee){return ne.current.useInsertionEffect(H,ee)},Ge.useLayoutEffect=function(H,ee){return ne.current.useLayoutEffect(H,ee)},Ge.useMemo=function(H,ee){return ne.current.useMemo(H,ee)},Ge.useReducer=function(H,ee,ye){return ne.current.useReducer(H,ee,ye)},Ge.useRef=function(H){return ne.current.useRef(H)},Ge.useState=function(H){return ne.current.useState(H)},Ge.useSyncExternalStore=function(H,ee,ye){return ne.current.useSyncExternalStore(H,ee,ye)},Ge.useTransition=function(){return ne.current.useTransition()},Ge.version="18.3.1",Ge}var h0;function Sg(){return h0||(h0=1,Pp.exports=VE()),Pp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function FE(){if(f0)return ru;f0=1;var t=Sg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,v={},w=null,S=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:w,ref:S,props:v,_owner:i.current}}return ru.Fragment=n,ru.jsx=u,ru.jsxs=u,ru}var p0;function LE(){return p0||(p0=1,Rp.exports=FE()),Rp.exports}var o=LE(),P=Sg();const Ve=_g(P);var Sd={},Np={exports:{}},Xn={},Dp={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function BE(){return m0||(m0=1,(function(t){function e(Q,ae){var oe=Q.length;Q.push(ae);e:for(;0<oe;){var H=oe-1>>>1,ee=Q[H];if(0<i(ee,ae))Q[H]=ae,Q[oe]=ee,oe=H;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],oe=Q.pop();if(oe!==ae){Q[0]=oe;e:for(var H=0,ee=Q.length,ye=ee>>>1;H<ye;){var _e=2*(H+1)-1,je=Q[_e],me=_e+1,Ce=Q[me];if(0>i(je,oe))me<ee&&0>i(Ce,je)?(Q[H]=Ce,Q[me]=oe,H=me):(Q[H]=je,Q[_e]=oe,H=_e);else if(me<ee&&0>i(Ce,oe))Q[H]=Ce,Q[me]=oe,H=me;else break e}}return ae}function i(Q,ae){var oe=Q.sortIndex-ae.sortIndex;return oe!==0?oe:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,v=null,w=3,S=!1,j=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Q){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Q)r(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=n(p)}}function U(Q){if(I=!1,F(Q),!j)if(n(f)!==null)j=!0,re($);else{var ae=n(p);ae!==null&&ne(U,ae.startTime-Q)}}function $(Q,ae){j=!1,I&&(I=!1,V(T),T=-1),S=!0;var oe=w;try{for(F(ae),v=n(f);v!==null&&(!(v.expirationTime>ae)||Q&&!M());){var H=v.callback;if(typeof H=="function"){v.callback=null,w=v.priorityLevel;var ee=H(v.expirationTime<=ae);ae=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(f)&&r(f),F(ae)}else r(f);v=n(f)}if(v!==null)var ye=!0;else{var _e=n(p);_e!==null&&ne(U,_e.startTime-ae),ye=!1}return ye}finally{v=null,w=oe,S=!1}}var q=!1,E=null,T=-1,A=5,D=-1;function M(){return!(t.unstable_now()-D<A)}function L(){if(E!==null){var Q=t.unstable_now();D=Q;var ae=!0;try{ae=E(!0,Q)}finally{ae?N():(q=!1,E=null)}}else q=!1}var N;if(typeof B=="function")N=function(){B(L)};else if(typeof MessageChannel!="undefined"){var fe=new MessageChannel,K=fe.port2;fe.port1.onmessage=L,N=function(){K.postMessage(null)}}else N=function(){k(L,0)};function re(Q){E=Q,q||(q=!0,N())}function ne(Q,ae){T=k(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){j||S||(j=!0,re($))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var oe=w;w=ae;try{return Q()}finally{w=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=w;w=Q;try{return ae()}finally{w=oe}},t.unstable_scheduleCallback=function(Q,ae,oe){var H=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?H+oe:H):oe=H,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,Q={id:g++,callback:ae,priorityLevel:Q,startTime:oe,expirationTime:ee,sortIndex:-1},oe>H?(Q.sortIndex=oe,e(p,Q),n(f)===null&&Q===n(p)&&(I?(V(T),T=-1):I=!0,ne(U,oe-H))):(Q.sortIndex=ee,e(f,Q),j||S||(j=!0,re($))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var ae=w;return function(){var oe=w;w=ae;try{return Q.apply(this,arguments)}finally{w=oe}}}})(Mp)),Mp}var g0;function OE(){return g0||(g0=1,Dp.exports=BE()),Dp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function $E(){if(y0)return Xn;y0=1;var t=Sg(),e=OE();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(s){return f.call(v,s)?!0:f.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function S(s,a,c,m){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,a,c,m){if(a===null||typeof a=="undefined"||S(s,a,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(s,a,c,m,y,b,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];k[a]=new I(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,B);k[a]=new I(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,B);k[a]=new I(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,B);k[a]=new I(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,c,m){var y=k.hasOwnProperty(a)?k[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,c,y,m)&&(c=null),m||y===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,m=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,m?s.setAttributeNS(m,a,c):s.setAttribute(a,c))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),q=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,H;function ee(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var ye=!1;function _e(s,a){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){m=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}s()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),b=m.stack.split(`
`),C=y.length-1,O=b.length-1;1<=C&&0<=O&&y[C]!==b[O];)O--;for(;1<=C&&0<=O;C--,O--)if(y[C]!==b[O]){if(C!==1||O!==1)do if(C--,O--,0>O||y[C]!==b[O]){var z=`
`+y[C].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=C&&0<=O);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ee(s):""}function je(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case q:return"Portal";case A:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case L:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:me(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return me(s(a))}catch(c){}}return null}function Ce(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function tt(s){var a=Pe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){m=""+C,b.call(this,C)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Dt(s){s._valueTracker||(s._valueTracker=tt(s))}function Yt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return s&&(m=Pe(s)?s.checked?"true":"false":s.value),s=m,s!==c?(a.setValue(s),!0):!1}function Lt(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(a){return s.body}}function kt(s,a){var c=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c!=null?c:s._wrapperState.initialChecked})}function On(s,a){var c=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;c=Ae(a.value!=null?a.value:c),s._wrapperState={initialChecked:m,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function $n(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function it(s,a){$n(s,a);var c=Ae(a.value),m=a.type;if(c!=null)m==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Un(s,a.type,c):a.hasOwnProperty("defaultValue")&&Un(s,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function yr(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Un(s,a,c){(a!=="number"||Lt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var on=Array.isArray;function an(s,a,c,m){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&m&&(s[c].defaultSelected=!0)}else{for(c=""+Ae(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function tr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function At(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(on(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Ae(c)}}function nr(s,a){var c=Ae(a.value),m=Ae(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),m!=null&&(s.defaultValue=""+m)}function rr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ue(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var zn,as=(function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,c,m,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,m,y)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=zn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function sr(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(s){Mr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),vr[a]=vr[s]})});function ls(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||vr.hasOwnProperty(s)&&vr[s]?(""+a).trim():a+"px"}function Vr(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var m=c.indexOf("--")===0,y=ls(c,a[c],m);c==="float"&&(c="cssFloat"),m?s.setProperty(c,y):s[c]=y}}var mt=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function us(s,a){if(a){if(mt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function hi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=null;function Rs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ps=null,Nn=null,ir=null;function Ns(s){if(s=Ul(s)){if(typeof Ps!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Lc(a),Ps(s.stateNode,s.type,a))}}function ds(s){Nn?ir?ir.push(s):ir=[s]:Nn=s}function xl(){if(Nn){var s=Nn,a=ir;if(ir=Nn=null,Ns(s),a)for(s=0;s<a.length;s++)Ns(a[s])}}function Ji(s,a){return s(a)}function bl(){}var Ds=!1;function wl(s,a,c){if(Ds)return s(a,c);Ds=!0;try{return Ji(s,a,c)}finally{Ds=!1,(Nn!==null||ir!==null)&&(bl(),xl())}}function Mt(s,a){var c=s.stateNode;if(c===null)return null;var m=Lc(c);if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Yo=!1;if(d)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch(s){Yo=!1}function Zi(s,a,c,m,y,b,C,O,z){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ce){this.onError(ce)}}var eo=!1,Xo=null,Lr=!1,_l=null,sf={onError:function(s){eo=!0,Xo=s}};function Jo(s,a,c,m,y,b,C,O,z){eo=!1,Xo=null,Zi.apply(sf,arguments)}function uc(s,a,c,m,y,b,C,O,z){if(Jo.apply(this,arguments),eo){if(eo){var Z=Xo;eo=!1,Xo=null}else throw Error(n(198));Lr||(Lr=!0,_l=Z)}}function Br(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function to(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Or(s){if(Br(s)!==s)throw Error(n(188))}function cc(s){var a=s.alternate;if(!a){if(a=Br(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,m=a;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return Or(y),s;if(b===m)return Or(y),a;b=b.sibling}throw Error(n(188))}if(c.return!==m.return)c=y,m=b;else{for(var C=!1,O=y.child;O;){if(O===c){C=!0,c=y,m=b;break}if(O===m){C=!0,m=y,c=b;break}O=O.sibling}if(!C){for(O=b.child;O;){if(O===c){C=!0,c=b,m=y;break}if(O===m){C=!0,m=b,c=y;break}O=O.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Sl(s){return s=cc(s),s!==null?Zo(s):null}function Zo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Zo(s);if(a!==null)return a;s=s.sibling}return null}var ea=e.unstable_scheduleCallback,Tl=e.unstable_cancelCallback,dc=e.unstable_shouldYield,of=e.unstable_requestPaint,ut=e.unstable_now,hc=e.unstable_getCurrentPriorityLevel,no=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,xr=e.unstable_NormalPriority,El=e.unstable_LowPriority,fc=e.unstable_IdlePriority,ro=null,or=null;function pc(s){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(ro,s,void 0,(s.current.flags&128)===128)}catch(a){}}var Dn=Math.clz32?Math.clz32:gc,jl=Math.log,mc=Math.LN2;function gc(s){return s>>>=0,s===0?32:31-(jl(s)/mc|0)|0}var ta=64,na=4194304;function pi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function so(s,a){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,b=s.pingedLanes,C=c&268435455;if(C!==0){var O=C&~y;O!==0?m=pi(O):(b&=C,b!==0&&(m=pi(b)))}else C=c&~y,C!==0?m=pi(C):b!==0&&(m=pi(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,b=a&-a,y>=b||y===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)c=31-Dn(a),y=1<<c,m|=s[c],a&=~y;return m}function af(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(s,a){for(var c=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes;0<b;){var C=31-Dn(b),O=1<<C,z=y[C];z===-1?((O&c)===0||(O&m)!==0)&&(y[C]=af(O,a)):z<=a&&(s.expiredLanes|=O),b&=~O}}function ar(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function io(){var s=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),s}function mi(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function gi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Dn(a),s[a]=c}function ot(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Dn(c),b=1<<y;a[y]=0,m[y]=-1,s[y]=-1,c&=~b}}function yi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var m=31-Dn(c),y=1<<m;y&a|s[m]&a&&(s[m]|=a),c&=~y}}var qe=0;function vi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var yc,ra,vc,xc,bc,Cl=!1,hs=[],ln=null,$r=null,Ur=null,xi=new Map,br=new Map,fs=[],lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wc(s,a){switch(s){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":xi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(a.pointerId)}}function Gn(s,a,c,m,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Ul(a),a!==null&&ra(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function uf(s,a,c,m,y){switch(a){case"focusin":return ln=Gn(ln,s,a,c,m,y),!0;case"dragenter":return $r=Gn($r,s,a,c,m,y),!0;case"mouseover":return Ur=Gn(Ur,s,a,c,m,y),!0;case"pointerover":var b=y.pointerId;return xi.set(b,Gn(xi.get(b)||null,s,a,c,m,y)),!0;case"gotpointercapture":return b=y.pointerId,br.set(b,Gn(br.get(b)||null,s,a,c,m,y)),!0}return!1}function _c(s){var a=co(s.target);if(a!==null){var c=Br(a);if(c!==null){if(a=c.tag,a===13){if(a=to(c),a!==null){s.blockedOn=a,bc(s.priority,function(){vc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=sa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);cs=m,c.target.dispatchEvent(m),cs=null}else return a=Ul(c),a!==null&&ra(a),s.blockedOn=c,!1;a.shift()}return!0}function oo(s,a,c){Vs(s)&&c.delete(a)}function Sc(){Cl=!1,ln!==null&&Vs(ln)&&(ln=null),$r!==null&&Vs($r)&&($r=null),Ur!==null&&Vs(Ur)&&(Ur=null),xi.forEach(oo),br.forEach(oo)}function zr(s,a){s.blockedOn===a&&(s.blockedOn=null,Cl||(Cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sc)))}function Gr(s){function a(y){return zr(y,s)}if(0<hs.length){zr(hs[0],s);for(var c=1;c<hs.length;c++){var m=hs[c];m.blockedOn===s&&(m.blockedOn=null)}}for(ln!==null&&zr(ln,s),$r!==null&&zr($r,s),Ur!==null&&zr(Ur,s),xi.forEach(a),br.forEach(a),c=0;c<fs.length;c++)m=fs[c],m.blockedOn===s&&(m.blockedOn=null);for(;0<fs.length&&(c=fs[0],c.blockedOn===null);)_c(c),c.blockedOn===null&&fs.shift()}var Fs=U.ReactCurrentBatchConfig,bi=!0;function xt(s,a,c,m){var y=qe,b=Fs.transition;Fs.transition=null;try{qe=1,kl(s,a,c,m)}finally{qe=y,Fs.transition=b}}function cf(s,a,c,m){var y=qe,b=Fs.transition;Fs.transition=null;try{qe=4,kl(s,a,c,m)}finally{qe=y,Fs.transition=b}}function kl(s,a,c,m){if(bi){var y=sa(s,a,c,m);if(y===null)wf(s,a,m,ao,c),wc(s,m);else if(uf(y,s,a,c,m))m.stopPropagation();else if(wc(s,m),a&4&&-1<lf.indexOf(s)){for(;y!==null;){var b=Ul(y);if(b!==null&&yc(b),b=sa(s,a,c,m),b===null&&wf(s,a,m,ao,c),b===y)break;y=b}y!==null&&m.stopPropagation()}else wf(s,a,m,null,c)}}var ao=null;function sa(s,a,c,m){if(ao=null,s=Rs(m),s=co(s),s!==null)if(a=Br(s),a===null)s=null;else if(c=a.tag,c===13){if(s=to(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ao=s,null}function Al(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hc()){case no:return 1;case fi:return 4;case xr:case El:return 16;case fc:return 536870912;default:return 16}default:return 16}}var lr=null,ia=null,Hn=null;function Il(){if(Hn)return Hn;var s,a=ia,c=a.length,m,y="value"in lr?lr.value:lr.textContent,b=y.length;for(s=0;s<c&&a[s]===y[s];s++);var C=c-s;for(m=1;m<=C&&a[c-m]===y[b-m];m++);return Hn=y.slice(s,1<m?1-m:void 0)}function oa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ps(){return!0}function Rl(){return!1}function un(s){function a(c,m,y,b,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(c=s[O],this[O]=c?c(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ps:Rl,this.isPropagationStopped=Rl,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),a}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=un(Hr),ms=oe({},Hr,{view:0,detail:0}),df=un(ms),la,Ls,wi,lo=oe({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wi&&(wi&&s.type==="mousemove"?(la=s.screenX-wi.screenX,Ls=s.screenY-wi.screenY):Ls=la=0,wi=s),la)},movementY:function(s){return"movementY"in s?s.movementY:Ls}}),ua=un(lo),Pl=oe({},lo,{dataTransfer:0}),Tc=un(Pl),ca=oe({},ms,{relatedTarget:0}),da=un(ca),Ec=oe({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=un(Ec),jc=oe({},Hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cc=un(jc),kc=oe({},Hr,{data:0}),Nl=un(kc),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ac[s])?!!a[s]:!1}function gs(){return Ic}var h=oe({},ms,{key:function(s){if(s.key){var a=ha[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=oa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(s){return s.type==="keypress"?oa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?oa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=un(h),_=oe({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=un(_),Y=oe({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),te=un(Y),ge=oe({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=un(ge),Wt=oe({},lo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=un(Wt),Xt=[9,13,27,32],Bt=d&&"CompositionEvent"in window,wr=null;d&&"documentMode"in document&&(wr=document.documentMode);var ur=d&&"TextEvent"in window&&!wr,uo=d&&(!Bt||wr&&8<wr&&11>=wr),fa=" ",iv=!1;function ov(s,a){switch(s){case"keyup":return Xt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pa=!1;function NT(s,a){switch(s){case"compositionend":return av(a);case"keypress":return a.which!==32?null:(iv=!0,fa);case"textInput":return s=a.data,s===fa&&iv?null:s;default:return null}}function DT(s,a){if(pa)return s==="compositionend"||!Bt&&ov(s,a)?(s=Il(),Hn=ia=lr=null,pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return uo&&a.locale!=="ko"?null:a.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!MT[s.type]:a==="textarea"}function uv(s,a,c,m){ds(m),a=Mc(a,"onChange"),0<a.length&&(c=new aa("onChange","change",null,c,m),s.push({event:c,listeners:a}))}var Dl=null,Ml=null;function VT(s){Cv(s,0)}function Rc(s){var a=xa(s);if(Yt(a))return s}function FT(s,a){if(s==="change")return a}var cv=!1;if(d){var hf;if(d){var ff="oninput"in document;if(!ff){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),ff=typeof dv.oninput=="function"}hf=ff}else hf=!1;cv=hf&&(!document.documentMode||9<document.documentMode)}function hv(){Dl&&(Dl.detachEvent("onpropertychange",fv),Ml=Dl=null)}function fv(s){if(s.propertyName==="value"&&Rc(Ml)){var a=[];uv(a,Ml,s,Rs(s)),wl(VT,a)}}function LT(s,a,c){s==="focusin"?(hv(),Dl=a,Ml=c,Dl.attachEvent("onpropertychange",fv)):s==="focusout"&&hv()}function BT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rc(Ml)}function OT(s,a){if(s==="click")return Rc(a)}function $T(s,a){if(s==="input"||s==="change")return Rc(a)}function UT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Wr=typeof Object.is=="function"?Object.is:UT;function Vl(s,a){if(Wr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!f.call(a,y)||!Wr(s[y],a[y]))return!1}return!0}function pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mv(s,a){var c=pv(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=a&&m>=a)return{node:c,offset:a-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=pv(c)}}function gv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?gv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function yv(){for(var s=window,a=Lt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch(m){c=!1}if(c)s=a.contentWindow;else break;a=Lt(s.document)}return a}function pf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function zT(s){var a=yv(),c=s.focusedElem,m=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&gv(c.ownerDocument.documentElement,c)){if(m!==null&&pf(c)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,b=Math.min(m.start,y);m=m.end===void 0?b:Math.min(m.end,y),!s.extend&&b>m&&(y=m,m=b,b=y),y=mv(c,b);var C=mv(c,m);y&&C&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var GT=d&&"documentMode"in document&&11>=document.documentMode,ma=null,mf=null,Fl=null,gf=!1;function vv(s,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;gf||ma==null||ma!==Lt(m)||(m=ma,"selectionStart"in m&&pf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Fl&&Vl(Fl,m)||(Fl=m,m=Mc(mf,"onSelect"),0<m.length&&(a=new aa("onSelect","select",null,a,c),s.push({event:a,listeners:m}),a.target=ma)))}function Pc(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ga={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionend:Pc("Transition","TransitionEnd")},yf={},xv={};d&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Nc(s){if(yf[s])return yf[s];if(!ga[s])return s;var a=ga[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in xv)return yf[s]=a[c];return s}var bv=Nc("animationend"),wv=Nc("animationiteration"),_v=Nc("animationstart"),Sv=Nc("transitionend"),Tv=new Map,Ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(s,a){Tv.set(s,a),l(a,[s])}for(var vf=0;vf<Ev.length;vf++){var xf=Ev[vf],HT=xf.toLowerCase(),WT=xf[0].toUpperCase()+xf.slice(1);_i(HT,"on"+WT)}_i(bv,"onAnimationEnd"),_i(wv,"onAnimationIteration"),_i(_v,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Sv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function jv(s,a,c){var m=s.type||"unknown-event";s.currentTarget=c,uc(m,a,void 0,s),s.currentTarget=null}function Cv(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],y=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var C=m.length-1;0<=C;C--){var O=m[C],z=O.instance,Z=O.currentTarget;if(O=O.listener,z!==b&&y.isPropagationStopped())break e;jv(y,O,Z),b=z}else for(C=0;C<m.length;C++){if(O=m[C],z=O.instance,Z=O.currentTarget,O=O.listener,z!==b&&y.isPropagationStopped())break e;jv(y,O,Z),b=z}}}if(Lr)throw s=_l,Lr=!1,_l=null,s}function gt(s,a){var c=a[Cf];c===void 0&&(c=a[Cf]=new Set);var m=s+"__bubble";c.has(m)||(kv(a,s,2,!1),c.add(m))}function bf(s,a,c){var m=0;a&&(m|=4),kv(c,s,m,a)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Bl(s){if(!s[Dc]){s[Dc]=!0,r.forEach(function(c){c!=="selectionchange"&&(qT.has(c)||bf(c,!1,s),bf(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Dc]||(a[Dc]=!0,bf("selectionchange",!1,a))}}function kv(s,a,c,m){switch(Al(a)){case 1:var y=xt;break;case 4:y=cf;break;default:y=kl}c=y.bind(null,a,c,s),y=void 0,!Yo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function wf(s,a,c,m,y){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(C===4)for(C=m.return;C!==null;){var z=C.tag;if((z===3||z===4)&&(z=C.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;C=C.return}for(;O!==null;){if(C=co(O),C===null)return;if(z=C.tag,z===5||z===6){m=b=C;continue e}O=O.parentNode}}m=m.return}wl(function(){var Z=b,ce=Rs(c),he=[];e:{var ue=Tv.get(s);if(ue!==void 0){var xe=aa,we=s;switch(s){case"keypress":if(oa(c)===0)break e;case"keydown":case"keyup":xe=x;break;case"focusin":we="focus",xe=da;break;case"focusout":we="blur",xe=da;break;case"beforeblur":case"afterblur":xe=da;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=te;break;case bv:case wv:case _v:xe=Bs;break;case Sv:xe=nt;break;case"scroll":xe=df;break;case"wheel":xe=Ke;break;case"copy":case"cut":case"paste":xe=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=R}var Se=(a&4)!==0,Vt=!Se&&s==="scroll",X=Se?ue!==null?ue+"Capture":null:ue;Se=[];for(var W=Z,J;W!==null;){J=W;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,X!==null&&(pe=Mt(W,X),pe!=null&&Se.push(Ol(W,pe,J)))),Vt)break;W=W.return}0<Se.length&&(ue=new xe(ue,we,null,c,ce),he.push({event:ue,listeners:Se}))}}if((a&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ue&&c!==cs&&(we=c.relatedTarget||c.fromElement)&&(co(we)||we[Os]))break e;if((xe||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,xe?(we=c.relatedTarget||c.toElement,xe=Z,we=we?co(we):null,we!==null&&(Vt=Br(we),we!==Vt||we.tag!==5&&we.tag!==6)&&(we=null)):(xe=null,we=Z),xe!==we)){if(Se=ua,pe="onMouseLeave",X="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Se=R,pe="onPointerLeave",X="onPointerEnter",W="pointer"),Vt=xe==null?ue:xa(xe),J=we==null?ue:xa(we),ue=new Se(pe,W+"leave",xe,c,ce),ue.target=Vt,ue.relatedTarget=J,pe=null,co(ce)===Z&&(Se=new Se(X,W+"enter",we,c,ce),Se.target=J,Se.relatedTarget=Vt,pe=Se),Vt=pe,xe&&we)t:{for(Se=xe,X=we,W=0,J=Se;J;J=ya(J))W++;for(J=0,pe=X;pe;pe=ya(pe))J++;for(;0<W-J;)Se=ya(Se),W--;for(;0<J-W;)X=ya(X),J--;for(;W--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=ya(Se),X=ya(X)}Se=null}else Se=null;xe!==null&&Av(he,ue,xe,Se,!1),we!==null&&Vt!==null&&Av(he,Vt,we,Se,!0)}}e:{if(ue=Z?xa(Z):window,xe=ue.nodeName&&ue.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ue.type==="file")var Ee=FT;else if(lv(ue))if(cv)Ee=$T;else{Ee=BT;var Ie=LT}else(xe=ue.nodeName)&&xe.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ee=OT);if(Ee&&(Ee=Ee(s,Z))){uv(he,Ee,c,ce);break e}Ie&&Ie(s,ue,Z),s==="focusout"&&(Ie=ue._wrapperState)&&Ie.controlled&&ue.type==="number"&&Un(ue,"number",ue.value)}switch(Ie=Z?xa(Z):window,s){case"focusin":(lv(Ie)||Ie.contentEditable==="true")&&(ma=Ie,mf=Z,Fl=null);break;case"focusout":Fl=mf=ma=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,vv(he,c,ce);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":vv(he,c,ce)}var Re;if(Bt)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else pa?ov(s,c)&&(De="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(uo&&c.locale!=="ko"&&(pa||De!=="onCompositionStart"?De==="onCompositionEnd"&&pa&&(Re=Il()):(lr=ce,ia="value"in lr?lr.value:lr.textContent,pa=!0)),Ie=Mc(Z,De),0<Ie.length&&(De=new Nl(De,s,null,c,ce),he.push({event:De,listeners:Ie}),Re?De.data=Re:(Re=av(c),Re!==null&&(De.data=Re)))),(Re=ur?NT(s,c):DT(s,c))&&(Z=Mc(Z,"onBeforeInput"),0<Z.length&&(ce=new Nl("onBeforeInput","beforeinput",null,c,ce),he.push({event:ce,listeners:Z}),ce.data=Re))}Cv(he,a)})}function Ol(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Mc(s,a){for(var c=a+"Capture",m=[];s!==null;){var y=s,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=Mt(s,c),b!=null&&m.unshift(Ol(s,b,y)),b=Mt(s,a),b!=null&&m.push(Ol(s,b,y))),s=s.return}return m}function ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Av(s,a,c,m,y){for(var b=a._reactName,C=[];c!==null&&c!==m;){var O=c,z=O.alternate,Z=O.stateNode;if(z!==null&&z===m)break;O.tag===5&&Z!==null&&(O=Z,y?(z=Mt(c,b),z!=null&&C.unshift(Ol(c,z,O))):y||(z=Mt(c,b),z!=null&&C.push(Ol(c,z,O)))),c=c.return}C.length!==0&&s.push({event:a,listeners:C})}var KT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function Iv(s){return(typeof s=="string"?s:""+s).replace(KT,`
`).replace(QT,"")}function Vc(s,a,c){if(a=Iv(a),Iv(s)!==a&&c)throw Error(n(425))}function Fc(){}var _f=null,Sf=null;function Tf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv!="undefined"?function(s){return Rv.resolve(null).then(s).catch(JT)}:Ef;function JT(s){setTimeout(function(){throw s})}function jf(s,a){var c=a,m=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(m===0){s.removeChild(y),Gr(a);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=y}while(c);Gr(a)}function Si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Pv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var va=Math.random().toString(36).slice(2),ys="__reactFiber$"+va,$l="__reactProps$"+va,Os="__reactContainer$"+va,Cf="__reactEvents$"+va,ZT="__reactListeners$"+va,eE="__reactHandles$"+va;function co(s){var a=s[ys];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Os]||c[ys]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Pv(s);s!==null;){if(c=s[ys])return c;s=Pv(s)}return a}s=c,c=s.parentNode}return null}function Ul(s){return s=s[ys]||s[Os],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Lc(s){return s[$l]||null}var kf=[],ba=-1;function Ti(s){return{current:s}}function yt(s){0>ba||(s.current=kf[ba],kf[ba]=null,ba--)}function ct(s,a){ba++,kf[ba]=s.current,s.current=a}var Ei={},_n=Ti(Ei),Wn=Ti(!1),ho=Ei;function wa(s,a){var c=s.type.contextTypes;if(!c)return Ei;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in c)y[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function qn(s){return s=s.childContextTypes,s!=null}function Bc(){yt(Wn),yt(_n)}function Nv(s,a,c){if(_n.current!==Ei)throw Error(n(168));ct(_n,a),ct(Wn,c)}function Dv(s,a,c){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Ce(s)||"Unknown",y));return oe({},c,m)}function Oc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ei,ho=_n.current,ct(_n,s),ct(Wn,Wn.current),!0}function Mv(s,a,c){var m=s.stateNode;if(!m)throw Error(n(169));c?(s=Dv(s,a,ho),m.__reactInternalMemoizedMergedChildContext=s,yt(Wn),yt(_n),ct(_n,s)):yt(Wn),ct(Wn,c)}var $s=null,$c=!1,Af=!1;function Vv(s){$s===null?$s=[s]:$s.push(s)}function tE(s){$c=!0,Vv(s)}function ji(){if(!Af&&$s!==null){Af=!0;var s=0,a=qe;try{var c=$s;for(qe=1;s<c.length;s++){var m=c[s];do m=m(!0);while(m!==null)}$s=null,$c=!1}catch(y){throw $s!==null&&($s=$s.slice(s+1)),ea(no,ji),y}finally{qe=a,Af=!1}}return null}var _a=[],Sa=0,Uc=null,zc=0,_r=[],Sr=0,fo=null,Us=1,zs="";function po(s,a){_a[Sa++]=zc,_a[Sa++]=Uc,Uc=s,zc=a}function Fv(s,a,c){_r[Sr++]=Us,_r[Sr++]=zs,_r[Sr++]=fo,fo=s;var m=Us;s=zs;var y=32-Dn(m)-1;m&=~(1<<y),c+=1;var b=32-Dn(a)+y;if(30<b){var C=y-y%5;b=(m&(1<<C)-1).toString(32),m>>=C,y-=C,Us=1<<32-Dn(a)+y|c<<y|m,zs=b+s}else Us=1<<b|c<<y|m,zs=s}function If(s){s.return!==null&&(po(s,1),Fv(s,1,0))}function Rf(s){for(;s===Uc;)Uc=_a[--Sa],_a[Sa]=null,zc=_a[--Sa],_a[Sa]=null;for(;s===fo;)fo=_r[--Sr],_r[Sr]=null,zs=_r[--Sr],_r[Sr]=null,Us=_r[--Sr],_r[Sr]=null}var cr=null,dr=null,bt=!1,qr=null;function Lv(s,a){var c=Cr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Bv(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,cr=s,dr=Si(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,cr=s,dr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=fo!==null?{id:Us,overflow:zs}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Cr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,cr=s,dr=null,!0):!1;default:return!1}}function Pf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Nf(s){if(bt){var a=dr;if(a){var c=a;if(!Bv(s,a)){if(Pf(s))throw Error(n(418));a=Si(c.nextSibling);var m=cr;a&&Bv(s,a)?Lv(m,c):(s.flags=s.flags&-4097|2,bt=!1,cr=s)}}else{if(Pf(s))throw Error(n(418));s.flags=s.flags&-4097|2,bt=!1,cr=s}}}function Ov(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;cr=s}function Gc(s){if(s!==cr)return!1;if(!bt)return Ov(s),bt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Tf(s.type,s.memoizedProps)),a&&(a=dr)){if(Pf(s))throw $v(),Error(n(418));for(;a;)Lv(s,a),a=Si(a.nextSibling)}if(Ov(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){dr=Si(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}dr=null}}else dr=cr?Si(s.stateNode.nextSibling):null;return!0}function $v(){for(var s=dr;s;)s=Si(s.nextSibling)}function Ta(){dr=cr=null,bt=!1}function Df(s){qr===null?qr=[s]:qr.push(s)}var nE=U.ReactCurrentBatchConfig;function zl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var m=c.stateNode}if(!m)throw Error(n(147,s));var y=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(C){var O=y.refs;C===null?delete O[b]:O[b]=C},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Hc(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Uv(s){var a=s._init;return a(s._payload)}function zv(s){function a(X,W){if(s){var J=X.deletions;J===null?(X.deletions=[W],X.flags|=16):J.push(W)}}function c(X,W){if(!s)return null;for(;W!==null;)a(X,W),W=W.sibling;return null}function m(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function y(X,W){return X=Di(X,W),X.index=0,X.sibling=null,X}function b(X,W,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<W?(X.flags|=2,W):J):(X.flags|=2,W)):(X.flags|=1048576,W)}function C(X){return s&&X.alternate===null&&(X.flags|=2),X}function O(X,W,J,pe){return W===null||W.tag!==6?(W=Ep(J,X.mode,pe),W.return=X,W):(W=y(W,J),W.return=X,W)}function z(X,W,J,pe){var Ee=J.type;return Ee===E?ce(X,W,J.props.children,pe,J.key):W!==null&&(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&Uv(Ee)===W.type)?(pe=y(W,J.props),pe.ref=zl(X,W,J),pe.return=X,pe):(pe=md(J.type,J.key,J.props,null,X.mode,pe),pe.ref=zl(X,W,J),pe.return=X,pe)}function Z(X,W,J,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=jp(J,X.mode,pe),W.return=X,W):(W=y(W,J.children||[]),W.return=X,W)}function ce(X,W,J,pe,Ee){return W===null||W.tag!==7?(W=_o(J,X.mode,pe,Ee),W.return=X,W):(W=y(W,J),W.return=X,W)}function he(X,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Ep(""+W,X.mode,J),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return J=md(W.type,W.key,W.props,null,X.mode,J),J.ref=zl(X,null,W),J.return=X,J;case q:return W=jp(W,X.mode,J),W.return=X,W;case re:var pe=W._init;return he(X,pe(W._payload),J)}if(on(W)||ae(W))return W=_o(W,X.mode,J,null),W.return=X,W;Hc(X,W)}return null}function ue(X,W,J,pe){var Ee=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ee!==null?null:O(X,W,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Ee?z(X,W,J,pe):null;case q:return J.key===Ee?Z(X,W,J,pe):null;case re:return Ee=J._init,ue(X,W,Ee(J._payload),pe)}if(on(J)||ae(J))return Ee!==null?null:ce(X,W,J,pe,null);Hc(X,J)}return null}function xe(X,W,J,pe,Ee){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return X=X.get(J)||null,O(W,X,""+pe,Ee);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return X=X.get(pe.key===null?J:pe.key)||null,z(W,X,pe,Ee);case q:return X=X.get(pe.key===null?J:pe.key)||null,Z(W,X,pe,Ee);case re:var Ie=pe._init;return xe(X,W,J,Ie(pe._payload),Ee)}if(on(pe)||ae(pe))return X=X.get(J)||null,ce(W,X,pe,Ee,null);Hc(W,pe)}return null}function we(X,W,J,pe){for(var Ee=null,Ie=null,Re=W,De=W=0,en=null;Re!==null&&De<J.length;De++){Re.index>De?(en=Re,Re=null):en=Re.sibling;var Je=ue(X,Re,J[De],pe);if(Je===null){Re===null&&(Re=en);break}s&&Re&&Je.alternate===null&&a(X,Re),W=b(Je,W,De),Ie===null?Ee=Je:Ie.sibling=Je,Ie=Je,Re=en}if(De===J.length)return c(X,Re),bt&&po(X,De),Ee;if(Re===null){for(;De<J.length;De++)Re=he(X,J[De],pe),Re!==null&&(W=b(Re,W,De),Ie===null?Ee=Re:Ie.sibling=Re,Ie=Re);return bt&&po(X,De),Ee}for(Re=m(X,Re);De<J.length;De++)en=xe(Re,X,De,J[De],pe),en!==null&&(s&&en.alternate!==null&&Re.delete(en.key===null?De:en.key),W=b(en,W,De),Ie===null?Ee=en:Ie.sibling=en,Ie=en);return s&&Re.forEach(function(Mi){return a(X,Mi)}),bt&&po(X,De),Ee}function Se(X,W,J,pe){var Ee=ae(J);if(typeof Ee!="function")throw Error(n(150));if(J=Ee.call(J),J==null)throw Error(n(151));for(var Ie=Ee=null,Re=W,De=W=0,en=null,Je=J.next();Re!==null&&!Je.done;De++,Je=J.next()){Re.index>De?(en=Re,Re=null):en=Re.sibling;var Mi=ue(X,Re,Je.value,pe);if(Mi===null){Re===null&&(Re=en);break}s&&Re&&Mi.alternate===null&&a(X,Re),W=b(Mi,W,De),Ie===null?Ee=Mi:Ie.sibling=Mi,Ie=Mi,Re=en}if(Je.done)return c(X,Re),bt&&po(X,De),Ee;if(Re===null){for(;!Je.done;De++,Je=J.next())Je=he(X,Je.value,pe),Je!==null&&(W=b(Je,W,De),Ie===null?Ee=Je:Ie.sibling=Je,Ie=Je);return bt&&po(X,De),Ee}for(Re=m(X,Re);!Je.done;De++,Je=J.next())Je=xe(Re,X,De,Je.value,pe),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?De:Je.key),W=b(Je,W,De),Ie===null?Ee=Je:Ie.sibling=Je,Ie=Je);return s&&Re.forEach(function(ME){return a(X,ME)}),bt&&po(X,De),Ee}function Vt(X,W,J,pe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Ee=J.key,Ie=W;Ie!==null;){if(Ie.key===Ee){if(Ee=J.type,Ee===E){if(Ie.tag===7){c(X,Ie.sibling),W=y(Ie,J.props.children),W.return=X,X=W;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&Uv(Ee)===Ie.type){c(X,Ie.sibling),W=y(Ie,J.props),W.ref=zl(X,Ie,J),W.return=X,X=W;break e}c(X,Ie);break}else a(X,Ie);Ie=Ie.sibling}J.type===E?(W=_o(J.props.children,X.mode,pe,J.key),W.return=X,X=W):(pe=md(J.type,J.key,J.props,null,X.mode,pe),pe.ref=zl(X,W,J),pe.return=X,X=pe)}return C(X);case q:e:{for(Ie=J.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(X,W.sibling),W=y(W,J.children||[]),W.return=X,X=W;break e}else{c(X,W);break}else a(X,W);W=W.sibling}W=jp(J,X.mode,pe),W.return=X,X=W}return C(X);case re:return Ie=J._init,Vt(X,W,Ie(J._payload),pe)}if(on(J))return we(X,W,J,pe);if(ae(J))return Se(X,W,J,pe);Hc(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(c(X,W.sibling),W=y(W,J),W.return=X,X=W):(c(X,W),W=Ep(J,X.mode,pe),W.return=X,X=W),C(X)):c(X,W)}return Vt}var Ea=zv(!0),Gv=zv(!1),Wc=Ti(null),qc=null,ja=null,Mf=null;function Vf(){Mf=ja=qc=null}function Ff(s){var a=Wc.current;yt(Wc),s._currentValue=a}function Lf(s,a,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===c)break;s=s.return}}function Ca(s,a){qc=s,Mf=ja=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Kn=!0),s.firstContext=null)}function Tr(s){var a=s._currentValue;if(Mf!==s)if(s={context:s,memoizedValue:a,next:null},ja===null){if(qc===null)throw Error(n(308));ja=s,qc.dependencies={lanes:0,firstContext:s}}else ja=ja.next=s;return a}var mo=null;function Bf(s){mo===null?mo=[s]:mo.push(s)}function Hv(s,a,c,m){var y=a.interleaved;return y===null?(c.next=c,Bf(a)):(c.next=y.next,y.next=c),a.interleaved=c,Gs(s,m)}function Gs(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ci=!1;function Of(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Hs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ki(s,a,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ye&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Gs(s,c)}return y=m.interleaved,y===null?(a.next=a,Bf(m)):(a.next=y.next,y.next=a),m.interleaved=a,Gs(s,c)}function Kc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,c|=m,a.lanes=c,yi(s,c)}}function qv(s,a){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?y=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?y=b=a:b=b.next=a}else y=b=a;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Qc(s,a,c,m){var y=s.updateQueue;Ci=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var z=O,Z=z.next;z.next=null,C===null?b=Z:C.next=Z,C=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==C&&(O===null?ce.firstBaseUpdate=Z:O.next=Z,ce.lastBaseUpdate=z))}if(b!==null){var he=y.baseState;C=0,ce=Z=z=null,O=b;do{var ue=O.lane,xe=O.eventTime;if((m&ue)===ue){ce!==null&&(ce=ce.next={eventTime:xe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var we=s,Se=O;switch(ue=a,xe=c,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){he=we.call(xe,he,ue);break e}he=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ue=typeof we=="function"?we.call(xe,he,ue):we,ue==null)break e;he=oe({},he,ue);break e;case 2:Ci=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ue=y.effects,ue===null?y.effects=[O]:ue.push(O))}else xe={eventTime:xe,lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(Z=ce=xe,z=he):ce=ce.next=xe,C|=ue;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);if(ce===null&&(z=he),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do C|=y.lane,y=y.next;while(y!==a)}else b===null&&(y.shared.lanes=0);vo|=C,s.lanes=C,s.memoizedState=he}}function Kv(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],y=m.callback;if(y!==null){if(m.callback=null,m=c,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Gl={},vs=Ti(Gl),Hl=Ti(Gl),Wl=Ti(Gl);function go(s){if(s===Gl)throw Error(n(174));return s}function $f(s,a){switch(ct(Wl,a),ct(Hl,s),ct(vs,Gl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:vt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=vt(a,s)}yt(vs),ct(vs,a)}function ka(){yt(vs),yt(Hl),yt(Wl)}function Qv(s){go(Wl.current);var a=go(vs.current),c=vt(a,s.type);a!==c&&(ct(Hl,s),ct(vs,c))}function Uf(s){Hl.current===s&&(yt(vs),yt(Hl))}var Tt=Ti(0);function Yc(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var zf=[];function Gf(){for(var s=0;s<zf.length;s++)zf[s]._workInProgressVersionPrimary=null;zf.length=0}var Xc=U.ReactCurrentDispatcher,Hf=U.ReactCurrentBatchConfig,yo=0,Et=null,qt=null,Jt=null,Jc=!1,ql=!1,Kl=0,rE=0;function Sn(){throw Error(n(321))}function Wf(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Wr(s[c],a[c]))return!1;return!0}function qf(s,a,c,m,y,b){if(yo=b,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xc.current=s===null||s.memoizedState===null?aE:lE,s=c(m,y),ql){b=0;do{if(ql=!1,Kl=0,25<=b)throw Error(n(301));b+=1,Jt=qt=null,a.updateQueue=null,Xc.current=uE,s=c(m,y)}while(ql)}if(Xc.current=td,a=qt!==null&&qt.next!==null,yo=0,Jt=qt=Et=null,Jc=!1,a)throw Error(n(300));return s}function Kf(){var s=Kl!==0;return Kl=0,s}function xs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Et.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function Er(){if(qt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=qt.next;var a=Jt===null?Et.memoizedState:Jt.next;if(a!==null)Jt=a,qt=s;else{if(s===null)throw Error(n(310));qt=s,s={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Jt===null?Et.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function Ql(s,a){return typeof a=="function"?a(s):a}function Qf(s){var a=Er(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var m=qt,y=m.baseQueue,b=c.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}m.baseQueue=y=b,c.pending=null}if(y!==null){b=y.next,m=m.baseState;var O=C=null,z=null,Z=b;do{var ce=Z.lane;if((yo&ce)===ce)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:s(m,Z.action);else{var he={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(O=z=he,C=m):z=z.next=he,Et.lanes|=ce,vo|=ce}Z=Z.next}while(Z!==null&&Z!==b);z===null?C=m:z.next=O,Wr(m,a.memoizedState)||(Kn=!0),a.memoizedState=m,a.baseState=C,a.baseQueue=z,c.lastRenderedState=m}if(s=c.interleaved,s!==null){y=s;do b=y.lane,Et.lanes|=b,vo|=b,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Yf(s){var a=Er(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var m=c.dispatch,y=c.pending,b=a.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do b=s(b,C.action),C=C.next;while(C!==y);Wr(b,a.memoizedState)||(Kn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,m]}function Yv(){}function Xv(s,a){var c=Et,m=Er(),y=a(),b=!Wr(m.memoizedState,y);if(b&&(m.memoizedState=y,Kn=!0),m=m.queue,Xf(ex.bind(null,c,m,s),[s]),m.getSnapshot!==a||b||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,Yl(9,Zv.bind(null,c,m,y,a),void 0,null),Zt===null)throw Error(n(349));(yo&30)!==0||Jv(c,a,y)}return y}function Jv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Zv(s,a,c,m){a.value=c,a.getSnapshot=m,tx(a)&&nx(s)}function ex(s,a,c){return c(function(){tx(a)&&nx(s)})}function tx(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Wr(s,c)}catch(m){return!0}}function nx(s){var a=Gs(s,1);a!==null&&Xr(a,s,1,-1)}function rx(s){var a=xs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:s},a.queue=s,s=s.dispatch=oE.bind(null,Et,s),[a.memoizedState,s]}function Yl(s,a,c,m){return s={tag:s,create:a,destroy:c,deps:m,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,a.lastEffect=s)),s}function sx(){return Er().memoizedState}function Zc(s,a,c,m){var y=xs();Et.flags|=s,y.memoizedState=Yl(1|a,c,void 0,m===void 0?null:m)}function ed(s,a,c,m){var y=Er();m=m===void 0?null:m;var b=void 0;if(qt!==null){var C=qt.memoizedState;if(b=C.destroy,m!==null&&Wf(m,C.deps)){y.memoizedState=Yl(a,c,b,m);return}}Et.flags|=s,y.memoizedState=Yl(1|a,c,b,m)}function ix(s,a){return Zc(8390656,8,s,a)}function Xf(s,a){return ed(2048,8,s,a)}function ox(s,a){return ed(4,2,s,a)}function ax(s,a){return ed(4,4,s,a)}function lx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ux(s,a,c){return c=c!=null?c.concat([s]):null,ed(4,4,lx.bind(null,a,s),c)}function Jf(){}function cx(s,a){var c=Er();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Wf(a,m[1])?m[0]:(c.memoizedState=[s,a],s)}function dx(s,a){var c=Er();a=a===void 0?null:a;var m=c.memoizedState;return m!==null&&a!==null&&Wf(a,m[1])?m[0]:(s=s(),c.memoizedState=[s,a],s)}function hx(s,a,c){return(yo&21)===0?(s.baseState&&(s.baseState=!1,Kn=!0),s.memoizedState=c):(Wr(c,a)||(c=io(),Et.lanes|=c,vo|=c,s.baseState=!0),a)}function sE(s,a){var c=qe;qe=c!==0&&4>c?c:4,s(!0);var m=Hf.transition;Hf.transition={};try{s(!1),a()}finally{qe=c,Hf.transition=m}}function fx(){return Er().memoizedState}function iE(s,a,c){var m=Pi(s);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},px(s))mx(a,c);else if(c=Hv(s,a,c,m),c!==null){var y=Fn();Xr(c,s,m,y),gx(c,a,m)}}function oE(s,a,c){var m=Pi(s),y={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(px(s))mx(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var C=a.lastRenderedState,O=b(C,c);if(y.hasEagerState=!0,y.eagerState=O,Wr(O,C)){var z=a.interleaved;z===null?(y.next=y,Bf(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch(Z){}finally{}c=Hv(s,a,y,m),c!==null&&(y=Fn(),Xr(c,s,m,y),gx(c,a,m))}}function px(s){var a=s.alternate;return s===Et||a!==null&&a===Et}function mx(s,a){ql=Jc=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function gx(s,a,c){if((c&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,c|=m,a.lanes=c,yi(s,c)}}var td={readContext:Tr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},aE={readContext:Tr,useCallback:function(s,a){return xs().memoizedState=[s,a===void 0?null:a],s},useContext:Tr,useEffect:ix,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Zc(4194308,4,lx.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Zc(4,2,s,a)},useMemo:function(s,a){var c=xs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var m=xs();return a=c!==void 0?c(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=iE.bind(null,Et,s),[m.memoizedState,s]},useRef:function(s){var a=xs();return s={current:s},a.memoizedState=s},useState:rx,useDebugValue:Jf,useDeferredValue:function(s){return xs().memoizedState=s},useTransition:function(){var s=rx(!1),a=s[0];return s=sE.bind(null,s[1]),xs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var m=Et,y=xs();if(bt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Zt===null)throw Error(n(349));(yo&30)!==0||Jv(m,a,c)}y.memoizedState=c;var b={value:c,getSnapshot:a};return y.queue=b,ix(ex.bind(null,m,b,s),[s]),m.flags|=2048,Yl(9,Zv.bind(null,m,b,c,a),void 0,null),c},useId:function(){var s=xs(),a=Zt.identifierPrefix;if(bt){var c=zs,m=Us;c=(m&~(1<<32-Dn(m)-1)).toString(32)+c,a=":"+a+"R"+c,c=Kl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=rE++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},lE={readContext:Tr,useCallback:cx,useContext:Tr,useEffect:Xf,useImperativeHandle:ux,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:Qf,useRef:sx,useState:function(){return Qf(Ql)},useDebugValue:Jf,useDeferredValue:function(s){var a=Er();return hx(a,qt.memoizedState,s)},useTransition:function(){var s=Qf(Ql)[0],a=Er().memoizedState;return[s,a]},useMutableSource:Yv,useSyncExternalStore:Xv,useId:fx,unstable_isNewReconciler:!1},uE={readContext:Tr,useCallback:cx,useContext:Tr,useEffect:Xf,useImperativeHandle:ux,useInsertionEffect:ox,useLayoutEffect:ax,useMemo:dx,useReducer:Yf,useRef:sx,useState:function(){return Yf(Ql)},useDebugValue:Jf,useDeferredValue:function(s){var a=Er();return qt===null?a.memoizedState=s:hx(a,qt.memoizedState,s)},useTransition:function(){var s=Yf(Ql)[0],a=Er().memoizedState;return[s,a]},useMutableSource:Yv,useSyncExternalStore:Xv,useId:fx,unstable_isNewReconciler:!1};function Kr(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Zf(s,a,c,m){a=s.memoizedState,c=c(m,a),c=c==null?a:oe({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var nd={isMounted:function(s){return(s=s._reactInternals)?Br(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var m=Fn(),y=Pi(s),b=Hs(m,y);b.payload=a,c!=null&&(b.callback=c),a=ki(s,b,y),a!==null&&(Xr(a,s,y,m),Kc(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var m=Fn(),y=Pi(s),b=Hs(m,y);b.tag=1,b.payload=a,c!=null&&(b.callback=c),a=ki(s,b,y),a!==null&&(Xr(a,s,y,m),Kc(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Fn(),m=Pi(s),y=Hs(c,m);y.tag=2,a!=null&&(y.callback=a),a=ki(s,y,m),a!==null&&(Xr(a,s,m,c),Kc(a,s,m))}};function yx(s,a,c,m,y,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,C):a.prototype&&a.prototype.isPureReactComponent?!Vl(c,m)||!Vl(y,b):!0}function vx(s,a,c){var m=!1,y=Ei,b=a.contextType;return typeof b=="object"&&b!==null?b=Tr(b):(y=qn(a)?ho:_n.current,m=a.contextTypes,b=(m=m!=null)?wa(s,y):Ei),a=new a(c,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nd,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=b),a}function xx(s,a,c,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==s&&nd.enqueueReplaceState(a,a.state,null)}function ep(s,a,c,m){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},Of(s);var b=a.contextType;typeof b=="object"&&b!==null?y.context=Tr(b):(b=qn(a)?ho:_n.current,y.context=wa(s,b)),y.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Zf(s,a,b,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&nd.enqueueReplaceState(y,y.state,null),Qc(s,c,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Aa(s,a){try{var c="",m=a;do c+=je(m),m=m.return;while(m);var y=c}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:y,digest:null}}function tp(s,a,c){return{value:s,source:null,stack:c!=null?c:null,digest:a!=null?a:null}}function np(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var cE=typeof WeakMap=="function"?WeakMap:Map;function bx(s,a,c){c=Hs(-1,c),c.tag=3,c.payload={element:null};var m=a.value;return c.callback=function(){ud||(ud=!0,yp=m),np(s,a)},c}function wx(s,a,c){c=Hs(-1,c),c.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;c.payload=function(){return m(y)},c.callback=function(){np(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){np(s,a),typeof m!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function _x(s,a,c){var m=s.pingCache;if(m===null){m=s.pingCache=new cE;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(c)||(y.add(c),s=TE.bind(null,s,a,c),a.then(s,s))}function Sx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Tx(s,a,c,m,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Hs(-1,1),a.tag=2,ki(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var dE=U.ReactCurrentOwner,Kn=!1;function Vn(s,a,c,m){a.child=s===null?Gv(a,null,c,m):Ea(a,s.child,c,m)}function Ex(s,a,c,m,y){c=c.render;var b=a.ref;return Ca(a,y),m=qf(s,a,c,m,b,y),c=Kf(),s!==null&&!Kn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Ws(s,a,y)):(bt&&c&&If(a),a.flags|=1,Vn(s,a,m,y),a.child)}function jx(s,a,c,m,y){if(s===null){var b=c.type;return typeof b=="function"&&!Tp(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=b,Cx(s,a,b,m,y)):(s=md(c.type,null,m,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&y)===0){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:Vl,c(C,m)&&s.ref===a.ref)return Ws(s,a,y)}return a.flags|=1,s=Di(b,m),s.ref=a.ref,s.return=a,a.child=s}function Cx(s,a,c,m,y){if(s!==null){var b=s.memoizedProps;if(Vl(b,m)&&s.ref===a.ref)if(Kn=!1,a.pendingProps=m=b,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Kn=!0);else return a.lanes=s.lanes,Ws(s,a,y)}return rp(s,a,c,m,y)}function kx(s,a,c){var m=a.pendingProps,y=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Ra,hr),hr|=c;else{if((c&1073741824)===0)return s=b!==null?b.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ct(Ra,hr),hr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:c,ct(Ra,hr),hr|=m}else b!==null?(m=b.baseLanes|c,a.memoizedState=null):m=c,ct(Ra,hr),hr|=m;return Vn(s,a,y,c),a.child}function Ax(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function rp(s,a,c,m,y){var b=qn(c)?ho:_n.current;return b=wa(a,b),Ca(a,y),c=qf(s,a,c,m,b,y),m=Kf(),s!==null&&!Kn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Ws(s,a,y)):(bt&&m&&If(a),a.flags|=1,Vn(s,a,c,y),a.child)}function Ix(s,a,c,m,y){if(qn(c)){var b=!0;Oc(a)}else b=!1;if(Ca(a,y),a.stateNode===null)sd(s,a),vx(a,c,m),ep(a,c,m,y),m=!0;else if(s===null){var C=a.stateNode,O=a.memoizedProps;C.props=O;var z=C.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Tr(Z):(Z=qn(c)?ho:_n.current,Z=wa(a,Z));var ce=c.getDerivedStateFromProps,he=typeof ce=="function"||typeof C.getSnapshotBeforeUpdate=="function";he||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==m||z!==Z)&&xx(a,C,m,Z),Ci=!1;var ue=a.memoizedState;C.state=ue,Qc(a,m,C,y),z=a.memoizedState,O!==m||ue!==z||Wn.current||Ci?(typeof ce=="function"&&(Zf(a,c,ce,m),z=a.memoizedState),(O=Ci||yx(a,c,O,m,ue,z,Z))?(he||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=z),C.props=m,C.state=z,C.context=Z,m=O):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{C=a.stateNode,Wv(s,a),O=a.memoizedProps,Z=a.type===a.elementType?O:Kr(a.type,O),C.props=Z,he=a.pendingProps,ue=C.context,z=c.contextType,typeof z=="object"&&z!==null?z=Tr(z):(z=qn(c)?ho:_n.current,z=wa(a,z));var xe=c.getDerivedStateFromProps;(ce=typeof xe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==he||ue!==z)&&xx(a,C,m,z),Ci=!1,ue=a.memoizedState,C.state=ue,Qc(a,m,C,y);var we=a.memoizedState;O!==he||ue!==we||Wn.current||Ci?(typeof xe=="function"&&(Zf(a,c,xe,m),we=a.memoizedState),(Z=Ci||yx(a,c,Z,m,ue,we,z)||!1)?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,we,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,we,z)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=we),C.props=m,C.state=we,C.context=z,m=Z):(typeof C.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),m=!1)}return sp(s,a,c,m,b,y)}function sp(s,a,c,m,y,b){Ax(s,a);var C=(a.flags&128)!==0;if(!m&&!C)return y&&Mv(a,c,!1),Ws(s,a,b);m=a.stateNode,dE.current=a;var O=C&&typeof c.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&C?(a.child=Ea(a,s.child,null,b),a.child=Ea(a,null,O,b)):Vn(s,a,O,b),a.memoizedState=m.state,y&&Mv(a,c,!0),a.child}function Rx(s){var a=s.stateNode;a.pendingContext?Nv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Nv(s,a.context,!1),$f(s,a.containerInfo)}function Px(s,a,c,m,y){return Ta(),Df(y),a.flags|=256,Vn(s,a,c,m),a.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(s){return{baseLanes:s,cachePool:null,transitions:null}}function Nx(s,a,c){var m=a.pendingProps,y=Tt.current,b=!1,C=(a.flags&128)!==0,O;if((O=C)||(O=s!==null&&s.memoizedState===null?!1:(y&2)!==0),O?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ct(Tt,y&1),s===null)return Nf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=m.children,s=m.fallback,b?(m=a.mode,b=a.child,C={mode:"hidden",children:C},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=C):b=gd(C,m,0,null),s=_o(s,m,c,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=op(c),a.memoizedState=ip,s):ap(a,C));if(y=s.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return hE(s,a,C,m,O,y,c);if(b){b=m.fallback,C=a.mode,y=s.child,O=y.sibling;var z={mode:"hidden",children:m.children};return(C&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=z,a.deletions=null):(m=Di(y,z),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?b=Di(O,b):(b=_o(b,C,c,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,C=s.child.memoizedState,C=C===null?op(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},b.memoizedState=C,b.childLanes=s.childLanes&~c,a.memoizedState=ip,m}return b=s.child,s=b.sibling,m=Di(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=c),m.return=a,m.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=m,a.memoizedState=null,m}function ap(s,a){return a=gd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function rd(s,a,c,m){return m!==null&&Df(m),Ea(a,s.child,null,c),s=ap(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function hE(s,a,c,m,y,b,C){if(c)return a.flags&256?(a.flags&=-257,m=tp(Error(n(422))),rd(s,a,C,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,y=a.mode,m=gd({mode:"visible",children:m.children},y,0,null),b=_o(b,y,C,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Ea(a,s.child,null,C),a.child.memoizedState=op(C),a.memoizedState=ip,b);if((a.mode&1)===0)return rd(s,a,C,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,b=Error(n(419)),m=tp(b,m,void 0),rd(s,a,C,m)}if(O=(C&s.childLanes)!==0,Kn||O){if(m=Zt,m!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|C))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Gs(s,y),Xr(m,s,y,-1))}return Sp(),m=tp(Error(n(421))),rd(s,a,C,m)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=EE.bind(null,s),y._reactRetry=a,null):(s=b.treeContext,dr=Si(y.nextSibling),cr=a,bt=!0,qr=null,s!==null&&(_r[Sr++]=Us,_r[Sr++]=zs,_r[Sr++]=fo,Us=s.id,zs=s.overflow,fo=a),a=ap(a,m.children),a.flags|=4096,a)}function Dx(s,a,c){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Lf(s.return,a,c)}function lp(s,a,c,m,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=c,b.tailMode=y)}function Mx(s,a,c){var m=a.pendingProps,y=m.revealOrder,b=m.tail;if(Vn(s,a,m.children,c),m=Tt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dx(s,c,a);else if(s.tag===19)Dx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ct(Tt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&Yc(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),lp(a,!1,y,c,b);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&Yc(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}lp(a,!0,c,null,b);break;case"together":lp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ws(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),vo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Di(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Di(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function fE(s,a,c){switch(a.tag){case 3:Rx(a),Ta();break;case 5:Qv(a);break;case 1:qn(a.type)&&Oc(a);break;case 4:$f(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;ct(Wc,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ct(Tt,Tt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Nx(s,a,c):(ct(Tt,Tt.current&1),s=Ws(s,a,c),s!==null?s.sibling:null);ct(Tt,Tt.current&1);break;case 19:if(m=(c&a.childLanes)!==0,(s.flags&128)!==0){if(m)return Mx(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ct(Tt,Tt.current),m)break;return null;case 22:case 23:return a.lanes=0,kx(s,a,c)}return Ws(s,a,c)}var Vx,up,Fx,Lx;Vx=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},up=function(){},Fx=function(s,a,c,m){var y=s.memoizedProps;if(y!==m){s=a.stateNode,go(vs.current);var b=null;switch(c){case"input":y=kt(s,y),m=kt(s,m),b=[];break;case"select":y=oe({},y,{value:void 0}),m=oe({},m,{value:void 0}),b=[];break;case"textarea":y=tr(s,y),m=tr(s,m),b=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Fc)}us(c,m);var C;c=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var O=y[Z];for(C in O)O.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?b||(b=[]):(b=b||[]).push(Z,null));for(Z in m){var z=m[Z];if(O=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&z!==O&&(z!=null||O!=null))if(Z==="style")if(O){for(C in O)!O.hasOwnProperty(C)||z&&z.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in z)z.hasOwnProperty(C)&&O[C]!==z[C]&&(c||(c={}),c[C]=z[C])}else c||(b||(b=[]),b.push(Z,c)),c=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,O=O?O.__html:void 0,z!=null&&O!==z&&(b=b||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&gt("scroll",s),b||O===z||(b=[])):(b=b||[]).push(Z,z))}c&&(b=b||[]).push("style",c);var Z=b;(a.updateQueue=Z)&&(a.flags|=4)}},Lx=function(s,a,c,m){c!==m&&(a.flags|=4)};function Xl(s,a){if(!bt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Tn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=c,a}function pE(s,a,c){var m=a.pendingProps;switch(Rf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(a),null;case 1:return qn(a.type)&&Bc(),Tn(a),null;case 3:return m=a.stateNode,ka(),yt(Wn),yt(_n),Gf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Gc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qr!==null&&(bp(qr),qr=null))),up(s,a),Tn(a),null;case 5:Uf(a);var y=go(Wl.current);if(c=a.type,s!==null&&a.stateNode!=null)Fx(s,a,c,m,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Tn(a),null}if(s=go(vs.current),Gc(a)){m=a.stateNode,c=a.type;var b=a.memoizedProps;switch(m[ys]=a,m[$l]=b,s=(a.mode&1)!==0,c){case"dialog":gt("cancel",m),gt("close",m);break;case"iframe":case"object":case"embed":gt("load",m);break;case"video":case"audio":for(y=0;y<Ll.length;y++)gt(Ll[y],m);break;case"source":gt("error",m);break;case"img":case"image":case"link":gt("error",m),gt("load",m);break;case"details":gt("toggle",m);break;case"input":On(m,b),gt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},gt("invalid",m);break;case"textarea":At(m,b),gt("invalid",m)}us(c,b),y=null;for(var C in b)if(b.hasOwnProperty(C)){var O=b[C];C==="children"?typeof O=="string"?m.textContent!==O&&(b.suppressHydrationWarning!==!0&&Vc(m.textContent,O,s),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(b.suppressHydrationWarning!==!0&&Vc(m.textContent,O,s),y=["children",""+O]):i.hasOwnProperty(C)&&O!=null&&C==="onScroll"&&gt("scroll",m)}switch(c){case"input":Dt(m),yr(m,b,!0);break;case"textarea":Dt(m),rr(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Fc)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ue(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=C.createElement(c,{is:m.is}):(s=C.createElement(c),c==="select"&&(C=s,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):s=C.createElementNS(s,c),s[ys]=a,s[$l]=m,Vx(s,a,!1,!1),a.stateNode=s;e:{switch(C=hi(c,m),c){case"dialog":gt("cancel",s),gt("close",s),y=m;break;case"iframe":case"object":case"embed":gt("load",s),y=m;break;case"video":case"audio":for(y=0;y<Ll.length;y++)gt(Ll[y],s);y=m;break;case"source":gt("error",s),y=m;break;case"img":case"image":case"link":gt("error",s),gt("load",s),y=m;break;case"details":gt("toggle",s),y=m;break;case"input":On(s,m),y=kt(s,m),gt("invalid",s);break;case"option":y=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},y=oe({},m,{value:void 0}),gt("invalid",s);break;case"textarea":At(s,m),y=tr(s,m),gt("invalid",s);break;default:y=m}us(c,y),O=y;for(b in O)if(O.hasOwnProperty(b)){var z=O[b];b==="style"?Vr(s,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&as(s,z)):b==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&sr(s,z):typeof z=="number"&&sr(s,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?z!=null&&b==="onScroll"&&gt("scroll",s):z!=null&&F(s,b,z,C))}switch(c){case"input":Dt(s),yr(s,m,!1);break;case"textarea":Dt(s),rr(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ae(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?an(s,!!m.multiple,b,!1):m.defaultValue!=null&&an(s,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Fc)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Tn(a),null;case 6:if(s&&a.stateNode!=null)Lx(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(c=go(Wl.current),go(vs.current),Gc(a)){if(m=a.stateNode,c=a.memoizedProps,m[ys]=a,(b=m.nodeValue!==c)&&(s=cr,s!==null))switch(s.tag){case 3:Vc(m.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Vc(m.nodeValue,c,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[ys]=a,a.stateNode=m}return Tn(a),null;case 13:if(yt(Tt),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&dr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)$v(),Ta(),a.flags|=98560,b=!1;else if(b=Gc(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[ys]=a}else Ta(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tn(a),b=!1}else qr!==null&&(bp(qr),qr=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?Kt===0&&(Kt=3):Sp())),a.updateQueue!==null&&(a.flags|=4),Tn(a),null);case 4:return ka(),up(s,a),s===null&&Bl(a.stateNode.containerInfo),Tn(a),null;case 10:return Ff(a.type._context),Tn(a),null;case 17:return qn(a.type)&&Bc(),Tn(a),null;case 19:if(yt(Tt),b=a.memoizedState,b===null)return Tn(a),null;if(m=(a.flags&128)!==0,C=b.rendering,C===null)if(m)Xl(b,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=Yc(s),C!==null){for(a.flags|=128,Xl(b,!1),m=C.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=c,c=a.child;c!==null;)b=c,s=m,b.flags&=14680066,C=b.alternate,C===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=C.childLanes,b.lanes=C.lanes,b.child=C.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=C.memoizedProps,b.memoizedState=C.memoizedState,b.updateQueue=C.updateQueue,b.type=C.type,s=C.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ct(Tt,Tt.current&1|2),a.child}s=s.sibling}b.tail!==null&&ut()>Pa&&(a.flags|=128,m=!0,Xl(b,!1),a.lanes=4194304)}else{if(!m)if(s=Yc(C),s!==null){if(a.flags|=128,m=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Xl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!bt)return Tn(a),null}else 2*ut()-b.renderingStartTime>Pa&&c!==1073741824&&(a.flags|=128,m=!0,Xl(b,!1),a.lanes=4194304);b.isBackwards?(C.sibling=a.child,a.child=C):(c=b.last,c!==null?c.sibling=C:a.child=C,b.last=C)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ut(),a.sibling=null,c=Tt.current,ct(Tt,m?c&1|2:c&1),a):(Tn(a),null);case 22:case 23:return _p(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(hr&1073741824)!==0&&(Tn(a),a.subtreeFlags&6&&(a.flags|=8192)):Tn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function mE(s,a){switch(Rf(a),a.tag){case 1:return qn(a.type)&&Bc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ka(),yt(Wn),yt(_n),Gf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Uf(a),null;case 13:if(yt(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ta()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return yt(Tt),null;case 4:return ka(),null;case 10:return Ff(a.type._context),null;case 22:case 23:return _p(),null;case 24:return null;default:return null}}var id=!1,En=!1,gE=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ia(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){It(s,a,m)}else c.current=null}function cp(s,a,c){try{c()}catch(m){It(s,a,m)}}var Bx=!1;function yE(s,a){if(_f=bi,s=yv(),pf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch(pe){c=null;break e}var C=0,O=-1,z=-1,Z=0,ce=0,he=s,ue=null;t:for(;;){for(var xe;he!==c||y!==0&&he.nodeType!==3||(O=C+y),he!==b||m!==0&&he.nodeType!==3||(z=C+m),he.nodeType===3&&(C+=he.nodeValue.length),(xe=he.firstChild)!==null;)ue=he,he=xe;for(;;){if(he===s)break t;if(ue===c&&++Z===y&&(O=C),ue===b&&++ce===m&&(z=C),(xe=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=xe}c=O===-1||z===-1?null:{start:O,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Sf={focusedElem:s,selectionRange:c},bi=!1,be=a;be!==null;)if(a=be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,be=s;else for(;be!==null;){a=be;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Vt=we.memoizedState,X=a.stateNode,W=X.getSnapshotBeforeUpdate(a.elementType===a.type?Se:Kr(a.type,Se),Vt);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){It(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,be=s;break}be=a.return}return we=Bx,Bx=!1,we}function Jl(s,a,c){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&s)===s){var b=y.destroy;y.destroy=void 0,b!==void 0&&cp(a,c,b)}y=y.next}while(y!==m)}}function od(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var m=c.create;c.destroy=m()}c=c.next}while(c!==a)}}function dp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function Ox(s){var a=s.alternate;a!==null&&(s.alternate=null,Ox(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ys],delete a[$l],delete a[Cf],delete a[ZT],delete a[eE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $x(s){return s.tag===5||s.tag===3||s.tag===4}function Ux(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$x(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hp(s,a,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Fc));else if(m!==4&&(s=s.child,s!==null))for(hp(s,a,c),s=s.sibling;s!==null;)hp(s,a,c),s=s.sibling}function fp(s,a,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(fp(s,a,c),s=s.sibling;s!==null;)fp(s,a,c),s=s.sibling}var cn=null,Qr=!1;function Ai(s,a,c){for(c=c.child;c!==null;)zx(s,a,c),c=c.sibling}function zx(s,a,c){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(ro,c)}catch(O){}switch(c.tag){case 5:En||Ia(c,a);case 6:var m=cn,y=Qr;cn=null,Ai(s,a,c),cn=m,Qr=y,cn!==null&&(Qr?(s=cn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):cn.removeChild(c.stateNode));break;case 18:cn!==null&&(Qr?(s=cn,c=c.stateNode,s.nodeType===8?jf(s.parentNode,c):s.nodeType===1&&jf(s,c),Gr(s)):jf(cn,c.stateNode));break;case 4:m=cn,y=Qr,cn=c.stateNode.containerInfo,Qr=!0,Ai(s,a,c),cn=m,Qr=y;break;case 0:case 11:case 14:case 15:if(!En&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var b=y,C=b.destroy;b=b.tag,C!==void 0&&((b&2)!==0||(b&4)!==0)&&cp(c,a,C),y=y.next}while(y!==m)}Ai(s,a,c);break;case 1:if(!En&&(Ia(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(O){It(c,a,O)}Ai(s,a,c);break;case 21:Ai(s,a,c);break;case 22:c.mode&1?(En=(m=En)||c.memoizedState!==null,Ai(s,a,c),En=m):Ai(s,a,c);break;default:Ai(s,a,c)}}function Gx(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new gE),a.forEach(function(m){var y=jE.bind(null,s,m);c.has(m)||(c.add(m),m.then(y,y))})}}function Yr(s,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];try{var b=s,C=a,O=C;e:for(;O!==null;){switch(O.tag){case 5:cn=O.stateNode,Qr=!1;break e;case 3:cn=O.stateNode.containerInfo,Qr=!0;break e;case 4:cn=O.stateNode.containerInfo,Qr=!0;break e}O=O.return}if(cn===null)throw Error(n(160));zx(b,C,y),cn=null,Qr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){It(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Hx(a,s),a=a.sibling}function Hx(s,a){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yr(a,s),bs(s),m&4){try{Jl(3,s,s.return),od(3,s)}catch(Se){It(s,s.return,Se)}try{Jl(5,s,s.return)}catch(Se){It(s,s.return,Se)}}break;case 1:Yr(a,s),bs(s),m&512&&c!==null&&Ia(c,c.return);break;case 5:if(Yr(a,s),bs(s),m&512&&c!==null&&Ia(c,c.return),s.flags&32){var y=s.stateNode;try{sr(y,"")}catch(Se){It(s,s.return,Se)}}if(m&4&&(y=s.stateNode,y!=null)){var b=s.memoizedProps,C=c!==null?c.memoizedProps:b,O=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{O==="input"&&b.type==="radio"&&b.name!=null&&$n(y,b),hi(O,C);var Z=hi(O,b);for(C=0;C<z.length;C+=2){var ce=z[C],he=z[C+1];ce==="style"?Vr(y,he):ce==="dangerouslySetInnerHTML"?as(y,he):ce==="children"?sr(y,he):F(y,ce,he,Z)}switch(O){case"input":it(y,b);break;case"textarea":nr(y,b);break;case"select":var ue=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var xe=b.value;xe!=null?an(y,!!b.multiple,xe,!1):ue!==!!b.multiple&&(b.defaultValue!=null?an(y,!!b.multiple,b.defaultValue,!0):an(y,!!b.multiple,b.multiple?[]:"",!1))}y[$l]=b}catch(Se){It(s,s.return,Se)}}break;case 6:if(Yr(a,s),bs(s),m&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,b=s.memoizedProps;try{y.nodeValue=b}catch(Se){It(s,s.return,Se)}}break;case 3:if(Yr(a,s),bs(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Gr(a.containerInfo)}catch(Se){It(s,s.return,Se)}break;case 4:Yr(a,s),bs(s);break;case 13:Yr(a,s),bs(s),y=s.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(gp=ut())),m&4&&Gx(s);break;case 22:if(ce=c!==null&&c.memoizedState!==null,s.mode&1?(En=(Z=En)||ce,Yr(a,s),En=Z):Yr(a,s),bs(s),m&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ce&&(s.mode&1)!==0)for(be=s,ce=s.child;ce!==null;){for(he=be=ce;be!==null;){switch(ue=be,xe=ue.child,ue.tag){case 0:case 11:case 14:case 15:Jl(4,ue,ue.return);break;case 1:Ia(ue,ue.return);var we=ue.stateNode;if(typeof we.componentWillUnmount=="function"){m=ue,c=ue.return;try{a=m,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Se){It(m,c,Se)}}break;case 5:Ia(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Kx(he);continue}}xe!==null?(xe.return=ue,be=xe):Kx(he)}ce=ce.sibling}e:for(ce=null,he=s;;){if(he.tag===5){if(ce===null){ce=he;try{y=he.stateNode,Z?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(O=he.stateNode,z=he.memoizedProps.style,C=z!=null&&z.hasOwnProperty("display")?z.display:null,O.style.display=ls("display",C))}catch(Se){It(s,s.return,Se)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(Se){It(s,s.return,Se)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Yr(a,s),bs(s),m&4&&Gx(s);break;case 21:break;default:Yr(a,s),bs(s)}}function bs(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if($x(c)){var m=c;break e}c=c.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(sr(y,""),m.flags&=-33);var b=Ux(s);fp(s,b,y);break;case 3:case 4:var C=m.stateNode.containerInfo,O=Ux(s);hp(s,O,C);break;default:throw Error(n(161))}}catch(z){It(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function vE(s,a,c){be=s,Wx(s)}function Wx(s,a,c){for(var m=(s.mode&1)!==0;be!==null;){var y=be,b=y.child;if(y.tag===22&&m){var C=y.memoizedState!==null||id;if(!C){var O=y.alternate,z=O!==null&&O.memoizedState!==null||En;O=id;var Z=En;if(id=C,(En=z)&&!Z)for(be=y;be!==null;)C=be,z=C.child,C.tag===22&&C.memoizedState!==null?Qx(y):z!==null?(z.return=C,be=z):Qx(y);for(;b!==null;)be=b,Wx(b),b=b.sibling;be=y,id=O,En=Z}qx(s)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,be=b):qx(s)}}function qx(s){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:En||od(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!En)if(c===null)m.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Kr(a.type,c.memoizedProps);m.componentDidUpdate(y,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Kv(a,b,m);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Kv(a,C,c)}break;case 5:var O=a.stateNode;if(c===null&&a.flags&4){c=O;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Gr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||a.flags&512&&dp(a)}catch(ue){It(a,a.return,ue)}}if(a===s){be=null;break}if(c=a.sibling,c!==null){c.return=a.return,be=c;break}be=a.return}}function Kx(s){for(;be!==null;){var a=be;if(a===s){be=null;break}var c=a.sibling;if(c!==null){c.return=a.return,be=c;break}be=a.return}}function Qx(s){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{od(4,a)}catch(z){It(a,c,z)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(z){It(a,y,z)}}var b=a.return;try{dp(a)}catch(z){It(a,b,z)}break;case 5:var C=a.return;try{dp(a)}catch(z){It(a,C,z)}}}catch(z){It(a,a.return,z)}if(a===s){be=null;break}var O=a.sibling;if(O!==null){O.return=a.return,be=O;break}be=a.return}}var xE=Math.ceil,ad=U.ReactCurrentDispatcher,pp=U.ReactCurrentOwner,jr=U.ReactCurrentBatchConfig,Ye=0,Zt=null,Ot=null,dn=0,hr=0,Ra=Ti(0),Kt=0,Zl=null,vo=0,ld=0,mp=0,eu=null,Qn=null,gp=0,Pa=1/0,qs=null,ud=!1,yp=null,Ii=null,cd=!1,Ri=null,dd=0,tu=0,vp=null,hd=-1,fd=0;function Fn(){return(Ye&6)!==0?ut():hd!==-1?hd:hd=ut()}function Pi(s){return(s.mode&1)===0?1:(Ye&2)!==0&&dn!==0?dn&-dn:nE.transition!==null?(fd===0&&(fd=io()),fd):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Al(s.type)),s)}function Xr(s,a,c,m){if(50<tu)throw tu=0,vp=null,Error(n(185));gi(s,c,m),((Ye&2)===0||s!==Zt)&&(s===Zt&&((Ye&2)===0&&(ld|=c),Kt===4&&Ni(s,dn)),Yn(s,m),c===1&&Ye===0&&(a.mode&1)===0&&(Pa=ut()+500,$c&&ji()))}function Yn(s,a){var c=s.callbackNode;Ms(s,a);var m=so(s,s===Zt?dn:0);if(m===0)c!==null&&Tl(c),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(c!=null&&Tl(c),a===1)s.tag===0?tE(Xx.bind(null,s)):Vv(Xx.bind(null,s)),XT(function(){(Ye&6)===0&&ji()}),c=null;else{switch(vi(m)){case 1:c=no;break;case 4:c=fi;break;case 16:c=xr;break;case 536870912:c=fc;break;default:c=xr}c=i0(c,Yx.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Yx(s,a){if(hd=-1,fd=0,(Ye&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Na()&&s.callbackNode!==c)return null;var m=so(s,s===Zt?dn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=pd(s,m);else{a=m;var y=Ye;Ye|=2;var b=Zx();(Zt!==s||dn!==a)&&(qs=null,Pa=ut()+500,bo(s,a));do try{_E();break}catch(O){Jx(s,O)}while(!0);Vf(),ad.current=b,Ye=y,Ot!==null?a=0:(Zt=null,dn=0,a=Kt)}if(a!==0){if(a===2&&(y=ar(s),y!==0&&(m=y,a=xp(s,y))),a===1)throw c=Zl,bo(s,0),Ni(s,m),Yn(s,ut()),c;if(a===6)Ni(s,m);else{if(y=s.current.alternate,(m&30)===0&&!bE(y)&&(a=pd(s,m),a===2&&(b=ar(s),b!==0&&(m=b,a=xp(s,b))),a===1))throw c=Zl,bo(s,0),Ni(s,m),Yn(s,ut()),c;switch(s.finishedWork=y,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:wo(s,Qn,qs);break;case 3:if(Ni(s,m),(m&130023424)===m&&(a=gp+500-ut(),10<a)){if(so(s,0)!==0)break;if(y=s.suspendedLanes,(y&m)!==m){Fn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Ef(wo.bind(null,s,Qn,qs),a);break}wo(s,Qn,qs);break;case 4:if(Ni(s,m),(m&4194240)===m)break;for(a=s.eventTimes,y=-1;0<m;){var C=31-Dn(m);b=1<<C,C=a[C],C>y&&(y=C),m&=~b}if(m=y,m=ut()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*xE(m/1960))-m,10<m){s.timeoutHandle=Ef(wo.bind(null,s,Qn,qs),m);break}wo(s,Qn,qs);break;case 5:wo(s,Qn,qs);break;default:throw Error(n(329))}}}return Yn(s,ut()),s.callbackNode===c?Yx.bind(null,s):null}function xp(s,a){var c=eu;return s.current.memoizedState.isDehydrated&&(bo(s,a).flags|=256),s=pd(s,a),s!==2&&(a=Qn,Qn=c,a!==null&&bp(a)),s}function bp(s){Qn===null?Qn=s:Qn.push.apply(Qn,s)}function bE(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var y=c[m],b=y.getSnapshot;y=y.value;try{if(!Wr(b(),y))return!1}catch(C){return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ni(s,a){for(a&=~mp,a&=~ld,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Dn(a),m=1<<c;s[c]=-1,a&=~m}}function Xx(s){if((Ye&6)!==0)throw Error(n(327));Na();var a=so(s,0);if((a&1)===0)return Yn(s,ut()),null;var c=pd(s,a);if(s.tag!==0&&c===2){var m=ar(s);m!==0&&(a=m,c=xp(s,m))}if(c===1)throw c=Zl,bo(s,0),Ni(s,a),Yn(s,ut()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,wo(s,Qn,qs),Yn(s,ut()),null}function wp(s,a){var c=Ye;Ye|=1;try{return s(a)}finally{Ye=c,Ye===0&&(Pa=ut()+500,$c&&ji())}}function xo(s){Ri!==null&&Ri.tag===0&&(Ye&6)===0&&Na();var a=Ye;Ye|=1;var c=jr.transition,m=qe;try{if(jr.transition=null,qe=1,s)return s()}finally{qe=m,jr.transition=c,Ye=a,(Ye&6)===0&&ji()}}function _p(){hr=Ra.current,yt(Ra)}function bo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,YT(c)),Ot!==null)for(c=Ot.return;c!==null;){var m=c;switch(Rf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Bc();break;case 3:ka(),yt(Wn),yt(_n),Gf();break;case 5:Uf(m);break;case 4:ka();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:Ff(m.type._context);break;case 22:case 23:_p()}c=c.return}if(Zt=s,Ot=s=Di(s.current,null),dn=hr=a,Kt=0,Zl=null,mp=ld=vo=0,Qn=eu=null,mo!==null){for(a=0;a<mo.length;a++)if(c=mo[a],m=c.interleaved,m!==null){c.interleaved=null;var y=m.next,b=c.pending;if(b!==null){var C=b.next;b.next=y,m.next=C}c.pending=m}mo=null}return s}function Jx(s,a){do{var c=Ot;try{if(Vf(),Xc.current=td,Jc){for(var m=Et.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Jc=!1}if(yo=0,Jt=qt=Et=null,ql=!1,Kl=0,pp.current=null,c===null||c.return===null){Kt=1,Zl=a,Ot=null;break}e:{var b=s,C=c.return,O=c,z=a;if(a=dn,O.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ce=O,he=ce.tag;if((ce.mode&1)===0&&(he===0||he===11||he===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var xe=Sx(C);if(xe!==null){xe.flags&=-257,Tx(xe,C,O,b,a),xe.mode&1&&_x(b,Z,a),a=xe,z=Z;var we=a.updateQueue;if(we===null){var Se=new Set;Se.add(z),a.updateQueue=Se}else we.add(z);break e}else{if((a&1)===0){_x(b,Z,a),Sp();break e}z=Error(n(426))}}else if(bt&&O.mode&1){var Vt=Sx(C);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),Tx(Vt,C,O,b,a),Df(Aa(z,O));break e}}b=z=Aa(z,O),Kt!==4&&(Kt=2),eu===null?eu=[b]:eu.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var X=bx(b,z,a);qv(b,X);break e;case 1:O=z;var W=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ii===null||!Ii.has(J)))){b.flags|=65536,a&=-a,b.lanes|=a;var pe=wx(b,O,a);qv(b,pe);break e}}b=b.return}while(b!==null)}t0(c)}catch(Ee){a=Ee,Ot===c&&c!==null&&(Ot=c=c.return);continue}break}while(!0)}function Zx(){var s=ad.current;return ad.current=td,s===null?td:s}function Sp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Zt===null||(vo&268435455)===0&&(ld&268435455)===0||Ni(Zt,dn)}function pd(s,a){var c=Ye;Ye|=2;var m=Zx();(Zt!==s||dn!==a)&&(qs=null,bo(s,a));do try{wE();break}catch(y){Jx(s,y)}while(!0);if(Vf(),Ye=c,ad.current=m,Ot!==null)throw Error(n(261));return Zt=null,dn=0,Kt}function wE(){for(;Ot!==null;)e0(Ot)}function _E(){for(;Ot!==null&&!dc();)e0(Ot)}function e0(s){var a=s0(s.alternate,s,hr);s.memoizedProps=s.pendingProps,a===null?t0(s):Ot=a,pp.current=null}function t0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=pE(c,a,hr),c!==null){Ot=c;return}}else{if(c=mE(c,a),c!==null){c.flags&=32767,Ot=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,Ot=null;return}}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);Kt===0&&(Kt=5)}function wo(s,a,c){var m=qe,y=jr.transition;try{jr.transition=null,qe=1,SE(s,a,c,m)}finally{jr.transition=y,qe=m}return null}function SE(s,a,c,m){do Na();while(Ri!==null);if((Ye&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=c.lanes|c.childLanes;if(ot(s,b),s===Zt&&(Ot=Zt=null,dn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||cd||(cd=!0,i0(xr,function(){return Na(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=jr.transition,jr.transition=null;var C=qe;qe=1;var O=Ye;Ye|=4,pp.current=null,yE(s,c),Hx(c,s),zT(Sf),bi=!!_f,Sf=_f=null,s.current=c,vE(c),of(),Ye=O,qe=C,jr.transition=b}else s.current=c;if(cd&&(cd=!1,Ri=s,dd=y),b=s.pendingLanes,b===0&&(Ii=null),pc(c.stateNode),Yn(s,ut()),a!==null)for(m=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],m(y.value,{componentStack:y.stack,digest:y.digest});if(ud)throw ud=!1,s=yp,yp=null,s;return(dd&1)!==0&&s.tag!==0&&Na(),b=s.pendingLanes,(b&1)!==0?s===vp?tu++:(tu=0,vp=s):tu=0,ji(),null}function Na(){if(Ri!==null){var s=vi(dd),a=jr.transition,c=qe;try{if(jr.transition=null,qe=16>s?16:s,Ri===null)var m=!1;else{if(s=Ri,Ri=null,dd=0,(Ye&6)!==0)throw Error(n(331));var y=Ye;for(Ye|=4,be=s.current;be!==null;){var b=be,C=b.child;if((be.flags&16)!==0){var O=b.deletions;if(O!==null){for(var z=0;z<O.length;z++){var Z=O[z];for(be=Z;be!==null;){var ce=be;switch(ce.tag){case 0:case 11:case 15:Jl(8,ce,b)}var he=ce.child;if(he!==null)he.return=ce,be=he;else for(;be!==null;){ce=be;var ue=ce.sibling,xe=ce.return;if(Ox(ce),ce===Z){be=null;break}if(ue!==null){ue.return=xe,be=ue;break}be=xe}}}var we=b.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Vt=Se.sibling;Se.sibling=null,Se=Vt}while(Se!==null)}}be=b}}if((b.subtreeFlags&2064)!==0&&C!==null)C.return=b,be=C;else e:for(;be!==null;){if(b=be,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Jl(9,b,b.return)}var X=b.sibling;if(X!==null){X.return=b.return,be=X;break e}be=b.return}}var W=s.current;for(be=W;be!==null;){C=be;var J=C.child;if((C.subtreeFlags&2064)!==0&&J!==null)J.return=C,be=J;else e:for(C=W;be!==null;){if(O=be,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:od(9,O)}}catch(Ee){It(O,O.return,Ee)}if(O===C){be=null;break e}var pe=O.sibling;if(pe!==null){pe.return=O.return,be=pe;break e}be=O.return}}if(Ye=y,ji(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(ro,s)}catch(Ee){}m=!0}return m}finally{qe=c,jr.transition=a}}return!1}function n0(s,a,c){a=Aa(c,a),a=bx(s,a,1),s=ki(s,a,1),a=Fn(),s!==null&&(gi(s,1,a),Yn(s,a))}function It(s,a,c){if(s.tag===3)n0(s,s,c);else for(;a!==null;){if(a.tag===3){n0(a,s,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ii===null||!Ii.has(m))){s=Aa(c,s),s=wx(a,s,1),a=ki(a,s,1),s=Fn(),a!==null&&(gi(a,1,s),Yn(a,s));break}}a=a.return}}function TE(s,a,c){var m=s.pingCache;m!==null&&m.delete(a),a=Fn(),s.pingedLanes|=s.suspendedLanes&c,Zt===s&&(dn&c)===c&&(Kt===4||Kt===3&&(dn&130023424)===dn&&500>ut()-gp?bo(s,0):mp|=c),Yn(s,a)}function r0(s,a){a===0&&((s.mode&1)===0?a=1:(a=na,na<<=1,(na&130023424)===0&&(na=4194304)));var c=Fn();s=Gs(s,a),s!==null&&(gi(s,a,c),Yn(s,c))}function EE(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),r0(s,c)}function jE(s,a){var c=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),r0(s,c)}var s0;s0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Wn.current)Kn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Kn=!1,fE(s,a,c);Kn=(s.flags&131072)!==0}else Kn=!1,bt&&(a.flags&1048576)!==0&&Fv(a,zc,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;sd(s,a),s=a.pendingProps;var y=wa(a,_n.current);Ca(a,c),y=qf(null,a,m,s,y,c);var b=Kf();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,qn(m)?(b=!0,Oc(a)):b=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Of(a),y.updater=nd,a.stateNode=y,y._reactInternals=a,ep(a,m,s,c),a=sp(null,a,m,!0,b,c)):(a.tag=0,bt&&b&&If(a),Vn(null,a,y,c),a=a.child),a;case 16:m=a.elementType;e:{switch(sd(s,a),s=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=kE(m),s=Kr(m,s),y){case 0:a=rp(null,a,m,s,c);break e;case 1:a=Ix(null,a,m,s,c);break e;case 11:a=Ex(null,a,m,s,c);break e;case 14:a=jx(null,a,m,Kr(m.type,s),c);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Kr(m,y),rp(s,a,m,y,c);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Kr(m,y),Ix(s,a,m,y,c);case 3:e:{if(Rx(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,y=b.element,Wv(s,a),Qc(a,m,null,c);var C=a.memoizedState;if(m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){y=Aa(Error(n(423)),a),a=Px(s,a,m,c,y);break e}else if(m!==y){y=Aa(Error(n(424)),a),a=Px(s,a,m,c,y);break e}else for(dr=Si(a.stateNode.containerInfo.firstChild),cr=a,bt=!0,qr=null,c=Gv(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ta(),m===y){a=Ws(s,a,c);break e}Vn(s,a,m,c)}a=a.child}return a;case 5:return Qv(a),s===null&&Nf(a),m=a.type,y=a.pendingProps,b=s!==null?s.memoizedProps:null,C=y.children,Tf(m,y)?C=null:b!==null&&Tf(m,b)&&(a.flags|=32),Ax(s,a),Vn(s,a,C,c),a.child;case 6:return s===null&&Nf(a),null;case 13:return Nx(s,a,c);case 4:return $f(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Ea(a,null,m,c):Vn(s,a,m,c),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Kr(m,y),Ex(s,a,m,y,c);case 7:return Vn(s,a,a.pendingProps,c),a.child;case 8:return Vn(s,a,a.pendingProps.children,c),a.child;case 12:return Vn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,b=a.memoizedProps,C=y.value,ct(Wc,m._currentValue),m._currentValue=C,b!==null)if(Wr(b.value,C)){if(b.children===y.children&&!Wn.current){a=Ws(s,a,c);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var O=b.dependencies;if(O!==null){C=b.child;for(var z=O.firstContext;z!==null;){if(z.context===m){if(b.tag===1){z=Hs(-1,c&-c),z.tag=2;var Z=b.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),Z.pending=z}}b.lanes|=c,z=b.alternate,z!==null&&(z.lanes|=c),Lf(b.return,c,a),O.lanes|=c;break}z=z.next}}else if(b.tag===10)C=b.type===a.type?null:b.child;else if(b.tag===18){if(C=b.return,C===null)throw Error(n(341));C.lanes|=c,O=C.alternate,O!==null&&(O.lanes|=c),Lf(C,c,a),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===a){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}Vn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ca(a,c),y=Tr(y),m=m(y),a.flags|=1,Vn(s,a,m,c),a.child;case 14:return m=a.type,y=Kr(m,a.pendingProps),y=Kr(m.type,y),jx(s,a,m,y,c);case 15:return Cx(s,a,a.type,a.pendingProps,c);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:Kr(m,y),sd(s,a),a.tag=1,qn(m)?(s=!0,Oc(a)):s=!1,Ca(a,c),vx(a,m,y),ep(a,m,y,c),sp(null,a,m,!0,s,c);case 19:return Mx(s,a,c);case 22:return kx(s,a,c)}throw Error(n(156,a.tag))};function i0(s,a){return ea(s,a)}function CE(s,a,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(s,a,c,m){return new CE(s,a,c,m)}function Tp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kE(s){if(typeof s=="function")return Tp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===K)return 14}return 2}function Di(s,a){var c=s.alternate;return c===null?(c=Cr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function md(s,a,c,m,y,b){var C=2;if(m=s,typeof s=="function")Tp(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case E:return _o(c.children,y,b,a);case T:C=8,y|=8;break;case A:return s=Cr(12,c,a,y|2),s.elementType=A,s.lanes=b,s;case N:return s=Cr(13,c,a,y),s.elementType=N,s.lanes=b,s;case fe:return s=Cr(19,c,a,y),s.elementType=fe,s.lanes=b,s;case ne:return gd(c,y,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:C=10;break e;case M:C=9;break e;case L:C=11;break e;case K:C=14;break e;case re:C=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Cr(C,c,a,y),a.elementType=s,a.type=m,a.lanes=b,a}function _o(s,a,c,m){return s=Cr(7,s,m,a),s.lanes=c,s}function gd(s,a,c,m){return s=Cr(22,s,m,a),s.elementType=ne,s.lanes=c,s.stateNode={isHidden:!1},s}function Ep(s,a,c){return s=Cr(6,s,null,a),s.lanes=c,s}function jp(s,a,c){return a=Cr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function AE(s,a,c,m,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Cp(s,a,c,m,y,b,C,O,z){return s=new AE(s,a,c,O,z),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Cr(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(b),s}function IE(s,a,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:s,containerInfo:a,implementation:c}}function o0(s){if(!s)return Ei;s=s._reactInternals;e:{if(Br(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(qn(c))return Dv(s,c,a)}return a}function a0(s,a,c,m,y,b,C,O,z){return s=Cp(c,m,!0,s,y,b,C,O,z),s.context=o0(null),c=s.current,m=Fn(),y=Pi(c),b=Hs(m,y),b.callback=a!=null?a:null,ki(c,b,y),s.current.lanes=y,gi(s,y,m),Yn(s,m),s}function yd(s,a,c,m){var y=a.current,b=Fn(),C=Pi(y);return c=o0(c),a.context===null?a.context=c:a.pendingContext=c,a=Hs(b,C),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=ki(y,a,C),s!==null&&(Xr(s,y,C,b),Kc(s,y,C)),C}function vd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function l0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function kp(s,a){l0(s,a),(s=s.alternate)&&l0(s,a)}function RE(){return null}var u0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ap(s){this._internalRoot=s}xd.prototype.render=Ap.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));yd(s,a,null,null)},xd.prototype.unmount=Ap.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;xo(function(){yd(null,s,null,null)}),a[Os]=null}};function xd(s){this._internalRoot=s}xd.prototype.unstable_scheduleHydration=function(s){if(s){var a=xc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<fs.length&&a!==0&&a<fs[c].priority;c++);fs.splice(c,0,s),c===0&&_c(s)}};function Ip(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function bd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function c0(){}function PE(s,a,c,m,y){if(y){if(typeof m=="function"){var b=m;m=function(){var Z=vd(C);b.call(Z)}}var C=a0(a,m,s,0,null,!1,!1,"",c0);return s._reactRootContainer=C,s[Os]=C.current,Bl(s.nodeType===8?s.parentNode:s),xo(),C}for(;y=s.lastChild;)s.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var Z=vd(z);O.call(Z)}}var z=Cp(s,0,!1,null,null,!1,!1,"",c0);return s._reactRootContainer=z,s[Os]=z.current,Bl(s.nodeType===8?s.parentNode:s),xo(function(){yd(a,z,c,m)}),z}function wd(s,a,c,m,y){var b=c._reactRootContainer;if(b){var C=b;if(typeof y=="function"){var O=y;y=function(){var z=vd(C);O.call(z)}}yd(a,C,s,y)}else C=PE(c,a,s,y,m);return vd(C)}yc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=pi(a.pendingLanes);c!==0&&(yi(a,c|1),Yn(a,ut()),(Ye&6)===0&&(Pa=ut()+500,ji()))}break;case 13:xo(function(){var m=Gs(s,1);if(m!==null){var y=Fn();Xr(m,s,1,y)}}),kp(s,1)}},ra=function(s){if(s.tag===13){var a=Gs(s,134217728);if(a!==null){var c=Fn();Xr(a,s,134217728,c)}kp(s,134217728)}},vc=function(s){if(s.tag===13){var a=Pi(s),c=Gs(s,a);if(c!==null){var m=Fn();Xr(c,s,a,m)}kp(s,a)}},xc=function(){return qe},bc=function(s,a){var c=qe;try{return qe=s,a()}finally{qe=c}},Ps=function(s,a,c){switch(a){case"input":if(it(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==s&&m.form===s.form){var y=Lc(m);if(!y)throw Error(n(90));Yt(m),it(m,y)}}}break;case"textarea":nr(s,c);break;case"select":a=c.value,a!=null&&an(s,!!c.multiple,a,!1)}},Ji=wp,bl=xo;var NE={usingClientEntryPoint:!1,Events:[Ul,xa,Lc,ds,xl,wp]},nu={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DE={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Sl(s),s===null?null:s.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||RE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{ro=_d.inject(DE),or=_d}catch(s){}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE,Xn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(a))throw Error(n(200));return IE(s,a,null,c)},Xn.createRoot=function(s,a){if(!Ip(s))throw Error(n(299));var c=!1,m="",y=u0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Cp(s,1,!1,null,null,c,!1,m,y),s[Os]=a.current,Bl(s.nodeType===8?s.parentNode:s),new Ap(a)},Xn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Sl(a),s=s===null?null:s.stateNode,s},Xn.flushSync=function(s){return xo(s)},Xn.hydrate=function(s,a,c){if(!bd(a))throw Error(n(200));return wd(null,s,a,!0,c)},Xn.hydrateRoot=function(s,a,c){if(!Ip(s))throw Error(n(405));var m=c!=null&&c.hydratedSources||null,y=!1,b="",C=u0;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=a0(a,null,s,1,c!=null?c:null,y,!1,b,C),s[Os]=a.current,Bl(s),m)for(s=0;s<m.length;s++)c=m[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new xd(a)},Xn.render=function(s,a,c){if(!bd(a))throw Error(n(200));return wd(null,s,a,!1,c)},Xn.unmountComponentAtNode=function(s){if(!bd(s))throw Error(n(40));return s._reactRootContainer?(xo(function(){wd(null,null,s,!1,function(){s._reactRootContainer=null,s[Os]=null})}),!0):!1},Xn.unstable_batchedUpdates=wp,Xn.unstable_renderSubtreeIntoContainer=function(s,a,c,m){if(!bd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return wd(s,a,c,!1,m)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var v0;function jw(){if(v0)return Np.exports;v0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=$E(),Np.exports}var x0;function UE(){if(x0)return Sd;x0=1;var t=jw();return Sd.createRoot=t.createRoot,Sd.hydrateRoot=t.hydrateRoot,Sd}var zE=UE();const GE=_g(zE);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b0="popstate";function HE(t={}){function e(i,l){let{pathname:u="/",search:d="",hash:f=""}=Go(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Am("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let u=i.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:Cu(l))}function r(i,l){Nr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return qE(e,n,r,t)}function St(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Nr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function WE(){return Math.random().toString(36).substring(2,10)}function w0(t,e){return{usr:t.state,key:t.key,idx:e}}function Am(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:n,key:e&&e.key||r||WE()}}function Cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qE(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,u=i.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let k=g(),V=k==null?null:k-p;p=k,f&&f({action:d,location:I.location,delta:V})}function w(k,V){d="PUSH";let B=Am(I.location,k,V);n&&n(B,k),p=g()+1;let F=w0(B,p),U=I.createHref(B);try{u.pushState(F,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}l&&f&&f({action:d,location:I.location,delta:1})}function S(k,V){d="REPLACE";let B=Am(I.location,k,V);n&&n(B,k),p=g();let F=w0(B,p),U=I.createHref(B);u.replaceState(F,"",U),l&&f&&f({action:d,location:I.location,delta:0})}function j(k){return KE(k)}let I={get action(){return d},get location(){return t(i,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(b0,v),f=k,()=>{i.removeEventListener(b0,v),f=null}},createHref(k){return e(i,k)},createURL:j,encodeLocation(k){let V=j(k);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:S,go(k){return u.go(k)}};return I}function KE(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Cw(t,e,n="/"){return QE(t,e,n,!1)}function QE(t,e,n,r){let i=typeof e=="string"?Go(e):e,l=ri(i.pathname||"/",n);if(l==null)return null;let u=kw(t);YE(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=aj(l);d=ij(u[f],p,r)}return d}function kw(t,e=[],n=[],r="",i=!1){let l=(u,d,f=i,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;St(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ti([r,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),kw(u.children,e,w,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:rj(v,u.index),routesMeta:w})};return t.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,d);else for(let p of Aw(u.path))l(u,d,!0,p)}),e}function Aw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let u=Aw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function YE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XE=/^:[\w-]+$/,JE=3,ZE=2,ej=1,tj=10,nj=-2,_0=t=>t==="*";function rj(t,e){let n=t.split("/"),r=n.length;return n.some(_0)&&(r+=nj),e&&(r+=ZE),n.filter(i=>!_0(i)).reduce((i,l)=>i+(XE.test(l)?JE:l===""?ej:tj),r)}function sj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ij(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:ti([l,v.pathname]),pathnameBase:dj(ti([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=ti([l,v.pathnameBase]))}return u}function ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let j=d[w]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const S=d[w];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function oj(t,e=!1,n=!0){Nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lj(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Go(t):t;return{pathname:n?n.startsWith("/")?n:uj(n,e):e,search:hj(r),hash:fj(i)}}function uj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tg(t){let e=cj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Eg(t,e,n,r=!1){let i;typeof t=="string"?i=Go(t):(i={...t},St(!i.pathname||!i.pathname.includes("?"),Vp("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Vp("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Vp("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}d=v>=0?e[v]:"/"}let f=lj(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ti=t=>t.join("/").replace(/\/\/+/g,"/"),dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var mj=["GET",...Iw];new Set(mj);var ul=P.createContext(null);ul.displayName="DataRouter";var kh=P.createContext(null);kh.displayName="DataRouterState";P.createContext(!1);var Rw=P.createContext({isTransitioning:!1});Rw.displayName="ViewTransition";var gj=P.createContext(new Map);gj.displayName="Fetchers";var yj=P.createContext(null);yj.displayName="Await";var is=P.createContext(null);is.displayName="Navigation";var Gu=P.createContext(null);Gu.displayName="Location";var Dr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var jg=P.createContext(null);jg.displayName="RouteError";function vj(t,{relative:e}={}){St(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(is),{hash:i,pathname:l,search:u}=Hu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ti([n,l])),r.createHref({pathname:d,search:u,hash:i})}function cl(){return P.useContext(Gu)!=null}function Is(){return St(cl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Gu).location}var Pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nw(t){P.useContext(is).static||P.useLayoutEffect(t)}function Ho(){let{isDataRoute:t}=P.useContext(Dr);return t?Nj():xj()}function xj(){St(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(ul),{basename:e,navigator:n}=P.useContext(is),{matches:r}=P.useContext(Dr),{pathname:i}=Is(),l=JSON.stringify(Tg(r)),u=P.useRef(!1);return Nw(()=>{u.current=!0}),P.useCallback((f,p={})=>{if(Nr(u.current,Pw),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Eg(f,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ti([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,i,t])}var bj=P.createContext(null);function wj(t){let e=P.useContext(Dr).outlet;return e&&P.createElement(bj.Provider,{value:t},e)}function Cg(){let{matches:t}=P.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function Hu(t,{relative:e}={}){let{matches:n}=P.useContext(Dr),{pathname:r}=Is(),i=JSON.stringify(Tg(n));return P.useMemo(()=>Eg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _j(t,e){return Dw(t,e)}function Dw(t,e,n,r,i){var B;St(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(is),{matches:u}=P.useContext(Dr),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let F=v&&v.path||"";Mw(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Is(),S;if(e){let F=typeof e=="string"?Go(e):e;St(g==="/"||((B=F.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let j=S.pathname||"/",I=j;if(g!=="/"){let F=g.replace(/^\//,"").split("/");I="/"+j.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=Cw(t,{pathname:I});Nr(v||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Nr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Cj(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:ti([g,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:ti([g,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,r,i);return e&&V?P.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function Sj(){let t=Pj(),e=pj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,u)}var Tj=P.createElement(Sj,null),Ej=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(Dr.Provider,{value:this.props.routeContext},P.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jj({routeContext:t,match:e,children:n}){let r=P.useContext(ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Dr.Provider,{value:t},n)}function Cj(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);St(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:w}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let w,S=!1,j=null,I=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||Tj,d&&(f<0&&v===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):f===v&&(S=!0,I=g.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,v+1)),V=()=>{let B;return w?B=j:S?B=I:g.route.Component?B=P.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,P.createElement(jj,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?P.createElement(Ej,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:V(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):V()},null)}function kg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kj(t){let e=P.useContext(ul);return St(e,kg(t)),e}function Aj(t){let e=P.useContext(kh);return St(e,kg(t)),e}function Ij(t){let e=P.useContext(Dr);return St(e,kg(t)),e}function Ag(t){let e=Ij(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Rj(){return Ag("useRouteId")}function Pj(){var r;let t=P.useContext(jg),e=Aj("useRouteError"),n=Ag("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Nj(){let{router:t}=kj("useNavigate"),e=Ag("useNavigate"),n=P.useRef(!1);return Nw(()=>{n.current=!0}),P.useCallback(async(i,l={})=>{Nr(n.current,Pw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var S0={};function Mw(t,e,n){!e&&!S0[t]&&(S0[t]=!0,Nr(!1,n))}P.memo(Dj);function Dj({routes:t,future:e,state:n,unstable_onError:r}){return Dw(t,void 0,n,r,e)}function Fp({to:t,replace:e,state:n,relative:r}){St(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=P.useContext(is);Nr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(Dr),{pathname:u}=Is(),d=Ho(),f=Eg(t,Tg(l),u,r==="path"),p=JSON.stringify(f);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function Vw(t){return wj(t.context)}function se(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){St(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:i,static:l,future:{}}),[u,i,l]);typeof n=="string"&&(n=Go(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:w="default"}=n,S=P.useMemo(()=>{let j=ri(f,u);return j==null?null:{location:{pathname:j,search:p,hash:g,state:v,key:w},navigationType:r}},[u,f,p,g,v,w,r]);return Nr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:P.createElement(is.Provider,{value:d},P.createElement(Gu.Provider,{children:e,value:S}))}function Vj({children:t,location:e}){return _j(Im(t),e)}function Im(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let l=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Im(r.props.children,l));return}St(r.type===se,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Im(r.props.children,l)),n.push(u)}),n}var Hd="get",Wd="application/x-www-form-urlencoded";function Ah(t){return t!=null&&typeof t.tagName=="string"}function Fj(t){return Ah(t)&&t.tagName.toLowerCase()==="button"}function Lj(t){return Ah(t)&&t.tagName.toLowerCase()==="form"}function Bj(t){return Ah(t)&&t.tagName.toLowerCase()==="input"}function Oj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $j(t,e){return t.button===0&&(!e||e==="_self")&&!Oj(t)}var Td=null;function Uj(){if(Td===null)try{new FormData(document.createElement("form"),0),Td=!1}catch(t){Td=!0}return Td}var zj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(t){return t!=null&&!zj.has(t)?(Nr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wd}"`),null):t}function Gj(t,e){let n,r,i,l,u;if(Lj(t)){let d=t.getAttribute("action");r=d?ri(d,e):null,n=t.getAttribute("method")||Hd,i=Lp(t.getAttribute("enctype"))||Wd,l=new FormData(t)}else if(Fj(t)||Bj(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ri(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Hd,i=Lp(t.getAttribute("formenctype"))||Lp(d.getAttribute("enctype"))||Wd,l=new FormData(d,t),!Uj()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,v)}}else{if(Ah(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hd,r=null,i=Wd,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Hj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ri(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Wj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kj(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await Wj(l,n);return u.links?u.links():[]}return[]}));return Jj(r.flat(1).filter(qj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T0(t,e,n,r,i,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Qj(t,e,{includeHydrateFallback:n}={}){return Yj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function Yj(t){return[...new Set(t)]}function Xj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Jj(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(Xj(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function Fw(){let t=P.useContext(ul);return Ig(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Zj(){let t=P.useContext(kh);return Ig(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rg=P.createContext(void 0);Rg.displayName="FrameworkContext";function Lw(){let t=P.useContext(Rg);return Ig(t,"You must render this element inside a <HydratedRouter> element"),t}function eC(t,e){let n=P.useContext(Rg),[r,i]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let I=V=>{V.forEach(B=>{u(B.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),P.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let S=()=>{i(!0)},j=()=>{i(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:su(d,S),onBlur:su(f,j),onMouseEnter:su(p,S),onMouseLeave:su(g,j),onTouchStart:su(v,S)}]:[!1,w,{}]}function su(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tC({page:t,...e}){let{router:n}=Fw(),r=P.useMemo(()=>Cw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(rC,{page:t,matches:r,...e}):null}function nC(t){let{manifest:e,routeModules:n}=Lw(),[r,i]=P.useState([]);return P.useEffect(()=>{let l=!1;return Kj(t,e,n).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,n]),r}function rC({page:t,matches:e,...n}){let r=Is(),{manifest:i,routeModules:l}=Lw(),{basename:u}=Fw(),{loaderData:d,matches:f}=Zj(),p=P.useMemo(()=>T0(t,e,f,i,r,"data"),[t,e,f,i,r]),g=P.useMemo(()=>T0(t,e,f,i,r,"assets"),[t,e,f,i,r]),v=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,I=!1;if(e.forEach(V=>{var F;let B=i.routes[V.route.id];!B||!B.hasLoader||(!p.some(U=>U.route.id===V.route.id)&&V.route.id in d&&((F=l[V.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?I=!0:j.add(V.route.id))}),j.size===0)return[];let k=Hj(t,u,"data");return I&&j.size>0&&k.searchParams.set("_routes",e.filter(V=>j.has(V.route.id)).map(V=>V.route.id).join(",")),[k.pathname+k.search]},[u,d,r,i,p,e,t,l]),w=P.useMemo(()=>Qj(g,i),[g,i]),S=nC(g);return P.createElement(P.Fragment,null,v.map(j=>P.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>P.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),S.map(({key:j,link:I})=>P.createElement("link",{key:j,nonce:n.nonce,...I})))}function sC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bw=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Bw&&(window.__reactRouterVersion="7.9.1")}catch(t){}function iC({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=HE({window:n,v5Compat:!0}));let i=r.current,[l,u]=P.useState({action:i.action,location:i.location}),d=P.useCallback(f=>{P.startTransition(()=>u(f))},[u]);return P.useLayoutEffect(()=>i.listen(d),[i,d]),P.createElement(Mj,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:v,...w},S){let{basename:j}=P.useContext(is),I=typeof p=="string"&&Ow.test(p),k,V=!1;if(typeof p=="string"&&I&&(k=p,Bw))try{let A=new URL(window.location.href),D=p.startsWith("//")?new URL(A.protocol+p):new URL(p),M=ri(D.pathname,j);D.origin===A.origin&&M!=null?p=M+D.search+D.hash:V=!0}catch(A){Nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=vj(p,{relative:i}),[F,U,$]=eC(r,w),q=lC(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:v});function E(A){e&&e(A),A.defaultPrevented||q(A)}let T=P.createElement("a",{...w,...$,href:k||B,onClick:V||l?e:E,ref:sC(S,U),target:f,"data-discover":!I&&n==="render"?"true":void 0});return F&&!I?P.createElement(P.Fragment,null,T,P.createElement(tC,{page:B})):T});yn.displayName="Link";var fr=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:u,viewTransition:d,children:f,...p},g){let v=Hu(u,{relative:p.relative}),w=Is(),S=P.useContext(kh),{navigator:j,basename:I}=P.useContext(is),k=S!=null&&fC(v)&&d===!0,V=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,B=w.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&I&&(F=ri(F,I)||F);const U=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=B===V||!i&&B.startsWith(V)&&B.charAt(U)==="/",q=F!=null&&(F===V||!i&&F.startsWith(V)&&F.charAt(V.length)==="/"),E={isActive:$,isPending:q,isTransitioning:k},T=$?e:void 0,A;typeof r=="function"?A=r(E):A=[r,$?"active":null,q?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(E):l;return P.createElement(yn,{...p,"aria-current":T,className:A,ref:g,style:D,to:u,viewTransition:d},typeof f=="function"?f(E):f)});fr.displayName="NavLink";var oC=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:u=Hd,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,...w},S)=>{let j=dC(),I=hC(d,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&Ow.test(d),B=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||u;j(U||F.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return P.createElement("form",{ref:S,method:k,action:I,onSubmit:r?f:B,...w,"data-discover":!V&&t==="render"?"true":void 0})});oC.displayName="Form";function aC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(t){let e=P.useContext(ul);return St(e,aC(t)),e}function lC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:u}={}){let d=Ho(),f=Is(),p=Hu(t,{relative:l});return P.useCallback(g=>{if($j(g,e)){g.preventDefault();let v=n!==void 0?n:Cu(f)===Cu(p);d(t,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:u})}},[f,d,p,n,r,e,t,i,l,u])}var uC=0,cC=()=>`__${String(++uC)}__`;function dC(){let{router:t}=$w("useSubmit"),{basename:e}=P.useContext(is),n=Rj();return P.useCallback(async(r,i={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=Gj(r,e);if(i.navigate===!1){let g=i.fetcherKey||cC();await t.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function hC(t,{relative:e}={}){let{basename:n}=P.useContext(is),r=P.useContext(Dr);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Hu(t||".",{relative:e})},u=Is();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ti([n,l.pathname])),Cu(l)}function fC(t,{relative:e}={}){let n=P.useContext(Rw);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$w("useViewTransitionState"),i=Hu(t,{relative:e});if(!n.isTransitioning)return!1;let l=ri(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ri(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ih(i.pathname,u)!=null||ih(i.pathname,l)!=null}var pC=jw();const mC=_g(pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),E0=t=>{const e=yC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Uw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),vC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:u,...d},f)=>P.createElement("svg",{ref:f,...xC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Uw("lucide",i),...!l&&!vC(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,g])=>P.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(t,e)=>{const n=P.forwardRef(({className:r,...i},l)=>P.createElement(bC,{ref:l,iconNode:e,className:Uw(`lucide-${gC(E0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=E0(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Ih=Nt("aperture",wC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],SC=Nt("bell",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],EC=Nt("book-open",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],CC=Nt("chevron-right",jC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AC=Nt("compass",kC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],zw=Nt("diamond",IC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],PC=Nt("folder-search",RC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],DC=Nt("globe",NC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Gw=Nt("hexagon",MC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],FC=Nt("house",VC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BC=Nt("layers",LC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$C=Nt("layout-dashboard",OC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],zC=Nt("messages-square",UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],HC=Nt("pin-off",GC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],qC=Nt("pin",WC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QC=Nt("settings",KC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Hw=Nt("shapes",YC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wu=Nt("shield",XC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ZC=Nt("star",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],tk=Nt("trophy",ek);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rk=Nt("upload",nk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ww=Nt("zap",sk),ik="_topbar_1rfl9_3",ok="_topbarLeft_1rfl9_39",ak="_searchWrap_1rfl9_55",lk="_topbarRight_1rfl9_109",uk="_ico_1rfl9_125",ck="_btnIco_1rfl9_139",dk="_pill_1rfl9_173",hk="_onlyExpanded_1rfl9_195",fk="_upload_1rfl9_201",pk="_label_1rfl9_231",mk="_avatarBtn_1rfl9_237",gk="_avatar_1rfl9_237",jn={topbar:ik,topbarLeft:ok,searchWrap:ak,topbarRight:lk,ico:uk,btnIco:ck,pill:dk,onlyExpanded:hk,upload:fk,label:pk,avatarBtn:mk,avatar:gk},qw=P.createContext(null);function yk({children:t,role:e}){const[n,r]=P.useState(!1),[i,l]=P.useState("csv"),u=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=P.useCallback(g=>{u&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[u]),f=P.useCallback(()=>r(!1),[]),p=P.useMemo(()=>({isOpen:n,open:d,close:f,activeTab:i,setTab:l,canUse:u}),[n,d,f,i,u]);return o.jsx(qw.Provider,{value:p,children:t})}function Kw(){const t=P.useContext(qw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var j0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],u=t[n++],d=t[n++],f=((i&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],u=i+1<t.length,d=u?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,S=p&63;f||(S=64,u||(w=64)),r.push(n[g],n[v],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||d==null||p==null||v==null)throw new xk;const w=l<<2|d>>4;if(r.push(w),p!==64){const S=d<<4&240|p>>2;if(r.push(S),v!==64){const j=p<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bk=function(t){const e=Qw(t);return Yw.encodeByteArray(e,!0)},oh=function(t){return bk(t).replace(/\./g,"")},wk=function(t){try{return Yw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=()=>_k().__FIREBASE_DEFAULTS__,Tk=()=>{if(typeof process=="undefined"||typeof j0=="undefined")return;const t=j0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ek=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&wk(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return Sk()||Tk()||Ek()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jk=t=>{var e,n;return(n=(e=Pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ck=t=>{const e=jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xw=()=>{var t;return(t=Pg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oh(JSON.stringify(n)),oh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rk(){var t;const e=(t=Pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function Pk(){return!Rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nk(){try{return typeof indexedDB=="object"}catch(t){return!1}}function Dk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="FirebaseError";class dl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Mk,Object.setPrototypeOf(this,dl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jw.prototype.create)}}class Jw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],u=l?Vk(l,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new dl(i,d,r)}}function Vk(t,e){return t.replace(Fk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Fk=/\{\$([^}]+)}/g;function Rm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],u=e[i];if(C0(l)&&C0(u)){if(!Rm(l,u))return!1}else if(l!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){return t&&t._delegate?t._delegate:t}class ku{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ok(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch(l){}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Bk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bk(t){return t===Ro?void 0:t}function Ok(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const Uk={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},zk=Xe.INFO,Gk={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},Hk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Gk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zw{constructor(e){this.name=e,this._logLevel=zk,this._logHandler=Hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const Wk=(t,e)=>e.some(n=>t instanceof n);let k0,A0;function qk(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kk(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Pm=new WeakMap,t_=new WeakMap,Bp=new WeakMap,Ng=new WeakMap;function Qk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ui(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&e_.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function Yk(t){if(Pm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Pm.set(t,e)}let Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||t_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xk(t){Nm=t(Nm)}function Jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Op(this),e,...n);return t_.set(r,e.sort?e.sort():[e]),Ui(r)}:Kk().includes(t)?function(...e){return t.apply(Op(this),e),Ui(e_.get(this))}:function(...e){return Ui(t.apply(Op(this),e))}}function Zk(t){return typeof t=="function"?Jk(t):(t instanceof IDBTransaction&&Yk(t),Wk(t,qk())?new Proxy(t,Nm):t)}function Ui(t){if(t instanceof IDBRequest)return Qk(t);if(Bp.has(t))return Bp.get(t);const e=Zk(t);return e!==t&&(Bp.set(t,e),Ng.set(e,t)),e}const Op=t=>Ng.get(t);function eA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const u=indexedDB.open(t,e),d=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const tA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],$p=new Map;function I0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($p.get(e))return $p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tA.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return $p.set(e,l),l}Xk(t=>({...t,get:(e,n,r)=>I0(e,n)||t.get(e,n,r),has:(e,n)=>!!I0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",R0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Zw("@firebase/app"),iA="@firebase/app-compat",oA="@firebase/analytics-compat",aA="@firebase/analytics",lA="@firebase/app-check-compat",uA="@firebase/app-check",cA="@firebase/auth",dA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",pA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",yA="@firebase/installations",vA="@firebase/installations-compat",xA="@firebase/messaging",bA="@firebase/messaging-compat",wA="@firebase/performance",_A="@firebase/performance-compat",SA="@firebase/remote-config",TA="@firebase/remote-config-compat",EA="@firebase/storage",jA="@firebase/storage-compat",CA="@firebase/firestore",kA="@firebase/vertexai-preview",AA="@firebase/firestore-compat",IA="firebase",RA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",PA={[Dm]:"fire-core",[iA]:"fire-core-compat",[aA]:"fire-analytics",[oA]:"fire-analytics-compat",[uA]:"fire-app-check",[lA]:"fire-app-check-compat",[cA]:"fire-auth",[dA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[yA]:"fire-iid",[vA]:"fire-iid-compat",[xA]:"fire-fcm",[bA]:"fire-fcm-compat",[wA]:"fire-perf",[_A]:"fire-perf-compat",[SA]:"fire-rc",[TA]:"fire-rc-compat",[EA]:"fire-gcs",[jA]:"fire-gcs-compat",[CA]:"fire-fst",[AA]:"fire-fst-compat",[kA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,NA=new Map,Vm=new Map;function P0(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ah(t){const e=t.name;if(Vm.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,t);for(const n of Au.values())P0(n,t);for(const n of NA.values())P0(n,t);return!0}function DA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Jw("app","Firebase",MA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ku("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=RA;function n_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zi.create("bad-app-name",{appName:String(i)});if(n||(n=Xw()),!n)throw zi.create("no-options");const l=Au.get(i);if(l){if(Rm(n,l.options)&&Rm(r,l.config))return l;throw zi.create("duplicate-app",{appName:i})}const u=new $k(i);for(const f of Vm.values())u.addComponent(f);const d=new VA(n,r,u);return Au.set(i,d),d}function r_(t=Mm){const e=Au.get(t);if(!e&&t===Mm&&Xw())return n_();if(!e)throw zi.create("no-app",{appName:t});return e}function LA(){return Array.from(Au.values())}function qa(t,e,n){var r;let i=(r=PA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${i}" with version "${e}":`];l&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(d.join(" "));return}ah(new ku(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",OA=1,Iu="firebase-heartbeat-store";let Up=null;function s_(){return Up||(Up=eA(BA,OA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),Up}async function $A(t){try{const n=(await s_()).transaction(Iu),r=await n.objectStore(Iu).get(i_(t));return await n.done,r}catch(e){if(e instanceof dl)si.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function N0(t,e){try{const r=(await s_()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(e,i_(t)),await r.done}catch(n){if(n instanceof dl)si.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function i_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1024,zA=720*60*60*1e3;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=D0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=zA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D0(),{heartbeatsToSend:r,unsentEntries:i}=HA(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return si.warn(n),""}}}function D0(){return new Date().toISOString().substring(0,10)}function HA(t,e=UA){const n=[];let r=t.slice();for(const i of t){const l=n.find(u=>u.agent===i.agent);if(l){if(l.dates.push(i.date),M0(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nk()?Dk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $A(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M0(t){return oh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){ah(new ku("platform-logger",e=>new rA(e),"PRIVATE")),ah(new ku("heartbeat",e=>new GA(e),"PRIVATE")),qa(Dm,R0,t),qa(Dm,R0,"esm2017"),qa("fire-js","")}qA("");var V0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,o_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function A(){}A.prototype=T.prototype,E.D=T.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(D,M,L){for(var N=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)N[fe-2]=arguments[fe];return T.prototype[M].apply(D,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,A){A||(A=0);var D=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)D[M]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=E.g[0],A=E.g[1],M=E.g[2];var L=E.g[3],N=T+(L^A&(M^L))+D[0]+3614090360&4294967295;T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+D[1]+3905402710&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+D[2]+606105819&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+D[3]+3250441966&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(L^A&(M^L))+D[4]+4118548399&4294967295,T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+D[5]+1200080426&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+D[6]+2821735955&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+D[7]+4249261313&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(L^A&(M^L))+D[8]+1770035416&4294967295,T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+D[9]+2336552879&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+D[10]+4294925233&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+D[11]+2304563134&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(L^A&(M^L))+D[12]+1804603682&4294967295,T=A+(N<<7&4294967295|N>>>25),N=L+(M^T&(A^M))+D[13]+4254626195&4294967295,L=T+(N<<12&4294967295|N>>>20),N=M+(A^L&(T^A))+D[14]+2792965006&4294967295,M=L+(N<<17&4294967295|N>>>15),N=A+(T^M&(L^T))+D[15]+1236535329&4294967295,A=M+(N<<22&4294967295|N>>>10),N=T+(M^L&(A^M))+D[1]+4129170786&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+D[6]+3225465664&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+D[11]+643717713&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+D[0]+3921069994&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(M^L&(A^M))+D[5]+3593408605&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+D[10]+38016083&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+D[15]+3634488961&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+D[4]+3889429448&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(M^L&(A^M))+D[9]+568446438&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+D[14]+3275163606&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+D[3]+4107603335&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+D[8]+1163531501&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(M^L&(A^M))+D[13]+2850285829&4294967295,T=A+(N<<5&4294967295|N>>>27),N=L+(A^M&(T^A))+D[2]+4243563512&4294967295,L=T+(N<<9&4294967295|N>>>23),N=M+(T^A&(L^T))+D[7]+1735328473&4294967295,M=L+(N<<14&4294967295|N>>>18),N=A+(L^T&(M^L))+D[12]+2368359562&4294967295,A=M+(N<<20&4294967295|N>>>12),N=T+(A^M^L)+D[5]+4294588738&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+D[8]+2272392833&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+D[11]+1839030562&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+D[14]+4259657740&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(A^M^L)+D[1]+2763975236&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+D[4]+1272893353&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+D[7]+4139469664&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+D[10]+3200236656&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(A^M^L)+D[13]+681279174&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+D[0]+3936430074&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+D[3]+3572445317&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+D[6]+76029189&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(A^M^L)+D[9]+3654602809&4294967295,T=A+(N<<4&4294967295|N>>>28),N=L+(T^A^M)+D[12]+3873151461&4294967295,L=T+(N<<11&4294967295|N>>>21),N=M+(L^T^A)+D[15]+530742520&4294967295,M=L+(N<<16&4294967295|N>>>16),N=A+(M^L^T)+D[2]+3299628645&4294967295,A=M+(N<<23&4294967295|N>>>9),N=T+(M^(A|~L))+D[0]+4096336452&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+D[7]+1126891415&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+D[14]+2878612391&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+D[5]+4237533241&4294967295,A=M+(N<<21&4294967295|N>>>11),N=T+(M^(A|~L))+D[12]+1700485571&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+D[3]+2399980690&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+D[10]+4293915773&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+D[1]+2240044497&4294967295,A=M+(N<<21&4294967295|N>>>11),N=T+(M^(A|~L))+D[8]+1873313359&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+D[15]+4264355552&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+D[6]+2734768916&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+D[13]+1309151649&4294967295,A=M+(N<<21&4294967295|N>>>11),N=T+(M^(A|~L))+D[4]+4149444226&4294967295,T=A+(N<<6&4294967295|N>>>26),N=L+(A^(T|~M))+D[11]+3174756917&4294967295,L=T+(N<<10&4294967295|N>>>22),N=M+(T^(L|~A))+D[2]+718787259&4294967295,M=L+(N<<15&4294967295|N>>>17),N=A+(L^(M|~T))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+M&4294967295,E.g[3]=E.g[3]+L&4294967295}r.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var A=T-this.blockSize,D=this.B,M=this.h,L=0;L<T;){if(M==0)for(;L<=A;)i(this,E,L),L+=this.blockSize;if(typeof E=="string"){for(;L<T;)if(D[M++]=E.charCodeAt(L++),M==this.blockSize){i(this,D),M=0;break}}else for(;L<T;)if(D[M++]=E[L++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var A=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=A&255,A/=256;for(this.u(E),E=Array(16),T=A=0;4>T;++T)for(var D=0;32>D;D+=8)E[A++]=this.g[T]>>>D&255;return E};function l(E,T){var A=d;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=T(E)}function u(E,T){this.h=T;for(var A=[],D=!0,M=E.length-1;0<=M;M--){var L=E[M]|0;D&&L==T||(A[M]=L,D=!1)}this.g=A}var d={};function f(E){return-128<=E&&128>E?l(E,function(T){return new u([T|0],0>T?-1:0)}):new u([E|0],0>E?-1:0)}function p(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return k(p(-E));for(var T=[],A=1,D=0;E>=A;D++)T[D]=E/A|0,A*=4294967296;return new u(T,0)}function g(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return k(g(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(T,8)),D=v,M=0;M<E.length;M+=8){var L=Math.min(8,E.length-M),N=parseInt(E.substring(M,M+L),T);8>L?(L=p(Math.pow(T,L)),D=D.j(L).add(p(N))):(D=D.j(A),D=D.add(p(N)))}return D}var v=f(0),w=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(I(this))return-k(this).m();for(var E=0,T=1,A=0;A<this.g.length;A++){var D=this.i(A);E+=(0<=D?D:4294967296+D)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(j(this))return"0";if(I(this))return"-"+k(this).toString(E);for(var T=p(Math.pow(E,6)),A=this,D="";;){var M=U(A,T).g;A=V(A,M.j(T));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=M,j(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function j(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function I(E){return E.h==-1}t.l=function(E){return E=V(this,E),I(E)?-1:j(E)?0:1};function k(E){for(var T=E.g.length,A=[],D=0;D<T;D++)A[D]=~E.g[D];return new u(A,~E.h).add(w)}t.abs=function(){return I(this)?k(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),A=[],D=0,M=0;M<=T;M++){var L=D+(this.i(M)&65535)+(E.i(M)&65535),N=(L>>>16)+(this.i(M)>>>16)+(E.i(M)>>>16);D=N>>>16,L&=65535,N&=65535,A[M]=N<<16|L}return new u(A,A[A.length-1]&-2147483648?-1:0)};function V(E,T){return E.add(k(T))}t.j=function(E){if(j(this)||j(E))return v;if(I(this))return I(E)?k(this).j(k(E)):k(k(this).j(E));if(I(E))return k(this.j(k(E)));if(0>this.l(S)&&0>E.l(S))return p(this.m()*E.m());for(var T=this.g.length+E.g.length,A=[],D=0;D<2*T;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<E.g.length;M++){var L=this.i(D)>>>16,N=this.i(D)&65535,fe=E.i(M)>>>16,K=E.i(M)&65535;A[2*D+2*M]+=N*K,B(A,2*D+2*M),A[2*D+2*M+1]+=L*K,B(A,2*D+2*M+1),A[2*D+2*M+1]+=N*fe,B(A,2*D+2*M+1),A[2*D+2*M+2]+=L*fe,B(A,2*D+2*M+2)}for(D=0;D<T;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=T;D<2*T;D++)A[D]=0;return new u(A,0)};function B(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function F(E,T){this.g=E,this.h=T}function U(E,T){if(j(T))throw Error("division by zero");if(j(E))return new F(v,v);if(I(E))return T=U(k(E),T),new F(k(T.g),k(T.h));if(I(T))return T=U(E,k(T)),new F(k(T.g),T.h);if(30<E.g.length){if(I(E)||I(T))throw Error("slowDivide_ only works with positive integers.");for(var A=w,D=T;0>=D.l(E);)A=$(A),D=$(D);var M=q(A,1),L=q(D,1);for(D=q(D,2),A=q(A,2);!j(D);){var N=L.add(D);0>=N.l(E)&&(M=M.add(A),L=N),D=q(D,1),A=q(A,1)}return T=V(E,M.j(T)),new F(M,T)}for(M=v;0<=E.l(T);){for(A=Math.max(1,Math.floor(E.m()/T.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=p(A),N=L.j(T);I(N)||0<N.l(E);)A-=D,L=p(A),N=L.j(T);j(L)&&(L=w),M=M.add(L),E=V(E,N)}return new F(M,E)}t.A=function(E){return U(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)&E.i(D);return new u(A,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)|E.i(D);return new u(A,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)^E.i(D);return new u(A,this.h^E.h)};function $(E){for(var T=E.g.length+1,A=[],D=0;D<T;D++)A[D]=E.i(D)<<1|E.i(D-1)>>>31;return new u(A,E.h)}function q(E,T){var A=T>>5;T%=32;for(var D=E.g.length-A,M=[],L=0;L<D;L++)M[L]=0<T?E.i(L+A)>>>T|E.i(L+A+1)<<32-T:E.i(L+A);return new u(M,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o_=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Lo=u}).apply(typeof V0!="undefined"?V0:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Ed=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a_,cu,l_,qd,Fm,u_,c_,d_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,_){return h==Array.prototype||h==Object.prototype||(h[x]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var x=0;x<h.length;++x){var _=h[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(h,x){if(x)e:{var _=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var Y=h[R];if(!(Y in _))break e;_=_[Y]}h=h[h.length-1],R=_[h],x=x(R),x!=R&&x!=null&&e(_,h,{configurable:!0,writable:!0,value:x})}}function l(h,x){h instanceof String&&(h+="");var _=0,R=!1,Y={next:function(){if(!R&&_<h.length){var te=_++;return{value:x(te,h[te]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(h){return h||function(){return l(this,function(x,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function g(h,x,_){return h.call.apply(h.bind,arguments)}function v(h,x,_){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,R),h.apply(x,Y)}}return function(){return h.apply(x,arguments)}}function w(h,x,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function S(h,x){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function j(h,x){function _(){}_.prototype=x.prototype,h.aa=x.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(R,Y,te){for(var ge=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ge[nt-2]=arguments[nt];return x.prototype[Y].apply(R,ge)}}function I(h){const x=h.length;if(0<x){const _=Array(x);for(let R=0;R<x;R++)_[R]=h[R];return _}return[]}function k(h,x){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(f(R)){const Y=h.length||0,te=R.length||0;h.length=Y+te;for(let ge=0;ge<te;ge++)h[Y+ge]=R[ge]}else h.push(R)}}class V{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function q(h,x,_){for(const R in h)x.call(_,h[R],R,h)}function E(h,x){for(const _ in h)x.call(void 0,h[_],_,h)}function T(h){const x={};for(const _ in h)x[_]=h[_];return x}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,x){let _,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(_ in R)h[_]=R[_];for(let te=0;te<A.length;te++)_=A[te],Object.prototype.hasOwnProperty.call(R,_)&&(h[_]=R[_])}}function M(h){var x=1;h=h.split(":");const _=[];for(;0<x&&h.length;)_.push(h.shift()),x--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function N(){var h=ae;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class fe{constructor(){this.h=this.g=null}add(x,_){const R=K.get();R.set(x,_),this.h?this.h.next=R:this.g=R,this.h=R}}var K=new V(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,ae=new fe,oe=()=>{const h=d.Promise.resolve(void 0);ne=()=>{h.then(H)}};var H=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(_){L(_)}var x=K;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,x),d.removeEventListener("test",_,x)}catch(_){}return h})();function je(h,x){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if($){e:{try{U(x.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(x=null)}}else _=="mouseover"?x=h.fromElement:_=="mouseout"&&(x=h.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}j(je,ye);var me={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Pe(h,x,_,R,Y){this.listener=h,this.proxy=null,this.src=x,this.type=_,this.capture=!!R,this.ha=Y,this.key=++Ae,this.da=this.fa=!1}function tt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h){this.src=h,this.g={},this.h=0}Dt.prototype.add=function(h,x,_,R,Y){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var ge=Lt(h,x,R,Y);return-1<ge?(x=h[ge],_||(x.fa=!1)):(x=new Pe(x,this.src,te,!!R,Y),x.fa=_,h.push(x)),x};function Yt(h,x){var _=x.type;if(_ in h.g){var R=h.g[_],Y=Array.prototype.indexOf.call(R,x,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(R,Y,1),te&&(tt(x),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Lt(h,x,_,R){for(var Y=0;Y<h.length;++Y){var te=h[Y];if(!te.da&&te.listener==x&&te.capture==!!_&&te.ha==R)return Y}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),On={};function $n(h,x,_,R,Y){if(Array.isArray(x)){for(var te=0;te<x.length;te++)$n(h,x[te],_,R,Y);return null}return _=rr(_),h&&h[Ce]?h.K(x,_,p(R)?!!R.capture:!1,Y):it(h,x,_,!1,R,Y)}function it(h,x,_,R,Y,te){if(!x)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,nt=At(h);if(nt||(h[kt]=nt=new Dt(h)),_=nt.add(x,_,R,ge,te),_.proxy)return _;if(R=yr(),_.proxy=R,R.src=h,R.listener=_,h.addEventListener)_e||(Y=ge),Y===void 0&&(Y=!1),h.addEventListener(x.toString(),R,Y);else if(h.attachEvent)h.attachEvent(an(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function yr(){function h(_){return x.call(h.src,h.listener,_)}const x=tr;return h}function Un(h,x,_,R,Y){if(Array.isArray(x))for(var te=0;te<x.length;te++)Un(h,x[te],_,R,Y);else R=p(R)?!!R.capture:!!R,_=rr(_),h&&h[Ce]?(h=h.i,x=String(x).toString(),x in h.g&&(te=h.g[x],_=Lt(te,_,R,Y),-1<_&&(tt(te[_]),Array.prototype.splice.call(te,_,1),te.length==0&&(delete h.g[x],h.h--)))):h&&(h=At(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Lt(x,_,R,Y)),(_=-1<h?x[h]:null)&&on(_))}function on(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ce])Yt(x.i,h);else{var _=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(_,R,h.capture):x.detachEvent?x.detachEvent(an(_),R):x.addListener&&x.removeListener&&x.removeListener(R),(_=At(x))?(Yt(_,h),_.h==0&&(_.src=null,x[kt]=null)):tt(h)}}}function an(h){return h in On?On[h]:On[h]="on"+h}function tr(h,x){if(h.da)h=!0;else{x=new je(x,this);var _=h.listener,R=h.ha||h.src;h.fa&&on(h),h=_.call(R,x)}return h}function At(h){return h=h[kt],h instanceof Dt?h:null}var nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function rr(h){return typeof h=="function"?h:(h[nr]||(h[nr]=function(x){return h.handleEvent(x)}),h[nr])}function Ue(){ee.call(this),this.i=new Dt(this),this.M=this,this.F=null}j(Ue,ee),Ue.prototype[Ce]=!0,Ue.prototype.removeEventListener=function(h,x,_,R){Un(this,h,x,_,R)};function vt(h,x){var _,R=h.F;if(R)for(_=[];R;R=R.F)_.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new ye(x,h);else if(x instanceof ye)x.target=x.target||h;else{var Y=x;x=new ye(R,h),D(x,Y)}if(Y=!0,_)for(var te=_.length-1;0<=te;te--){var ge=x.g=_[te];Y=zn(ge,R,!0,x)&&Y}if(ge=x.g=h,Y=zn(ge,R,!0,x)&&Y,Y=zn(ge,R,!1,x)&&Y,_)for(te=0;te<_.length;te++)ge=x.g=_[te],Y=zn(ge,R,!1,x)&&Y}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var _=h.g[x],R=0;R<_.length;R++)tt(_[R]);delete h.g[x],h.h--}}this.F=null},Ue.prototype.K=function(h,x,_,R){return this.i.add(String(h),x,!1,_,R)},Ue.prototype.L=function(h,x,_,R){return this.i.add(String(h),x,!0,_,R)};function zn(h,x,_,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,te=0;te<x.length;++te){var ge=x[te];if(ge&&!ge.da&&ge.capture==_){var nt=ge.listener,Wt=ge.ha||ge.src;ge.fa&&Yt(h.i,ge),Y=nt.call(Wt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function as(h,x,_){if(typeof h=="function")_&&(h=w(h,_));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(h,x||0)}function sr(h){h.g=as(()=>{h.g=null,h.i&&(h.i=!1,sr(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class vr extends ee{constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){ee.call(this),this.h=h,this.g={}}j(Mr,ee);var ls=[];function Vr(h){q(h.g,function(x,_){this.g.hasOwnProperty(_)&&on(x)},h),h.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Vr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=d.JSON.stringify,us=d.JSON.parse,hi=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function cs(){}cs.prototype.h=null;function Rs(h){return h.h||(h.h=h.i())}function Ps(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ye.call(this,"d")}j(ir,ye);function Ns(){ye.call(this,"c")}j(Ns,ye);var ds={},xl=null;function Ji(){return xl=xl||new Ue}ds.La="serverreachability";function bl(h){ye.call(this,ds.La,h)}j(bl,ye);function Ds(h){const x=Ji();vt(x,new bl(x))}ds.STAT_EVENT="statevent";function wl(h,x){ye.call(this,ds.STAT_EVENT,h),this.stat=x}j(wl,ye);function Mt(h){const x=Ji();vt(x,new wl(x,h))}ds.Ma="timingevent";function Yo(h,x){ye.call(this,ds.Ma,h),this.size=x}j(Yo,ye);function Fr(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function eo(h,x,_,R,Y,te){h.info(function(){if(h.g)if(te)for(var ge="",nt=te.split("&"),Wt=0;Wt<nt.length;Wt++){var Ke=nt[Wt].split("=");if(1<Ke.length){var Xt=Ke[0];Ke=Ke[1];var Bt=Xt.split("_");ge=2<=Bt.length&&Bt[1]=="type"?ge+(Xt+"="+Ke+"&"):ge+(Xt+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+x+`
`+_+`
`+ge})}function Xo(h,x,_,R,Y,te,ge){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+x+`
`+_+`
`+te+" "+ge})}function Lr(h,x,_,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+sf(h,_)+(R?" "+R:"")})}function _l(h,x){h.info(function(){return"TIMEOUT: "+x})}Zi.prototype.info=function(){};function sf(h,x){if(!h.g)return x;if(!x)return null;try{var _=JSON.parse(x);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var R=_[h];if(!(2>R.length)){var Y=R[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return mt(_)}catch(nt){return x}}var Jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function to(){}j(to,cs),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},Br=new to;function Or(h,x,_,R){this.j=h,this.i=x,this.l=_,this.R=R||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cc}function cc(){this.i=null,this.g="",this.h=!1}var Sl={},Zo={};function ea(h,x,_){h.L=1,h.v=yi(ar(x)),h.m=_,h.P=!0,Tl(h,null)}function Tl(h,x){h.F=Date.now(),ut(h),h.A=ar(h.v);var _=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),xi(_.i,"t",R),h.C=0,_=h.j.J,h.h=new cc,h.g=kc(h.j,_?x:null,!h.m),0<h.O&&(h.M=new vr(w(h.Y,h,h.g),h.O)),x=h.U,_=h.g,R=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ls[0]=Y.toString()),Y=ls);for(var te=0;te<Y.length;te++){var ge=$n(_,Y[te],R||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Ds(),eo(h.i,h.u,h.A,h.l,h.R,h.m)}Or.prototype.ca=function(h){h=h.target;const x=this.M;x&&Hn(h)==3?x.j():this.Y(h)},Or.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=Hn(this.g);var x=this.g.Ba();const wr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Il(this.g)))){this.J||Bt!=4||x==7||(x==8||0>=wr?Ds(3):Ds(2)),no(this);var _=this.g.Z();this.X=_;t:if(dc(this)){var R=Il(this.g);h="";var Y=R.length,te=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){xr(this),fi(this);var ge="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,h+=this.h.i.decode(R[x],{stream:!(te&&x==Y-1)});R.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,Xo(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Wt=this.g;if((nt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(nt)){var Ke=nt;break t}}Ke=null}if(_=Ke)Lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,El(this,_);else{this.o=!1,this.s=3,Mt(12),xr(this),fi(this);break e}}if(this.P){_=!0;let ur;for(;!this.J&&this.C<ge.length;)if(ur=of(this,ge),ur==Zo){Bt==4&&(this.s=4,Mt(14),_=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==Sl){this.s=4,Mt(15),Lr(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else Lr(this.i,this.l,ur,null),El(this,ur);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ge.length!=0||this.h.h||(this.s=1,Mt(16),_=!1),this.o=this.o&&_,!_)Lr(this.i,this.l,ge,"[Invalid Chunked Response]"),xr(this),fi(this);else if(0<ge.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Pl(Xt),Xt.M=!0,Mt(11))}}else Lr(this.i,this.l,ge,null),El(this,ge);Bt==4&&xr(this),this.o&&!this.J&&(Bt==4?da(this.j,this):(this.o=!1,ut(this)))}else oa(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),xr(this),fi(this)}}}catch(Bt){}finally{}};function dc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function of(h,x){var _=h.C,R=x.indexOf(`
`,_);return R==-1?Zo:(_=Number(x.substring(_,R)),isNaN(_)?Sl:(R+=1,R+_>x.length?Zo:(x=x.slice(R,R+_),h.C=R+_,x)))}Or.prototype.cancel=function(){this.J=!0,xr(this)};function ut(h){h.S=Date.now()+h.I,hc(h,h.I)}function hc(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Fr(w(h.ba,h),x)}function no(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Or.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(_l(this.i,this.A),this.L!=2&&(Ds(),Mt(17)),xr(this),this.s=2,fi(this)):hc(this,this.S-h)};function fi(h){h.j.G==0||h.J||da(h.j,h)}function xr(h){no(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,Vr(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function El(h,x){try{var _=h.j;if(_.G!=0&&(_.g==h||Dn(_.h,h))){if(!h.K&&Dn(_.h,h)&&_.G==3){try{var R=_.Da.g.parse(x)}catch(Ke){R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)ca(_),Hr(_);else break e;ua(_),Mt(18)}}else _.za=Y[1],0<_.za-_.T&&37500>Y[2]&&_.F&&_.v==0&&!_.C&&(_.C=Fr(w(_.Za,_),6e3));if(1>=pc(_.h)&&_.ca){try{_.ca()}catch(Ke){}_.ca=void 0}}else Bs(_,11)}else if((h.K||_.g==h)&&ca(_),!B(x))for(Y=_.Da.g.parse(x),x=0;x<Y.length;x++){let Ke=Y[x];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const Xt=Ke[3];Xt!=null&&(_.la=Xt,_.j.info("VER="+_.la));const Bt=Ke[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const wr=Ke[5];wr!=null&&typeof wr=="number"&&0<wr&&(R=1.5*wr,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const ur=h.g;if(ur){const uo=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var te=R.h;te.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(jl(te,te.h),te.h=null))}if(R.D){const fa=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(R.ya=fa,ot(R.I,R.D,fa))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ge=h;if(R.qa=Cc(R,R.J?R.ia:null,R.W),ge.K){mc(R.h,ge);var nt=ge,Wt=R.L;Wt&&(nt.I=Wt),nt.B&&(no(nt),ut(nt)),R.g=ge}else lo(R);0<_.i.length&&ms(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Bs(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Bs(_,7):un(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}Ds(4)}catch(Ke){}}var fc=class{constructor(h,x){this.g=h,this.map=x}};function ro(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function or(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function pc(h){return h.h?1:h.g?h.g.size:0}function Dn(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function jl(h,x){h.g?h.g.add(x):h.h=x}function mc(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}ro.prototype.cancel=function(){if(this.i=gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function gc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const _ of h.g.values())x=x.concat(_.D);return x}return I(h.i)}function ta(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map!="undefined"&&h instanceof Map||typeof Set!="undefined"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var x=[],_=h.length,R=0;R<_;R++)x.push(h[R]);return x}x=[],_=0;for(R in h)x[_++]=h[R];return x}function na(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map!="undefined"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set!="undefined"&&h instanceof Set)){if(f(h)||typeof h=="string"){var x=[];h=h.length;for(var _=0;_<h;_++)x.push(_);return x}x=[],_=0;for(const R in h)x[_++]=R;return x}}}function pi(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var _=na(h),R=ta(h),Y=R.length,te=0;te<Y;te++)x.call(void 0,R[te],_&&_[te],h)}var so=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(h,x){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var R=h[_].indexOf("="),Y=null;if(0<=R){var te=h[_].substring(0,R);Y=h[_].substring(R+1)}else te=h[_];x(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ms(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ms){this.h=h.h,io(this,h.j),this.o=h.o,this.g=h.g,mi(this,h.s),this.l=h.l;var x=h.i,_=new hs;_.i=x.i,x.g&&(_.g=new Map(x.g),_.h=x.h),gi(this,_),this.m=h.m}else h&&(x=String(h).match(so))?(this.h=!1,io(this,x[1]||"",!0),this.o=qe(x[2]||""),this.g=qe(x[3]||"",!0),mi(this,x[4]),this.l=qe(x[5]||"",!0),gi(this,x[6]||"",!0),this.m=qe(x[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}Ms.prototype.toString=function(){var h=[],x=this.j;x&&h.push(vi(x,ra,!0),":");var _=this.g;return(_||x=="file")&&(h.push("//"),(x=this.o)&&h.push(vi(x,ra,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(vi(_,_.charAt(0)=="/"?xc:vc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",vi(_,Cl)),h.join("")};function ar(h){return new Ms(h)}function io(h,x,_){h.j=_?qe(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function mi(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function gi(h,x,_){x instanceof hs?(h.i=x,fs(h.i,h.h)):(_||(x=vi(x,bc)),h.i=new hs(x,h.h))}function ot(h,x,_){h.i.set(x,_)}function yi(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qe(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function vi(h,x,_){return typeof h=="string"?(h=encodeURI(h).replace(x,yc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ra=/[#\/\?@]/g,vc=/[#\?:]/g,xc=/[#\?]/g,bc=/[#\?@]/g,Cl=/#/g;function hs(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function ln(h){h.g||(h.g=new Map,h.h=0,h.i&&af(h.i,function(x,_){h.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}t=hs.prototype,t.add=function(h,x){ln(this),this.i=null,h=br(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(x),this.h+=1,this};function $r(h,x){ln(h),x=br(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ur(h,x){return ln(h),x=br(h,x),h.g.has(x)}t.forEach=function(h,x){ln(this),this.g.forEach(function(_,R){_.forEach(function(Y){h.call(x,Y,R,this)},this)},this)},t.na=function(){ln(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),_=[];for(let R=0;R<x.length;R++){const Y=h[R];for(let te=0;te<Y.length;te++)_.push(x[R])}return _},t.V=function(h){ln(this);let x=[];if(typeof h=="string")Ur(this,h)&&(x=x.concat(this.g.get(br(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)x=x.concat(h[_])}return x},t.set=function(h,x){return ln(this),this.i=null,h=br(this,h),Ur(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function xi(h,x,_){$r(h,x),0<_.length&&(h.i=null,h.g.set(br(h,x),I(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var _=0;_<x.length;_++){var R=x[_];const te=encodeURIComponent(String(R)),ge=this.V(R);for(R=0;R<ge.length;R++){var Y=te;ge[R]!==""&&(Y+="="+encodeURIComponent(String(ge[R]))),h.push(Y)}}return this.i=h.join("&")};function br(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function fs(h,x){x&&!h.j&&(ln(h),h.i=null,h.g.forEach(function(_,R){var Y=R.toLowerCase();R!=Y&&($r(this,R),xi(this,Y,_))},h)),h.j=x}function lf(h,x){const _=new Zi;if(d.Image){const R=new Image;R.onload=S(Gn,_,"TestLoadImage: loaded",!0,x,R),R.onerror=S(Gn,_,"TestLoadImage: error",!1,x,R),R.onabort=S(Gn,_,"TestLoadImage: abort",!1,x,R),R.ontimeout=S(Gn,_,"TestLoadImage: timeout",!1,x,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function wc(h,x){const _=new Zi,R=new AbortController,Y=setTimeout(()=>{R.abort(),Gn(_,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(te=>{clearTimeout(Y),te.ok?Gn(_,"TestPingServer: ok",!0,x):Gn(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Gn(_,"TestPingServer: error",!1,x)})}function Gn(h,x,_,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(_)}catch(te){}}function uf(){this.g=new hi}function _c(h,x,_){const R=_||"";try{pi(h,function(Y,te){let ge=Y;p(Y)&&(ge=mt(Y)),x.push(R+te+"="+encodeURIComponent(ge))})}catch(Y){throw x.push(R+"type="+encodeURIComponent("_badmap")),Y}}function Vs(h){this.l=h.Ub||null,this.j=h.eb||!1}j(Vs,cs),Vs.prototype.g=function(){return new oo(this.l,this.j)},Vs.prototype.i=(function(h){return function(){return h}})({});function oo(h,x){Ue.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(oo,Ue),t=oo.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Gr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?zr(this):Gr(this),this.readyState==3&&Sc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,zr(this))},t.Qa=function(h){this.g&&(this.response=h,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Gr(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=x.next();return h.join(`\r
`)};function Gr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fs(h){let x="";return q(h,function(_,R){x+=R,x+=":",x+=_,x+=`\r
`}),x}function bi(h,x,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=Fs(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):ot(h,x,_))}function xt(h){Ue.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(xt,Ue);var cf=/^https?$/i,kl=["POST","PUT"];t=xt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Rs(this.o):Rs(Br),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(te){ao(this,te);return}if(h=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)_.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const te of R.keys())_.set(te,R.get(te));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(kl,x,void 0))||R||Y||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of _)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){ao(this,te)}};function ao(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,sa(h),lr(h)}function sa(h){h.A||(h.A=!0,vt(h,"complete"),vt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,vt(this,"complete"),vt(this,"abort"),lr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Al(this):this.bb())},t.bb=function(){Al(this)};function Al(h){if(h.h&&typeof u!="undefined"&&(!h.v[1]||Hn(h)!=4||h.Z()!=2)){if(h.u&&Hn(h)==4)as(h.Ea,0,h);else if(vt(h,"readystatechange"),Hn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var R;if(R=ge===0){var Y=String(h.D).match(so)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),R=!cf.test(Y?Y.toLowerCase():"")}_=R}if(_)vt(h,"complete"),vt(h,"success");else{h.m=6;try{var te=2<Hn(h)?h.g.statusText:""}catch(nt){te=""}h.l=te+" ["+h.Z()+"]",sa(h)}}finally{lr(h)}}}}function lr(h,x){if(h.g){ia(h);const _=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||vt(h,"ready");try{_.onreadystatechange=R}catch(Y){}}}function ia(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Hn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch(h){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(h){return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),us(x)}};function Il(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch(x){return null}}function oa(h){const x={};h=(h.g&&2<=Hn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(B(h[R]))continue;var _=M(h[R]);const Y=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const te=x[Y]||[];x[Y]=te,te.push(_)}E(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(h,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||x}function Rl(h){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,h),this.cb=ps("retryDelaySeedMs",1e4,h),this.Wa=ps("forwardChannelMaxRetries",2,h),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ro(h&&h.concurrentRequestLimit),this.Da=new uf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rl.prototype,t.la=8,t.G=1,t.connect=function(h,x,_,R){Mt(0),this.W=h,this.H=x||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Cc(this,null,this.W),ms(this)};function un(h){if(aa(h),h.G==3){var x=h.U++,_=ar(h.I);if(ot(_,"SID",h.K),ot(_,"RID",x),ot(_,"TYPE","terminate"),Ls(h,_),x=new Or(h,h.j,x),x.L=2,x.v=yi(ar(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(x.v.toString(),"")}catch(R){}!_&&d.Image&&(new Image().src=x.v,_=!0),_||(x.g=kc(x.j,null),x.g.ea(x.v)),x.F=Date.now(),ut(x)}jc(h)}function Hr(h){h.g&&(Pl(h),h.g.cancel(),h.g=null)}function aa(h){Hr(h),h.u&&(d.clearTimeout(h.u),h.u=null),ca(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ms(h){if(!or(h.h)&&!h.s){h.s=!0;var x=h.Ga;ne||oe(),Q||(ne(),Q=!0),ae.add(x,h),h.B=0}}function df(h,x){return pc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Fr(w(h.Ga,h,x),Ec(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Or(this,this.j,h);let te=this.o;if(this.S&&(te?(te=T(te),D(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=wi(this,Y,x),_=ar(this.I),ot(_,"RID",h),ot(_,"CVER",22),this.D&&ot(_,"X-HTTP-Session-Id",this.D),Ls(this,_),te&&(this.O?x="headers="+encodeURIComponent(String(Fs(te)))+"&"+x:this.m&&bi(_,this.m,te)),jl(this.h,Y),this.Ua&&ot(_,"TYPE","init"),this.P?(ot(_,"$req",x),ot(_,"SID","null"),Y.T=!0,ea(Y,_,null)):ea(Y,_,x),this.G=2}}else this.G==3&&(h?la(this,h):this.i.length==0||or(this.h)||la(this))};function la(h,x){var _;x?_=x.l:_=h.U++;const R=ar(h.I);ot(R,"SID",h.K),ot(R,"RID",_),ot(R,"AID",h.T),Ls(h,R),h.m&&h.o&&bi(R,h.m,h.o),_=new Or(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),x&&(h.i=x.D.concat(h.i)),x=wi(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),jl(h.h,_),ea(_,R,x)}function Ls(h,x){h.H&&q(h.H,function(_,R){ot(x,R,_)}),h.l&&pi({},function(_,R){ot(x,R,_)})}function wi(h,x,_){_=Math.min(h.i.length,_);var R=h.l?w(h.l.Na,h.l,h):null;e:{var Y=h.i;let te=-1;for(;;){const ge=["count="+_];te==-1?0<_?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let nt=!0;for(let Wt=0;Wt<_;Wt++){let Ke=Y[Wt].g;const Xt=Y[Wt].map;if(Ke-=te,0>Ke)te=Math.max(0,Y[Wt].g-100),nt=!1;else try{_c(Xt,ge,"req"+Ke+"_")}catch(Bt){R&&R(Xt)}}if(nt){R=ge.join("&");break e}}}return h=h.i.splice(0,_),x.D=h,R}function lo(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ne||oe(),Q||(ne(),Q=!0),ae.add(x,h),h.v=0}}function ua(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Fr(w(h.Fa,h),Ec(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Fr(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Hr(this),Tc(this))};function Pl(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Tc(h){h.g=new Or(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=ar(h.qa);ot(x,"RID","rpc"),ot(x,"SID",h.K),ot(x,"AID",h.T),ot(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(x,"TO",h.ja),ot(x,"TYPE","xmlhttp"),Ls(h,x),h.m&&h.o&&bi(x,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=yi(ar(x)),_.m=null,_.P=!0,Tl(_,h)}t.Za=function(){this.C!=null&&(this.C=null,Hr(this),ua(this),Mt(19))};function ca(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function da(h,x){var _=null;if(h.g==x){ca(h),Pl(h),h.g=null;var R=2}else if(Dn(h.h,x))_=x.D,mc(h.h,x),R=1;else return;if(h.G!=0){if(x.o)if(R==1){_=x.m?x.m.length:0,x=Date.now()-x.F;var Y=h.B;R=Ji(),vt(R,new Yo(R,_)),ms(h)}else lo(h);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(R==1&&df(h,x)||R==2&&ua(h)))switch(_&&0<_.length&&(x=h.h,x.i=x.i.concat(_)),Y){case 1:Bs(h,5);break;case 4:Bs(h,10);break;case 3:Bs(h,6);break;default:Bs(h,2)}}}function Ec(h,x){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*x}function Bs(h,x){if(h.j.info("Error code "+x),x==2){var _=w(h.fb,h),R=h.Xa;const Y=!R;R=new Ms(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||io(R,"https"),yi(R),Y?lf(R.toString(),_):wc(R.toString(),_)}else Mt(2);h.G=0,h.l&&h.l.sa(x),jc(h),aa(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function jc(h){if(h.G=0,h.ka=[],h.l){const x=gc(h.h);(x.length!=0||h.i.length!=0)&&(k(h.ka,x),k(h.ka,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.ra()}}function Cc(h,x,_){var R=_ instanceof Ms?ar(_):new Ms(_);if(R.g!="")x&&(R.g=x+"."+R.g),mi(R,R.s);else{var Y=d.location;R=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new Ms(null);R&&io(te,R),x&&(te.g=x),Y&&mi(te,Y),_&&(te.l=_),R=te}return _=h.D,x=h.ya,_&&x&&ot(R,_,x),ot(R,"VER",h.la),Ls(h,R),R}function kc(h,x,_){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new xt(new Vs({eb:_})):new xt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nl(){}t=Nl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ha(){}ha.prototype.g=function(h,x){return new Mn(h,x)};function Mn(h,x){Ue.call(this),this.g=new Rl(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!B(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new gs(this)}j(Mn,Ue),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){un(this.g)},Mn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=mt(h),h=_);x.i.push(new fc(x.Ya++,h)),x.G==3&&ms(x)},Mn.prototype.N=function(){this.g.l=null,delete this.j,un(this.g),delete this.g,Mn.aa.N.call(this)};function Ac(h){ir.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const _ in x){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}j(Ac,ir);function Ic(){Ns.call(this),this.status=1}j(Ic,Ns);function gs(h){this.g=h}j(gs,Nl),gs.prototype.ua=function(){vt(this.g,"a")},gs.prototype.ta=function(h){vt(this.g,new Ac(h))},gs.prototype.sa=function(h){vt(this.g,new Ic)},gs.prototype.ra=function(){vt(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,d_=function(){return new ha},c_=function(){return Ji()},u_=ds,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jo.NO_ERROR=0,Jo.TIMEOUT=8,Jo.HTTP_ERROR=6,qd=Jo,uc.COMPLETE="complete",l_=uc,Ps.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,cu=Ps,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,a_=xt}).apply(typeof Ed!="undefined"?Ed:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const F0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Zw("@firebase/firestore");function iu(){return Oo.logLevel}function Te(t,...e){if(Oo.logLevel<=Xe.DEBUG){const n=e.map(Dg);Oo.debug(`Firestore (${hl}): ${t}`,...n)}}function ii(t,...e){if(Oo.logLevel<=Xe.ERROR){const n=e.map(Dg);Oo.error(`Firestore (${hl}): ${t}`,...n)}}function Xa(t,...e){if(Oo.logLevel<=Xe.WARN){const n=e.map(Dg);Oo.warn(`Firestore (${hl}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function st(t,e){t||Me()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends dl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class QA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let l=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ni,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ni)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new h_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new An(e)}}class XA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){st(this.o===void 0);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?i(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string"),this.R=n.token,new ZA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tI(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<n&&(r+=e.charAt(i[l]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function Ja(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Qt(0,0))}static max(){return new Be(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ru.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ru?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const l=e.get(i),u=n.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Ru{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Ru{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return nI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const l=()=>{if(r.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(l(),i++)}if(l(),u)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(lt.fromString(e))}static fromName(e){return new ke(lt.fromString(e).popFirst(5))}static empty(){return new ke(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new lt(e.slice()))}}function rI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Hi(i,ke.empty(),e)}function sI(t){return new Hi(t.readTime,t.key,-1)}class Hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hi(Be.min(),ke.empty(),-1)}static max(){return new Hi(Be.max(),ke.empty(),-1)}}function iI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==oI)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,l=0,u=!1;e.forEach((d=>{++i,d.next((()=>{++l,u&&l===i&&n()}),(f=>r(f)))})),u=!0,l===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,l)=>{r.push(n.call(this,i,l))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const l=e.length,u=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((g=>{u[p]=g,++d,d===l&&r(u)}),(g=>i(g)))}}))}static doWhile(e,n){return new de(((r,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):r()};l()}))}}function lI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mg.oe=-1;function Rh(t){return t==null}function lh(t){return t===0&&1/t==-1/0}function uI(t){return typeof t=="number"&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,r,i,l){this.key=e,this.value=n,this.color=r!=null?r:gn.RED,this.left=i!=null?i:gn.EMPTY,this.right=l!=null?l:gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,l){return new gn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,r),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,i,l){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new bn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new m_("Invalid base64 string: "+l):l}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let u=0;u<i.length;++u)l+=String.fromCharCode(i[u]);return l})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const cI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(st(!!t),typeof t=="string"){let e=0;const n=cI.exec(t);if(st(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vg(t){const e=t.mapValue.fields.__previous_value__;return Ph(e)?Vg(e):e}function Pu(t){const e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,l,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Nu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={mapValue:{}};function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ph(t)?4:fI(t)?9007199254740991:hI(t)?10:11:Me()}function As(t,e){if(t===e)return!0;const n=Uo(t);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pu(t).isEqual(Pu(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const u=Wi(i.timestampValue),d=Wi(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return $o(i.bytesValue).isEqual($o(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Ft(i.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Ft(i.integerValue)===Ft(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const u=Ft(i.doubleValue),d=Ft(l.doubleValue);return u===d?lh(u)===lh(d):isNaN(u)&&isNaN(d)}return!1})(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],As);case 10:case 11:return(function(i,l){const u=i.mapValue.fields||{},d=l.mapValue.fields||{};if(L0(u)!==L0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!As(u[f],d[f])))return!1;return!0})(t,e);default:return Me()}}function Du(t,e){return(t.values||[]).find((n=>As(n,e)))!==void 0}function Za(t,e){if(t===e)return 0;const n=Uo(t),r=Uo(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const d=Ft(l.integerValue||l.doubleValue),f=Ft(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return O0(t.timestampValue,e.timestampValue);case 4:return O0(Pu(t),Pu(e));case 5:return et(t.stringValue,e.stringValue);case 6:return(function(l,u){const d=$o(l),f=$o(u);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const d=l.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=et(d[p],f[p]);if(g!==0)return g}return et(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const d=et(Ft(l.latitude),Ft(u.latitude));return d!==0?d:et(Ft(l.longitude),Ft(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $0(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var d,f,p,g;const v=l.fields||{},w=u.fields||{},S=(d=v.value)===null||d===void 0?void 0:d.arrayValue,j=(f=w.value)===null||f===void 0?void 0:f.arrayValue,I=et(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=j==null?void 0:j.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:$0(S,j)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Cd.mapValue&&u===Cd.mapValue)return 0;if(l===Cd.mapValue)return 1;if(u===Cd.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const w=et(f[v],g[v]);if(w!==0)return w;const S=Za(d[f[v]],p[g[v]]);if(S!==0)return S}return et(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Me()}}function O0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Wi(t),r=Wi(e),i=et(n.seconds,r.seconds);return i!==0?i:et(n.nanos,r.nanos)}function $0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const l=Za(n[i],r[i]);if(l)return l}return et(n.length,r.length)}function el(t){return Lm(t)}function Lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $o(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const l of n.values||[])i?i=!1:r+=",",r+=Lm(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const u of r)l?l=!1:i+=",",i+=`${u}:${Lm(n.fields[u])}`;return i+"}"})(t.mapValue):Me()}function uh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Fg(t){return!!t&&"arrayValue"in t}function U0(t){return!!t&&"nullValue"in t}function z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kd(t){return!!t&&"mapValue"in t}function hI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=vu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach(((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}u?r[d.lastSegment()]=vu(u):i.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,i)}delete(e){const n=this.field(e.popLast());Kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new Zn(vu(this.value))}}function g_(t){const e=[];return Wo(t.fields,((n,r)=>{const i=new vn([n]);if(Kd(r)){const l=g_(r.mapValue).fields;if(l.length===0)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)})),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,i,l,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,Be.min(),Be.min(),Be.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new Rn(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new Rn(e,2,n,Be.min(),Be.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Be.min(),Be.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.position=e,this.inclusive=n}}function G0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const l=e[i],u=t.position[i];if(l.field.isKeyField()?r=ke.comparator(ke.fromName(u.referenceValue),n.key):r=Za(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function H0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!As(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function pI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{}class Ht extends y_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gI(e,n,r):n==="array-contains"?new xI(e,r):n==="in"?new bI(e,r):n==="not-in"?new wI(e,r):n==="array-contains-any"?new _I(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yI(e,r):new vI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Za(n,this.value)):n!==null&&Uo(this.value)===Uo(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends y_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rs(e,n)}matches(e){return v_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function v_(t){return t.op==="and"}function x_(t){return mI(t)&&v_(t)}function mI(t){for(const e of t.filters)if(e instanceof rs)return!1;return!0}function Om(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+el(t.value);if(x_(t))return t.filters.map((e=>Om(e))).join(",");{const e=t.filters.map((n=>Om(n))).join(",");return`${t.op}(${e})`}}function b_(t,e){return t instanceof Ht?(function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&As(r.value,i.value)})(t,e):t instanceof rs?(function(r,i){return i instanceof rs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,u,d)=>l&&b_(u,i.filters[d])),!0):!1})(t,e):void Me()}function w_(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(t):t instanceof rs?(function(n){return n.op.toString()+" {"+n.getFilters().map(w_).join(" ,")+"}"})(t):"Filter"}class gI extends Ht{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends Ht{constructor(e,n){super(e,"in",n),this.keys=__("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vI extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=__("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function __(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class xI extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fg(n)&&Du(n.arrayValue,this.value)}}class bI extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class wI extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Du(this.value.arrayValue,n)}}class _I extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n=null,r=[],i=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=d,this.ue=null}}function W0(t,e=null,n=[],r=[],i=null,l=null,u=null){return new SI(t,e,n,r,i,l,u)}function Lg(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Om(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>el(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>el(r))).join(",")),e.ue=n}return e.ue}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H0(t.startAt,e.startAt)&&H0(t.endAt,e.endAt)}function $m(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n=null,r=[],i=[],l=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TI(t,e,n,r,i,l,u,d){return new ci(t,e,n,r,i,l,u,d)}function Og(t){return new ci(t)}function q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $g(t){return t.collectionGroup!==null}function Ka(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new bn(vn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Mu(l,r))})),n.has(vn.keyField().canonicalString())||e.ce.push(new Mu(vn.keyField(),r))}return e.ce}function Ss(t){const e=Oe(t);return e.le||(e.le=EI(e,Ka(t))),e.le}function EI(t,e){if(t.limitType==="F")return W0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Mu(i.field,l)}));const n=t.endAt?new tl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tl(t.startAt.position,t.startAt.inclusive):null;return W0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Um(t,e){const n=t.filters.concat([e]);return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ch(t,e,n){return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nh(t,e){return Bg(Ss(t),Ss(e))&&t.limitType===e.limitType}function S_(t){return`${Lg(Ss(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>w_(i))).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>el(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>el(i))).join(",")),`Target(${r})`})(Ss(t))}; limitType=${t.limitType})`}function Dh(t,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,i){for(const l of Ka(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(u,d,f){const p=G0(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,Ka(r),i)||r.endAt&&!(function(u,d,f){const p=G0(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,Ka(r),i))})(t,e)}function jI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T_(t){return(e,n)=>{let r=!1;for(const i of Ka(t)){const l=CI(i,e,n);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function CI(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(l,u,d){const f=u.data.field(l),p=d.data.field(l);return f!==null&&p!==null?Za(f,p):Me()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,((n,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new jt(ke.comparator);function oi(){return kI}const E_=new jt(ke.comparator);function du(...t){let e=E_;for(const n of t)e=e.insert(n.key,n);return e}function j_(t){let e=E_;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Mo(){return xu()}function C_(){return xu()}function xu(){return new fl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const AI=new jt(ke.comparator),II=new bn(ke.comparator);function We(...t){let e=II;for(const n of t)e=e.add(n);return e}const RI=new bn(et);function PI(){return RI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function k_(t){return{integerValue:""+t}}function NI(t,e){return uI(e)?k_(e):Ug(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function DI(t,e,n){return t instanceof Vu?(function(i,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Ph(l)&&(l=Vg(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}})(n,e):t instanceof Fu?I_(t,e):t instanceof Lu?R_(t,e):(function(i,l){const u=A_(i,l),d=K0(u)+K0(i.Pe);return Bm(u)&&Bm(i.Pe)?k_(d):Ug(i.serializer,d)})(t,e)}function MI(t,e,n){return t instanceof Fu?I_(t,e):t instanceof Lu?R_(t,e):n}function A_(t,e){return t instanceof dh?(function(r){return Bm(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Vu extends Mh{}class Fu extends Mh{constructor(e){super(),this.elements=e}}function I_(t,e){const n=P_(e);for(const r of t.elements)n.some((i=>As(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Lu extends Mh{constructor(e){super(),this.elements=e}}function R_(t,e){let n=P_(e);for(const r of t.elements)n=n.filter((i=>!As(i,r)));return{arrayValue:{values:n}}}class dh extends Mh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function K0(t){return Ft(t.integerValue||t.doubleValue)}function P_(t){return Fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.field=e,this.transform=n}}function FI(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Fu&&i instanceof Fu||r instanceof Lu&&i instanceof Lu?Ja(r.elements,i.elements,As):r instanceof dh&&i instanceof dh?As(r.Pe,i.Pe):r instanceof Vu&&i instanceof Vu})(t.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vh{}function N_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zg(t.key,Pr.none()):new Qu(t.key,t.data,Pr.none());{const n=t.data,r=Zn.empty();let i=new bn(vn.comparator);for(let l of e.fields)if(!i.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),i=i.add(l)}return new Qi(t.key,r,new pr(i.toArray()),Pr.none())}}function BI(t,e,n){t instanceof Qu?(function(i,l,u){const d=i.value.clone(),f=Y0(i.fieldTransforms,l,u.transformResults);d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Qi?(function(i,l,u){if(!Qd(i.precondition,l))return void l.convertToUnknownDocument(u.version);const d=Y0(i.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(D_(i)),f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(i,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function bu(t,e,n,r){return t instanceof Qu?(function(l,u,d,f){if(!Qd(l.precondition,u))return d;const p=l.value.clone(),g=X0(l.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qi?(function(l,u,d,f){if(!Qd(l.precondition,u))return d;const p=X0(l.fieldTransforms,f,u),g=u.data;return g.setAll(D_(l)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,d){return Qd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(t,e,n)}function OI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),l=A_(r.transform,i||null);l!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,l))}return n||null}function Q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,((l,u)=>FI(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Vh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends Vh{constructor(e,n,r,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function D_(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Y0(t,e,n){const r=new Map;st(t.length===n.length);for(let i=0;i<n.length;i++){const l=t[i],u=l.transform,d=e.data.field(l.field);r.set(l.field,MI(u,d,n[i]))}return r}function X0(t,e,n){const r=new Map;for(const i of t){const l=i.transform,u=n.data.field(i.field);r.set(i.field,DI(l,u,e))}return r}class zg extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $I extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&BI(l,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C_();return this.mutations.forEach((i=>{const l=e.get(i.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(i.key)?null:d;const f=N_(u,d);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,((n,r)=>Q0(n,r)))&&Ja(this.baseMutations,e.baseMutations,((n,r)=>Q0(n,r)))}}class Gg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length);let i=(function(){return AI})();const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,r[u].version);return new Gg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Qe;function HI(t){switch(t){default:return Me();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function M_(t){if(t===void 0)return ii("GRPC error has no .code"),ie.UNKNOWN;switch(t){case $t.OK:return ie.OK;case $t.CANCELLED:return ie.CANCELLED;case $t.UNKNOWN:return ie.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ie.INTERNAL;case $t.UNAVAILABLE:return ie.UNAVAILABLE;case $t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case $t.NOT_FOUND:return ie.NOT_FOUND;case $t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case $t.ABORTED:return ie.ABORTED;case $t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case $t.DATA_LOSS:return ie.DATA_LOSS;default:return Me()}}(Qe=$t||($t={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Lo([4294967295,4294967295],0);function J0(t){const e=WI().encode(t),n=new o_;return n.update(e),new Uint8Array(n.digest())}function Z0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Lo([n,r],0),new Lo([i,l],0)]}class Hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Lo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Lo.fromNumber(r)));return i.compare(qI)===1&&(i=new Lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=J0(e),[r,i]=Z0(n);for(let l=0;l<this.hashCount;l++){const u=this.Ee(r,i,l);if(!this.de(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Hg(l,i,n);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.Ie===0)return;const n=J0(e),[r,i]=Z0(n);for(let l=0;l<this.hashCount;l++){const u=this.Ee(r,i,l);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(Be.min(),i,new jt(et),oi(),We())}}class Yu{constructor(e,n,r,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class V_{constructor(e,n){this.targetId=e,this.me=n}}class F_{constructor(e,n,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e1{constructor(){this.fe=0,this.ge=n1(),this.pe=wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),n=We(),r=We();return this.ge.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me()}})),new Yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=n1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KI{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=t1(),this.Qe=new jt(et)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Me()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const l=i.target;if($m(l))if(r===0){const u=new ke(l.path);this.Ue(n,u,Rn.newNoDocument(u,Be.min()))}else st(r===1);else{const u=this.Ye(n);if(u!==r){const d=this.Ze(e),f=d?this.Xe(d,e,u):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=n;let u,d;try{u=$o(r).toUint8Array()}catch(f){if(f instanceof m_)return Xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Hg(u,i,l)}catch(f){return Xa(f instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((l=>{const u=this.Le.tt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((l,u)=>{const d=this.Je(u);if(d){if(l.current&&$m(d.target)){const f=new ke(d.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,Rn.newNoDocument(f,e))}l.be&&(n.set(u,l.ve()),l.Ce())}}));let r=We();this.qe.forEach(((l,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,u)=>u.setReadTime(e)));const i=new Fh(e,n,this.Qe,this.ke,r);return this.ke=oi(),this.qe=t1(),this.Qe=new jt(et),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new e1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bn(et),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new e1),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function t1(){return new jt(ke.comparator)}function n1(){return new jt(ke.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class JI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZI(t,e){return hh(t,e.toTimestamp())}function Ts(t){return st(!!t),Be.fromTimestamp((function(n){const r=Wi(n);return new Qt(r.seconds,r.nanos)})(t))}function Wg(t,e){return Gm(t,e).canonicalString()}function Gm(t,e){const n=(function(i){return new lt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function B_(t){const e=lt.fromString(t);return st(G_(e)),e}function Hm(t,e){return Wg(t.databaseId,e.path)}function zp(t,e){const n=B_(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke($_(n))}function O_(t,e){return Wg(t.databaseId,e)}function eR(t){const e=B_(t);return e.length===4?lt.emptyPath():$_(e)}function Wm(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $_(t){return st(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function r1(t,e,n){return{name:Hm(t,e),fields:n.value.mapValue.fields}}function tR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(st(g===void 0||typeof g=="string"),wn.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array),wn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const g=p.code===void 0?ie.UNKNOWN:M_(p.code);return new ve(g,p.message||"")})(u);n=new F_(r,i,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zp(t,r.document.name),l=Ts(r.document.updateTime),u=r.document.createTime?Ts(r.document.createTime):Be.min(),d=new Zn({mapValue:{fields:r.document.fields}}),f=Rn.newFoundDocument(i,l,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Yd(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zp(t,r.document),l=r.readTime?Ts(r.readTime):Be.min(),u=Rn.newNoDocument(i,l),d=r.removedTargetIds||[];n=new Yd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zp(t,r.document),l=r.removedTargetIds||[];n=new Yd([],l,i,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,u=new GI(i,l),d=r.targetId;n=new V_(d,u)}}return n}function nR(t,e){let n;if(e instanceof Qu)n={update:r1(t,e.key,e.value)};else if(e instanceof zg)n={delete:Hm(t,e.key)};else if(e instanceof Qi)n={update:r1(t,e.key,e.data),updateMask:dR(e.fieldMask)};else{if(!(e instanceof $I))return Me();n={verify:Hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const d=u.transform;if(d instanceof Vu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dh)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Me()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:ZI(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me()})(t,e.precondition)),n}function rR(t,e){return t&&t.length>0?(st(e!==void 0),t.map((n=>(function(i,l){let u=i.updateTime?Ts(i.updateTime):Ts(l);return u.isEqual(Be.min())&&(u=Ts(l)),new LI(u,i.transformResults||[])})(n,e)))):[]}function sR(t,e){return{documents:[O_(t,e.path)]}}function iR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O_(t,i);const l=(function(p){if(p.length!==0)return z_(rs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:Oa(w.field),direction:lR(w.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=zm(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:i}}function oR(t){let e=eR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const w=U_(v);return w instanceof rs&&x_(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((w=>(function(j){return new Mu($a(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let w;return w=typeof v=="object"?v.value:v,Rh(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(v){const w=!!v.before,S=v.values||[];return new tl(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const w=!v.before,S=v.values||[];return new tl(S,w)})(n.endAt)),TI(e,i,u,l,d,"F",f,p)}function aR(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$a(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$a(n.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Me()}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create($a(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return rs.create(n.compositeFilter.filters.map((r=>U_(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me()}})(n.compositeFilter.op))})(t):Me()}function lR(t){return QI[t]}function uR(t){return YI[t]}function cR(t){return XI[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function $a(t){return vn.fromServerFormat(t.fieldPath)}function z_(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(z0(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z0(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:uR(n.op),value:n.value}}})(t):t instanceof rs?(function(n){const r=n.getFilters().map((i=>z_(i)));return r.length===1?r[0]:{compositeFilter:{op:cR(n.op),filters:r}}})(t):Me()}function dR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function G_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,i,l=Be.min(),u=Be.min(),d=wn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.ct=e}}function fR(t){const e=oR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.un=new mR}addToCollectionParentIndex(e,n){return this.un.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Hi.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class mR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bn(lt.comparator),l=!i.has(r);return this.index[n]=i.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new nl(0)}static kn(){return new nl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.changes=new fl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&bu(r.mutation,i,pr.empty(),Qt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const i=Mo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((l=>{let u=du();return l.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Mo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const i=[];return r.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((u,d)=>{n.set(u,d)}))}))}computeViews(e,n,r,i){let l=oi();const u=xu(),d=(function(){return xu()})();return n.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Qi)?l=l.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),bu(g.mutation,p,g.mutation.getFieldMask(),Qt.now())):u.set(p.key,pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,g)=>u.set(p,g))),n.forEach(((p,g)=>{var v;return d.set(p,new yR(g,(v=u.get(p))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=xu();let i=new jt(((u,d)=>u-d)),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||pr.empty();g=d.applyToLocalView(p,g),r.set(f,g);const v=(i.get(d.batchId)||We()).add(f);i=i.insert(d.batchId,v)}))})).next((()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,v=C_();g.forEach((w=>{if(!l.has(w)){const S=N_(n.get(w),r.get(w));S!==null&&v.set(w,S),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$g(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-l.size):de.resolve(Mo());let d=-1,f=l;return u.next((p=>de.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{f=f.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,We()))).next((g=>({batchId:d,changes:j_(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const l=n.collectionGroup;let u=du();return this.indexManager.getCollectionParents(e,l).next((d=>de.forEach(d,(f=>{const p=(function(v,w){return new ci(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,i)))).next((u=>{l.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Rn.newInvalidDocument(g)))}));let d=du();return u.forEach(((f,p)=>{const g=l.get(f);g!==void 0&&bu(g.mutation,p,pr.empty(),Qt.now()),Dh(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return de.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ts(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:fR(i.bundledQuery),readTime:Ts(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.overlays=new jt(ke.comparator),this.Ir=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mo();return de.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,l)=>{this.ht(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=Mo(),l=n.length+1,u=new ke(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let l=new jt(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=Mo(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Mo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=i)););return de.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new zI(n,r));let l=this.Ir.get(n);l===void 0&&(l=We(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Tr=new bn(nn.Er),this.dr=new bn(nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new nn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new ke(new lt([])),r=new nn(n,e),i=new nn(n,e+1),l=[];return this.dr.forEachInRange([r,i],(u=>{this.Vr(u),l.push(u.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ke(new lt([])),r=new nn(n,e),i=new nn(n,e+1);let l=We();return this.dr.forEachInRange([r,i],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new nn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ke.comparator(e.key,n.key)||et(e.wr,n.wr)}static Ar(e,n){return et(e.wr,n.wr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bn(nn.Er)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UI(l,n,r,i);this.mutationQueue.push(u);for(const d of i)this.br=this.br.add(new nn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,i],(u=>{const d=this.Dr(u.wr);l.push(d)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(et);return n.forEach((i=>{const l=new nn(i,0),u=new nn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,u],(d=>{r=r.add(d.wr)}))})),de.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let l=r;ke.isDocumentKey(l)||(l=l.child(""));const u=new nn(new ke(l),0);let d=new bn(et);return this.br.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.wr)),!0)}),u),de.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return de.forEach(n.mutations,(i=>{const l=new nn(i.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new nn(n,0),i=this.br.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.Mr=e,this.docs=(function(){return new jt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),l=i?i.size:0,u=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Rn.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let l=oi();const u=n.path,d=new ke(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||iI(sI(g),r)<=0||(i.has(g.key)||Dh(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,i){Me()}Or(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new TR(this)}getSize(e){return de.resolve(this.size)}}class TR extends gR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.persistence=e,this.Nr=new fl((n=>Lg(n)),Bg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qg,this.targetCount=0,this.kr=nl.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),de.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Kn(n),de.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const l=[];return this.Nr.forEach(((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),de.waitFor(l).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((u=>{l.push(i.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Mg(0),this.Kr=!1,this.Kr=!0,this.$r=new wR,this.referenceDelegate=e(this),this.Ur=new ER(this),this.indexManager=new pR,this.remoteDocumentCache=(function(i){return new SR(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new hR(n),this.Gr=new xR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _R(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new CR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((l=>this.referenceDelegate.jr(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Hr(e,n){return de.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class CR extends aI{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Jr=new qg,this.Yr=null}static Zr(e){return new Kg(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),de.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,(r=>{const i=ke.fromPath(r);return this.ei(e,i).next((l=>{l||n.removeEntry(i,Be.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return de.or([()=>de.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=We(),i=We();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Qg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Pk()?8:lI(Ik())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const l={result:null};return this.Yi(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.Zi(e,n,i,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new kR;return this.Xi(e,n,u).next((d=>{if(l.result=d,this.zi)return this.es(e,n,u,d.size)}))})).next((()=>l.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(iu()<=Xe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(iu()<=Xe.DEBUG&&Te("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(iu()<=Xe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(n))):de.resolve())}Yi(e,n){if(q0(n))return de.resolve(null);let r=Ss(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ch(n,null,"F"),r=Ss(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=We(...l);return this.Ji.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.ts(n,d);return this.ns(n,p,u,f.readTime)?this.Yi(e,ch(n,null,"F")):this.rs(e,p,n,f)}))))})))))}Zi(e,n,r,i){return q0(n)||i.isEqual(Be.min())?de.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const u=this.ts(n,l);return this.ns(n,u,r,i)?de.resolve(null):(iu()<=Xe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ba(n)),this.rs(e,u,n,rI(i,-1)).next((d=>d)))}))}ts(e,n){let r=new bn(T_(e));return n.forEach(((i,l)=>{Dh(e,l)&&(r=r.add(l))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Xi(e,n,r){return iu()<=Xe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.Ji.getDocumentsMatchingQuery(e,n,Hi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new jt(et),this._s=new fl((l=>Lg(l)),Bg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function RR(t,e,n,r){return new IR(t,e,n,r)}async function H_(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],d=[];let f=We();for(const p of i){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((p=>({hs:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function PR(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const v=p.batch,w=v.keys();let S=de.resolve();return w.forEach((j=>{S=S.next((()=>g.getEntry(f,j))).next((I=>{const k=p.docVersions.get(j);st(k!==null),I.version.compareTo(k)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),g.addEntry(I)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=We();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function W_(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function NR(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((g,v)=>{const w=i.get(v);if(!w)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,v))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(wn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(v,S),(function(I,k,V){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(w,S,g)&&d.push(n.Ur.updateTargetData(l,S))}));let f=oi(),p=We();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(DR(l,u,e.documentUpdates).next((g=>{f=g.Ps,p=g.Is}))),!r.isEqual(Be.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((v=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return de.waitFor(d).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.os=i,l)))}function DR(t,e,n){let r=We(),i=We();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=oi();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Te("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Ps:u,Is:i}}))}function MR(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function VR(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((l=>l?(i=l,de.resolve(i)):n.Ur.allocateTargetId(r).next((u=>(i=new $i(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function qm(t,e,n){const r=Oe(t),i=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Ku(u))throw u;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function s1(t,e,n){const r=Oe(t);let i=Be.min(),l=We();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const v=Oe(f),w=v._s.get(g);return w!==void 0?de.resolve(v.os.get(w)):v.Ur.getTargetData(p,g)})(r,u,Ss(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(u,d.targetId).next((f=>{l=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(u,e,n?i:Be.min(),n?l:We()))).next((d=>(FR(r,jI(e),d),{documents:d,Ts:l})))))}function FR(t,e,n){let r=t.us.get(e)||Be.min();n.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class i1{constructor(){this.activeTargetIds=PI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LR{constructor(){this.so=new i1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new i1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd=null;function Gp(){return kd===null?kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():kd++,"0x"+kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class UR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${l}`}get Fo(){return!1}Mo(n,r,i,l,u){const d=Gp(),f=this.xo(n,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${d}:`,f,i);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,u),this.No(n,f,p,i).then((g=>(Te("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw Xa("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",f,"request:",i),g}))}Lo(n,r,i,l,u,d){return this.Mo(n,r,i,l,u)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,u)=>n[u]=l)),i&&i.headers.forEach(((l,u)=>n[u]=l))}xo(n,r){const i=OR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const l=Gp();return new Promise(((u,d)=>{const f=new a_;f.setWithCredentials(!0),f.listenOnce(l_.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case qd.NO_ERROR:const g=f.getResponseJson();Te(Cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case qd.TIMEOUT:Te(Cn,`RPC '${e}' ${l} timed out`),d(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const v=f.getStatus();if(Te(Cn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const j=(function(k){const V=k.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(V)>=0?V:ie.UNKNOWN})(S.status);d(new ve(j,S.message))}else d(new ve(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Te(Cn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Te(Cn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}Bo(e,n,r){const i=Gp(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=d_(),d=c_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=l.join("");Te(Cn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const v=u.createWebChannel(g,f);let w=!1,S=!1;const j=new $R({Io:k=>{S?Te(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(w||(Te(Cn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),Te(Cn,`RPC '${e}' stream ${i} sending:`,k),v.send(k))},To:()=>v.close()}),I=(k,V,B)=>{k.listen(V,(F=>{try{B(F)}catch(U){setTimeout((()=>{throw U}),0)}}))};return I(v,cu.EventType.OPEN,(()=>{S||(Te(Cn,`RPC '${e}' stream ${i} transport opened.`),j.yo())})),I(v,cu.EventType.CLOSE,(()=>{S||(S=!0,Te(Cn,`RPC '${e}' stream ${i} transport closed`),j.So())})),I(v,cu.EventType.ERROR,(k=>{S||(S=!0,Xa(Cn,`RPC '${e}' stream ${i} transport errored:`,k),j.So(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),I(v,cu.EventType.MESSAGE,(k=>{var V;if(!S){const B=k.data[0];st(!!B);const F=B,U=F.error||((V=F[0])===null||V===void 0?void 0:V.error);if(U){Te(Cn,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let q=(function(A){const D=$t[A];if(D!==void 0)return M_(D)})($),E=U.message;q===void 0&&(q=ie.INTERNAL,E="Unknown error status: "+$+" with message "+U.message),S=!0,j.So(new ve(q,E)),v.close()}else Te(Cn,`RPC '${e}' stream ${i} received:`,B),j.bo(B)}})),I(d,u_.STAT_EVENT,(k=>{k.stat===Fm.PROXY?Te(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Fm.NOPROXY&&Te(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}}function Hp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return new JI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,r=1e3,i=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,l,u,d,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new ve(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zR extends K_{constructor(e,n,r,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=tR(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?Ts(u.readTime):Be.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(l,u){let d;const f=u.target;if(d=$m(f)?{documents:sR(l,f)}:{query:iR(l,f)._t},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=L_(l,u.resumeToken);const p=zm(l,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){d.readTime=hh(l,u.snapshotVersion.toTimestamp());const p=zm(l,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=aR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.a_(n)}}class GR extends K_{constructor(e,n,r,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=rR(e.writeResults,e.commitTime),r=Ts(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>nR(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Mo(e,Gm(n,r),i,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ie.UNKNOWN,l.toString())}))}Lo(e,n,r,i,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Lo(e,Gm(n,r),i,u,d,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ie.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class WR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((u=>{r.enqueueAndForget((async()=>{qo(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const p=Oe(f);p.L_.add(4),await Xu(p),p.q_.set("Unknown"),p.L_.delete(4),await Bh(p)})(this))}))})),this.q_=new WR(r,i)}}async function Bh(t){if(qo(t))for(const e of t.B_)await e(!0)}async function Xu(t){for(const e of t.B_)await e(!1)}function Q_(t,e){const n=Oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zg(n)?Jg(n):pl(n).r_()&&Xg(n,e))}function Yg(t,e){const n=Oe(t),r=pl(n);n.N_.delete(e),r.r_()&&Y_(n,e),n.N_.size===0&&(r.r_()?r.o_():qo(n)&&n.q_.set("Unknown"))}function Xg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).A_(e)}function Y_(t,e){t.Q_.xe(e),pl(t).R_(e)}function Jg(t){t.Q_=new KI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.q_.v_()}function Zg(t){return qo(t)&&!pl(t).n_()&&t.N_.size>0}function qo(t){return Oe(t).L_.size===0}function X_(t){t.Q_=void 0}async function KR(t){t.q_.set("Online")}async function QR(t){t.N_.forEach(((e,n)=>{Xg(t,e)}))}async function YR(t,e){X_(t),Zg(t)?(t.q_.M_(e),Jg(t)):t.q_.set("Unknown")}async function XR(t,e,n){if(t.q_.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await(async function(i,l){const u=l.cause;for(const d of l.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fh(t,r)}else if(e instanceof Yd?t.Q_.Ke(e):e instanceof V_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const r=await W_(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const d=l.Q_.rt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=l.N_.get(p);g&&l.N_.set(p,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const g=l.N_.get(f);if(!g)return;l.N_.set(f,g.withResumeToken(wn.EMPTY_BYTE_STRING,g.snapshotVersion)),Y_(l,f);const v=new $i(g.target,f,p,g.sequenceNumber);Xg(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await fh(t,r)}}async function fh(t,e,n){if(!Ku(e))throw e;t.L_.add(1),await Xu(t),t.q_.set("Offline"),n||(n=()=>W_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bh(t)}))}function J_(t,e){return e().catch((n=>fh(t,n,e)))}async function Oh(t){const e=Oe(t),n=qi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;JR(e);)try{const i=await MR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,ZR(e,i)}catch(i){await fh(e,i)}Z_(e)&&eS(e)}function JR(t){return qo(t)&&t.O_.length<10}function ZR(t,e){t.O_.push(e);const n=qi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Z_(t){return qo(t)&&!qi(t).n_()&&t.O_.length>0}function eS(t){qi(t).start()}async function eP(t){qi(t).p_()}async function tP(t){const e=qi(t);for(const n of t.O_)e.m_(n.mutations)}async function nP(t,e,n){const r=t.O_.shift(),i=Gg.from(r,e,n);await J_(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Oh(t)}async function rP(t,e){e&&qi(t).V_&&await(async function(r,i){if((function(u){return HI(u)&&u!==ie.ABORTED})(i.code)){const l=r.O_.shift();qi(r).s_(),await J_(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Oh(r)}})(t,e),Z_(t)&&eS(t)}async function a1(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=qo(n);n.L_.add(3),await Xu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bh(n)}async function sP(t,e){const n=Oe(t);e?(n.L_.delete(2),await Bh(n)):e||(n.L_.add(2),await Xu(n),n.q_.set("Unknown"))}function pl(t){return t.K_||(t.K_=(function(n,r,i){const l=Oe(n);return l.w_(),new zR(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:KR.bind(null,t),Ro:QR.bind(null,t),mo:YR.bind(null,t),d_:XR.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Zg(t)?Jg(t):t.q_.set("Unknown")):(await t.K_.stop(),X_(t))}))),t.K_}function qi(t){return t.U_||(t.U_=(function(n,r,i){const l=Oe(n);return l.w_(),new GR(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eP.bind(null,t),mo:rP.bind(null,t),f_:tP.bind(null,t),g_:nP.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Oh(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,l){const u=Date.now()+r,d=new ey(e,n,u,i,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(t,e){if(ii("AsyncQueue",`${e}: ${t}`),Ku(t))return new ve(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=du(),this.sortedSet=new jt(this.comparator)}static emptySet(e){return new Qa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.W_=new jt(ke.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class rl{constructor(e,n,r,i,l,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,l){const u=[];return n.forEach((d=>{u.push({type:0,doc:d})})),new rl(e,n,Qa.emptySet(n),u,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class oP{constructor(){this.queries=u1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Oe(n),l=i.queries;i.queries=u1(),l.forEach(((u,d)=>{for(const f of d.j_)f.onError(r)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function u1(){return new fl((t=>S_(t)),Nh)}async function tS(t,e){const n=Oe(t);let r=3;const i=e.query;let l=n.queries.get(i);l?!l.H_()&&e.J_()&&(r=2):(l=new iP,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(i,!0);break;case 1:l.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const d=ty(u,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&ny(n)}async function nS(t,e){const n=Oe(t),r=e.query;let i=3;const l=n.queries.get(r);if(l){const u=l.j_.indexOf(e);u>=0&&(l.j_.splice(u,1),l.j_.length===0?i=e.J_()?0:1:!l.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aP(t,e){const n=Oe(t);let r=!1;for(const i of e){const l=i.query,u=n.queries.get(l);if(u){for(const d of u.j_)d.X_(i)&&(r=!0);u.z_=i}}r&&ny(n)}function lP(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const l of i.j_)l.onError(n);r.queries.delete(e)}function ny(t){t.Y_.forEach((e=>{e.next()}))}var Km,c1;(c1=Km||(Km={})).ea="default",c1.Cache="cache";class rS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class uP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=We(),this.mutatedKeys=We(),this.Aa=T_(e),this.Ra=new Qa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new l1,i=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,v)=>{const w=i.get(g),S=Dh(this.query,v)?v:null,j=!!w&&this.mutatedKeys.has(w.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;w&&S?w.data.isEqual(S.data)?j!==I&&(r.track({type:3,doc:S}),k=!0):this.ga(w,S)||(r.track({type:2,doc:S}),k=!0,(f&&this.Aa(S,f)>0||p&&this.Aa(S,p)<0)&&(d=!0)):!w&&S?(r.track({type:0,doc:S}),k=!0):w&&!S&&(r.track({type:1,doc:w}),k=!0,(f||p)&&(d=!0)),k&&(S?(u=u.add(S),l=I?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:u,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((g,v)=>(function(S,j){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return I(S)-I(j)})(g.type,v.type)||this.Aa(g.doc,v.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,p=f!==this.Ea;return this.Ea=f,u.length!==0||p?{snapshot:new rl(this.query,e.Ra,l,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new l1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=We(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new iS(r))})),this.da.forEach((r=>{e.has(r)||n.push(new sS(r))})),n}ba(e){this.Ta=e.Ts,this.da=We();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dP{constructor(e){this.key=e,this.va=!1}}class hP{constructor(e,n,r,i,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new fl((d=>S_(d)),Nh),this.Ma=new Map,this.xa=new Set,this.Oa=new jt(ke.comparator),this.Na=new Map,this.La=new qg,this.Ba={},this.ka=new Map,this.qa=nl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fP(t,e,n=!0){const r=dS(t);let i;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.Da()):i=await oS(r,e,n,!0),i}async function pP(t,e){const n=dS(t);await oS(n,e,!0,!1)}async function oS(t,e,n,r){const i=await VR(t.localStore,Ss(e)),l=i.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await mP(t,e,l,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&Q_(t.remoteStore,i),d}async function mP(t,e,n,r,i){t.Ka=(v,w,S)=>(async function(I,k,V,B){let F=k.view.ma(V);F.ns&&(F=await s1(I.localStore,k.query,!1).then((({documents:E})=>k.view.ma(E,F))));const U=B&&B.targetChanges.get(k.targetId),$=B&&B.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(F,I.isPrimaryClient,U,$);return h1(I,k.targetId,q.wa),q.snapshot})(t,v,w,S);const l=await s1(t.localStore,e,!0),u=new uP(e,l.Ts),d=u.ma(l.documents),f=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=u.applyChanges(d,t.isPrimaryClient,f);h1(t,n,p.wa);const g=new cP(e,n,u);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function gP(t,e,n){const r=Oe(t),i=r.Fa.get(e),l=r.Ma.get(i.targetId);if(l.length>1)return r.Ma.set(i.targetId,l.filter((u=>!Nh(u,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yg(r.remoteStore,i.targetId),Qm(r,i.targetId)})).catch(qu)):(Qm(r,i.targetId),await qm(r.localStore,i.targetId,!0))}async function yP(t,e){const n=Oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(n.remoteStore,r.targetId))}async function vP(t,e,n){const r=EP(t);try{const i=await(function(u,d){const f=Oe(u),p=Qt.now(),g=d.reduce(((S,j)=>S.add(j.key)),We());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let j=oi(),I=We();return f.cs.getEntries(S,g).next((k=>{j=k,j.forEach(((V,B)=>{B.isValidDocument()||(I=I.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,j))).next((k=>{v=k;const V=[];for(const B of d){const F=OI(B,v.get(B.key).overlayedDocument);F!=null&&V.push(new Qi(B.key,F,g_(F.value.mapValue),Pr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,V,d)})).next((k=>{w=k;const V=k.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(S,k.batchId,V)}))})).then((()=>({batchId:w.batchId,changes:j_(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,d,f){let p=u.Ba[u.currentUser.toKey()];p||(p=new jt(et)),p=p.insert(d,f),u.Ba[u.currentUser.toKey()]=p})(r,i.batchId,n),await Ju(r,i.changes),await Oh(r.remoteStore)}catch(i){const l=ty(i,"Failed to persist write");n.reject(l)}}async function aS(t,e){const n=Oe(t);try{const r=await NR(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const u=n.Na.get(l);u&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.va=!0:i.modifiedDocuments.size>0?st(u.va):i.removedDocuments.size>0&&(st(u.va),u.va=!1))})),await Ju(n,r,e)}catch(r){await qu(r)}}function d1(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((l,u)=>{const d=u.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(u,d){const f=Oe(u);f.onlineState=d;let p=!1;f.queries.forEach(((g,v)=>{for(const w of v.j_)w.Z_(d)&&(p=!0)})),p&&ny(f)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xP(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),l=i&&i.key;if(l){let u=new jt(ke.comparator);u=u.insert(l,Rn.newNoDocument(l,Be.min()));const d=We().add(l),f=new Fh(Be.min(),new Map,new jt(et),u,d);await aS(r,f),r.Oa=r.Oa.remove(l),r.Na.delete(e),ry(r)}else await qm(r.localStore,e,!1).then((()=>Qm(r,e,n))).catch(qu)}async function bP(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await PR(n.localStore,e);uS(n,r,null),lS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ju(n,i)}catch(i){await qu(i)}}async function wP(t,e,n){const r=Oe(t);try{const i=await(function(u,d){const f=Oe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((v=>(st(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);uS(r,e,n),lS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ju(r,i)}catch(i){await qu(i)}}function lS(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function uS(t,e,n){const r=Oe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||cS(t,r)}))}function cS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Yg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ry(t))}function h1(t,e,n){for(const r of n)r instanceof sS?(t.La.addReference(r.key,e),_P(t,r)):r instanceof iS?(Te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cS(t,r.key)):Me()}function _P(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Te("SyncEngine","New document in limbo: "+n),t.xa.add(r),ry(t))}function ry(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ke(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new dP(n)),t.Oa=t.Oa.insert(n,r),Q_(t.remoteStore,new $i(Ss(Og(n.path)),r,"TargetPurposeLimboResolution",Mg.oe))}}async function Ju(t,e,n){const r=Oe(t),i=[],l=[],u=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,f)=>{u.push(r.Ka(f,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Qg.Wi(f.targetId,p);l.push(v)}})))})),await Promise.all(u),r.Ca.d_(i),await(async function(f,p){const g=Oe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(p,(w=>de.forEach(w.$i,(S=>g.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>de.forEach(w.Ui,(S=>g.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!Ku(v))throw v;Te("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=g.os.get(w),j=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(j);g.os=g.os.insert(w,I)}}})(r.localStore,l))}async function SP(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await H_(n.localStore,e);n.currentUser=e,(function(l,u){l.ka.forEach((d=>{d.forEach((f=>{f.reject(new ve(ie.CANCELLED,u))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ju(n,r.hs)}}function TP(t,e){const n=Oe(t),r=n.Na.get(e);if(r&&r.va)return We().add(r.key);{let i=We();const l=n.Ma.get(e);if(!l)return i;for(const u of l){const d=n.Fa.get(u);i=i.unionWith(d.view.Va)}return i}}function dS(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xP.bind(null,e),e.Ca.d_=aP.bind(null,e.eventManager),e.Ca.$a=lP.bind(null,e.eventManager),e}function EP(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wP.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return RR(this.persistence,new AR,e.initialUser,this.serializer)}Ga(e){return new jR(Kg.Zr,this.serializer)}Wa(e){return new LR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SP.bind(null,this.syncEngine),await sP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oP})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=(function(l){return new UR(l)})(e.databaseInfo);return(function(l,u,d,f){return new HR(l,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,l,u,d){return new qR(r,i,l,u,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>d1(this.syncEngine,n,0)),(function(){return o1.D()?new o1:new BR})())}createSyncEngine(e,n){return(function(i,l,u,d,f,p,g){const v=new hP(i,l,u,d,f,p);return g&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const l=Oe(i);Te("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Xu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=f_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{Te("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Te("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ty(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Wp(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H_(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function f1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CP(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>a1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>a1(e.remoteStore,i))),t._onlineComponents=e}async function CP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),await Wp(t,new ph)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await Wp(t,new ph);return t._offlineComponents}async function fS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await f1(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await f1(t,new Ym))),t._onlineComponents}function kP(t){return fS(t).then((e=>e.syncEngine))}async function pS(t){const e=await fS(t),n=e.eventManager;return n.onListen=fP.bind(null,e.syncEngine),n.onUnlisten=gP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yP.bind(null,e.syncEngine),n}function AP(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,f,p){const g=new hS({next:w=>{g.Za(),u.enqueueAndForget((()=>nS(l,v)));const S=w.docs.has(d);!S&&w.fromCache?p.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&f&&f.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new rS(Og(d.path),g,{includeMetadataChanges:!0,_a:!0});return tS(l,v)})(await pS(t),t.asyncQueue,e,n,r))),r.promise}function IP(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,d,f,p){const g=new hS({next:w=>{g.Za(),u.enqueueAndForget((()=>nS(l,v))),w.fromCache&&f.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new rS(d,g,{includeMetadataChanges:!0,_a:!0});return tS(l,v)})(await pS(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e,n){if(!n)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RP(t,e,n,r){if(e===!0&&r===!0)throw new ve(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m1(t){if(!ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g1(t){if(ke.isDocumentKey(t))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(t);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function PP(t,e){if(e<=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KA;switch(r.type){case"firstParty":return new JA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=p1.get(n);r&&(Te("ComponentProvider","Removing Datastore"),p1.delete(n),r.terminate())})(this),Promise.resolve()}}function NP(t,e,n,r={}){var i;const l=(t=ai(t,Zu))._getSettings(),u=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=An.MOCK_USER;else{d=Ak(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new An(p)}t._authCredentials=new QA(new h_(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Gi extends os{constructor(e,n,r){super(e,n,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ke(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function iy(t,e,...n){if(t=ns(t),sy("collection","path",e),t instanceof Zu){const r=lt.fromString(e,...n);return g1(r),new Gi(t,null,r)}{if(!(t instanceof er||t instanceof Gi))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return g1(r),new Gi(t.firestore,null,r)}}function DP(t,e){if(t=ai(t,Zu),sy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new os(t,null,(function(r){return new ci(lt.emptyPath(),r)})(e))}function zt(t,e,...n){if(t=ns(t),arguments.length===1&&(e=f_.newId()),sy("doc","path",e),t instanceof Zu){const r=lt.fromString(e,...n);return m1(r),new er(t,null,new ke(r))}{if(!(t instanceof er||t instanceof Gi))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return m1(r),new er(t.firestore,t instanceof Gi?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new q_(this,"async_queue_retry"),this.Vu=()=>{const r=Hp();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ni;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ku(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d})(r);throw ii("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ey.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(i),i}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ec extends Zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new v1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function MP(t,e){const n=typeof t=="object"?t:r_(),r=typeof t=="string"?t:"(default)",i=DA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=Ck("firestore");l&&NP(i,...l)}return i}function Uh(t){if(t._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VP(t),t._firestoreClient}function VP(t){var e,n,r;const i=t._freezeSettings(),l=(function(d,f,p,g){return new dI(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,mS(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jP(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sl(wn.fromBase64String(e))}catch(n){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sl(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/^__.*__$/;class LP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class gS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class ly{constructor(e,n,r,i,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ly(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yS(this.Cu)&&FP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class BP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}Qu(e,n,r,i=!1){return new ly({Cu:e,methodName:n,qu:r,path:vn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new BP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vS(t,e,n,r,i,l={}){const u=t.Qu(l.merge||l.mergeFields?2:0,e,n,i);cy("Data must be an object, but it was:",u,r);const d=bS(r,u);let f,p;if(l.merge)f=new pr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const w=Xm(e,v,n);if(!u.contains(w))throw new ve(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);_S(g,w)||g.push(w)}f=new pr(g),p=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=u.fieldTransforms;return new LP(new Zn(d),f,p)}class Wh extends Gh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}class uy extends Gh{_toFieldTransform(e){return new VI(e.path,new Vu)}isEqual(e){return e instanceof uy}}function OP(t,e,n,r){const i=t.Qu(1,e,n);cy("Data must be an object, but it was:",i,r);const l=[],u=Zn.empty();Wo(r,((f,p)=>{const g=dy(e,f,n);p=ns(p);const v=i.Nu(g);if(p instanceof Wh)l.push(g);else{const w=tc(p,v);w!=null&&(l.push(g),u.set(g,w))}}));const d=new pr(l);return new gS(u,d,i.fieldTransforms)}function $P(t,e,n,r,i,l){const u=t.Qu(1,e,n),d=[Xm(e,r,n)],f=[i];if(l.length%2!=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Xm(e,l[w])),f.push(l[w+1]);const p=[],g=Zn.empty();for(let w=d.length-1;w>=0;--w)if(!_S(p,d[w])){const S=d[w];let j=f[w];j=ns(j);const I=u.Nu(S);if(j instanceof Wh)p.push(S);else{const k=tc(j,I);k!=null&&(p.push(S),g.set(S,k))}}const v=new pr(p);return new gS(g,v,u.fieldTransforms)}function xS(t,e,n,r=!1){return tc(n,t.Qu(r?4:3,e))}function tc(t,e){if(wS(t=ns(t)))return cy("Unsupported field value:",e,t),bS(t,e);if(t instanceof Gh)return(function(r,i){if(!yS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const l=[];let u=0;for(const d of r){let f=tc(d,i.Lu(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,i){if((r=ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Qt.fromDate(r);return{timestampValue:hh(i.serializer,l)}}if(r instanceof Qt){const l=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(i.serializer,l)}}if(r instanceof oy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sl)return{bytesValue:L_(i.serializer,r._byteString)};if(r instanceof er){const l=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw i.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Wg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ay)return(function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return Ug(d.serializer,f)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${$h(r)}`)})(t,e)}function bS(t,e){const n={};return p_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,((r,i)=>{const l=tc(i,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function wS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof oy||t instanceof sl||t instanceof er||t instanceof Gh||t instanceof ay)}function cy(t,e,n){if(!wS(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=$h(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xm(t,e,n){if((e=ns(e))instanceof zh)return e._internalPath;if(typeof e=="string")return dy(t,e);throw mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const UP=new RegExp("[~\\*/\\[\\]]");function dy(t,e,n){if(e.search(UP)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zh(...e.split("."))._internalPath}catch(r){throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mh(t,e,n,r,i){const l=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new ve(ie.INVALID_ARGUMENT,d+t+f)}function _S(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,i,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zP extends hy{data(){return super.data()}}function qh(t,e){return typeof e=="string"?dy(t,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class nc extends fy{}function Bi(t,e,...n){let r=[];e instanceof fy&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((f=>f instanceof py)).length,d=l.filter((f=>f instanceof Kh)).length;if(u>1||u>0&&d>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Kh extends nc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kh(e,n,r)}_apply(e){const n=this._parse(e);return TS(e._query,n),new os(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Hh(e.firestore);return(function(l,u,d,f,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){b1(v,g);const S=[];for(const j of v)S.push(x1(f,l,j));w={arrayValue:{values:S}}}else w=x1(f,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||b1(v,g),w=xS(d,u,v,g==="in"||g==="not-in");return Ht.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xd(t,e,n){const r=e,i=qh("where",t);return Kh._create(i,r,n)}class py extends fy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new py(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let u=i;const d=l.getFlattenedFilters();for(const f of d)TS(u,f),u=Um(u,f)})(e._query,n),new os(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class my extends nc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new my(e,n)}_apply(e){const n=(function(i,l,u){if(i.startAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(l,u)})(e._query,this._field,this._direction);return new os(e.firestore,e.converter,(function(i,l){const u=i.explicitOrderBy.concat([l]);return new ci(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ad(t,e="asc"){const n=e,r=qh("orderBy",t);return my._create(r,n)}class gy extends nc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gy(e,n,r)}_apply(e){return new os(e.firestore,e.converter,ch(e._query,this._limit,this._limitType))}}function Oi(t){return PP("limit",t),gy._create("limit",t,"F")}class yy extends nc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new yy(e,n,r)}_apply(e){const n=SS(e,this.type,this._docOrFields,this._inclusive);return new os(e.firestore,e.converter,(function(i,l){return new ci(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)})(e._query,n))}}function Id(...t){return yy._create("startAt",t,!0)}class vy extends nc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new vy(e,n,r)}_apply(e){const n=SS(e,this.type,this._docOrFields,this._inclusive);return new os(e.firestore,e.converter,(function(i,l){return new ci(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,l)})(e._query,n))}}function Rd(...t){return vy._create("endAt",t,!0)}function SS(t,e,n,r){if(n[0]=ns(n[0]),n[0]instanceof hy)return(function(l,u,d,f,p){if(!f)throw new ve(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of Ka(l))if(v.field.isKeyField())g.push(uh(u,f.key));else{const w=f.data.field(v.field);if(Ph(w))throw new ve(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const S=v.field.canonicalString();throw new ve(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(w)}return new tl(g,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Hh(t.firestore);return(function(u,d,f,p,g,v){const w=u.explicitOrderBy;if(g.length>w.length)throw new ve(ie.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let j=0;j<g.length;j++){const I=g[j];if(w[j].field.isKeyField()){if(typeof I!="string")throw new ve(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof I}`);if(!$g(u)&&I.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${I}' contains a slash.`);const k=u.path.child(lt.fromString(I));if(!ke.isDocumentKey(k))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const V=new ke(k);S.push(uh(d,V))}else{const k=xS(f,p,I);S.push(k)}}return new tl(S,v)})(t._query,t.firestore._databaseId,i,e,n,r)}}function x1(t,e,n){if(typeof(n=ns(n))=="string"){if(n==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$g(e)&&n.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uh(t,new ke(r))}if(n instanceof er)return uh(t,n._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function b1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){const n=(function(i,l){for(const u of i)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HP{convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,((i,l)=>{r[i]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,i;const l=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((u=>Ft(u.doubleValue)));return new ay(l)}convertGeoPoint(e){return new oy(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);st(G_(r));const i=new Nu(r.get(1),r.get(3)),l=new ke(r.popFirst(5));return i.isEqual(n)||ii(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jS extends hy{constructor(e,n,r,i,l,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jd extends jS{data(e={}){return super.data(e)}}class WP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jd(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((d=>{const f=new Jd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new fu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Jd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new fu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:qP(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){t=ai(t,er);const e=ai(t.firestore,ec);return AP(Uh(e),t._key).then((n=>KP(e,t,n)))}class CS extends HP{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function ei(t){t=ai(t,os);const e=ai(t.firestore,ec),n=Uh(e),r=new CS(e);return GP(t._query),IP(n,t._query).then((i=>new WP(e,r,t,i)))}function gh(t,e,n){t=ai(t,er);const r=ai(t.firestore,ec),i=ES(t.converter,e,n);return kS(r,[vS(Hh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pr.none())])}function kS(t,e){return(function(r,i){const l=new ni;return r.asyncQueue.enqueueAndForget((async()=>vP(await kP(r),i,l))),l.promise})(Uh(t),e)}function KP(t,e,n){const r=n.docs.get(e._key),i=new CS(t);return new jS(t,i,e._key,r,new fu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hh(e)}set(e,n,r){this._verifyNotCommitted();const i=qp(e,this._firestore),l=ES(i.converter,n,r),u=vS(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,Pr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const l=qp(e,this._firestore);let u;return u=typeof(n=ns(n))=="string"||n instanceof zh?$P(this._dataReader,"WriteBatch.update",l._key,n,r,i):OP(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qp(e,this._firestore);return this._mutations=this._mutations.concat(new zg(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qp(t,e){if((t=ns(t)).firestore!==e)throw new ve(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Zs(){return new uy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){return Uh(t=ai(t,ec)),new QP(t,(e=>kS(t,e)))}(function(e,n=!0){(function(i){hl=i})(FA),ah(new ku("firestore",((r,{instanceIdentifier:i,options:l})=>{const u=r.getProvider("app").getImmediate(),d=new ec(new YA(r.getProvider("auth-internal")),new eI(r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(p.options.projectId,g)})(u,i),u);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),qa(F0,"4.7.3",e),qa(F0,"4.7.3","esm2017")})();var XP="firebase",JP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qa(XP,JP,"app");const xy={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};xy.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const ZP=LA().length?r_():n_(xy),ht=MP(ZP);console.log("[FB] projectId =",xy.projectId);const Jr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Zr=t=>`https://drive.google.com/uc?export=view&id=${t}`,AS=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Pn=[{key:"warrior",label:"Warrior",iconUrl:Zr(Jr.warrior),fallback:"🗡️"},{key:"mage",label:"Mage",iconUrl:Zr(Jr.mage),fallback:"✨"},{key:"scout",label:"Scout",iconUrl:Zr(Jr.scout),fallback:"🏹"},{key:"assassin",label:"Assassin",iconUrl:Zr(Jr.assassin),fallback:"🗡️"},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Zr(Jr["demon-hunter"]),fallback:"😈🏹"},{key:"berserker",label:"Berserker",iconUrl:Zr(Jr.berserker),fallback:"🪓"},{key:"battle-mage",label:"Battle Mage",iconUrl:Zr(Jr["battle-mage"]),fallback:"🛡️✨"},{key:"druid",label:"Druid",iconUrl:Zr(Jr.druid),fallback:"🌿"},{key:"bard",label:"Bard",iconUrl:Zr(Jr.bard),fallback:"🎶"},{key:"necromancer",label:"Necromancer",iconUrl:Zr(Jr.necromancer),fallback:"💀"},{key:"paladin",label:"Paladin",iconUrl:Zr(Jr.paladin),fallback:"🛡️"}],Jm=Object.fromEntries(Pn.map(t=>[t.key,t])),Zm=new Map;function Ct(t,e){Zm.set(AS(t),e)}for(const t of Pn)Ct(t.key,t.key),Ct(t.label,t.key);Ct("war","warrior");Ct("krieger","warrior");Ct("magier","mage");Ct("jaeger","scout");Ct("jäger","scout");Ct("assa","assassin");Ct("meuchelmoerder","assassin");Ct("meuchelmörder","assassin");Ct("demonhunter","demon-hunter");Ct("dh","demon-hunter");Ct("daemonenjaeger","demon-hunter");Ct("dämonenjäger","demon-hunter");Ct("zerker","berserker");Ct("battlemage","battle-mage");Ct("kampfmagier","battle-mage");Ct("bm","battle-mage");Ct("druide","druid");Ct("barde","bard");Ct("necro","necromancer");Ct("nekromant","necromancer");Ct("pala","paladin");function eN(t){const e=AS(t);if(!e)return{};const n=Zm.get(e);if(n){const r=Jm[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Zm.entries())if(r.startsWith(e)||e.startsWith(r)){const l=Jm[i];return{url:l.iconUrl,fallback:l.fallback}}return{}}const tN=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Pn,CLASS_BY_KEY:Jm,iconForClassName:eN},Symbol.toStringTag,{value:"Module"}));function by(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function eg(t){if(!t)return;const e=by(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function IS(t,e=64){if(!t)return;const n=by(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function RS(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function PS(t,e,n,r){const i=eg(t);return i?RS(i,{w:e,h:n,fit:r}):void 0}function di(t,e=64){const n=IS(t,e);return n?RS(n,{w:e,h:e,fit:"contain"}):void 0}const nN=Object.assign(t=>eg(t),{id:by,direct:eg,thumb:IS,proxy:PS,thumbProxy:di}),Kp=t=>Number.isFinite(t),Da=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},rN=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function sN(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Pn.find(l=>n(l.label)===r);if(i||(i=Pn.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!i)return di(i.iconUrl,e)}function iN(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function oN({placeholder:t="Suchen … (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=Ho(),[r,i]=Ve.useState(""),[l,u]=Ve.useState(""),[d,f]=Ve.useState(!1),[p,g]=Ve.useState(null),[v,w]=Ve.useState([]),[S,j]=Ve.useState([]),[I,k]=Ve.useState([]),[V,B]=Ve.useState(-1),F=Ve.useRef(null);Ve.useEffect(()=>{const E=setTimeout(()=>u(r.trim()),200);return()=>clearTimeout(E)},[r]),Ve.useEffect(()=>{async function E(){g(null);const T=l;if(T.length<1){w([]),j([]),k([]),B(-1);return}f(!0);try{let A=function(je){var tt,Dt,Yt,Lt,kt,On,$n,it,yr,Un,on,an,tr,At,nr,rr,Ue,vt,zn,as,sr,vr,Mr,ls,Vr,mt,us,hi,cs,Rs,Ps,Nn,ir,Ns;const me=je.data(),{root:Ce,id:Ae}=iN(je),Pe=Ae||me.playerId||me.guildIdentifier||"";if(Ce==="players"||me.playerId&&!me.guildIdentifier){if(!Pe||fe.has(Pe))return;fe.add(Pe),re.push({kind:"player",id:Pe,name:(Yt=(Dt=me.name)!=null?Dt:(tt=me.values)==null?void 0:tt.Name)!=null?Yt:null,nameFold:(Lt=me.nameFold)!=null?Lt:null,server:($n=(On=me.server)!=null?On:(kt=me.values)==null?void 0:kt.Server)!=null?$n:null,guildName:(Un=(yr=me.guildName)!=null?yr:(it=me.values)==null?void 0:it.Guild)!=null?Un:null,className:(tr=(an=me.className)!=null?an:(on=me.values)==null?void 0:on.Class)!=null?tr:null,level:Da((nr=me.level)!=null?nr:(At=me.values)==null?void 0:At.Level),ts:Da(me.timestamp)});return}if(Ce==="guilds"||me.guildIdentifier&&!me.playerId){if(!Pe||K.has(Pe))return;K.add(Pe),ne.push({kind:"guild",id:Pe,name:(vt=(Ue=me.name)!=null?Ue:(rr=me.values)==null?void 0:rr.Name)!=null?vt:null,nameFold:(zn=me.nameFold)!=null?zn:null,server:(vr=(sr=me.server)!=null?sr:(as=me.values)==null?void 0:as.Server)!=null?vr:null,memberCount:Da((mt=(ls=me.memberCount)!=null?ls:(Mr=me.values)==null?void 0:Mr["Guild Member Count"])!=null?mt:(Vr=me.values)==null?void 0:Vr.GuildMemberCount),hofRank:Da((Ns=(Nn=(Rs=(hi=me.hofRank)!=null?hi:(us=me.values)==null?void 0:us["Hall of Fame Rank"])!=null?Rs:(cs=me.values)==null?void 0:cs.HoF)!=null?Nn:(Ps=me.values)==null?void 0:Ps.Rank)!=null?Ns:(ir=me.values)==null?void 0:ir["Guild Rank"]),ts:Da(me.timestamp)});return}};const D=rN(T),M=DP(ht,"latest"),L=await ei(Bi(M,Ad("nameFold"),Id(D),Rd(D+""),Oi(e*6))),N=await ei(Bi(M,Xd("nameNgrams","array-contains",D),Oi(e*6))),fe=new Set,K=new Set,re=[],ne=[];L.forEach(A),N.forEach(A);const Q=iy(ht,"servers"),ae=T.toLowerCase(),oe=T.toUpperCase(),H=[ei(Bi(Q,Ad("displayName"),Id(T),Rd(T+""),Oi(e*4))),ei(Bi(Q,Ad("code"),Id(oe),Rd(oe+""),Oi(e*4))),ei(Bi(Q,Ad("host"),Id(ae),Rd(ae+""),Oi(e*4)))],ee=await Promise.allSettled(H),ye=new Set,_e=[];for(const je of ee)je.status==="fulfilled"&&je.value.forEach(me=>{var Pe,tt,Dt,Yt,Lt;const Ce=me.data(),Ae=me.id;!Ae||ye.has(Ae)||(ye.add(Ae),_e.push({kind:"server",id:Ae,displayName:(Pe=Ce.displayName)!=null?Pe:null,code:(tt=Ce.code)!=null?tt:null,host:(Dt=Ce.host)!=null?Dt:null,region:(Yt=Ce.region)!=null?Yt:null,type:(Lt=Ce.type)!=null?Lt:null,numericId:Da(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});w(re.slice(0,e)),j(ne.slice(0,e)),k(_e.slice(0,e)),B(re.length+ne.length+_e.length?0:-1)}catch(A){g((A==null?void 0:A.message)||"Unbekannter Fehler bei der Suche."),w([]),j([]),k([]),B(-1)}finally{f(!1)}}return E(),()=>{}},[l,e]),Ve.useEffect(()=>{const E=T=>{F.current&&(F.current.contains(T.target)||(w([]),j([]),k([]),B(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const U=[...v,...S,...I],$=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),w([]),j([]),k([]),B(-1),i("")},q=E=>{if(U.length)if(E.key==="ArrowDown")E.preventDefault(),B(T=>(T+1)%U.length);else if(E.key==="ArrowUp")E.preventDefault(),B(T=>(T-1+U.length)%U.length);else if(E.key==="Enter"){E.preventDefault();const T=U[V>=0?V:0];T&&$(T)}else E.key==="Escape"&&(w([]),j([]),k([]),B(-1))};return o.jsxs("div",{ref:F,style:$e.wrap,children:[o.jsx("input",{style:$e.input,placeholder:t,value:r,onChange:E=>i(E.target.value),onKeyDown:q,"aria-label":"Spieler, Gilden und Server suchen"}),(d||p||v.length||S.length||I.length)&&o.jsxs("div",{style:$e.dropdown,children:[d&&o.jsx("div",{style:$e.hint,children:"Suche…"}),p&&!d&&o.jsxs("div",{style:$e.err,children:["⚠️ ",p]}),!d&&!p&&(v.length>0||S.length>0||I.length>0)&&o.jsxs(o.Fragment,{children:[v.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Spieler"}),v.map((E,T)=>{var M,L,N;const A=T===V,D=sN(E.className,64);return o.jsxs("button",{onClick:()=>$(E),style:A?$e.itemActive:$e.item,title:E.name||"",onMouseEnter:()=>B(T),children:[o.jsx("div",{style:$e.iconBoxPlain,children:D?o.jsx("img",{src:D,alt:"",style:$e.iconImgShadow,onError:fe=>{const K=fe.currentTarget.parentElement;K&&(K.innerHTML='<div style="font-size:12px;color:#B0C4D9;">🎭</div>')}}):o.jsx("div",{style:$e.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(M=E.name)!=null?M:"Unbekannt"}),Kp(E.level)&&o.jsxs("span",{style:$e.badge,children:["Lvl ",E.level]})]}),o.jsxs("div",{style:$e.line2,children:[E.guildName?o.jsxs("span",{children:["⟦",E.guildName,"⟧"]}):o.jsx("span",{style:$e.muted,children:"—"}),o.jsx("span",{style:$e.sep,children:"•"}),o.jsx("span",{children:(L=E.className)!=null?L:"Klasse ?"}),o.jsx("span",{style:$e.sep,children:"•"}),o.jsx("span",{children:(N=E.server)!=null?N:"Server ?"})]})]})]},`p-${E.id}-${T}`)})]}),S.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Gilden"}),S.map((E,T)=>{var M,L;const A=v.length+T,D=A===V;return o.jsxs("button",{onClick:()=>$(E),style:D?$e.itemActive:$e.item,title:E.name||"",onMouseEnter:()=>B(A),children:[o.jsx("div",{style:$e.iconBox,children:"🏰"}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(M=E.name)!=null?M:"Unbekannt"}),Kp(E.hofRank)&&o.jsxs("span",{style:$e.badge,children:["HoF #",E.hofRank]})]}),o.jsxs("div",{style:$e.line2,children:[o.jsx("span",{children:(L=E.server)!=null?L:"Server ?"}),o.jsx("span",{style:$e.sep,children:"•"}),o.jsx("span",{children:Kp(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${T}`)})]}),I.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Server"}),I.map((E,T)=>{var M,L,N,fe,K,re;const A=v.length+S.length+T,D=A===V;return o.jsxs("button",{onClick:()=>$(E),style:D?$e.itemActive:$e.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>B(A),children:[o.jsx("div",{style:$e.iconBoxPlain,children:o.jsx("div",{style:$e.serverGlyph,children:"🌐"})}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(N=(L=(M=E.displayName)!=null?M:E.code)!=null?L:E.host)!=null?N:E.id}),E.active!=null&&o.jsx("span",{style:$e.badge,children:E.active?"Aktiv":"Inaktiv"})]}),o.jsxs("div",{style:$e.line2,children:[o.jsx("span",{children:(fe=E.code)!=null?fe:"—"}),o.jsx("span",{style:$e.sep,children:"•"}),o.jsx("span",{children:(K=E.host)!=null?K:"—"}),o.jsx("span",{style:$e.sep,children:"•"}),o.jsx("span",{children:(re=E.region)!=null?re:"—"}),E.type?o.jsxs(o.Fragment,{children:[o.jsx("span",{style:$e.sep,children:"•"}),o.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${T}`)})]})]}),!d&&!p&&v.length===0&&S.length===0&&I.length===0&&l.length>=1&&o.jsx("div",{style:$e.hint,children:"Keine Treffer"})]})]})}const $e={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function aN(t){var d,f,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),u=[void 0,void 0,void 0,void 0,tN];for(const g of u){if(!g)continue;const v=(p=(f=(d=g[n])!=null?d:g[r])!=null?f:g[i])!=null?p:g[l];if(typeof v=="string")return v}}function lN({user:t}){var i;const{open:e,canUse:n}=Kw(),r=()=>{e({tab:"json"})};return o.jsxs("header",{className:jn.topbar,children:[o.jsxs("div",{className:jn.topbarLeft,children:[o.jsx("button",{className:jn.btnIco,"aria-label":"Benachrichtigungen",children:o.jsx(SC,{className:jn.ico})}),o.jsx("button",{className:jn.btnIco,"aria-label":"Favoriten",children:o.jsx(ZC,{className:jn.ico})})]}),o.jsx("div",{className:jn.searchWrap,children:o.jsx(oN,{placeholder:"Suchen (Spieler)…",getClassIcon:aN,maxResults:10})}),o.jsxs("div",{className:jn.topbarRight,children:[o.jsxs("a",{className:`${jn.pill} ${jn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[o.jsx(DC,{className:jn.ico}),"www.sfgame.net"]}),o.jsxs("button",{className:jn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle benötigt)",children:[o.jsx(rk,{className:jn.ico}),o.jsx("span",{className:jn.label,children:"Scan hochladen"})]}),o.jsx("button",{className:jn.avatarBtn,"aria-label":(i=t==null?void 0:t.name)!=null?i:"Gast",children:o.jsx("img",{className:jn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const uN="_root_xd4sk_3",cN="_expanded_xd4sk_45",dN="_headRow_xd4sk_55",hN="_headTitle_xd4sk_63",fN="_headDot_xd4sk_65",pN="_headLabel_xd4sk_67",mN="_pinBtn_xd4sk_69",gN="_navScroll_xd4sk_81",yN="_pad_xd4sk_83",vN="_segCard_xd4sk_89",xN="_segTitle_xd4sk_121",bN="_navCol_xd4sk_139",wN="_navItemWrap_xd4sk_141",_N="_navBtn_xd4sk_147",SN="_navBtnActive_xd4sk_171",TN="_label_xd4sk_175",EN="_trailing_xd4sk_205",jN="_isOpen_xd4sk_253",CN="_footer_xd4sk_279",kN="_login_xd4sk_281",AN="_legal_xd4sk_303",IN="_labelText_xd4sk_327",RN="_char_xd4sk_337",PN="_mainNavCard_xd4sk_405",Ze={root:uN,expanded:cN,headRow:dN,headTitle:hN,headDot:fN,headLabel:pN,pinBtn:mN,navScroll:gN,pad:yN,segCard:vN,segTitle:xN,navCol:bN,navItemWrap:wN,navBtn:_N,navBtnActive:SN,label:TN,trailing:EN,isOpen:jN,footer:CN,login:kN,legal:AN,labelText:IN,char:RN,mainNavCard:PN},NN="_panel_90cjk_1",DN="_open_90cjk_31",MN="_col_90cjk_43",Qp={panel:NN,open:DN,col:MN};function VN(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function FN({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:l}){const[u,d]=Ve.useState({left:0,top:0});return Ve.useEffect(()=>{if(!e||!t)return;const f=()=>d(VN(t));f();const p=new ResizeObserver(f);return p.observe(document.documentElement),window.addEventListener("scroll",f,!0),window.addEventListener("resize",f),()=>{p.disconnect(),window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",f)}},[e,t]),typeof document=="undefined"?null:mC.createPortal(o.jsx("div",{className:`${Qp.panel} ${e?Qp.open:""}`,style:{left:u.left,top:u.top},onMouseEnter:i,onMouseLeave:l,role:"menu",children:o.jsx("div",{className:Qp.col,children:n.map(f=>r(f))})}),document.body)}const LN=[{to:"/",label:"Home",icon:o.jsx(FC,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:o.jsx($C,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:o.jsx(Wu,{className:"ico"})},{to:"/playground",label:"Playground",icon:o.jsx(Ih,{className:"ico"})}],BN=[{to:"/discover",label:"Discover",icon:o.jsx(AC,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:o.jsx(tk,{className:"ico"})},{to:"/guides",label:"Guides",icon:o.jsx(EC,{className:"ico"})},{to:"/community",label:"Community",icon:o.jsx(zC,{className:"ico"})},{to:"/scans",label:"Scans",icon:o.jsx(PC,{className:"ico"})},{to:"/settings",label:"Settings",icon:o.jsx(QC,{className:"ico"})}],tg={"/discover":[{to:"/players",label:"Players"},{to:"/players/profile",label:"Player Profile"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD · Game Buttons"}]},ON=220;function $N(t=ON){const[e,n]=Ve.useState(!1),r=Ve.useRef(null),i=Ve.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Ve.useCallback(()=>{i(),n(!0)},[i]),u=Ve.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return Ve.useEffect(()=>()=>i(),[i]),{open:e,onEnter:l,onLeave:u,setOpen:n}}function wy({text:t,isOpen:e,duration:n=1,step:r=45}){const i=Ve.useMemo(()=>Array.from(t),[t]);return o.jsx("span",{className:Ze.label,children:o.jsx("span",{className:Ze.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((l,u)=>o.jsx("span",{className:Ze.char,style:{"--i":u},"aria-hidden":"true",children:l===" "?" ":l},`${t}-${u}`))})})}function UN({it:t,collapsed:e,allowSubmenus:n}){var g,v;const r=((v=(g=tg[t.to])==null?void 0:g.length)!=null?v:0)>0,{open:i,onEnter:l,onLeave:u,setOpen:d}=$N(),f=Ve.useRef(null),p=Ve.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return o.jsxs("div",{ref:f,className:`${Ze.navItemWrap} ${i?Ze.isOpen:""}`,onMouseEnter:p,onMouseLeave:u,children:[o.jsxs(fr,{to:t.to,end:!!t.end,className:({isActive:w})=>`${Ze.navBtn} ${w?Ze.navBtnActive:""}`,children:[t.icon,o.jsx(wy,{text:t.label,isOpen:!e}),r&&!e&&o.jsx("span",{className:Ze.trailing,"aria-hidden":"true",children:o.jsx(CC,{className:"ico"})})]}),r&&o.jsx(FN,{anchorEl:f.current,open:i,items:tg[t.to],renderLink:w=>o.jsx(fr,{to:w.to,className:({isActive:S})=>`link ${S?"linkActive":""}`,children:w.label},w.to),onMouseEnter:l,onMouseLeave:u})]})}function w1({title:t,items:e,collapsed:n,allowSubmenus:r}){return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:`${Ze.navTitle} ${Ze.segTitle}`,children:t}),o.jsx("div",{className:Ze.navCol,children:e.map(i=>tg[i.to]?o.jsx(UN,{it:i,collapsed:n,allowSubmenus:r},i.to):o.jsxs(fr,{to:i.to,end:!!i.end,className:({isActive:l})=>`${Ze.navBtn} ${l?Ze.navBtnActive:""}`,children:[i.icon,o.jsx(wy,{text:i.label,isOpen:!n})]},i.to))})]})}const zN=90,GN=180;function HN({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){const l=Ve.useRef(null),u=Ve.useRef(null),[d,f]=Ve.useState(!1),p=Ve.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),u.current&&(window.clearTimeout(u.current),u.current=null)},[]),g=Ve.useCallback(()=>{!i||n||(p(),f(!1),l.current=window.setTimeout(()=>e(!0),zN))},[i,n,p,e]),v=Ve.useCallback(()=>{!i||n||(p(),u.current=window.setTimeout(()=>{e(!1),f(!1)},GN))},[i,n,p,e]);Ve.useEffect(()=>()=>p(),[p]),Ve.useEffect(()=>{n&&f(!0)},[n]);const w=I=>{I.propertyName==="width"&&t&&!n&&f(!0)};Ve.useEffect(()=>{if(t&&!n){const I=window.setTimeout(()=>f(!0),250);return()=>window.clearTimeout(I)}},[t,n]);const S=!t,j=n||t&&d;return o.jsxs("aside",{id:"sidebar-root",className:`${Ze.root} ${t?Ze.expanded:""}`,"data-collapsed":S?"true":"false",onMouseEnter:g,onMouseLeave:v,onTransitionEnd:w,"aria-label":"Navigation",children:[o.jsxs("div",{className:Ze.headRow,children:[o.jsxs("div",{className:Ze.headTitle,children:[o.jsx("span",{className:Ze.headDot})," ",o.jsx("span",{className:Ze.headLabel,children:"Navigation"})]}),o.jsx("button",{className:Ze.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?o.jsx(qC,{className:"ico"}):o.jsx(HC,{className:"ico"})})]}),o.jsx("div",{className:Ze.navScroll,children:o.jsxs("div",{className:Ze.pad,children:[o.jsx("div",{className:`${Ze.segCard} ${Ze.mainNavCard}`,children:o.jsx(w1,{items:LN,collapsed:S,allowSubmenus:j})}),o.jsx("div",{className:Ze.segTitle,children:"Kategorien"}),o.jsx("div",{className:`${Ze.segCard} ${Ze.mainNavCard}`,children:o.jsx(w1,{items:BN,collapsed:S,allowSubmenus:j})})]})}),o.jsxs("div",{className:`${Ze.footer} ${Ze.segCard} ${Ze.mainNavCard}`,children:[o.jsxs("button",{className:Ze.login,type:"button",children:[o.jsx(Wu,{className:"ico"}),o.jsx(wy,{text:"Logout",isOpen:!S})]}),o.jsx("div",{className:Ze.legal,children:"© 2025 SFDataHub — Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Yp="/test/assets/logo-sfdatahub-CUdhlsEb.png";function WN({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:l="async"}){const u=t!=null?t:Yp;return o.jsxs("div",{className:"logo-dock",children:[o.jsx(fr,{to:r,"aria-label":"Go to home",children:o.jsx("img",{className:"logo-img",src:u,alt:e,loading:i,decoding:l,onError:d=>{const f=d.currentTarget;f.src!==Yp&&(f.src=Yp)}})}),n]})}function qN(){const[t,e]=P.useState(!1),[n,r]=P.useState(!1),i=n||t,l=P.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return o.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[o.jsx(WN,{src:"/logo.png"}),o.jsx(lN,{}),o.jsx("div",{className:"logo-fill"}),o.jsx(HN,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),o.jsx("div",{className:"content",children:o.jsx("div",{className:"content-inner",children:o.jsx("div",{className:"content-body",children:o.jsx(Vw,{})})})})]})}function KN(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Home"})})}const NS=P.createContext({});function _y(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sy=P.createContext(null),Ty=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function QN(t=!0){const e=P.useContext(Sy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,l=P.useId();P.useEffect(()=>{t&&i(l)},[t]);const u=P.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const Ey=typeof window!="undefined",DS=Ey?P.useLayoutEffect:P.useEffect,mr=t=>t;let MS=mr;function jy(t){let e;return()=>(e===void 0&&(e=t()),e)}const zo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Es=t=>t*1e3,js=t=>t/1e3,YN={useManualTiming:!1};function XN(t){let e=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),t()),p(u)}const f={schedule:(p,g=!1,v=!1)=>{const S=v&&r?e:n;return g&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(u=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,f.process(p))}};return f}const Pd=["read","resolveKeyframes","update","preRender","render","postRender"],JN=40;function VS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Pd.reduce((V,B)=>(V[B]=XN(l),V),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:v,postRender:w}=u,S=()=>{const V=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(V-i.timestamp,JN),1),i.timestamp=V,i.isProcessing=!0,d.process(i),f.process(i),p.process(i),g.process(i),v.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},j=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Pd.reduce((V,B)=>{const F=u[B];return V[B]=(U,$=!1,q=!1)=>(n||j(),F.schedule(U,$,q)),V},{}),cancel:V=>{for(let B=0;B<Pd.length;B++)u[Pd[B]].cancel(V)},state:i,steps:u}}const{schedule:pt,cancel:li,state:mn,steps:Xp}=VS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:mr,!0),FS=P.createContext({strict:!1}),_1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},il={};for(const t in _1)il[t]={isEnabled:e=>_1[t].some(n=>!!e[n])};function ZN(t){for(const e in t)il[e]={...il[e],...t[e]}}const eD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eD.has(t)}let LS=t=>!yh(t);function tD(t){t&&(LS=e=>e.startsWith("on")?!yh(e):t(e))}try{tD(require("@emotion/is-prop-valid").default)}catch(t){}function nD(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(LS(i)||n===!0&&yh(i)||!e&&!yh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function rD(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Qh=P.createContext({});function Bu(t){return typeof t=="string"||Array.isArray(t)}function Yh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Cy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ky=["initial",...Cy];function Xh(t){return Yh(t.animate)||ky.some(e=>Bu(t[e]))}function BS(t){return!!(Xh(t)||t.variants)}function sD(t,e){if(Xh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(r)?r:void 0}}return t.inherit!==!1?e:{}}function iD(t){const{initial:e,animate:n}=sD(t,P.useContext(Qh));return P.useMemo(()=>({initial:e,animate:n}),[S1(e),S1(n)])}function S1(t){return Array.isArray(t)?t.join(" "):t}const oD=Symbol.for("motionComponentSymbol");function Ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aD(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ua(n)&&(n.current=r))},[e])}const Ay=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lD="framerAppearId",OS="data-"+Ay(lD),{schedule:Iy}=VS(queueMicrotask,!1),$S=P.createContext({});function uD(t,e,n,r,i){var l,u;const{visualElement:d}=P.useContext(Qh),f=P.useContext(FS),p=P.useContext(Sy),g=P.useContext(Ty).reducedMotion,v=P.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=v.current,S=P.useContext($S);w&&!w.projection&&i&&(w.type==="html"||w.type==="svg")&&cD(v.current,n,i,S);const j=P.useRef(!1);P.useInsertionEffect(()=>{w&&j.current&&w.update(n,p)});const I=n[OS],k=P.useRef(!!I&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,I))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,I)));return DS(()=>{w&&(j.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Iy.render(w.render),k.current&&w.animationState&&w.animationState.animateChanges())}),P.useEffect(()=>{w&&(!k.current&&w.animationState&&w.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)===null||V===void 0||V.call(window,I)}),k.current=!1))}),w}function cD(t,e,n,r){const{layoutId:i,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:US(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!u||d&&Ua(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function US(t){if(t)return t.options.allowProjection!==!1?t.projection:US(t.parent)}function dD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var l,u;t&&ZN(t);function d(p,g){let v;const w={...P.useContext(Ty),...p,layoutId:hD(p)},{isStatic:S}=w,j=iD(p),I=r(p,S);if(!S&&Ey){fD();const k=pD(w);v=k.MeasureLayout,j.visualElement=uD(i,I,w,e,k.ProjectionNode)}return o.jsxs(Qh.Provider,{value:j,children:[v&&j.visualElement?o.jsx(v,{visualElement:j.visualElement,...w}):null,n(i,p,aD(I,j.visualElement,g),I,S,j.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(u=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&u!==void 0?u:""})`}`;const f=P.forwardRef(d);return f[oD]=i,f}function hD({layoutId:t}){const e=P.useContext(NS).id;return e&&t!==void 0?e+"-"+t:t}function fD(t,e){P.useContext(FS).strict}function pD(t){const{drag:e,layout:n}=il;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const mD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ry(t){return typeof t!="string"||t.includes("-")?!1:!!(mD.indexOf(t)>-1||/[A-Z]/u.test(t))}function T1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Py(t,e,n,r){if(typeof e=="function"){const[i,l]=T1(r);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=T1(r);e=e(n!==void 0?n:t.custom,i,l)}return e}const ng=t=>Array.isArray(t),gD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yD=t=>ng(t)?t[t.length-1]||0:t,rn=t=>!!(t&&t.getVelocity);function Zd(t){const e=rn(t)?t.get():t;return gD(e)?e.toValue():e}function vD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,l){const u={latestValues:xD(r,i,l,t),renderState:e()};return n&&(u.onMount=d=>n({props:r,current:d,...u}),u.onUpdate=d=>n(d)),u}const zS=t=>(e,n)=>{const r=P.useContext(Qh),i=P.useContext(Sy),l=()=>vD(t,e,r,i);return n?l():_y(l)};function xD(t,e,n,r){const i={},l=r(t,{});for(const w in l)i[w]=Zd(l[w]);let{initial:u,animate:d}=t;const f=Xh(t),p=BS(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?d:u;if(v&&typeof v!="boolean"&&!Yh(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const j=Py(t,w[S]);if(j){const{transitionEnd:I,transition:k,...V}=j;for(const B in V){let F=V[B];if(Array.isArray(F)){const U=g?F.length-1:0;F=F[U]}F!==null&&(i[B]=F)}for(const B in I)i[B]=I[B]}}}return i}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(ml),GS=t=>e=>typeof e=="string"&&e.startsWith(t),HS=GS("--"),bD=GS("var(--"),Ny=t=>bD(t)?wD.test(t.split("/*")[0].trim()):!1,wD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,WS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ui=(t,e,n)=>n>e?e:n<t?t:n,gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...gl,transform:t=>ui(0,1,t)},Nd={...gl,default:1},rc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=rc("deg"),Cs=rc("%"),Ne=rc("px"),_D=rc("vh"),SD=rc("vw"),E1={...Cs,parse:t=>Cs.parse(t)/100,transform:t=>Cs.transform(t*100)},TD={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne},ED={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Li,skewX:Li,skewY:Li,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Ou,originX:E1,originY:E1,originZ:Ne},j1={...gl,transform:Math.round},Dy={...TD,...ED,zIndex:j1,size:Ne,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:j1},jD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CD=ml.length;function kD(t,e,n){let r="",i=!0;for(let l=0;l<CD;l++){const u=ml[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=WS(d,Dy[u]);if(!f){i=!1;const g=jD[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function My(t,e,n){const{style:r,vars:i,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Ko.has(f)){u=!0;continue}else if(HS(f)){i[f]=p;continue}else{const g=WS(p,Dy[f]);f.startsWith("origin")?(d=!0,l[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=kD(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${f} ${p} ${g}`}}const AD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ID={offset:"strokeDashoffset",array:"strokeDasharray"};function RD(t,e,n=1,r=0,i=!0){t.pathLength=1;const l=i?AD:ID;t[l.offset]=Ne.transform(-r);const u=Ne.transform(e),d=Ne.transform(n);t[l.array]=`${u} ${d}`}function C1(t,e,n){return typeof t=="string"?t:Ne.transform(e+n*t)}function PD(t,e,n){const r=C1(e,t.x,t.width),i=C1(n,t.y,t.height);return`${r} ${i}`}function Vy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},g,v){if(My(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:j}=t;w.transform&&(j&&(S.transform=w.transform),delete w.transform),j&&(i!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=PD(j,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),u!==void 0&&RD(w,u,d,f,!1)}const Fy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qS=()=>({...Fy(),attrs:{}}),Ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const QS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YS(t,e,n,r){KS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(QS.has(i)?i:Ay(i),e.attrs[i])}const vh={};function ND(t){Object.assign(vh,t)}function XS(t,{layout:e,layoutId:n}){return Ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vh[t]||t==="opacity")}function By(t,e,n){var r;const{style:i}=t,l={};for(const u in i)(rn(i[u])||e.style&&rn(e.style[u])||XS(u,t)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[u]=i[u]);return l}function JS(t,e,n){const r=By(t,e,n);for(const i in t)if(rn(t[i])||rn(e[i])){const l=ml.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=t[i]}return r}function DD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const k1=["x","y","width","height","cx","cy","r"],MD={useVisualState:zS({scrapeMotionValuesFromProps:JS,createRenderState:qS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in i)if(Ko.has(d)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let d=0;d<k1.length;d++){const f=k1[d];t[f]!==e[f]&&(u=!0)}u&&pt.read(()=>{DD(n,r),pt.render(()=>{Vy(r,i,Ly(n.tagName),t.transformTemplate),YS(n,r)})})}})},VD={useVisualState:zS({scrapeMotionValuesFromProps:By,createRenderState:Fy})};function ZS(t,e,n){for(const r in e)!rn(e[r])&&!XS(r,n)&&(t[r]=e[r])}function FD({transformTemplate:t},e){return P.useMemo(()=>{const n=Fy();return My(n,e,t),Object.assign({},n.vars,n.style)},[e])}function LD(t,e){const n=t.style||{},r={};return ZS(r,n,t),Object.assign(r,FD(t,e)),r}function BD(t,e){const n={},r=LD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function OD(t,e,n,r){const i=P.useMemo(()=>{const l=qS();return Vy(l,e,Ly(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ZS(l,t.style,t),i.style={...l,...i.style}}return i}function $D(t=!1){return(n,r,i,{latestValues:l},u)=>{const f=(Ry(n)?OD:BD)(r,l,u,n),p=nD(r,typeof n=="string",t),g=n!==P.Fragment?{...p,...f,ref:i}:{},{children:v}=r,w=P.useMemo(()=>rn(v)?v.get():v,[v]);return P.createElement(n,{...g,children:w})}}function UD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const u={...Ry(r)?MD:VD,preloadedFeatures:t,useRender:$D(i),createVisualElement:e,Component:r};return dD(u)}}function e2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jh(t,e,n){const r=t.getProps();return Py(r,e,n!==void 0?n:r.custom,t)}const zD=jy(()=>window.ScrollTimeline!==void 0);class GD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(zD()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class t2 extends GD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Oy(t,e){return t?t[e]||t.default||t:void 0}const xh=2e4;function $y(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xh;)e+=n,r=t.next(e);return e>=xh?1/0:e}function HD(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min($y(r),xh);return{type:"keyframes",ease:l=>r.next(i*l).value/e,duration:js(i)}}function Zh(t){return typeof t=="function"}function A1(t,e){t.timeline=e,t.onfinish=null}const Uy=t=>Array.isArray(t)&&typeof t[0]=="number",WD={linearEasing:void 0};function qD(t,e){const n=jy(t);return()=>{var r;return(r=WD[e])!==null&&r!==void 0?r:n()}}const bh=qD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),n2=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)r+=t(zo(0,i-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function r2(t){return!!(typeof t=="function"&&bh()||!t||typeof t=="string"&&(t in rg||bh())||Uy(t)||Array.isArray(t)&&t.every(r2))}const pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function s2(t,e){if(t)return typeof t=="function"&&bh()?n2(t,e):Uy(t)?pu(t):Array.isArray(t)?t.map(n=>s2(n,e)||rg.easeOut):rg[t]}const es={x:!1,y:!1};function i2(){return es.x||es.y}function o2(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function a2(t,e){const n=o2(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function I1(t){return e=>{e.pointerType==="touch"||i2()||t(e)}}function KD(t,e,n={}){const[r,i,l]=a2(t,n),u=I1(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const g=I1(v=>{p(v),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,i)});return r.forEach(d=>{d.addEventListener("pointerenter",u,i)}),l}const l2=(t,e)=>e?t===e?!0:l2(t,e.parentElement):!1,zy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YD(t){return QD.has(t.tagName)||t.tabIndex!==-1}const mu=new WeakSet;function R1(t){return e=>{e.key==="Enter"&&t(e)}}function Jp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=R1(()=>{if(mu.has(n))return;Jp(n,"down");const i=R1(()=>{Jp(n,"up")}),l=()=>Jp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function P1(t){return zy(t)&&!i2()}function JD(t,e,n={}){const[r,i,l]=a2(t,n),u=d=>{const f=d.currentTarget;if(!P1(d)||mu.has(f))return;mu.add(f);const p=e(d),g=(S,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),!(!P1(S)||!mu.has(f))&&(mu.delete(f),typeof p=="function"&&p(S,{success:j}))},v=S=>{g(S,n.useGlobalTarget||l2(f,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",w,i)};return r.forEach(d=>{!YD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,i),d.addEventListener("focus",p=>XD(p,i),i)}),l}function ZD(t){return t==="x"||t==="y"?es[t]?null:(es[t]=!0,()=>{es[t]=!1}):es.x||es.y?null:(es.x=es.y=!0,()=>{es.x=es.y=!1})}const u2=new Set(["width","height","top","left","right","bottom",...ml]);let eh;function e5(){eh=void 0}const ks={now:()=>(eh===void 0&&ks.set(mn.isProcessing||YN.useManualTiming?mn.timestamp:performance.now()),eh),set:t=>{eh=t,queueMicrotask(e5)}};function Gy(t,e){t.indexOf(e)===-1&&t.push(e)}function ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Hy{constructor(){this.subscriptions=[]}add(e){return Gy(this.subscriptions,e),()=>ef(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let l=0;l<i;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function c2(t,e){return e?t*(1e3/e):0}const N1=30,t5=t=>!isNaN(parseFloat(t)),wu={current:void 0};class n5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const l=ks.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ks.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=t5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hy);const r=this.events[e].add(n);return e==="change"?()=>{r(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return wu.current&&wu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N1);return c2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new n5(t,e)}function r5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function s5(t,e){const n=Jh(t,e);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const u in l){const d=yD(l[u]);r5(t,u,d)}}function i5(t){return!!(rn(t)&&t.add)}function sg(t,e){const n=t.getValue("willChange");if(i5(n))return n.add(e)}function d2(t){return t.props[OS]}const h2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o5=1e-7,a5=12;function l5(t,e,n,r,i){let l,u,d=0;do u=e+(n-e)/2,l=h2(u,r,i)-t,l>0?n=u:e=u;while(Math.abs(l)>o5&&++d<a5);return u}function sc(t,e,n,r){if(t===e&&n===r)return mr;const i=l=>l5(l,0,1,t,n);return l=>l===0||l===1?l:h2(i(l),e,r)}const f2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p2=t=>e=>1-t(1-e),m2=sc(.33,1.53,.69,.99),Wy=p2(m2),g2=f2(Wy),y2=t=>(t*=2)<1?.5*Wy(t):.5*(2-Math.pow(2,-10*(t-1))),qy=t=>1-Math.sin(Math.acos(t)),v2=p2(qy),x2=f2(qy),b2=t=>/^0[^.\s]+$/u.test(t);function u5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||b2(t):!0}const _u=t=>Math.round(t*1e5)/1e5,Ky=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c5(t){return t==null}const d5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qy=(t,e)=>n=>!!(typeof n=="string"&&d5.test(n)&&n.startsWith(t)||e&&!c5(n)&&Object.prototype.hasOwnProperty.call(n,e)),w2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,l,u,d]=r.match(Ky);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},h5=t=>ui(0,255,t),Zp={...gl,transform:t=>Math.round(h5(t))},Vo={test:Qy("rgb","red"),parse:w2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zp.transform(t)+", "+Zp.transform(e)+", "+Zp.transform(n)+", "+_u(Ou.transform(r))+")"};function f5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ig={test:Qy("#"),parse:f5,transform:Vo.transform},za={test:Qy("hsl","hue"),parse:w2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cs.transform(_u(e))+", "+Cs.transform(_u(n))+", "+_u(Ou.transform(r))+")"},kn={test:t=>Vo.test(t)||ig.test(t)||za.test(t),parse:t=>Vo.test(t)?Vo.parse(t):za.test(t)?za.parse(t):ig.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vo.transform(t):za.transform(t)},p5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ky))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(p5))===null||n===void 0?void 0:n.length)||0)>0}const _2="number",S2="color",g5="var",y5="var(",D1="${}",v5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $u(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace(v5,f=>(kn.test(f)?(r.color.push(l),i.push(S2),n.push(kn.parse(f))):f.startsWith(y5)?(r.var.push(l),i.push(g5),n.push(f)):(r.number.push(l),i.push(_2),n.push(parseFloat(f))),++l,D1)).split(D1);return{values:n,split:d,indexes:r,types:i}}function T2(t){return $u(t).values}function E2(t){const{split:e,types:n}=$u(t),r=e.length;return i=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],i[u]!==void 0){const d=n[u];d===_2?l+=_u(i[u]):d===S2?l+=kn.transform(i[u]):l+=i[u]}return l}}const x5=t=>typeof t=="number"?0:t;function b5(t){const e=T2(t);return E2(t)(e.map(x5))}const Ki={test:m5,parse:T2,createTransformer:E2,getAnimatableNone:b5},w5=new Set(["brightness","contrast","saturate","opacity"]);function _5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ky)||[];if(!r)return t;const i=n.replace(r,"");let l=w5.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+i+")"}const S5=/\b([a-z-]*)\(.*?\)/gu,og={...Ki,getAnimatableNone:t=>{const e=t.match(S5);return e?e.map(_5).join(" "):t}},T5={...Dy,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:og,WebkitFilter:og},Yy=t=>T5[t];function j2(t,e){let n=Yy(t);return n!==og&&(n=Ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const E5=new Set(["auto","none","0"]);function j5(t,e,n){let r=0,i;for(;r<t.length&&!i;){const l=t[r];typeof l=="string"&&!E5.has(l)&&$u(l).values.length&&(i=t[r]),r++}if(i&&n)for(const l of e)t[l]=j2(n,i)}const M1=t=>t===gl||t===Ne,V1=(t,e)=>parseFloat(t.split(", ")[e]),F1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return V1(i[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?V1(l[1],t):0}},C5=new Set(["x","y","z"]),k5=ml.filter(t=>!C5.has(t));function A5(t){const e=[];return k5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:F1(4,13),y:F1(5,14)};al.translateX=al.x;al.translateY=al.y;const Bo=new Set;let ag=!1,lg=!1;function C2(){if(lg){const t=Array.from(Bo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=A5(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,u])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lg=!1,ag=!1,Bo.forEach(t=>t.complete()),Bo.clear()}function k2(){Bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lg=!0)})}function I5(){k2(),C2()}class Xy{constructor(e,n,r,i,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bo.add(this),ag||(ag=!0,pt.read(k2),pt.resolveKeyframes(C2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=i==null?void 0:i.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),i&&u===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const A2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),R5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P5(t){const e=R5.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function I2(t,e,n=1){const[r,i]=P5(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return A2(u)?parseFloat(u):u}return Ny(i)?I2(i,e,n+1):i}const R2=t=>e=>e.test(t),N5={test:t=>t==="auto",parse:t=>t},P2=[gl,Ne,Cs,Li,SD,_D,N5],L1=t=>P2.find(R2(t));class N2 extends Xy{constructor(e,n,r,i,l){super(e,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Ny(p))){const g=I2(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!u2.has(r)||e.length!==2)return;const[i,l]=e,u=L1(i),d=L1(l);if(u!==d)if(M1(u)&&M1(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)u5(e[i])&&r.push(i);r.length&&j5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=al[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=al[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const B1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ki.test(t)||t==="0")&&!t.startsWith("url("));function D5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M5(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=B1(i,e),d=B1(l,e);return!u||!d?!1:D5(t)||(n==="spring"||Zh(n))&&r}const V5=t=>t!==null;function tf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(V5),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const F5=40;class D2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ks.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>F5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&I5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ks.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:l,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!M5(e,r,i,l))if(u)this.options.duration=0;else{f&&f(tf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const _t=(t,e,n)=>t+(e-t)*n;function em(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,l=0,u=0;if(!e)i=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=em(f,d,t+1/3),l=em(f,d,t),u=em(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function wh(t,e){return n=>n>0?e:t}const tm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},B5=[ig,Vo,za],O5=t=>B5.find(e=>e.test(t));function O1(t){const e=O5(t);if(!e)return!1;let n=e.parse(t);return e===za&&(n=L5(n)),n}const $1=(t,e)=>{const n=O1(t),r=O1(e);if(!n||!r)return wh(t,e);const i={...n};return l=>(i.red=tm(n.red,r.red,l),i.green=tm(n.green,r.green,l),i.blue=tm(n.blue,r.blue,l),i.alpha=_t(n.alpha,r.alpha,l),Vo.transform(i))},$5=(t,e)=>n=>e(t(n)),ic=(...t)=>t.reduce($5),ug=new Set(["none","hidden"]);function U5(t,e){return ug.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function z5(t,e){return n=>_t(t,e,n)}function Jy(t){return typeof t=="number"?z5:typeof t=="string"?Ny(t)?wh:kn.test(t)?$1:W5:Array.isArray(t)?M2:typeof t=="object"?kn.test(t)?$1:G5:wh}function M2(t,e){const n=[...t],r=n.length,i=t.map((l,u)=>Jy(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=i[u](l);return n}}function G5(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jy(t[i])(t[i],e[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function H5(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=t.indexes[u][i[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=f,i[u]++}return r}const W5=(t,e)=>{const n=Ki.createTransformer(e),r=$u(t),i=$u(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ug.has(t)&&!i.values.length||ug.has(e)&&!r.values.length?U5(t,e):ic(M2(H5(r,i),i.values),n):wh(t,e)};function V2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):Jy(t)(t,e)}const q5=5;function F2(t,e,n){const r=Math.max(e-q5,0);return c2(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nm=.001;function K5({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,l,u=1-e;u=ui(Pt.minDamping,Pt.maxDamping,u),t=ui(Pt.minDuration,Pt.maxDuration,js(t)),u<1?(i=p=>{const g=p*u,v=g*t,w=g-n,S=cg(p,u),j=Math.exp(-v);return nm-w/S*j},l=p=>{const v=p*u*t,w=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,j=Math.exp(-v),I=cg(Math.pow(p,2),u);return(-i(p)+nm>0?-1:1)*((w-S)*j)/I}):(i=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-nm+g*v},l=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const d=5/t,f=Y5(i,l,d);if(t=Es(t),isNaN(f))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const Q5=12;function Y5(t,e,n){let r=n;for(let i=1;i<Q5;i++)r=r-t(r)/e(r);return r}function cg(t,e){return t*Math.sqrt(1-e*e)}const X5=["duration","bounce"],J5=["stiffness","damping","mass"];function U1(t,e){return e.some(n=>t[n]!==void 0)}function Z5(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!U1(t,J5)&&U1(t,X5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*ui(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pt.mass,stiffness:i,damping:l}}else{const n=K5(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function Zy(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:v,velocity:w,isResolvedFromDuration:S}=Z5({...n,velocity:-js(n.velocity||0)}),j=w||0,I=p/(2*Math.sqrt(f*g)),k=u-l,V=js(Math.sqrt(f/g)),B=Math.abs(k)<5;r||(r=B?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=B?Pt.restDelta.granular:Pt.restDelta.default);let F;if(I<1){const $=cg(V,I);F=q=>{const E=Math.exp(-I*V*q);return u-E*((j+I*V*k)/$*Math.sin($*q)+k*Math.cos($*q))}}else if(I===1)F=$=>u-Math.exp(-V*$)*(k+(j+V*k)*$);else{const $=V*Math.sqrt(I*I-1);F=q=>{const E=Math.exp(-I*V*q),T=Math.min($*q,300);return u-E*((j+I*V*k)*Math.sinh(T)+$*k*Math.cosh(T))/$}}const U={calculatedDuration:S&&v||null,next:$=>{const q=F($);if(S)d.done=$>=v;else{let E=0;I<1&&(E=$===0?Es(j):F2(F,$,q));const T=Math.abs(E)<=r,A=Math.abs(u-q)<=i;d.done=T&&A}return d.value=d.done?u:q,d},toString:()=>{const $=Math.min($y(U),xh),q=n2(E=>U.next($*E).value,$,30);return $+"ms "+q}};return U}function z1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},S=T=>d!==void 0&&T<d||f!==void 0&&T>f,j=T=>d===void 0?f:f===void 0||Math.abs(d-T)<Math.abs(f-T)?d:f;let I=n*e;const k=v+I,V=u===void 0?k:u(k);V!==k&&(I=V-v);const B=T=>-I*Math.exp(-T/r),F=T=>V+B(T),U=T=>{const A=B(T),D=F(T);w.done=Math.abs(A)<=p,w.value=w.done?V:D};let $,q;const E=T=>{S(w.value)&&($=T,q=Zy({keyframes:[w.value,j(w.value)],velocity:F2(F,T,w.value),damping:i,stiffness:l,restDelta:p,restSpeed:g}))};return E(0),{calculatedDuration:null,next:T=>{let A=!1;return!q&&$===void 0&&(A=!0,U(T),E(T)),$!==void 0&&T>=$?q.next(T-$):(!A&&U(T),w)}}}const eM=sc(.42,0,1,1),tM=sc(0,0,.58,1),L2=sc(.42,0,.58,1),B2=t=>Array.isArray(t)&&typeof t[0]!="number",nM={linear:mr,easeIn:eM,easeInOut:L2,easeOut:tM,circIn:qy,circInOut:x2,circOut:v2,backIn:Wy,backInOut:g2,backOut:m2,anticipate:y2},G1=t=>{if(Uy(t)){MS(t.length===4);const[e,n,r,i]=t;return sc(e,n,r,i)}else if(typeof t=="string")return nM[t];return t};function rM(t,e,n){const r=[],i=n||V2,l=t.length-1;for(let u=0;u<l;u++){let d=i(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||mr:e;d=ic(f,d)}r.push(d)}return r}function O2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const l=t.length;if(MS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=rM(e,r,i),f=d.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=zo(t[v],t[v+1],g);return d[v](w)};return n?g=>p(ui(t[0],t[l-1],g)):p}function $2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=zo(0,e,r);t.push(_t(n,1,i))}}function U2(t){const e=[0];return $2(e,t.length-1),e}function sM(t,e){return t.map(n=>n*e)}function iM(t,e){return t.map(()=>e||L2).splice(0,t.length-1)}function _h({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=B2(r)?r.map(G1):G1(r),l={done:!1,value:e[0]},u=sM(n&&n.length===e.length?n:U2(e),t),d=O2(u,e,{ease:Array.isArray(i)?i:iM(e,i)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const oM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pt.update(e,!0),stop:()=>li(e),now:()=>mn.isProcessing?mn.timestamp:ks.now()}},aM={decay:z1,inertia:z1,tween:_h,keyframes:_h,spring:Zy},lM=t=>t/100;class ev extends D2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:l}=this.options,u=(i==null?void 0:i.KeyframeResolver)||Xy,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(l,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:u=0}=this.options,d=Zh(n)?n:aM[n]||_h;let f,p;d!==_h&&typeof e[0]!="number"&&(f=ic(lM,V2(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=$y(g));const{calculatedDuration:v}=g,w=v+i,S=w*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:w,repeat:S,repeatType:j,repeatDelay:I,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const V=this.currentTime-w*(this.speed>=0?1:-1),B=this.speed>=0?V<0:V>g;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,U=l;if(S){const T=Math.min(this.currentTime,g)/v;let A=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&A--,A=Math.min(A,S+1),!!(A%2)&&(j==="reverse"?(D=1-D,I&&(D-=I/v)):j==="mirror"&&(U=u)),F=ui(0,1,D)*v}const $=B?{done:!1,value:f[0]}:U.next(F);d&&($.value=d($.value));let{done:q}=$;!B&&p!==null&&(q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return E&&i!==void 0&&($.value=tf(f,this.options,i)),k&&k($.value),E&&this.finish(),$}get duration(){const{resolved:e}=this;return e?js(e.calculatedDuration):0}get time(){return js(this.currentTime)}set time(e){e=Es(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=js(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const uM=new Set(["opacity","clipPath","filter","transform"]);function cM(t,e,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=s2(d,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const dM=jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sh=10,hM=2e4;function fM(t){return Zh(t.type)||t.type==="spring"||!r2(t.ease)}function pM(t,e){const n=new ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let l=0;for(;!r.done&&l<hM;)r=n.sample(l),i.push(r.value),l+=Sh;return{times:void 0,keyframes:i,duration:l-Sh,ease:"linear"}}const z2={anticipate:y2,backInOut:g2,circInOut:x2};function mM(t){return t in z2}class H1 extends D2{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:l}=this.options;this.resolver=new N2(l,(u,d)=>this.onKeyframesResolved(u,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:l,type:u,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&bh()&&mM(l)&&(l=z2[l]),fM(this.options)){const{onComplete:v,onUpdate:w,motionValue:S,element:j,...I}=this.options,k=pM(e,I);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,i=k.times,l=k.ease,u="keyframes"}const g=cM(d.owner.current,f,e,{...this.options,duration:r,times:i,ease:l});return g.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(A1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(tf(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return js(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return js(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Es(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return mr;const{animation:r}=n;A1(r,e)}return mr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:l,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:w,...S}=this.options,j=new ev({...S,keyframes:r,duration:i,type:l,ease:u,times:d,isGenerator:!0}),I=Es(this.time);p.setWithVelocity(j.sample(I-Sh).value,j.sample(I).value,Sh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return dM()&&r&&uM.has(r)&&!f&&!p&&!i&&l!=="mirror"&&u!==0&&d!=="inertia"}}const gM={type:"spring",stiffness:500,damping:25,restSpeed:10},yM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vM={type:"keyframes",duration:.8},xM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bM=(t,{keyframes:e})=>e.length>2?vM:Ko.has(t)?t.startsWith("scale")?yM(e[1]):gM:xM;function wM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const tv=(t,e,n,r={},i,l)=>u=>{const d=Oy(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Es(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};wM(d)||(g={...g,...bM(t,g)}),g.duration&&(g.duration=Es(g.duration)),g.repeatDelay&&(g.repeatDelay=Es(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const w=tf(g.keyframes,d);if(w!==void 0)return pt.update(()=>{g.onUpdate(w),g.onComplete()}),new t2([])}return!l&&H1.supports(g)?new H1(g):new ev(g)};function _M({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nv(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const v in f){const w=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),S=f[v];if(S===void 0||g&&_M(g,v))continue;const j={delay:n,...Oy(u||{},v)};let I=!1;if(window.MotionHandoffAnimation){const V=d2(t);if(V){const B=window.MotionHandoffAnimation(V,v,pt);B!==null&&(j.startTime=B,I=!0)}}sg(t,v),w.start(tv(v,w,S,t.shouldReduceMotion&&u2.has(v)?{type:!1}:j,t,I));const k=w.animation;k&&p.push(k)}return d&&Promise.all(p).then(()=>{pt.update(()=>{d&&s5(t,d)})}),p}function dg(t,e,n={}){var r;const i=Jh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const u=i?()=>Promise.all(nv(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=l;return SM(t,e,g+p,v,w,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function SM(t,e,n=0,r=0,i=1,l){const u=[],d=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(TM).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(dg(p,e,{...l,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function TM(t,e){return t.sortNodePosition(e)}function EM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(l=>dg(t,l,n));r=Promise.all(i)}else if(typeof e=="string")r=dg(t,e,n);else{const i=typeof e=="function"?Jh(t,e,n.custom):e;r=Promise.all(nv(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const jM=ky.length;function G2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?G2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jM;n++){const r=ky[n],i=t.props[r];(Bu(i)||i===!1)&&(e[r]=i)}return e}const CM=[...Cy].reverse(),kM=Cy.length;function AM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EM(t,n,r)))}function IM(t){let e=AM(t),n=W1(),r=!0;const i=f=>(p,g)=>{var v;const w=Jh(t,g,f==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(w){const{transition:S,transitionEnd:j,...I}=w;p={...p,...I,...j}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,g=G2(t.parent)||{},v=[],w=new Set;let S={},j=1/0;for(let k=0;k<kM;k++){const V=CM[k],B=n[V],F=p[V]!==void 0?p[V]:g[V],U=Bu(F),$=V===f?B.isActive:null;$===!1&&(j=k);let q=F===g[V]&&F!==p[V]&&U;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),B.protectedKeys={...S},!B.isActive&&$===null||!F&&!B.prevProp||Yh(F)||typeof F=="boolean")continue;const E=RM(B.prevProp,F);let T=E||V===f&&B.isActive&&!q&&U||k>j&&U,A=!1;const D=Array.isArray(F)?F:[F];let M=D.reduce(i(V),{});$===!1&&(M={});const{prevResolvedValues:L={}}=B,N={...L,...M},fe=ne=>{T=!0,w.has(ne)&&(A=!0,w.delete(ne)),B.needsAnimating[ne]=!0;const Q=t.getValue(ne);Q&&(Q.liveStyle=!1)};for(const ne in N){const Q=M[ne],ae=L[ne];if(S.hasOwnProperty(ne))continue;let oe=!1;ng(Q)&&ng(ae)?oe=!e2(Q,ae):oe=Q!==ae,oe?Q!=null?fe(ne):w.add(ne):Q!==void 0&&w.has(ne)?fe(ne):B.protectedKeys[ne]=!0}B.prevProp=F,B.prevResolvedValues=M,B.isActive&&(S={...S,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(q&&E)||A)&&v.push(...D.map(ne=>({animation:ne,options:{type:V}})))}if(w.size){const k={};w.forEach(V=>{const B=t.getBaseTarget(V),F=t.getValue(V);F&&(F.liveStyle=!0),k[V]=B!=null?B:null}),v.push({animation:k})}let I=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(v):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const v=u(f);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=W1(),r=!0}}}function RM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!e2(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W1(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PM extends Yi{constructor(e){super(e),e.animationState||(e.animationState=IM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let NM=0;class DM extends Yi{constructor(){super(...arguments),this.id=NM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const MM={animation:{Feature:PM},exit:{Feature:DM}};function Uu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function oc(t){return{point:{x:t.pageX,y:t.pageY}}}const VM=t=>e=>zy(e)&&t(e,oc(e));function Su(t,e,n,r){return Uu(t,e,VM(n),r)}const q1=(t,e)=>Math.abs(t-e);function FM(t,e){const n=q1(t.x,e.x),r=q1(t.y,e.y);return Math.sqrt(n**2+r**2)}class H2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=sm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=FM(v.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:j}=v,{timestamp:I}=mn;this.history.push({...j,timestamp:I});const{onStart:k,onMove:V}=this.handlers;w||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=rm(w,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:S,onSessionEnd:j,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=sm(v.type==="pointercancel"?this.lastMoveEventInfo:rm(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,k),j&&j(v,k)},!zy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const u=oc(e),d=rm(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=mn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,sm(d,this.history)),this.removeListeners=ic(Su(this.contextWindow,"pointermove",this.handlePointerMove),Su(this.contextWindow,"pointerup",this.handlePointerUp),Su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),li(this.updatePoint)}}function rm(t,e){return e?{point:e(t.point)}:t}function K1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sm({point:t},e){return{point:t,delta:K1(t,W2(e)),offset:K1(t,LM(e)),velocity:BM(e,.1)}}function LM(t){return t[0]}function W2(t){return t[t.length-1]}function BM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=W2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Es(e)));)n--;if(!r)return{x:0,y:0};const l=js(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const q2=1e-4,OM=1-q2,$M=1+q2,K2=.01,UM=0-K2,zM=0+K2;function gr(t){return t.max-t.min}function GM(t,e,n){return Math.abs(t-e)<=n}function Q1(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=gr(n)/gr(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OM&&t.scale<=$M||isNaN(t.scale))&&(t.scale=1),(t.translate>=UM&&t.translate<=zM||isNaN(t.translate))&&(t.translate=0)}function Tu(t,e,n,r){Q1(t.x,e.x,n.x,r?r.originX:void 0),Q1(t.y,e.y,n.y,r?r.originY:void 0)}function Y1(t,e,n){t.min=n.min+e.min,t.max=t.min+gr(e)}function HM(t,e,n){Y1(t.x,e.x,n.x),Y1(t.y,e.y,n.y)}function X1(t,e,n){t.min=e.min-n.min,t.max=t.min+gr(e)}function Eu(t,e,n){X1(t.x,e.x,n.x),X1(t.y,e.y,n.y)}function WM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function J1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qM(t,{top:e,left:n,bottom:r,right:i}){return{x:J1(t.x,n,i),y:J1(t.y,e,r)}}function Z1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function KM(t,e){return{x:Z1(t.x,e.x),y:Z1(t.y,e.y)}}function QM(t,e){let n=.5;const r=gr(t),i=gr(e);return i>r?n=zo(e.min,e.max-r,t.min):r>i&&(n=zo(t.min,t.max-i,e.min)),ui(0,1,n)}function YM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hg=.35;function XM(t=hg){return t===!1?t=0:t===!0&&(t=hg),{x:eb(t,"left","right"),y:eb(t,"top","bottom")}}function eb(t,e,n){return{min:tb(t,e),max:tb(t,n)}}function tb(t,e){return typeof t=="number"?t:t[e]||0}const nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ga=()=>({x:nb(),y:nb()}),rb=()=>({min:0,max:0}),Rt=()=>({x:rb(),y:rb()});function Ir(t){return[t("x"),t("y")]}function Q2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function JM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function im(t){return t===void 0||t===1}function fg({scale:t,scaleX:e,scaleY:n}){return!im(t)||!im(e)||!im(n)}function Po(t){return fg(t)||Y2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Y2(t){return sb(t.x)||sb(t.y)}function sb(t){return t&&t!=="0%"}function Th(t,e,n){const r=t-n,i=e*r;return n+i}function ib(t,e,n,r,i){return i!==void 0&&(t=Th(t,i,r)),Th(t,n,r)+e}function pg(t,e=0,n=1,r,i){t.min=ib(t.min,e,n,r,i),t.max=ib(t.max,e,n,r,i)}function X2(t,{x:e,y:n}){pg(t.x,e.translate,e.scale,e.originPoint),pg(t.y,n.translate,n.scale,n.originPoint)}const ob=.999999999999,ab=1.0000000000001;function e4(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,u;for(let d=0;d<i;d++){l=n[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,X2(t,u)),r&&Po(l.latestValues)&&Wa(t,l.latestValues))}e.x<ab&&e.x>ob&&(e.x=1),e.y<ab&&e.y>ob&&(e.y=1)}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function lb(t,e,n,r,i=.5){const l=_t(t.min,t.max,i);pg(t,e,n,l,r)}function Wa(t,e){lb(t.x,e.x,e.scaleX,e.scale,e.originX),lb(t.y,e.y,e.scaleY,e.scale,e.originY)}function J2(t,e){return Q2(ZM(t.getBoundingClientRect(),e))}function t4(t,e,n){const r=J2(t,n),{scroll:i}=e;return i&&(Ha(r.x,i.offset.x),Ha(r.y,i.offset.y)),r}const Z2=({current:t})=>t?t.ownerDocument.defaultView:null,n4=new WeakMap;class r4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(oc(g).point)},l=(g,v)=>{const{drag:w,dragPropagation:S,onDragStart:j}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZD(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(k=>{let V=this.getAxisMotionValue(k).get()||0;if(Cs.test(V)){const{projection:B}=this.visualElement;if(B&&B.layout){const F=B.layout.layoutBox[k];F&&(V=gr(F)*(parseFloat(V)/100))}}this.originPoint[k]=V}),j&&pt.postRender(()=>j(g,v)),sg(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:j,onDrag:I}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:k}=v;if(S&&this.currentDirection===null){this.currentDirection=s4(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),I&&I(g,v)},d=(g,v)=>this.stop(g,v),f=()=>Ir(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new H2(e,{onSessionStart:i,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Z2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&pt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Dd(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=WM(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=qM(i.layoutBox,n):this.constraints=!1,this.elastic=XM(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ir(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=YM(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ua(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=t4(r,i.root,this.visualElement.getTransformPagePoint());let u=KM(i.layout.layoutBox,l);if(n){const d=n(JM(u));this.hasMutatedConstraints=!!d,d&&(u=Q2(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Ir(g=>{if(!Dd(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const w=i?200:1e6,S=i?40:1e7,j={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,j)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sg(this.visualElement,e),r.start(tv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ir(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ir(n=>{const{drag:r}=this.getProps();if(!Dd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[n];l.set(e[n]-_t(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ua(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ir(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();i[u]=QM({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ir(u=>{if(!Dd(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(_t(f,p,i[u]))})}addListeners(){if(!this.visualElement.current)return;n4.set(this.visualElement,this);const e=this.visualElement.current,n=Su(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ua(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pt.read(r);const u=Uu(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ir(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:u=hg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function s4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class i4 extends Yi{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new r4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const ub=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class o4 extends Yi{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new H2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ub(e),onStart:ub(n),onMove:r,onEnd:(l,u)=>{delete this.session,i&&pt.postRender(()=>i(l,u))}}}mount(){this.removePointerDownListener=Su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const th={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=cb(t,e.target.x),r=cb(t,e.target.y);return`${n}% ${r}%`}},a4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ki.parse(t);if(i.length>5)return r;const l=Ki.createTransformer(t),u=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+u]/=d,i[1+u]/=f;const p=_t(d,f,.5);return typeof i[2+u]=="number"&&(i[2+u]/=p),typeof i[3+u]=="number"&&(i[3+u]/=p),l(i)}};class l4 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=e;ND(u4),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),th.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,u=r.projection;return u&&(u.isPresent=l,i||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||pt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eT(t){const[e,n]=QN(),r=P.useContext(NS);return o.jsx(l4,{...t,layoutGroup:r,switchLayoutGroup:P.useContext($S),isPresent:e,safeToRemove:n})}const u4={borderRadius:{...ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:a4};function tT(t,e,n){const r=rn(t)?t:ol(t);return r.start(tv("",r,e,n)),r.animation}function nT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const c4=(t,e)=>t.depth-e.depth;class d4{constructor(){this.children=[],this.isDirty=!1}add(e){Gy(this.children,e),this.isDirty=!0}remove(e){ef(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c4),this.isDirty=!1,this.children.forEach(e)}}function h4(t,e){const n=ks.now(),r=({timestamp:i})=>{const l=i-n;l>=e&&(li(r),t(l-e))};return pt.read(r,!0),()=>li(r)}const rT=["TopLeft","TopRight","BottomLeft","BottomRight"],f4=rT.length,db=t=>typeof t=="string"?parseFloat(t):t,hb=t=>typeof t=="number"||Ne.test(t);function p4(t,e,n,r,i,l){i?(t.opacity=_t(0,n.opacity!==void 0?n.opacity:1,m4(r)),t.opacityExit=_t(e.opacity!==void 0?e.opacity:1,0,g4(r))):l&&(t.opacity=_t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<f4;u++){const d=`border${rT[u]}Radius`;let f=fb(e,d),p=fb(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||hb(f)===hb(p)?(t[d]=Math.max(_t(db(f),db(p),r),0),(Cs.test(p)||Cs.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function fb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const m4=sT(0,.5,v2),g4=sT(.5,.95,mr);function sT(t,e,n){return r=>r<t?0:r>e?1:n(zo(t,e,r))}function pb(t,e){t.min=e.min,t.max=e.max}function kr(t,e){pb(t.x,e.x),pb(t.y,e.y)}function mb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gb(t,e,n,r,i){return t-=e,t=Th(t,1/n,r),i!==void 0&&(t=Th(t,1/i,r)),t}function y4(t,e=0,n=1,r=.5,i,l=t,u=t){if(Cs.test(e)&&(e=parseFloat(e),e=_t(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=_t(l.min,l.max,r);t===l&&(d-=e),t.min=gb(t.min,e,n,d,i),t.max=gb(t.max,e,n,d,i)}function yb(t,e,[n,r,i],l,u){y4(t,e[n],e[r],e[i],e.scale,l,u)}const v4=["x","scaleX","originX"],x4=["y","scaleY","originY"];function vb(t,e,n,r){yb(t.x,e,v4,n?n.x:void 0,r?r.x:void 0),yb(t.y,e,x4,n?n.y:void 0,r?r.y:void 0)}function xb(t){return t.translate===0&&t.scale===1}function iT(t){return xb(t.x)&&xb(t.y)}function bb(t,e){return t.min===e.min&&t.max===e.max}function b4(t,e){return bb(t.x,e.x)&&bb(t.y,e.y)}function wb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oT(t,e){return wb(t.x,e.x)&&wb(t.y,e.y)}function _b(t){return gr(t.x)/gr(t.y)}function Sb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class w4{constructor(){this.members=[]}add(e){Gy(this.members,e),e.scheduleRender()}remove(e){if(ef(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _4(t,e,n){let r="";const i=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((i||l||u)&&(r=`translate3d(${i}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:w,skewX:S,skewY:j}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const No={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},gu=typeof window!="undefined"&&window.MotionDebug!==void 0,om=["","X","Y","Z"],S4={visibility:"hidden"},Tb=1e3;let T4=0;function am(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=d2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(i||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aT(r)}function lT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},d=e==null?void 0:e()){this.id=T4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gu&&(No.totalNodes=No.resolvedTargetDeltas=No.recalculatedProjection=0),this.nodes.forEach(C4),this.nodes.forEach(P4),this.nodes.forEach(N4),this.nodes.forEach(k4),gu&&window.MotionDebug.record(No)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new d4)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Hy),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nT(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let v;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=h4(w,250),th.hasAnimatedSinceResize&&(th.hasAnimatedSinceResize=!1,this.nodes.forEach(jb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeTargetChanged:S,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||L4,{onLayoutAnimationStart:k,onLayoutAnimationComplete:V}=g.getProps(),B=!this.targetLayout||!oT(this.targetLayout,j)||S,F=!w&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,F);const U={...Oy(I,"layout"),onPlay:k,onComplete:V};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else w||jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Eb);return}this.isUpdating||this.nodes.forEach(I4),this.isUpdating=!1,this.nodes.forEach(R4),this.nodes.forEach(E4),this.nodes.forEach(j4),this.clearAllSnapshots();const d=ks.now();mn.delta=ui(0,1e3/60,d-mn.timestamp),mn.timestamp=d,mn.isProcessing=!0,Xp.update.process(mn),Xp.preRender.process(mn),Xp.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A4),this.sharedNodes.forEach(M4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!iT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||Po(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),B4(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return Rt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(O4))){const{scroll:g}=this.root;g&&(Ha(f.x,g.offset.x),Ha(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=Rt();if(kr(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&kr(f,u),Ha(f.x,v.offset.x),Ha(f.y,v.offset.y))}return f}applyTransform(u,d=!1){const f=Rt();kr(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Wa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Po(g.latestValues)&&Wa(f,g.latestValues)}return Po(this.latestValues)&&Wa(f,this.latestValues),f}removeTransform(u){const d=Rt();kr(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Po(p.latestValues))continue;fg(p.latestValues)&&p.updateSnapshot();const g=Rt(),v=p.measurePageBox();kr(g,v),vb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Po(this.latestValues)&&vb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kr(this.target,this.layout.layoutBox),X2(this.target,this.targetDelta)):kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Eu(this.relativeTargetOrigin,this.target,S.target),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gu&&No.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||Y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;kr(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;e4(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Rt());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mb(this.prevProjectionDelta.x,this.projectionDelta.x),mb(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!Sb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Sb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),gu&&No.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ga(),this.projectionDelta=Ga(),this.projectionDeltaWithTransform=Ga()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=Ga();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Rt(),S=f?f.source:void 0,j=this.layout?this.layout.source:void 0,I=S!==j,k=this.getStack(),V=!k||k.members.length<=1,B=!!(I&&!V&&this.options.crossfade===!0&&!this.path.some(F4));this.animationProgress=0;let F;this.mixTargetDelta=U=>{const $=U/1e3;Cb(v.x,u.x,$),Cb(v.y,u.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V4(this.relativeTarget,this.relativeTargetOrigin,w,$),F&&b4(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Rt()),kr(F,this.relativeTarget)),I&&(this.animationValues=g,p4(g,p,this.latestValues,$,B,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{th.hasAnimatedSinceResize=!0,this.currentAnimation=tT(0,Tb,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&uT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Rt();const v=gr(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=gr(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}kr(d,f),Wa(d,g),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new w4),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&am("z",u,p,this.animationValues);for(let g=0;g<om.length;g++)am(`rotate${om[g]}`,u,p,this.animationValues),am(`skew${om[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return S4;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Zd(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Zd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Po(this.latestValues)&&(I.transform=g?g({},""):"none",this.hasProjected=!1),I}const w=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=_4(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:S,y:j}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${j.origin*100}% 0`,v.animationValues?p.opacity=v===this?(f=(d=w.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const I in vh){if(w[I]===void 0)continue;const{correct:k,applyTo:V}=vh[I],B=p.transform==="none"?w[I]:k(w[I],v);if(V){const F=V.length;for(let U=0;U<F;U++)p[V[U]]=B}else p[I]=B}return this.options.layoutId&&(p.pointerEvents=v===this?Zd(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Eb),this.root.sharedNodes.clear()}}}function E4(t){t.updateLayout()}function j4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?Ir(v=>{const w=u?n.measuredBox[v]:n.layoutBox[v],S=gr(w);w.min=r[v].min,w.max=w.min+S}):uT(l,n.layoutBox,r)&&Ir(v=>{const w=u?n.measuredBox[v]:n.layoutBox[v],S=gr(r[v]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const d=Ga();Tu(d,r,n.layoutBox);const f=Ga();u?Tu(f,t.applyTransform(i,!0),n.measuredBox):Tu(f,r,n.layoutBox);const p=!iT(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:S}=v;if(w&&S){const j=Rt();Eu(j,n.layoutBox,w.layoutBox);const I=Rt();Eu(I,r,S.layoutBox),oT(j,I)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=j,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function C4(t){gu&&No.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function k4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function A4(t){t.clearSnapshot()}function Eb(t){t.clearMeasurements()}function I4(t){t.isLayoutDirty=!1}function R4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function P4(t){t.resolveTargetDelta()}function N4(t){t.calcProjection()}function D4(t){t.resetSkewAndRotation()}function M4(t){t.removeLeadSnapshot()}function Cb(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kb(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function V4(t,e,n,r){kb(t.x,e.x,n.x,r),kb(t.y,e.y,n.y,r)}function F4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const L4={duration:.45,ease:[.4,0,.1,1]},Ab=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ib=Ab("applewebkit/")&&!Ab("chrome/")?Math.round:mr;function Rb(t){t.min=Ib(t.min),t.max=Ib(t.max)}function B4(t){Rb(t.x),Rb(t.y)}function uT(t,e,n){return t==="position"||t==="preserve-aspect"&&!GM(_b(e),_b(n),.2)}function O4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $4=lT({attachResizeListener:(t,e)=>Uu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lm={current:void 0},cT=lT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lm.current){const t=new $4({});t.mount(window),t.setOptions({layoutScroll:!0}),lm.current=t}return lm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),U4={pan:{Feature:o4},drag:{Feature:i4,ProjectionNode:cT,MeasureLayout:eT}};function Pb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&pt.postRender(()=>l(e,oc(e)))}class z4 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=KD(e,n=>(Pb(this.node,n,"Start"),r=>Pb(this.node,r,"End"))))}unmount(){}}class G4 extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic(Uu(this.node.current,"focus",()=>this.onFocus()),Uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&pt.postRender(()=>l(e,oc(e)))}class H4 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=JD(e,n=>(Nb(this.node,n,"Start"),(r,{success:i})=>Nb(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mg=new WeakMap,um=new WeakMap,W4=t=>{const e=mg.get(t.target);e&&e(t)},q4=t=>{t.forEach(W4)};function K4({root:t,...e}){const n=t||document;um.has(n)||um.set(n,{});const r=um.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(q4,{root:t,...e})),r[i]}function Q4(t,e,n){const r=K4(e);return mg.set(t,n),r.observe(t),()=>{mg.delete(t),r.unobserve(t)}}const Y4={some:0,all:1};class X4 extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Y4[i]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=p?g:v;w&&w(f)};return Q4(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(J4(e,n))&&this.startObserver()}unmount(){}}function J4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z4={inView:{Feature:X4},tap:{Feature:H4},focus:{Feature:G4},hover:{Feature:z4}},eV={layout:{ProjectionNode:cT,MeasureLayout:eT}},Eh={current:null},rv={current:!1};function dT(){if(rv.current=!0,!!Ey)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Eh.current=t.matches;t.addListener(e),e()}else Eh.current=!1}const tV=[...P2,kn,Ki],nV=t=>tV.find(R2(t)),ll=new WeakMap;function rV(t,e,n){for(const r in e){const i=e[r],l=n[r];if(rn(i))t.addValue(r,i);else if(rn(l))t.addValue(r,ol(i,{owner:t}));else if(l!==i)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=t.getStaticValue(r);t.addValue(r,ol(u!==void 0?u:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Db=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hT{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=ks.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,pt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Xh(n),this.isVariantNode=BS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const j=w[S];f[S]!==void 0&&rn(j)&&j.set(f[S],!1)}}mount(e){this.current=e,ll.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rv.current||dT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ll.delete(this.current),this.projection&&this.projection.unmount(),li(this.notifyUpdate),li(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ko.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in il){const n=il[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Db.length;r++){const i=Db[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,u=e[l];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=rV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ol(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(A2(i)||b2(i))?i=parseFloat(i):!nV(i)&&Ki.test(n)&&(i=j2(e,n)),this.setBaseTarget(e,rn(i)?i.get():i)),rn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=Py(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!rn(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fT extends hT{constructor(){super(...arguments),this.KeyframeResolver=N2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sV(t){return window.getComputedStyle(t)}class pT extends fT{constructor(){super(...arguments),this.type="html",this.renderInstance=KS}readValueFromInstance(e,n){if(Ko.has(n)){const r=Yy(n);return r&&r.default||0}else{const r=sV(e),i=(HS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return J2(e,n)}build(e,n,r){My(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return By(e,n,r)}}class mT extends fT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ko.has(n)){const r=Yy(n);return r&&r.default||0}return n=QS.has(n)?n:Ay(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JS(e,n,r)}build(e,n,r){Vy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){YS(e,n,r,i)}mount(e){this.isSVGTag=Ly(e.tagName),super.mount(e)}}const iV=(t,e)=>Ry(t)?new mT(e):new pT(e,{allowProjection:t!==P.Fragment}),oV=UD({...MM,...Z4,...U4,...eV},iV),gT=rD(oV);function yu(t){const e=_y(()=>ol(t)),{isStatic:n}=P.useContext(Ty);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function yT(t,e){const n=yu(e()),r=()=>n.set(e());return r(),DS(()=>{const i=()=>pt.preRender(r,!1,!0),l=t.map(u=>u.on("change",i));return()=>{l.forEach(u=>u()),li(r)}}),n}const aV=t=>t&&typeof t=="object"&&t.mix,lV=t=>aV(t)?t.mix:void 0;function uV(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],l=t[2+n],u=t[3+n],d=O2(i,l,{mixer:lV(l[0]),...u});return e?d(r):d}function cV(t){wu.current=[],t();const e=yT(wu.current,t);return wu.current=void 0,e}function Md(t,e,n,r){if(typeof t=="function")return cV(t);const i=typeof e=="function"?e:uV(e,n,r);return Array.isArray(t)?Mb(t,i):Mb([t],([l])=>i(l))}function Mb(t,e){const n=_y(()=>[]);return yT(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function vT(){!rv.current&&dT();const[t]=P.useState(Eh.current);return t}const dV=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function xT(t,e){return B2(t)?t[dV(0,t.length,e)]:t}function sv(t){return typeof t=="object"&&!Array.isArray(t)}function bT(t,e,n,r){return typeof t=="string"&&sv(e)?o2(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function hV(t,e,n){return t*(e+1)}function Vb(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function fV(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(ef(t,i),r--)}}function pV(t,e,n,r,i,l){fV(t,i,l);for(let u=0;u<e.length;u++)t.push({value:e[u],at:_t(i,l,r[u]),easing:xT(n,u)})}function mV(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function gV(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const yV="easeInOut";function vV(t,{defaultTransition:e={},...n}={},r,i){const l=e.duration||.3,u=new Map,d=new Map,f={},p=new Map;let g=0,v=0,w=0;for(let S=0;S<t.length;S++){const j=t[S];if(typeof j=="string"){p.set(j,v);continue}else if(!Array.isArray(j)){p.set(j.name,Vb(v,j.at,g,p));continue}let[I,k,V={}]=j;V.at!==void 0&&(v=Vb(v,V.at,g,p));let B=0;const F=(U,$,q,E=0,T=0)=>{const A=xV(U),{delay:D=0,times:M=U2(A),type:L="keyframes",repeat:N,repeatType:fe,repeatDelay:K=0,...re}=$;let{ease:ne=e.ease||"easeOut",duration:Q}=$;const ae=typeof D=="function"?D(E,T):D,oe=A.length,H=Zh(L)?L:i==null?void 0:i[L];if(oe<=2&&H){let je=100;if(oe===2&&_V(A)){const Ae=A[1]-A[0];je=Math.abs(Ae)}const me={...re};Q!==void 0&&(me.duration=Es(Q));const Ce=HD(me,je,H);ne=Ce.ease,Q=Ce.duration}Q!=null||(Q=l);const ee=v+ae;M.length===1&&M[0]===0&&(M[1]=1);const ye=M.length-A.length;if(ye>0&&$2(M,ye),A.length===1&&A.unshift(null),N){Q=hV(Q,N);const je=[...A],me=[...M];ne=Array.isArray(ne)?[...ne]:[ne];const Ce=[...ne];for(let Ae=0;Ae<N;Ae++){A.push(...je);for(let Pe=0;Pe<je.length;Pe++)M.push(me[Pe]+(Ae+1)),ne.push(Pe===0?"linear":xT(Ce,Pe-1))}mV(M,N)}const _e=ee+Q;pV(q,A,ne,M,ee,_e),B=Math.max(ae+Q,B),w=Math.max(_e,w)};if(rn(I)){const U=Fb(I,d);F(k,V,Lb("default",U))}else{const U=bT(I,k,r,f),$=U.length;for(let q=0;q<$;q++){k=k,V=V;const E=U[q],T=Fb(E,d);for(const A in k)F(k[A],bV(V,A),Lb(A,T),q,$)}}g=v,v+=B}return d.forEach((S,j)=>{for(const I in S){const k=S[I];k.sort(gV);const V=[],B=[],F=[];for(let $=0;$<k.length;$++){const{at:q,value:E,easing:T}=k[$];V.push(E),B.push(zo(0,w,q)),F.push(T||"easeOut")}B[0]!==0&&(B.unshift(0),V.unshift(V[0]),F.unshift(yV)),B[B.length-1]!==1&&(B.push(1),V.push(null)),u.has(j)||u.set(j,{keyframes:{},transition:{}});const U=u.get(j);U.keyframes[I]=V,U.transition[I]={...e,duration:w,ease:F,times:B,...n}}}),u}function Fb(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Lb(t,e){return e[t]||(e[t]=[]),e[t]}function xV(t){return Array.isArray(t)?t:[t]}function bV(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const wV=t=>typeof t=="number",_V=t=>t.every(wV);function SV(t,e){return t in e}class TV extends hT{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(SV(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Rt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function EV(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=nT(t)?new mT(e):new pT(e);n.mount(t),ll.set(t,n)}function jV(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new TV(e);n.mount(t),ll.set(t,n)}function CV(t,e){return rn(t)||typeof t=="number"||typeof t=="string"&&!sv(e)}function wT(t,e,n,r){const i=[];if(CV(t,e))i.push(tT(t,sv(e)&&e.default||e,n&&(n.default||n)));else{const l=bT(t,e,r),u=l.length;for(let d=0;d<u;d++){const f=l[d],p=f instanceof Element?EV:jV;ll.has(f)||p(f);const g=ll.get(f),v={...n};"delay"in v&&typeof v.delay=="function"&&(v.delay=v.delay(d,u)),i.push(...nv(g,{...e,transition:v},{}))}}return i}function kV(t,e,n){const r=[];return vV(t,e,n,{spring:Zy}).forEach(({keyframes:l,transition:u},d)=>{r.push(...wT(d,l,u))}),r}function AV(t){return Array.isArray(t)&&t.some(Array.isArray)}function IV(t){function e(n,r,i){let l=[];return AV(n)?l=kV(n,r,t):l=wT(n,r,i,t),new t2(l)}return e}const Vd=IV(),Fo={bg:"#0C1C2E",nav:"#0A1728",border:"#2B4C73",icon:"#5C8BC6"};function RV(){return o.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Fo.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function PV(){return o.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[o.jsxs("defs",{children:[o.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[o.jsx("stop",{offset:"0%",stopColor:Fo.icon,stopOpacity:"0.42"}),o.jsx("stop",{offset:"70%",stopColor:Fo.icon,stopOpacity:"0"})]}),o.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[o.jsx("stop",{offset:"0%",stopColor:Fo.icon,stopOpacity:"0.20"}),o.jsx("stop",{offset:"70%",stopColor:Fo.icon,stopOpacity:"0"})]})]}),o.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),o.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function Bb({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=vT();return o.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Fo.border,background:"var(--nav, "+Fo.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[o.jsx(RV,{}),o.jsx(gT.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),o.jsx(PV,{}),o.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const cm={borderColor:"#2B4C73",background:"#1A2F4A"},Fd={borderColor:"#2B4C73",background:"#152A42"};function ts({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:l,right:u,children:d,rounded:f="rounded-3xl",padded:p=!0,centerFramed:g=!1,leftWidth:v=0,rightWidth:w=0,stickyRails:S=!0,mode:j="card",outerPadding:I="px-4 py-3",leftPlacement:k="inside",stickyTopbar:V=!0,stickySubheader:B=!0,shellViewportOffset:F="var(--app-topbar-h,72px)",topbarHeight:U=56}){const $={"--left":typeof v=="number"?`${v}px`:v,"--right":typeof w=="number"?`${w}px`:w},q=o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:cm,children:t}),(e||n||r)&&o.jsxs("div",{className:[V?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:cm,children:[o.jsxs("div",{className:"min-w-0",children:[e&&o.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&o.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?o.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&o.jsx("div",{className:[B?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...B?{top:V?`${U}px`:0}:{},...cm},children:i})]}),E=j==="card"?({children:A})=>o.jsx(Bb,{rounded:f,padded:p,children:A}):({children:A})=>o.jsx("div",{className:`w-full ${I}`,children:A}),T=o.jsx("div",{className:"relative min-h-0 h-full",style:$,children:o.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Fd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"}),g?o.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Fd,children:d}):o.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),u?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Fd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:u}):w?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"})]})});return k==="bleed"&&j==="card"?o.jsx("div",{className:`w-full ${I}`,children:o.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[q,o.jsx("div",{className:"flex-1 min-h-0",style:$,children:o.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Fd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"}),o.jsx(Bb,{rounded:f,padded:p,children:o.jsx("div",{className:"flex-1 min-h-0 h-full",children:T})})]})})]})}):o.jsx(E,{children:o.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${F})`},children:[q,o.jsx("div",{className:"flex-1 min-h-0",children:T})]})})}function NV(){return o.jsx(ts,{hex:o.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"Überblick & aktuelle Aktivitäten",actions:o.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:o.jsx(DV,{}),right:o.jsx(MV,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsx(dm,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),o.jsx(dm,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),o.jsx(dm,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function DV(){return o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(hm,{to:"/dashboard/kpis",children:"KPIs"}),o.jsx(hm,{to:"/dashboard/activity",children:"Activity"}),o.jsx(hm,{to:"/dashboard/progression",children:"Progression"})]})]})}function MV(){return o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),o.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird später nur bei Login angezeigt."}),o.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),o.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function dm({to:t,title:e,desc:n}){return o.jsxs(yn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[o.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?o.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function hm({to:t,children:e}){return o.jsx(yn,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function VV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard – KPIs"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(fm,{label:"Letzter Scan",value:"—",hint:"Zeitpunkt des letzten Uploads"}),o.jsx(fm,{label:"Tracked Spieler",value:"—",hint:"Gesamtzahl deiner getrackten Chars"}),o.jsx(fm,{label:"Gilden-Tasks",value:"—",hint:"Offene Aufgaben im GuildHub"})]})]})}function fm({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),o.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function FV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard – Activity"}),o.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),o.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[o.jsx("li",{children:"🗒️ Neues Scan-File hochgeladen"}),o.jsx("li",{children:"🏆 Spieler-PR: Lvl-Up / Scrapbook-Update"}),o.jsx("li",{children:"🏰 Gilden-Event geplant"})]})]})}function LV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard – Progression"}),o.jsx("p",{style:{opacity:.8},children:"Persönliche Ziele & Fortschritt (Platzhalter)."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[o.jsx(pm,{title:"Scrapbook 100%",progress:72}),o.jsx(pm,{title:"Fortress Ausbaustufe",progress:48}),o.jsx(pm,{title:"Underworld Boss",progress:35})]})]})}function pm({title:t,progress:e}){return o.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),o.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:o.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),o.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function BV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Discover"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Ma,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),o.jsx(Ma,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),o.jsx(Ma,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),o.jsx(Ma,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),o.jsx(Ma,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons…"}),o.jsx(Ma,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Ma({to:t,title:e,desc:n}){return o.jsxs(yn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}const gg=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(gg.map(t=>[t.id,t]));const _T="TL_FILTERS_V2",_s={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function OV(){var t;try{const e=localStorage.getItem(_T);if(!e)return _s;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:_s.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:_s.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:_s.filterMode;return{..._s,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:i,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:_s.sortBy}}catch(e){return _s}}function $V(t){try{localStorage.setItem(_T,JSON.stringify(t))}catch(e){}}const ST=P.createContext(null);function UV({children:t}){const[e,n]=P.useState(()=>OV());P.useEffect(()=>{$V(e)},[e]);const r=U=>n($=>({...$,servers:Array.from(new Set(U))})),i=U=>n($=>{const q=new Set($.servers);return q.has(U)?q.delete(U):q.add(U),{...$,servers:Array.from(q)}}),l=()=>n(U=>({...U,servers:[]})),u=U=>n($=>({...$,classes:Array.from(new Set(U))})),d=U=>n($=>{const q=new Set($.classes);return q.has(U)?q.delete(U):q.add(U),{...$,classes:Array.from(q)}}),f=()=>n(U=>({...U,classes:[]})),p=U=>n($=>({...$,days:U})),g=U=>p(U),v=U=>n($=>({...$,sortBy:U||"level"})),w=U=>n($=>({...$,favoritesOnly:!!U})),S=U=>n($=>({...$,activeOnly:!!U})),j=U=>n($=>({...$,filterMode:U})),I=U=>n($=>({...$,listView:U})),k=U=>n($=>({...$,bottomFilterOpen:!!U})),V=U=>n($=>({...$,serverSheetOpen:!!U})),B=()=>n(_s),F=P.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:l,setClasses:u,toggleClass:d,clearClasses:f,setDays:p,setRange:g,setSortBy:v,setFavoritesOnly:w,setActiveOnly:S,setFilterMode:j,setListView:I,setBottomFilterOpen:k,setServerSheetOpen:V,resetFilters:B}),[e]);return o.jsx(ST.Provider,{value:F,children:t})}function ac(){const t=P.useContext(ST);return t||{..._s,range:_s.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const zV="_hudWrap_107o7_9",GV="_hudBtn_107o7_11",HV="_hudSubBtn_107o7_15",WV="_iconRow_107o7_19",qV="_segmented_107o7_21",KV="_sortLabel_107o7_27",QV="_sortSelect_107o7_29",YV="_chip_107o7_31",XV="_isActive_107o7_33",Jn={hudWrap:zV,hudBtn:GV,hudSubBtn:HV,iconRow:WV,segmented:qV,sortLabel:KV,sortSelect:QV,chip:YV,isActive:XV};function JV({active:t=!1,title:e,iconUrl:n,fallback:r="❓",size:i=40,onClick:l}){const u=Math.round(i*.7),d=Ve.useMemo(()=>{const V=[],B=PS(n,u*2,u*2,"contain");B&&V.push(B);const F=di(n,u*2);return F&&F!==B&&V.push(F),!V.length&&n&&V.push(n),V},[n,u]),[f,p]=Ve.useState(0),[g,v]=Ve.useState(!1),[w,S]=Ve.useState(!1);Ve.useEffect(()=>p(0),[d]);const j=d[f]||"",I={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:w||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(I.background="rgba(255,255,255,.04)"),t&&(I.outline="2px solid #5C8BC6");const k={display:"block",width:u,height:u,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return o.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>S(!0),onBlur:()=>S(!1),style:I,children:j?o.jsx("img",{src:j,alt:e||"class",width:u,height:u,loading:"lazy",style:k,onError:()=>{p(V=>V+1<d.length?V+1:V)}}):o.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}function ZV(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:l,setSortBy:u,quickFav:d,setQuickFav:f,quickActive:p,setQuickActive:g,filterMode:v,setBottomFilterOpen:w,serverSheetOpen:S,setServerSheetOpen:j,resetAll:I}=ac();return o.jsxs("div",{className:Jn.hudWrap,children:[o.jsxs("button",{type:"button",className:Jn.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),j(!0)},"aria-haspopup":"dialog","aria-expanded":S||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:["🌐 Servers ",t.length?`(${t.length})`:""]}),o.jsxs("div",{className:Jn.iconRow,children:[Pn.map(k=>o.jsx(JV,{active:e.includes(k.key),title:k.label,iconUrl:k.iconUrl,fallback:k.fallback,size:40,onClick:()=>n(V=>V.includes(k.key)?V.filter(B=>B!==k.key):[...V,k.key])},k.key)),o.jsx("button",{type:"button",className:Jn.hudSubBtn,onClick:()=>n(Pn.map(k=>k.key)),children:"All"}),o.jsx("button",{type:"button",className:Jn.hudSubBtn,onClick:()=>n([]),children:"None"})]}),o.jsx("div",{className:Jn.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(k=>o.jsx("button",{type:"button","aria-pressed":r===k,onClick:()=>i(k),children:k},k))}),o.jsx("label",{className:Jn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),o.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:k=>u(k.target.value),className:Jn.sortSelect,"aria-label":"Sort",children:[o.jsx("option",{value:"level",children:"Level"}),o.jsx("option",{value:"scrapbook",children:"Scrapbook"}),o.jsx("option",{value:"activity",children:"Activity"}),o.jsx("option",{value:"lastScan",children:"Last scan"})]}),o.jsx("button",{type:"button",className:`${Jn.chip} ${d?Jn.isActive:""}`,onClick:()=>f(k=>!k),children:"⭐ Favorites"}),o.jsx("button",{type:"button",className:`${Jn.chip} ${p?Jn.isActive:""}`,onClick:()=>g(k=>!k),children:"⚡ Active"}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsx("button",{type:"button",className:Jn.hudSubBtn,onClick:I,children:"Reset"}),v==="sheet"&&o.jsx("button",{type:"button",className:Jn.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),w(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const sn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function eF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:l,onSelectAllInRegion:u,onClearAll:d}){const[f,p]=P.useState(""),g=P.useRef(null),[v,w]=P.useState(null),[S,j]=P.useState(!1);P.useEffect(()=>{if(!t)return;const F=U=>{U.key==="Escape"&&e()};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,e]),P.useEffect(()=>{if(t&&g.current){const F=g.current.querySelector("#sheet-serversearch");F==null||F.focus()}},[t]);const I=P.useMemo(()=>["EU","US","INT","Fusion"].every(U=>{var $;return!(($=r==null?void 0:r[U])!=null&&$.length)}),[r]);P.useEffect(()=>{if(!t||!I)return;let F=!0;return(async()=>{try{j(!0);const U=await ss(zt(ht,"stats_public","toplists_bundle_v1"));if(!F)return;const $=U.data()||{},q=Array.isArray($.servers)?$.servers:JSON.parse($.servers||"[]");w(tF(q))}catch(U){w(null)}finally{F&&j(!1)}})(),()=>{F=!1}},[t,I]);const k=P.useMemo(()=>I?v!=null?v:{EU:[],US:[],INT:[],Fusion:[]}:r,[I,r,v]),V=P.useMemo(()=>Object.keys(k),[k]),B=F=>{const U=f.trim().toLowerCase();return U?F.toLowerCase().includes(U):!0};return t?o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:rF,onClick:F=>{F.target===F.currentTarget&&e()},children:o.jsxs("div",{ref:g,style:n==="modal"?TT:sF,className:"sf-server-sheet",children:[o.jsxs("div",{style:iF,children:[o.jsx("h2",{id:"server-dialog-title",style:oF,children:"Select servers"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",onClick:d,style:Ob,children:"Clear"}),o.jsx("button",{type:"button",onClick:e,style:fF,children:"Done"})]})]}),o.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[o.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),o.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers…",value:f,onChange:F=>p(F.target.value),"aria-label":"Search servers",autoComplete:"off",style:lF})]}),o.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:V.map(F=>{const U=(k[F]||[]).filter(B);return o.jsxs("section",{"aria-labelledby":`region-${F}`,children:[o.jsxs("div",{style:uF,children:[o.jsxs("h3",{id:`region-${F}`,style:aF,children:[F," ",S&&I?o.jsx("span",{style:{marginLeft:6,fontSize:12,color:sn.text2},children:"(loading…)"}):null]}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{type:"button",style:Ob,onClick:()=>{u?u(F):U.filter(q=>!i.includes(q)).forEach(l)},children:"Select all"})})]}),o.jsxs("div",{style:cF,children:[U.map($=>{const q=i.includes($);return o.jsx("button",{type:"button",onClick:()=>l($),"aria-pressed":q,title:$,style:{...dF,...q?hF:null},children:$},$)}),U.length===0&&o.jsx("div",{style:{color:sn.text2,fontSize:13,padding:"4px 2px"},children:S&&I?"Loading…":"No servers found"})]})]},F)})})]})}):null}function tF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(nF)),e}function nF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const rF={position:"fixed",inset:0,background:sn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},TT={width:"min(900px, 100%)",background:sn.tile,border:`1px solid ${sn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:sn.text},sF={...TT,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},iF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},oF={fontSize:18,margin:0},aF={fontSize:14,margin:0,color:sn.text2},lF={width:"100%",background:sn.input,color:sn.text,border:`1px solid ${sn.line}`,borderRadius:12,padding:"10px 12px"},uF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},cF={display:"flex",flexWrap:"wrap",gap:8},dF={background:sn.chip,border:`1px solid ${sn.line}`,padding:"6px 10px",borderRadius:999,color:sn.text},hF={outline:`2px solid ${sn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},fF={background:"#25456B",color:sn.text,border:`1px solid ${sn.accent}`,borderRadius:10,padding:"8px 12px"},Ob={background:"transparent",color:sn.text,border:`1px solid ${sn.line}`,borderRadius:10,padding:"8px 12px"},pF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=pF,document.head.appendChild(e)}}const xn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function mF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:l,sortBy:u,setSortBy:d,quickFav:f,setQuickFav:p,quickActive:g,setQuickActive:v}=ac(),w=P.useRef(null);return P.useEffect(()=>{if(!t)return;const S=j=>{j.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),P.useEffect(()=>{if(t&&w.current){const S=w.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),t?o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:gF,onClick:S=>{S.target===S.currentTarget&&e()},children:o.jsxs("div",{ref:w,style:yF,children:[o.jsxs("div",{style:vF,children:[o.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:xn.text},children:"Filters"}),o.jsx("button",{type:"button",onClick:e,style:bF,children:"Done"})]}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),o.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search…",value:n,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:ET})]}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[o.jsx("span",{style:{color:xn.text2,fontSize:12},children:"Range"}),o.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(S=>o.jsx("button",{type:"button","aria-pressed":i===S,onClick:()=>l(S),style:{...mm,...i===S?gm:null},children:S},S))})]}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[o.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:xn.text2,fontSize:12},children:"Sort"}),o.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:u,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:xF,children:[o.jsx("option",{value:"sum",children:"Base Sum"}),o.jsx("option",{value:"main",children:"Main Base Stat"}),o.jsx("option",{value:"constitution",children:"Constitution"}),o.jsx("option",{value:"level",children:"Level"}),o.jsx("option",{value:"delta",children:"Δ Rank"}),o.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[o.jsx("button",{type:"button",onClick:()=>p(S=>!S),"aria-pressed":f,style:{...mm,...f?gm:null},children:"⭐ Favorites"}),o.jsx("button",{type:"button",onClick:()=>v(S=>!S),"aria-pressed":g,style:{...mm,...g?gm:null},children:"⚡ Active"})]})]})}):null}const gF={position:"fixed",inset:0,background:xn.backdrop,zIndex:60,display:"grid",alignItems:"end"},yF={background:xn.tile,borderTop:`1px solid ${xn.line}`,borderLeft:`1px solid ${xn.line}`,borderRight:`1px solid ${xn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:xn.text,maxHeight:"80vh",overflow:"auto"},vF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},ET={width:"100%",background:xn.input,color:xn.text,border:`1px solid ${xn.line}`,borderRadius:12,padding:"10px 12px"},xF={...ET,appearance:"none"},mm={background:"#14273E",border:`1px solid ${xn.line}`,padding:"6px 10px",borderRadius:999,color:xn.text},gm={outline:`2px solid ${xn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},bF={background:"#25456B",color:xn.text,border:`1px solid ${xn.accent}`,borderRadius:10,padding:"8px 12px"},wF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=wF,document.head.appendChild(e)}}function _F(){var i;const t=ac(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:o.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:o.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var u,d,f,p,g,v,w;return o.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[o.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(u=l.name)!=null?u:""}),o.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),o.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",o.jsx("span",{style:{textTransform:"uppercase"},children:(f=l.class)!=null?f:""})," • Lv ",(p=l.level)!=null?p:""," • Scrap ",(g=l.scrapbook)!=null?g:""]}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[o.jsx(ym,{children:l.active?"Active":"Idle"}),l.favorite&&o.jsx(ym,{children:"★ Fav"}),o.jsx(ym,{children:`Scan ${(v=l.lastScanDays)!=null?v:"?"}d`})]})]},(w=l.id)!=null?w:`${l.name}-${l.server}`)})}),e==="buttons"&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var u,d,f,p;return o.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&"★ ",(u=l.name)!=null?u:"",o.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:""," • Lv ",(f=l.level)!=null?f:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function ym({children:t}){return o.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const jT=P.createContext(null),$b=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function SF(t,e){return t.timeRange===e.timeRange&&$b(t.servers,e.servers)&&$b(t.classes,e.classes)}function TF(t,e){return t.field===e.field&&t.dir===e.dir}function EF({children:t}){const[e,n]=P.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=P.useState({field:"Level",dir:"desc"}),[l,u]=P.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=P.useCallback(v=>{n(w=>{const S=typeof v=="function"?v(w):{...w,...v};return SF(w,S)?w:S})},[]),f=P.useCallback(v=>{i(w=>{const S=typeof v=="function"?v(w):v;return TF(w,S)?w:S})},[]),p=P.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);P.useEffect(()=>{let v=!1;return v||u(w=>w.loading||w.error||w.data.length?{...w,loading:!1,error:null}:w),()=>{v=!0}},[p]);const g=P.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:f}),[l,e,r,d,f]);return o.jsx(jT.Provider,{value:g,children:t})}function jF(){const t=P.useContext(jT);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function CF(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function kF(){const t=ac(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:l,setBottomFilterOpen:u,serverSheetOpen:d,setServerSheetOpen:f,servers:p,setServers:g,classes:v,range:w,sortBy:S}=t;return o.jsxs(o.Fragment,{children:[o.jsxs(ts,{mode:"card",title:"Top Lists",actions:o.jsx(IF,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?o.jsx(ZV,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[o.jsx(_F,{}),r==="table"&&o.jsx(EF,{db:ht,children:o.jsx(AF,{servers:p!=null?p:[],classes:v!=null?v:[],range:w!=null?w:"all",sortKey:S!=null?S:"level"})})]}),o.jsx(eF,{mode:"modal",open:d,onClose:()=>f(!1),serversByRegion:gg,selected:p,onToggle:j=>g(I=>I.includes(j)?I.filter(k=>k!==j):[...I,j]),onSelectAllInRegion:j=>g(gg[j]),onClearAll:()=>g([])}),o.jsx(mF,{open:e==="sheet"&&l,onClose:()=>u(!1)})]})}function AF({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:l,setSort:u}=jF(),{loading:d,error:f,data:p,lastUpdated:g}=i;P.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),P.useEffect(()=>{const w=CF(r);u(w)},[r,u]);const v=w=>w==null?"":new Intl.NumberFormat("en").format(w);return o.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[o.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[o.jsxs("div",{children:[d?"Loading…":f?"Error":"Ready"," • ",p.length," rows"]}),o.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),f&&o.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[o.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),o.jsx("div",{style:{wordBreak:"break-all"},children:f}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{padding:"8px 6px"},children:"#"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Δ Rank"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),o.jsxs("tbody",{children:[p.map((w,S)=>{var j,I,k;return o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("td",{style:{padding:"8px 6px"},children:w["#"]}),o.jsx("td",{style:{padding:"8px 6px"},children:w["Δ Rank"]}),o.jsx("td",{style:{padding:"8px 6px"},children:w.Server}),o.jsx("td",{style:{padding:"8px 6px"},children:w.Name}),o.jsx("td",{style:{padding:"8px 6px"},children:w.Class}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(w.Level)}),o.jsx("td",{style:{padding:"8px 6px"},children:(j=w.Guild)!=null?j:""}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(w.Main)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(w.Con)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(w["Sum Base Stats"])}),o.jsx("td",{style:{padding:"8px 6px"},children:(I=w.Ratio)!=null?I:""}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(w.Mine)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(w.Treasury)}),o.jsx("td",{style:{padding:"8px 6px"},children:(k=w["Last Scan"])!=null?k:""}),o.jsx("td",{style:{padding:"8px 6px"},children:w["Stats+"]})]},`${w.Name}-${w.Server}-${S}`)}),d&&p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:15,style:{padding:12},children:"Loading…"})}),!d&&!f&&p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function IF(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:l}=ac();return o.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[o.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[o.jsx(Ub,{to:"/toplists/players",label:"Players"}),o.jsx(Ub,{to:"/toplists/guilds",label:"Guilds"})]}),o.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),o.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[o.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),o.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),o.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),o.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:"🌐 Servers"}),o.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[o.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),o.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),o.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Ub({to:t,label:e}){return o.jsx(fr,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const RF=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function PF(){return o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds · snapshot (latest)"}),RF.map(t=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[o.jsxs("div",{children:["#",t.rank]}),o.jsxs("div",{children:[t.name," — ",t.server]}),o.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),o.jsxs("div",{children:["Δ ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function NF(t="players"){const e=Ho(),{search:n,pathname:r}=Is();return[new URLSearchParams(n).get("tab")||t,d=>{const f=new URLSearchParams(n);f.set("tab",d),e(`${r}?${f.toString()}`,{replace:!1})}]}function DF(){const[t,e]=NF("players");return o.jsx(UV,{children:t==="players"?o.jsx(kF,{tab:t,setTab:e}):o.jsx(PF,{tab:t,setTab:e})})}function MF(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players – Browse"})})}function VF(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players – Rankings"})})}function FF(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players – Stats"})})}const rt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function zb({children:t,style:e}){return o.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function LF({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return o.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${rt.tileAlt}, ${rt.active})`,color:rt.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${rt.line}`},"aria-hidden":!0,children:n||"?"})}function BF({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||"");let l=Pn.find(p=>r(p.label)===i)||Pn.find(p=>r(p.label).startsWith(i)||i.startsWith(r(p.label)));const u=l?di(l.iconUrl,n*2):void 0,[d,f]=P.useState(!1);return!u||d?o.jsx(LF,{label:e,size:n}):o.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:o.jsx("img",{src:u,alt:"",draggable:!1,onError:()=>f(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function vm({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:rt.tileAlt,border:`1px solid ${rt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{style:{fontSize:12,color:rt.textSoft,marginBottom:4},children:t}),o.jsx("div",{style:{fontSize:22,color:rt.title,fontWeight:700},children:e}),n?o.jsx("div",{style:{fontSize:12,color:rt.textSoft,marginTop:4},children:n}):null]})}function au({children:t}){return o.jsx("div",{style:{background:rt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${rt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Ld=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},OF=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},$F=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function xm(){var k,V,B,F,U,$,q,E;const t=Cg(),e=t.id||t.pid||t.playerId||t.player||"",n=Ho(),[r,i]=P.useState(!0),[l,u]=P.useState(null),[d,f]=P.useState(null),[p,g]=P.useState("Statistiken");P.useEffect(()=>{let T=!1;async function A(){var D,M,L,N,fe,K,re,ne,Q,ae,oe,H,ee,ye,_e,je,me,Ce,Ae,Pe,tt,Dt,Yt,Lt;i(!0),u(null);try{const kt=(e||"").trim();if(!kt){u("Kein Spieler gewählt."),i(!1);return}const On=zt(ht,`players/${kt}/latest/latest`),$n=await ss(On);if(!$n.exists()){u("Spieler nicht gefunden."),i(!1);return}const it=$n.data(),yr=(L=Ld((M=it.level)!=null?M:(D=it.values)==null?void 0:D.Level))!=null?L:null,Un=((K=(fe=it.className)!=null?fe:(N=it.values)==null?void 0:N.Class)!=null?K:null)||null,on=((Q=(ne=it.guildName)!=null?ne:(re=it.values)==null?void 0:re.Guild)!=null?Q:null)||null,an=(H=(oe=it.name)!=null?oe:(ae=it.values)==null?void 0:ae.Name)!=null?H:kt,tr=(_e=(ye=it.server)!=null?ye:(ee=it.values)==null?void 0:ee.Server)!=null?_e:null,At=(Ce=Ld((me=it.totalStats)!=null?me:(je=it.values)==null?void 0:je["Total Stats"]))!=null?Ce:null,nr=(Lt=Ld((Yt=(tt=(Ae=it.values)==null?void 0:Ae.Album)!=null?tt:(Pe=it.values)==null?void 0:Pe["Album %"])!=null?Yt:(Dt=it.values)==null?void 0:Dt.AlbumPct))!=null?Lt:null,rr=OF(Ld(it.timestamp));T||f({id:kt,name:an,className:Un,level:yr,guild:on,server:tr,scrapbookPct:nr,totalStats:At,lastScanDays:rr})}catch(kt){T||u((kt==null?void 0:kt.message)||"Fehler beim Laden.")}finally{T||i(!1)}}return A(),()=>{T=!0}},[e]);const v=P.useMemo(()=>o.jsxs("div",{style:{padding:24,color:rt.textSoft},children:[l!=null?l:"Unbekannter Fehler.",o.jsx("div",{style:{marginTop:12},children:o.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:rt.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),w=o.jsx("div",{style:{padding:16,color:rt.textSoft},children:"Lade Spielerprofil…"}),S=o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${rt.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:$F.map(T=>{const A=T===p;return o.jsx("button",{role:"tab","aria-selected":A,onClick:()=>g(T),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${A?rt.active:"transparent"}`,background:A?"rgba(45,78,120,0.35)":"transparent",color:rt.title,cursor:"pointer"},children:T},T)})}),j=o.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&o.jsx(au,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Statistiken"})," – bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&o.jsx(au,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Charts"})," – (Level/Attribute etc.)."]})}),p==="Fortschritt"&&o.jsx(au,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Fortschritt"})," – (Scrapbook, Quests, Dungeons …)."]})}),p==="Vergleich"&&o.jsx(au,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Vergleich"})," – Vergleich mit anderen Spielern."]})}),p==="Historie"&&o.jsx(au,{children:o.jsxs("div",{style:{color:rt.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Historie"})," – wöchentliche / monatliche Aggregationen."]})})]}),I=r?w:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${rt.line}`},children:o.jsxs(zb,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[o.jsx(BF,{className:(k=d.className)!=null?k:void 0,label:d.name,size:36}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:18,color:rt.title,fontWeight:700},children:d.name}),o.jsxs("div",{style:{fontSize:12,color:rt.textSoft},children:[(V=d.className)!=null?V:"Klasse ?"," • ",(B=d.guild)!=null?B:"—"," • ",(F=d.server)!=null?F:"—"]})]})]})}),o.jsxs(zb,{style:{paddingTop:12,paddingBottom:24},children:[o.jsxs("div",{style:{background:rt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${rt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{children:o.jsx("h2",{style:{margin:0,color:rt.title,fontSize:24,fontWeight:800},children:d.name})}),o.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[o.jsxs("span",{style:{color:rt.textSoft},children:["Zuletzt aktualisiert: ",(U=d.lastScanDays)!=null?U:0," Tag(e) her"]}),o.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[o.jsx(vm,{label:"Level",value:($=d.level)!=null?$:"?"}),o.jsx(vm,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),o.jsx(vm,{label:"Gilde",value:(q=d.guild)!=null?q:"—",hint:(E=d.server)!=null?E:"—"})]}),S,j]})]}):v;return o.jsx(ts,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:I})}function UF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Gb,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),o.jsx(Gb,{to:"/guilds/stats",title:"Stats",desc:"Aktivität, Beitritte, Meilensteine"})]})]})}function Gb({to:t,title:e,desc:n}){return o.jsxs(yn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function zF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds – Rankings"}),o.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function GF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds – Stats"}),o.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivität, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function HF(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const WF={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function qF(t){var n;const e=HF(t);return(n=WF[e])!=null?n:null}function KF(t,e=128){const n=qF(t);if(!n)return{id:null,url:null,thumb:null,fallback:"🏰"};const r=nN(n),i=di(r,e);return{id:n,url:r,thumb:i,fallback:"🏰"}}function zu(t,e=128){return KF(t,e).thumb}const Qo={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},nf=(t,e)=>({...t||{},...e||{}}),Hb=t=>{if(t==null||t==="")return"—";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},QF=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),hn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function YF(t){var w,S,j,I,k,V,B,F;const e=hn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=hn(t==null?void 0:t.baseMain),r=hn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},l=hn(i==null?void 0:i.sumBaseTotal);if(l!=null)return l;const u=hn(i==null?void 0:i.main),d=hn(i==null?void 0:i.con);if(u!=null&&d!=null)return u+d;const f=(t==null?void 0:t.values)||{},p=(S=(w=hn(f==null?void 0:f.SumBaseTotal))!=null?w:hn(f==null?void 0:f.sumBaseTotal))!=null?S:hn(f==null?void 0:f["Sum Base Total"]);if(p!=null)return p;const g=(k=(I=(j=hn(f==null?void 0:f.Main))!=null?j:hn(f==null?void 0:f.main))!=null?I:hn(f==null?void 0:f.BaseMain))!=null?k:hn(f==null?void 0:f.baseMain),v=(F=(B=(V=hn(f==null?void 0:f.Con))!=null?V:hn(f==null?void 0:f.con))!=null?B:hn(f==null?void 0:f.ConBase))!=null?F:hn(f==null?void 0:f.conBase);return g!=null&&v!=null?g+v:null}function To(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function XF(t,e=56){if(!t)return;const n=To(t),r=Pn.find(i=>To(i.label)===n||To(i.key)===n)||Pn.find(i=>To(i.label).startsWith(n)||n.startsWith(To(i.label))||To(i.key).startsWith(n)||n.startsWith(To(i.key)));return r?di(r.iconUrl,e):void 0}function JF({name:t,memberClass:e,online:n,theme:r=Qo}){const i=t.split("_").map(u=>u[0]).join("").slice(0,2).toUpperCase(),l=XF(e,56);return o.jsxs("div",{className:"relative",children:[l?o.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:u=>{const d=u.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&o.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const ZF={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},eL=({role:t})=>o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(ZF[t]||""),children:t});function Wb(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return"—"}function tL(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):"—"}function Bd({label:t,value:e,theme:n=Qo}){return o.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[o.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),o.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function nL({member:t,theme:e,actions:n,extraKPIs:r}){var g,v,w,S,j,I,k,V,B;if(!t)return null;const i=nf(Qo,e),l=t,u=Wb((v=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?v:null,(w=l.guildJoinedMs)!=null?w:null),d=Wb((S=l.lastActivity)!=null?S:null,(j=l.lastActivityMs)!=null?j:typeof l.lastOnline=="number"?l.lastOnline:null),f=tL(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"—";return o.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[o.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),o.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[o.jsx("div",{className:"shrink-0",children:o.jsx(JF,{name:t.name,memberClass:(V=(k=l.class)!=null?k:(I=l.values)==null?void 0:I.Class)!=null?V:null,online:l.online,theme:i})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),l.role&&o.jsx(eL,{role:l.role})]}),o.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[l.class||"—",l.server?` • ${l.server}`:""," • Joined ",u," • Last ",d]})]}),o.jsx("div",{className:"ml-auto",children:n})]}),o.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsx(Bd,{label:"Level",value:(B=l.level)!=null?B:"—",theme:i}),typeof l.scrapbook=="number"&&o.jsx(Bd,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:i}),o.jsx(Bd,{label:"Sum Base",value:f,theme:i}),o.jsx(Bd,{label:"Total Stats",value:p,theme:i}),r]})]})}function Eo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function rL(t,e=40){if(!t)return;const n=Eo(t);let r=Pn.find(i=>Eo(i.label)===n||Eo(i.key)===n)||Pn.find(i=>Eo(i.label).startsWith(n)||n.startsWith(Eo(i.label))||Eo(i.key).startsWith(n)||n.startsWith(Eo(i.key)));return r?di(r.iconUrl,e):void 0}function sL({name:t,memberClass:e,online:n,theme:r=Qo}){const i=t.split("_").map(u=>u[0]).join("").slice(0,2).toUpperCase(),l=rL(e,40);return o.jsxs("div",{className:"relative",children:[l?o.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:u=>{const d=u.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&o.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const iL=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function oL({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const l=nf(Qo,i);return o.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[o.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),o.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[o.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((u,d)=>{var f,p,g;return o.jsxs("button",{onClick:()=>n(u.id),"aria-pressed":u.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(u.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[o.jsx(sL,{name:u.name,memberClass:(g=(p=u.class)!=null?p:(f=u.values)==null?void 0:f.Class)!=null?g:null,online:u.online,theme:l}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:u.name}),o.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[u.class,u.server?` • ${u.server}`:""]})]}),o.jsx("div",{className:"justify-self-end",children:o.jsx(iL,{role:u.role})}),r(u)]},u.id)})]})]})}function jo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function aL(t,e=40){if(!t)return;const n=jo(t);let r=Pn.find(i=>jo(i.label)===n||jo(i.key)===n)||Pn.find(i=>jo(i.label).startsWith(n)||n.startsWith(jo(i.label))||jo(i.key).startsWith(n)||n.startsWith(jo(i.key)));return r?di(r.iconUrl,e):void 0}function lL({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const l=nf(Qo,i);return o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(u=>{var w,S,j,I,k,V,B,F,U;const d=u,f=u.name.slice(0,2).toUpperCase(),p=aL((j=(S=d.class)!=null?S:(w=d.values)==null?void 0:w.Class)!=null?j:null,40),g=typeof d.level=="number"?d.level:typeof((I=d.values)==null?void 0:I.Level)=="number"?d.values.Level:"—",v=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((k=d.values)==null?void 0:k.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return o.jsxs("button",{onClick:()=>n(u.id),"aria-pressed":u.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(u.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:u.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p?o.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:$=>{const q=$.currentTarget.parentElement;q&&(q.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${f}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:f}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:u.name}),o.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(F=(B=d.class)!=null?B:(V=d.values)==null?void 0:V.Class)!=null?F:"—",d.server?` • ${d.server}`:""]})]}),o.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(U=d.role)!=null?U:"—"})]}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),o.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),v&&o.jsxs("div",{children:[o.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),o.jsx("div",{className:"font-semibold",style:{color:l.title},children:v})]})]}),o.jsx("div",{className:"mt-3",children:r(u)})]},u.id)})})}function uL({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:l,onSelect:u,renderActions:d,renderKPIs:f,theme:p}){var D;const g=P.useMemo(()=>nf(Qo,p),[p]),[v,w]=P.useState(e),[S,j]=P.useState(n),[I,k]=P.useState(r.key),[V,B]=P.useState(r.dir),[F,U]=P.useState((D=t[0])==null?void 0:D.id),$=l!=null?l:F,q=M=>{l||U(M);const L=t.find(N=>N.id===M);L&&u&&u(L)},E=P.useMemo(()=>{const M=S.trim().toLowerCase();return M?t.filter(L=>L.name.toLowerCase().includes(M)||L.class.toLowerCase().includes(M)||String(L.role).toLowerCase().includes(M)):t},[t,S]),T=P.useMemo(()=>{const M=V==="asc"?1:-1,L=N=>{var fe,K;switch(I){case"sumBaseStats":{const re=YF(N);return re==null?-1/0:re}case"totalStats":return(K=(fe=N.totalStats)!=null?fe:QF(N.baseStats))!=null?K:-1/0;default:return N[I]}};return[...E].sort((N,fe)=>{const K=L(N),re=L(fe);return K===re?0:K>re?M:-M})},[E,I,V]),A=P.useMemo(()=>T.find(M=>M.id===$)||T[0],[T,$]);return o.jsxs("div",{children:[i&&o.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),o.jsxs("select",{value:v,onChange:M=>w(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[o.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),o.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),o.jsx("input",{value:S,onChange:M=>j(M.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),o.jsxs("select",{value:String(I),onChange:M=>k(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[o.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),o.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),o.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),o.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),o.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),o.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),o.jsx("button",{onClick:()=>B(M=>M==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:V==="asc"?"↑":"↓"})]})]}),o.jsx(nL,{member:A,actions:A&&(d?d(A):o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:A&&f?f(A):null,theme:g}),v==="list"?o.jsx(oL,{rows:T,selId:$,onSelect:q,theme:g,rightCols:M=>{var L;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-right text-sm",children:(L=M.level)!=null?L:"—"}),o.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:Hb(M.lastOnline)})]})}}):o.jsx(lL,{rows:T,selId:$,onSelect:q,theme:g,footer:M=>o.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:o.jsxs("span",{children:["Last ",Hb(M.lastOnline)]})})})]})}function cL({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:l,totalPower:u,activity7d:d,topClasses:f,tickerItems:p,href:g,onClick:v,className:w}){const S=vT(),j=P.useMemo(()=>{if(!r)return null;const L=Date.now()-new Date(r).getTime(),N=Math.max(0,Math.floor(L/6e4));if(N<60)return`${N}m`;const fe=Math.floor(N/60);return fe<24?`${fe}h`:`${Math.floor(fe/24)}d`},[r]),I=yu(0),k=yu(0),V=yu(0),B=yu(0),F=Md(I,L=>Math.round(L).toString()),U=Md(k,L=>Math.round(L).toString()),$=Md(V,L=>Math.round(L).toLocaleString()),q=Md(B,L=>`${Math.round(L)}%`);P.useEffect(()=>{const L=S?0:.6;if(L===0){I.set(i),k.set(l),V.set(u!=null?u:0),B.set(d!=null?d:0);return}const N=[Vd(I,i,{duration:L}),Vd(k,l,{duration:L}),Vd(V,u!=null?u:0,{duration:L}),Vd(B,d!=null?d:0,{duration:L})];return()=>N.forEach(fe=>fe.stop())},[i,l,u,d,S]);const E=P.useRef(null);P.useEffect(()=>{if(S||!E.current)return;const L=E.current;let N=0,fe=0;const K=()=>{fe+=.016;const re=fe*14%140-20;L.style.setProperty("--s-x",`${re}%`),N=requestAnimationFrame(K)};return N=requestAnimationFrame(K),()=>cancelAnimationFrame(N)},[S]);const T={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},A=100,D=g?"a":"div",M=g?{href:g}:{onClick:v};return o.jsxs(D,{...M,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",w!=null?w:""].join(" "),style:{background:`linear-gradient(135deg, ${T.bgFrom}, ${T.bgTo})`},children:[o.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),o.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[o.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?o.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):o.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:o.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),o.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),j&&o.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:T.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${T.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",j]}),o.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${A}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),o.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${A}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${A}deg, transparent 0 46px, ${T.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),o.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[o.jsx("h3",{className:"truncate font-extrabold",style:{color:T.title,fontSize:22},children:t}),o.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:T.soft,border:`1px solid ${T.border}`},children:e})]}),o.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[o.jsx(Od,{label:"Members",value:F}),o.jsx(Od,{label:"Ø Level",value:U}),o.jsx(Od,{label:"Total Power",value:$}),typeof d=="number"&&o.jsx(Od,{label:"Activity (7d)",value:q})]}),f!=null&&f.length?o.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:T.soft},children:"Top Classes"}),f.slice(0,3).map(L=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${T.border}`,color:T.text},children:[L.iconUrl?o.jsx("img",{src:L.iconUrl,alt:L.key,className:"h-4 w-4 object-contain"}):o.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:T.accent,opacity:.85}}),o.jsxs("span",{className:"text-xs",children:[L.key," ",o.jsxs("span",{className:"opacity-70",children:["(",Math.round(L.percent),"%)"]})]})]},L.key))]}):null]})]})]}),p!=null&&p.length?o.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${T.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:o.jsx(dL,{items:p,muted:S,color:T.soft})}):null]})}function Od({label:t,value:e}){return o.jsxs("div",{className:"relative z-10 min-w-0",children:[o.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),o.jsx(gT.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function dL({items:t,muted:e,color:n}){const r=P.useRef(null);return P.useEffect(()=>{if(e||!r.current)return;const i=r.current;let l=0,u=0;const d=()=>{l+=.016;const f=l*40%(i.scrollWidth+60);i.style.transform=`translateX(${-f}px)`,u=requestAnimationFrame(d)};return u=requestAnimationFrame(d),()=>cancelAnimationFrame(u)},[e]),o.jsx("div",{className:"overflow-hidden",children:o.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,l)=>o.jsx("span",{className:"mx-6 text-xs align-middle",children:i},l))})})}const hL="_wrap_q5gkc_53",fL="_banner_q5gkc_59",pL="_bannerRowTop_q5gkc_61",mL="_bannerStripe_q5gkc_71",gL="_bannerTitle_q5gkc_79",yL="_bannerRowBottom_q5gkc_93",vL="_bannerSub_q5gkc_95",xL="_monthPickerWrap_q5gkc_101",bL="_monthPickerLabel_q5gkc_113",wL="_monthPicker_q5gkc_101",_L="_monthButton_q5gkc_131",SL="_monthButtonText_q5gkc_159",TL="_chev_q5gkc_161",EL="_monthList_q5gkc_165",jL="_monthOption_q5gkc_195",CL="_monthBadge_q5gkc_221",kL="_gridRow_q5gkc_237",AL="_gridRowBottom_q5gkc_239",IL="_sideImage_q5gkc_253",RL="_sideImagePh_q5gkc_271",PL="_emblemPanel_q5gkc_275",NL="_emblemFrame_q5gkc_295",DL="_emblemImg_q5gkc_297",ML="_emblemPlaceholder_q5gkc_299",VL="_emblemShimmer_q5gkc_307",FL="_emblemCaption_q5gkc_315",LL="_card_q5gkc_319",BL="_cardHeader_q5gkc_331",OL="_cardTitle_q5gkc_339",$L="_cardSubtitle_q5gkc_341",UL="_headerRight_q5gkc_343",zL="_cardBody_q5gkc_345",GL="_tableWrap_q5gkc_349",HL="_tableTitle_q5gkc_351",WL="_table_q5gkc_349",qL="_th_q5gkc_355",KL="_td_q5gkc_355",QL="_tdEmpty_q5gkc_365",YL="_sectionDivider_q5gkc_375",XL="_sectionStripe_q5gkc_389",JL="_sectionTitle_q5gkc_397",Fe={wrap:hL,banner:fL,bannerRowTop:pL,bannerStripe:mL,bannerTitle:gL,bannerRowBottom:yL,bannerSub:vL,monthPickerWrap:xL,monthPickerLabel:bL,monthPicker:wL,monthButton:_L,monthButtonText:SL,chev:TL,monthList:EL,monthOption:jL,monthBadge:CL,gridRow:kL,gridRowBottom:AL,sideImage:IL,sideImagePh:RL,emblemPanel:PL,emblemFrame:NL,emblemImg:DL,emblemPlaceholder:ML,emblemShimmer:VL,emblemCaption:FL,card:LL,cardHeader:BL,cardTitle:OL,cardSubtitle:$L,headerRight:UL,cardBody:zL,tableWrap:GL,tableTitle:HL,table:WL,th:qL,td:KL,tdEmpty:QL,sectionDivider:YL,sectionStripe:XL,sectionTitle:JL};function ZL(t){if(t==null||t==="")return"—";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function qb(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"—":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Kb=({title:t,subtitle:e,children:n,rightBadge:r})=>o.jsxs("section",{className:Fe.card,children:[(t||e||r)&&o.jsxs("header",{className:Fe.cardHeader,children:[o.jsxs("div",{className:Fe.headerTitles,children:[t&&o.jsx("h3",{className:Fe.cardTitle,children:t}),e&&o.jsx("div",{className:Fe.cardSubtitle,children:e})]}),r&&o.jsx("div",{className:Fe.headerRight,children:r})]}),o.jsx("div",{className:Fe.cardBody,children:n})]}),Qb=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return o.jsxs("div",{className:Fe.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&o.jsx("div",{className:Fe.tableTitle,children:t.title}),o.jsxs("table",{className:Fe.table,children:[o.jsx("thead",{children:o.jsx("tr",{children:e.map(l=>o.jsx("th",{className:Fe.th,style:{width:l.width},children:l.label},l.key))})}),o.jsx("tbody",{children:n.length===0?o.jsx("tr",{children:o.jsx("td",{className:Fe.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,u)=>{var d;return o.jsx("tr",{children:e.map(f=>{var w;const p=l[f.key],g=typeof p=="number"||typeof p=="string"?p:"",v=f.format==="num"?ZL(g):g;return o.jsx("td",{className:Fe.td,"data-align":(w=f.align)!=null?w:"left",children:f.render?f.render(l):v},f.key)})},(d=l.id)!=null?d:u)})})]}),t.footer&&o.jsx("div",{className:Fe.tableFooter,children:t.footer})]})},e3=(t,e)=>{P.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},t3=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return o.jsx("div",{className:Fe.bannerSub,children:r!=null?r:""});const l=P.useRef(null),[u,d]=P.useState(!1);e3(l,()=>d(!1));const f=t.find(v=>v.key===e),p=f?`${qb(f.fromISO)}–${qb(f.toISO)} • ${f.daysSpan}d${f.available?"":" • n/a"}`:void 0;return o.jsxs("div",{className:Fe.monthPickerWrap,children:[o.jsx("div",{className:Fe.monthPickerLabel,children:"Monat"}),o.jsxs("div",{className:Fe.monthPicker,ref:l,children:[o.jsxs("button",{type:"button",className:Fe.monthButton,onClick:()=>d(v=>!v),"aria-haspopup":"listbox","aria-expanded":u,children:[o.jsx("span",{className:Fe.monthButtonText,children:(g=f==null?void 0:f.label)!=null?g:"—"}),o.jsx("svg",{className:Fe.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),u&&o.jsx("ul",{className:Fe.monthList,role:"listbox",children:t.map(v=>o.jsx("li",{children:o.jsx("button",{type:"button",className:Fe.monthOption,onClick:()=>{d(!1),n==null||n(v.key)},role:"option","aria-selected":v.key===e,children:v.label})},v.key))})]}),p&&o.jsx("span",{className:Fe.monthBadge,children:p})]})},n3=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>o.jsxs("div",{className:Fe.banner,children:[o.jsxs("div",{className:Fe.bannerRowTop,children:[o.jsx("div",{className:Fe.bannerStripe}),o.jsx("div",{className:Fe.bannerTitle,children:t}),o.jsx("div",{className:Fe.bannerStripe})]}),o.jsx("div",{className:Fe.bannerRowBottom,children:o.jsx(t3,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),r3=({emblemUrl:t,caption:e})=>o.jsxs("div",{className:Fe.emblemPanel,children:[o.jsxs("div",{className:Fe.emblemFrame,children:[t?o.jsx("img",{src:t,alt:"Guild Emblem",className:Fe.emblemImg}):o.jsx("div",{className:Fe.emblemPlaceholder,children:"Emblem"}),o.jsx("div",{className:Fe.emblemShimmer})]}),e&&o.jsx("div",{className:Fe.emblemCaption,children:e})]}),Yb=({imgUrl:t,alt:e})=>o.jsx("div",{className:Fe.sideImage,children:t?o.jsx("img",{src:t,alt:e!=null?e:"side"}):o.jsx("div",{className:Fe.sideImagePh,children:"Image"})}),bm=({children:t,className:e})=>o.jsx("div",{className:`${Fe.gridRow} ${e!=null?e:""}`,children:t}),s3=({children:t})=>o.jsxs("div",{className:Fe.sectionDivider,children:[o.jsx("div",{className:Fe.sectionStripe}),o.jsx("div",{className:Fe.sectionTitle,children:t}),o.jsx("div",{className:Fe.sectionStripe})]}),i3=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:l}=t;return o.jsxs("div",{className:Fe.wrap,children:[o.jsx(n3,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),o.jsxs(bm,{children:[o.jsx(Yb,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),o.jsx(r3,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),o.jsx(Yb,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),o.jsx(bm,{children:i.map((u,d)=>o.jsx(Kb,{title:u.title,subtitle:u.subtitle,children:o.jsx(Qb,{block:u})},d))}),o.jsx(s3,{children:"Guild Overview"}),o.jsx(bm,{className:Fe.gridRowBottom,children:l.map((u,d)=>o.jsx(Kb,{title:u.title,subtitle:u.subtitle,children:o.jsx(Qb,{block:u})},d))})]})},o3=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=P.useState(!0),[l,u]=P.useState(null),[d,f]=P.useState(void 0),p=P.useRef({}),[g,v]=P.useState(()=>$d(e,n));P.useEffect(()=>{let S=!1;async function j(){var I,k,V,B,F;i(!0);try{const U=iy(ht,`guilds/${t}/history_monthly`),$=await ei(U),q=[];for(const A of $.docs){const D=A.id,M=A.data();if(!M)continue;p.current[D]=M;const L=(I=M==null?void 0:M.meta)!=null?I:{},N=L.fromISO||L.baselineISO||L.firstISO||"",fe=L.toISO||L.latestISO||L.nowISO||"",K=Number((k=L.daysSpan)!=null?k:Math.floor((+new Date(fe)-+new Date(N))/864e5))||0,re=!!((B=(V=M==null?void 0:M.status)==null?void 0:V.available)!=null?B:N&&fe&&K<=40),ne=L.label||new Date(D+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});q.push({key:D,label:ne,fromISO:N||new Date(D+"-01").toISOString(),toISO:fe||new Date(D+"-28").toISOString(),daysSpan:K,available:re,reason:re||(F=M==null?void 0:M.status)==null?void 0:F.reason})}if(q.sort((A,D)=>A.key<D.key?1:-1),S)return;if(q.length===0){u(null),f(void 0),v($d(e,n)),i(!1);return}u(q);const E=q[0].key;f(E);const T=p.current[E];v(Xb(T,{guildName:e,guildServer:n,currentMonthKey:E,months:q}))}catch(U){console.error(U),u(null),f(void 0),v($d(e,n))}finally{S||i(!1)}}return j(),()=>{S=!0}},[t,e,n]);async function w(S){f(S);let j=p.current[S];if(!j)try{const I=zt(ht,`guilds/${t}/history_monthly/${S}`),k=await ss(I);k.exists()?(j=k.data(),p.current[S]=j):j=null}catch(I){console.error(I),j=null}if(!j){v($d(e,n,{currentMonthKey:S,months:l!=null?l:void 0}));return}v(Xb(j,{guildName:e,guildServer:n,currentMonthKey:S,months:l!=null?l:void 0}))}return o.jsx(i3,{data:g,onMonthChange:w})};function $d(t,e,n){return{header:{title:`${t} – Monthly Progress`,monthRange:"-",emblemUrl:zu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Co("Most Base Stats gained",e?`Server ${e}`:void 0),Co("Sum Base Stats"),Co("Highest Base Stats")],tablesBottom:[Co("Main & Con"),Co("Sum Base Stats"),Co("Highest Base Stats"),Co("Highest Total Stats")]}}function Co(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function Xb(t,e){var u,d,f,p,g,v,w,S;(u=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName} – Monthly Progress`,monthRange:void 0,emblemUrl:zu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"Δ",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((j,I)=>{var k,V,B,F,U,$,q,E;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",level:(F=(B=j.levelLatest)!=null?B:j.level)!=null?F:null,base:($=(U=j.baseLatest)!=null?U:j.base)!=null?$:null,delta:(E=(q=j.baseDelta)!=null?q:j.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam Δ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho Δ",width:90,align:"right",format:"num"}],rows:((f=t==null?void 0:t.sumBaseStats)!=null?f:[]).map((j,I)=>{var k,V,B,F,U,$,q;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",base:(B=j.base)!=null?B:null,stam:(U=(F=j.stamDelta)!=null?F:j.staminaDelta)!=null?U:null,sho:(q=($=j.shoDelta)!=null?$:j.shootingDelta)!=null?q:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"Δ",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((j,I)=>{var k,V,B,F,U;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",stats:(F=(B=j.stats)!=null?B:j.base)!=null?F:null,delta:(U=j.delta)!=null?U:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"Δ",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((j,I)=>{var k,V,B,F,U,$;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",class:(F=(B=j.class)!=null?B:j.className)!=null?F:"",stats:(U=j.stats)!=null?U:null,delta:($=j.delta)!=null?$:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam Δ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho Δ",width:90,align:"right",format:"num"}],rows:((v=t==null?void 0:t.sumBaseStats)!=null?v:[]).map((j,I)=>{var k,V,B,F,U;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",base:(B=j.base)!=null?B:null,stam:(F=j.stamDelta)!=null?F:null,sho:(U=j.shoDelta)!=null?U:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"Δ",width:80,align:"right",format:"num"}],rows:((w=t==null?void 0:t.highestBaseStats)!=null?w:[]).map((j,I)=>{var k,V,B,F;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",stats:(B=j.stats)!=null?B:null,delta:(F=j.delta)!=null?F:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"Δ",width:80,align:"right",format:"num"}],rows:((S=t==null?void 0:t.highestTotalStats)!=null?S:[]).map((j,I)=>{var k,V,B,F;return{id:(k=j.playerId)!=null?k:I,rank:I+1,name:(V=j.name)!=null?V:"-",total:(B=j.total)!=null?B:null,delta:(F=j.delta)!=null?F:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:l}}const a3="_root_18uxy_11",l3={root:a3};function Ud({title:t,right:e,children:n,colors:r}){return o.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:r.tile,border:`1px solid ${r.line}`},children:[(t||e)&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:r.line},children:[o.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:r.soft},children:t}),e]}),o.jsx("div",{className:"p-4",children:n})]})}function Vi({k:t,v:e,colors:n}){return o.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[o.jsx("span",{className:"opacity-80",children:t}),o.jsx("span",{className:"font-semibold",style:{color:n.title},children:e})]})}const u3=P.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){var l,u,d,f,p,g,v,w,S;return o.jsxs("div",{className:l3.root+" space-y-4",children:[o.jsx(Ud,{colors:i,children:o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-y-2 text-sm",children:[o.jsx(Vi,{k:"ø Treasury",v:(l=n==null?void 0:n.avgTreasury)!=null?l:"—",colors:i}),o.jsx(Vi,{k:"# on Server",v:1,colors:i}),o.jsx(Vi,{k:"ø Mine",v:(u=n==null?void 0:n.avgMine)!=null?u:"—",colors:i}),o.jsx(Vi,{k:"# in Europe",v:6,colors:i}),o.jsx(Vi,{k:"ø level",v:(d=n==null?void 0:n.avgLevel)!=null?d:"—",colors:i})]})}),o.jsx(Ud,{title:"BASE STATS",colors:i,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"rounded-xl p-4",style:{background:i.tileAlt,border:`1px solid ${i.line}`},children:[o.jsx(Vi,{k:"player in Top 100 on Server",v:41,colors:i}),o.jsx(Vi,{k:"player in Top 100 each class",v:42,colors:i}),o.jsx(Vi,{k:"player in Top 1000",v:45,colors:i})]}),o.jsx("div",{className:"mt-4 flex items-center gap-3",children:o.jsx("button",{className:"px-4 py-2 rounded-xl text-sm text-white",style:{background:i.header,border:`1px solid ${i.line}`},children:"highest in .."})}),o.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"opacity-80 mb-1",children:"Main"}),o.jsx("div",{className:"font-semibold",style:{color:i.title},children:(f=n==null?void 0:n.avgBaseMain)!=null?f:"—"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"opacity-80 mb-1",children:"Con"}),o.jsx("div",{className:"font-semibold",style:{color:i.title},children:(p=n==null?void 0:n.avgConBase)!=null?p:"—"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"opacity-80 mb-1",children:"Sum Base Stats"}),o.jsx("div",{className:"font-semibold",style:{color:i.title},children:(g=n==null?void 0:n.avgSumBaseTotal)!=null?g:"—"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"opacity-80",children:"Top Player"}),o.jsx("div",{className:"font-semibold",style:{color:i.title},children:"—"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"opacity-80",children:"2nd"}),o.jsx("div",{className:"font-semibold",style:{color:i.title},children:"—"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"opacity-80",children:"3rd"}),o.jsx("div",{className:"font-semibold",style:{color:i.title},children:"—"})]})]}),o.jsx("div",{className:"rounded-xl p-4",style:{background:i.tileAlt,border:`1px solid ${i.line}`},children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{className:"opacity-80",children:"⌀"}),o.jsx("div",{className:"text-right opacity-80",children:"—"}),o.jsx("div",{children:"Main"}),o.jsx("div",{className:"text-right font-semibold",style:{color:i.title},children:(v=n==null?void 0:n.avgAttrTotal)!=null?v:"—"}),o.jsx("div",{children:"Con"}),o.jsx("div",{className:"text-right font-semibold",style:{color:i.title},children:(w=n==null?void 0:n.avgConTotal)!=null?w:"—"}),o.jsx("div",{children:"Total Stats"}),o.jsx("div",{className:"text-right font-semibold",style:{color:i.title},children:(S=n==null?void 0:n.avgTotalStats)!=null?S:"—"})]})})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ud,{title:"PLAYER JOINED",colors:i,children:o.jsx("div",{className:"text-sm opacity-70",children:"—"})}),o.jsx(Ud,{title:"PLAYER LEFT",colors:i,children:o.jsx("div",{className:"text-sm opacity-70",children:"—"})})]})]})}),c3="_wrapper_zqchq_3",d3="_sectionTitle_zqchq_5",h3="_grid_zqchq_9",f3="_tile_zqchq_13",p3="_disabled_zqchq_37",m3="_crestWrap_zqchq_41",g3="_crest_zqchq_41",y3="_ring_zqchq_53",v3="_badge_zqchq_55",x3="_meta_zqchq_67",b3="_nameRow_zqchq_69",w3="_name_zqchq_69",_3="_share_zqchq_73",S3="_sub_zqchq_75",T3="_tileButton_zqchq_79",E3="_donutCard_zqchq_85",j3="_donutHeader_zqchq_87",C3="_legend_zqchq_91",k3="_legendItem_zqchq_93",A3="_legendSwatch_zqchq_95",I3="_legendRight_zqchq_97",R3="_centerLabel_zqchq_101",at={wrapper:c3,sectionTitle:d3,grid:h3,tile:f3,disabled:p3,crestWrap:m3,crest:g3,ring:y3,badge:v3,meta:x3,nameRow:b3,name:w3,share:_3,sub:S3,tileButton:T3,donutCard:E3,donutHeader:j3,legend:C3,legendItem:k3,legendSwatch:A3,legendRight:I3,centerLabel:R3},yg=56;function jh(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function Jb(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const P3=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function N3(t){return t?/drive\.google\.com/.test(t):!1}function Zb(t,e=yg){if(t)return N3(t)?di(t,e):t}function D3(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jäger:"scout",meuchelmoerder:"assassin",meuchelmörder:"assassin",dämonenjäger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function M3(t){var g,v,w,S,j,I;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,i=(v=e.label)!=null?v:n.name,l=(S=(w=n.crestUrl)!=null?w:e.iconUrl)!=null?S:n.iconUrl,u=(j=e.iconUrl)!=null?j:n.iconUrl,d=(I=e.fallback)!=null?I:n.fallback;if(!r||!i)return null;const f=Zb(l,yg),p=Zb(u,yg);return{id:r,name:String(i),crestUrl:f||p,iconUrl:p||f,fallback:d?String(d):void 0}}function CT(t,e){var g,v,w,S,j,I,k,V,B,F,U,$,q,E,T,A,D,M,L,N,fe;const n={},r={},i={},l={},u=e.map(K=>K.id);for(const K of u)n[K]=0,r[K]=0,i[K]=0,l[K]=null;for(const K of Array.isArray(t)?t:[]){const re=($=(F=(V=(I=(S=(w=(v=(g=K.classId)!=null?g:K.class)!=null?v:K.klass)!=null?w:K.playerClass)!=null?S:K.cls)!=null?I:(j=K.values)==null?void 0:j.Class)!=null?V:(k=K.values)==null?void 0:k.class)!=null?F:(B=K.values)==null?void 0:B.Klasse)!=null?$:(U=K.values)==null?void 0:U.klasse,ne=D3(re);if(!ne||!u.includes(ne))continue;n[ne]+=1;const Q=P3((A=(E=K.level)!=null?E:(q=K.values)==null?void 0:q.Level)!=null?A:(T=K.values)==null?void 0:T.level);Q!=null&&(r[ne]+=Q,i[ne]+=1,(!l[ne]||((M=(D=l[ne])==null?void 0:D.level)!=null?M:-1/0)<Q)&&(l[ne]={id:K.id,name:(fe=(N=K.name)!=null?N:(L=K.values)==null?void 0:L.Name)!=null?fe:null,level:Q}))}const d=Object.values(n).reduce((K,re)=>K+re,0),f={},p={};return u.forEach(K=>{f[K]=d>0?n[K]/d*100:0,p[K]=i[K]>0?r[K]/i[K]:null}),{counts:n,shares:f,avg:p,top:l}}const V3=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return o.jsxs("svg",{className:at.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[o.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),o.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},F3=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=P.useState({}),l=Array.isArray(t)?t:[],u=Array.isArray(e)?e:[],{counts:d,shares:f,avg:p,top:g}=P.useMemo(()=>CT(l,u),[l,u]);return o.jsxs("section",{className:at.wrapper,children:[o.jsx("div",{className:at.sectionTitle,children:"Klassenübersicht"}),o.jsx("div",{className:at.grid,style:{gridTemplateColumns:"1fr"},children:u.map(v=>{var B,F,U;const w=(B=d[v.id])!=null?B:0,S=(F=f[v.id])!=null?F:0,j=p[v.id],I=g[v.id],k=w<=0,V=r[v.id]?void 0:v.crestUrl||v.iconUrl;return o.jsxs("div",{className:`${at.tile} ${k?at.disabled:""}`,title:k?`${v.name}: kein Mitglied`:`${v.name} • ${Jb(w)} • ${jh(S)}${j?` • Ø ${j.toFixed(1)}`:""}`,children:[o.jsxs("div",{className:at.crestWrap,children:[V?o.jsx("img",{className:at.crest,src:V,alt:v.name,onError:()=>i($=>({...$,[v.id]:!0}))}):o.jsx("div",{className:at.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(U=v.fallback)!=null?U:"🎯"}),o.jsx(V3,{valuePct:S}),o.jsx("div",{className:at.badge,children:Jb(w)})]}),o.jsxs("div",{className:at.meta,children:[o.jsxs("div",{className:at.nameRow,children:[o.jsx("div",{className:at.name,children:v.name}),o.jsx("div",{className:at.share,children:jh(S)})]}),o.jsxs("div",{className:at.sub,children:[j?`Ø Lvl ${j.toFixed(1)}`:"—",I?` • Top: ${I.name}${I.level?` (Lv ${I.level})`:""}`:""]})]}),!k&&n&&o.jsx("button",{className:at.tileButton,onClick:()=>n(v.id),"aria-label":`${v.name} filtern`})]},v.id)})})]})},L3=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:l}=P.useMemo(()=>CT(n,r),[n,r]),u=P.useMemo(()=>Object.values(l).reduce((d,f)=>d+f,0),[l]);return o.jsxs("div",{className:at.donutCard,children:[o.jsxs("div",{className:at.donutHeader,children:[o.jsx("div",{children:"Klassen-Verteilung"}),o.jsxs("div",{className:at.legendRight,children:["Gesamt: ",u]})]}),o.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[o.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[o.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const v=Math.PI*2,w=r.map((j,I)=>{var k;return{id:j.id,pct:(k=i[j.id])!=null?k:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*I)} 60% 55%)`}});let S=0;return w.map(j=>{const I=(j.pct||0)/100;if(I<=0)return null;const k=S,V=S+v*I;S=V;const B=V-k>Math.PI?1:0,F=130+100*Math.cos(k),U=130+100*Math.sin(k),$=130+100*Math.cos(V),q=130+100*Math.sin(V),E=130+64*Math.cos(V),T=130+64*Math.sin(V),A=130+64*Math.cos(k),D=130+64*Math.sin(k),M=`M ${F} ${U} A 100 100 0 ${B} 1 ${$} ${q} L ${E} ${T} A 64 64 0 ${B} 0 ${A} ${D} Z`;return o.jsx("path",{d:M,fill:j.color,opacity:.95},j.id)})})()]}),o.jsx("div",{className:at.legend,children:r.map((d,f)=>{var v,w;const p=(v=i[d.id])!=null?v:0,g=(w=l[d.id])!=null?w:0;return o.jsxs("div",{className:at.legendItem,title:`${d.name}: ${g} • ${jh(p)}`,children:[o.jsx("span",{className:at.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*f)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),o.jsx("span",{children:d.name}),o.jsxs("span",{className:at.legendRight,children:[g," • ",jh(p)]})]},d.id)})})]}),o.jsx("div",{className:at.centerLabel,children:"Anteile je Klasse"})]})},B3=({data:t,classMeta:e,onPickClass:n})=>{const r=P.useMemo(()=>Array.isArray(t)?t:[],[t]),i=P.useMemo(()=>(Array.isArray(e)?e:[]).map(M3).filter(Boolean),[e]);return o.jsxs("section",{className:at.wrapper,children:[o.jsx("div",{className:at.sectionTitle,children:"Klassenübersicht"}),o.jsx("div",{className:at.grid,style:{gridTemplateColumns:"1fr"},children:o.jsx(F3,{data:r,classMeta:i,onPickClass:n})}),o.jsx("div",{style:{marginTop:12},children:o.jsx(L3,{data:r,classMeta:i})})]})},wt={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},wm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},O3=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function kT({title:t,right:e,children:n}){return o.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:wt.tile,border:`1px solid ${wt.line}`},children:[(t||e)&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:wt.line},children:[o.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:wt.soft},children:t}),e]}),o.jsx("div",{className:"p-4",children:n})]})}function lu({k:t,v:e}){return o.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[o.jsx("span",{className:"opacity-80",children:t}),o.jsx("span",{className:"font-semibold",style:{color:wt.title},children:e})]})}function $3({guild:t}){var n,r;const e=zu(t.name,800);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:wt.line,background:wt.tile},children:o.jsx("div",{className:"w-full",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:wt.tileAlt,border:`1px solid ${wt.line}`,overflow:"hidden"},children:e?o.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):o.jsx("div",{className:"text-6xl",children:"🏰"})})}),o.jsx(kT,{title:"GILDEN INFO",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsx(lu,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:"—"}),o.jsx(lu,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:"—"}),o.jsx(lu,{k:"Server",v:(r=t.server)!=null?r:"—"}),o.jsx(lu,{k:"Inaktiv",v:"0"}),o.jsx(lu,{k:"Aktivität",v:"100%"})]})})]})}function _m(){var w,S,j,I,k,V,B,F;const t=Cg(),e=t.id||t.gid||t.guildId||t.guild||"",n=Ho(),[r,i]=P.useState(!0),[l,u]=P.useState(null),[d,f]=P.useState(null),[p,g]=P.useState(null);if(P.useEffect(()=>{let U=!1;async function $(){var q,E,T,A,D,M,L,N,fe,K,re,ne,Q,ae,oe,H,ee,ye,_e,je,me,Ce,Ae,Pe,tt,Dt,Yt,Lt,kt,On,$n,it,yr,Un,on,an,tr;i(!0),u(null);try{const At=e.trim();if(!At){u("Keine Gilde gewählt."),i(!1);return}const nr=zt(ht,`guilds/${At}/latest/latest`),rr=await ss(nr);if(!rr.exists()){u("Gilde nicht gefunden."),i(!1);return}const Ue=rr.data(),vt=(T=(E=Ue.name)!=null?E:(q=Ue.values)==null?void 0:q.Name)!=null?T:At,zn=(M=(D=Ue.server)!=null?D:(A=Ue.values)==null?void 0:A.Server)!=null?M:null,as=(re=wm((K=(N=Ue.memberCount)!=null?N:(L=Ue.values)==null?void 0:L["Guild Member Count"])!=null?K:(fe=Ue.values)==null?void 0:fe.GuildMemberCount))!=null?re:null,sr=(je=wm((_e=(ee=(oe=(Q=Ue.hofRank)!=null?Q:(ne=Ue.values)==null?void 0:ne["Hall of Fame Rank"])!=null?oe:(ae=Ue.values)==null?void 0:ae.HoF)!=null?ee:(H=Ue.values)==null?void 0:H.Rank)!=null?_e:(ye=Ue.values)==null?void 0:ye["Guild Rank"]))!=null?je:null,vr=O3(wm(Ue.timestamp));U||f({id:At,name:vt,server:zn,memberCount:as,hofRank:sr,lastScanDays:vr});const ls=zt(ht,`guilds/${At}/snapshots/members_summary`),Vr=await ss(ls);if(Vr.exists()&&!U){const mt=Vr.data(),us={guildId:String((me=mt.guildId)!=null?me:At),updatedAt:String((Pe=(Ae=mt.updatedAt)!=null?Ae:(Ce=Ue.values)==null?void 0:Ce.Timestamp)!=null?Pe:""),updatedAtMs:Number((Dt=(tt=mt.updatedAtMs)!=null?tt:Ue.timestamp*1e3)!=null?Dt:0),count:Number((Yt=mt.count)!=null?Yt:0),hash:String((Lt=mt.hash)!=null?Lt:""),avgLevel:(kt=mt.avgLevel)!=null?kt:null,avgTreasury:(On=mt.avgTreasury)!=null?On:null,avgMine:($n=mt.avgMine)!=null?$n:null,avgBaseMain:(it=mt.avgBaseMain)!=null?it:null,avgConBase:(yr=mt.avgConBase)!=null?yr:null,avgSumBaseTotal:(Un=mt.avgSumBaseTotal)!=null?Un:null,avgAttrTotal:(on=mt.avgAttrTotal)!=null?on:null,avgConTotal:(an=mt.avgConTotal)!=null?an:null,avgTotalStats:(tr=mt.avgTotalStats)!=null?tr:null,members:Array.isArray(mt.members)?mt.members:[]};g(us)}}catch(At){U||u((At==null?void 0:At.message)||"Fehler beim Laden.")}finally{U||i(!1)}}return $(),()=>{U=!0}},[e]),P.useMemo(()=>{var U;return(U=p==null?void 0:p.members)!=null?U:[]},[p]),r)return o.jsx(ts,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:o.jsx("div",{className:"text-sm",style:{color:wt.soft},children:"Lade Gildenprofil…"})});if(!d)return o.jsx(ts,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:o.jsxs("div",{className:"text-sm",style:{color:wt.soft},children:[l!=null?l:"Unbekannter Fehler.",o.jsx("div",{className:"mt-3",children:o.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const v=o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${wt.line}`,position:"relative",zIndex:2},children:[o.jsx("div",{className:"min-w-[120px]",children:o.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:wt.tile,border:`1px solid ${wt.line}`,color:wt.title},children:(w=d.server)!=null?w:"S?.EU"})}),o.jsx("div",{className:"flex-1 text-center",children:o.jsx("div",{className:"font-extrabold",style:{color:wt.title,fontSize:26,lineHeight:1.15},children:d.name})}),o.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:wt.soft},children:["Zuletzt aktualisiert: ",p!=null&&p.updatedAt?p.updatedAt:"—"," ",o.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),o.jsx("div",{style:{height:1,background:wt.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return o.jsxs(ts,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[v,o.jsx("div",{className:"px-6 pb-8",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsx($3,{guild:d})}),o.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[o.jsx(u3,{guild:d,snapshot:p,emblemUrl:zu(d.name,512)||void 0,colors:wt}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-[980px]",children:o.jsx(cL,{guildName:d.name,server:(S=d.server)!=null?S:"—",emblemUrl:zu(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(j=d.memberCount)!=null?j:0,avgLevel:(I=p==null?void 0:p.avgLevel)!=null?I:0,totalPower:(k=p==null?void 0:p.avgTotalStats)!=null?k:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(V=d.memberCount)!=null?V:0}`]:void 0})})}),o.jsx(U3,{members:(B=p==null?void 0:p.members)!=null?B:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsx(B3,{data:(F=p==null?void 0:p.members)!=null?F:[],classMeta:Pn,onPickClass:U=>{const $=new URL(window.location.href);$.searchParams.set("tab","Übersicht"),$.searchParams.set("class",U),window.location.href=$.toString()}})})]})})]})}function U3({members:t,guildId:e,guildName:n,guildServer:r}){const[i,l]=P.useState("Übersicht");return o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:wt.line},role:"tablist",children:["Übersicht","Rankings","Monthly Progress","Historie"].map(u=>{const d=u===i;return o.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(u),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?wt.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:wt.title},children:u},u)})}),o.jsxs(kT,{children:[i==="Übersicht"&&o.jsx(uL,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&o.jsxs("div",{className:"text-sm",style:{color:wt.soft},children:["Platzhalter ",o.jsx("b",{children:"Rankings"})," – Inhalt folgt."]}),i==="Monthly Progress"&&o.jsx(o3,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&o.jsxs("div",{className:"text-sm",style:{color:wt.soft},children:["Platzhalter ",o.jsx("b",{children:"Historie"})," – Inhalt folgt."]})]})]})}function z3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(ew,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),o.jsx(ew,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivität, Peaks"})]})]})}function ew({to:t,title:e,desc:n}){return o.jsxs(yn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function G3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers – Rankings"}),o.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function H3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers – Stats"}),o.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivität, Population, Peaks (Platzhalter)."})]})}const tn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function tw({children:t,style:e}){return o.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function W3({size:t=36}){return o.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:o.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:"🌐"})})}function Va({label:t,value:e}){return o.jsxs("div",{style:{background:tn.tileAlt,border:`1px solid ${tn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{style:{fontSize:12,color:tn.textSoft,marginBottom:4},children:t}),o.jsx("div",{style:{fontSize:22,color:tn.title,fontWeight:700},children:e})]})}function q3(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let u="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const f=d[1],p=String(parseInt(d[2],10)),g=f==="EU"?"eu":f==="US"?"us":f==="AM"?"net":f.toLowerCase();u=`s${p}.sfgame.${g}`}return Array.from(new Set([e,n,r,i,l,u].filter(Boolean)))}function Sm(){var I,k,V,B;const t=Cg(),e=Ho(),n=Is(),r=t.id||t.sid||t.serverId||t.server||"",[i,l]=P.useState(!0),[u,d]=P.useState(null),[f,p]=P.useState(null),[g,v]=P.useState(null);P.useEffect(()=>{let F=!1;async function U(){l(!0),d(null),p(null),v(null);try{const $=r.trim();if(!$)throw new Error("Kein Server gewählt.");const q=zt(ht,`servers/${$}`),E=await ss(q);if(E.exists()){F||(p(E.id),v(E.data()));return}const T=iy(ht,"servers"),A=q3($),D=[];for(const fe of A)D.push(ei(Bi(T,Xd("code","==",fe),Oi(1)))),D.push(ei(Bi(T,Xd("displayName","==",fe),Oi(1)))),D.push(ei(Bi(T,Xd("host","==",fe),Oi(1))));const M=await Promise.allSettled(D);let L=null,N=null;for(const fe of M){if(fe.status!=="fulfilled")continue;const K=fe.value;if(!K.empty){const re=K.docs[0];L=re.id,N=re.data();break}}if(!L||!N)throw new Error("Server nicht gefunden.");F||(p(L),v(N),L!==$&&e(`/server/${encodeURIComponent(L)}`,{replace:!0,state:{from:n.pathname}}))}catch($){F||d(($==null?void 0:$.message)||"Fehler beim Laden.")}finally{F||l(!1)}}return U(),()=>{F=!0}},[r,e,n.pathname]);const w=P.useMemo(()=>o.jsxs("div",{style:{padding:24,color:tn.textSoft},children:[u!=null?u:"Unbekannter Fehler.",o.jsx("div",{style:{marginTop:12},children:o.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:tn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[u,e]);if(i)return o.jsx(ts,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:o.jsx("div",{style:{padding:16,color:tn.textSoft},children:"Lade Serverprofil…"})});if(!g)return o.jsx(ts,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:w});const S=g.displayName||g.code||f||r,j=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"—";return o.jsxs(ts,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[o.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${tn.line}`},children:o.jsxs(tw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[o.jsx(W3,{size:36}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:18,color:tn.title,fontWeight:700},children:S}),o.jsxs("div",{style:{fontSize:12,color:tn.textSoft},children:[g.host||"—"," • ",g.region||"—"," • ",((I=g.type)==null?void 0:I.toUpperCase())||"—"]})]})]})}),o.jsxs(tw,{style:{paddingTop:12,paddingBottom:24},children:[o.jsxs("div",{style:{background:tn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${tn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,color:tn.title,fontSize:24,fontWeight:800},children:S}),o.jsxs("div",{style:{marginTop:6,color:tn.textSoft,fontSize:13},children:[g.host||"—"," • ",g.region||"—"," • ",((k=g.type)==null?void 0:k.toUpperCase())||"—"]})]}),o.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[o.jsxs("span",{style:{color:tn.textSoft},children:["Status: ",j]}),o.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[o.jsx(Va,{label:"Code",value:g.code||"—"}),o.jsx(Va,{label:"Host",value:g.host||"—"}),o.jsx(Va,{label:"Region",value:g.region||"—"}),o.jsx(Va,{label:"Typ",value:((V=g.type)==null?void 0:V.toUpperCase())||"—"}),o.jsx(Va,{label:"Numeric ID",value:(B=g.numericId)!=null?B:"—"}),o.jsx(Va,{label:"Status",value:j})]}),o.jsxs("div",{style:{marginTop:16,background:tn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${tn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:tn.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Historie / Kennzahlen"})," – wenn du künftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}function K3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guides"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Ks,{to:"/guides/fortress",title:"Fortress",desc:"Bau- und Ressourcenpfade"}),o.jsx(Ks,{to:"/guides/underworld",title:"Underworld",desc:"Dämonen, Folterkeller, Gegner"}),o.jsx(Ks,{to:"/guides/arena-am",title:"Arena/AM",desc:"AM-Routen & Strider-Setups"}),o.jsx(Ks,{to:"/guides/dungeons",title:"Dungeons",desc:"Dungeons, Epics, Hotkeys"}),o.jsx(Ks,{to:"/guides/hellevator",title:"Hellevator",desc:"Etagen & Belohnungen"}),o.jsx(Ks,{to:"/guides/legendary-dungeon",title:"Legendary Dungeon",desc:"Mechaniken & Tipps"}),o.jsx(Ks,{to:"/guides/events",title:"Events",desc:"Kalender, Event-Zyklen"}),o.jsx(Ks,{to:"/guides/calculators",title:"Calculators",desc:"Stats, Gems, Fortress, …"}),o.jsx(Ks,{to:"/guides/infographics",title:"Infografiken",desc:"Cheatsheets & Übersichten"})]})]})}function Ks({to:t,title:e,desc:n}){return o.jsxs(yn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function Q3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Fortress"}),o.jsx("p",{style:{opacity:.8},children:"Bau-Reihenfolgen, Ressourcen, Skip-Orders (Platzhalter)."})]})}function Y3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Underworld"}),o.jsx("p",{style:{opacity:.8},children:"Unterwelt + Calculator, Pro-Pack-Skip (Platzhalter)."})]})}function X3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Arena / AM"}),o.jsx("p",{style:{opacity:.8},children:"AM-Run-Boni, Strider’s AM-Guide (Platzhalter)."})]})}function J3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Dungeons"}),o.jsx("p",{style:{opacity:.8},children:"Übersicht über Dungeons, Epics & Legendaries (Platzhalter)."})]})}function Z3(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Hellevator"}),o.jsx("p",{style:{opacity:.8},children:"Etagen-Belohnungen und Tipps (Platzhalter)."})]})}function eB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Legendary Dungeon"}),o.jsx("p",{style:{opacity:.8},children:"Mechaniken, Epics & Strategien (Platzhalter)."})]})}function tB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Events"}),o.jsx("p",{style:{opacity:.8},children:"Eventkalender, Zyklen & Tipps (Platzhalter)."})]})}function nB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Calculators"}),o.jsx("p",{style:{opacity:.8},children:"Stats-, Gem-, Fortress-, Underworld-Rechner (Platzhalter)."})]})}function rB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guide – Infografiken"}),o.jsx("p",{style:{opacity:.8},children:"Cheatsheets, Hotkeys und Visuals (Platzhalter)."})]})}function sB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsxs(yn,{to:"/community/scans",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Scans"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Community-Uploads"})]}),o.jsxs(yn,{to:"/community/predictions",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Predictions"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Tipps, Votes & Prognosen"})]}),o.jsxs(yn,{to:"/community/creators",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Creators"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Streams, Videos, Guides"})]}),o.jsxs(yn,{to:"/community/news",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"News"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Updates & Ankündigungen"})]}),o.jsxs(yn,{to:"/community/feedback",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Feedback"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Feature-Wünsche & Bugreports"})]})]})]})}function iB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community – Scans"}),o.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function oB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community – Predictions"}),o.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function aB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community – Creators"}),o.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function lB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community – Feedback"}),o.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wünsche, Bugs und Ideen (Platzhalter)."})]})}function uB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community – News"}),o.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function cB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsxs(yn,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),o.jsxs(yn,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Ältere Scans & Verlauf"})]})]})]})}function dB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans – Letzter Scan"}),o.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function hB(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans – Archiv"}),o.jsx("p",{style:{opacity:.8},children:"Hier kannst du ältere Scans durchsuchen (Platzhalter)."})]})}function fB(){return o.jsx(ts,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:o.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:o.jsx(pB,{}),right:o.jsx(mB,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[o.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),o.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Wähle links einen Bereich (Planner, Fusion, Waitlist, …) oder nutze unten die Kacheln."})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsx(Tm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),o.jsx(Tm,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),o.jsx(Tm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function pB(){return o.jsxs("nav",{className:"space-y-2 text-sm",children:[o.jsx(zd,{to:"/guild-hub/planner",children:"Planner"}),o.jsx(zd,{to:"/guild-hub/fusion",children:"Fusion"}),o.jsx(zd,{to:"/guild-hub/waitlist",children:"Waitlist"}),o.jsx(zd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function mB(){return o.jsxs("aside",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),o.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden später hier gesteuert."})]})}function Tm({to:t,title:e,desc:n}){return o.jsxs(yn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[o.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?o.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function zd({to:t,children:e}){return o.jsx(yn,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function gB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Planner"})})}function yB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Fusion"})})}function vB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Waitlist"})})}function xB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Activity"})})}function bB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Imports"})})}function wB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Announcements"})})}function _B(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Events"})})}function SB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Roles"})})}function TB(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub – Settings"})})}function EB(){return o.jsx(ts,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:o.jsx("div",{className:"space-y-4",children:o.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[o.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",o.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),o.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",o.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const fn={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12}};function jB(){return o.jsx("div",{style:fn.wrap,children:o.jsxs("div",{style:fn.grid,children:[o.jsxs("aside",{style:fn.tile,children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),o.jsx("p",{style:fn.note,children:"Kleine Spielwiese für UI/Flows. Links wählen, rechts live ansehen."}),o.jsxs("nav",{children:[o.jsx(fr,{to:"list-views",style:({isActive:t})=>({...fn.link,...t?fn.active:{}}),children:"List-View Switcher"}),o.jsx(fr,{to:"rescan-widget",style:({isActive:t})=>({...fn.link,...t?fn.active:{}}),children:"Rescan Widget (auto)"}),o.jsx(fr,{to:"upload-sim",style:({isActive:t})=>({...fn.link,...t?fn.active:{}}),children:"Upload Simulator"}),o.jsx(fr,{to:"hud/game-buttons",style:({isActive:t})=>({...fn.link,...t?fn.active:{}}),children:"HUD · Game Buttons"}),o.jsx(fr,{to:"theme-maker",style:({isActive:t})=>({...fn.link,...t?fn.active:{}}),children:"Theme / Template Maker"}),o.jsx(fr,{to:"theme-maker-pro",style:({isActive:t})=>({...fn.link,...t?fn.active:{}}),children:"Theme / Template Maker · Pro"})]})]}),o.jsx("section",{style:fn.tile,children:o.jsx(Vw,{})})]})})}function CB(){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),o.jsx("div",{className:"mt-4 grid gap-3",children:o.jsx(fr,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const le={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},kB=()=>o.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Do={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function AB(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function yl(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",AB(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function AT(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},u={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},f={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},v={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},w={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},S={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:l,gold:u,obsidian:d,neon:f,plasma:p,aurora:g,satin:v,matte:w,holo:S}[t.material]}function Xi(t){const e={color:le.title,borderColor:le.border,...AT(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const lc=({children:t})=>o.jsx("span",{className:"relative z-10",children:t});function vl({fx:t,clip:e}){return o.jsxs(o.Fragment,{children:[t.shine&&o.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:o.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&o.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&o.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&o.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&o.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>o.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function IB({fx:t,children:e}){const n=yl(t),r=Xi(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),o.jsx(vl,{fx:t,clip:i}),t.withIcon&&o.jsx(zw,{size:16,className:"relative z-10"}),o.jsx(lc,{children:e})]})}function RB({fx:t,children:e}){const n=yl(t),r=Xi(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),o.jsx(vl,{fx:t,clip:i}),t.withIcon&&o.jsx(Gw,{size:16,className:"relative z-10"}),o.jsx(lc,{children:e})]})}function PB({fx:t,children:e}){const n=yl(t),r=Xi(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),o.jsx(vl,{fx:t,clip:i}),t.withIcon&&o.jsx(Wu,{size:16,className:"relative z-10"}),o.jsx(lc,{children:e})]})}function NB({fx:t,children:e}){const n=yl(t),r=Xi(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${le.tile}, ${le.active})`}}),o.jsx(vl,{fx:t,clip:i}),t.withIcon&&o.jsx(Hw,{size:16,className:"relative z-10"}),o.jsx(lc,{children:e})]})}function DB({fx:t,children:e}){const n=yl(t),r=Xi(t);return o.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[o.jsx(vl,{fx:t}),t.withIcon&&o.jsx(Ih,{size:16,className:"relative z-10"}),o.jsx(lc,{children:e})]})}function MB({fx:t,tabs:e}){const[n,r]=P.useState(0);return o.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:e.map((i,l)=>o.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?le.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&o.jsx(Ih,{size:14,className:"inline mr-1"}),i]},l))})}function VB({fx:t}){const e=yl(t),n=Xi(t);return o.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:o.jsx(Ww,{})})}const vg={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function FB({fx:t,setFx:e}){const n=(d,f)=>e(p=>({...p,[d]:f})),r=d=>e(f=>({...f,[d]:!f[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],u=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return o.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Presets"}),Object.keys(vg).map(d=>o.jsx("button",{onClick:()=>e(f=>vg[d](f)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:d},d))]}),o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Material"}),i.map(d=>o.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d},d)),o.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:le.title},children:"Size"}),["sm","md","lg"].map(d=>o.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d.toUpperCase()},d)),o.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?le.active:le.btn,borderColor:le.border,color:le.title},children:"Icon"}),o.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?le.active:le.btn,borderColor:le.border,color:le.title},children:"Disabled"})]}),o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Core FX"}),l.map(([d,f])=>o.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:f},d))]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Advanced"}),u.map(([d,f])=>o.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:f},d))]}),o.jsx("button",{onClick:()=>e(Do),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:"Reset"})]})}function ft({fx:t,className:e="",style:n={},children:r,clip:i}){const l=Xi(t);return o.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[o.jsx(vl,{fx:t,clip:i}),o.jsx("div",{className:"relative z-10",children:r})]})}function Bn({fx:t,className:e="",children:n}){return o.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:n})}function LB({fx:t}){const[e,n]=P.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Toggle Chips"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const l=e.includes(i);return o.jsx(ft,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(u=>l?u.filter(d=>d!==i):[...u,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function BB({fx:t}){return o.jsxs(Bn,{fx:t,className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",style:{color:le.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>o.jsx(ft,{fx:t,className:"rounded-xl border p-2",style:{borderColor:le.border},children:o.jsxs("button",{className:"relative",children:[o.jsx(Ww,{size:16}),e===3&&o.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function OB({fx:t}){return o.jsxs(ft,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Breadcrumb HUD"}),o.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>o.jsx(ft,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:le.border},children:e},e))})]})}function $B({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Stat Tiles"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>o.jsxs(ft,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:le.border},children:[o.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),o.jsx("div",{className:"text-sm",children:n.v}),o.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function UB({fx:t}){const[e,n]=P.useState(.66);return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Meter / Energy Bar"}),o.jsx(ft,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:le.border},children:o.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),o.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function zB({fx:t}){return o.jsxs(Bn,{fx:t,className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Badge / Medal"}),o.jsxs(ft,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:le.border},children:[o.jsx(Wu,{size:16}),o.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function GB({fx:t}){const[e,n]=P.useState(!1);return o.jsxs(Bn,{fx:t,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toast / Notification"}),o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&o.jsxs(ft,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:le.border},children:[o.jsx("span",{className:"text-xs text-white",children:"Scan complete • 14 new players"}),o.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:"×"})]})]})}function HB({fx:t}){const[e,n]=P.useState(!0);return o.jsxs(Bn,{fx:t,className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toggle Switch"}),o.jsxs(ft,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:le.border},children:[o.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),o.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function WB({fx:t}){const[e,n]=P.useState(!1),r=["Overview","Stats","Activity","Hydra"];return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dropdown HUD"}),o.jsx(ft,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section…"})}),e&&o.jsx(ft,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:le.border},children:r.map(i=>o.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function qB({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Radial Menu (Preview)"}),o.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[o.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,l=56,u=56+Math.cos(i)*l,d=56+Math.sin(i)*l;return o.jsx(ft,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:u,top:d,borderColor:le.border},children:n},n)}),o.jsx(ft,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:le.border},children:"Menu"})]})]})}function KB({fx:t}){const e=[1,2,3,4,5],[n,r]=P.useState(2);return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Pagination HUD"}),o.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>o.jsx(ft,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function QB({fx:t}){const[e,n]=P.useState(!1);return o.jsxs(Bn,{fx:t,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Modal HUD"}),o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:o.jsxs(ft,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:le.border},children:[o.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),o.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function YB({fx:t}){const[e,n]=P.useState("");return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Search HUD"}),o.jsx(ft,{fx:t,className:"rounded-lg border p-2",style:{borderColor:le.border},children:o.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search…",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function XB({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=P.useState("Bravo");return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"List Selectable"}),o.jsx("div",{className:"space-y-2",children:e.map(i=>o.jsx(ft,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function JB({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=P.useState(1);return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Steps"}),o.jsx("div",{className:"flex items-center gap-3",children:e.map((i,l)=>o.jsxs(Ve.Fragment,{children:[o.jsx(ft,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:le.border},children:l+1}),l<e.length-1&&o.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),o.jsx(ft,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function ZB({fx:t}){const e=["⚡","◆","⬡","⛨","◎","☰"];return o.jsxs(Bn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dock Bar"}),o.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>o.jsx(ft,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:le.border},children:n},r))})]})}function e6(){const[t,e]=P.useState(Do);return o.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:le.bg,color:le.txt},children:[o.jsx(kB,{}),o.jsxs("header",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(BC,{}),o.jsx("h1",{className:"text-xl font-bold",style:{color:le.title},children:"Game Buttons Playground"}),o.jsx("span",{className:"text-xs",style:{color:le.txt2},children:"(Materials + FX extended + Presets)"})]})}),o.jsx(FB,{fx:t,setFx:e})]}),o.jsxs("section",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"Shapes"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(IB,{fx:t,children:[o.jsx(zw,{size:16})," Diamond"]}),o.jsxs(RB,{fx:t,children:[o.jsx(Gw,{size:16})," Hex"]}),o.jsxs(PB,{fx:t,children:[o.jsx(Wu,{size:16})," Octagon/Shield"]}),o.jsxs(NB,{fx:t,children:[o.jsx(Hw,{size:16})," Shard"]}),o.jsxs(DB,{fx:t,children:[o.jsx(Ih,{size:16})," Pill/Chip"]}),o.jsx(VB,{fx:t})]})]}),o.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold",style:{color:le.title},children:"Tabs"}),o.jsx(MB,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),o.jsx("section",{className:"grid gap-4",children:o.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"More HUD Patterns"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[o.jsx(LB,{fx:t}),o.jsx(BB,{fx:t}),o.jsx(OB,{fx:t}),o.jsx($B,{fx:t}),o.jsx(UB,{fx:t}),o.jsx(zB,{fx:t}),o.jsx(GB,{fx:t}),o.jsx(HB,{fx:t}),o.jsx(WB,{fx:t}),o.jsx(qB,{fx:t}),o.jsx(KB,{fx:t}),o.jsx(QB,{fx:t}),o.jsx(YB,{fx:t}),o.jsx(XB,{fx:t}),o.jsx(JB,{fx:t}),o.jsx(ZB,{fx:t})]})]})}),o.jsx(t6,{}),o.jsx("footer",{className:"text-center text-xs",style:{color:le.txt2},children:"SFDataHub palette • Tailwind • No external assets"})]})}function t6(){return P.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Do.material),"Material type present");const e=Xi(Do);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=AT({...Do,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Do[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(vg).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const l=i({...Do});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground – Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const ju={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},nw={Arcade:{...ju,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...ju,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Fa={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},IT={display:"grid",gap:8,alignItems:"center"};function Qs({label:t,value:e,onChange:n}){return o.jsxs("label",{style:{...IT,gridTemplateColumns:"120px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Em({label:t,value:e,min:n,max:r,onChange:i}){return o.jsxs("label",{style:{...IT,gridTemplateColumns:"120px 1fr 70px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value))}),o.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value||"0"))})]})}function rw(){const[t,e]=Ve.useState(ju),n=Ve.useRef(null),r=f=>{const p=n.current;p&&(p.style.setProperty("--page",f.page),p.style.setProperty("--tile",f.tile),p.style.setProperty("--tile-hover",f.tileHover),p.style.setProperty("--nav",f.nav),p.style.setProperty("--active",f.active),p.style.setProperty("--text",f.text),p.style.setProperty("--text-soft",f.textSoft),p.style.setProperty("--title",f.title),p.style.setProperty("--line",f.line),p.style.setProperty("--radius",`${f.radius}px`),p.style.setProperty("--shadow",`0 8px ${f.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${f.gap}px`))};Ve.useEffect(()=>{r(t)},[t]);const i=f=>e(nw[f]),l=()=>e(ju),u=()=>{const f=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(f),p.download="sfdatahub-theme.json",p.click()},d=async f=>{const p=await f.text();e({...ju,...JSON.parse(p)})};return o.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[o.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(nw).map(f=>o.jsx("button",{style:Fa,onClick:()=>i(f),children:f},f)),o.jsx("button",{style:Fa,onClick:l,children:"Default"}),o.jsx("button",{style:Fa,onClick:u,children:"Export JSON"}),o.jsxs("label",{style:{...Fa,display:"inline-block"},children:["Import JSON",o.jsx("input",{type:"file",accept:"application/json",onChange:f=>f.target.files&&d(f.target.files[0]),style:{display:"none"}})]})]}),o.jsx(Qs,{label:"Page",value:t.page,onChange:f=>e(p=>({...p,page:f}))}),o.jsx(Qs,{label:"Tile",value:t.tile,onChange:f=>e(p=>({...p,tile:f}))}),o.jsx(Qs,{label:"Tile Hover",value:t.tileHover,onChange:f=>e(p=>({...p,tileHover:f}))}),o.jsx(Qs,{label:"Nav",value:t.nav,onChange:f=>e(p=>({...p,nav:f}))}),o.jsx(Qs,{label:"Active",value:t.active,onChange:f=>e(p=>({...p,active:f}))}),o.jsx(Qs,{label:"Text",value:t.text,onChange:f=>e(p=>({...p,text:f}))}),o.jsx(Qs,{label:"Text Soft",value:t.textSoft,onChange:f=>e(p=>({...p,textSoft:f}))}),o.jsx(Qs,{label:"Title",value:t.title,onChange:f=>e(p=>({...p,title:f}))}),o.jsx(Qs,{label:"Line",value:t.line,onChange:f=>e(p=>({...p,line:f}))}),o.jsx(Em,{label:"Radius",value:t.radius,min:8,max:28,onChange:f=>e(p=>({...p,radius:f}))}),o.jsx(Em,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:f=>e(p=>({...p,shadow:f}))}),o.jsx(Em,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:f=>e(p=>({...p,gap:f}))})]}),o.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[o.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),o.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),o.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[o.jsx("button",{style:{...Fa,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),o.jsx("button",{style:Fa,children:"Secondary"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((f,p)=>o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[o.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),o.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const xg={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},sw={"SFDataHub (Default)":{...xg},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},rf={display:"grid",gap:8,alignItems:"center"},ko={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Ao={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Ar({label:t,value:e,onChange:n}){return o.jsxs("label",{style:{...rf,gridTemplateColumns:"140px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ys({label:t,value:e,min:n,max:r,step:i=1,onChange:l,suffix:u}){return o.jsxs("label",{style:{...rf,gridTemplateColumns:"140px 1fr 70px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>l(parseFloat(d.target.value))}),o.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function n6({label:t,checked:e,onChange:n}){return o.jsxs("label",{style:{...rf,gridTemplateColumns:"1fr 46px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function iw(){const[t,e]=Ve.useState(xg),n=Ve.useRef(null),r=p=>{const g=n.current;g&&(g.style.setProperty("--page",p.page),g.style.setProperty("--tile",p.tile),g.style.setProperty("--tile-hover",p.tileHover),g.style.setProperty("--nav",p.nav),g.style.setProperty("--active",p.active),g.style.setProperty("--text",p.text),g.style.setProperty("--text-soft",p.textSoft),g.style.setProperty("--title",p.title),g.style.setProperty("--line",p.line),g.style.setProperty("--accent",p.accent),g.style.setProperty("--success",p.success),g.style.setProperty("--warning",p.warning),g.style.setProperty("--danger",p.danger),g.style.setProperty("--radius",`${p.radius}px`),g.style.setProperty("--border",`${p.border}px`),g.style.setProperty("--gap",`${p.gap}px`),g.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),g.style.setProperty("--noise",`${p.noise}%`),g.style.setProperty("--font",p.fontFamily),g.style.setProperty("--font-size",`${p.fontSize}px`),g.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${p.glow}`),g.style.setProperty("--scanlines",`${p.scanlines}`))};Ve.useEffect(()=>{r(t)},[t]);const i=(p,g)=>e(v=>({...v,[p]:g})),l=p=>e(g=>({...g,...sw[p]})),u=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(p),g.download="sfdatahub-theme-pro.json",g.click()},d=async p=>{try{const g=await p.text(),v=JSON.parse(g);e({...t,...v})}catch(g){}},f={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return o.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[o.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker · Pro (scoped)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(sw).map(p=>o.jsx("button",{style:ko,onClick:()=>l(p),children:p},p)),o.jsx("button",{style:ko,onClick:()=>e(xg),children:"Reset"}),o.jsx("button",{style:ko,onClick:u,children:"Export"}),o.jsxs("label",{style:{...ko,display:"inline-block"},children:["Import",o.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(Ar,{label:"Page",value:t.page,onChange:p=>i("page",p)}),o.jsx(Ar,{label:"Tile",value:t.tile,onChange:p=>i("tile",p)}),o.jsx(Ar,{label:"Tile Hover",value:t.tileHover,onChange:p=>i("tileHover",p)}),o.jsx(Ar,{label:"Active",value:t.active,onChange:p=>i("active",p)}),o.jsx(Ar,{label:"Text",value:t.text,onChange:p=>i("text",p)}),o.jsx(Ar,{label:"Text Soft",value:t.textSoft,onChange:p=>i("textSoft",p)}),o.jsx(Ar,{label:"Title",value:t.title,onChange:p=>i("title",p)}),o.jsx(Ar,{label:"Line",value:t.line,onChange:p=>i("line",p)}),o.jsx(Ar,{label:"Accent",value:t.accent,onChange:p=>i("accent",p)}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[o.jsx(Ar,{label:"Success",value:t.success,onChange:p=>i("success",p)}),o.jsx(Ar,{label:"Warning",value:t.warning,onChange:p=>i("warning",p)}),o.jsx(Ar,{label:"Danger",value:t.danger,onChange:p=>i("danger",p)})]})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(Ys,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>i("radius",p)}),o.jsx(Ys,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>i("border",p)}),o.jsx(Ys,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>i("gap",p)}),o.jsx(Ys,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>i("shadow",p)}),o.jsx(Ys,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>i("surfaceOpacity",p),suffix:"%"}),o.jsx(Ys,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>i("noise",p),suffix:"%"})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsxs("label",{style:{...rf,gridTemplateColumns:"140px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),o.jsx("input",{value:t.fontFamily,onChange:p=>i("fontFamily",p.target.value)})]}),o.jsx(Ys,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>i("fontSize",p)}),o.jsx(n6,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>i("headingsTight",p)})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(Ys,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>i("glow",p)}),o.jsx(Ys,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>i("scanlines",p)})]})]})]}),o.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[o.jsxs("span",{style:Ao,children:[o.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),o.jsx("span",{style:{...Ao,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),o.jsx("span",{style:{...Ao,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),o.jsx("span",{style:{...Ao,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),o.jsxs("span",{style:Ao,children:["Radius: ",t.radius]}),o.jsxs("span",{style:Ao,children:["Shadow: ",t.shadow]}),o.jsxs("span",{style:Ao,children:["Noise: ",t.noise,"%"]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:f.name}),o.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[f.className," · ",f.guild," ",o.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",f.server,")"]})]})]}),o.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:f.level,pct:f.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:f.scrapbook+"%",pct:f.scrapbook/100,color:"var(--success)"},{label:"Power",value:f.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:f.activity+"%",pct:f.activity/100,color:"var(--accent)"}].map((p,g)=>o.jsxs("div",{style:{display:"grid",gap:4},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[o.jsx("span",{children:p.label}),o.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),o.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:o.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},g))}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[o.jsx("button",{style:{...ko,background:"var(--tile-hover)"},children:"Open Profile"}),o.jsx("button",{style:{...ko,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,g)=>o.jsx("button",{style:{...ko,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,g)=>o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),o.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),o.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},g))}),o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[o.jsx("div",{style:{padding:10},children:"Attribute"}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:"Δ"})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,g)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[o.jsx("div",{style:{padding:10},children:p[0]}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),o.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},g))]})]})]}),o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und übernimm später selektiv in globale Tokens."})]})]})]})}const ow=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function r6(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:ow[n%ow.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const jm={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function aw(){const[t,e]=P.useState("rows"),[n,r]=P.useState(0),[i,l]=P.useState(""),[u,d]=P.useState(60),f=P.useMemo(()=>r6(240),[]),p=P.useMemo(()=>f.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(i.toLowerCase())).slice(0,u),[f,n,i,u]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"List‑View Switcher"}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[o.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[o.jsx("option",{value:"rows",children:"Compact Rows"}),o.jsx("option",{value:"cards",children:"Card Grid"}),o.jsx("option",{value:"masonry",children:"Masonry"})]}),o.jsx("input",{placeholder:"Search…",value:i,onChange:g=>l(g.target.value)}),o.jsxs("label",{children:["Min Level ",o.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),o.jsxs("label",{children:["Limit ",o.jsx("input",{type:"number",value:u,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&o.jsx("div",{style:{...jm,padding:0,overflow:"hidden"},children:p.map(g=>{var v;return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),o.jsxs("div",{children:[o.jsxs("div",{style:{fontWeight:700},children:[g.name," ",o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?`· ${g.guild}`:""]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),o.jsx("div",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="cards"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>{var v;return o.jsxs("div",{style:jm,children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:700},children:g.name}),o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?`· ${g.guild}`:""]}),o.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[o.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),o.jsx("span",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="masonry"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>o.jsxs("div",{style:{...jm,height:140+parseInt(g.id)%3*40},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:700},children:g.name}),o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?`· ${g.guild}`:""]}),o.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function lw(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function uw(){const[t,e]=P.useState(120),[n,r]=P.useState(()=>lw(24));P.useEffect(()=>{const l=setInterval(()=>{r(u=>{if(!u.length)return u;const d=Math.floor(Math.random()*u.length),f=[...u];return f[d]={...f[d],lastScanMinsAgo:0},f})},5e3);return()=>clearInterval(l)},[]),P.useEffect(()=>{const l=setInterval(()=>{r(u=>u.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const i=P.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget · Auto‑Removal"}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[o.jsxs("label",{children:["Freshness TTL (min) ",o.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),o.jsx("button",{onClick:()=>r(lw(24)),children:"Reset Demo Data"})]}),o.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Einträge mit „last scan ≤ TTL“ verschwinden automatisch (keine Checkboxen)."}),o.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[o.jsx("div",{children:"Player"}),o.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(l=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[o.jsxs("div",{children:[l.name," ",o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),o.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),i.length===0&&o.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan 🎉"})]})]})}function s6(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function cw(){const[t,e]=P.useState("idle"),[n,r]=P.useState(null),[i,l]=P.useState(!1),u=P.useCallback(async d=>{var p;d.preventDefault(),l(!1);const f=(p=d.dataTransfer.files)==null?void 0:p[0];if(f){e("validating");try{const g=await f.text(),{isHar:v,isSf:w}=s6(g);if(e("parsing"),await new Promise(S=>setTimeout(S,600)),!v&&!w){e("error"),r({isHar:v,isSf:w,sizeKB:Math.round(f.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:v,isSf:w,sizeKB:Math.round(f.size/1024),summary:`Detected: ${v?"HAR":w?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator · HAR / JSON Detection"}),o.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:u,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),o.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection → Validation → Parsing → Summary"})]})}),o.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Status:"})," ",t]}),n?o.jsxs("ul",{children:[o.jsxs("li",{children:["isHar: ",String(n.isHar)]}),o.jsxs("li",{children:["isSf: ",String(n.isSf)]}),o.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&o.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&o.jsxs("li",{children:["summary: ",n.summary]})]}):o.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const G={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},i6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},o6={maxWidth:1200,margin:"0 auto"},a6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function l6(){return o.jsx("div",{style:i6,children:o.jsxs("div",{style:o6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"HAR Import Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:a6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),o.jsxs("div",{style:{border:`1px dashed ${G.line}`,borderRadius:12,padding:24,textAlign:"center",background:G.tileAlt},children:["Drop .har file here or"," ",o.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),o.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const u6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},c6={maxWidth:1200,margin:"0 auto"},d6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function h6(){return o.jsx("div",{style:u6,children:o.jsxs("div",{style:c6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"JSON/CSV Import Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:d6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("label",{children:["Upload JSON ",o.jsx("input",{type:"file",accept:".json"})]}),o.jsxs("label",{children:["Upload CSV ",o.jsx("input",{type:"file",accept:".csv"})]})]}),o.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns → fields) preview placeholder."})]})})]})})}const f6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},p6={maxWidth:1200,margin:"0 auto"},m6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function g6(){return o.jsx("div",{style:f6,children:o.jsxs("div",{style:p6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Index Schema Viewer Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:m6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields…"})]},t))})]})})]})})}const y6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},v6={maxWidth:1200,margin:"0 auto"},x6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function b6(){return o.jsx("div",{style:y6,children:o.jsxs("div",{style:v6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Player Profile (Contained) Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:x6,children:[o.jsxs("div",{style:{display:"flex",gap:12},children:[o.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${G.line}`}}),o.jsxs("div",{children:[o.jsx("h3",{style:{margin:"4px 0",color:G.title},children:"NightRaven"}),o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter · Guild: Ravens · EU1"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>o.jsx("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const w6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},_6={maxWidth:1200,margin:"0 auto"},S6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function T6(){return o.jsx("div",{style:w6,children:o.jsxs("div",{style:_6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Guild Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:S6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[o.jsx("b",{style:{color:G.title},children:"Ravens"}),o.jsx("span",{children:"Avg Lvl 465"}),o.jsx("span",{children:"Fresh scans 82%"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[o.jsx("b",{style:{color:G.title},children:"Arcana"}),o.jsx("span",{children:"Avg Lvl 458"}),o.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const E6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},j6={maxWidth:1200,margin:"0 auto"},C6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function k6(){return o.jsx("div",{style:E6,children:o.jsxs("div",{style:j6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Server Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:C6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity…"})]},t))})]})})]})})}const A6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},I6={maxWidth:1200,margin:"0 auto"},R6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function P6(){return o.jsx("div",{style:A6,children:o.jsxs("div",{style:I6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Rankings Views Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:R6,children:[o.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","Master–Detail","Cards"].map(t=>o.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${G.line}`,borderRadius:10},children:t},t))}),o.jsx("div",{style:{border:`1px solid ${G.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[o.jsx("b",{style:{color:G.title},children:t.name}),o.jsx("span",{children:t.delta}),o.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const N6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},D6={maxWidth:1200,margin:"0 auto"},M6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function V6(){return o.jsx("div",{style:N6,children:o.jsxs("div",{style:D6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"KPI Dashboard Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsx("div",{style:M6,children:o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>o.jsx("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const F6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},L6={maxWidth:1200,margin:"0 auto"},B6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function O6(){return o.jsx("div",{style:F6,children:o.jsxs("div",{style:L6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Progression Tracker Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:B6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),o.jsx("div",{style:{height:160,border:`1px dashed ${G.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const $6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},U6={maxWidth:1200,margin:"0 auto"},z6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function G6(){return o.jsx("div",{style:$6,children:o.jsxs("div",{style:U6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Legendary & Pets Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsx("div",{style:z6,children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:"Legendary Tracker"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Shadow Bow ✓"}),o.jsx("li",{children:"Mythic Ring ✗"})]})]}),o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:"Pets"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Firewolf 4/5"}),o.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const H6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},W6={maxWidth:1200,margin:"0 auto"},q6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function K6(){return o.jsx("div",{style:H6,children:o.jsxs("div",{style:W6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Community Scans Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:q6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>o.jsx("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Q6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Y6={maxWidth:1200,margin:"0 auto"},X6={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function J6(){return o.jsx("div",{style:Q6,children:o.jsxs("div",{style:Y6,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Creator Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:X6,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language…"})]},t))})]})})]})})}const Z6={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},eO={maxWidth:1200,margin:"0 auto"},tO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function nO(){return o.jsx("div",{style:Z6,children:o.jsxs("div",{style:eO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Feedback Form Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:tO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),o.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsx("span",{children:"Category"}),o.jsxs("select",{style:{background:"#152A42",color:G.text,border:`1px solid ${G.line}`,borderRadius:8,padding:"6px 8px"},children:[o.jsx("option",{children:"UI"}),o.jsx("option",{children:"Data"}),o.jsx("option",{children:"Bug"})]})]}),o.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{rows:4,style:{background:"#152A42",color:G.text,border:`1px solid ${G.line}`,borderRadius:8,padding:"6px 8px"}})]}),o.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${G.line}`,borderRadius:10},children:"Send"})]})})]})})}const rO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},sO={maxWidth:1200,margin:"0 auto"},iO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function oO(){return o.jsx("div",{style:rO,children:o.jsxs("div",{style:sO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Feedback Admin Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:iO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),o.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("span",{children:t}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),o.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const aO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},lO={maxWidth:1200,margin:"0 auto"},uO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function cO(){return o.jsx("div",{style:aO,children:o.jsxs("div",{style:lO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Tutorials Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:uO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Step highlights"}),o.jsx("li",{children:"Progress bar"}),o.jsx("li",{children:"Badges"})]})]})})]})})}const dO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},hO={maxWidth:1200,margin:"0 auto"},fO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function pO(){return o.jsx("div",{style:dO,children:o.jsxs("div",{style:hO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Wiki & FAQ Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:fO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),o.jsx("input",{placeholder:"Search…",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${G.line}`,borderRadius:10}}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"How to import HAR?"}),o.jsx("li",{children:"What data is stored?"})]})]})})]})})}const mO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},gO={maxWidth:1200,margin:"0 auto"},yO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function vO(){return o.jsx("div",{style:mO,children:o.jsxs("div",{style:gO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Settings Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:yO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[o.jsxs("label",{children:["Language",o.jsxs("select",{style:{marginLeft:8},children:[o.jsx("option",{children:"EN"}),o.jsx("option",{children:"DE"})]})]}),o.jsxs("label",{children:["Theme",o.jsxs("select",{style:{marginLeft:8},children:[o.jsx("option",{children:"Dark"}),o.jsx("option",{children:"Custom"})]})]}),o.jsxs("label",{children:["Notifications",o.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),o.jsxs("label",{children:["Privacy",o.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const xO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},bO={maxWidth:1200,margin:"0 auto"},wO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function _O(){return o.jsx("div",{style:xO,children:o.jsxs("div",{style:bO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"ToS & Privacy Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:wO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),o.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:o.jsx("p",{children:"Allgemeines… Registrierung… Rollen… Verarbeitung… Transparenz… Sicherheit… Haftung… Änderungen… Kontakt…"})}),o.jsxs("label",{style:{marginTop:8},children:[o.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const SO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},TO={maxWidth:1200,margin:"0 auto"},EO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function jO(){return o.jsx("div",{style:SO,children:o.jsxs("div",{style:TO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Transparency Viewer Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:EO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),o.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const CO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},kO={maxWidth:1200,margin:"0 auto"},AO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function IO(){return o.jsx("div",{style:CO,children:o.jsxs("div",{style:kO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"PWA Update Flow Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:AO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[o.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),o.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const RO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},PO={maxWidth:1200,margin:"0 auto"},NO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function DO(){return o.jsx("div",{style:RO,children:o.jsxs("div",{style:PO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"PWA Install Prompt Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:NO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[o.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${G.line}`,borderRadius:20}}),o.jsxs("div",{children:[o.jsx("b",{style:{color:G.title},children:"Install SFDataHub"}),o.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications…"}),o.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const MO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},VO={maxWidth:1200,margin:"0 auto"},FO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function LO(){return o.jsx("div",{style:MO,children:o.jsxs("div",{style:VO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Connect Manual Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:FO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:[o.jsx("b",{style:{color:G.title},children:"View source"}),o.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/* … */})();"})]})]})})]})})}const BO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},OO={maxWidth:1200,margin:"0 auto"},$O={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function UO(){return o.jsx("div",{style:BO,children:o.jsxs("div",{style:OO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Connect Userscript Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:$O,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx("div",{children:"Install/Enable check"}),o.jsx("div",{children:"Events preview"})]})]})})]})})}const zO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},GO={maxWidth:1200,margin:"0 auto"},HO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function WO(){return o.jsx("div",{style:zO,children:o.jsxs("div",{style:GO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Exports Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:HO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:"CSV/Excel"}),o.jsx("div",{children:"Tabs, widths, locales…"})]}),o.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:G.title},children:"JSON API"}),o.jsx("div",{children:"Schema picker, whitelists…"})]})]})]})})]})})}const qO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},KO={maxWidth:1200,margin:"0 auto"},QO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function YO(){return o.jsx("div",{style:qO,children:o.jsxs("div",{style:KO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Deeplinks Demo Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:QO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),o.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const XO={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},JO={maxWidth:1200,margin:"0 auto"},ZO={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function e9(){return o.jsx("div",{style:XO,children:o.jsxs("div",{style:JO,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Servers Editor Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:ZO,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[o.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),o.jsxs("select",{children:[o.jsx("option",{children:"Active"}),o.jsx("option",{children:"Disabled"})]}),o.jsx("button",{children:"Add"})]})]})})]})})}const t9={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},n9={maxWidth:1200,margin:"0 auto"},r9={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function s9(){return o.jsx("div",{style:t9,children:o.jsxs("div",{style:n9,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Jobs & Queues Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:r9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"Import: EU1-2025-09-27T16:00 ✓"}),o.jsx("li",{children:"Rescan: EU2-Player#123 pending…"})]})]})})]})})}const i9={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},o9={maxWidth:1200,margin:"0 auto"},a9={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function l9(){return o.jsx("div",{style:i9,children:o.jsxs("div",{style:o9,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Feature Flags Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:a9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[o.jsx("span",{children:"Beta: New Rankings"}),o.jsx("label",{children:o.jsx("input",{type:"checkbox",defaultChecked:!0})}),o.jsx("span",{children:"Widgets v2"}),o.jsx("label",{children:o.jsx("input",{type:"checkbox"})})]})]})})]})})}const u9={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},c9={maxWidth:1200,margin:"0 auto"},d9={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function h9(){return o.jsx("div",{style:u9,children:o.jsxs("div",{style:c9,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Table Performance Lab Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:d9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),o.jsx("div",{style:{height:160,border:`1px dashed ${G.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const f9={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},p9={maxWidth:1200,margin:"0 auto"},m9={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function g9(){return o.jsx("div",{style:f9,children:o.jsxs("div",{style:p9,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:m9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),o.jsx("div",{style:{height:180,border:`1px dashed ${G.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const y9={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},v9={maxWidth:1200,margin:"0 auto"},x9={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function b9(){return o.jsx("div",{style:y9,children:o.jsxs("div",{style:v9,children:[o.jsx("h1",{style:{color:G.title,marginTop:0},children:"Accessibility Pass Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:x9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"Focus ring visible"}),o.jsx("li",{children:"Skip links"}),o.jsx("li",{children:"Contrast ≥ 4.5:1"})]})]})})]})})}const w9="_backdrop_19xh2_1",_9="_panel_19xh2_19",S9="_header_19xh2_43",T9="_tabs_19xh2_63",E9="_tabBtn_19xh2_75",j9="_tabActive_19xh2_97",C9="_closeBtn_19xh2_101",k9="_content_19xh2_123",ws={backdrop:w9,panel:_9,header:S9,tabs:T9,tabBtn:E9,tabActive:j9,closeBtn:C9,content:k9},nh=t=>String(t!=null?t:"").trim(),Fi=t=>nh(t).toUpperCase(),dt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),rh=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),dw=t=>{const e=rh(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},hw=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Cm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},ze={PLAYERS:{IDENTIFIER:dt("Identifier"),PID:dt("ID"),GUILD_IDENTIFIER:dt("Guild Identifier"),SERVER:dt("Server"),NAME:dt("Name"),TIMESTAMP:dt("Timestamp"),LEVEL:dt("Level"),CLASS:dt("Class"),GUILD:dt("Guild")},GUILDS:{GUILD_IDENTIFIER:dt("Guild Identifier"),SERVER:dt("Server"),NAME:dt("Name"),MEMBER_COUNT:dt("Guild Member Count"),TIMESTAMP:dt("Timestamp"),HOF:dt("Hall of Fame Rank"),HOF_ALT:dt("HoF"),RANK:dt("Rank"),GUILD_RANK:dt("Guild Rank")}},A9=new Set([dt("Strength"),dt("Dexterity"),dt("Intelligence"),dt("Constitution"),dt("Luck"),dt("Attribute")]),I9=["equipment"],R9=t=>A9.has(t)||I9.some(e=>t.includes(e)),He=(t,e)=>{for(const n of Object.keys(t))if(dt(n)===e)return t[n]},P9=(t,e)=>e.map(n=>He(t,n)).find(n=>n!=null&&String(n)!=="");function Ch(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,u=Number(n[3]),d=Number(n[4]),f=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(u,l,i,d,f,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function fw(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+i)/864e5+1)/7),u=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${u}-W${d}`}function pw(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),l=i+7*86400-1;return{start:i,end:l}}function mw(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function gw(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function N9(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function D9(t){var f;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=N9((f=n[0])!=null?f:""),i=p=>{const g=[];let v="",w=!1;for(let S=0;S<p.length;S++){const j=p[S];j==='"'?w&&p[S+1]==='"'?(v+='"',S++):w=!w:j===r&&!w?(g.push(v),v=""):v+=j}return g.push(v),g},u=(n[0]?i(n[0]).map(nh):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=i(n[p]);if(g.every(w=>nh(w)===""))continue;const v={};for(let w=0;w<u.length;w++)v[u[w]]=g[w]!=null?nh(g[w]):"";d.push(v)}return{headers:u,rows:d}}const yw=120,vw=40,xw=120;async function La(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const l=YP(ht),u=t.slice(i,i+e);for(const d of u)d(l);r==null||r({phase:"write",current:Math.min(i+u.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Gd(t,e){const n={};for(const r of e){const i=dt(r);if(R9(i)){let l=null,u;for(const d of t){const f=d.row[r];if(f==null||f==="")continue;const p=Number(String(f).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,u=f)}n[r]=u!=null?u:""}else{let l="";for(let u=t.length-1;u>=0;u--){const d=t[u].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function bw(t){var i;const e=await ss(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const l=Ch(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Ch(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function ww(t,e){var g,v,w,S,j;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let u=[];if(e.rows&&Array.isArray(e.rows))u=e.rows;else if(e.raw&&typeof e.raw=="string")u=D9(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' übergeben.");const d=new Set;for(const I of u)Object.keys(I).forEach(k=>d.add(k));const f=Array.from(d);if(e.kind==="players"){const I=[],k=[],V=[],B=new Map;for(const F of u){const U=(g=He(F,ze.PLAYERS.PID))!=null?g:He(F,ze.PLAYERS.IDENTIFIER),$=String(U!=null?U:"").trim();if(!$){l.skippedMissingIdentifier++;continue}const q=Ch(He(F,ze.PLAYERS.TIMESTAMP));if(q==null){l.skippedBadTs++;continue}const E=(()=>{const T=He(F,ze.PLAYERS.SERVER);return T&&String(T).trim()!==""?Fi(T):void 0})();if(!E){l.skippedMissingServer++;continue}I.push(T=>{const A=zt(ht,`players/${$}/scans/${q}`);T.set(A,{playerId:$,server:E,timestamp:q,timestampRaw:He(F,ze.PLAYERS.TIMESTAMP),name:He(F,ze.PLAYERS.NAME)||null,values:F,createdAt:Zs()},{merge:!0})}),l.writtenScanPlayers++,B.has($)||B.set($,[]),B.get($).push({row:F,ts:q})}for(const[F,U]of B){U.sort((Q,ae)=>Q.ts-ae.ts);const $=U[U.length-1],q=Fi(He($.row,ze.PLAYERS.SERVER)||""),E=He($.row,ze.PLAYERS.NAME)||null,T=He($.row,ze.PLAYERS.LEVEL),A=He($.row,ze.PLAYERS.CLASS),D=He($.row,ze.PLAYERS.GUILD),M=(w=(v=He($.row,ze.PLAYERS.NAME))!=null?v:E)!=null?w:"",L=dw(M),N=hw(L),fe=zt(ht,`players/${F}/latest/latest`),K=await bw(fe);$.ts>K&&(k.push(Q=>{Q.set(fe,{playerId:F,server:q,timestamp:$.ts,timestampRaw:He($.row,ze.PLAYERS.TIMESTAMP),name:E,values:$.row,updatedAt:Zs(),nameFold:rh(M),nameTokens:L,nameNgrams:N,level:Cm(T),className:A!=null&&String(A).trim()!==""?String(A):null,guildName:D!=null&&String(D).trim()!==""?String(D):null,guildNameFold:D?rh(D):null},{merge:!0})}),l.writtenLatestPlayers++);const re=new Map,ne=new Map;for(const Q of U){const ae=fw(Q.ts),oe=mw(Q.ts);re.has(ae)||re.set(ae,[]),ne.has(oe)||ne.set(oe,[]),re.get(ae).push(Q),ne.get(oe).push(Q)}for(const[Q,ae]of re){ae.sort((ye,_e)=>ye.ts-_e.ts);const oe=Gd(ae,f),H=pw(ae[ae.length-1].ts),ee=ae[ae.length-1];V.push(ye=>{const _e=zt(ht,`players/${F}/history_weekly/${Q}`);ye.set(_e,{playerId:F,weekId:Q,periodStartSec:H.start,periodEndSec:H.end,lastTs:ee.ts,lastTimestampRaw:He(ee.row,ze.PLAYERS.TIMESTAMP),server:Fi(He(ee.row,ze.PLAYERS.SERVER)||""),name:He(ee.row,ze.PLAYERS.NAME)||null,values:oe,updatedAt:Zs()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,ae]of ne){ae.sort((ye,_e)=>ye.ts-_e.ts);const oe=Gd(ae,f),H=gw(ae[ae.length-1].ts),ee=ae[ae.length-1];V.push(ye=>{const _e=zt(ht,`players/${F}/history_monthly/${Q}`);ye.set(_e,{playerId:F,monthId:Q,periodStartSec:H.start,periodEndSec:H.end,lastTs:ee.ts,lastTimestampRaw:He(ee.row,ze.PLAYERS.TIMESTAMP),server:Fi(He(ee.row,ze.PLAYERS.SERVER)||""),name:He(ee.row,ze.PLAYERS.NAME)||null,values:oe,updatedAt:Zs()},{merge:!0})}),l.writtenMonthlyPlayers++}}await La(I,yw,"scans",e.onProgress),await La(k,vw,"latest",e.onProgress),await La(V,xw,"history",e.onProgress)}if(e.kind==="guilds"){const I=[],k=[],V=[],B=new Map;for(const F of u){const U=String((S=He(F,ze.GUILDS.GUILD_IDENTIFIER))!=null?S:"").trim();if(!U){l.skippedMissingGuildIdentifier++;continue}const $=Ch(He(F,ze.GUILDS.TIMESTAMP));if($==null){l.skippedBadTsGuild++;continue}const q=(()=>{const E=He(F,ze.GUILDS.SERVER);return E&&String(E).trim()!==""?Fi(E):void 0})();if(!q){l.skippedMissingServer++;continue}I.push(E=>{const T=zt(ht,`guilds/${U}/scans/${$}`);E.set(T,{guildIdentifier:U,server:q,timestamp:$,timestampRaw:He(F,ze.GUILDS.TIMESTAMP),name:He(F,ze.GUILDS.NAME)||null,values:F,createdAt:Zs()},{merge:!0})}),l.writtenScanGuilds++,B.has(U)||B.set(U,[]),B.get(U).push({row:F,ts:$})}for(const[F,U]of B){U.sort((K,re)=>K.ts-re.ts);const $=U[U.length-1],q=(j=He($.row,ze.GUILDS.NAME))!=null?j:"",E=dw(q),T=hw(E),A=Cm(He($.row,ze.GUILDS.MEMBER_COUNT)),D=Cm(P9($.row,[ze.GUILDS.HOF,ze.GUILDS.HOF_ALT,ze.GUILDS.RANK,ze.GUILDS.GUILD_RANK])),M=zt(ht,`guilds/${F}/latest/latest`),L=await bw(M);$.ts>L&&(k.push(K=>{K.set(M,{guildIdentifier:F,server:Fi(He($.row,ze.GUILDS.SERVER)||""),timestamp:$.ts,timestampRaw:He($.row,ze.GUILDS.TIMESTAMP),name:He($.row,ze.GUILDS.NAME)||null,values:$.row,updatedAt:Zs(),nameFold:rh(q),nameTokens:E,nameNgrams:T,memberCount:A,hofRank:D},{merge:!0})}),l.writtenLatestGuilds++);const N=new Map,fe=new Map;for(const K of U){const re=fw(K.ts),ne=mw(K.ts);N.has(re)||N.set(re,[]),fe.has(ne)||fe.set(ne,[]),N.get(re).push(K),fe.get(ne).push(K)}for(const[K,re]of N){re.sort((oe,H)=>oe.ts-H.ts);const ne=Gd(re,f),Q=pw(re[re.length-1].ts),ae=re[re.length-1];V.push(oe=>{const H=zt(ht,`guilds/${F}/history_weekly/${K}`);oe.set(H,{guildIdentifier:F,weekId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:ae.ts,lastTimestampRaw:He(ae.row,ze.GUILDS.TIMESTAMP),server:Fi(He(ae.row,ze.GUILDS.SERVER)||""),name:He(ae.row,ze.GUILDS.NAME)||null,values:ne,updatedAt:Zs()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[K,re]of fe){re.sort((oe,H)=>oe.ts-H.ts);const ne=Gd(re,f),Q=gw(re[re.length-1].ts),ae=re[re.length-1];V.push(oe=>{const H=zt(ht,`guilds/${F}/history_monthly/${K}`);oe.set(H,{guildIdentifier:F,monthId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:ae.ts,lastTimestampRaw:He(ae.row,ze.GUILDS.TIMESTAMP),server:Fi(He(ae.row,ze.GUILDS.SERVER)||""),name:He(ae.row,ze.GUILDS.NAME)||null,values:ne,updatedAt:Zs()},{merge:!0})}),l.writtenMonthlyGuilds++}}await La(I,yw,"scans",e.onProgress),await La(k,vw,"latest",e.onProgress),await La(V,xw,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:i,durationMs:p-n}}const Le=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),M9=t=>String(t!=null?t:"").trim(),bg=t=>M9(t).toUpperCase(),wg=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function In(t,e){for(const n of Object.keys(t))if(Le(n)===e)return t[n]}function Xs(t,e){for(const n of e){const r=In(t,n);if(r!=null&&String(r)!=="")return r}}function Io(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Ya(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,u=Number(n[3]),d=Number(n[4]),f=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(u,l,i,d,f,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ut={GUILD_IDENTIFIER:Le("Guild Identifier"),SERVER:Le("Server"),NAME:Le("Name"),TIMESTAMP:Le("Timestamp"),LEVEL:Le("Level"),CLASS:Le("Class"),GUILD:Le("Guild"),GUILD_ROLE:[Le("Role"),Le("Guild Role")],TREASURY:[Le("Treasury"),Le("Fortress Treasury"),Le("Treasury Level"),Le("Festungsschatzkammer")],MINE:[Le("Mine"),Le("Gem Mine"),Le("Mine Level"),Le("Festungsmine")],BASE_MAIN:[Le("Base"),Le("Base Attribute"),Le("BaseMain"),Le("Basis Attribut")],CON_BASE:[Le("Con Base"),Le("Constitution Base"),Le("Base Constitution"),Le("Basis Konstitution"),Le("conbase")],ATTR_TOT:[Le("Attribute"),Le("Attr Total"),Le("Attribut"),Le("Attribut Gesamt")],CON_TOT:[Le("Constitution"),Le("Constitution Total"),Le("Konstitution"),Le("Konstitution Gesamt")],LAST_ACTIVE:[Le("Last Active"),Le("LastActivity"),Le("Letzte Aktivität")],GUILD_JOINED:[Le("Guild Joined"),Le("Joined Guild"),Le("Gildenbeitritt")]},sh={GUILD_IDENTIFIER:Le("Guild Identifier"),SERVER:Le("Server"),NAME:Le("Name")};function _w(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function V9(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function F9(t){var n;const e=new Map;for(const r of t){const i=String((n=In(r,sh.GUILD_IDENTIFIER))!=null?n:"").trim(),l=In(r,sh.SERVER),u=In(r,sh.NAME);if(!i||!l||!u)continue;const d=`${bg(l)}__${wg(String(u))}`;e.set(d,i)}return e}function L9(t){var F,U;const e=In(t,Ut.TIMESTAMP),n=Ya(e),r=Xs(t,Ut.LAST_ACTIVE),i=Ya(r),l=Xs(t,Ut.GUILD_JOINED),u=Ya(l),d=Io(In(t,Ut.LEVEL)),f=(()=>{const $=In(t,Ut.CLASS);return $!=null&&String($).trim()!==""?String($):null})(),p=(()=>{const $=Xs(t,Ut.GUILD_ROLE);return $!=null&&String($).trim()!==""?String($):null})(),g=Io(Xs(t,Ut.TREASURY)),v=Io(Xs(t,Ut.MINE)),w=Io(Xs(t,Ut.BASE_MAIN)),S=Io(Xs(t,Ut.CON_BASE)),j=Io(Xs(t,Ut.ATTR_TOT)),I=Io(Xs(t,Ut.CON_TOT)),k=w!=null&&S!=null?w+S:null,V=j!=null&&I!=null?j+I:null,B=(()=>{const $=In(t,Ut.NAME);return $!=null&&String($).trim()!==""?String($):null})();return{id:String((U=(F=t==null?void 0:t.ID)!=null?F:t==null?void 0:t.Identifier)!=null?U:""),name:B,class:f,role:p,level:d,treasury:g,mine:v,baseMain:w,conBase:S,sumBaseTotal:k,attrTotal:j,conTotal:I,totalStats:V,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:u!=null?u*1e3:null}}function Js(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function B9(t){var u,d,f;const e=zt(ht,`guilds/${t}/latest/latest`),n=await ss(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(f=(d=r.timestampRaw)!=null?d:(u=r.values)==null?void 0:u.Timestamp)!=null?f:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(l=Ya(i)),{sec:l,raw:i}}async function O9(t){const e=zt(ht,`guilds/${t}/snapshots/members_summary`),n=await ss(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=Ya(r.updatedAt);if(i!=null)return i}return 0}async function $9(t,e){var l,u,d,f,p,g,v;const n=F9(e||[]),r=new Set;for(const w of e||[]){const S=String((l=In(w,sh.GUILD_IDENTIFIER))!=null?l:"").trim();S&&r.add(S)}for(const w of t||[]){const S=In(w,Ut.SERVER);let j=String((u=In(w,Ut.GUILD_IDENTIFIER))!=null?u:"").trim();if(!j){const I=(d=In(w,Ut.GUILD))!=null?d:w.Guild;if(I&&S){const k=`${bg(S)}__${wg(String(I))}`,V=n.get(k);V&&(j=V)}}j&&r.add(j)}let i=0;for(const w of r){const{sec:S,raw:j}=await B9(w);if(S==null)continue;const I=await O9(w);if(S<=I)continue;const k=new Map;for(const K of t||[]){const re=In(K,Ut.SERVER);let ne=String((f=In(K,Ut.GUILD_IDENTIFIER))!=null?f:"").trim();if(!ne){const oe=(p=In(K,Ut.GUILD))!=null?p:K.Guild;if(oe&&re){const H=`${bg(re)}__${wg(String(oe))}`,ee=n.get(H);ee&&(ne=ee)}}if(ne!==w)continue;const Q=Ya(In(K,Ut.TIMESTAMP));if(Q==null||Q!==S)continue;const ae=String((v=(g=K==null?void 0:K.ID)!=null?g:K==null?void 0:K.Identifier)!=null?v:"").trim();ae&&(k.has(ae)||k.set(ae,K))}const V=Array.from(k.values()),B=[];for(const K of V)B.push(L9(K));B.sort((K,re)=>{var ae,oe;const ne=_w(K.role),Q=_w(re.role);return ne!==Q?ne-Q:((ae=K.name)!=null?ae:"").toLowerCase().localeCompare(((oe=re.name)!=null?oe:"").toLowerCase())});const F=Js(B,"level"),U=Js(B,"treasury"),$=Js(B,"mine"),q=Js(B,"baseMain"),E=Js(B,"conBase"),T=Js(B,"sumBaseTotal"),A=Js(B,"attrTotal"),D=Js(B,"conTotal"),M=Js(B,"totalStats"),L=JSON.stringify({gid:w,tsSec:S,members:B.map(K=>{var re,ne,Q,ae,oe,H,ee,ye,_e,je,me,Ce,Ae;return{id:K.id,name:(re=K.name)!=null?re:"",class:(ne=K.class)!=null?ne:"",role:(Q=K.role)!=null?Q:"",level:(ae=K.level)!=null?ae:null,treasury:(oe=K.treasury)!=null?oe:null,mine:(H=K.mine)!=null?H:null,baseMain:(ee=K.baseMain)!=null?ee:null,conBase:(ye=K.conBase)!=null?ye:null,sumBaseTotal:(_e=K.sumBaseTotal)!=null?_e:null,attrTotal:(je=K.attrTotal)!=null?je:null,conTotal:(me=K.conTotal)!=null?me:null,totalStats:(Ce=K.totalStats)!=null?Ce:null,guildJoinedMs:(Ae=K.guildJoinedMs)!=null?Ae:null}})}),N=V9(L),fe=zt(ht,`guilds/${w}/snapshots/members_summary`);await gh(fe,{guildId:w,count:B.length,updatedAt:j!=null?j:String(S),updatedAtMs:S*1e3,hash:N,avgLevel:F,avgTreasury:U,avgMine:$,avgBaseMain:q,avgConBase:E,avgSumBaseTotal:T,avgAttrTotal:A,avgConTotal:D,avgTotalStats:M,members:B,updatedAtServer:Zs()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function U9(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function z9(t,e,n,r){var f,p,g;const i=zt(ht,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await ss(i);if(!l.exists())return await gh(i,n,{merge:!1}),{first:n,firstTsMs:(f=n.updatedAtMs)!=null?f:n.timestamp?n.timestamp*1e3:r};const u=l.data(),d=(p=u.updatedAtMs)!=null?p:u.timestamp?u.timestamp*1e3:r;return r<d?(await gh(i,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:u,firstTsMs:d}}async function G9(t,e,n){const r=zt(ht,`guilds/${t}/history_monthly/${e}`);await gh(r,n,{merge:!0})}function H9(t){var B,F,U,$,q,E,T,A,D,M,L,N,fe;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:l,latest:u,latestTsMs:d}=t,f=l!=null?Math.floor((d-l)/864e5):null,p=f!=null&&f<=40,g={available:p};p||(g.reason=f==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const v={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:f,guildId:e,server:r!=null?r:null},status:g};if(!p||!i)return v;const w=new Map;for(const K of i.members||[])K.playerId&&w.set(K.playerId,K);const S=[],j=[],I=[],k=[],V=[];for(const K of u.members||[]){if(!K.playerId)continue;const re=w.get(K.playerId)||null,ne=(B=K.sumBaseTotal)!=null?B:null,Q=(F=re==null?void 0:re.sumBaseTotal)!=null?F:null,ae=ne!=null&&Q!=null?ne-Q:0,oe=(U=K.totalStats)!=null?U:null,H=($=re==null?void 0:re.totalStats)!=null?$:null,ee=oe!=null&&H!=null?oe-H:0;S.push({playerId:K.playerId,name:(q=K.name)!=null?q:null,class:(E=K.class)!=null?E:null,levelLatest:(T=K.level)!=null?T:null,baseLatest:ne,baseDelta:ae}),j.push({playerId:K.playerId,name:(A=K.name)!=null?A:null,base:ne,stamDelta:null,shoDelta:null}),I.push({playerId:K.playerId,name:(D=K.name)!=null?D:null,stats:ne,delta:ae}),k.push({playerId:K.playerId,name:(M=K.name)!=null?M:null,total:oe,delta:ee}),V.push({playerId:K.playerId,name:(L=K.name)!=null?L:null,class:(N=K.class)!=null?N:null,stats:(fe=K.baseMain)!=null?fe:null,delta:(re==null?void 0:re.baseMain)!=null&&K.baseMain!=null?K.baseMain-re.baseMain:0})}return S.sort((K,re)=>{var ne,Q;return((ne=re.baseDelta)!=null?ne:-1/0)-((Q=K.baseDelta)!=null?Q:-1/0)}),I.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),k.sort((K,re)=>{var ne,Q;return((ne=re.total)!=null?ne:-1/0)-((Q=K.total)!=null?Q:-1/0)}),j.sort((K,re)=>{var ne,Q;return((ne=re.base)!=null?ne:-1/0)-((Q=K.base)!=null?Q:-1/0)}),V.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),{...v,mostBaseGained:S.slice(0,50),sumBaseStats:j.slice(0,50),highestBaseStats:I.slice(0,50),highestTotalStats:k.slice(0,50),mainAndCon:V.slice(0,50)}}const km=t=>String(t!=null?t:"").trim(),Ln=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function W9(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function Sw(t){var f;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=W9((f=n[0])!=null?f:""),i=p=>{const g=[];let v="",w=!1;for(let S=0;S<p.length;S++){const j=p[S];j==='"'?w&&p[S+1]==='"'?(v+='"',S++):w=!w:j===r&&!w?(g.push(v),v=""):v+=j}return g.push(v),g},u=(n[0]?i(n[0]).map(km):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=i(n[p]);if(g.every(w=>km(w)===""))continue;const v={};for(let w=0;w<u.length;w++)v[u[w]]=g[w]!=null?km(g[w]):"";d.push(v)}return{headers:u,rows:d,delimiter:r}}const Gt={PLAYERS:{IDENTIFIER:Ln("Identifier"),GUILD_IDENTIFIER:Ln("Guild Identifier"),TIMESTAMP:Ln("Timestamp"),NAME:Ln("Name"),SERVER:Ln("Server"),OWN:Ln("Own")},GUILDS:{GUILD_IDENTIFIER:Ln("Guild Identifier"),GUILD_MEMBER_COUNT:Ln("Guild Member Count"),NAME:Ln("Name"),TIMESTAMP:Ln("Timestamp")}},RT=(t,e)=>{const n=new Set(t.map(Ln));return e.every(r=>n.has(r))},Rr=(t,e)=>{for(const n of Object.keys(t))if(Ln(n)===e)return t[n]};function q9(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function Tw(t){const e=t.map(Ln),n=l=>e.includes(l);let r=0,i=0;return n(Gt.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Gt.PLAYERS.IDENTIFIER)&&(r+=2),n(Gt.PLAYERS.TIMESTAMP)&&(r+=1),n(Gt.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(Gt.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(Gt.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(Gt.PLAYERS.IDENTIFIER)?"players":"guilds"}function Ew(t,e){const n=q9(t);if(n!=="unknown"){const i=Tw(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=Tw(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function PT(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function K9(t,e){var r;const n=[];if(!RT(e,[Gt.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const l=Rr(i,Gt.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const u=Rr(i,Gt.PLAYERS.SERVER),d=u&&String(u).trim()!==""?String(u).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:Rr(i,Gt.PLAYERS.IDENTIFIER)||void 0,name:Rr(i,Gt.PLAYERS.NAME)||void 0,own:["1","true","✓","yes","y","ja"].includes(String(Rr(i,Gt.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=PT(Rr(i,Gt.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function Q9(t,e){const n=[];if(!RT(e,[Gt.GUILDS.GUILD_IDENTIFIER,Gt.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=Rr(r,Gt.GUILDS.GUILD_IDENTIFIER),l=Number(Rr(r,Gt.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(l))continue;const u=PT(Rr(r,Gt.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:Rr(r,Gt.GUILDS.NAME)||void 0,memberCount:l,tsSec:u!=null?u:void 0})}return n}function Y9(t,e){var k,V,B,F,U,$;const n=[],r=new Map;for(const q of t){const E=q.id||"",T=(k=q.server)==null?void 0:k.toUpperCase();if(E){const A=`${T!=null?T:"NO"}::${E}`;r.has(A)||r.set(A,{server:T,id:E,name:q.name||"",own:!!q.own})}}const i=r.size,l=t.length,u=Array.from(r.values()).filter(q=>q.own).length,d=new Map;for(const q of r.values())q.server&&d.set(q.server,((V=d.get(q.server))!=null?V:0)+1);const f=Array.from(d.entries()).map(([q,E])=>({server:q,players:E})).sort((q,E)=>E.players-q.players),p=f.length,g=new Map;for(const q of t)g.set(q.guildIdentifier,((B=g.get(q.guildIdentifier))!=null?B:0)+1);const v=new Set,w=new Map;for(const q of e)v.add(q.guildIdentifier),w.set(q.guildIdentifier,{name:q.name||"",declared:q.memberCount});for(const q of g.keys())v.add(q);let S=0;const j=[];for(const q of v){const E=(F=w.get(q))==null?void 0:F.declared,T=(U=g.get(q))!=null?U:0,A=E!=null&&T===E;A&&S++,j.push({id:q,name:(($=w.get(q))==null?void 0:$.name)||"",declaredCount:E!=null?E:0,playersCount:T,full:A})}[...w.values()].some(q=>Number.isFinite(q.declared))||n.push("Keine 'Guild Member Count' Information gefunden – vollständig gescannte Gilden nicht sicher bestimmbar."),j.sort((q,E)=>q.name?q.name.localeCompare(E.name):q.id.localeCompare(E.id));const I=Array.from(r.values()).sort((q,E)=>(q.server||"")===(E.server||"")?q.name.localeCompare(E.name):(q.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:i,ownPlayers:u,servers:p,perServer:f,guildsRepresented:v.size,fullyScannedGuilds:S,notes:n,playersList:I,guildsList:j}}function X9(){const[t,e]=P.useState([]),[n,r]=P.useState(null),[i,l]=P.useState(!1),[u,d]=P.useState(null),[f,p]=P.useState(!1),[g,v]=P.useState(null),[w,S]=P.useState([]),[j,I]=P.useState(null);P.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const k=P.useCallback(async E=>{var T;l(!0),d(null),r(null),S([]),v(null);try{const A=Array.from(E).slice(0,2),D=[];let M=[],L=[];for(const N of A){const fe=N,K=await fe.text(),re=Sw(K),{kind:ne,warn:Q}=Ew(fe.name,re.headers);D.push({name:fe.name,size:fe.size||K.length,rows:re.rows.length,delimiter:re.delimiter,text:K,kind:ne,warn:Q}),ne==="players"?M=M.concat(K9(re.rows,re.headers)):ne==="guilds"&&(L=L.concat(Q9(re.rows,re.headers)))}e(D),r(Y9(M,L))}catch(A){d(String((T=A==null?void 0:A.message)!=null?T:A))}finally{l(!1)}},[]),V=P.useCallback(async E=>{!E||E.length===0||await k(E)},[k]),B=P.useCallback(async E=>{E.preventDefault();const T=E.dataTransfer.files;!T||!T.length||await k(T)},[k]);async function F(){var E,T,A;if(t.length){p(!0),I({phase:"prepare",current:0,total:0}),v(null),S([]);try{let D=[],M=[];for(const K of t){const re=Sw(K.text),{kind:ne}=Ew(K.name,re.headers);ne==="players"&&(D=D.concat(re.rows)),ne==="guilds"&&(M=M.concat(re.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!D.length,hasGuildsCsv:!!M.length,playersRows:D.length,guildsRows:M.length}),!M.length)throw new Error("Guilds-CSV mit „Guild Identifier“ + „Guild Member Count“ + „Timestamp“ nicht gefunden.");if(!D.length)throw new Error("Players-CSV mit „Guild Identifier“ nicht gefunden.");const L=await ww(null,{kind:"guilds",rows:M,onProgress:K=>I(K)});console.info("[Import Report] guilds",L);const N=await ww(null,{kind:"players",rows:D,onProgress:K=>I(K)});console.info("[Import Report] players",N),await $9(D,M);const fe=new Set;for(const K of M){const re=Rr(K,Ln("Guild Identifier"));re&&fe.add(String(re))}for(const K of D){const re=Rr(K,Ln("Guild Identifier"));re&&fe.add(String(re))}for(const K of fe){const re=zt(ht,`guilds/${K}/snapshots/members_summary`),ne=await ss(re);if(!ne.exists())continue;const Q=ne.data(),ae=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),oe=U9(ae),{first:H,firstTsMs:ee}=await z9(K,oe,Q,ae),ye=H9({guildId:K,monthKey:oe,server:(T=Q.server)!=null?T:null,first:H,firstTsMs:ee,latest:Q,latestTsMs:ae});await G9(K,oe,ye)}I({phase:"done",current:1,total:1}),S([L,N]),v("Import abgeschlossen.")}catch(D){console.error("[UploadCenter] Import error:",D),v(`Fehler beim Import: ${(A=D==null?void 0:D.message)!=null?A:D}`)}finally{p(!1),setTimeout(()=>I(null),1200)}}}const U=P.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, “${E.delimiter}”, ${E.kind}${E.warn?" ⚠️":""})`),[t]),$=P.useMemo(()=>t.reduce((E,T)=>E+T.rows,0),[t]),q=j?Math.floor(100*j.current/Math.max(1,j.total||1)):0;return o.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[o.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[o.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),o.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[U.map((E,T)=>o.jsx("span",{className:"uc-chip",title:t[T].warn||"",children:E},T)),t.length>0&&o.jsxs("span",{className:"uc-chip",children:["Total: ",$," rows"]})]}),o.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[j&&o.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[o.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:o.jsx("div",{style:{width:`${q}%`,height:"100%",background:"#2E75F0"}})}),o.jsxs("span",{style:{color:"#D6E4F7"},children:[q,"%"]})]}),o.jsx("button",{onClick:F,disabled:!t.length||!n||f,className:"uc-btn",children:f?"Loading…":"Load to DB"}),g&&o.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),o.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[o.jsx("label",{style:{opacity:.9},children:"Dateien wählen (max. 2) oder hierher ziehen"}),o.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>V(E.target.files),disabled:i})]}),o.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:B,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 1–2 CSV files here"}),i&&o.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)…"}),u&&o.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[o.jsx("b",{children:"Fehler:"})," ",u]}),n&&o.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[o.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:o.jsx("b",{children:"Gesamtübersicht (nur Vorschau)"})}),o.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[o.jsx(uu,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),o.jsx(uu,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),o.jsx(uu,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),o.jsx(uu,{label:"Vollständig gescannte Gilden",value:n.fullyScannedGuilds}),o.jsx(uu,{label:"Verschiedene Server",value:n.servers})]}),o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Server"}),o.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),o.jsx("tbody",{children:n.perServer.map(E=>o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:E.server}),o.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),o.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[o.jsxs("details",{children:[o.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Server"}),o.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),o.jsx("th",{style:{textAlign:"left"},children:"Name"}),o.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),o.jsx("tbody",{children:n.playersList.map((E,T)=>{var A,D;return o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:(A=E.server)!=null?A:"—"}),o.jsx("td",{children:E.id}),o.jsx("td",{children:E.name||"—"}),o.jsx("td",{children:E.own?"✓":""})]},`${(D=E.server)!=null?D:"NO"}-${E.id}-${T}`)})})]})})]}),o.jsxs("details",{open:!0,children:[o.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),o.jsx("th",{style:{textAlign:"left"},children:"Name"}),o.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),o.jsx("th",{style:{textAlign:"right"},children:"Gezählt"}),o.jsx("th",{style:{textAlign:"center"},children:"Vollständig"})]})}),o.jsx("tbody",{children:n.guildsList.map((E,T)=>o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:E.id}),o.jsx("td",{children:E.name||"—"}),o.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),o.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),o.jsx("td",{style:{textAlign:"center"},children:E.full?"✓":""})]},`${E.id}-${T}`))})]})})]})]}),!!n.notes.length&&o.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",o.jsx("ul",{children:n.notes.map((E,T)=>o.jsx("li",{children:E},T))})]})]})]})}function uu({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[o.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),o.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&o.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function J9(){return o.jsxs("div",{children:[o.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfügbar)"}),o.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frühere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",o.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function Z9(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=Kw();return!t||!i?null:o.jsx("div",{className:ws.backdrop,onClick:e,children:o.jsxs("div",{className:ws.panel,onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:ws.header,children:[o.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),o.jsxs("div",{className:ws.tabs,children:[o.jsx("button",{type:"button",className:`${ws.tabBtn} ${n==="csv"?ws.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),o.jsx("button",{type:"button",className:`${ws.tabBtn} ${n==="json"?ws.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter – keine Importfunktion",children:"JSON"})]}),o.jsx("button",{type:"button",className:ws.closeBtn,onClick:e,children:"Schließen"})]}),o.jsx("div",{className:ws.content,children:n==="csv"?o.jsx(X9,{}):o.jsx(J9,{})})]})})}const e$=t=>()=>o.jsx("div",{style:{padding:16},children:o.jsx("h2",{style:{color:"var(--title)"},children:t})}),pn=e$("Diese Unterseite existiert in der neuen Struktur nicht mehr.");GE.createRoot(document.getElementById("root")).render(o.jsx(Ve.StrictMode,{children:o.jsxs(yk,{role:"admin",children:[o.jsx(iC,{children:o.jsx(Vj,{children:o.jsxs(se,{element:o.jsx(qN,{}),children:[o.jsx(se,{path:"/",element:o.jsx(KN,{})}),o.jsx(se,{path:"/dashboard",element:o.jsx(NV,{})}),o.jsx(se,{path:"/dashboard/kpis",element:o.jsx(VV,{})}),o.jsx(se,{path:"/dashboard/activity",element:o.jsx(FV,{})}),o.jsx(se,{path:"/dashboard/progression",element:o.jsx(LV,{})}),o.jsx(se,{path:"/discover",element:o.jsx(BV,{})}),o.jsx(se,{path:"/toplists",element:o.jsx(DF,{})}),o.jsx(se,{path:"/players",element:o.jsx(MF,{})}),o.jsx(se,{path:"/players/rankings",element:o.jsx(VF,{})}),o.jsx(se,{path:"/players/stats",element:o.jsx(FF,{})}),o.jsx(se,{path:"/players/profile",element:o.jsx(xm,{})}),o.jsx(se,{path:"/players/profile/:playerId",element:o.jsx(xm,{})}),o.jsx(se,{path:"/player/:playerId",element:o.jsx(xm,{})}),o.jsx(se,{path:"/guilds",element:o.jsx(UF,{})}),o.jsx(se,{path:"/guilds/rankings",element:o.jsx(zF,{})}),o.jsx(se,{path:"/guilds/stats",element:o.jsx(GF,{})}),o.jsx(se,{path:"/guilds/profile",element:o.jsx(_m,{})}),o.jsx(se,{path:"/guilds/profile/:guildId",element:o.jsx(_m,{})}),o.jsx(se,{path:"/guild/:guildId",element:o.jsx(_m,{})}),o.jsx(se,{path:"/servers",element:o.jsx(z3,{})}),o.jsx(se,{path:"/servers/rankings",element:o.jsx(G3,{})}),o.jsx(se,{path:"/servers/stats",element:o.jsx(H3,{})}),o.jsx(se,{path:"/servers/profile",element:o.jsx(Sm,{})}),"               ",o.jsx(se,{path:"/servers/profile/:serverId",element:o.jsx(Sm,{})}),"     ",o.jsx(se,{path:"/server/:serverId",element:o.jsx(Sm,{})}),"              ",o.jsx(se,{path:"/guides",element:o.jsx(K3,{})}),o.jsx(se,{path:"/guides/fortress",element:o.jsx(Q3,{})}),o.jsx(se,{path:"/guides/underworld",element:o.jsx(Y3,{})}),o.jsx(se,{path:"/guides/arena-am",element:o.jsx(X3,{})}),o.jsx(se,{path:"/guides/dungeons",element:o.jsx(J3,{})}),o.jsx(se,{path:"/guides/hellevator",element:o.jsx(Z3,{})}),o.jsx(se,{path:"/guides/legendary-dungeon",element:o.jsx(eB,{})}),o.jsx(se,{path:"/guides/events",element:o.jsx(tB,{})}),o.jsx(se,{path:"/guides/calculators",element:o.jsx(nB,{})}),o.jsx(se,{path:"/guides/infographics",element:o.jsx(rB,{})}),o.jsx(se,{path:"/community",element:o.jsx(sB,{})}),o.jsx(se,{path:"/community/scans",element:o.jsx(iB,{})}),o.jsx(se,{path:"/community/predictions",element:o.jsx(oB,{})}),o.jsx(se,{path:"/community/creators",element:o.jsx(aB,{})}),o.jsx(se,{path:"/community/feedback",element:o.jsx(lB,{})}),o.jsx(se,{path:"/community/news",element:o.jsx(uB,{})}),o.jsx(se,{path:"/scans",element:o.jsx(cB,{})}),o.jsx(se,{path:"/scans/latest",element:o.jsx(dB,{})}),o.jsx(se,{path:"/scans/archive",element:o.jsx(hB,{})}),o.jsx(se,{path:"/guild-hub",element:o.jsx(fB,{})}),o.jsx(se,{path:"/guild-hub/planner",element:o.jsx(gB,{})}),o.jsx(se,{path:"/guild-hub/fusion",element:o.jsx(yB,{})}),o.jsx(se,{path:"/guild-hub/waitlist",element:o.jsx(vB,{})}),o.jsx(se,{path:"/guild-hub/activity",element:o.jsx(xB,{})}),o.jsx(se,{path:"/guild-hub/imports",element:o.jsx(bB,{})}),o.jsx(se,{path:"/guild-hub/announcements",element:o.jsx(wB,{})}),o.jsx(se,{path:"/guild-hub/events",element:o.jsx(_B,{})}),o.jsx(se,{path:"/guild-hub/roles",element:o.jsx(SB,{})}),o.jsx(se,{path:"/guild-hub/settings",element:o.jsx(TB,{})}),o.jsx(se,{path:"/settings",element:o.jsx(EB,{})}),o.jsxs(se,{path:"/playground",element:o.jsx(jB,{}),children:[o.jsx(se,{index:!0,element:o.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),o.jsx(se,{path:"list-views",element:o.jsx(aw,{})}),o.jsx(se,{path:"rescan-widget",element:o.jsx(uw,{})}),o.jsx(se,{path:"upload-sim",element:o.jsx(cw,{})}),o.jsx(se,{path:"theme-maker",element:o.jsx(rw,{})}),o.jsx(se,{path:"theme-maker-pro",element:o.jsx(iw,{})}),o.jsx(se,{path:"hud",element:o.jsx(CB,{})}),o.jsx(se,{path:"hud/game-buttons",element:o.jsx(e6,{})}),o.jsx(se,{path:"core-ui/theme-maker",element:o.jsx(rw,{})}),o.jsx(se,{path:"core-ui/theme-maker-pro",element:o.jsx(iw,{})}),o.jsx(se,{path:"core-ui/list-views",element:o.jsx(aw,{})}),o.jsx(se,{path:"sync/rescan",element:o.jsx(uw,{})}),o.jsx(se,{path:"upload/sim",element:o.jsx(cw,{})}),o.jsx(se,{path:"import/har",element:o.jsx(l6,{})}),o.jsx(se,{path:"import/json-csv",element:o.jsx(h6,{})}),o.jsx(se,{path:"import/schema",element:o.jsx(g6,{})}),o.jsx(se,{path:"hubs/player-contained",element:o.jsx(b6,{})}),o.jsx(se,{path:"hubs/guilds",element:o.jsx(T6,{})}),o.jsx(se,{path:"hubs/servers",element:o.jsx(k6,{})}),o.jsx(se,{path:"rankings/views",element:o.jsx(P6,{})}),o.jsx(se,{path:"analytics/kpi",element:o.jsx(V6,{})}),o.jsx(se,{path:"analytics/progression",element:o.jsx(O6,{})}),o.jsx(se,{path:"analytics/legendary-pets",element:o.jsx(G6,{})}),o.jsx(se,{path:"community/scans",element:o.jsx(K6,{})}),o.jsx(se,{path:"community/creators",element:o.jsx(J6,{})}),o.jsx(se,{path:"feedback/form",element:o.jsx(nO,{})}),o.jsx(se,{path:"feedback/admin",element:o.jsx(oO,{})}),o.jsx(se,{path:"help/tutorials",element:o.jsx(cO,{})}),o.jsx(se,{path:"help/wiki",element:o.jsx(pO,{})}),o.jsx(se,{path:"legal/tos",element:o.jsx(_O,{})}),o.jsx(se,{path:"legal/transparency",element:o.jsx(jO,{})}),o.jsx(se,{path:"settings",element:o.jsx(vO,{})}),o.jsx(se,{path:"pwa/update",element:o.jsx(IO,{})}),o.jsx(se,{path:"pwa/install",element:o.jsx(DO,{})}),o.jsx(se,{path:"connect/manual",element:o.jsx(LO,{})}),o.jsx(se,{path:"connect/userscript",element:o.jsx(UO,{})}),o.jsx(se,{path:"interop/exports",element:o.jsx(WO,{})}),o.jsx(se,{path:"interop/deeplinks",element:o.jsx(YO,{})}),o.jsx(se,{path:"admin/servers",element:o.jsx(e9,{})}),o.jsx(se,{path:"admin/jobs",element:o.jsx(s9,{})}),o.jsx(se,{path:"admin/flags",element:o.jsx(l9,{})}),o.jsx(se,{path:"perf/table-lab",element:o.jsx(h9,{})}),o.jsx(se,{path:"mobile/filters",element:o.jsx(g9,{})}),o.jsx(se,{path:"qa/a11y",element:o.jsx(b9,{})})]}),o.jsx(se,{path:"/latest-scan",element:o.jsx(Fp,{to:"/scans/latest",replace:!0})}),o.jsx(se,{path:"/old-scans",element:o.jsx(Fp,{to:"/scans/archive",replace:!0})}),o.jsx(se,{path:"/favorites",element:pn()}),o.jsx(se,{path:"/notifications",element:pn()}),o.jsx(se,{path:"/guilds/planner",element:pn()}),o.jsx(se,{path:"/guilds/fusion",element:pn()}),o.jsx(se,{path:"/guilds/academy",element:pn()}),o.jsx(se,{path:"/toplists/players",element:pn()}),o.jsx(se,{path:"/toplists/guilds",element:pn()}),o.jsx(se,{path:"/toplists/servers",element:pn()}),o.jsx(se,{path:"/settings/profile",element:pn()}),o.jsx(se,{path:"/settings/account",element:pn()}),o.jsx(se,{path:"/settings/appearance",element:pn()}),o.jsx(se,{path:"/players/search",element:pn()}),o.jsx(se,{path:"/players/compare",element:pn()}),o.jsx(se,{path:"/servers/list",element:pn()}),o.jsx(se,{path:"/servers/trend",element:pn()}),o.jsx(se,{path:"/scans/upload",element:pn()}),o.jsx(se,{path:"/scans/history",element:pn()}),o.jsx(se,{path:"*",element:o.jsx(Fp,{to:"/",replace:!0})})]})})}),o.jsx(Z9,{})]})}));
