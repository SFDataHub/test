import DT from"https://pm-lib.12hp.de/PortraitMaker-core-1.30.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function V0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $f={exports:{}},Hc={},Of={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function LT(){if(Nv)return Qe;Nv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function L(W,ne,ye){this.props=W,this.context=ne,this.refs=R,this.updater=ye||E}L.prototype.isReactComponent={},L.prototype.setState=function(W,ne){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ne,"setState")},L.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function O(){}O.prototype=L.prototype;function B(W,ne,ye){this.props=W,this.context=ne,this.refs=R,this.updater=ye||E}var I=B.prototype=new O;I.constructor=B,T(I,L.prototype),I.isPureReactComponent=!0;var v=Array.isArray,_=Object.prototype.hasOwnProperty,D={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(W,ne,ye){var je,Ee={},ge=null,Ae=null;if(ne!=null)for(je in ne.ref!==void 0&&(Ae=ne.ref),ne.key!==void 0&&(ge=""+ne.key),ne)_.call(ne,je)&&!k.hasOwnProperty(je)&&(Ee[je]=ne[je]);var Ie=arguments.length-2;if(Ie===1)Ee.children=ye;else if(1<Ie){for(var De=Array(Ie),rt=0;rt<Ie;rt++)De[rt]=arguments[rt+2];Ee.children=De}if(W&&W.defaultProps)for(je in Ie=W.defaultProps,Ie)Ee[je]===void 0&&(Ee[je]=Ie[je]);return{$$typeof:t,type:W,key:ge,ref:Ae,props:Ee,_owner:D.current}}function A(W,ne){return{$$typeof:t,type:W.type,key:ne,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function P(W){var ne={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ye){return ne[ye]})}var V=/\/+/g;function $(W,ne){return typeof W=="object"&&W!==null&&W.key!=null?P(""+W.key):ne.toString(36)}function ie(W,ne,ye,je,Ee){var ge=typeof W;(ge==="undefined"||ge==="boolean")&&(W=null);var Ae=!1;if(W===null)Ae=!0;else switch(ge){case"string":case"number":Ae=!0;break;case"object":switch(W.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=W,Ee=Ee(Ae),W=je===""?"."+$(Ae,0):je,v(Ee)?(ye="",W!=null&&(ye=W.replace(V,"$&/")+"/"),ie(Ee,ne,ye,"",function(rt){return rt})):Ee!=null&&(F(Ee)&&(Ee=A(Ee,ye+(!Ee.key||Ae&&Ae.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+W)),ne.push(Ee)),1;if(Ae=0,je=je===""?".":je+":",v(W))for(var Ie=0;Ie<W.length;Ie++){ge=W[Ie];var De=je+$(ge,Ie);Ae+=ie(ge,ne,ye,De,Ee)}else if(De=b(W),typeof De=="function")for(W=De.call(W),Ie=0;!(ge=W.next()).done;)ge=ge.value,De=je+$(ge,Ie++),Ae+=ie(ge,ne,ye,De,Ee);else if(ge==="object")throw ne=String(W),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return Ae}function H(W,ne,ye){if(W==null)return W;var je=[],Ee=0;return ie(W,je,"","",function(ge){return ne.call(ye,ge,Ee++)}),je}function se(W){if(W._status===-1){var ne=W._result;ne=ne(),ne.then(function(ye){(W._status===0||W._status===-1)&&(W._status=1,W._result=ye)},function(ye){(W._status===0||W._status===-1)&&(W._status=2,W._result=ye)}),W._status===-1&&(W._status=0,W._result=ne)}if(W._status===1)return W._result.default;throw W._result}var K={current:null},X={transition:null},ae={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:X,ReactCurrentOwner:D};function le(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:H,forEach:function(W,ne,ye){H(W,function(){ne.apply(this,arguments)},ye)},count:function(W){var ne=0;return H(W,function(){ne++}),ne},toArray:function(W){return H(W,function(ne){return ne})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Qe.Component=L,Qe.Fragment=n,Qe.Profiler=o,Qe.PureComponent=B,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Qe.act=le,Qe.cloneElement=function(W,ne,ye){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var je=T({},W.props),Ee=W.key,ge=W.ref,Ae=W._owner;if(ne!=null){if(ne.ref!==void 0&&(ge=ne.ref,Ae=D.current),ne.key!==void 0&&(Ee=""+ne.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(De in ne)_.call(ne,De)&&!k.hasOwnProperty(De)&&(je[De]=ne[De]===void 0&&Ie!==void 0?Ie[De]:ne[De])}var De=arguments.length-2;if(De===1)je.children=ye;else if(1<De){Ie=Array(De);for(var rt=0;rt<De;rt++)Ie[rt]=arguments[rt+2];je.children=Ie}return{$$typeof:t,type:W.type,key:Ee,ref:ge,props:je,_owner:Ae}},Qe.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:l,_context:W},W.Consumer=W},Qe.createElement=S,Qe.createFactory=function(W){var ne=S.bind(null,W);return ne.type=W,ne},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(W){return{$$typeof:u,render:W}},Qe.isValidElement=F,Qe.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:se}},Qe.memo=function(W,ne){return{$$typeof:p,type:W,compare:ne===void 0?null:ne}},Qe.startTransition=function(W){var ne=X.transition;X.transition={};try{W()}finally{X.transition=ne}},Qe.unstable_act=le,Qe.useCallback=function(W,ne){return K.current.useCallback(W,ne)},Qe.useContext=function(W){return K.current.useContext(W)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(W){return K.current.useDeferredValue(W)},Qe.useEffect=function(W,ne){return K.current.useEffect(W,ne)},Qe.useId=function(){return K.current.useId()},Qe.useImperativeHandle=function(W,ne,ye){return K.current.useImperativeHandle(W,ne,ye)},Qe.useInsertionEffect=function(W,ne){return K.current.useInsertionEffect(W,ne)},Qe.useLayoutEffect=function(W,ne){return K.current.useLayoutEffect(W,ne)},Qe.useMemo=function(W,ne){return K.current.useMemo(W,ne)},Qe.useReducer=function(W,ne,ye){return K.current.useReducer(W,ne,ye)},Qe.useRef=function(W){return K.current.useRef(W)},Qe.useState=function(W){return K.current.useState(W)},Qe.useSyncExternalStore=function(W,ne,ye){return K.current.useSyncExternalStore(W,ne,ye)},Qe.useTransition=function(){return K.current.useTransition()},Qe.version="18.3.1",Qe}var Iv;function $0(){return Iv||(Iv=1,Of.exports=LT()),Of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function MT(){if(Rv)return Hc;Rv=1;var t=$0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var f,y={},b=null,E=null;p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(E=h.ref);for(f in h)r.call(h,f)&&!l.hasOwnProperty(f)&&(y[f]=h[f]);if(u&&u.defaultProps)for(f in h=u.defaultProps,h)y[f]===void 0&&(y[f]=h[f]);return{$$typeof:e,type:u,key:b,ref:E,props:y,_owner:o.current}}return Hc.Fragment=n,Hc.jsx=c,Hc.jsxs=c,Hc}var Pv;function FT(){return Pv||(Pv=1,$f.exports=MT()),$f.exports}var s=FT(),N=$0();const Pe=V0(N);var _h={},Uf={exports:{}},ws={},zf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function BT(){return Dv||(Dv=1,(function(t){function e(X,ae){var le=X.length;X.push(ae);e:for(;0<le;){var W=le-1>>>1,ne=X[W];if(0<o(ne,ae))X[W]=ae,X[le]=ne,le=W;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],le=X.pop();if(le!==ae){X[0]=le;e:for(var W=0,ne=X.length,ye=ne>>>1;W<ye;){var je=2*(W+1)-1,Ee=X[je],ge=je+1,Ae=X[ge];if(0>o(Ee,le))ge<ne&&0>o(Ae,Ee)?(X[W]=Ae,X[ge]=le,W=ge):(X[W]=Ee,X[je]=le,W=je);else if(ge<ne&&0>o(Ae,le))X[W]=Ae,X[ge]=le,W=ge;else break e}}return ae}function o(X,ae){var le=X.sortIndex-ae.sortIndex;return le!==0?le:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],p=[],f=1,y=null,b=3,E=!1,T=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=X)r(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(p)}}function v(X){if(R=!1,I(X),!T)if(n(h)!==null)T=!0,se(_);else{var ae=n(p);ae!==null&&K(v,ae.startTime-X)}}function _(X,ae){T=!1,R&&(R=!1,O(S),S=-1),E=!0;var le=b;try{for(I(ae),y=n(h);y!==null&&(!(y.expirationTime>ae)||X&&!P());){var W=y.callback;if(typeof W=="function"){y.callback=null,b=y.priorityLevel;var ne=W(y.expirationTime<=ae);ae=t.unstable_now(),typeof ne=="function"?y.callback=ne:y===n(h)&&r(h),I(ae)}else r(h);y=n(h)}if(y!==null)var ye=!0;else{var je=n(p);je!==null&&K(v,je.startTime-ae),ye=!1}return ye}finally{y=null,b=le,E=!1}}var D=!1,k=null,S=-1,A=5,F=-1;function P(){return!(t.unstable_now()-F<A)}function V(){if(k!==null){var X=t.unstable_now();F=X;var ae=!0;try{ae=k(!0,X)}finally{ae?$():(D=!1,k=null)}}else D=!1}var $;if(typeof B=="function")$=function(){B(V)};else if(typeof MessageChannel!="undefined"){var ie=new MessageChannel,H=ie.port2;ie.port1.onmessage=V,$=function(){H.postMessage(null)}}else $=function(){L(V,0)};function se(X){k=X,D||(D=!0,$())}function K(X,ae){S=L(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,se(_))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var le=b;b=ae;try{return X()}finally{b=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var le=b;b=X;try{return ae()}finally{b=le}},t.unstable_scheduleCallback=function(X,ae,le){var W=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,X){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=le+ne,X={id:f++,callback:ae,priorityLevel:X,startTime:le,expirationTime:ne,sortIndex:-1},le>W?(X.sortIndex=le,e(p,X),n(h)===null&&X===n(p)&&(R?(O(S),S=-1):R=!0,K(v,le-W))):(X.sortIndex=ne,e(h,X),T||E||(T=!0,se(_))),X},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(X){var ae=b;return function(){var le=b;b=ae;try{return X.apply(this,arguments)}finally{b=le}}}})(Hf)),Hf}var Lv;function VT(){return Lv||(Lv=1,zf.exports=BT()),zf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function $T(){if(Mv)return ws;Mv=1;var t=$0(),e=VT();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},y={};function b(i){return h.call(y,i)?!0:h.call(f,i)?!1:p.test(i)?y[i]=!0:(f[i]=!0,!1)}function E(i,a,d,g){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,a,d,g){if(a===null||typeof a=="undefined"||E(i,a,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(i,a,d,g,x,j,M){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=j,this.removeEmptyString=M}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){L[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];L[a]=new R(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){L[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){L[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){L[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){L[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){L[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){L[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){L[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,B);L[a]=new R(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,B);L[a]=new R(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,B);L[a]=new R(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){L[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),L.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){L[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,a,d,g){var x=L.hasOwnProperty(a)?L[a]:null;(x!==null?x.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,d,x,g)&&(d=null),g||x===null?b(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):x.mustUseProperty?i[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,g=x.attributeNamespace,d===null?i.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?i.setAttributeNS(g,a,d):i.setAttribute(a,d))))}var v=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),X=Symbol.iterator;function ae(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,W;function ne(i){if(W===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+i}var ye=!1;function je(i,a){if(!i||ye)return"";ye=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(te){var g=te}Reflect.construct(i,[],a)}else{try{a.call()}catch(te){g=te}i.call(a.prototype)}else{try{throw Error()}catch(te){g=te}i()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var x=te.stack.split(`
`),j=g.stack.split(`
`),M=x.length-1,z=j.length-1;1<=M&&0<=z&&x[M]!==j[z];)z--;for(;1<=M&&0<=z;M--,z--)if(x[M]!==j[z]){if(M!==1||z!==1)do if(M--,z--,0>z||x[M]!==j[z]){var G=`
`+x[M].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=M&&0<=z);break}}}finally{ye=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?ne(i):""}function Ee(i){switch(i.tag){case 5:return ne(i.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return i=je(i.type,!1),i;case 11:return i=je(i.type.render,!1),i;case 1:return i=je(i.type,!0),i;default:return""}}function ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case D:return"Portal";case A:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case P:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case V:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return a=i.displayName||null,a!==null?a:ge(i.type)||"Memo";case se:a=i._payload,i=i._init;try{return ge(i(a))}catch(d){}}return null}function Ae(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function De(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rt(i){var a=De(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,j=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(M){g=""+M,j.call(this,M)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Lt(i){i._valueTracker||(i._valueTracker=rt(i))}function ht(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),g="";return i&&(g=De(i)?i.checked?"true":"false":i.value),i=g,i!==d?(a.setValue(i),!0):!1}function jt(i){if(i=i||(typeof document!="undefined"?document:void 0),typeof i=="undefined")return null;try{return i.activeElement||i.body}catch(a){return i.body}}function gt(i,a){var d=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d!=null?d:i._wrapperState.initialChecked})}function ls(i,a){var d=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;d=Ie(a.value!=null?a.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function cs(i,a){a=a.checked,a!=null&&I(i,"checked",a,!1)}function yt(i,a){cs(i,a);var d=Ie(a.value),g=a.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?us(i,a.type,d):a.hasOwnProperty("defaultValue")&&us(i,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function zs(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function us(i,a,d){(a!=="number"||jt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var En=Array.isArray;function Tn(i,a,d,g){if(i=i.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=a.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&g&&(i[d].defaultSelected=!0)}else{for(d=""+Ie(d),a=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function Es(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ds(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(En(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:Ie(d)}}function hs(i,a){var d=Ie(a.value),g=Ie(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function Ts(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function St(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?St(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ps,cr=(function(i){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,d,g,x){MSApp.execUnsafeLocalFunction(function(){return i(a,d,g,x)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ps.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function xt(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ws=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(i){Ws.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Hs[a]=Hs[i]})});function Fr(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Hs.hasOwnProperty(i)&&Hs[i]?(""+a).trim():a+"px"}function Br(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=Fr(d,a[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,x):i[d]=x}}var Vr=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function li(i,a){if(a){if(Vr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function $r(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function kt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,Jn=null,As=null;function ci(i){if(i=Ac(i)){if(typeof ur!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Fd(a),ur(i.stateNode,i.type,a))}}function Or(i){Jn?As?As.push(i):As=[i]:Jn=i}function oc(){if(Jn){var i=Jn,a=As;if(As=Jn=null,ci(i),a)for(i=0;i<a.length;i++)ci(a[i])}}function Do(i,a){return i(a)}function ac(){}var ui=!1;function lc(i,a,d){if(ui)return i(a,d);ui=!0;try{return Do(i,a,d)}finally{ui=!1,(Jn!==null||As!==null)&&(ac(),oc())}}function Yt(i,a){var d=i.stateNode;if(d===null)return null;var g=Fd(d);if(g===null)return null;d=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Ia=!1;if(u)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch(i){Ia=!1}function Lo(i,a,d,g,x,j,M,z,G){var te=Array.prototype.slice.call(arguments,3);try{a.apply(d,te)}catch(he){this.onError(he)}}var Mo=!1,Ra=null,hr=!1,cc=null,pm={onError:function(i){Mo=!0,Ra=i}};function Pa(i,a,d,g,x,j,M,z,G){Mo=!1,Ra=null,Lo.apply(pm,arguments)}function ld(i,a,d,g,x,j,M,z,G){if(Pa.apply(this,arguments),Mo){if(Mo){var te=Ra;Mo=!1,Ra=null}else throw Error(n(198));hr||(hr=!0,cc=te)}}function pr(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Fo(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function mr(i){if(pr(i)!==i)throw Error(n(188))}function cd(i){var a=i.alternate;if(!a){if(a=pr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,g=a;;){var x=d.return;if(x===null)break;var j=x.alternate;if(j===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===d)return mr(x),i;if(j===g)return mr(x),a;j=j.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=j;else{for(var M=!1,z=x.child;z;){if(z===d){M=!0,d=x,g=j;break}if(z===g){M=!0,g=x,d=j;break}z=z.sibling}if(!M){for(z=j.child;z;){if(z===d){M=!0,d=j,g=x;break}if(z===g){M=!0,g=j,d=x;break}z=z.sibling}if(!M)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function uc(i){return i=cd(i),i!==null?Da(i):null}function Da(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Da(i);if(a!==null)return a;i=i.sibling}return null}var La=e.unstable_scheduleCallback,dc=e.unstable_cancelCallback,ud=e.unstable_shouldYield,mm=e.unstable_requestPaint,Et=e.unstable_now,dd=e.unstable_getCurrentPriorityLevel,Bo=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Gs=e.unstable_NormalPriority,hc=e.unstable_LowPriority,hd=e.unstable_IdlePriority,Vo=null,Ns=null;function pd(i){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(Vo,i,void 0,(i.current.flags&128)===128)}catch(a){}}var Zn=Math.clz32?Math.clz32:fd,pc=Math.log,md=Math.LN2;function fd(i){return i>>>=0,i===0?32:31-(pc(i)/md|0)|0}var Ma=64,Fa=4194304;function Gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $o(i,a){var d=i.pendingLanes;if(d===0)return 0;var g=0,x=i.suspendedLanes,j=i.pingedLanes,M=d&268435455;if(M!==0){var z=M&~x;z!==0?g=Gi(z):(j&=M,j!==0&&(g=Gi(j)))}else M=d&~x,M!==0?g=Gi(M):j!==0&&(g=Gi(j));if(g===0)return 0;if(a!==0&&a!==g&&(a&x)===0&&(x=g&-g,j=a&-a,x>=j||x===16&&(j&4194240)!==0))return a;if((g&4)!==0&&(g|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)d=31-Zn(a),x=1<<d,g|=i[d],a&=~x;return g}function fm(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(i,a){for(var d=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,j=i.pendingLanes;0<j;){var M=31-Zn(j),z=1<<M,G=x[M];G===-1?((z&d)===0||(z&g)!==0)&&(x[M]=fm(z,a)):G<=a&&(i.expiredLanes|=z),j&=~z}}function Is(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oo(){var i=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),i}function qi(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function Ki(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Zn(a),i[a]=d}function vt(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var x=31-Zn(d),j=1<<x;a[x]=0,g[x]=-1,i[x]=-1,d&=~j}}function Qi(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var g=31-Zn(d),x=1<<g;x&a|i[g]&a&&(i[g]|=a),d&=~x}}var et=0;function Xi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var gd,Ba,yd,xd,vd,mc=!1,Ur=[],Cn=null,fr=null,gr=null,Yi=new Map,qs=new Map,zr=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(i,a){switch(i){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Yi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(a.pointerId)}}function ms(i,a,d,g,x,j){return i===null||i.nativeEvent!==j?(i={blockedOn:a,domEventName:d,eventSystemFlags:g,nativeEvent:j,targetContainers:[x]},a!==null&&(a=Ac(a),a!==null&&Ba(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function ym(i,a,d,g,x){switch(a){case"focusin":return Cn=ms(Cn,i,a,d,g,x),!0;case"dragenter":return fr=ms(fr,i,a,d,g,x),!0;case"mouseover":return gr=ms(gr,i,a,d,g,x),!0;case"pointerover":var j=x.pointerId;return Yi.set(j,ms(Yi.get(j)||null,i,a,d,g,x)),!0;case"gotpointercapture":return j=x.pointerId,qs.set(j,ms(qs.get(j)||null,i,a,d,g,x)),!0}return!1}function wd(i){var a=Go(i.target);if(a!==null){var d=pr(a);if(d!==null){if(a=d.tag,a===13){if(a=Fo(d),a!==null){i.blockedOn=a,vd(i.priority,function(){yd(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hi(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=Va(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);Cs=g,d.target.dispatchEvent(g),Cs=null}else return a=Ac(d),a!==null&&Ba(a),i.blockedOn=d,!1;a.shift()}return!0}function Uo(i,a,d){hi(i)&&d.delete(a)}function _d(){mc=!1,Cn!==null&&hi(Cn)&&(Cn=null),fr!==null&&hi(fr)&&(fr=null),gr!==null&&hi(gr)&&(gr=null),Yi.forEach(Uo),qs.forEach(Uo)}function yr(i,a){i.blockedOn===a&&(i.blockedOn=null,mc||(mc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_d)))}function xr(i){function a(x){return yr(x,i)}if(0<Ur.length){yr(Ur[0],i);for(var d=1;d<Ur.length;d++){var g=Ur[d];g.blockedOn===i&&(g.blockedOn=null)}}for(Cn!==null&&yr(Cn,i),fr!==null&&yr(fr,i),gr!==null&&yr(gr,i),Yi.forEach(a),qs.forEach(a),d=0;d<zr.length;d++)g=zr[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<zr.length&&(d=zr[0],d.blockedOn===null);)wd(d),d.blockedOn===null&&zr.shift()}var pi=v.ReactCurrentBatchConfig,Ji=!0;function Mt(i,a,d,g){var x=et,j=pi.transition;pi.transition=null;try{et=1,fc(i,a,d,g)}finally{et=x,pi.transition=j}}function xm(i,a,d,g){var x=et,j=pi.transition;pi.transition=null;try{et=4,fc(i,a,d,g)}finally{et=x,pi.transition=j}}function fc(i,a,d,g){if(Ji){var x=Va(i,a,d,g);if(x===null)Am(i,a,g,zo,d),bd(i,g);else if(ym(x,i,a,d,g))g.stopPropagation();else if(bd(i,g),a&4&&-1<gm.indexOf(i)){for(;x!==null;){var j=Ac(x);if(j!==null&&gd(j),j=Va(i,a,d,g),j===null&&Am(i,a,g,zo,d),j===x)break;x=j}x!==null&&g.stopPropagation()}else Am(i,a,g,null,d)}}var zo=null;function Va(i,a,d,g){if(zo=null,i=kt(g),i=Go(i),i!==null)if(a=pr(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Fo(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return zo=i,null}function gc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dd()){case Bo:return 1;case Wi:return 4;case Gs:case hc:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Rs=null,$a=null,fs=null;function yc(){if(fs)return fs;var i,a=$a,d=a.length,g,x="value"in Rs?Rs.value:Rs.textContent,j=x.length;for(i=0;i<d&&a[i]===x[i];i++);var M=d-i;for(g=1;g<=M&&a[d-g]===x[j-g];g++);return fs=x.slice(i,1<g?1-g:void 0)}function Oa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Hr(){return!0}function xc(){return!1}function An(i){function a(d,g,x,j,M){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(d=i[z],this[z]=d?d(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Hr:xc,this.isPropagationStopped=xc,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),a}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=An(vr),Wr=le({},vr,{view:0,detail:0}),vm=An(Wr),za,mi,Zi,Ho=le({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zi&&(Zi&&i.type==="mousemove"?(za=i.screenX-Zi.screenX,mi=i.screenY-Zi.screenY):mi=za=0,Zi=i),za)},movementY:function(i){return"movementY"in i?i.movementY:mi}}),Ha=An(Ho),vc=le({},Ho,{dataTransfer:0}),jd=An(vc),Wa=le({},Wr,{relatedTarget:0}),Ga=An(Wa),Sd=le({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=An(Sd),kd=le({},vr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ed=An(kd),Td=le({},vr,{data:0}),bc=An(Td),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},es={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ad(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Cd[i])?!!a[i]:!1}function Gr(){return Ad}var m=le({},Wr,{key:function(i){if(i.key){var a=qa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?es[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(i){return i.type==="keypress"?Oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),w=An(m),C=le({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=An(C),J=le({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),re=An(J),xe=le({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=An(xe),pn=le({},Ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=An(pn),xn=[9,13,27,32],nn=u&&"CompositionEvent"in window,Ks=null;u&&"documentMode"in document&&(Ks=document.documentMode);var Ps=u&&"TextEvent"in window&&!Ks,Wo=u&&(!nn||Ks&&8<Ks&&11>=Ks),Ka=" ",Sx=!1;function kx(i,a){switch(i){case"keyup":return xn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qa=!1;function IE(i,a){switch(i){case"compositionend":return Ex(a);case"keypress":return a.which!==32?null:(Sx=!0,Ka);case"textInput":return i=a.data,i===Ka&&Sx?null:i;default:return null}}function RE(i,a){if(Qa)return i==="compositionend"||!nn&&kx(i,a)?(i=yc(),fs=$a=Rs=null,Qa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wo&&a.locale!=="ko"?null:a.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!PE[i.type]:a==="textarea"}function Cx(i,a,d,g){Or(g),a=Dd(a,"onChange"),0<a.length&&(d=new Ua("onChange","change",null,d,g),i.push({event:d,listeners:a}))}var wc=null,_c=null;function DE(i){Gx(i,0)}function Nd(i){var a=el(i);if(ht(a))return i}function LE(i,a){if(i==="change")return a}var Ax=!1;if(u){var bm;if(u){var wm="oninput"in document;if(!wm){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),wm=typeof Nx.oninput=="function"}bm=wm}else bm=!1;Ax=bm&&(!document.documentMode||9<document.documentMode)}function Ix(){wc&&(wc.detachEvent("onpropertychange",Rx),_c=wc=null)}function Rx(i){if(i.propertyName==="value"&&Nd(_c)){var a=[];Cx(a,_c,i,kt(i)),lc(DE,a)}}function ME(i,a,d){i==="focusin"?(Ix(),wc=a,_c=d,wc.attachEvent("onpropertychange",Rx)):i==="focusout"&&Ix()}function FE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nd(_c)}function BE(i,a){if(i==="click")return Nd(a)}function VE(i,a){if(i==="input"||i==="change")return Nd(a)}function $E(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var br=typeof Object.is=="function"?Object.is:$E;function jc(i,a){if(br(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),g=Object.keys(a);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!h.call(a,x)||!br(i[x],a[x]))return!1}return!0}function Px(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dx(i,a){var d=Px(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=a&&g>=a)return{node:d,offset:a-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Px(d)}}function Lx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Lx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Mx(){for(var i=window,a=jt();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch(g){d=!1}if(d)i=a.contentWindow;else break;a=jt(i.document)}return a}function _m(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function OE(i){var a=Mx(),d=i.focusedElem,g=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&Lx(d.ownerDocument.documentElement,d)){if(g!==null&&_m(d)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=d.textContent.length,j=Math.min(g.start,x);g=g.end===void 0?j:Math.min(g.end,x),!i.extend&&j>g&&(x=g,g=j,j=x),x=Dx(d,j);var M=Dx(d,g);x&&M&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),j>g?(i.addRange(a),i.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var UE=u&&"documentMode"in document&&11>=document.documentMode,Xa=null,jm=null,Sc=null,Sm=!1;function Fx(i,a,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sm||Xa==null||Xa!==jt(g)||(g=Xa,"selectionStart"in g&&_m(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sc&&jc(Sc,g)||(Sc=g,g=Dd(jm,"onSelect"),0<g.length&&(a=new Ua("onSelect","select",null,a,d),i.push({event:a,listeners:g}),a.target=Xa)))}function Id(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var Ya={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},km={},Bx={};u&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Rd(i){if(km[i])return km[i];if(!Ya[i])return i;var a=Ya[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in Bx)return km[i]=a[d];return i}var Vx=Rd("animationend"),$x=Rd("animationiteration"),Ox=Rd("animationstart"),Ux=Rd("transitionend"),zx=new Map,Hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(i,a){zx.set(i,a),l(a,[i])}for(var Em=0;Em<Hx.length;Em++){var Tm=Hx[Em],zE=Tm.toLowerCase(),HE=Tm[0].toUpperCase()+Tm.slice(1);eo(zE,"on"+HE)}eo(Vx,"onAnimationEnd"),eo($x,"onAnimationIteration"),eo(Ox,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Ux,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function Wx(i,a,d){var g=i.type||"unknown-event";i.currentTarget=d,ld(g,a,void 0,i),i.currentTarget=null}function Gx(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],x=g.event;g=g.listeners;e:{var j=void 0;if(a)for(var M=g.length-1;0<=M;M--){var z=g[M],G=z.instance,te=z.currentTarget;if(z=z.listener,G!==j&&x.isPropagationStopped())break e;Wx(x,z,te),j=G}else for(M=0;M<g.length;M++){if(z=g[M],G=z.instance,te=z.currentTarget,z=z.listener,G!==j&&x.isPropagationStopped())break e;Wx(x,z,te),j=G}}}if(hr)throw i=cc,hr=!1,cc=null,i}function It(i,a){var d=a[Lm];d===void 0&&(d=a[Lm]=new Set);var g=i+"__bubble";d.has(g)||(qx(a,i,2,!1),d.add(g))}function Cm(i,a,d){var g=0;a&&(g|=4),qx(d,i,g,a)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Ec(i){if(!i[Pd]){i[Pd]=!0,r.forEach(function(d){d!=="selectionchange"&&(WE.has(d)||Cm(d,!1,i),Cm(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Pd]||(a[Pd]=!0,Cm("selectionchange",!1,a))}}function qx(i,a,d,g){switch(gc(a)){case 1:var x=Mt;break;case 4:x=xm;break;default:x=fc}d=x.bind(null,a,d,i),x=void 0,!Ia||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(a,d,{capture:!0,passive:x}):i.addEventListener(a,d,!0):x!==void 0?i.addEventListener(a,d,{passive:x}):i.addEventListener(a,d,!1)}function Am(i,a,d,g,x){var j=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var z=g.stateNode.containerInfo;if(z===x||z.nodeType===8&&z.parentNode===x)break;if(M===4)for(M=g.return;M!==null;){var G=M.tag;if((G===3||G===4)&&(G=M.stateNode.containerInfo,G===x||G.nodeType===8&&G.parentNode===x))return;M=M.return}for(;z!==null;){if(M=Go(z),M===null)return;if(G=M.tag,G===5||G===6){g=j=M;continue e}z=z.parentNode}}g=g.return}lc(function(){var te=j,he=kt(d),me=[];e:{var de=zx.get(i);if(de!==void 0){var we=Ua,ke=i;switch(i){case"keypress":if(Oa(d)===0)break e;case"keydown":case"keyup":we=w;break;case"focusin":ke="focus",we=Ga;break;case"focusout":ke="blur",we=Ga;break;case"beforeblur":case"afterblur":we=Ga;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=re;break;case Vx:case $x:case Ox:we=fi;break;case Ux:we=pt;break;case"scroll":we=vm;break;case"wheel":we=nt;break;case"copy":case"cut":case"paste":we=Ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=U}var Te=(a&4)!==0,Jt=!Te&&i==="scroll",Z=Te?de!==null?de+"Capture":null:de;Te=[];for(var Q=te,ee;Q!==null;){ee=Q;var fe=ee.stateNode;if(ee.tag===5&&fe!==null&&(ee=fe,Z!==null&&(fe=Yt(Q,Z),fe!=null&&Te.push(Tc(Q,fe,ee)))),Jt)break;Q=Q.return}0<Te.length&&(de=new we(de,ke,null,d,he),me.push({event:de,listeners:Te}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",de&&d!==Cs&&(ke=d.relatedTarget||d.fromElement)&&(Go(ke)||ke[gi]))break e;if((we||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,we?(ke=d.relatedTarget||d.toElement,we=te,ke=ke?Go(ke):null,ke!==null&&(Jt=pr(ke),ke!==Jt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(we=null,ke=te),we!==ke)){if(Te=Ha,fe="onMouseLeave",Z="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Te=U,fe="onPointerLeave",Z="onPointerEnter",Q="pointer"),Jt=we==null?de:el(we),ee=ke==null?de:el(ke),de=new Te(fe,Q+"leave",we,d,he),de.target=Jt,de.relatedTarget=ee,fe=null,Go(he)===te&&(Te=new Te(Z,Q+"enter",ke,d,he),Te.target=ee,Te.relatedTarget=Jt,fe=Te),Jt=fe,we&&ke)t:{for(Te=we,Z=ke,Q=0,ee=Te;ee;ee=Ja(ee))Q++;for(ee=0,fe=Z;fe;fe=Ja(fe))ee++;for(;0<Q-ee;)Te=Ja(Te),Q--;for(;0<ee-Q;)Z=Ja(Z),ee--;for(;Q--;){if(Te===Z||Z!==null&&Te===Z.alternate)break t;Te=Ja(Te),Z=Ja(Z)}Te=null}else Te=null;we!==null&&Kx(me,de,we,Te,!1),ke!==null&&Jt!==null&&Kx(me,Jt,ke,Te,!0)}}e:{if(de=te?el(te):window,we=de.nodeName&&de.nodeName.toLowerCase(),we==="select"||we==="input"&&de.type==="file")var Ne=LE;else if(Tx(de))if(Ax)Ne=VE;else{Ne=FE;var Le=ME}else(we=de.nodeName)&&we.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ne=BE);if(Ne&&(Ne=Ne(i,te))){Cx(me,Ne,d,he);break e}Le&&Le(i,de,te),i==="focusout"&&(Le=de._wrapperState)&&Le.controlled&&de.type==="number"&&us(de,"number",de.value)}switch(Le=te?el(te):window,i){case"focusin":(Tx(Le)||Le.contentEditable==="true")&&(Xa=Le,jm=te,Sc=null);break;case"focusout":Sc=jm=Xa=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Fx(me,d,he);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Fx(me,d,he)}var Me;if(nn)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Qa?kx(i,d)&&(Ve="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(Wo&&d.locale!=="ko"&&(Qa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Qa&&(Me=yc()):(Rs=he,$a="value"in Rs?Rs.value:Rs.textContent,Qa=!0)),Le=Dd(te,Ve),0<Le.length&&(Ve=new bc(Ve,i,null,d,he),me.push({event:Ve,listeners:Le}),Me?Ve.data=Me:(Me=Ex(d),Me!==null&&(Ve.data=Me)))),(Me=Ps?IE(i,d):RE(i,d))&&(te=Dd(te,"onBeforeInput"),0<te.length&&(he=new bc("onBeforeInput","beforeinput",null,d,he),me.push({event:he,listeners:te}),he.data=Me))}Gx(me,a)})}function Tc(i,a,d){return{instance:i,listener:a,currentTarget:d}}function Dd(i,a){for(var d=a+"Capture",g=[];i!==null;){var x=i,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=Yt(i,d),j!=null&&g.unshift(Tc(i,j,x)),j=Yt(i,a),j!=null&&g.push(Tc(i,j,x))),i=i.return}return g}function Ja(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Kx(i,a,d,g,x){for(var j=a._reactName,M=[];d!==null&&d!==g;){var z=d,G=z.alternate,te=z.stateNode;if(G!==null&&G===g)break;z.tag===5&&te!==null&&(z=te,x?(G=Yt(d,j),G!=null&&M.unshift(Tc(d,G,z))):x||(G=Yt(d,j),G!=null&&M.push(Tc(d,G,z)))),d=d.return}M.length!==0&&i.push({event:a,listeners:M})}var GE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function Qx(i){return(typeof i=="string"?i:""+i).replace(GE,`
`).replace(qE,"")}function Ld(i,a,d){if(a=Qx(a),Qx(i)!==a&&d)throw Error(n(425))}function Md(){}var Nm=null,Im=null;function Rm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx!="undefined"?function(i){return Xx.resolve(null).then(i).catch(XE)}:Pm;function XE(i){setTimeout(function(){throw i})}function Dm(i,a){var d=a,g=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){i.removeChild(x),xr(a);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);xr(a)}function to(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Yx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var Za=Math.random().toString(36).slice(2),qr="__reactFiber$"+Za,Cc="__reactProps$"+Za,gi="__reactContainer$"+Za,Lm="__reactEvents$"+Za,YE="__reactListeners$"+Za,JE="__reactHandles$"+Za;function Go(i){var a=i[qr];if(a)return a;for(var d=i.parentNode;d;){if(a=d[gi]||d[qr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=Yx(i);i!==null;){if(d=i[qr])return d;i=Yx(i)}return a}i=d,d=i.parentNode}return null}function Ac(i){return i=i[qr]||i[gi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function el(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Fd(i){return i[Cc]||null}var Mm=[],tl=-1;function no(i){return{current:i}}function Rt(i){0>tl||(i.current=Mm[tl],Mm[tl]=null,tl--)}function Tt(i,a){tl++,Mm[tl]=i.current,i.current=a}var so={},Un=no(so),gs=no(!1),qo=so;function nl(i,a){var d=i.type.contextTypes;if(!d)return so;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in d)x[j]=a[j];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function ys(i){return i=i.childContextTypes,i!=null}function Bd(){Rt(gs),Rt(Un)}function Jx(i,a,d){if(Un.current!==so)throw Error(n(168));Tt(Un,a),Tt(gs,d)}function Zx(i,a,d){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in a))throw Error(n(108,Ae(i)||"Unknown",x));return le({},d,g)}function Vd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||so,qo=Un.current,Tt(Un,i),Tt(gs,gs.current),!0}function e1(i,a,d){var g=i.stateNode;if(!g)throw Error(n(169));d?(i=Zx(i,a,qo),g.__reactInternalMemoizedMergedChildContext=i,Rt(gs),Rt(Un),Tt(Un,i)):Rt(gs),Tt(gs,d)}var yi=null,$d=!1,Fm=!1;function t1(i){yi===null?yi=[i]:yi.push(i)}function ZE(i){$d=!0,t1(i)}function ro(){if(!Fm&&yi!==null){Fm=!0;var i=0,a=et;try{var d=yi;for(et=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}yi=null,$d=!1}catch(x){throw yi!==null&&(yi=yi.slice(i+1)),La(Bo,ro),x}finally{et=a,Fm=!1}}return null}var sl=[],rl=0,Od=null,Ud=0,Qs=[],Xs=0,Ko=null,xi=1,vi="";function Qo(i,a){sl[rl++]=Ud,sl[rl++]=Od,Od=i,Ud=a}function n1(i,a,d){Qs[Xs++]=xi,Qs[Xs++]=vi,Qs[Xs++]=Ko,Ko=i;var g=xi;i=vi;var x=32-Zn(g)-1;g&=~(1<<x),d+=1;var j=32-Zn(a)+x;if(30<j){var M=x-x%5;j=(g&(1<<M)-1).toString(32),g>>=M,x-=M,xi=1<<32-Zn(a)+x|d<<x|g,vi=j+i}else xi=1<<j|d<<x|g,vi=i}function Bm(i){i.return!==null&&(Qo(i,1),n1(i,1,0))}function Vm(i){for(;i===Od;)Od=sl[--rl],sl[rl]=null,Ud=sl[--rl],sl[rl]=null;for(;i===Ko;)Ko=Qs[--Xs],Qs[Xs]=null,vi=Qs[--Xs],Qs[Xs]=null,xi=Qs[--Xs],Qs[Xs]=null}var Ds=null,Ls=null,Ft=!1,wr=null;function s1(i,a){var d=er(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function r1(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Ds=i,Ls=to(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Ds=i,Ls=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ko!==null?{id:xi,overflow:vi}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=er(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Ds=i,Ls=null,!0):!1;default:return!1}}function $m(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Om(i){if(Ft){var a=Ls;if(a){var d=a;if(!r1(i,a)){if($m(i))throw Error(n(418));a=to(d.nextSibling);var g=Ds;a&&r1(i,a)?s1(g,d):(i.flags=i.flags&-4097|2,Ft=!1,Ds=i)}}else{if($m(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ft=!1,Ds=i}}}function i1(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ds=i}function zd(i){if(i!==Ds)return!1;if(!Ft)return i1(i),Ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Rm(i.type,i.memoizedProps)),a&&(a=Ls)){if($m(i))throw o1(),Error(n(418));for(;a;)s1(i,a),a=to(a.nextSibling)}if(i1(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){Ls=to(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}Ls=null}}else Ls=Ds?to(i.stateNode.nextSibling):null;return!0}function o1(){for(var i=Ls;i;)i=to(i.nextSibling)}function il(){Ls=Ds=null,Ft=!1}function Um(i){wr===null?wr=[i]:wr.push(i)}var eT=v.ReactCurrentBatchConfig;function Nc(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,i));var x=g,j=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(M){var z=x.refs;M===null?delete z[j]:z[j]=M},a._stringRef=j,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function Hd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function a1(i){var a=i._init;return a(i._payload)}function l1(i){function a(Z,Q){if(i){var ee=Z.deletions;ee===null?(Z.deletions=[Q],Z.flags|=16):ee.push(Q)}}function d(Z,Q){if(!i)return null;for(;Q!==null;)a(Z,Q),Q=Q.sibling;return null}function g(Z,Q){for(Z=new Map;Q!==null;)Q.key!==null?Z.set(Q.key,Q):Z.set(Q.index,Q),Q=Q.sibling;return Z}function x(Z,Q){return Z=po(Z,Q),Z.index=0,Z.sibling=null,Z}function j(Z,Q,ee){return Z.index=ee,i?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<Q?(Z.flags|=2,Q):ee):(Z.flags|=2,Q)):(Z.flags|=1048576,Q)}function M(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,Q,ee,fe){return Q===null||Q.tag!==6?(Q=Df(ee,Z.mode,fe),Q.return=Z,Q):(Q=x(Q,ee),Q.return=Z,Q)}function G(Z,Q,ee,fe){var Ne=ee.type;return Ne===k?he(Z,Q,ee.props.children,fe,ee.key):Q!==null&&(Q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===se&&a1(Ne)===Q.type)?(fe=x(Q,ee.props),fe.ref=Nc(Z,Q,ee),fe.return=Z,fe):(fe=mh(ee.type,ee.key,ee.props,null,Z.mode,fe),fe.ref=Nc(Z,Q,ee),fe.return=Z,fe)}function te(Z,Q,ee,fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=Lf(ee,Z.mode,fe),Q.return=Z,Q):(Q=x(Q,ee.children||[]),Q.return=Z,Q)}function he(Z,Q,ee,fe,Ne){return Q===null||Q.tag!==7?(Q=sa(ee,Z.mode,fe,Ne),Q.return=Z,Q):(Q=x(Q,ee),Q.return=Z,Q)}function me(Z,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Df(""+Q,Z.mode,ee),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return ee=mh(Q.type,Q.key,Q.props,null,Z.mode,ee),ee.ref=Nc(Z,null,Q),ee.return=Z,ee;case D:return Q=Lf(Q,Z.mode,ee),Q.return=Z,Q;case se:var fe=Q._init;return me(Z,fe(Q._payload),ee)}if(En(Q)||ae(Q))return Q=sa(Q,Z.mode,ee,null),Q.return=Z,Q;Hd(Z,Q)}return null}function de(Z,Q,ee,fe){var Ne=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ne!==null?null:z(Z,Q,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return ee.key===Ne?G(Z,Q,ee,fe):null;case D:return ee.key===Ne?te(Z,Q,ee,fe):null;case se:return Ne=ee._init,de(Z,Q,Ne(ee._payload),fe)}if(En(ee)||ae(ee))return Ne!==null?null:he(Z,Q,ee,fe,null);Hd(Z,ee)}return null}function we(Z,Q,ee,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Z=Z.get(ee)||null,z(Q,Z,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return Z=Z.get(fe.key===null?ee:fe.key)||null,G(Q,Z,fe,Ne);case D:return Z=Z.get(fe.key===null?ee:fe.key)||null,te(Q,Z,fe,Ne);case se:var Le=fe._init;return we(Z,Q,ee,Le(fe._payload),Ne)}if(En(fe)||ae(fe))return Z=Z.get(ee)||null,he(Q,Z,fe,Ne,null);Hd(Q,fe)}return null}function ke(Z,Q,ee,fe){for(var Ne=null,Le=null,Me=Q,Ve=Q=0,wn=null;Me!==null&&Ve<ee.length;Ve++){Me.index>Ve?(wn=Me,Me=null):wn=Me.sibling;var ct=de(Z,Me,ee[Ve],fe);if(ct===null){Me===null&&(Me=wn);break}i&&Me&&ct.alternate===null&&a(Z,Me),Q=j(ct,Q,Ve),Le===null?Ne=ct:Le.sibling=ct,Le=ct,Me=wn}if(Ve===ee.length)return d(Z,Me),Ft&&Qo(Z,Ve),Ne;if(Me===null){for(;Ve<ee.length;Ve++)Me=me(Z,ee[Ve],fe),Me!==null&&(Q=j(Me,Q,Ve),Le===null?Ne=Me:Le.sibling=Me,Le=Me);return Ft&&Qo(Z,Ve),Ne}for(Me=g(Z,Me);Ve<ee.length;Ve++)wn=we(Me,Z,Ve,ee[Ve],fe),wn!==null&&(i&&wn.alternate!==null&&Me.delete(wn.key===null?Ve:wn.key),Q=j(wn,Q,Ve),Le===null?Ne=wn:Le.sibling=wn,Le=wn);return i&&Me.forEach(function(mo){return a(Z,mo)}),Ft&&Qo(Z,Ve),Ne}function Te(Z,Q,ee,fe){var Ne=ae(ee);if(typeof Ne!="function")throw Error(n(150));if(ee=Ne.call(ee),ee==null)throw Error(n(151));for(var Le=Ne=null,Me=Q,Ve=Q=0,wn=null,ct=ee.next();Me!==null&&!ct.done;Ve++,ct=ee.next()){Me.index>Ve?(wn=Me,Me=null):wn=Me.sibling;var mo=de(Z,Me,ct.value,fe);if(mo===null){Me===null&&(Me=wn);break}i&&Me&&mo.alternate===null&&a(Z,Me),Q=j(mo,Q,Ve),Le===null?Ne=mo:Le.sibling=mo,Le=mo,Me=wn}if(ct.done)return d(Z,Me),Ft&&Qo(Z,Ve),Ne;if(Me===null){for(;!ct.done;Ve++,ct=ee.next())ct=me(Z,ct.value,fe),ct!==null&&(Q=j(ct,Q,Ve),Le===null?Ne=ct:Le.sibling=ct,Le=ct);return Ft&&Qo(Z,Ve),Ne}for(Me=g(Z,Me);!ct.done;Ve++,ct=ee.next())ct=we(Me,Z,Ve,ct.value,fe),ct!==null&&(i&&ct.alternate!==null&&Me.delete(ct.key===null?Ve:ct.key),Q=j(ct,Q,Ve),Le===null?Ne=ct:Le.sibling=ct,Le=ct);return i&&Me.forEach(function(PT){return a(Z,PT)}),Ft&&Qo(Z,Ve),Ne}function Jt(Z,Q,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===k&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:e:{for(var Ne=ee.key,Le=Q;Le!==null;){if(Le.key===Ne){if(Ne=ee.type,Ne===k){if(Le.tag===7){d(Z,Le.sibling),Q=x(Le,ee.props.children),Q.return=Z,Z=Q;break e}}else if(Le.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===se&&a1(Ne)===Le.type){d(Z,Le.sibling),Q=x(Le,ee.props),Q.ref=Nc(Z,Le,ee),Q.return=Z,Z=Q;break e}d(Z,Le);break}else a(Z,Le);Le=Le.sibling}ee.type===k?(Q=sa(ee.props.children,Z.mode,fe,ee.key),Q.return=Z,Z=Q):(fe=mh(ee.type,ee.key,ee.props,null,Z.mode,fe),fe.ref=Nc(Z,Q,ee),fe.return=Z,Z=fe)}return M(Z);case D:e:{for(Le=ee.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){d(Z,Q.sibling),Q=x(Q,ee.children||[]),Q.return=Z,Z=Q;break e}else{d(Z,Q);break}else a(Z,Q);Q=Q.sibling}Q=Lf(ee,Z.mode,fe),Q.return=Z,Z=Q}return M(Z);case se:return Le=ee._init,Jt(Z,Q,Le(ee._payload),fe)}if(En(ee))return ke(Z,Q,ee,fe);if(ae(ee))return Te(Z,Q,ee,fe);Hd(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Q!==null&&Q.tag===6?(d(Z,Q.sibling),Q=x(Q,ee),Q.return=Z,Z=Q):(d(Z,Q),Q=Df(ee,Z.mode,fe),Q.return=Z,Z=Q),M(Z)):d(Z,Q)}return Jt}var ol=l1(!0),c1=l1(!1),Wd=no(null),Gd=null,al=null,zm=null;function Hm(){zm=al=Gd=null}function Wm(i){var a=Wd.current;Rt(Wd),i._currentValue=a}function Gm(i,a,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===d)break;i=i.return}}function ll(i,a){Gd=i,zm=al=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(xs=!0),i.firstContext=null)}function Ys(i){var a=i._currentValue;if(zm!==i)if(i={context:i,memoizedValue:a,next:null},al===null){if(Gd===null)throw Error(n(308));al=i,Gd.dependencies={lanes:0,firstContext:i}}else al=al.next=i;return a}var Xo=null;function qm(i){Xo===null?Xo=[i]:Xo.push(i)}function u1(i,a,d,g){var x=a.interleaved;return x===null?(d.next=d,qm(a)):(d.next=x.next,x.next=d),a.interleaved=d,bi(i,g)}function bi(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var io=!1;function Km(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function wi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function oo(i,a,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var x=g.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),g.pending=a,bi(i,d)}return x=g.interleaved,x===null?(a.next=a,qm(g)):(a.next=x.next,x.next=a),g.interleaved=a,bi(i,d)}function qd(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,Qi(i,d)}}function h1(i,a){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?x=j=M:j=j.next=M,d=d.next}while(d!==null);j===null?x=j=a:j=j.next=a}else x=j=a;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function Kd(i,a,d,g){var x=i.updateQueue;io=!1;var j=x.firstBaseUpdate,M=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var G=z,te=G.next;G.next=null,M===null?j=te:M.next=te,M=G;var he=i.alternate;he!==null&&(he=he.updateQueue,z=he.lastBaseUpdate,z!==M&&(z===null?he.firstBaseUpdate=te:z.next=te,he.lastBaseUpdate=G))}if(j!==null){var me=x.baseState;M=0,he=te=G=null,z=j;do{var de=z.lane,we=z.eventTime;if((g&de)===de){he!==null&&(he=he.next={eventTime:we,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ke=i,Te=z;switch(de=a,we=d,Te.tag){case 1:if(ke=Te.payload,typeof ke=="function"){me=ke.call(we,me,de);break e}me=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Te.payload,de=typeof ke=="function"?ke.call(we,me,de):ke,de==null)break e;me=le({},me,de);break e;case 2:io=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,de=x.effects,de===null?x.effects=[z]:de.push(z))}else we={eventTime:we,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},he===null?(te=he=we,G=me):he=he.next=we,M|=de;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;de=z,z=de.next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}while(!0);if(he===null&&(G=me),x.baseState=G,x.firstBaseUpdate=te,x.lastBaseUpdate=he,a=x.shared.interleaved,a!==null){x=a;do M|=x.lane,x=x.next;while(x!==a)}else j===null&&(x.shared.lanes=0);Zo|=M,i.lanes=M,i.memoizedState=me}}function p1(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Ic={},Kr=no(Ic),Rc=no(Ic),Pc=no(Ic);function Yo(i){if(i===Ic)throw Error(n(174));return i}function Qm(i,a){switch(Tt(Pc,a),Tt(Rc,i),Tt(Kr,Ic),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:it(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=it(a,i)}Rt(Kr),Tt(Kr,a)}function cl(){Rt(Kr),Rt(Rc),Rt(Pc)}function m1(i){Yo(Pc.current);var a=Yo(Kr.current),d=it(a,i.type);a!==d&&(Tt(Rc,i),Tt(Kr,d))}function Xm(i){Rc.current===i&&(Rt(Kr),Rt(Rc))}var Ut=no(0);function Qd(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ym=[];function Jm(){for(var i=0;i<Ym.length;i++)Ym[i]._workInProgressVersionPrimary=null;Ym.length=0}var Xd=v.ReactCurrentDispatcher,Zm=v.ReactCurrentBatchConfig,Jo=0,zt=null,mn=null,vn=null,Yd=!1,Dc=!1,Lc=0,tT=0;function zn(){throw Error(n(321))}function ef(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!br(i[d],a[d]))return!1;return!0}function tf(i,a,d,g,x,j){if(Jo=j,zt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xd.current=i===null||i.memoizedState===null?iT:oT,i=d(g,x),Dc){j=0;do{if(Dc=!1,Lc=0,25<=j)throw Error(n(301));j+=1,vn=mn=null,a.updateQueue=null,Xd.current=aT,i=d(g,x)}while(Dc)}if(Xd.current=eh,a=mn!==null&&mn.next!==null,Jo=0,vn=mn=zt=null,Yd=!1,a)throw Error(n(300));return i}function nf(){var i=Lc!==0;return Lc=0,i}function Qr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?zt.memoizedState=vn=i:vn=vn.next=i,vn}function Js(){if(mn===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=mn.next;var a=vn===null?zt.memoizedState:vn.next;if(a!==null)vn=a,mn=i;else{if(i===null)throw Error(n(310));mn=i,i={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},vn===null?zt.memoizedState=vn=i:vn=vn.next=i}return vn}function Mc(i,a){return typeof a=="function"?a(i):a}function sf(i){var a=Js(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=mn,x=g.baseQueue,j=d.pending;if(j!==null){if(x!==null){var M=x.next;x.next=j.next,j.next=M}g.baseQueue=x=j,d.pending=null}if(x!==null){j=x.next,g=g.baseState;var z=M=null,G=null,te=j;do{var he=te.lane;if((Jo&he)===he)G!==null&&(G=G.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:i(g,te.action);else{var me={lane:he,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};G===null?(z=G=me,M=g):G=G.next=me,zt.lanes|=he,Zo|=he}te=te.next}while(te!==null&&te!==j);G===null?M=g:G.next=z,br(g,a.memoizedState)||(xs=!0),a.memoizedState=g,a.baseState=M,a.baseQueue=G,d.lastRenderedState=g}if(i=d.interleaved,i!==null){x=i;do j=x.lane,zt.lanes|=j,Zo|=j,x=x.next;while(x!==i)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function rf(i){var a=Js(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=d.dispatch,x=d.pending,j=a.memoizedState;if(x!==null){d.pending=null;var M=x=x.next;do j=i(j,M.action),M=M.next;while(M!==x);br(j,a.memoizedState)||(xs=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),d.lastRenderedState=j}return[j,g]}function f1(){}function g1(i,a){var d=zt,g=Js(),x=a(),j=!br(g.memoizedState,x);if(j&&(g.memoizedState=x,xs=!0),g=g.queue,of(v1.bind(null,d,g,i),[i]),g.getSnapshot!==a||j||vn!==null&&vn.memoizedState.tag&1){if(d.flags|=2048,Fc(9,x1.bind(null,d,g,x,a),void 0,null),bn===null)throw Error(n(349));(Jo&30)!==0||y1(d,a,x)}return x}function y1(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=zt.updateQueue,a===null?(a={lastEffect:null,stores:null},zt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function x1(i,a,d,g){a.value=d,a.getSnapshot=g,b1(a)&&w1(i)}function v1(i,a,d){return d(function(){b1(a)&&w1(i)})}function b1(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!br(i,d)}catch(g){return!0}}function w1(i){var a=bi(i,1);a!==null&&kr(a,i,1,-1)}function _1(i){var a=Qr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:i},a.queue=i,i=i.dispatch=rT.bind(null,zt,i),[a.memoizedState,i]}function Fc(i,a,d,g){return i={tag:i,create:a,destroy:d,deps:g,next:null},a=zt.updateQueue,a===null?(a={lastEffect:null,stores:null},zt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,a.lastEffect=i)),i}function j1(){return Js().memoizedState}function Jd(i,a,d,g){var x=Qr();zt.flags|=i,x.memoizedState=Fc(1|a,d,void 0,g===void 0?null:g)}function Zd(i,a,d,g){var x=Js();g=g===void 0?null:g;var j=void 0;if(mn!==null){var M=mn.memoizedState;if(j=M.destroy,g!==null&&ef(g,M.deps)){x.memoizedState=Fc(a,d,j,g);return}}zt.flags|=i,x.memoizedState=Fc(1|a,d,j,g)}function S1(i,a){return Jd(8390656,8,i,a)}function of(i,a){return Zd(2048,8,i,a)}function k1(i,a){return Zd(4,2,i,a)}function E1(i,a){return Zd(4,4,i,a)}function T1(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function C1(i,a,d){return d=d!=null?d.concat([i]):null,Zd(4,4,T1.bind(null,a,i),d)}function af(){}function A1(i,a){var d=Js();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&ef(a,g[1])?g[0]:(d.memoizedState=[i,a],i)}function N1(i,a){var d=Js();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&ef(a,g[1])?g[0]:(i=i(),d.memoizedState=[i,a],i)}function I1(i,a,d){return(Jo&21)===0?(i.baseState&&(i.baseState=!1,xs=!0),i.memoizedState=d):(br(d,a)||(d=Oo(),zt.lanes|=d,Zo|=d,i.baseState=!0),a)}function nT(i,a){var d=et;et=d!==0&&4>d?d:4,i(!0);var g=Zm.transition;Zm.transition={};try{i(!1),a()}finally{et=d,Zm.transition=g}}function R1(){return Js().memoizedState}function sT(i,a,d){var g=uo(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},P1(i))D1(a,d);else if(d=u1(i,a,d,g),d!==null){var x=ns();kr(d,i,g,x),L1(d,a,g)}}function rT(i,a,d){var g=uo(i),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(P1(i))D1(a,x);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var M=a.lastRenderedState,z=j(M,d);if(x.hasEagerState=!0,x.eagerState=z,br(z,M)){var G=a.interleaved;G===null?(x.next=x,qm(a)):(x.next=G.next,G.next=x),a.interleaved=x;return}}catch(te){}finally{}d=u1(i,a,x,g),d!==null&&(x=ns(),kr(d,i,g,x),L1(d,a,g))}}function P1(i){var a=i.alternate;return i===zt||a!==null&&a===zt}function D1(i,a){Dc=Yd=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function L1(i,a,d){if((d&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,Qi(i,d)}}var eh={readContext:Ys,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},iT={readContext:Ys,useCallback:function(i,a){return Qr().memoizedState=[i,a===void 0?null:a],i},useContext:Ys,useEffect:S1,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,Jd(4194308,4,T1.bind(null,a,i),d)},useLayoutEffect:function(i,a){return Jd(4194308,4,i,a)},useInsertionEffect:function(i,a){return Jd(4,2,i,a)},useMemo:function(i,a){var d=Qr();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var g=Qr();return a=d!==void 0?d(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=sT.bind(null,zt,i),[g.memoizedState,i]},useRef:function(i){var a=Qr();return i={current:i},a.memoizedState=i},useState:_1,useDebugValue:af,useDeferredValue:function(i){return Qr().memoizedState=i},useTransition:function(){var i=_1(!1),a=i[0];return i=nT.bind(null,i[1]),Qr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var g=zt,x=Qr();if(Ft){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),bn===null)throw Error(n(349));(Jo&30)!==0||y1(g,a,d)}x.memoizedState=d;var j={value:d,getSnapshot:a};return x.queue=j,S1(v1.bind(null,g,j,i),[i]),g.flags|=2048,Fc(9,x1.bind(null,g,j,d,a),void 0,null),d},useId:function(){var i=Qr(),a=bn.identifierPrefix;if(Ft){var d=vi,g=xi;d=(g&~(1<<32-Zn(g)-1)).toString(32)+d,a=":"+a+"R"+d,d=Lc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=tT++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},oT={readContext:Ys,useCallback:A1,useContext:Ys,useEffect:of,useImperativeHandle:C1,useInsertionEffect:k1,useLayoutEffect:E1,useMemo:N1,useReducer:sf,useRef:j1,useState:function(){return sf(Mc)},useDebugValue:af,useDeferredValue:function(i){var a=Js();return I1(a,mn.memoizedState,i)},useTransition:function(){var i=sf(Mc)[0],a=Js().memoizedState;return[i,a]},useMutableSource:f1,useSyncExternalStore:g1,useId:R1,unstable_isNewReconciler:!1},aT={readContext:Ys,useCallback:A1,useContext:Ys,useEffect:of,useImperativeHandle:C1,useInsertionEffect:k1,useLayoutEffect:E1,useMemo:N1,useReducer:rf,useRef:j1,useState:function(){return rf(Mc)},useDebugValue:af,useDeferredValue:function(i){var a=Js();return mn===null?a.memoizedState=i:I1(a,mn.memoizedState,i)},useTransition:function(){var i=rf(Mc)[0],a=Js().memoizedState;return[i,a]},useMutableSource:f1,useSyncExternalStore:g1,useId:R1,unstable_isNewReconciler:!1};function _r(i,a){if(i&&i.defaultProps){a=le({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function lf(i,a,d,g){a=i.memoizedState,d=d(g,a),d=d==null?a:le({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var th={isMounted:function(i){return(i=i._reactInternals)?pr(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var g=ns(),x=uo(i),j=wi(g,x);j.payload=a,d!=null&&(j.callback=d),a=oo(i,j,x),a!==null&&(kr(a,i,x,g),qd(a,i,x))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var g=ns(),x=uo(i),j=wi(g,x);j.tag=1,j.payload=a,d!=null&&(j.callback=d),a=oo(i,j,x),a!==null&&(kr(a,i,x,g),qd(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=ns(),g=uo(i),x=wi(d,g);x.tag=2,a!=null&&(x.callback=a),a=oo(i,x,g),a!==null&&(kr(a,i,g,d),qd(a,i,g))}};function M1(i,a,d,g,x,j,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,j,M):a.prototype&&a.prototype.isPureReactComponent?!jc(d,g)||!jc(x,j):!0}function F1(i,a,d){var g=!1,x=so,j=a.contextType;return typeof j=="object"&&j!==null?j=Ys(j):(x=ys(a)?qo:Un.current,g=a.contextTypes,j=(g=g!=null)?nl(i,x):so),a=new a(d,j),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=th,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=j),a}function B1(i,a,d,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,g),a.state!==i&&th.enqueueReplaceState(a,a.state,null)}function cf(i,a,d,g){var x=i.stateNode;x.props=d,x.state=i.memoizedState,x.refs={},Km(i);var j=a.contextType;typeof j=="object"&&j!==null?x.context=Ys(j):(j=ys(a)?qo:Un.current,x.context=nl(i,j)),x.state=i.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(lf(i,a,j,d),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&th.enqueueReplaceState(x,x.state,null),Kd(i,d,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function ul(i,a){try{var d="",g=a;do d+=Ee(g),g=g.return;while(g);var x=d}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:a,stack:x,digest:null}}function uf(i,a,d){return{value:i,source:null,stack:d!=null?d:null,digest:a!=null?a:null}}function df(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function V1(i,a,d){d=wi(-1,d),d.tag=3,d.payload={element:null};var g=a.value;return d.callback=function(){lh||(lh=!0,Ef=g),df(i,a)},d}function $1(i,a,d){d=wi(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=a.value;d.payload=function(){return g(x)},d.callback=function(){df(i,a)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){df(i,a),typeof g!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})}),d}function O1(i,a,d){var g=i.pingCache;if(g===null){g=i.pingCache=new lT;var x=new Set;g.set(a,x)}else x=g.get(a),x===void 0&&(x=new Set,g.set(a,x));x.has(d)||(x.add(d),i=_T.bind(null,i,a,d),a.then(i,i))}function U1(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function z1(i,a,d,g,x){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=wi(-1,1),a.tag=2,oo(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var cT=v.ReactCurrentOwner,xs=!1;function ts(i,a,d,g){a.child=i===null?c1(a,null,d,g):ol(a,i.child,d,g)}function H1(i,a,d,g,x){d=d.render;var j=a.ref;return ll(a,x),g=tf(i,a,d,g,j,x),d=nf(),i!==null&&!xs?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,_i(i,a,x)):(Ft&&d&&Bm(a),a.flags|=1,ts(i,a,g,x),a.child)}function W1(i,a,d,g,x){if(i===null){var j=d.type;return typeof j=="function"&&!Pf(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=j,G1(i,a,j,g,x)):(i=mh(d.type,null,g,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(j=i.child,(i.lanes&x)===0){var M=j.memoizedProps;if(d=d.compare,d=d!==null?d:jc,d(M,g)&&i.ref===a.ref)return _i(i,a,x)}return a.flags|=1,i=po(j,g),i.ref=a.ref,i.return=a,a.child=i}function G1(i,a,d,g,x){if(i!==null){var j=i.memoizedProps;if(jc(j,g)&&i.ref===a.ref)if(xs=!1,a.pendingProps=g=j,(i.lanes&x)!==0)(i.flags&131072)!==0&&(xs=!0);else return a.lanes=i.lanes,_i(i,a,x)}return hf(i,a,d,g,x)}function q1(i,a,d){var g=a.pendingProps,x=g.children,j=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(hl,Ms),Ms|=d;else{if((d&1073741824)===0)return i=j!==null?j.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Tt(hl,Ms),Ms|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:d,Tt(hl,Ms),Ms|=g}else j!==null?(g=j.baseLanes|d,a.memoizedState=null):g=d,Tt(hl,Ms),Ms|=g;return ts(i,a,x,d),a.child}function K1(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function hf(i,a,d,g,x){var j=ys(d)?qo:Un.current;return j=nl(a,j),ll(a,x),d=tf(i,a,d,g,j,x),g=nf(),i!==null&&!xs?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,_i(i,a,x)):(Ft&&g&&Bm(a),a.flags|=1,ts(i,a,d,x),a.child)}function Q1(i,a,d,g,x){if(ys(d)){var j=!0;Vd(a)}else j=!1;if(ll(a,x),a.stateNode===null)sh(i,a),F1(a,d,g),cf(a,d,g,x),g=!0;else if(i===null){var M=a.stateNode,z=a.memoizedProps;M.props=z;var G=M.context,te=d.contextType;typeof te=="object"&&te!==null?te=Ys(te):(te=ys(d)?qo:Un.current,te=nl(a,te));var he=d.getDerivedStateFromProps,me=typeof he=="function"||typeof M.getSnapshotBeforeUpdate=="function";me||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==g||G!==te)&&B1(a,M,g,te),io=!1;var de=a.memoizedState;M.state=de,Kd(a,g,M,x),G=a.memoizedState,z!==g||de!==G||gs.current||io?(typeof he=="function"&&(lf(a,d,he,g),G=a.memoizedState),(z=io||M1(a,d,z,g,de,G,te))?(me||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=G),M.props=g,M.state=G,M.context=te,g=z):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{M=a.stateNode,d1(i,a),z=a.memoizedProps,te=a.type===a.elementType?z:_r(a.type,z),M.props=te,me=a.pendingProps,de=M.context,G=d.contextType,typeof G=="object"&&G!==null?G=Ys(G):(G=ys(d)?qo:Un.current,G=nl(a,G));var we=d.getDerivedStateFromProps;(he=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==me||de!==G)&&B1(a,M,g,G),io=!1,de=a.memoizedState,M.state=de,Kd(a,g,M,x);var ke=a.memoizedState;z!==me||de!==ke||gs.current||io?(typeof we=="function"&&(lf(a,d,we,g),ke=a.memoizedState),(te=io||M1(a,d,te,g,de,ke,G)||!1)?(he||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,ke,G),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,ke,G)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=ke),M.props=g,M.state=ke,M.context=G,g=te):(typeof M.componentDidUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),g=!1)}return pf(i,a,d,g,j,x)}function pf(i,a,d,g,x,j){K1(i,a);var M=(a.flags&128)!==0;if(!g&&!M)return x&&e1(a,d,!1),_i(i,a,j);g=a.stateNode,cT.current=a;var z=M&&typeof d.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&M?(a.child=ol(a,i.child,null,j),a.child=ol(a,null,z,j)):ts(i,a,z,j),a.memoizedState=g.state,x&&e1(a,d,!0),a.child}function X1(i){var a=i.stateNode;a.pendingContext?Jx(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Jx(i,a.context,!1),Qm(i,a.containerInfo)}function Y1(i,a,d,g,x){return il(),Um(x),a.flags|=256,ts(i,a,d,g),a.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function J1(i,a,d){var g=a.pendingProps,x=Ut.current,j=!1,M=(a.flags&128)!==0,z;if((z=M)||(z=i!==null&&i.memoizedState===null?!1:(x&2)!==0),z?(j=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Tt(Ut,x&1),i===null)return Om(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(M=g.children,i=g.fallback,j?(g=a.mode,j=a.child,M={mode:"hidden",children:M},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=M):j=fh(M,g,0,null),i=sa(i,g,d,null),j.return=a,i.return=a,j.sibling=i,a.child=j,a.child.memoizedState=ff(d),a.memoizedState=mf,i):gf(a,M));if(x=i.memoizedState,x!==null&&(z=x.dehydrated,z!==null))return uT(i,a,M,g,z,x,d);if(j){j=g.fallback,M=a.mode,x=i.child,z=x.sibling;var G={mode:"hidden",children:g.children};return(M&1)===0&&a.child!==x?(g=a.child,g.childLanes=0,g.pendingProps=G,a.deletions=null):(g=po(x,G),g.subtreeFlags=x.subtreeFlags&14680064),z!==null?j=po(z,j):(j=sa(j,M,d,null),j.flags|=2),j.return=a,g.return=a,g.sibling=j,a.child=g,g=j,j=a.child,M=i.child.memoizedState,M=M===null?ff(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},j.memoizedState=M,j.childLanes=i.childLanes&~d,a.memoizedState=mf,g}return j=i.child,i=j.sibling,g=po(j,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=d),g.return=a,g.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=g,a.memoizedState=null,g}function gf(i,a){return a=fh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function nh(i,a,d,g){return g!==null&&Um(g),ol(a,i.child,null,d),i=gf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function uT(i,a,d,g,x,j,M){if(d)return a.flags&256?(a.flags&=-257,g=uf(Error(n(422))),nh(i,a,M,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(j=g.fallback,x=a.mode,g=fh({mode:"visible",children:g.children},x,0,null),j=sa(j,x,M,null),j.flags|=2,g.return=a,j.return=a,g.sibling=j,a.child=g,(a.mode&1)!==0&&ol(a,i.child,null,M),a.child.memoizedState=ff(M),a.memoizedState=mf,j);if((a.mode&1)===0)return nh(i,a,M,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var z=g.dgst;return g=z,j=Error(n(419)),g=uf(j,g,void 0),nh(i,a,M,g)}if(z=(M&i.childLanes)!==0,xs||z){if(g=bn,g!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|M))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,bi(i,x),kr(g,i,x,-1))}return Rf(),g=uf(Error(n(421))),nh(i,a,M,g)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=jT.bind(null,i),x._reactRetry=a,null):(i=j.treeContext,Ls=to(x.nextSibling),Ds=a,Ft=!0,wr=null,i!==null&&(Qs[Xs++]=xi,Qs[Xs++]=vi,Qs[Xs++]=Ko,xi=i.id,vi=i.overflow,Ko=a),a=gf(a,g.children),a.flags|=4096,a)}function Z1(i,a,d){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),Gm(i.return,a,d)}function yf(i,a,d,g,x){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=d,j.tailMode=x)}function ev(i,a,d){var g=a.pendingProps,x=g.revealOrder,j=g.tail;if(ts(i,a,g.children,d),g=Ut.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Z1(i,d,a);else if(i.tag===19)Z1(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Tt(Ut,g),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)i=d.alternate,i!==null&&Qd(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),yf(a,!1,x,d,j);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&Qd(i)===null){a.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}yf(a,!0,d,null,j);break;case"together":yf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function _i(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),Zo|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=po(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=po(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function dT(i,a,d){switch(a.tag){case 3:X1(a),il();break;case 5:m1(a);break;case 1:ys(a.type)&&Vd(a);break;case 4:Qm(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,x=a.memoizedProps.value;Tt(Wd,g._currentValue),g._currentValue=x;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Tt(Ut,Ut.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?J1(i,a,d):(Tt(Ut,Ut.current&1),i=_i(i,a,d),i!==null?i.sibling:null);Tt(Ut,Ut.current&1);break;case 19:if(g=(d&a.childLanes)!==0,(i.flags&128)!==0){if(g)return ev(i,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tt(Ut,Ut.current),g)break;return null;case 22:case 23:return a.lanes=0,q1(i,a,d)}return _i(i,a,d)}var tv,xf,nv,sv;tv=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},xf=function(){},nv=function(i,a,d,g){var x=i.memoizedProps;if(x!==g){i=a.stateNode,Yo(Kr.current);var j=null;switch(d){case"input":x=gt(i,x),g=gt(i,g),j=[];break;case"select":x=le({},x,{value:void 0}),g=le({},g,{value:void 0}),j=[];break;case"textarea":x=Es(i,x),g=Es(i,g),j=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Md)}li(d,g);var M;d=null;for(te in x)if(!g.hasOwnProperty(te)&&x.hasOwnProperty(te)&&x[te]!=null)if(te==="style"){var z=x[te];for(M in z)z.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(o.hasOwnProperty(te)?j||(j=[]):(j=j||[]).push(te,null));for(te in g){var G=g[te];if(z=x!=null?x[te]:void 0,g.hasOwnProperty(te)&&G!==z&&(G!=null||z!=null))if(te==="style")if(z){for(M in z)!z.hasOwnProperty(M)||G&&G.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in G)G.hasOwnProperty(M)&&z[M]!==G[M]&&(d||(d={}),d[M]=G[M])}else d||(j||(j=[]),j.push(te,d)),d=G;else te==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,z=z?z.__html:void 0,G!=null&&z!==G&&(j=j||[]).push(te,G)):te==="children"?typeof G!="string"&&typeof G!="number"||(j=j||[]).push(te,""+G):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(o.hasOwnProperty(te)?(G!=null&&te==="onScroll"&&It("scroll",i),j||z===G||(j=[])):(j=j||[]).push(te,G))}d&&(j=j||[]).push("style",d);var te=j;(a.updateQueue=te)&&(a.flags|=4)}},sv=function(i,a,d,g){d!==g&&(a.flags|=4)};function Bc(i,a){if(!Ft)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Hn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(a)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=d,a}function hT(i,a,d){var g=a.pendingProps;switch(Vm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(a),null;case 1:return ys(a.type)&&Bd(),Hn(a),null;case 3:return g=a.stateNode,cl(),Rt(gs),Rt(Un),Jm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(zd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wr!==null&&(Af(wr),wr=null))),xf(i,a),Hn(a),null;case 5:Xm(a);var x=Yo(Pc.current);if(d=a.type,i!==null&&a.stateNode!=null)nv(i,a,d,g,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return Hn(a),null}if(i=Yo(Kr.current),zd(a)){g=a.stateNode,d=a.type;var j=a.memoizedProps;switch(g[qr]=a,g[Cc]=j,i=(a.mode&1)!==0,d){case"dialog":It("cancel",g),It("close",g);break;case"iframe":case"object":case"embed":It("load",g);break;case"video":case"audio":for(x=0;x<kc.length;x++)It(kc[x],g);break;case"source":It("error",g);break;case"img":case"image":case"link":It("error",g),It("load",g);break;case"details":It("toggle",g);break;case"input":ls(g,j),It("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},It("invalid",g);break;case"textarea":ds(g,j),It("invalid",g)}li(d,j),x=null;for(var M in j)if(j.hasOwnProperty(M)){var z=j[M];M==="children"?typeof z=="string"?g.textContent!==z&&(j.suppressHydrationWarning!==!0&&Ld(g.textContent,z,i),x=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(j.suppressHydrationWarning!==!0&&Ld(g.textContent,z,i),x=["children",""+z]):o.hasOwnProperty(M)&&z!=null&&M==="onScroll"&&It("scroll",g)}switch(d){case"input":Lt(g),zs(g,j,!0);break;case"textarea":Lt(g),Ts(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=Md)}g=x,a.updateQueue=g,g!==null&&(a.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=St(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=M.createElement(d,{is:g.is}):(i=M.createElement(d),d==="select"&&(M=i,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):i=M.createElementNS(i,d),i[qr]=a,i[Cc]=g,tv(i,a,!1,!1),a.stateNode=i;e:{switch(M=$r(d,g),d){case"dialog":It("cancel",i),It("close",i),x=g;break;case"iframe":case"object":case"embed":It("load",i),x=g;break;case"video":case"audio":for(x=0;x<kc.length;x++)It(kc[x],i);x=g;break;case"source":It("error",i),x=g;break;case"img":case"image":case"link":It("error",i),It("load",i),x=g;break;case"details":It("toggle",i),x=g;break;case"input":ls(i,g),x=gt(i,g),It("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=le({},g,{value:void 0}),It("invalid",i);break;case"textarea":ds(i,g),x=Es(i,g),It("invalid",i);break;default:x=g}li(d,x),z=x;for(j in z)if(z.hasOwnProperty(j)){var G=z[j];j==="style"?Br(i,G):j==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&cr(i,G)):j==="children"?typeof G=="string"?(d!=="textarea"||G!=="")&&xt(i,G):typeof G=="number"&&xt(i,""+G):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?G!=null&&j==="onScroll"&&It("scroll",i):G!=null&&I(i,j,G,M))}switch(d){case"input":Lt(i),zs(i,g,!1);break;case"textarea":Lt(i),Ts(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ie(g.value));break;case"select":i.multiple=!!g.multiple,j=g.value,j!=null?Tn(i,!!g.multiple,j,!1):g.defaultValue!=null&&Tn(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Md)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Hn(a),null;case 6:if(i&&a.stateNode!=null)sv(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(d=Yo(Pc.current),Yo(Kr.current),zd(a)){if(g=a.stateNode,d=a.memoizedProps,g[qr]=a,(j=g.nodeValue!==d)&&(i=Ds,i!==null))switch(i.tag){case 3:Ld(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ld(g.nodeValue,d,(i.mode&1)!==0)}j&&(a.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[qr]=a,a.stateNode=g}return Hn(a),null;case 13:if(Rt(Ut),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&Ls!==null&&(a.mode&1)!==0&&(a.flags&128)===0)o1(),il(),a.flags|=98560,j=!1;else if(j=zd(a),g!==null&&g.dehydrated!==null){if(i===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[qr]=a}else il(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Hn(a),j=!1}else wr!==null&&(Af(wr),wr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Ut.current&1)!==0?fn===0&&(fn=3):Rf())),a.updateQueue!==null&&(a.flags|=4),Hn(a),null);case 4:return cl(),xf(i,a),i===null&&Ec(a.stateNode.containerInfo),Hn(a),null;case 10:return Wm(a.type._context),Hn(a),null;case 17:return ys(a.type)&&Bd(),Hn(a),null;case 19:if(Rt(Ut),j=a.memoizedState,j===null)return Hn(a),null;if(g=(a.flags&128)!==0,M=j.rendering,M===null)if(g)Bc(j,!1);else{if(fn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(M=Qd(i),M!==null){for(a.flags|=128,Bc(j,!1),g=M.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=d,d=a.child;d!==null;)j=d,i=g,j.flags&=14680066,M=j.alternate,M===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=M.childLanes,j.lanes=M.lanes,j.child=M.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=M.memoizedProps,j.memoizedState=M.memoizedState,j.updateQueue=M.updateQueue,j.type=M.type,i=M.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Tt(Ut,Ut.current&1|2),a.child}i=i.sibling}j.tail!==null&&Et()>pl&&(a.flags|=128,g=!0,Bc(j,!1),a.lanes=4194304)}else{if(!g)if(i=Qd(M),i!==null){if(a.flags|=128,g=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Bc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!Ft)return Hn(a),null}else 2*Et()-j.renderingStartTime>pl&&d!==1073741824&&(a.flags|=128,g=!0,Bc(j,!1),a.lanes=4194304);j.isBackwards?(M.sibling=a.child,a.child=M):(d=j.last,d!==null?d.sibling=M:a.child=M,j.last=M)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=Et(),a.sibling=null,d=Ut.current,Tt(Ut,g?d&1|2:d&1),a):(Hn(a),null);case 22:case 23:return If(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Ms&1073741824)!==0&&(Hn(a),a.subtreeFlags&6&&(a.flags|=8192)):Hn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function pT(i,a){switch(Vm(a),a.tag){case 1:return ys(a.type)&&Bd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return cl(),Rt(gs),Rt(Un),Jm(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Xm(a),null;case 13:if(Rt(Ut),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));il()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Rt(Ut),null;case 4:return cl(),null;case 10:return Wm(a.type._context),null;case 22:case 23:return If(),null;case 24:return null;default:return null}}var rh=!1,Wn=!1,mT=typeof WeakSet=="function"?WeakSet:Set,Se=null;function dl(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Kt(i,a,g)}else d.current=null}function vf(i,a,d){try{d()}catch(g){Kt(i,a,g)}}var rv=!1;function fT(i,a){if(Nm=Ji,i=Mx(),_m(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{d.nodeType,j.nodeType}catch(fe){d=null;break e}var M=0,z=-1,G=-1,te=0,he=0,me=i,de=null;t:for(;;){for(var we;me!==d||x!==0&&me.nodeType!==3||(z=M+x),me!==j||g!==0&&me.nodeType!==3||(G=M+g),me.nodeType===3&&(M+=me.nodeValue.length),(we=me.firstChild)!==null;)de=me,me=we;for(;;){if(me===i)break t;if(de===d&&++te===x&&(z=M),de===j&&++he===g&&(G=M),(we=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=we}d=z===-1||G===-1?null:{start:z,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(Im={focusedElem:i,selectionRange:d},Ji=!1,Se=a;Se!==null;)if(a=Se,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Se=i;else for(;Se!==null;){a=Se;try{var ke=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Te=ke.memoizedProps,Jt=ke.memoizedState,Z=a.stateNode,Q=Z.getSnapshotBeforeUpdate(a.elementType===a.type?Te:_r(a.type,Te),Jt);Z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Kt(a,a.return,fe)}if(i=a.sibling,i!==null){i.return=a.return,Se=i;break}Se=a.return}return ke=rv,rv=!1,ke}function Vc(i,a,d){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var j=x.destroy;x.destroy=void 0,j!==void 0&&vf(a,d,j)}x=x.next}while(x!==g)}}function ih(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==a)}}function bf(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function iv(i){var a=i.alternate;a!==null&&(i.alternate=null,iv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[qr],delete a[Cc],delete a[Lm],delete a[YE],delete a[JE])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ov(i){return i.tag===5||i.tag===3||i.tag===4}function av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ov(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wf(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Md));else if(g!==4&&(i=i.child,i!==null))for(wf(i,a,d),i=i.sibling;i!==null;)wf(i,a,d),i=i.sibling}function _f(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(_f(i,a,d),i=i.sibling;i!==null;)_f(i,a,d),i=i.sibling}var Nn=null,jr=!1;function ao(i,a,d){for(d=d.child;d!==null;)lv(i,a,d),d=d.sibling}function lv(i,a,d){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(Vo,d)}catch(z){}switch(d.tag){case 5:Wn||dl(d,a);case 6:var g=Nn,x=jr;Nn=null,ao(i,a,d),Nn=g,jr=x,Nn!==null&&(jr?(i=Nn,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):Nn.removeChild(d.stateNode));break;case 18:Nn!==null&&(jr?(i=Nn,d=d.stateNode,i.nodeType===8?Dm(i.parentNode,d):i.nodeType===1&&Dm(i,d),xr(i)):Dm(Nn,d.stateNode));break;case 4:g=Nn,x=jr,Nn=d.stateNode.containerInfo,jr=!0,ao(i,a,d),Nn=g,jr=x;break;case 0:case 11:case 14:case 15:if(!Wn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var j=x,M=j.destroy;j=j.tag,M!==void 0&&((j&2)!==0||(j&4)!==0)&&vf(d,a,M),x=x.next}while(x!==g)}ao(i,a,d);break;case 1:if(!Wn&&(dl(d,a),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(z){Kt(d,a,z)}ao(i,a,d);break;case 21:ao(i,a,d);break;case 22:d.mode&1?(Wn=(g=Wn)||d.memoizedState!==null,ao(i,a,d),Wn=g):ao(i,a,d);break;default:ao(i,a,d)}}function cv(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new mT),a.forEach(function(g){var x=ST.bind(null,i,g);d.has(g)||(d.add(g),g.then(x,x))})}}function Sr(i,a){var d=a.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var j=i,M=a,z=M;e:for(;z!==null;){switch(z.tag){case 5:Nn=z.stateNode,jr=!1;break e;case 3:Nn=z.stateNode.containerInfo,jr=!0;break e;case 4:Nn=z.stateNode.containerInfo,jr=!0;break e}z=z.return}if(Nn===null)throw Error(n(160));lv(j,M,x),Nn=null,jr=!1;var G=x.alternate;G!==null&&(G.return=null),x.return=null}catch(te){Kt(x,a,te)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)uv(a,i),a=a.sibling}function uv(i,a){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Sr(a,i),Xr(i),g&4){try{Vc(3,i,i.return),ih(3,i)}catch(Te){Kt(i,i.return,Te)}try{Vc(5,i,i.return)}catch(Te){Kt(i,i.return,Te)}}break;case 1:Sr(a,i),Xr(i),g&512&&d!==null&&dl(d,d.return);break;case 5:if(Sr(a,i),Xr(i),g&512&&d!==null&&dl(d,d.return),i.flags&32){var x=i.stateNode;try{xt(x,"")}catch(Te){Kt(i,i.return,Te)}}if(g&4&&(x=i.stateNode,x!=null)){var j=i.memoizedProps,M=d!==null?d.memoizedProps:j,z=i.type,G=i.updateQueue;if(i.updateQueue=null,G!==null)try{z==="input"&&j.type==="radio"&&j.name!=null&&cs(x,j),$r(z,M);var te=$r(z,j);for(M=0;M<G.length;M+=2){var he=G[M],me=G[M+1];he==="style"?Br(x,me):he==="dangerouslySetInnerHTML"?cr(x,me):he==="children"?xt(x,me):I(x,he,me,te)}switch(z){case"input":yt(x,j);break;case"textarea":hs(x,j);break;case"select":var de=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var we=j.value;we!=null?Tn(x,!!j.multiple,we,!1):de!==!!j.multiple&&(j.defaultValue!=null?Tn(x,!!j.multiple,j.defaultValue,!0):Tn(x,!!j.multiple,j.multiple?[]:"",!1))}x[Cc]=j}catch(Te){Kt(i,i.return,Te)}}break;case 6:if(Sr(a,i),Xr(i),g&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,j=i.memoizedProps;try{x.nodeValue=j}catch(Te){Kt(i,i.return,Te)}}break;case 3:if(Sr(a,i),Xr(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{xr(a.containerInfo)}catch(Te){Kt(i,i.return,Te)}break;case 4:Sr(a,i),Xr(i);break;case 13:Sr(a,i),Xr(i),x=i.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(kf=Et())),g&4&&cv(i);break;case 22:if(he=d!==null&&d.memoizedState!==null,i.mode&1?(Wn=(te=Wn)||he,Sr(a,i),Wn=te):Sr(a,i),Xr(i),g&8192){if(te=i.memoizedState!==null,(i.stateNode.isHidden=te)&&!he&&(i.mode&1)!==0)for(Se=i,he=i.child;he!==null;){for(me=Se=he;Se!==null;){switch(de=Se,we=de.child,de.tag){case 0:case 11:case 14:case 15:Vc(4,de,de.return);break;case 1:dl(de,de.return);var ke=de.stateNode;if(typeof ke.componentWillUnmount=="function"){g=de,d=de.return;try{a=g,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Te){Kt(g,d,Te)}}break;case 5:dl(de,de.return);break;case 22:if(de.memoizedState!==null){pv(me);continue}}we!==null?(we.return=de,Se=we):pv(me)}he=he.sibling}e:for(he=null,me=i;;){if(me.tag===5){if(he===null){he=me;try{x=me.stateNode,te?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(z=me.stateNode,G=me.memoizedProps.style,M=G!=null&&G.hasOwnProperty("display")?G.display:null,z.style.display=Fr("display",M))}catch(Te){Kt(i,i.return,Te)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Te){Kt(i,i.return,Te)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===i)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===i)break e;for(;me.sibling===null;){if(me.return===null||me.return===i)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Sr(a,i),Xr(i),g&4&&cv(i);break;case 21:break;default:Sr(a,i),Xr(i)}}function Xr(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(ov(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(xt(x,""),g.flags&=-33);var j=av(i);_f(i,j,x);break;case 3:case 4:var M=g.stateNode.containerInfo,z=av(i);wf(i,z,M);break;default:throw Error(n(161))}}catch(G){Kt(i,i.return,G)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function gT(i,a,d){Se=i,dv(i)}function dv(i,a,d){for(var g=(i.mode&1)!==0;Se!==null;){var x=Se,j=x.child;if(x.tag===22&&g){var M=x.memoizedState!==null||rh;if(!M){var z=x.alternate,G=z!==null&&z.memoizedState!==null||Wn;z=rh;var te=Wn;if(rh=M,(Wn=G)&&!te)for(Se=x;Se!==null;)M=Se,G=M.child,M.tag===22&&M.memoizedState!==null?mv(x):G!==null?(G.return=M,Se=G):mv(x);for(;j!==null;)Se=j,dv(j),j=j.sibling;Se=x,rh=z,Wn=te}hv(i)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,Se=j):hv(i)}}function hv(i){for(;Se!==null;){var a=Se;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Wn||ih(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Wn)if(d===null)g.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:_r(a.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&p1(a,j,g);break;case 3:var M=a.updateQueue;if(M!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}p1(a,M,d)}break;case 5:var z=a.stateNode;if(d===null&&a.flags&4){d=z;var G=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&d.focus();break;case"img":G.src&&(d.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var te=a.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&xr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wn||a.flags&512&&bf(a)}catch(de){Kt(a,a.return,de)}}if(a===i){Se=null;break}if(d=a.sibling,d!==null){d.return=a.return,Se=d;break}Se=a.return}}function pv(i){for(;Se!==null;){var a=Se;if(a===i){Se=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Se=d;break}Se=a.return}}function mv(i){for(;Se!==null;){var a=Se;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{ih(4,a)}catch(G){Kt(a,d,G)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var x=a.return;try{g.componentDidMount()}catch(G){Kt(a,x,G)}}var j=a.return;try{bf(a)}catch(G){Kt(a,j,G)}break;case 5:var M=a.return;try{bf(a)}catch(G){Kt(a,M,G)}}}catch(G){Kt(a,a.return,G)}if(a===i){Se=null;break}var z=a.sibling;if(z!==null){z.return=a.return,Se=z;break}Se=a.return}}var yT=Math.ceil,oh=v.ReactCurrentDispatcher,jf=v.ReactCurrentOwner,Zs=v.ReactCurrentBatchConfig,ot=0,bn=null,sn=null,In=0,Ms=0,hl=no(0),fn=0,$c=null,Zo=0,ah=0,Sf=0,Oc=null,vs=null,kf=0,pl=1/0,ji=null,lh=!1,Ef=null,lo=null,ch=!1,co=null,uh=0,Uc=0,Tf=null,dh=-1,hh=0;function ns(){return(ot&6)!==0?Et():dh!==-1?dh:dh=Et()}function uo(i){return(i.mode&1)===0?1:(ot&2)!==0&&In!==0?In&-In:eT.transition!==null?(hh===0&&(hh=Oo()),hh):(i=et,i!==0||(i=window.event,i=i===void 0?16:gc(i.type)),i)}function kr(i,a,d,g){if(50<Uc)throw Uc=0,Tf=null,Error(n(185));Ki(i,d,g),((ot&2)===0||i!==bn)&&(i===bn&&((ot&2)===0&&(ah|=d),fn===4&&ho(i,In)),bs(i,g),d===1&&ot===0&&(a.mode&1)===0&&(pl=Et()+500,$d&&ro()))}function bs(i,a){var d=i.callbackNode;di(i,a);var g=$o(i,i===bn?In:0);if(g===0)d!==null&&dc(d),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(d!=null&&dc(d),a===1)i.tag===0?ZE(gv.bind(null,i)):t1(gv.bind(null,i)),QE(function(){(ot&6)===0&&ro()}),d=null;else{switch(Xi(g)){case 1:d=Bo;break;case 4:d=Wi;break;case 16:d=Gs;break;case 536870912:d=hd;break;default:d=Gs}d=Sv(d,fv.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function fv(i,a){if(dh=-1,hh=0,(ot&6)!==0)throw Error(n(327));var d=i.callbackNode;if(ml()&&i.callbackNode!==d)return null;var g=$o(i,i===bn?In:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=ph(i,g);else{a=g;var x=ot;ot|=2;var j=xv();(bn!==i||In!==a)&&(ji=null,pl=Et()+500,ta(i,a));do try{bT();break}catch(z){yv(i,z)}while(!0);Hm(),oh.current=j,ot=x,sn!==null?a=0:(bn=null,In=0,a=fn)}if(a!==0){if(a===2&&(x=Is(i),x!==0&&(g=x,a=Cf(i,x))),a===1)throw d=$c,ta(i,0),ho(i,g),bs(i,Et()),d;if(a===6)ho(i,g);else{if(x=i.current.alternate,(g&30)===0&&!xT(x)&&(a=ph(i,g),a===2&&(j=Is(i),j!==0&&(g=j,a=Cf(i,j))),a===1))throw d=$c,ta(i,0),ho(i,g),bs(i,Et()),d;switch(i.finishedWork=x,i.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:na(i,vs,ji);break;case 3:if(ho(i,g),(g&130023424)===g&&(a=kf+500-Et(),10<a)){if($o(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){ns(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Pm(na.bind(null,i,vs,ji),a);break}na(i,vs,ji);break;case 4:if(ho(i,g),(g&4194240)===g)break;for(a=i.eventTimes,x=-1;0<g;){var M=31-Zn(g);j=1<<M,M=a[M],M>x&&(x=M),g&=~j}if(g=x,g=Et()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*yT(g/1960))-g,10<g){i.timeoutHandle=Pm(na.bind(null,i,vs,ji),g);break}na(i,vs,ji);break;case 5:na(i,vs,ji);break;default:throw Error(n(329))}}}return bs(i,Et()),i.callbackNode===d?fv.bind(null,i):null}function Cf(i,a){var d=Oc;return i.current.memoizedState.isDehydrated&&(ta(i,a).flags|=256),i=ph(i,a),i!==2&&(a=vs,vs=d,a!==null&&Af(a)),i}function Af(i){vs===null?vs=i:vs.push.apply(vs,i)}function xT(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],j=x.getSnapshot;x=x.value;try{if(!br(j(),x))return!1}catch(M){return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ho(i,a){for(a&=~Sf,a&=~ah,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Zn(a),g=1<<d;i[d]=-1,a&=~g}}function gv(i){if((ot&6)!==0)throw Error(n(327));ml();var a=$o(i,0);if((a&1)===0)return bs(i,Et()),null;var d=ph(i,a);if(i.tag!==0&&d===2){var g=Is(i);g!==0&&(a=g,d=Cf(i,g))}if(d===1)throw d=$c,ta(i,0),ho(i,a),bs(i,Et()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,na(i,vs,ji),bs(i,Et()),null}function Nf(i,a){var d=ot;ot|=1;try{return i(a)}finally{ot=d,ot===0&&(pl=Et()+500,$d&&ro())}}function ea(i){co!==null&&co.tag===0&&(ot&6)===0&&ml();var a=ot;ot|=1;var d=Zs.transition,g=et;try{if(Zs.transition=null,et=1,i)return i()}finally{et=g,Zs.transition=d,ot=a,(ot&6)===0&&ro()}}function If(){Ms=hl.current,Rt(hl)}function ta(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,KE(d)),sn!==null)for(d=sn.return;d!==null;){var g=d;switch(Vm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Bd();break;case 3:cl(),Rt(gs),Rt(Un),Jm();break;case 5:Xm(g);break;case 4:cl();break;case 13:Rt(Ut);break;case 19:Rt(Ut);break;case 10:Wm(g.type._context);break;case 22:case 23:If()}d=d.return}if(bn=i,sn=i=po(i.current,null),In=Ms=a,fn=0,$c=null,Sf=ah=Zo=0,vs=Oc=null,Xo!==null){for(a=0;a<Xo.length;a++)if(d=Xo[a],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,j=d.pending;if(j!==null){var M=j.next;j.next=x,g.next=M}d.pending=g}Xo=null}return i}function yv(i,a){do{var d=sn;try{if(Hm(),Xd.current=eh,Yd){for(var g=zt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Yd=!1}if(Jo=0,vn=mn=zt=null,Dc=!1,Lc=0,jf.current=null,d===null||d.return===null){fn=1,$c=a,sn=null;break}e:{var j=i,M=d.return,z=d,G=a;if(a=In,z.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var te=G,he=z,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var we=U1(M);if(we!==null){we.flags&=-257,z1(we,M,z,j,a),we.mode&1&&O1(j,te,a),a=we,G=te;var ke=a.updateQueue;if(ke===null){var Te=new Set;Te.add(G),a.updateQueue=Te}else ke.add(G);break e}else{if((a&1)===0){O1(j,te,a),Rf();break e}G=Error(n(426))}}else if(Ft&&z.mode&1){var Jt=U1(M);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),z1(Jt,M,z,j,a),Um(ul(G,z));break e}}j=G=ul(G,z),fn!==4&&(fn=2),Oc===null?Oc=[j]:Oc.push(j),j=M;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var Z=V1(j,G,a);h1(j,Z);break e;case 1:z=G;var Q=j.type,ee=j.stateNode;if((j.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(lo===null||!lo.has(ee)))){j.flags|=65536,a&=-a,j.lanes|=a;var fe=$1(j,z,a);h1(j,fe);break e}}j=j.return}while(j!==null)}bv(d)}catch(Ne){a=Ne,sn===d&&d!==null&&(sn=d=d.return);continue}break}while(!0)}function xv(){var i=oh.current;return oh.current=eh,i===null?eh:i}function Rf(){(fn===0||fn===3||fn===2)&&(fn=4),bn===null||(Zo&268435455)===0&&(ah&268435455)===0||ho(bn,In)}function ph(i,a){var d=ot;ot|=2;var g=xv();(bn!==i||In!==a)&&(ji=null,ta(i,a));do try{vT();break}catch(x){yv(i,x)}while(!0);if(Hm(),ot=d,oh.current=g,sn!==null)throw Error(n(261));return bn=null,In=0,fn}function vT(){for(;sn!==null;)vv(sn)}function bT(){for(;sn!==null&&!ud();)vv(sn)}function vv(i){var a=jv(i.alternate,i,Ms);i.memoizedProps=i.pendingProps,a===null?bv(i):sn=a,jf.current=null}function bv(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=hT(d,a,Ms),d!==null){sn=d;return}}else{if(d=pT(d,a),d!==null){d.flags&=32767,sn=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{fn=6,sn=null;return}}if(a=a.sibling,a!==null){sn=a;return}sn=a=i}while(a!==null);fn===0&&(fn=5)}function na(i,a,d){var g=et,x=Zs.transition;try{Zs.transition=null,et=1,wT(i,a,d,g)}finally{Zs.transition=x,et=g}return null}function wT(i,a,d,g){do ml();while(co!==null);if((ot&6)!==0)throw Error(n(327));d=i.finishedWork;var x=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var j=d.lanes|d.childLanes;if(vt(i,j),i===bn&&(sn=bn=null,In=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||ch||(ch=!0,Sv(Gs,function(){return ml(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=Zs.transition,Zs.transition=null;var M=et;et=1;var z=ot;ot|=4,jf.current=null,fT(i,d),uv(d,i),OE(Im),Ji=!!Nm,Im=Nm=null,i.current=d,gT(d),mm(),ot=z,et=M,Zs.transition=j}else i.current=d;if(ch&&(ch=!1,co=i,uh=x),j=i.pendingLanes,j===0&&(lo=null),pd(d.stateNode),bs(i,Et()),a!==null)for(g=i.onRecoverableError,d=0;d<a.length;d++)x=a[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(lh)throw lh=!1,i=Ef,Ef=null,i;return(uh&1)!==0&&i.tag!==0&&ml(),j=i.pendingLanes,(j&1)!==0?i===Tf?Uc++:(Uc=0,Tf=i):Uc=0,ro(),null}function ml(){if(co!==null){var i=Xi(uh),a=Zs.transition,d=et;try{if(Zs.transition=null,et=16>i?16:i,co===null)var g=!1;else{if(i=co,co=null,uh=0,(ot&6)!==0)throw Error(n(331));var x=ot;for(ot|=4,Se=i.current;Se!==null;){var j=Se,M=j.child;if((Se.flags&16)!==0){var z=j.deletions;if(z!==null){for(var G=0;G<z.length;G++){var te=z[G];for(Se=te;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:Vc(8,he,j)}var me=he.child;if(me!==null)me.return=he,Se=me;else for(;Se!==null;){he=Se;var de=he.sibling,we=he.return;if(iv(he),he===te){Se=null;break}if(de!==null){de.return=we,Se=de;break}Se=we}}}var ke=j.alternate;if(ke!==null){var Te=ke.child;if(Te!==null){ke.child=null;do{var Jt=Te.sibling;Te.sibling=null,Te=Jt}while(Te!==null)}}Se=j}}if((j.subtreeFlags&2064)!==0&&M!==null)M.return=j,Se=M;else e:for(;Se!==null;){if(j=Se,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Vc(9,j,j.return)}var Z=j.sibling;if(Z!==null){Z.return=j.return,Se=Z;break e}Se=j.return}}var Q=i.current;for(Se=Q;Se!==null;){M=Se;var ee=M.child;if((M.subtreeFlags&2064)!==0&&ee!==null)ee.return=M,Se=ee;else e:for(M=Q;Se!==null;){if(z=Se,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:ih(9,z)}}catch(Ne){Kt(z,z.return,Ne)}if(z===M){Se=null;break e}var fe=z.sibling;if(fe!==null){fe.return=z.return,Se=fe;break e}Se=z.return}}if(ot=x,ro(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(Vo,i)}catch(Ne){}g=!0}return g}finally{et=d,Zs.transition=a}}return!1}function wv(i,a,d){a=ul(d,a),a=V1(i,a,1),i=oo(i,a,1),a=ns(),i!==null&&(Ki(i,1,a),bs(i,a))}function Kt(i,a,d){if(i.tag===3)wv(i,i,d);else for(;a!==null;){if(a.tag===3){wv(a,i,d);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(lo===null||!lo.has(g))){i=ul(d,i),i=$1(a,i,1),a=oo(a,i,1),i=ns(),a!==null&&(Ki(a,1,i),bs(a,i));break}}a=a.return}}function _T(i,a,d){var g=i.pingCache;g!==null&&g.delete(a),a=ns(),i.pingedLanes|=i.suspendedLanes&d,bn===i&&(In&d)===d&&(fn===4||fn===3&&(In&130023424)===In&&500>Et()-kf?ta(i,0):Sf|=d),bs(i,a)}function _v(i,a){a===0&&((i.mode&1)===0?a=1:(a=Fa,Fa<<=1,(Fa&130023424)===0&&(Fa=4194304)));var d=ns();i=bi(i,a),i!==null&&(Ki(i,a,d),bs(i,d))}function jT(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),_v(i,d)}function ST(i,a){var d=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),_v(i,d)}var jv;jv=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||gs.current)xs=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return xs=!1,dT(i,a,d);xs=(i.flags&131072)!==0}else xs=!1,Ft&&(a.flags&1048576)!==0&&n1(a,Ud,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;sh(i,a),i=a.pendingProps;var x=nl(a,Un.current);ll(a,d),x=tf(null,a,g,i,x,d);var j=nf();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ys(g)?(j=!0,Vd(a)):j=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Km(a),x.updater=th,a.stateNode=x,x._reactInternals=a,cf(a,g,i,d),a=pf(null,a,g,!0,j,d)):(a.tag=0,Ft&&j&&Bm(a),ts(null,a,x,d),a=a.child),a;case 16:g=a.elementType;e:{switch(sh(i,a),i=a.pendingProps,x=g._init,g=x(g._payload),a.type=g,x=a.tag=ET(g),i=_r(g,i),x){case 0:a=hf(null,a,g,i,d);break e;case 1:a=Q1(null,a,g,i,d);break e;case 11:a=H1(null,a,g,i,d);break e;case 14:a=W1(null,a,g,_r(g.type,i),d);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:_r(g,x),hf(i,a,g,x,d);case 1:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:_r(g,x),Q1(i,a,g,x,d);case 3:e:{if(X1(a),i===null)throw Error(n(387));g=a.pendingProps,j=a.memoizedState,x=j.element,d1(i,a),Kd(a,g,null,d);var M=a.memoizedState;if(g=M.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){x=ul(Error(n(423)),a),a=Y1(i,a,g,d,x);break e}else if(g!==x){x=ul(Error(n(424)),a),a=Y1(i,a,g,d,x);break e}else for(Ls=to(a.stateNode.containerInfo.firstChild),Ds=a,Ft=!0,wr=null,d=c1(a,null,g,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(il(),g===x){a=_i(i,a,d);break e}ts(i,a,g,d)}a=a.child}return a;case 5:return m1(a),i===null&&Om(a),g=a.type,x=a.pendingProps,j=i!==null?i.memoizedProps:null,M=x.children,Rm(g,x)?M=null:j!==null&&Rm(g,j)&&(a.flags|=32),K1(i,a),ts(i,a,M,d),a.child;case 6:return i===null&&Om(a),null;case 13:return J1(i,a,d);case 4:return Qm(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=ol(a,null,g,d):ts(i,a,g,d),a.child;case 11:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:_r(g,x),H1(i,a,g,x,d);case 7:return ts(i,a,a.pendingProps,d),a.child;case 8:return ts(i,a,a.pendingProps.children,d),a.child;case 12:return ts(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(g=a.type._context,x=a.pendingProps,j=a.memoizedProps,M=x.value,Tt(Wd,g._currentValue),g._currentValue=M,j!==null)if(br(j.value,M)){if(j.children===x.children&&!gs.current){a=_i(i,a,d);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var z=j.dependencies;if(z!==null){M=j.child;for(var G=z.firstContext;G!==null;){if(G.context===g){if(j.tag===1){G=wi(-1,d&-d),G.tag=2;var te=j.updateQueue;if(te!==null){te=te.shared;var he=te.pending;he===null?G.next=G:(G.next=he.next,he.next=G),te.pending=G}}j.lanes|=d,G=j.alternate,G!==null&&(G.lanes|=d),Gm(j.return,d,a),z.lanes|=d;break}G=G.next}}else if(j.tag===10)M=j.type===a.type?null:j.child;else if(j.tag===18){if(M=j.return,M===null)throw Error(n(341));M.lanes|=d,z=M.alternate,z!==null&&(z.lanes|=d),Gm(M,d,a),M=j.sibling}else M=j.child;if(M!==null)M.return=j;else for(M=j;M!==null;){if(M===a){M=null;break}if(j=M.sibling,j!==null){j.return=M.return,M=j;break}M=M.return}j=M}ts(i,a,x.children,d),a=a.child}return a;case 9:return x=a.type,g=a.pendingProps.children,ll(a,d),x=Ys(x),g=g(x),a.flags|=1,ts(i,a,g,d),a.child;case 14:return g=a.type,x=_r(g,a.pendingProps),x=_r(g.type,x),W1(i,a,g,x,d);case 15:return G1(i,a,a.type,a.pendingProps,d);case 17:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:_r(g,x),sh(i,a),a.tag=1,ys(g)?(i=!0,Vd(a)):i=!1,ll(a,d),F1(a,g,x),cf(a,g,x,d),pf(null,a,g,!0,i,d);case 19:return ev(i,a,d);case 22:return q1(i,a,d)}throw Error(n(156,a.tag))};function Sv(i,a){return La(i,a)}function kT(i,a,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(i,a,d,g){return new kT(i,a,d,g)}function Pf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ET(i){if(typeof i=="function")return Pf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===H)return 14}return 2}function po(i,a){var d=i.alternate;return d===null?(d=er(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function mh(i,a,d,g,x,j){var M=2;if(g=i,typeof i=="function")Pf(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case k:return sa(d.children,x,j,a);case S:M=8,x|=8;break;case A:return i=er(12,d,a,x|2),i.elementType=A,i.lanes=j,i;case $:return i=er(13,d,a,x),i.elementType=$,i.lanes=j,i;case ie:return i=er(19,d,a,x),i.elementType=ie,i.lanes=j,i;case K:return fh(d,x,j,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:M=10;break e;case P:M=9;break e;case V:M=11;break e;case H:M=14;break e;case se:M=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=er(M,d,a,x),a.elementType=i,a.type=g,a.lanes=j,a}function sa(i,a,d,g){return i=er(7,i,g,a),i.lanes=d,i}function fh(i,a,d,g){return i=er(22,i,g,a),i.elementType=K,i.lanes=d,i.stateNode={isHidden:!1},i}function Df(i,a,d){return i=er(6,i,null,a),i.lanes=d,i}function Lf(i,a,d){return a=er(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function TT(i,a,d,g,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qi(0),this.expirationTimes=qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Mf(i,a,d,g,x,j,M,z,G){return i=new TT(i,a,d,z,G),a===1?(a=1,j===!0&&(a|=8)):a=0,j=er(3,null,null,a),i.current=j,j.stateNode=i,j.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(j),i}function CT(i,a,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:i,containerInfo:a,implementation:d}}function kv(i){if(!i)return so;i=i._reactInternals;e:{if(pr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ys(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(ys(d))return Zx(i,d,a)}return a}function Ev(i,a,d,g,x,j,M,z,G){return i=Mf(d,g,!0,i,x,j,M,z,G),i.context=kv(null),d=i.current,g=ns(),x=uo(d),j=wi(g,x),j.callback=a!=null?a:null,oo(d,j,x),i.current.lanes=x,Ki(i,x,g),bs(i,g),i}function gh(i,a,d,g){var x=a.current,j=ns(),M=uo(x);return d=kv(d),a.context===null?a.context=d:a.pendingContext=d,a=wi(j,M),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=oo(x,a,M),i!==null&&(kr(i,x,M,j),qd(i,x,M)),M}function yh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Tv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Ff(i,a){Tv(i,a),(i=i.alternate)&&Tv(i,a)}function AT(){return null}var Cv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Bf(i){this._internalRoot=i}xh.prototype.render=Bf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));gh(i,a,null,null)},xh.prototype.unmount=Bf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ea(function(){gh(null,i,null,null)}),a[gi]=null}};function xh(i){this._internalRoot=i}xh.prototype.unstable_scheduleHydration=function(i){if(i){var a=xd();i={blockedOn:null,target:i,priority:a};for(var d=0;d<zr.length&&a!==0&&a<zr[d].priority;d++);zr.splice(d,0,i),d===0&&wd(i)}};function Vf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Av(){}function NT(i,a,d,g,x){if(x){if(typeof g=="function"){var j=g;g=function(){var te=yh(M);j.call(te)}}var M=Ev(a,g,i,0,null,!1,!1,"",Av);return i._reactRootContainer=M,i[gi]=M.current,Ec(i.nodeType===8?i.parentNode:i),ea(),M}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var z=g;g=function(){var te=yh(G);z.call(te)}}var G=Mf(i,0,!1,null,null,!1,!1,"",Av);return i._reactRootContainer=G,i[gi]=G.current,Ec(i.nodeType===8?i.parentNode:i),ea(function(){gh(a,G,d,g)}),G}function bh(i,a,d,g,x){var j=d._reactRootContainer;if(j){var M=j;if(typeof x=="function"){var z=x;x=function(){var G=yh(M);z.call(G)}}gh(a,M,i,x)}else M=NT(d,a,i,x,g);return yh(M)}gd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=Gi(a.pendingLanes);d!==0&&(Qi(a,d|1),bs(a,Et()),(ot&6)===0&&(pl=Et()+500,ro()))}break;case 13:ea(function(){var g=bi(i,1);if(g!==null){var x=ns();kr(g,i,1,x)}}),Ff(i,1)}},Ba=function(i){if(i.tag===13){var a=bi(i,134217728);if(a!==null){var d=ns();kr(a,i,134217728,d)}Ff(i,134217728)}},yd=function(i){if(i.tag===13){var a=uo(i),d=bi(i,a);if(d!==null){var g=ns();kr(d,i,a,g)}Ff(i,a)}},xd=function(){return et},vd=function(i,a){var d=et;try{return et=i,a()}finally{et=d}},ur=function(i,a,d){switch(a){case"input":if(yt(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var g=d[a];if(g!==i&&g.form===i.form){var x=Fd(g);if(!x)throw Error(n(90));ht(g),yt(g,x)}}}break;case"textarea":hs(i,d);break;case"select":a=d.value,a!=null&&Tn(i,!!d.multiple,a,!1)}},Do=Nf,ac=ea;var IT={usingClientEntryPoint:!1,Events:[Ac,el,Fd,Or,oc,Nf]},zc={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RT={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=uc(i),i===null?null:i.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||AT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Vo=wh.inject(RT),Ns=wh}catch(i){}}return ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IT,ws.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(a))throw Error(n(200));return CT(i,a,null,d)},ws.createRoot=function(i,a){if(!Vf(i))throw Error(n(299));var d=!1,g="",x=Cv;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Mf(i,1,!1,null,null,d,!1,g,x),i[gi]=a.current,Ec(i.nodeType===8?i.parentNode:i),new Bf(a)},ws.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=uc(a),i=i===null?null:i.stateNode,i},ws.flushSync=function(i){return ea(i)},ws.hydrate=function(i,a,d){if(!vh(a))throw Error(n(200));return bh(null,i,a,!0,d)},ws.hydrateRoot=function(i,a,d){if(!Vf(i))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,j="",M=Cv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),a=Ev(a,null,i,1,d!=null?d:null,x,!1,j,M),i[gi]=a.current,Ec(i),g)for(i=0;i<g.length;i++)d=g[i],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new xh(a)},ws.render=function(i,a,d){if(!vh(a))throw Error(n(200));return bh(null,i,a,!1,d)},ws.unmountComponentAtNode=function(i){if(!vh(i))throw Error(n(40));return i._reactRootContainer?(ea(function(){bh(null,null,i,!1,function(){i._reactRootContainer=null,i[gi]=null})}),!0):!1},ws.unstable_batchedUpdates=Nf,ws.unstable_renderSubtreeIntoContainer=function(i,a,d,g){if(!vh(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return bh(i,a,d,!1,g)},ws.version="18.3.1-next-f1338f8080-20240426",ws}var Fv;function l_(){if(Fv)return Uf.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uf.exports=$T(),Uf.exports}var Bv;function OT(){if(Bv)return _h;Bv=1;var t=l_();return _h.createRoot=t.createRoot,_h.hydrateRoot=t.hydrateRoot,_h}var UT=OT();const zT=V0(UT);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function HT(t={}){function e(o,l){let{pathname:c="/",search:u="",hash:h=""}=ka(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Gg("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof l=="string"?l:_u(l))}function r(o,l){$s(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return GT(e,n,r,t)}function $t(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function $s(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function WT(){return Math.random().toString(36).substring(2,10)}function $v(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ka(e):e,state:n,key:e&&e.key||r||WT()}}function _u({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function GT(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,u="POP",h=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function y(){u="POP";let L=f(),O=L==null?null:L-p;p=L,h&&h({action:u,location:R.location,delta:O})}function b(L,O){u="PUSH";let B=Gg(R.location,L,O);n&&n(B,L),p=f()+1;let I=$v(B,p),v=R.createHref(B);try{c.pushState(I,"",v)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(v)}l&&h&&h({action:u,location:R.location,delta:1})}function E(L,O){u="REPLACE";let B=Gg(R.location,L,O);n&&n(B,L),p=f();let I=$v(B,p),v=R.createHref(B);c.replaceState(I,"",v),l&&h&&h({action:u,location:R.location,delta:0})}function T(L){return qT(L)}let R={get action(){return u},get location(){return t(o,c)},listen(L){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,y),h=L,()=>{o.removeEventListener(Vv,y),h=null}},createHref(L){return e(o,L)},createURL:T,encodeLocation(L){let O=T(L);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:E,go(L){return c.go(L)}};return R}function qT(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_u(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function c_(t,e,n="/"){return KT(t,e,n,!1)}function KT(t,e,n,r){let o=typeof e=="string"?ka(e):e,l=Fi(o.pathname||"/",n);if(l==null)return null;let c=u_(t);QT(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=o3(l);u=r3(c[h],p,r)}return u}function u_(t,e=[],n=[],r="",o=!1){let l=(c,u,h=o,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&h)return;$t(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let y=Li([r,f.relativePath]),b=n.concat(f);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),u_(c.children,e,b,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:n3(y,c.index),routesMeta:b})};return t.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,u);else for(let p of d_(c.path))l(c,u,!0,p)}),e}function d_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=d_(r.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function QT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XT=/^:[\w-]+$/,YT=3,JT=2,ZT=1,e3=10,t3=-2,Ov=t=>t==="*";function n3(t,e){let n=t.split("/"),r=n.length;return n.some(Ov)&&(r+=t3),e&&(r+=JT),n.filter(o=>!Ov(o)).reduce((o,l)=>o+(XT.test(l)?YT:l===""?ZT:e3),r)}function s3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function r3(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,f=l==="/"?e:e.slice(l.length)||"/",y=ap({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},f),b=h.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=ap({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},f)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Li([l,y.pathname]),pathnameBase:u3(Li([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Li([l,y.pathnameBase]))}return c}function ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i3(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((p,{paramName:f,isOptional:y},b)=>{if(f==="*"){let T=u[b]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const E=u[b];return y&&!E?p[f]=void 0:p[f]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function i3(t,e=!1,n=!0){$s(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function o3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $s(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function a3(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ka(t):t;return{pathname:n?n.startsWith("/")?n:l3(n,e):e,search:d3(r),hash:h3(o)}}function l3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O0(t){let e=c3(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function U0(t,e,n,r=!1){let o;typeof t=="string"?o=ka(t):(o={...t},$t(!o.pathname||!o.pathname.includes("?"),Wf("?","pathname","search",o)),$t(!o.pathname||!o.pathname.includes("#"),Wf("#","pathname","hash",o)),$t(!o.search||!o.search.includes("#"),Wf("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}u=y>=0?e[y]:"/"}let h=a3(o,u),p=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||f)&&(h.pathname+="/"),h}var Li=t=>t.join("/").replace(/\/\/+/g,"/"),u3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,h3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var h_=["POST","PUT","PATCH","DELETE"];new Set(h_);var m3=["GET",...h_];new Set(m3);var Ql=N.createContext(null);Ql.displayName="DataRouter";var Dp=N.createContext(null);Dp.displayName="DataRouterState";N.createContext(!1);var p_=N.createContext({isTransitioning:!1});p_.displayName="ViewTransition";var f3=N.createContext(new Map);f3.displayName="Fetchers";var g3=N.createContext(null);g3.displayName="Await";var Dr=N.createContext(null);Dr.displayName="Navigation";var Ou=N.createContext(null);Ou.displayName="Location";var lr=N.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var z0=N.createContext(null);z0.displayName="RouteError";function y3(t,{relative:e}={}){$t(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Dr),{hash:o,pathname:l,search:c}=Uu(t,{relative:e}),u=l;return n!=="/"&&(u=l==="/"?n:Li([n,l])),r.createHref({pathname:u,search:c,hash:o})}function Xl(){return N.useContext(Ou)!=null}function Us(){return $t(Xl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ou).location}var m_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f_(t){N.useContext(Dr).static||N.useLayoutEffect(t)}function No(){let{isDataRoute:t}=N.useContext(lr);return t?R3():x3()}function x3(){$t(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Ql),{basename:e,navigator:n}=N.useContext(Dr),{matches:r}=N.useContext(lr),{pathname:o}=Us(),l=JSON.stringify(O0(r)),c=N.useRef(!1);return f_(()=>{c.current=!0}),N.useCallback((h,p={})=>{if($s(c.current,m_),!c.current)return;if(typeof h=="number"){n.go(h);return}let f=U0(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Li([e,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[e,n,l,o,t])}var v3=N.createContext(null);function b3(t){let e=N.useContext(lr).outlet;return e&&N.createElement(v3.Provider,{value:t},e)}function H0(){let{matches:t}=N.useContext(lr),e=t[t.length-1];return e?e.params:{}}function Uu(t,{relative:e}={}){let{matches:n}=N.useContext(lr),{pathname:r}=Us(),o=JSON.stringify(O0(n));return N.useMemo(()=>U0(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function w3(t,e){return g_(t,e)}function g_(t,e,n,r,o){var B;$t(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Dr),{matches:c}=N.useContext(lr),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",y=u&&u.route;{let I=y&&y.path||"";y_(p,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=Us(),E;if(e){let I=typeof e=="string"?ka(e):e;$t(f==="/"||((B=I.pathname)==null?void 0:B.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),E=I}else E=b;let T=E.pathname||"/",R=T;if(f!=="/"){let I=f.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(I.length).join("/")}let L=c_(t,{pathname:R});$s(y||L!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),$s(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=E3(L&&L.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:Li([f,l.encodeLocation?l.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Li([f,l.encodeLocation?l.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,r,o);return e&&O?N.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function _3(){let t=I3(),e=p3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,c)}var j3=N.createElement(_3,null),S3=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(lr.Provider,{value:this.props.routeContext},N.createElement(z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k3({routeContext:t,match:e,children:n}){let r=N.useContext(Ql);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(lr.Provider,{value:t},n)}function E3(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);$t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let f=l[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:y,errors:b}=n,E=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||E){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,f,y)=>{let b,E=!1,T=null,R=null;n&&(b=c&&f.route.id?c[f.route.id]:void 0,T=f.route.errorElement||j3,u&&(h<0&&y===0?(y_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===y&&(E=!0,R=f.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,y+1)),O=()=>{let B;return b?B=T:E?B=R:f.route.Component?B=N.createElement(f.route.Component,null):f.route.element?B=f.route.element:B=p,N.createElement(k3,{match:f,routeContext:{outlet:p,matches:L,isDataRoute:n!=null},children:B})};return n&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?N.createElement(S3,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:O(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):O()},null)}function W0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T3(t){let e=N.useContext(Ql);return $t(e,W0(t)),e}function C3(t){let e=N.useContext(Dp);return $t(e,W0(t)),e}function A3(t){let e=N.useContext(lr);return $t(e,W0(t)),e}function G0(t){let e=A3(t),n=e.matches[e.matches.length-1];return $t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function N3(){return G0("useRouteId")}function I3(){var r;let t=N.useContext(z0),e=C3("useRouteError"),n=G0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function R3(){let{router:t}=T3("useNavigate"),e=G0("useNavigate"),n=N.useRef(!1);return f_(()=>{n.current=!0}),N.useCallback(async(o,l={})=>{$s(n.current,m_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Uv={};function y_(t,e,n){!e&&!Uv[t]&&(Uv[t]=!0,$s(!1,n))}N.memo(P3);function P3({routes:t,future:e,state:n,unstable_onError:r}){return g_(t,void 0,n,r,e)}function Gf({to:t,replace:e,state:n,relative:r}){$t(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Dr);$s(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(lr),{pathname:c}=Us(),u=No(),h=U0(t,O0(l),c,r==="path"),p=JSON.stringify(h);return N.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function x_(t){return b3(t.context)}function ce(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){$t(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=ka(n));let{pathname:h="/",search:p="",hash:f="",state:y=null,key:b="default"}=n,E=N.useMemo(()=>{let T=Fi(h,c);return T==null?null:{location:{pathname:T,search:p,hash:f,state:y,key:b},navigationType:r}},[c,h,p,f,y,b,r]);return $s(E!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:N.createElement(Dr.Provider,{value:u},N.createElement(Ou.Provider,{children:e,value:E}))}function L3({children:t,location:e}){return w3(qg(t),e)}function qg(t,e=[]){let n=[];return N.Children.forEach(t,(r,o)=>{if(!N.isValidElement(r))return;let l=[...e,o];if(r.type===N.Fragment){n.push.apply(n,qg(r.props.children,l));return}$t(r.type===ce,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=qg(r.props.children,l)),n.push(c)}),n}var Wh="get",Gh="application/x-www-form-urlencoded";function Lp(t){return t!=null&&typeof t.tagName=="string"}function M3(t){return Lp(t)&&t.tagName.toLowerCase()==="button"}function F3(t){return Lp(t)&&t.tagName.toLowerCase()==="form"}function B3(t){return Lp(t)&&t.tagName.toLowerCase()==="input"}function V3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $3(t,e){return t.button===0&&(!e||e==="_self")&&!V3(t)}function Kg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function O3(t,e){let n=Kg(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var jh=null;function U3(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch(t){jh=!0}return jh}var z3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(t){return t!=null&&!z3.has(t)?($s(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):t}function H3(t,e){let n,r,o,l,c;if(F3(t)){let u=t.getAttribute("action");r=u?Fi(u,e):null,n=t.getAttribute("method")||Wh,o=qf(t.getAttribute("enctype"))||Gh,l=new FormData(t)}else if(M3(t)||B3(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Fi(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Wh,o=qf(t.getAttribute("formenctype"))||qf(u.getAttribute("enctype"))||Gh,l=new FormData(u,t),!U3()){let{name:p,type:f,value:y}=t;if(f==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,y)}}else{if(Lp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wh,r=null,o=Gh,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q0(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function W3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Fi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function G3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function K3(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await G3(l,n);return c.links?c.links():[]}return[]}));return J3(r.flat(1).filter(q3).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(t,e,n,r,o,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>{var f;return n[p].pathname!==h.pathname||((f=n[p].route.path)==null?void 0:f.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>c(h,p)||u(h,p)):l==="data"?e.filter((h,p)=>{var y;let f=r.routes[h.route.id];if(!f||!f.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Q3(t,e,{includeHydrateFallback:n}={}){return X3(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function X3(t){return[...new Set(t)]}function Y3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function J3(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(Y3(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function v_(){let t=N.useContext(Ql);return q0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Z3(){let t=N.useContext(Dp);return q0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var K0=N.createContext(void 0);K0.displayName="FrameworkContext";function b_(){let t=N.useContext(K0);return q0(t,"You must render this element inside a <HydratedRouter> element"),t}function e4(t,e){let n=N.useContext(K0),[r,o]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:f,onTouchStart:y}=e,b=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=O=>{O.forEach(B=>{c(B.isIntersecting)})},L=new IntersectionObserver(R,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[t]),N.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let E=()=>{o(!0)},T=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Wc(u,E),onBlur:Wc(h,T),onMouseEnter:Wc(p,E),onMouseLeave:Wc(f,T),onTouchStart:Wc(y,E)}]:[!1,b,{}]}function Wc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function t4({page:t,...e}){let{router:n}=v_(),r=N.useMemo(()=>c_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(s4,{page:t,matches:r,...e}):null}function n4(t){let{manifest:e,routeModules:n}=b_(),[r,o]=N.useState([]);return N.useEffect(()=>{let l=!1;return K3(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function s4({page:t,matches:e,...n}){let r=Us(),{manifest:o,routeModules:l}=b_(),{basename:c}=v_(),{loaderData:u,matches:h}=Z3(),p=N.useMemo(()=>zv(t,e,h,o,r,"data"),[t,e,h,o,r]),f=N.useMemo(()=>zv(t,e,h,o,r,"assets"),[t,e,h,o,r]),y=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,R=!1;if(e.forEach(O=>{var I;let B=o.routes[O.route.id];!B||!B.hasLoader||(!p.some(v=>v.route.id===O.route.id)&&O.route.id in u&&((I=l[O.route.id])!=null&&I.shouldRevalidate)||B.hasClientLoader?R=!0:T.add(O.route.id))}),T.size===0)return[];let L=W3(t,c,"data");return R&&T.size>0&&L.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[L.pathname+L.search]},[c,u,r,o,p,e,t,l]),b=N.useMemo(()=>Q3(f,o),[f,o]),E=n4(f);return N.createElement(N.Fragment,null,y.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),E.map(({key:T,link:R})=>N.createElement("link",{key:T,nonce:n.nonce,...R})))}function r4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w_=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{w_&&(window.__reactRouterVersion="7.9.1")}catch(t){}function i4({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=HT({window:n,v5Compat:!0}));let o=r.current,[l,c]=N.useState({action:o.action,location:o.location}),u=N.useCallback(h=>{N.startTransition(()=>c(h))},[c]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.createElement(D3,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var __=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:u,target:h,to:p,preventScrollReset:f,viewTransition:y,...b},E){let{basename:T}=N.useContext(Dr),R=typeof p=="string"&&__.test(p),L,O=!1;if(typeof p=="string"&&R&&(L=p,w_))try{let A=new URL(window.location.href),F=p.startsWith("//")?new URL(A.protocol+p):new URL(p),P=Fi(F.pathname,T);F.origin===A.origin&&P!=null?p=P+F.search+F.hash:O=!0}catch(A){$s(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=y3(p,{relative:o}),[I,v,_]=e4(r,b),D=l4(p,{replace:c,state:u,target:h,preventScrollReset:f,relative:o,viewTransition:y});function k(A){e&&e(A),A.defaultPrevented||D(A)}let S=N.createElement("a",{...b,..._,href:L||B,onClick:O||l?e:k,ref:r4(E,v),target:h,"data-discover":!R&&n==="render"?"true":void 0});return I&&!R?N.createElement(N.Fragment,null,S,N.createElement(t4,{page:B})):S});Dt.displayName="Link";var os=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:u,children:h,...p},f){let y=Uu(c,{relative:p.relative}),b=Us(),E=N.useContext(Dp),{navigator:T,basename:R}=N.useContext(Dr),L=E!=null&&p4(y)&&u===!0,O=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,B=b.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(B=B.toLowerCase(),I=I?I.toLowerCase():null,O=O.toLowerCase()),I&&R&&(I=Fi(I,R)||I);const v=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let _=B===O||!o&&B.startsWith(O)&&B.charAt(v)==="/",D=I!=null&&(I===O||!o&&I.startsWith(O)&&I.charAt(O.length)==="/"),k={isActive:_,isPending:D,isTransitioning:L},S=_?e:void 0,A;typeof r=="function"?A=r(k):A=[r,_?"active":null,D?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(k):l;return N.createElement(Dt,{...p,"aria-current":S,className:A,ref:f,style:F,to:c,viewTransition:u},typeof h=="function"?h(k):h)});os.displayName="NavLink";var o4=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=Wh,action:u,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:y,...b},E)=>{let T=d4(),R=h4(u,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&__.test(u),B=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let v=I.nativeEvent.submitter,_=(v==null?void 0:v.getAttribute("formmethod"))||c;T(v||I.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:o,state:l,relative:p,preventScrollReset:f,viewTransition:y})};return N.createElement("form",{ref:E,method:L,action:R,onSubmit:r?h:B,...b,"data-discover":!O&&t==="render"?"true":void 0})});o4.displayName="Form";function a4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j_(t){let e=N.useContext(Ql);return $t(e,a4(t)),e}function l4(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let u=No(),h=Us(),p=Uu(t,{relative:l});return N.useCallback(f=>{if($3(f,e)){f.preventDefault();let y=n!==void 0?n:_u(h)===_u(p);u(t,{replace:y,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[h,u,p,n,r,e,t,o,l,c])}function Yl(t){$s(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=N.useRef(Kg(t)),n=N.useRef(!1),r=Us(),o=N.useMemo(()=>O3(r.search,n.current?null:e.current),[r.search]),l=No(),c=N.useCallback((u,h)=>{const p=Kg(typeof u=="function"?u(new URLSearchParams(o)):u);n.current=!0,l("?"+p,h)},[l,o]);return[o,c]}var c4=0,u4=()=>`__${String(++c4)}__`;function d4(){let{router:t}=j_("useSubmit"),{basename:e}=N.useContext(Dr),n=N3();return N.useCallback(async(r,o={})=>{let{action:l,method:c,encType:u,formData:h,body:p}=H3(r,e);if(o.navigate===!1){let f=o.fetcherKey||u4();await t.fetch(f,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function h4(t,{relative:e}={}){let{basename:n}=N.useContext(Dr),r=N.useContext(lr);$t(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Uu(t||".",{relative:e})},c=Us();if(t==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(f=>f==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let f=u.toString();l.search=f?`?${f}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Li([n,l.pathname])),_u(l)}function p4(t,{relative:e}={}){let n=N.useContext(p_);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=j_("useViewTransitionState"),o=Uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ap(o.pathname,c)!=null||ap(o.pathname,l)!=null}var m4=l_();const f4=V0(m4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Hv=t=>{const e=y4(t);return e.charAt(0).toUpperCase()+e.slice(1)},S_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),x4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...u},h)=>N.createElement("svg",{ref:h,...v4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:S_("lucide",o),...!l&&!x4(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,f])=>N.createElement(p,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(t,e)=>{const n=N.forwardRef(({className:r,...o},l)=>N.createElement(b4,{ref:l,iconNode:e,className:S_(`lucide-${g4(Hv(t))}`,`lucide-${t}`,r),...o}));return n.displayName=Hv(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Mp=Xe("aperture",w4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],j4=Xe("arrow-up-right",_4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],k4=Xe("bell",S4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T4=Xe("book-open",E4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],A4=Xe("chart-column",C4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I4=Xe("chevron-right",N4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],qh=Xe("circle-dot",R4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D4=Xe("clock-3",P4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],M4=Xe("cloud-upload",L4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B4=Xe("compass",F4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$4=Xe("database",V4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],k_=Xe("diamond",O4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],z4=Xe("file-text",U4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],W4=Xe("folder-search",H4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q4=Xe("globe",G4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],E_=Xe("hexagon",K4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],X4=Xe("house",Q4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],J4=Xe("layers",Y4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eC=Xe("layout-dashboard",Z4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],T_=Xe("loader-circle",tC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],sC=Xe("messages-square",nC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],iC=Xe("pin-off",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],aC=Xe("pin",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],cC=Xe("refresh-ccw",lC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],dC=Xe("server-cog",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pC=Xe("settings",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],C_=Xe("shapes",mC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],A_=Xe("shield-alert",fC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yC=Xe("shield-check",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zu=Xe("shield",xC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],bC=Xe("square-activity",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_C=Xe("star",wC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Q0=Xe("triangle-alert",jC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],kC=Xe("trophy",SC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],TC=Xe("upload",EC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X0=Xe("users",CC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],N_=Xe("zap",AC),NC="_topbar_1rfl9_3",IC="_topbarLeft_1rfl9_39",RC="_searchWrap_1rfl9_55",PC="_topbarRight_1rfl9_109",DC="_ico_1rfl9_125",LC="_btnIco_1rfl9_139",MC="_pill_1rfl9_173",FC="_onlyExpanded_1rfl9_195",BC="_upload_1rfl9_201",VC="_label_1rfl9_231",$C="_avatarBtn_1rfl9_237",OC="_avatar_1rfl9_237",Gn={topbar:NC,topbarLeft:IC,searchWrap:RC,topbarRight:PC,ico:DC,btnIco:LC,pill:MC,onlyExpanded:FC,upload:BC,label:VC,avatarBtn:$C,avatar:OC},I_=N.createContext(null);function UC({children:t,role:e}){const[n,r]=N.useState(!1),[o,l]=N.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),u=N.useCallback(f=>{c&&(f!=null&&f.tab?l(f.tab):l("csv"),r(!0))},[c]),h=N.useCallback(()=>r(!1),[]),p=N.useMemo(()=>({isOpen:n,open:u,close:h,activeTab:o,setTab:l,canUse:c}),[n,u,h,o,c]);return s.jsx(I_.Provider,{value:p,children:t})}function R_(){const t=N.useContext(I_);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var Wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],u=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,u=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,f=l>>2,y=(l&3)<<4|u>>4;let b=(u&15)<<2|p>>6,E=p&63;h||(E=64,c||(b=64)),r.push(n[f],n[y],n[b],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],u=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||u==null||p==null||y==null)throw new HC;const b=l<<2|u>>4;if(r.push(b),p!==64){const E=u<<4&240|p>>2;if(r.push(E),y!==64){const T=p<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WC=function(t){const e=P_(t);return D_.encodeByteArray(e,!0)},lp=function(t){return WC(t).replace(/\./g,"")},GC=function(t){try{return D_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=()=>qC().__FIREBASE_DEFAULTS__,QC=()=>{if(typeof process=="undefined"||typeof Wv=="undefined")return;const t=Wv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XC=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&GC(t[1]);return e&&JSON.parse(e)},Y0=()=>{try{return KC()||QC()||XC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YC=t=>{var e,n;return(n=(e=Y0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JC=t=>{const e=YC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L_=()=>{var t;return(t=Y0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lp(JSON.stringify(n)),lp(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n5(){var t;const e=(t=Y0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function s5(){return!n5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r5(){try{return typeof indexedDB=="object"}catch(t){return!1}}function i5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FirebaseError";class Jl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o5,Object.setPrototypeOf(this,Jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M_.prototype.create)}}class M_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?a5(l,r):"Error",u=`${this.serviceName}: ${c} (${o}).`;return new Jl(o,u,r)}}function a5(t,e){return t.replace(l5,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const l5=/\{\$([^}]+)}/g;function Qg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(Gv(l)&&Gv(c)){if(!Qg(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Gv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class ju{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d5(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);r===u&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u5(t){return t===ha?void 0:t}function d5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const p5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},m5=lt.INFO,f5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},g5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=f5[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F_{constructor(e){this.name=e,this._logLevel=m5,this._logHandler=g5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const y5=(t,e)=>e.some(n=>t instanceof n);let qv,Kv;function x5(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v5(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,Xg=new WeakMap,V_=new WeakMap,Kf=new WeakMap,J0=new WeakMap;function b5(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(_o(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&B_.set(n,t)}).catch(()=>{}),J0.set(e,t),e}function w5(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xg.set(t,e)}let Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _5(t){Yg=t(Yg)}function j5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qf(this),e,...n);return V_.set(r,e.sort?e.sort():[e]),_o(r)}:v5().includes(t)?function(...e){return t.apply(Qf(this),e),_o(B_.get(this))}:function(...e){return _o(t.apply(Qf(this),e))}}function S5(t){return typeof t=="function"?j5(t):(t instanceof IDBTransaction&&w5(t),y5(t,x5())?new Proxy(t,Yg):t)}function _o(t){if(t instanceof IDBRequest)return b5(t);if(Kf.has(t))return Kf.get(t);const e=S5(t);return e!==t&&(Kf.set(t,e),J0.set(e,t)),e}const Qf=t=>J0.get(t);function k5(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),u=_o(c);return r&&c.addEventListener("upgradeneeded",h=>{r(_o(c.result),h.oldVersion,h.newVersion,_o(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const E5=["get","getKey","getAll","getAllKeys","count"],T5=["put","add","delete","clear"],Xf=new Map;function Qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=T5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||E5.includes(n)))return;const l=async function(c,...u){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),o&&h.done]))[0]};return Xf.set(e,l),l}_5(t=>({...t,get:(e,n,r)=>Qv(e,n)||t.get(e,n,r),has:(e,n)=>!!Qv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",Xv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new F_("@firebase/app"),N5="@firebase/app-compat",I5="@firebase/analytics-compat",R5="@firebase/analytics",P5="@firebase/app-check-compat",D5="@firebase/app-check",L5="@firebase/auth",M5="@firebase/auth-compat",F5="@firebase/database",B5="@firebase/data-connect",V5="@firebase/database-compat",$5="@firebase/functions",O5="@firebase/functions-compat",U5="@firebase/installations",z5="@firebase/installations-compat",H5="@firebase/messaging",W5="@firebase/messaging-compat",G5="@firebase/performance",q5="@firebase/performance-compat",K5="@firebase/remote-config",Q5="@firebase/remote-config-compat",X5="@firebase/storage",Y5="@firebase/storage-compat",J5="@firebase/firestore",Z5="@firebase/vertexai-preview",eA="@firebase/firestore-compat",tA="firebase",nA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",sA={[Jg]:"fire-core",[N5]:"fire-core-compat",[R5]:"fire-analytics",[I5]:"fire-analytics-compat",[D5]:"fire-app-check",[P5]:"fire-app-check-compat",[L5]:"fire-auth",[M5]:"fire-auth-compat",[F5]:"fire-rtdb",[B5]:"fire-data-connect",[V5]:"fire-rtdb-compat",[$5]:"fire-fn",[O5]:"fire-fn-compat",[U5]:"fire-iid",[z5]:"fire-iid-compat",[H5]:"fire-fcm",[W5]:"fire-fcm-compat",[G5]:"fire-perf",[q5]:"fire-perf-compat",[K5]:"fire-rc",[Q5]:"fire-rc-compat",[X5]:"fire-gcs",[Y5]:"fire-gcs-compat",[J5]:"fire-fst",[eA]:"fire-fst-compat",[Z5]:"fire-vertex","fire-js":"fire-js",[tA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,rA=new Map,e0=new Map;function Yv(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cp(t){const e=t.name;if(e0.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;e0.set(e,t);for(const n of Su.values())Yv(n,t);for(const n of rA.values())Yv(n,t);return!0}function iA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new M_("app","Firebase",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=nA;function $_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw jo.create("bad-app-name",{appName:String(o)});if(n||(n=L_()),!n)throw jo.create("no-options");const l=Su.get(o);if(l){if(Qg(n,l.options)&&Qg(r,l.config))return l;throw jo.create("duplicate-app",{appName:o})}const c=new h5(o);for(const h of e0.values())c.addComponent(h);const u=new aA(n,r,c);return Su.set(o,u),u}function O_(t=Zg){const e=Su.get(t);if(!e&&t===Zg&&L_())return $_();if(!e)throw jo.create("no-app",{appName:t});return e}function cA(){return Array.from(Su.values())}function Rl(t,e,n){var r;let o=(r=sA[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const u=[`Unable to register library "${o}" with version "${e}":`];l&&u.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(u.join(" "));return}cp(new ju(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebase-heartbeat-database",dA=1,ku="firebase-heartbeat-store";let Yf=null;function U_(){return Yf||(Yf=k5(uA,dA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw jo.create("idb-open",{originalErrorMessage:t.message})})),Yf}async function hA(t){try{const n=(await U_()).transaction(ku),r=await n.objectStore(ku).get(z_(t));return await n.done,r}catch(e){if(e instanceof Jl)Bi.warn(e.message);else{const n=jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function Jv(t,e){try{const r=(await U_()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,z_(t)),await r.done}catch(n){if(n instanceof Jl)Bi.warn(n.message);else{const r=jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function z_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1024,mA=720*60*60*1e3;class fA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Zv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const u=new Date(c.date).valueOf();return Date.now()-u<=mA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zv(),{heartbeatsToSend:r,unsentEntries:o}=gA(this._heartbeatsCache.heartbeats),l=lp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Bi.warn(n),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function gA(t,e=pA){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),e2(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),e2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r5()?i5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function e2(t){return lp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){cp(new ju("platform-logger",e=>new C5(e),"PRIVATE")),cp(new ju("heartbeat",e=>new fA(e),"PRIVATE")),Rl(Jg,Xv,t),Rl(Jg,Xv,"esm2017"),Rl("fire-js","")}xA("");var t2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,H_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function A(){}A.prototype=S.prototype,k.D=S.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(F,P,V){for(var $=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)$[ie-2]=arguments[ie];return S.prototype[P].apply(F,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,A){A||(A=0);var F=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)F[P]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(P=0;16>P;++P)F[P]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=k.g[0],A=k.g[1],P=k.g[2];var V=k.g[3],$=S+(V^A&(P^V))+F[0]+3614090360&4294967295;S=A+($<<7&4294967295|$>>>25),$=V+(P^S&(A^P))+F[1]+3905402710&4294967295,V=S+($<<12&4294967295|$>>>20),$=P+(A^V&(S^A))+F[2]+606105819&4294967295,P=V+($<<17&4294967295|$>>>15),$=A+(S^P&(V^S))+F[3]+3250441966&4294967295,A=P+($<<22&4294967295|$>>>10),$=S+(V^A&(P^V))+F[4]+4118548399&4294967295,S=A+($<<7&4294967295|$>>>25),$=V+(P^S&(A^P))+F[5]+1200080426&4294967295,V=S+($<<12&4294967295|$>>>20),$=P+(A^V&(S^A))+F[6]+2821735955&4294967295,P=V+($<<17&4294967295|$>>>15),$=A+(S^P&(V^S))+F[7]+4249261313&4294967295,A=P+($<<22&4294967295|$>>>10),$=S+(V^A&(P^V))+F[8]+1770035416&4294967295,S=A+($<<7&4294967295|$>>>25),$=V+(P^S&(A^P))+F[9]+2336552879&4294967295,V=S+($<<12&4294967295|$>>>20),$=P+(A^V&(S^A))+F[10]+4294925233&4294967295,P=V+($<<17&4294967295|$>>>15),$=A+(S^P&(V^S))+F[11]+2304563134&4294967295,A=P+($<<22&4294967295|$>>>10),$=S+(V^A&(P^V))+F[12]+1804603682&4294967295,S=A+($<<7&4294967295|$>>>25),$=V+(P^S&(A^P))+F[13]+4254626195&4294967295,V=S+($<<12&4294967295|$>>>20),$=P+(A^V&(S^A))+F[14]+2792965006&4294967295,P=V+($<<17&4294967295|$>>>15),$=A+(S^P&(V^S))+F[15]+1236535329&4294967295,A=P+($<<22&4294967295|$>>>10),$=S+(P^V&(A^P))+F[1]+4129170786&4294967295,S=A+($<<5&4294967295|$>>>27),$=V+(A^P&(S^A))+F[6]+3225465664&4294967295,V=S+($<<9&4294967295|$>>>23),$=P+(S^A&(V^S))+F[11]+643717713&4294967295,P=V+($<<14&4294967295|$>>>18),$=A+(V^S&(P^V))+F[0]+3921069994&4294967295,A=P+($<<20&4294967295|$>>>12),$=S+(P^V&(A^P))+F[5]+3593408605&4294967295,S=A+($<<5&4294967295|$>>>27),$=V+(A^P&(S^A))+F[10]+38016083&4294967295,V=S+($<<9&4294967295|$>>>23),$=P+(S^A&(V^S))+F[15]+3634488961&4294967295,P=V+($<<14&4294967295|$>>>18),$=A+(V^S&(P^V))+F[4]+3889429448&4294967295,A=P+($<<20&4294967295|$>>>12),$=S+(P^V&(A^P))+F[9]+568446438&4294967295,S=A+($<<5&4294967295|$>>>27),$=V+(A^P&(S^A))+F[14]+3275163606&4294967295,V=S+($<<9&4294967295|$>>>23),$=P+(S^A&(V^S))+F[3]+4107603335&4294967295,P=V+($<<14&4294967295|$>>>18),$=A+(V^S&(P^V))+F[8]+1163531501&4294967295,A=P+($<<20&4294967295|$>>>12),$=S+(P^V&(A^P))+F[13]+2850285829&4294967295,S=A+($<<5&4294967295|$>>>27),$=V+(A^P&(S^A))+F[2]+4243563512&4294967295,V=S+($<<9&4294967295|$>>>23),$=P+(S^A&(V^S))+F[7]+1735328473&4294967295,P=V+($<<14&4294967295|$>>>18),$=A+(V^S&(P^V))+F[12]+2368359562&4294967295,A=P+($<<20&4294967295|$>>>12),$=S+(A^P^V)+F[5]+4294588738&4294967295,S=A+($<<4&4294967295|$>>>28),$=V+(S^A^P)+F[8]+2272392833&4294967295,V=S+($<<11&4294967295|$>>>21),$=P+(V^S^A)+F[11]+1839030562&4294967295,P=V+($<<16&4294967295|$>>>16),$=A+(P^V^S)+F[14]+4259657740&4294967295,A=P+($<<23&4294967295|$>>>9),$=S+(A^P^V)+F[1]+2763975236&4294967295,S=A+($<<4&4294967295|$>>>28),$=V+(S^A^P)+F[4]+1272893353&4294967295,V=S+($<<11&4294967295|$>>>21),$=P+(V^S^A)+F[7]+4139469664&4294967295,P=V+($<<16&4294967295|$>>>16),$=A+(P^V^S)+F[10]+3200236656&4294967295,A=P+($<<23&4294967295|$>>>9),$=S+(A^P^V)+F[13]+681279174&4294967295,S=A+($<<4&4294967295|$>>>28),$=V+(S^A^P)+F[0]+3936430074&4294967295,V=S+($<<11&4294967295|$>>>21),$=P+(V^S^A)+F[3]+3572445317&4294967295,P=V+($<<16&4294967295|$>>>16),$=A+(P^V^S)+F[6]+76029189&4294967295,A=P+($<<23&4294967295|$>>>9),$=S+(A^P^V)+F[9]+3654602809&4294967295,S=A+($<<4&4294967295|$>>>28),$=V+(S^A^P)+F[12]+3873151461&4294967295,V=S+($<<11&4294967295|$>>>21),$=P+(V^S^A)+F[15]+530742520&4294967295,P=V+($<<16&4294967295|$>>>16),$=A+(P^V^S)+F[2]+3299628645&4294967295,A=P+($<<23&4294967295|$>>>9),$=S+(P^(A|~V))+F[0]+4096336452&4294967295,S=A+($<<6&4294967295|$>>>26),$=V+(A^(S|~P))+F[7]+1126891415&4294967295,V=S+($<<10&4294967295|$>>>22),$=P+(S^(V|~A))+F[14]+2878612391&4294967295,P=V+($<<15&4294967295|$>>>17),$=A+(V^(P|~S))+F[5]+4237533241&4294967295,A=P+($<<21&4294967295|$>>>11),$=S+(P^(A|~V))+F[12]+1700485571&4294967295,S=A+($<<6&4294967295|$>>>26),$=V+(A^(S|~P))+F[3]+2399980690&4294967295,V=S+($<<10&4294967295|$>>>22),$=P+(S^(V|~A))+F[10]+4293915773&4294967295,P=V+($<<15&4294967295|$>>>17),$=A+(V^(P|~S))+F[1]+2240044497&4294967295,A=P+($<<21&4294967295|$>>>11),$=S+(P^(A|~V))+F[8]+1873313359&4294967295,S=A+($<<6&4294967295|$>>>26),$=V+(A^(S|~P))+F[15]+4264355552&4294967295,V=S+($<<10&4294967295|$>>>22),$=P+(S^(V|~A))+F[6]+2734768916&4294967295,P=V+($<<15&4294967295|$>>>17),$=A+(V^(P|~S))+F[13]+1309151649&4294967295,A=P+($<<21&4294967295|$>>>11),$=S+(P^(A|~V))+F[4]+4149444226&4294967295,S=A+($<<6&4294967295|$>>>26),$=V+(A^(S|~P))+F[11]+3174756917&4294967295,V=S+($<<10&4294967295|$>>>22),$=P+(S^(V|~A))+F[2]+718787259&4294967295,P=V+($<<15&4294967295|$>>>17),$=A+(V^(P|~S))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+V&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var A=S-this.blockSize,F=this.B,P=this.h,V=0;V<S;){if(P==0)for(;V<=A;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<S;)if(F[P++]=k.charCodeAt(V++),P==this.blockSize){o(this,F),P=0;break}}else for(;V<S;)if(F[P++]=k[V++],P==this.blockSize){o(this,F),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var A=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=A&255,A/=256;for(this.u(k),k=Array(16),S=A=0;4>S;++S)for(var F=0;32>F;F+=8)k[A++]=this.g[S]>>>F&255;return k};function l(k,S){var A=u;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=S(k)}function c(k,S){this.h=S;for(var A=[],F=!0,P=k.length-1;0<=P;P--){var V=k[P]|0;F&&V==S||(A[P]=V,F=!1)}this.g=A}var u={};function h(k){return-128<=k&&128>k?l(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return L(p(-k));for(var S=[],A=1,F=0;k>=A;F++)S[F]=k/A|0,A*=4294967296;return new c(S,0)}function f(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return L(f(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(S,8)),F=y,P=0;P<k.length;P+=8){var V=Math.min(8,k.length-P),$=parseInt(k.substring(P,P+V),S);8>V?(V=p(Math.pow(S,V)),F=F.j(V).add(p($))):(F=F.j(A),F=F.add(p($)))}return F}var y=h(0),b=h(1),E=h(16777216);t=c.prototype,t.m=function(){if(R(this))return-L(this).m();for(var k=0,S=1,A=0;A<this.g.length;A++){var F=this.i(A);k+=(0<=F?F:4294967296+F)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(R(this))return"-"+L(this).toString(k);for(var S=p(Math.pow(k,6)),A=this,F="";;){var P=v(A,S).g;A=O(A,P.j(S));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=P,T(A))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function R(k){return k.h==-1}t.l=function(k){return k=O(this,k),R(k)?-1:T(k)?0:1};function L(k){for(var S=k.g.length,A=[],F=0;F<S;F++)A[F]=~k.g[F];return new c(A,~k.h).add(b)}t.abs=function(){return R(this)?L(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],F=0,P=0;P<=S;P++){var V=F+(this.i(P)&65535)+(k.i(P)&65535),$=(V>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);F=$>>>16,V&=65535,$&=65535,A[P]=$<<16|V}return new c(A,A[A.length-1]&-2147483648?-1:0)};function O(k,S){return k.add(L(S))}t.j=function(k){if(T(this)||T(k))return y;if(R(this))return R(k)?L(this).j(L(k)):L(L(this).j(k));if(R(k))return L(this.j(L(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var S=this.g.length+k.g.length,A=[],F=0;F<2*S;F++)A[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<k.g.length;P++){var V=this.i(F)>>>16,$=this.i(F)&65535,ie=k.i(P)>>>16,H=k.i(P)&65535;A[2*F+2*P]+=$*H,B(A,2*F+2*P),A[2*F+2*P+1]+=V*H,B(A,2*F+2*P+1),A[2*F+2*P+1]+=$*ie,B(A,2*F+2*P+1),A[2*F+2*P+2]+=V*ie,B(A,2*F+2*P+2)}for(F=0;F<S;F++)A[F]=A[2*F+1]<<16|A[2*F];for(F=S;F<2*S;F++)A[F]=0;return new c(A,0)};function B(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function I(k,S){this.g=k,this.h=S}function v(k,S){if(T(S))throw Error("division by zero");if(T(k))return new I(y,y);if(R(k))return S=v(L(k),S),new I(L(S.g),L(S.h));if(R(S))return S=v(k,L(S)),new I(L(S.g),S.h);if(30<k.g.length){if(R(k)||R(S))throw Error("slowDivide_ only works with positive integers.");for(var A=b,F=S;0>=F.l(k);)A=_(A),F=_(F);var P=D(A,1),V=D(F,1);for(F=D(F,2),A=D(A,2);!T(F);){var $=V.add(F);0>=$.l(k)&&(P=P.add(A),V=$),F=D(F,1),A=D(A,1)}return S=O(k,P.j(S)),new I(P,S)}for(P=y;0<=k.l(S);){for(A=Math.max(1,Math.floor(k.m()/S.m())),F=Math.ceil(Math.log(A)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=p(A),$=V.j(S);R($)||0<$.l(k);)A-=F,V=p(A),$=V.j(S);T(V)&&(V=b),P=P.add(V),k=O(k,$)}return new I(P,k)}t.A=function(k){return v(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],F=0;F<S;F++)A[F]=this.i(F)&k.i(F);return new c(A,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],F=0;F<S;F++)A[F]=this.i(F)|k.i(F);return new c(A,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),A=[],F=0;F<S;F++)A[F]=this.i(F)^k.i(F);return new c(A,this.h^k.h)};function _(k){for(var S=k.g.length+1,A=[],F=0;F<S;F++)A[F]=k.i(F)<<1|k.i(F-1)>>>31;return new c(A,k.h)}function D(k,S){var A=S>>5;S%=32;for(var F=k.g.length-A,P=[],V=0;V<F;V++)P[V]=0<S?k.i(V+A)>>>S|k.i(V+A+1)<<32-S:k.i(V+A);return new c(P,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H_=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=f,xa=c}).apply(typeof t2!="undefined"?t2:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Sh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W_,nu,G_,Kh,t0,q_,K_,Q_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,C){return m==Array.prototype||m==Object.prototype||(m[w]=C.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var w=0;w<m.length;++w){var C=m[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function o(m,w){if(w)e:{var C=r;m=m.split(".");for(var U=0;U<m.length-1;U++){var J=m[U];if(!(J in C))break e;C=C[J]}m=m[m.length-1],U=C[m],w=w(U),w!=U&&w!=null&&e(C,m,{configurable:!0,writable:!0,value:w})}}function l(m,w){m instanceof String&&(m+="");var C=0,U=!1,J={next:function(){if(!U&&C<m.length){var re=C++;return{value:w(re,m[re]),done:!1}}return U=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}o("Array.prototype.values",function(m){return m||function(){return l(this,function(w,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function p(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function f(m,w,C){return m.call.apply(m.bind,arguments)}function y(m,w,C){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,U),m.apply(w,J)}}return function(){return m.apply(w,arguments)}}function b(m,w,C){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:y,b.apply(null,arguments)}function E(m,w){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function T(m,w){function C(){}C.prototype=w.prototype,m.aa=w.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(U,J,re){for(var xe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)xe[pt-2]=arguments[pt];return w.prototype[J].apply(U,xe)}}function R(m){const w=m.length;if(0<w){const C=Array(w);for(let U=0;U<w;U++)C[U]=m[U];return C}return[]}function L(m,w){for(let C=1;C<arguments.length;C++){const U=arguments[C];if(h(U)){const J=m.length||0,re=U.length||0;m.length=J+re;for(let xe=0;xe<re;xe++)m[J+xe]=U[xe]}else m.push(U)}}class O{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function B(m){return/^[\s\xa0]*$/.test(m)}function I(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function v(m){return v[" "](m),m}v[" "]=function(){};var _=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function D(m,w,C){for(const U in m)w.call(C,m[U],U,m)}function k(m,w){for(const C in m)w.call(void 0,m[C],C,m)}function S(m){const w={};for(const C in m)w[C]=m[C];return w}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,w){let C,U;for(let J=1;J<arguments.length;J++){U=arguments[J];for(C in U)m[C]=U[C];for(let re=0;re<A.length;re++)C=A[re],Object.prototype.hasOwnProperty.call(U,C)&&(m[C]=U[C])}}function P(m){var w=1;m=m.split(":");const C=[];for(;0<w&&m.length;)C.push(m.shift()),w--;return m.length&&C.push(m.join(":")),C}function V(m){u.setTimeout(()=>{throw m},0)}function $(){var m=ae;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class ie{constructor(){this.h=this.g=null}add(w,C){const U=H.get();U.set(w,C),this.h?this.h.next=U:this.g=U,this.h=U}}var H=new O(()=>new se,m=>m.reset());class se{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let K,X=!1,ae=new ie,le=()=>{const m=u.Promise.resolve(void 0);K=()=>{m.then(W)}};var W=()=>{for(var m;m=$();){try{m.h.call(m.g)}catch(C){V(C)}var w=H;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}X=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var je=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,w),u.removeEventListener("test",C,w)}catch(C){}return m})();function Ee(m,w){if(ye.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(_){e:{try{v(w.nodeName);var J=!0;break e}catch(re){}J=!1}J||(w=null)}}else C=="mouseover"?w=m.fromElement:C=="mouseout"&&(w=m.toElement);this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ge[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ee.aa.h.call(this)}}T(Ee,ye);var ge={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function De(m,w,C,U,J){this.listener=m,this.proxy=null,this.src=w,this.type=C,this.capture=!!U,this.ha=J,this.key=++Ie,this.da=this.fa=!1}function rt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Lt(m){this.src=m,this.g={},this.h=0}Lt.prototype.add=function(m,w,C,U,J){var re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);var xe=jt(m,w,U,J);return-1<xe?(w=m[xe],C||(w.fa=!1)):(w=new De(w,this.src,re,!!U,J),w.fa=C,m.push(w)),w};function ht(m,w){var C=w.type;if(C in m.g){var U=m.g[C],J=Array.prototype.indexOf.call(U,w,void 0),re;(re=0<=J)&&Array.prototype.splice.call(U,J,1),re&&(rt(w),m.g[C].length==0&&(delete m.g[C],m.h--))}}function jt(m,w,C,U){for(var J=0;J<m.length;++J){var re=m[J];if(!re.da&&re.listener==w&&re.capture==!!C&&re.ha==U)return J}return-1}var gt="closure_lm_"+(1e6*Math.random()|0),ls={};function cs(m,w,C,U,J){if(Array.isArray(w)){for(var re=0;re<w.length;re++)cs(m,w[re],C,U,J);return null}return C=Ts(C),m&&m[Ae]?m.K(w,C,p(U)?!!U.capture:!1,J):yt(m,w,C,!1,U,J)}function yt(m,w,C,U,J,re){if(!w)throw Error("Invalid event type");var xe=p(J)?!!J.capture:!!J,pt=ds(m);if(pt||(m[gt]=pt=new Lt(m)),C=pt.add(w,C,U,xe,re),C.proxy)return C;if(U=zs(),C.proxy=U,U.src=m,U.listener=C,m.addEventListener)je||(J=xe),J===void 0&&(J=!1),m.addEventListener(w.toString(),U,J);else if(m.attachEvent)m.attachEvent(Tn(w.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function zs(){function m(C){return w.call(m.src,m.listener,C)}const w=Es;return m}function us(m,w,C,U,J){if(Array.isArray(w))for(var re=0;re<w.length;re++)us(m,w[re],C,U,J);else U=p(U)?!!U.capture:!!U,C=Ts(C),m&&m[Ae]?(m=m.i,w=String(w).toString(),w in m.g&&(re=m.g[w],C=jt(re,C,U,J),-1<C&&(rt(re[C]),Array.prototype.splice.call(re,C,1),re.length==0&&(delete m.g[w],m.h--)))):m&&(m=ds(m))&&(w=m.g[w.toString()],m=-1,w&&(m=jt(w,C,U,J)),(C=-1<m?w[m]:null)&&En(C))}function En(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Ae])ht(w.i,m);else{var C=m.type,U=m.proxy;w.removeEventListener?w.removeEventListener(C,U,m.capture):w.detachEvent?w.detachEvent(Tn(C),U):w.addListener&&w.removeListener&&w.removeListener(U),(C=ds(w))?(ht(C,m),C.h==0&&(C.src=null,w[gt]=null)):rt(m)}}}function Tn(m){return m in ls?ls[m]:ls[m]="on"+m}function Es(m,w){if(m.da)m=!0;else{w=new Ee(w,this);var C=m.listener,U=m.ha||m.src;m.fa&&En(m),m=C.call(U,w)}return m}function ds(m){return m=m[gt],m instanceof Lt?m:null}var hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ts(m){return typeof m=="function"?m:(m[hs]||(m[hs]=function(w){return m.handleEvent(w)}),m[hs])}function St(){ne.call(this),this.i=new Lt(this),this.M=this,this.F=null}T(St,ne),St.prototype[Ae]=!0,St.prototype.removeEventListener=function(m,w,C,U){us(this,m,w,C,U)};function it(m,w){var C,U=m.F;if(U)for(C=[];U;U=U.F)C.push(U);if(m=m.M,U=w.type||w,typeof w=="string")w=new ye(w,m);else if(w instanceof ye)w.target=w.target||m;else{var J=w;w=new ye(U,m),F(w,J)}if(J=!0,C)for(var re=C.length-1;0<=re;re--){var xe=w.g=C[re];J=ps(xe,U,!0,w)&&J}if(xe=w.g=m,J=ps(xe,U,!0,w)&&J,J=ps(xe,U,!1,w)&&J,C)for(re=0;re<C.length;re++)xe=w.g=C[re],J=ps(xe,U,!1,w)&&J}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var C=m.g[w],U=0;U<C.length;U++)rt(C[U]);delete m.g[w],m.h--}}this.F=null},St.prototype.K=function(m,w,C,U){return this.i.add(String(m),w,!1,C,U)},St.prototype.L=function(m,w,C,U){return this.i.add(String(m),w,!0,C,U)};function ps(m,w,C,U){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,re=0;re<w.length;++re){var xe=w[re];if(xe&&!xe.da&&xe.capture==C){var pt=xe.listener,pn=xe.ha||xe.src;xe.fa&&ht(m.i,xe),J=pt.call(pn,U)!==!1&&J}}return J&&!U.defaultPrevented}function cr(m,w,C){if(typeof m=="function")C&&(m=b(m,C));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(m,w||0)}function xt(m){m.g=cr(()=>{m.g=null,m.i&&(m.i=!1,xt(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Hs extends ne{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(m){ne.call(this),this.h=m,this.g={}}T(Ws,ne);var Fr=[];function Br(m){D(m.g,function(w,C){this.g.hasOwnProperty(C)&&En(w)},m),m.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),Br(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=u.JSON.stringify,li=u.JSON.parse,$r=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Cs(){}Cs.prototype.h=null;function kt(m){return m.h||(m.h=m.i())}function ur(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){ye.call(this,"d")}T(As,ye);function ci(){ye.call(this,"c")}T(ci,ye);var Or={},oc=null;function Do(){return oc=oc||new St}Or.La="serverreachability";function ac(m){ye.call(this,Or.La,m)}T(ac,ye);function ui(m){const w=Do();it(w,new ac(w))}Or.STAT_EVENT="statevent";function lc(m,w){ye.call(this,Or.STAT_EVENT,m),this.stat=w}T(lc,ye);function Yt(m){const w=Do();it(w,new lc(w,m))}Or.Ma="timingevent";function Ia(m,w){ye.call(this,Or.Ma,m),this.size=w}T(Ia,ye);function dr(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},w)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function Mo(m,w,C,U,J,re){m.info(function(){if(m.g)if(re)for(var xe="",pt=re.split("&"),pn=0;pn<pt.length;pn++){var nt=pt[pn].split("=");if(1<nt.length){var xn=nt[0];nt=nt[1];var nn=xn.split("_");xe=2<=nn.length&&nn[1]=="type"?xe+(xn+"="+nt+"&"):xe+(xn+"=redacted&")}}else xe=null;else xe=re;return"XMLHTTP REQ ("+U+") [attempt "+J+"]: "+w+`
`+C+`
`+xe})}function Ra(m,w,C,U,J,re,xe){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+J+"]: "+w+`
`+C+`
`+re+" "+xe})}function hr(m,w,C,U){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+pm(m,C)+(U?" "+U:"")})}function cc(m,w){m.info(function(){return"TIMEOUT: "+w})}Lo.prototype.info=function(){};function pm(m,w){if(!m.g)return w;if(!w)return null;try{var C=JSON.parse(w);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var U=C[m];if(!(2>U.length)){var J=U[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var xe=1;xe<J.length;xe++)J[xe]=""}}}}return Vr(C)}catch(pt){return w}}var Pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ld={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function Fo(){}T(Fo,Cs),Fo.prototype.g=function(){return new XMLHttpRequest},Fo.prototype.i=function(){return{}},pr=new Fo;function mr(m,w,C,U){this.j=m,this.i=w,this.l=C,this.R=U||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cd}function cd(){this.i=null,this.g="",this.h=!1}var uc={},Da={};function La(m,w,C){m.L=1,m.v=Qi(Is(w)),m.m=C,m.P=!0,dc(m,null)}function dc(m,w){m.F=Date.now(),Et(m),m.A=Is(m.v);var C=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),Yi(C.i,"t",U),m.C=0,C=m.j.J,m.h=new cd,m.g=Td(m.j,C?w:null,!m.m),0<m.O&&(m.M=new Hs(b(m.Y,m,m.g),m.O)),w=m.U,C=m.g,U=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(Fr[0]=J.toString()),J=Fr);for(var re=0;re<J.length;re++){var xe=cs(C,J[re],U||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),ui(),Mo(m.i,m.u,m.A,m.l,m.R,m.m)}mr.prototype.ca=function(m){m=m.target;const w=this.M;w&&fs(m)==3?w.j():this.Y(m)},mr.prototype.Y=function(m){try{if(m==this.g)e:{const nn=fs(this.g);var w=this.g.Ba();const Ks=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||nn!=4||w==7||(w==8||0>=Ks?ui(3):ui(2)),Bo(this);var C=this.g.Z();this.X=C;t:if(ud(this)){var U=yc(this.g);m="";var J=U.length,re=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Gs(this),Wi(this);var xe="";break t}this.h.i=new u.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,m+=this.h.i.decode(U[w],{stream:!(re&&w==J-1)});U.length=0,this.h.g+=m,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=C==200,Ra(this.i,this.u,this.A,this.l,this.R,nn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,pn=this.g;if((pt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(pt)){var nt=pt;break t}}nt=null}if(C=nt)hr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hc(this,C);else{this.o=!1,this.s=3,Yt(12),Gs(this),Wi(this);break e}}if(this.P){C=!0;let Ps;for(;!this.J&&this.C<xe.length;)if(Ps=mm(this,xe),Ps==Da){nn==4&&(this.s=4,Yt(14),C=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ps==uc){this.s=4,Yt(15),hr(this.i,this.l,xe,"[Invalid Chunk]"),C=!1;break}else hr(this.i,this.l,Ps,null),hc(this,Ps);if(ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||xe.length!=0||this.h.h||(this.s=1,Yt(16),C=!1),this.o=this.o&&C,!C)hr(this.i,this.l,xe,"[Invalid Chunked Response]"),Gs(this),Wi(this);else if(0<xe.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),vc(xn),xn.M=!0,Yt(11))}}else hr(this.i,this.l,xe,null),hc(this,xe);nn==4&&Gs(this),this.o&&!this.J&&(nn==4?Ga(this.j,this):(this.o=!1,Et(this)))}else Oa(this.g),C==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Gs(this),Wi(this)}}}catch(nn){}finally{}};function ud(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function mm(m,w){var C=m.C,U=w.indexOf(`
`,C);return U==-1?Da:(C=Number(w.substring(C,U)),isNaN(C)?uc:(U+=1,U+C>w.length?Da:(w=w.slice(U,U+C),m.C=U+C,w)))}mr.prototype.cancel=function(){this.J=!0,Gs(this)};function Et(m){m.S=Date.now()+m.I,dd(m,m.I)}function dd(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=dr(b(m.ba,m),w)}function Bo(m){m.B&&(u.clearTimeout(m.B),m.B=null)}mr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(cc(this.i,this.A),this.L!=2&&(ui(),Yt(17)),Gs(this),this.s=2,Wi(this)):dd(this,this.S-m)};function Wi(m){m.j.G==0||m.J||Ga(m.j,m)}function Gs(m){Bo(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Br(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function hc(m,w){try{var C=m.j;if(C.G!=0&&(C.g==m||Zn(C.h,m))){if(!m.K&&Zn(C.h,m)&&C.G==3){try{var U=C.Da.g.parse(w)}catch(nt){U=null}if(Array.isArray(U)&&U.length==3){var J=U;if(J[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)Wa(C),vr(C);else break e;Ha(C),Yt(18)}}else C.za=J[1],0<C.za-C.T&&37500>J[2]&&C.F&&C.v==0&&!C.C&&(C.C=dr(b(C.Za,C),6e3));if(1>=pd(C.h)&&C.ca){try{C.ca()}catch(nt){}C.ca=void 0}}else fi(C,11)}else if((m.K||C.g==m)&&Wa(C),!B(w))for(J=C.Da.g.parse(w),w=0;w<J.length;w++){let nt=J[w];if(C.T=nt[0],nt=nt[1],C.G==2)if(nt[0]=="c"){C.K=nt[1],C.ia=nt[2];const xn=nt[3];xn!=null&&(C.la=xn,C.j.info("VER="+C.la));const nn=nt[4];nn!=null&&(C.Aa=nn,C.j.info("SVER="+C.Aa));const Ks=nt[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(U=1.5*Ks,C.L=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const Ps=m.g;if(Ps){const Wo=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var re=U.h;re.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(pc(re,re.h),re.h=null))}if(U.D){const Ka=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(U.ya=Ka,vt(U.I,U.D,Ka))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),U=C;var xe=m;if(U.qa=Ed(U,U.J?U.ia:null,U.W),xe.K){md(U.h,xe);var pt=xe,pn=U.L;pn&&(pt.I=pn),pt.B&&(Bo(pt),Et(pt)),U.g=xe}else Ho(U);0<C.i.length&&Wr(C)}else nt[0]!="stop"&&nt[0]!="close"||fi(C,7);else C.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?fi(C,7):An(C):nt[0]!="noop"&&C.l&&C.l.ta(nt),C.v=0)}}ui(4)}catch(nt){}}var hd=class{constructor(m,w){this.g=m,this.map=w}};function Vo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ns(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function pd(m){return m.h?1:m.g?m.g.size:0}function Zn(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function pc(m,w){m.g?m.g.add(w):m.h=w}function md(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}Vo.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function fd(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const C of m.g.values())w=w.concat(C.D);return w}return R(m.i)}function Ma(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map!="undefined"&&m instanceof Map||typeof Set!="undefined"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],C=m.length,U=0;U<C;U++)w.push(m[U]);return w}w=[],C=0;for(U in m)w[C++]=m[U];return w}function Fa(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map!="undefined"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set!="undefined"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var C=0;C<m;C++)w.push(C);return w}w=[],C=0;for(const U in m)w[C++]=U;return w}}}function Gi(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var C=Fa(m),U=Ma(m),J=U.length,re=0;re<J;re++)w.call(void 0,U[re],C&&C[re],m)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fm(m,w){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var U=m[C].indexOf("="),J=null;if(0<=U){var re=m[C].substring(0,U);J=m[C].substring(U+1)}else re=m[C];w(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function di(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof di){this.h=m.h,Oo(this,m.j),this.o=m.o,this.g=m.g,qi(this,m.s),this.l=m.l;var w=m.i,C=new Ur;C.i=w.i,w.g&&(C.g=new Map(w.g),C.h=w.h),Ki(this,C),this.m=m.m}else m&&(w=String(m).match($o))?(this.h=!1,Oo(this,w[1]||"",!0),this.o=et(w[2]||""),this.g=et(w[3]||"",!0),qi(this,w[4]),this.l=et(w[5]||"",!0),Ki(this,w[6]||"",!0),this.m=et(w[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}di.prototype.toString=function(){var m=[],w=this.j;w&&m.push(Xi(w,Ba,!0),":");var C=this.g;return(C||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Xi(w,Ba,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Xi(C,C.charAt(0)=="/"?xd:yd,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Xi(C,mc)),m.join("")};function Is(m){return new di(m)}function Oo(m,w,C){m.j=C?et(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function qi(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function Ki(m,w,C){w instanceof Ur?(m.i=w,zr(m.i,m.h)):(C||(w=Xi(w,vd)),m.i=new Ur(w,m.h))}function vt(m,w,C){m.i.set(w,C)}function Qi(m){return vt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function et(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Xi(m,w,C){return typeof m=="string"?(m=encodeURI(m).replace(w,gd),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function gd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ba=/[#\/\?@]/g,yd=/[#\?:]/g,xd=/[#\?]/g,vd=/[#\?@]/g,mc=/#/g;function Ur(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Cn(m){m.g||(m.g=new Map,m.h=0,m.i&&fm(m.i,function(w,C){m.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=Ur.prototype,t.add=function(m,w){Cn(this),this.i=null,m=qs(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(w),this.h+=1,this};function fr(m,w){Cn(m),w=qs(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function gr(m,w){return Cn(m),w=qs(m,w),m.g.has(w)}t.forEach=function(m,w){Cn(this),this.g.forEach(function(C,U){C.forEach(function(J){m.call(w,J,U,this)},this)},this)},t.na=function(){Cn(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),C=[];for(let U=0;U<w.length;U++){const J=m[U];for(let re=0;re<J.length;re++)C.push(w[U])}return C},t.V=function(m){Cn(this);let w=[];if(typeof m=="string")gr(this,m)&&(w=w.concat(this.g.get(qs(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)w=w.concat(m[C])}return w},t.set=function(m,w){return Cn(this),this.i=null,m=qs(this,m),gr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},t.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function Yi(m,w,C){fr(m,w),0<C.length&&(m.i=null,m.g.set(qs(m,w),R(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var C=0;C<w.length;C++){var U=w[C];const re=encodeURIComponent(String(U)),xe=this.V(U);for(U=0;U<xe.length;U++){var J=re;xe[U]!==""&&(J+="="+encodeURIComponent(String(xe[U]))),m.push(J)}}return this.i=m.join("&")};function qs(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function zr(m,w){w&&!m.j&&(Cn(m),m.i=null,m.g.forEach(function(C,U){var J=U.toLowerCase();U!=J&&(fr(this,U),Yi(this,J,C))},m)),m.j=w}function gm(m,w){const C=new Lo;if(u.Image){const U=new Image;U.onload=E(ms,C,"TestLoadImage: loaded",!0,w,U),U.onerror=E(ms,C,"TestLoadImage: error",!1,w,U),U.onabort=E(ms,C,"TestLoadImage: abort",!1,w,U),U.ontimeout=E(ms,C,"TestLoadImage: timeout",!1,w,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else w(!1)}function bd(m,w){const C=new Lo,U=new AbortController,J=setTimeout(()=>{U.abort(),ms(C,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:U.signal}).then(re=>{clearTimeout(J),re.ok?ms(C,"TestPingServer: ok",!0,w):ms(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),ms(C,"TestPingServer: error",!1,w)})}function ms(m,w,C,U,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),U(C)}catch(re){}}function ym(){this.g=new $r}function wd(m,w,C){const U=C||"";try{Gi(m,function(J,re){let xe=J;p(J)&&(xe=Vr(J)),w.push(U+re+"="+encodeURIComponent(xe))})}catch(J){throw w.push(U+"type="+encodeURIComponent("_badmap")),J}}function hi(m){this.l=m.Ub||null,this.j=m.eb||!1}T(hi,Cs),hi.prototype.g=function(){return new Uo(this.l,this.j)},hi.prototype.i=(function(m){return function(){return m}})({});function Uo(m,w){St.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Uo,St),t=Uo.prototype,t.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,xr(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream!="undefined"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_d(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function _d(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?yr(this):xr(this),this.readyState==3&&_d(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,yr(this))},t.Qa=function(m){this.g&&(this.response=m,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,xr(m)}t.setRequestHeader=function(m,w){this.u.append(m,w)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=w.next();return m.join(`\r
`)};function xr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function pi(m){let w="";return D(m,function(C,U){w+=U,w+=":",w+=C,w+=`\r
`}),w}function Ji(m,w,C){e:{for(U in C){var U=!1;break e}U=!0}U||(C=pi(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):vt(m,w,C))}function Mt(m){St.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Mt,St);var xm=/^https?$/i,fc=["POST","PUT"];t=Mt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,w,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?kt(this.o):kt(pr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(re){zo(this,re);return}if(m=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var J in U)C.set(J,U[J]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const re of U.keys())C.set(re,U.get(re));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(re=>re.toLowerCase()=="content-type"),J=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fc,w,void 0))||U||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of C)this.g.setRequestHeader(re,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(m),this.u=!1}catch(re){zo(this,re)}};function zo(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Va(m),Rs(m)}function Va(m){m.A||(m.A=!0,it(m,"complete"),it(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,it(this,"complete"),it(this,"abort"),Rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gc(this):this.bb())},t.bb=function(){gc(this)};function gc(m){if(m.h&&typeof c!="undefined"&&(!m.v[1]||fs(m)!=4||m.Z()!=2)){if(m.u&&fs(m)==4)cr(m.Ea,0,m);else if(it(m,"readystatechange"),fs(m)==4){m.h=!1;try{const xe=m.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var U;if(U=xe===0){var J=String(m.D).match($o)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),U=!xm.test(J?J.toLowerCase():"")}C=U}if(C)it(m,"complete"),it(m,"success");else{m.m=6;try{var re=2<fs(m)?m.g.statusText:""}catch(pt){re=""}m.l=re+" ["+m.Z()+"]",Va(m)}}finally{Rs(m)}}}}function Rs(m,w){if(m.g){$a(m);const C=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||it(m,"ready");try{C.onreadystatechange=U}catch(J){}}}function $a(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function fs(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<fs(this)?this.g.status:-1}catch(m){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(m){return""}},t.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),li(w)}};function yc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch(w){return null}}function Oa(m){const w={};m=(m.g&&2<=fs(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(B(m[U]))continue;var C=P(m[U]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const re=w[J]||[];w[J]=re,re.push(C)}k(w,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(m,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||w}function xc(m){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,m),this.cb=Hr("retryDelaySeedMs",1e4,m),this.Wa=Hr("forwardChannelMaxRetries",2,m),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Vo(m&&m.concurrentRequestLimit),this.Da=new ym,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xc.prototype,t.la=8,t.G=1,t.connect=function(m,w,C,U){Yt(0),this.W=m,this.H=w||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.I=Ed(this,null,this.W),Wr(this)};function An(m){if(Ua(m),m.G==3){var w=m.U++,C=Is(m.I);if(vt(C,"SID",m.K),vt(C,"RID",w),vt(C,"TYPE","terminate"),mi(m,C),w=new mr(m,m.j,w),w.L=2,w.v=Qi(Is(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(w.v.toString(),"")}catch(U){}!C&&u.Image&&(new Image().src=w.v,C=!0),C||(w.g=Td(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Et(w)}kd(m)}function vr(m){m.g&&(vc(m),m.g.cancel(),m.g=null)}function Ua(m){vr(m),m.u&&(u.clearTimeout(m.u),m.u=null),Wa(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Wr(m){if(!Ns(m.h)&&!m.s){m.s=!0;var w=m.Ga;K||le(),X||(K(),X=!0),ae.add(w,m),m.B=0}}function vm(m,w){return pd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=dr(b(m.Ga,m,w),Sd(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new mr(this,this.j,m);let re=this.o;if(this.S&&(re?(re=S(re),F(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,4096<w){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=Zi(this,J,w),C=Is(this.I),vt(C,"RID",m),vt(C,"CVER",22),this.D&&vt(C,"X-HTTP-Session-Id",this.D),mi(this,C),re&&(this.O?w="headers="+encodeURIComponent(String(pi(re)))+"&"+w:this.m&&Ji(C,this.m,re)),pc(this.h,J),this.Ua&&vt(C,"TYPE","init"),this.P?(vt(C,"$req",w),vt(C,"SID","null"),J.T=!0,La(J,C,null)):La(J,C,w),this.G=2}}else this.G==3&&(m?za(this,m):this.i.length==0||Ns(this.h)||za(this))};function za(m,w){var C;w?C=w.l:C=m.U++;const U=Is(m.I);vt(U,"SID",m.K),vt(U,"RID",C),vt(U,"AID",m.T),mi(m,U),m.m&&m.o&&Ji(U,m.m,m.o),C=new mr(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Zi(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),pc(m.h,C),La(C,U,w)}function mi(m,w){m.H&&D(m.H,function(C,U){vt(w,U,C)}),m.l&&Gi({},function(C,U){vt(w,U,C)})}function Zi(m,w,C){C=Math.min(m.i.length,C);var U=m.l?b(m.l.Na,m.l,m):null;e:{var J=m.i;let re=-1;for(;;){const xe=["count="+C];re==-1?0<C?(re=J[0].g,xe.push("ofs="+re)):re=0:xe.push("ofs="+re);let pt=!0;for(let pn=0;pn<C;pn++){let nt=J[pn].g;const xn=J[pn].map;if(nt-=re,0>nt)re=Math.max(0,J[pn].g-100),pt=!1;else try{wd(xn,xe,"req"+nt+"_")}catch(nn){U&&U(xn)}}if(pt){U=xe.join("&");break e}}}return m=m.i.splice(0,C),w.D=m,U}function Ho(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;K||le(),X||(K(),X=!0),ae.add(w,m),m.v=0}}function Ha(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=dr(b(m.Fa,m),Sd(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=dr(b(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),vr(this),jd(this))};function vc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function jd(m){m.g=new mr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Is(m.qa);vt(w,"RID","rpc"),vt(w,"SID",m.K),vt(w,"AID",m.T),vt(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&vt(w,"TO",m.ja),vt(w,"TYPE","xmlhttp"),mi(m,w),m.m&&m.o&&Ji(w,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Qi(Is(w)),C.m=null,C.P=!0,dc(C,m)}t.Za=function(){this.C!=null&&(this.C=null,vr(this),Ha(this),Yt(19))};function Wa(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Ga(m,w){var C=null;if(m.g==w){Wa(m),vc(m),m.g=null;var U=2}else if(Zn(m.h,w))C=w.D,md(m.h,w),U=1;else return;if(m.G!=0){if(w.o)if(U==1){C=w.m?w.m.length:0,w=Date.now()-w.F;var J=m.B;U=Do(),it(U,new Ia(U,C)),Wr(m)}else Ho(m);else if(J=w.s,J==3||J==0&&0<w.X||!(U==1&&vm(m,w)||U==2&&Ha(m)))switch(C&&0<C.length&&(w=m.h,w.i=w.i.concat(C)),J){case 1:fi(m,5);break;case 4:fi(m,10);break;case 3:fi(m,6);break;default:fi(m,2)}}}function Sd(m,w){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*w}function fi(m,w){if(m.j.info("Error code "+w),w==2){var C=b(m.fb,m),U=m.Xa;const J=!U;U=new di(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oo(U,"https"),Qi(U),J?gm(U.toString(),C):bd(U.toString(),C)}else Yt(2);m.G=0,m.l&&m.l.sa(w),kd(m),Ua(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function kd(m){if(m.G=0,m.ka=[],m.l){const w=fd(m.h);(w.length!=0||m.i.length!=0)&&(L(m.ka,w),L(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function Ed(m,w,C){var U=C instanceof di?Is(C):new di(C);if(U.g!="")w&&(U.g=w+"."+U.g),qi(U,U.s);else{var J=u.location;U=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var re=new di(null);U&&Oo(re,U),w&&(re.g=w),J&&qi(re,J),C&&(re.l=C),U=re}return C=m.D,w=m.ya,C&&w&&vt(U,C,w),vt(U,"VER",m.la),mi(m,U),U}function Td(m,w,C){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Mt(new hi({eb:C})):new Mt(m.pa),w.Ha(m.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bc(){}t=bc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qa(){}qa.prototype.g=function(m,w){return new es(m,w)};function es(m,w){St.call(this),this.g=new xc(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!B(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Gr(this)}T(es,St),es.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},es.prototype.close=function(){An(this.g)},es.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=Vr(m),m=C);w.i.push(new hd(w.Ya++,m)),w.G==3&&Wr(w)},es.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,es.aa.N.call(this)};function Cd(m){As.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const C in w){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}T(Cd,As);function Ad(){ci.call(this),this.status=1}T(Ad,ci);function Gr(m){this.g=m}T(Gr,bc),Gr.prototype.ua=function(){it(this.g,"a")},Gr.prototype.ta=function(m){it(this.g,new Cd(m))},Gr.prototype.sa=function(m){it(this.g,new Ad)},Gr.prototype.ra=function(){it(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,es.prototype.send=es.prototype.o,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,Q_=function(){return new qa},K_=function(){return Do()},q_=Or,t0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Kh=Pa,ld.COMPLETE="complete",G_=ld,ur.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",St.prototype.listen=St.prototype.K,nu=ur,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,W_=Mt}).apply(typeof Sh!="undefined"?Sh:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const n2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new F_("@firebase/firestore");function Gc(){return wa.logLevel}function Ce(t,...e){if(wa.logLevel<=lt.DEBUG){const n=e.map(Z0);wa.debug(`Firestore (${Zl}): ${t}`,...n)}}function Vi(t,...e){if(wa.logLevel<=lt.ERROR){const n=e.map(Z0);wa.error(`Firestore (${Zl}): ${t}`,...n)}}function Ml(t,...e){if(wa.logLevel<=lt.WARN){const n=e.map(Z0);wa.warn(`Firestore (${Zl}): ${t}`,...n)}}function Z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t="Unexpected state"){const e=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: `+t;throw Vi(e),new Error(e)}function ft(t,e){t||$e()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Jl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Qn.UNAUTHENTICATED)))}shutdown(){}}class bA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wA{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},u=h=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string"),new X_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new Qn(e)}}class _A{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _A(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ft(this.o===void 0);const r=l=>{l.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string"),this.R=n.token,new SA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=EA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new hn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ze(e)}static min(){return new ze(new hn(0,0))}static max(){return new ze(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(),r===void 0?r=e.length-n:r>e.length-n&&$e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _t extends Eu{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const TA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Eu{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return TA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const u=e[o];if(u==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else u==="`"?(c=!c,o++):u!=="."||c?(r+=u,o++):(l(),o++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}function CA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new ko(o,Re.empty(),e)}function AA(t){return new ko(t.readTime,t.key,-1)}class ko{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ko(ze.min(),Re.empty(),-1)}static max(){return new ko(ze.max(),Re.empty(),-1)}}function NA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==IA)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,r)=>{n(e)}))}static reject(e){return new pe(((n,r)=>{r(e)}))}static waitFor(e){return new pe(((n,r)=>{let o=0,l=0,c=!1;e.forEach((u=>{++o,u.next((()=>{++l,c&&l===o&&n()}),(h=>r(h)))})),c=!0,l===o&&n()}))}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next((o=>o?pe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new pe(((r,o)=>{const l=e.length,c=new Array(l);let u=0;for(let h=0;h<l;h++){const p=h;n(e[p]).next((f=>{c[p]=f,++u,u===l&&r(c)}),(f=>o(f)))}}))}static doWhile(e,n){return new pe(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function PA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ey.oe=-1;function Fp(t){return t==null}function up(t){return t===0&&1/t==-1/0}function DA(t){return typeof t=="number"&&Number.isInteger(t)&&!up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:Ln.RED,this.left=o!=null?o:Ln.EMPTY,this.right=l!=null?l:Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Ln(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ln.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,n,r,o,l){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r2(this.data.getIterator())}getIteratorFrom(e){return new r2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $n(this.comparator);return n.data=e,n}}class r2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Bs([])}unionWith(e){let n=new $n(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Z_("Invalid base64 string: "+l):l}})(e);return new On(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const LA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(t){if(ft(!!t),typeof t=="string"){let e=0;const n=LA.exec(t);if(ft(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _a(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ty(t){const e=t.mapValue.fields.__previous_value__;return Bp(e)?ty(e):e}function Tu(t){const e=Eo(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,o,l,c,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}class Cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh={mapValue:{}};function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bp(t)?4:BA(t)?9007199254740991:FA(t)?10:11:$e()}function ai(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Eo(o.timestampValue),u=Eo(l.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return _a(o.bytesValue).isEqual(_a(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return tn(o.geoPointValue.latitude)===tn(l.geoPointValue.latitude)&&tn(o.geoPointValue.longitude)===tn(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return tn(o.integerValue)===tn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=tn(o.doubleValue),u=tn(l.doubleValue);return c===u?up(c)===up(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},u=l.mapValue.fields||{};if(s2(c)!==s2(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!ai(c[h],u[h])))return!1;return!0})(t,e);default:return $e()}}function Au(t,e){return(t.values||[]).find((n=>ai(n,e)))!==void 0}function Bl(t,e){if(t===e)return 0;const n=ja(t),r=ja(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const u=tn(l.integerValue||l.doubleValue),h=tn(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return i2(t.timestampValue,e.timestampValue);case 4:return i2(Tu(t),Tu(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return(function(l,c){const u=_a(l),h=_a(c);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const u=l.split("/"),h=c.split("/");for(let p=0;p<u.length&&p<h.length;p++){const f=dt(u[p],h[p]);if(f!==0)return f}return dt(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const u=dt(tn(l.latitude),tn(c.latitude));return u!==0?u:dt(tn(l.longitude),tn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return o2(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var u,h,p,f;const y=l.fields||{},b=c.fields||{},E=(u=y.value)===null||u===void 0?void 0:u.arrayValue,T=(h=b.value)===null||h===void 0?void 0:h.arrayValue,R=dt(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:o2(E,T)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Eh.mapValue&&c===Eh.mapValue)return 0;if(l===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const u=l.fields||{},h=Object.keys(u),p=c.fields||{},f=Object.keys(p);h.sort(),f.sort();for(let y=0;y<h.length&&y<f.length;++y){const b=dt(h[y],f[y]);if(b!==0)return b;const E=Bl(u[h[y]],p[f[y]]);if(E!==0)return E}return dt(h.length,f.length)})(t.mapValue,e.mapValue);default:throw $e()}}function i2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=Eo(t),r=Eo(e),o=dt(n.seconds,r.seconds);return o!==0?o:dt(n.nanos,r.nanos)}function o2(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=Bl(n[o],r[o]);if(l)return l}return dt(n.length,r.length)}function Vl(t){return n0(t)}function n0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Eo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _a(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=n0(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${n0(n.fields[c])}`;return o+"}"})(t.mapValue):$e()}function dp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s0(t){return!!t&&"integerValue"in t}function ny(t){return!!t&&"arrayValue"in t}function a2(t){return!!t&&"nullValue"in t}function l2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function FA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=hu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.value=e}static empty(){return new Ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=Bn.emptyPath(),r={},o=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=u.popLast()}c?r[u.lastSegment()]=hu(c):o.push(u.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ea(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new Ss(hu(this.value))}}function ej(t){const e=[];return Ea(t.fields,((n,r)=>{const o=new Bn([n]);if(Qh(r)){const l=ej(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,o,l,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Yn(e,0,ze.min(),ze.min(),ze.min(),Ss.empty(),0)}static newFoundDocument(e,n,r,o){return new Yn(e,1,n,ze.min(),r,o,0)}static newNoDocument(e,n){return new Yn(e,2,n,ze.min(),ze.min(),Ss.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,ze.min(),ze.min(),Ss.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.position=e,this.inclusive=n}}function c2(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),n.key):r=Bl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function u2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function VA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{}class dn extends tj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OA(e,n,r):n==="array-contains"?new HA(e,r):n==="in"?new WA(e,r):n==="not-in"?new GA(e,r):n==="array-contains-any"?new qA(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UA(e,r):new zA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends tj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rr(e,n)}matches(e){return nj(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nj(t){return t.op==="and"}function sj(t){return $A(t)&&nj(t)}function $A(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function r0(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(sj(t))return t.filters.map((e=>r0(e))).join(",");{const e=t.filters.map((n=>r0(n))).join(",");return`${t.op}(${e})`}}function rj(t,e){return t instanceof dn?(function(r,o){return o instanceof dn&&r.op===o.op&&r.field.isEqual(o.field)&&ai(r.value,o.value)})(t,e):t instanceof Rr?(function(r,o){return o instanceof Rr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,u)=>l&&rj(c,o.filters[u])),!0):!1})(t,e):void $e()}function ij(t){return t instanceof dn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(t):t instanceof Rr?(function(n){return n.op.toString()+" {"+n.getFilters().map(ij).join(" ,")+"}"})(t):"Filter"}class OA extends dn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class UA extends dn{constructor(e,n){super(e,"in",n),this.keys=oj("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class zA extends dn{constructor(e,n){super(e,"not-in",n),this.keys=oj("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class HA extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ny(n)&&Au(n.arrayValue,this.value)}}class WA extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class GA extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Au(this.value.arrayValue,n)}}class qA extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Au(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n=null,r=[],o=[],l=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=u,this.ue=null}}function d2(t,e=null,n=[],r=[],o=null,l=null,c=null){return new KA(t,e,n,r,o,l,c)}function sy(t){const e=He(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>r0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Vl(r))).join(",")),e.ue=n}return e.ue}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u2(t.startAt,e.startAt)&&u2(t.endAt,e.endAt)}function i0(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n=null,r=[],o=[],l=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QA(t,e,n,r,o,l,c,u){return new Hi(t,e,n,r,o,l,c,u)}function iy(t){return new Hi(t)}function h2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oy(t){return t.collectionGroup!==null}function Pl(t){const e=He(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new $n(Bn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Nu(l,r))})),n.has(Bn.keyField().canonicalString())||e.ce.push(new Nu(Bn.keyField(),r))}return e.ce}function ti(t){const e=He(t);return e.le||(e.le=XA(e,Pl(t))),e.le}function XA(t,e){if(t.limitType==="F")return d2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Nu(o.field,l)}));const n=t.endAt?new $l(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $l(t.startAt.position,t.startAt.inclusive):null;return d2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function o0(t,e){const n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hp(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vp(t,e){return ry(ti(t),ti(e))&&t.limitType===e.limitType}function aj(t){return`${sy(ti(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ij(o))).join(", ")}]`),Fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Vl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Vl(o))).join(",")),`Target(${r})`})(ti(t))}; limitType=${t.limitType})`}function $p(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Re.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of Pl(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,u,h){const p=c2(c,u,h);return c.inclusive?p<=0:p<0})(r.startAt,Pl(r),o)||r.endAt&&!(function(c,u,h){const p=c2(c,u,h);return c.inclusive?p>=0:p>0})(r.endAt,Pl(r),o))})(t,e)}function YA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lj(t){return(e,n)=>{let r=!1;for(const o of Pl(t)){const l=JA(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function JA(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(l,c,u){const h=c.data.field(l),p=u.data.field(l);return h!==null&&p!==null?Bl(h,p):$e()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Gt(Re.comparator);function $i(){return ZA}const cj=new Gt(Re.comparator);function su(...t){let e=cj;for(const n of t)e=e.insert(n.key,n);return e}function uj(t){let e=cj;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ga(){return pu()}function dj(){return pu()}function pu(){return new ec((t=>t.toString()),((t,e)=>t.isEqual(e)))}const eN=new Gt(Re.comparator),tN=new $n(Re.comparator);function Ze(...t){let e=tN;for(const n of t)e=e.add(n);return e}const nN=new $n(dt);function sN(){return nN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function hj(t){return{integerValue:""+t}}function rN(t,e){return DA(e)?hj(e):ay(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this._=void 0}}function iN(t,e,n){return t instanceof Iu?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Bp(l)&&(l=ty(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Ru?mj(t,e):t instanceof Pu?fj(t,e):(function(o,l){const c=pj(o,l),u=p2(c)+p2(o.Pe);return s0(c)&&s0(o.Pe)?hj(u):ay(o.serializer,u)})(t,e)}function oN(t,e,n){return t instanceof Ru?mj(t,e):t instanceof Pu?fj(t,e):n}function pj(t,e){return t instanceof pp?(function(r){return s0(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Iu extends Op{}class Ru extends Op{constructor(e){super(),this.elements=e}}function mj(t,e){const n=gj(e);for(const r of t.elements)n.some((o=>ai(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Pu extends Op{constructor(e){super(),this.elements=e}}function fj(t,e){let n=gj(e);for(const r of t.elements)n=n.filter((o=>!ai(o,r)));return{arrayValue:{values:n}}}class pp extends Op{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function p2(t){return tn(t.integerValue||t.doubleValue)}function gj(t){return ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.field=e,this.transform=n}}function lN(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Ru&&o instanceof Ru||r instanceof Pu&&o instanceof Pu?Fl(r.elements,o.elements,ai):r instanceof pp&&o instanceof pp?ai(r.Pe,o.Pe):r instanceof Iu&&o instanceof Iu})(t.transform,e.transform)}class cN{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Up{}function yj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,ar.none()):new Gu(t.key,t.data,ar.none());{const n=t.data,r=Ss.empty();let o=new $n(Bn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new Io(t.key,r,new Bs(o.toArray()),ar.none())}}function uN(t,e,n){t instanceof Gu?(function(o,l,c){const u=o.value.clone(),h=f2(o.fieldTransforms,l,c.transformResults);u.setAll(h),l.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Io?(function(o,l,c){if(!Xh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const u=f2(o.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(xj(o)),h.setAll(u),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function mu(t,e,n,r){return t instanceof Gu?(function(l,c,u,h){if(!Xh(l.precondition,c))return u;const p=l.value.clone(),f=g2(l.fieldTransforms,h,c);return p.setAll(f),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Io?(function(l,c,u,h){if(!Xh(l.precondition,c))return u;const p=g2(l.fieldTransforms,h,c),f=c.data;return f.setAll(xj(l)),f.setAll(p),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),u===null?null:u.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(l,c,u){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function dN(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=pj(r.transform,o||null);l!=null&&(n===null&&(n=Ss.empty()),n.set(r.field,l))}return n||null}function m2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Fl(r,o,((l,c)=>lN(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends Up{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Io extends Up{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function f2(t,e,n){const r=new Map;ft(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,u=e.data.field(l.field);r.set(l.field,oN(c,u,n[o]))}return r}function g2(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,iN(l,c,e))}return r}class ly extends Up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hN extends Up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&uN(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dj();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let u=this.applyToLocalView(c,l.mutatedFields);u=n.has(o.key)?null:u;const h=yj(c,u);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((n,r)=>m2(n,r)))&&Fl(this.baseMutations,e.baseMutations,((n,r)=>m2(n,r)))}}class cy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ft(e.mutations.length===r.length);let o=(function(){return eN})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new cy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,st;function gN(t){switch(t){default:return $e();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function vj(t){if(t===void 0)return Vi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case on.OK:return oe.OK;case on.CANCELLED:return oe.CANCELLED;case on.UNKNOWN:return oe.UNKNOWN;case on.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case on.INTERNAL:return oe.INTERNAL;case on.UNAVAILABLE:return oe.UNAVAILABLE;case on.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case on.NOT_FOUND:return oe.NOT_FOUND;case on.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case on.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case on.ABORTED:return oe.ABORTED;case on.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case on.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case on.DATA_LOSS:return oe.DATA_LOSS;default:return $e()}}(st=on||(on={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new xa([4294967295,4294967295],0);function y2(t){const e=yN().encode(t),n=new H_;return n.update(e),new Uint8Array(n.digest())}function x2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xa([n,r],0),new xa([o,l],0)]}class uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xa.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(xa.fromNumber(r)));return o.compare(xN)===1&&(o=new xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=y2(e),[r,o]=x2(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new uy(l,o,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.Ie===0)return;const n=y2(e),[r,o]=x2(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zp(ze.min(),o,new Gt(dt),$i(),Ze())}}class qu{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qu(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class bj{constructor(e,n){this.targetId=e,this.me=n}}class wj{constructor(e,n,r=On.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class v2{constructor(){this.fe=0,this.ge=w2(),this.pe=On.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),n=Ze(),r=Ze();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:$e()}})),new qu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=w2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vN{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=b2(),this.Qe=new Gt(dt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:$e()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(i0(l))if(r===0){const c=new Re(l.path);this.Ue(n,c,Yn.newNoDocument(c,ze.min()))}else ft(r===1);else{const c=this.Ye(n);if(c!==r){const u=this.Ze(e),h=u?this.Xe(u,e,c):1;if(h!==0){this.je(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,u;try{c=_a(r).toUint8Array()}catch(h){if(h instanceof Z_)return Ml("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new uy(c,o,l)}catch(h){return Ml(h instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const u=this.Je(c);if(u){if(l.current&&i0(u.target)){const h=new Re(u.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,Yn.newNoDocument(h,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Ze();this.qe.forEach(((l,c)=>{let u=!0;c.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new zp(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=b2(),this.Qe=new Gt(dt),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new v2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $n(dt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new v2),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function b2(){return new Gt(Re.comparator)}function w2(){return new Gt(Re.comparator)}const bN={asc:"ASCENDING",desc:"DESCENDING"},wN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class jN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function a0(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _j(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SN(t,e){return mp(t,e.toTimestamp())}function ni(t){return ft(!!t),ze.fromTimestamp((function(n){const r=Eo(n);return new hn(r.seconds,r.nanos)})(t))}function dy(t,e){return l0(t,e).canonicalString()}function l0(t,e){const n=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jj(t){const e=_t.fromString(t);return ft(Cj(e)),e}function c0(t,e){return dy(t.databaseId,e.path)}function Jf(t,e){const n=jj(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(kj(n))}function Sj(t,e){return dy(t.databaseId,e)}function kN(t){const e=jj(t);return e.length===4?_t.emptyPath():kj(e)}function u0(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kj(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _2(t,e,n){return{name:c0(t,e),fields:n.value.mapValue.fields}}function EN(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(p,f){return p.useProto3Json?(ft(f===void 0||typeof f=="string"),On.fromBase64String(f||"")):(ft(f===void 0||f instanceof Buffer||f instanceof Uint8Array),On.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(p){const f=p.code===void 0?oe.UNKNOWN:vj(p.code);return new ve(f,p.message||"")})(c);n=new wj(r,o,l,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jf(t,r.document.name),l=ni(r.document.updateTime),c=r.document.createTime?ni(r.document.createTime):ze.min(),u=new Ss({mapValue:{fields:r.document.fields}}),h=Yn.newFoundDocument(o,l,c,u),p=r.targetIds||[],f=r.removedTargetIds||[];n=new Yh(p,f,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jf(t,r.document),l=r.readTime?ni(r.readTime):ze.min(),c=Yn.newNoDocument(o,l),u=r.removedTargetIds||[];n=new Yh([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jf(t,r.document),l=r.removedTargetIds||[];n=new Yh([],l,o,null)}else{if(!("filter"in e))return $e();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new fN(o,l),u=r.targetId;n=new bj(u,c)}}return n}function TN(t,e){let n;if(e instanceof Gu)n={update:_2(t,e.key,e.value)};else if(e instanceof ly)n={delete:c0(t,e.key)};else if(e instanceof Io)n={update:_2(t,e.key,e.data),updateMask:MN(e.fieldMask)};else{if(!(e instanceof hN))return $e();n={verify:c0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const u=c.transform;if(u instanceof Iu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof pp)return{fieldPath:c.field.canonicalString(),increment:u.Pe};throw $e()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:SN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e()})(t,e.precondition)),n}function CN(t,e){return t&&t.length>0?(ft(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?ni(o.updateTime):ni(l);return c.isEqual(ze.min())&&(c=ni(l)),new cN(c,o.transformResults||[])})(n,e)))):[]}function AN(t,e){return{documents:[Sj(t,e.path)]}}function NN(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sj(t,o);const l=(function(p){if(p.length!==0)return Tj(Rr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((f=>(function(b){return{field:jl(b.field),direction:PN(b.dir)}})(f)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=a0(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:o}}function IN(t){let e=kN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ft(r===1);const f=n.from[0];f.allDescendants?o=f.collectionId:e=e.child(f.collectionId)}let l=[];n.where&&(l=(function(y){const b=Ej(y);return b instanceof Rr&&sj(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(y){return y.map((b=>(function(T){return new Nu(Sl(T.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let b;return b=typeof y=="object"?y.value:y,Fp(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(y){const b=!!y.before,E=y.values||[];return new $l(E,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const b=!y.before,E=y.values||[];return new $l(E,b)})(n.endAt)),QA(e,o,c,l,u,"F",h,p)}function RN(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ej(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sl(n.unaryFilter.field);return dn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sl(n.unaryFilter.field);return dn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sl(n.unaryFilter.field);return dn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return $e()}})(t):t.fieldFilter!==void 0?(function(n){return dn.create(Sl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Rr.create(n.compositeFilter.filters.map((r=>Ej(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e()}})(n.compositeFilter.op))})(t):$e()}function PN(t){return bN[t]}function DN(t){return wN[t]}function LN(t){return _N[t]}function jl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return Bn.fromServerFormat(t.fieldPath)}function Tj(t){return t instanceof dn?(function(n){if(n.op==="=="){if(l2(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(a2(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l2(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(a2(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:DN(n.op),value:n.value}}})(t):t instanceof Rr?(function(n){const r=n.getFilters().map((o=>Tj(o)));return r.length===1?r[0]:{compositeFilter:{op:LN(n.op),filters:r}}})(t):$e()}function MN(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Cj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,o,l=ze.min(),c=ze.min(),u=On.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.ct=e}}function BN(t){const e=IN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.un=new $N}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(ko.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class $N{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new $n(_t.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $n(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ol(0)}static kn(){return new Ol(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new ec((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&mu(r.mutation,o,Bs.empty(),hn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const o=ga();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=su();return l.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ga();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,o){let l=$i();const c=pu(),u=(function(){return pu()})();return n.forEach(((h,p)=>{const f=r.get(p.key);o.has(p.key)&&(f===void 0||f.mutation instanceof Io)?l=l.insert(p.key,p):f!==void 0?(c.set(p.key,f.mutation.getFieldMask()),mu(f.mutation,p,f.mutation.getFieldMask(),hn.now())):c.set(p.key,Bs.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,f)=>c.set(p,f))),n.forEach(((p,f)=>{var y;return u.set(p,new UN(f,(y=c.get(p))!==null&&y!==void 0?y:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=pu();let o=new Gt(((c,u)=>c-u)),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let f=r.get(h)||Bs.empty();f=u.applyToLocalView(p,f),r.set(h,f);const y=(o.get(u.batchId)||Ze()).add(h);o=o.insert(u.batchId,y)}))})).next((()=>{const c=[],u=o.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,f=h.value,y=dj();f.forEach((b=>{if(!l.has(b)){const E=yj(n.get(b),r.get(b));E!==null&&y.set(b,E),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,y))}return pe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):pe.resolve(ga());let u=-1,h=l;return c.next((p=>pe.forEach(p,((f,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),l.get(f)?pe.resolve():this.remoteDocumentCache.getEntry(e,f).next((b=>{h=h.insert(f,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,Ze()))).next((f=>({batchId:u,changes:uj(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let o=su();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=su();return this.indexManager.getCollectionParents(e,l).next((u=>pe.forEach(u,(h=>{const p=(function(y,b){return new Hi(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((f=>{f.forEach(((y,b)=>{c=c.insert(y,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((h,p)=>{const f=p.getKey();c.get(f)===null&&(c=c.insert(f,Yn.newInvalidDocument(f)))}));let u=su();return c.forEach(((h,p)=>{const f=l.get(h);f!==void 0&&mu(f.mutation,p,Bs.empty(),hn.now()),$p(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:BN(o.bundledQuery),readTime:ni(o.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.overlays=new Gt(Re.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ga();return pe.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),pe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const o=ga(),l=n.length+1,c=new Re(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&o.set(h.getKey(),h)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new Gt(((p,f)=>p-f));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let f=l.get(p.largestBatchId);f===null&&(f=ga(),l=l.insert(p.largestBatchId,f)),f.set(p.getKey(),p)}}const u=ga(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,f)=>u.set(p,f))),!(u.size()>=o)););return pe.resolve(u)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mN(n,r));let l=this.Ir.get(n);l===void 0&&(l=Ze(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Tr=new $n(jn.Er),this.dr=new $n(jn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new jn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Re(new _t([])),r=new jn(n,e),o=new jn(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Re(new _t([])),r=new jn(n,e),o=new jn(n,e+1);let l=Ze();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new jn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Re.comparator(e.key,n.key)||dt(e.wr,n.wr)}static Ar(e,n){return dt(e.wr,n.wr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $n(jn.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new pN(l,n,r,o);this.mutationQueue.push(c);for(const u of o)this.br=this.br.add(new jn(u.key,l)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),o=new jn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const u=this.Dr(c.wr);l.push(u)})),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $n(dt);return n.forEach((o=>{const l=new jn(o,0),c=new jn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(u=>{r=r.add(u.wr)}))})),pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Re.isDocumentKey(l)||(l=l.child(""));const c=new jn(new Re(l),0);let u=new $n(dt);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(u=u.add(h.wr)),!0)}),c),pe.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ft(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return pe.forEach(n.mutations,(o=>{const l=new jn(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new jn(n,0),o=this.br.firstAfterOrEqual(r);return pe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.Mr=e,this.docs=(function(){return new Gt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Yn.newInvalidDocument(o))})),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=$i();const c=n.path,u=new Re(c.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:f}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||NA(AA(f),r)<=0||(o.has(f.key)||$p(n,f))&&(l=l.insert(f.key,f.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,n,r,o){$e()}Or(e,n){return pe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QN(this)}getSize(e){return pe.resolve(this.size)}}class QN extends ON{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.persistence=e,this.Nr=new ec((n=>sy(n)),ry),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hy,this.targetCount=0,this.kr=Ol.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ol(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,u.targetId)),o++)})),pe.waitFor(l).next((()=>o))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ey(0),this.Kr=!1,this.Kr=!0,this.$r=new GN,this.referenceDelegate=e(this),this.Ur=new XN(this),this.indexManager=new VN,this.remoteDocumentCache=(function(o){return new KN(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new FN(n),this.Gr=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new qN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const o=new JN(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return pe.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class JN extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Jr=new hy,this.Yr=null}static Zr(e){return new py(e)}get Xr(){if(this.Yr)return this.Yr;throw $e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,(r=>{const o=Re.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,ze.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Ze(),o=Ze();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new my(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return s5()?8:PA(t5())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new ZN;return this.Xi(e,n,c).next((u=>{if(l.result=u,this.zi)return this.es(e,n,c,u.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(Gc()<=lt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(Gc()<=lt.DEBUG&&Ce("QueryEngine","Query:",_l(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Gc()<=lt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):pe.resolve())}Yi(e,n){if(h2(n))return pe.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ze(...l);return this.Ji.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(n,u);return this.ns(n,p,c,h.readTime)?this.Yi(e,hp(n,null,"F")):this.rs(e,p,n,h)}))))})))))}Zi(e,n,r,o){return h2(n)||o.isEqual(ze.min())?pe.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?pe.resolve(null):(Gc()<=lt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_l(n)),this.rs(e,c,n,CA(o,-1)).next((u=>u)))}))}ts(e,n){let r=new $n(lj(e));return n.forEach(((o,l)=>{$p(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return Gc()<=lt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",_l(n)),this.Ji.getDocumentsMatchingQuery(e,n,ko.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Gt(dt),this._s=new ec((l=>sy(l)),ry),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function nI(t,e,n,r){return new tI(t,e,n,r)}async function Aj(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],u=[];let h=Ze();for(const p of o){c.push(p.batchId);for(const f of p.mutations)h=h.add(f.key)}for(const p of l){u.push(p.batchId);for(const f of p.mutations)h=h.add(f.key)}return n.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:u})))}))}))}function sI(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,f){const y=p.batch,b=y.keys();let E=pe.resolve();return b.forEach((T=>{E=E.next((()=>f.getEntry(h,T))).next((R=>{const L=p.docVersions.get(T);ft(L!==null),R.version.compareTo(L)<0&&(y.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),f.addEntry(R)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Ze();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Nj(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function rI(t,e){const n=He(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const u=[];e.targetChanges.forEach(((f,y)=>{const b=o.get(y);if(!b)return;u.push(n.Ur.removeMatchingKeys(l,f.removedDocuments,y).next((()=>n.Ur.addMatchingKeys(l,f.addedDocuments,y))));let E=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(On.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),o=o.insert(y,E),(function(R,L,O){return R.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,E,f)&&u.push(n.Ur.updateTargetData(l,E))}));let h=$i(),p=Ze();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(l,f))})),u.push(iI(l,c,e.documentUpdates).next((f=>{h=f.Ps,p=f.Is}))),!r.isEqual(ze.min())){const f=n.Ur.getLastRemoteSnapshotVersion(l).next((y=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));u.push(f)}return pe.waitFor(u).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(n.os=o,l)))}function iI(t,e,n){let r=Ze(),o=Ze();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=$i();return n.forEach(((u,h)=>{const p=l.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(u)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):Ce("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{Ps:c,Is:o}}))}function oI(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aI(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,pe.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new bo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function d0(t,e,n){const r=He(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Wu(c))throw c;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function j2(t,e,n){const r=He(t);let o=ze.min(),l=Ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,f){const y=He(h),b=y._s.get(f);return b!==void 0?pe.resolve(y.os.get(b)):y.Ur.getTargetData(p,f)})(r,c,ti(e)).next((u=>{if(u)return o=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,u.targetId).next((h=>{l=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:ze.min(),n?l:Ze()))).next((u=>(lI(r,YA(e),u),{documents:u,Ts:l})))))}function lI(t,e,n){let r=t.us.get(e)||ze.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class S2{constructor(){this.activeTargetIds=sN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cI{constructor(){this.so=new S2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new S2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Zf(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class pI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const u=Zf(),h=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${u}:`,h,o);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,h,p,o).then((f=>(Ce("RestConnection",`Received RPC '${n}' ${u}: `,f),f)),(f=>{throw Ml("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",h,"request:",o),f}))}Lo(n,r,o,l,c,u){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=dI[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=Zf();return new Promise(((c,u)=>{const h=new W_;h.setWithCredentials(!0),h.listenOnce(G_.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Kh.NO_ERROR:const f=h.getResponseJson();Ce(qn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(f)),c(f);break;case Kh.TIMEOUT:Ce(qn,`RPC '${e}' ${l} timed out`),u(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const y=h.getStatus();if(Ce(qn,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const T=(function(L){const O=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(O)>=0?O:oe.UNKNOWN})(E.status);u(new ve(T,E.message))}else u(new ve(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ce(qn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(o);Ce(qn,`RPC '${e}' ${l} sending request:`,o),h.send(n,"POST",p,r,15)}))}Bo(e,n,r){const o=Zf(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Q_(),u=K_(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const f=l.join("");Ce(qn,`Creating RPC '${e}' stream ${o}: ${f}`,h);const y=c.createWebChannel(f,h);let b=!1,E=!1;const T=new hI({Io:L=>{E?Ce(qn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(b||(Ce(qn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),b=!0),Ce(qn,`RPC '${e}' stream ${o} sending:`,L),y.send(L))},To:()=>y.close()}),R=(L,O,B)=>{L.listen(O,(I=>{try{B(I)}catch(v){setTimeout((()=>{throw v}),0)}}))};return R(y,nu.EventType.OPEN,(()=>{E||(Ce(qn,`RPC '${e}' stream ${o} transport opened.`),T.yo())})),R(y,nu.EventType.CLOSE,(()=>{E||(E=!0,Ce(qn,`RPC '${e}' stream ${o} transport closed`),T.So())})),R(y,nu.EventType.ERROR,(L=>{E||(E=!0,Ml(qn,`RPC '${e}' stream ${o} transport errored:`,L),T.So(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),R(y,nu.EventType.MESSAGE,(L=>{var O;if(!E){const B=L.data[0];ft(!!B);const I=B,v=I.error||((O=I[0])===null||O===void 0?void 0:O.error);if(v){Ce(qn,`RPC '${e}' stream ${o} received error:`,v);const _=v.status;let D=(function(A){const F=on[A];if(F!==void 0)return vj(F)})(_),k=v.message;D===void 0&&(D=oe.INTERNAL,k="Unknown error status: "+_+" with message "+v.message),E=!0,T.So(new ve(D,k)),y.close()}else Ce(qn,`RPC '${e}' stream ${o} received:`,B),T.bo(B)}})),R(u,q_.STAT_EVENT,(L=>{L.stat===t0.PROXY?Ce(qn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===t0.NOPROXY&&Ce(qn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function eg(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){return new jN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&Ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,o,l,c,u,h){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ij(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mI extends Rj{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=EN(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?ni(c.readTime):ze.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=u0(this.serializer),n.addTarget=(function(l,c){let u;const h=c.target;if(u=i0(h)?{documents:AN(l,h)}:{query:NN(l,h)._t},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=_j(l,c.resumeToken);const p=a0(l,c.expectedCount);p!==null&&(u.expectedCount=p)}else if(c.snapshotVersion.compareTo(ze.min())>0){u.readTime=mp(l,c.snapshotVersion.toTimestamp());const p=a0(l,c.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=RN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=u0(this.serializer),n.removeTarget=e,this.a_(n)}}class fI extends Rj{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=CN(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=u0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TN(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,l0(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Lo(e,l0(n,r),o,c,u,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class yI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{Ta(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=He(h);p.L_.add(4),await Ku(p),p.q_.set("Unknown"),p.L_.delete(4),await Wp(p)})(this))}))})),this.q_=new yI(r,o)}}async function Wp(t){if(Ta(t))for(const e of t.B_)await e(!0)}async function Ku(t){for(const e of t.B_)await e(!1)}function Pj(t,e){const n=He(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xy(n)?yy(n):tc(n).r_()&&gy(n,e))}function fy(t,e){const n=He(t),r=tc(n);n.N_.delete(e),r.r_()&&Dj(n,e),n.N_.size===0&&(r.r_()?r.o_():Ta(n)&&n.q_.set("Unknown"))}function gy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tc(t).A_(e)}function Dj(t,e){t.Q_.xe(e),tc(t).R_(e)}function yy(t){t.Q_=new vN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),tc(t).start(),t.q_.v_()}function xy(t){return Ta(t)&&!tc(t).n_()&&t.N_.size>0}function Ta(t){return He(t).L_.size===0}function Lj(t){t.Q_=void 0}async function vI(t){t.q_.set("Online")}async function bI(t){t.N_.forEach(((e,n)=>{gy(t,e)}))}async function wI(t,e){Lj(t),xy(t)?(t.q_.M_(e),yy(t)):t.q_.set("Unknown")}async function _I(t,e,n){if(t.q_.set("Online"),e instanceof wj&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const u of l.targetIds)o.N_.has(u)&&(await o.remoteSyncer.rejectListen(u,c),o.N_.delete(u),o.Q_.removeTarget(u))})(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fp(t,r)}else if(e instanceof Yh?t.Q_.Ke(e):e instanceof bj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ze.min()))try{const r=await Nj(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const u=l.Q_.rt(c);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const f=l.N_.get(p);f&&l.N_.set(p,f.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,p)=>{const f=l.N_.get(h);if(!f)return;l.N_.set(h,f.withResumeToken(On.EMPTY_BYTE_STRING,f.snapshotVersion)),Dj(l,h);const y=new bo(f.target,h,p,f.sequenceNumber);gy(l,y)})),l.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await fp(t,r)}}async function fp(t,e,n){if(!Wu(e))throw e;t.L_.add(1),await Ku(t),t.q_.set("Offline"),n||(n=()=>Nj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wp(t)}))}function Mj(t,e){return e().catch((n=>fp(t,n,e)))}async function Gp(t){const e=He(t),n=To(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jI(e);)try{const o=await oI(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,SI(e,o)}catch(o){await fp(e,o)}Fj(e)&&Bj(e)}function jI(t){return Ta(t)&&t.O_.length<10}function SI(t,e){t.O_.push(e);const n=To(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Fj(t){return Ta(t)&&!To(t).n_()&&t.O_.length>0}function Bj(t){To(t).start()}async function kI(t){To(t).p_()}async function EI(t){const e=To(t);for(const n of t.O_)e.m_(n.mutations)}async function TI(t,e,n){const r=t.O_.shift(),o=cy.from(r,e,n);await Mj(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Gp(t)}async function CI(t,e){e&&To(t).V_&&await(async function(r,o){if((function(c){return gN(c)&&c!==oe.ABORTED})(o.code)){const l=r.O_.shift();To(r).s_(),await Mj(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Gp(r)}})(t,e),Fj(t)&&Bj(t)}async function E2(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=Ta(n);n.L_.add(3),await Ku(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wp(n)}async function AI(t,e){const n=He(t);e?(n.L_.delete(2),await Wp(n)):e||(n.L_.add(2),await Ku(n),n.q_.set("Unknown"))}function tc(t){return t.K_||(t.K_=(function(n,r,o){const l=He(n);return l.w_(),new mI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:vI.bind(null,t),Ro:bI.bind(null,t),mo:wI.bind(null,t),d_:_I.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),xy(t)?yy(t):t.q_.set("Unknown")):(await t.K_.stop(),Lj(t))}))),t.K_}function To(t){return t.U_||(t.U_=(function(n,r,o){const l=He(n);return l.w_(),new fI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kI.bind(null,t),mo:CI.bind(null,t),f_:EI.bind(null,t),g_:TI.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Gp(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,u=new vy(e,n,c,o,l);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),Wu(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new Dl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.W_=new Gt(Re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):$e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ul{constructor(e,n,r,o,l,c,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new Ul(e,n,Dl.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class II{constructor(){this.queries=C2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=He(n),l=o.queries;o.queries=C2(),l.forEach(((c,u)=>{for(const h of u.j_)h.onError(r)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function C2(){return new ec((t=>aj(t)),Vp)}async function Vj(t,e){const n=He(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new NI,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const u=by(c,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(u)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&wy(n)}async function $j(t,e){const n=He(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RI(t,e){const n=He(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const u of c.j_)u.X_(o)&&(r=!0);c.z_=o}}r&&wy(n)}function PI(t,e,n){const r=He(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function wy(t){t.Y_.forEach((e=>{e.next()}))}var h0,A2;(A2=h0||(h0={})).ea="default",A2.Cache="cache";class Oj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==h0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.key=e}}class zj{constructor(e){this.key=e}}class DI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=lj(e),this.Ra=new Dl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new T2,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,u=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((f,y)=>{const b=o.get(f),E=$p(this.query,y)?y:null,T=!!b&&this.mutatedKeys.has(b.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let L=!1;b&&E?b.data.isEqual(E.data)?T!==R&&(r.track({type:3,doc:E}),L=!0):this.ga(b,E)||(r.track({type:2,doc:E}),L=!0,(h&&this.Aa(E,h)>0||p&&this.Aa(E,p)<0)&&(u=!0)):!b&&E?(r.track({type:0,doc:E}),L=!0):b&&!E&&(r.track({type:1,doc:b}),L=!0,(h||p)&&(u=!0)),L&&(E?(c=c.add(E),l=R?l.add(f):l.delete(f)):(c=c.delete(f),l=l.delete(f)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const f=this.query.limitType==="F"?c.last():c.first();c=c.delete(f.key),l=l.delete(f.key),r.track({type:1,doc:f})}return{Ra:c,fa:r,ns:u,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((f,y)=>(function(E,T){const R=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return R(E)-R(T)})(f.type,y.type)||this.Aa(f.doc,y.doc))),this.pa(r),o=o!=null&&o;const u=n&&!o?this.ya():[],h=this.da.size===0&&this.current&&!o?1:0,p=h!==this.Ea;return this.Ea=h,c.length!==0||p?{snapshot:new Ul(this.query,e.Ra,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new T2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new zj(r))})),this.da.forEach((r=>{e.has(r)||n.push(new Uj(r))})),n}ba(e){this.Ta=e.Ts,this.da=Ze();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class LI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MI{constructor(e){this.key=e,this.va=!1}}class FI{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ec((u=>aj(u)),Vp),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(Re.comparator),this.Na=new Map,this.La=new hy,this.Ba={},this.ka=new Map,this.qa=Ol.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function BI(t,e,n=!0){const r=Qj(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await Hj(r,e,n,!0),o}async function VI(t,e){const n=Qj(t);await Hj(n,e,!0,!1)}async function Hj(t,e,n,r){const o=await aI(t.localStore,ti(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let u;return r&&(u=await $I(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Pj(t.remoteStore,o),u}async function $I(t,e,n,r,o){t.Ka=(y,b,E)=>(async function(R,L,O,B){let I=L.view.ma(O);I.ns&&(I=await j2(R.localStore,L.query,!1).then((({documents:k})=>L.view.ma(k,I))));const v=B&&B.targetChanges.get(L.targetId),_=B&&B.targetMismatches.get(L.targetId)!=null,D=L.view.applyChanges(I,R.isPrimaryClient,v,_);return I2(R,L.targetId,D.wa),D.snapshot})(t,y,b,E);const l=await j2(t.localStore,e,!0),c=new DI(e,l.Ts),u=c.ma(l.documents),h=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=c.applyChanges(u,t.isPrimaryClient,h);I2(t,n,p.wa);const f=new LI(e,n,c);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function OI(t,e,n){const r=He(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!Vp(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await d0(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fy(r.remoteStore,o.targetId),p0(r,o.targetId)})).catch(Hu)):(p0(r,o.targetId),await d0(r.localStore,o.targetId,!0))}async function UI(t,e){const n=He(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fy(n.remoteStore,r.targetId))}async function zI(t,e,n){const r=XI(t);try{const o=await(function(c,u){const h=He(c),p=hn.now(),f=u.reduce(((E,T)=>E.add(T.key)),Ze());let y,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let T=$i(),R=Ze();return h.cs.getEntries(E,f).next((L=>{T=L,T.forEach(((O,B)=>{B.isValidDocument()||(R=R.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,T))).next((L=>{y=L;const O=[];for(const B of u){const I=dN(B,y.get(B.key).overlayedDocument);I!=null&&O.push(new Io(B.key,I,ej(I.value.mapValue),ar.exists(!0)))}return h.mutationQueue.addMutationBatch(E,p,O,u)})).next((L=>{b=L;const O=L.applyToLocalDocumentSet(y,R);return h.documentOverlayCache.saveOverlays(E,L.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:uj(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,u,h){let p=c.Ba[c.currentUser.toKey()];p||(p=new Gt(dt)),p=p.insert(u,h),c.Ba[c.currentUser.toKey()]=p})(r,o.batchId,n),await Qu(r,o.changes),await Gp(r.remoteStore)}catch(o){const l=by(o,"Failed to persist write");n.reject(l)}}async function Wj(t,e){const n=He(t);try{const r=await rI(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?ft(c.va):o.removedDocuments.size>0&&(ft(c.va),c.va=!1))})),await Qu(n,r,e)}catch(r){await Hu(r)}}function N2(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const u=c.view.Z_(e);u.snapshot&&o.push(u.snapshot)})),(function(c,u){const h=He(c);h.onlineState=u;let p=!1;h.queries.forEach(((f,y)=>{for(const b of y.j_)b.Z_(u)&&(p=!0)})),p&&wy(h)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HI(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new Gt(Re.comparator);c=c.insert(l,Yn.newNoDocument(l,ze.min()));const u=Ze().add(l),h=new zp(ze.min(),new Map,new Gt(dt),c,u);await Wj(r,h),r.Oa=r.Oa.remove(l),r.Na.delete(e),_y(r)}else await d0(r.localStore,e,!1).then((()=>p0(r,e,n))).catch(Hu)}async function WI(t,e){const n=He(t),r=e.batch.batchId;try{const o=await sI(n.localStore,e);qj(n,r,null),Gj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,o)}catch(o){await Hu(o)}}async function GI(t,e,n){const r=He(t);try{const o=await(function(c,u){const h=He(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let f;return h.mutationQueue.lookupMutationBatch(p,u).next((y=>(ft(y!==null),f=y.keys(),h.mutationQueue.removeMutationBatch(p,y)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,f,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,f))).next((()=>h.localDocuments.getDocuments(p,f)))}))})(r.localStore,e);qj(r,e,n),Gj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qu(r,o)}catch(o){await Hu(o)}}function Gj(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function qj(t,e,n){const r=He(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function p0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||Kj(t,r)}))}function Kj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(fy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_y(t))}function I2(t,e,n){for(const r of n)r instanceof Uj?(t.La.addReference(r.key,e),qI(t,r)):r instanceof zj?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Kj(t,r.key)):$e()}function qI(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),_y(t))}function _y(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Re(_t.fromString(e)),r=t.qa.next();t.Na.set(r,new MI(n)),t.Oa=t.Oa.insert(n,r),Pj(t.remoteStore,new bo(ti(iy(n.path)),r,"TargetPurposeLimboResolution",ey.oe))}}async function Qu(t,e,n){const r=He(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((u,h)=>{c.push(r.Ka(h,e,n).then((p=>{var f;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(f=n==null?void 0:n.targetChanges.get(h.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){o.push(p);const y=my.Wi(h.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(h,p){const f=He(h);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>pe.forEach(p,(b=>pe.forEach(b.$i,(E=>f.persistence.referenceDelegate.addReference(y,b.targetId,E))).next((()=>pe.forEach(b.Ui,(E=>f.persistence.referenceDelegate.removeReference(y,b.targetId,E)))))))))}catch(y){if(!Wu(y))throw y;Ce("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const b=y.targetId;if(!y.fromCache){const E=f.os.get(b),T=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(b,R)}}})(r.localStore,l))}async function KI(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await Aj(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((u=>{u.forEach((h=>{h.reject(new ve(oe.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.hs)}}function QI(t,e){const n=He(t),r=n.Na.get(e);if(r&&r.va)return Ze().add(r.key);{let o=Ze();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const u=n.Fa.get(c);o=o.unionWith(u.view.Va)}return o}}function Qj(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HI.bind(null,e),e.Ca.d_=RI.bind(null,e.eventManager),e.Ca.$a=PI.bind(null,e.eventManager),e}function XI(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GI.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return nI(this.persistence,new eI,e.initialUser,this.serializer)}Ga(e){return new YN(py.Zr,this.serializer)}Wa(e){return new cI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class m0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KI.bind(null,this.syncEngine),await AI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new II})()}createDatastore(e){const n=Hp(e.databaseInfo.databaseId),r=(function(l){return new pI(l)})(e.databaseInfo);return(function(l,c,u,h){return new gI(l,c,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,u){return new xI(r,o,l,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>N2(this.syncEngine,n,0)),(function(){return k2.D()?new k2:new uI})())}createSyncEngine(e,n){return(function(o,l,c,u,h,p,f){const y=new FI(o,l,c,u,h,p);return f&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=He(o);Ce("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Ku(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m0.provider={build:()=>new m0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Qn.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tg(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Aj(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function R2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JI(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>E2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>E2(e.remoteStore,o))),t._onlineComponents=e}async function JI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ml("Error using user provided cache. Falling back to memory cache: "+n),await tg(t,new gp)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await tg(t,new gp);return t._offlineComponents}async function Yj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await R2(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await R2(t,new m0))),t._onlineComponents}function ZI(t){return Yj(t).then((e=>e.syncEngine))}async function Jj(t){const e=await Yj(t),n=e.eventManager;return n.onListen=BI.bind(null,e.syncEngine),n.onUnlisten=OI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UI.bind(null,e.syncEngine),n}function eR(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,u,h,p){const f=new Xj({next:b=>{f.Za(),c.enqueueAndForget((()=>$j(l,y)));const E=b.docs.has(u);!E&&b.fromCache?p.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&h&&h.source==="server"?p.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),y=new Oj(iy(u.path),f,{includeMetadataChanges:!0,_a:!0});return Vj(l,y)})(await Jj(t),t.asyncQueue,e,n,r))),r.promise}function tR(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,u,h,p){const f=new Xj({next:b=>{f.Za(),c.enqueueAndForget((()=>$j(l,y))),b.fromCache&&h.source==="server"?p.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),y=new Oj(u,f,{includeMetadataChanges:!0,_a:!0});return Vj(l,y)})(await Jj(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nR(t,e,n,r){if(e===!0&&r===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D2(t){if(!Re.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L2(t){if(Re.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e()}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sR(t,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vA;switch(r.type){case"firstParty":return new jA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=P2.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),P2.delete(n),r.terminate())})(this),Promise.resolve()}}function rR(t,e,n,r={}){var o;const l=(t=Oi(t,Xu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Qn.MOCK_USER;else{u=e5(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qn(p)}t._authCredentials=new bA(new X_(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class ks{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ks(this.firestore,e,this._key)}}class So extends Lr{constructor(e,n,r){super(e,n,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ks(this.firestore,null,new Re(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Kp(t,e,...n){if(t=Ir(t),jy("collection","path",e),t instanceof Xu){const r=_t.fromString(e,...n);return L2(r),new So(t,null,r)}{if(!(t instanceof ks||t instanceof So))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return L2(r),new So(t.firestore,null,r)}}function iR(t,e){if(t=Oi(t,Xu),jy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lr(t,null,(function(r){return new Hi(_t.emptyPath(),r)})(e))}function cn(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=Y_.newId()),jy("doc","path",e),t instanceof Xu){const r=_t.fromString(e,...n);return D2(r),new ks(t,null,new Re(r))}{if(!(t instanceof ks||t instanceof So))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return D2(r),new ks(t.firestore,t instanceof So?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ij(this,"async_queue_retry"),this.Vu=()=>{const r=eg();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Mi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wu(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),u})(r);throw Vi("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=vy.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&$e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yu extends Xu{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new F2,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F2(e),this._firestoreClient=void 0,await e}}}function oR(t,e){const n=typeof t=="object"?t:O_(),r=typeof t=="string"?t:"(default)",o=iA(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=JC("firestore");l&&rR(o,...l)}return o}function Qp(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aR(t),t._firestoreClient}function aR(t){var e,n,r;const o=t._freezeSettings(),l=(function(u,h,p,f){return new MA(u,h,p,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Zj(f.experimentalLongPollingOptions),f.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new YI(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(On.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=/^__.*__$/;class cR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class eS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class Ey{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tS(this.Cu)&&lR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hp(e)}Qu(e,n,r,o=!1){return new Ey({Cu:e,methodName:n,qu:r,path:Bn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(t){const e=t._freezeSettings(),n=Hp(t._databaseId);return new uR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);Cy("Data must be an object, but it was:",c,r);const u=rS(r,c);let h,p;if(l.merge)h=new Bs(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const f=[];for(const y of l.mergeFields){const b=f0(e,y,n);if(!c.contains(b))throw new ve(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);oS(f,b)||f.push(b)}h=new Bs(f),p=c.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,p=c.fieldTransforms;return new cR(new Ss(u),h,p)}class Zp extends Yp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zp}}class Ty extends Yp{_toFieldTransform(e){return new aN(e.path,new Iu)}isEqual(e){return e instanceof Ty}}function dR(t,e,n,r){const o=t.Qu(1,e,n);Cy("Data must be an object, but it was:",o,r);const l=[],c=Ss.empty();Ea(r,((h,p)=>{const f=Ay(e,h,n);p=Ir(p);const y=o.Nu(f);if(p instanceof Zp)l.push(f);else{const b=Ju(p,y);b!=null&&(l.push(f),c.set(f,b))}}));const u=new Bs(l);return new eS(c,u,o.fieldTransforms)}function hR(t,e,n,r,o,l){const c=t.Qu(1,e,n),u=[f0(e,r,n)],h=[o];if(l.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)u.push(f0(e,l[b])),h.push(l[b+1]);const p=[],f=Ss.empty();for(let b=u.length-1;b>=0;--b)if(!oS(p,u[b])){const E=u[b];let T=h[b];T=Ir(T);const R=c.Nu(E);if(T instanceof Zp)p.push(E);else{const L=Ju(T,R);L!=null&&(p.push(E),f.set(E,L))}}const y=new Bs(p);return new eS(f,y,c.fieldTransforms)}function sS(t,e,n,r=!1){return Ju(n,t.Qu(r?4:3,e))}function Ju(t,e){if(iS(t=Ir(t)))return Cy("Unsupported field value:",e,t),rS(t,e);if(t instanceof Yp)return(function(r,o){if(!tS(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const u of r){let h=Ju(u,o.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=hn.fromDate(r);return{timestampValue:mp(o.serializer,l)}}if(r instanceof hn){const l=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mp(o.serializer,l)}}if(r instanceof Sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:_j(o.serializer,r._byteString)};if(r instanceof ks){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ky)return(function(c,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw u.Bu("VectorValues must only contain numeric values.");return ay(u.serializer,h)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${qp(r)}`)})(t,e)}function rS(t,e){const n={};return J_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,((r,o)=>{const l=Ju(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function iS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof Sy||t instanceof zl||t instanceof ks||t instanceof Yp||t instanceof ky)}function Cy(t,e,n){if(!iS(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=qp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function f0(t,e,n){if((e=Ir(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const pR=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(pR)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch(r){throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yp(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new ve(oe.INVALID_ARGUMENT,u+t+h)}function oS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ks(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mR extends Ny{data(){return super.data()}}function em(t,e){return typeof e=="string"?Ay(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iy{}class Zu extends Iy{}function Ri(t,e,...n){let r=[];e instanceof Iy&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof Ry)).length,u=l.filter((h=>h instanceof tm)).length;if(c>1||c>0&&u>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class tm extends Zu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=this._parse(e);return lS(e._query,n),new Lr(e.firestore,e.converter,o0(e._query,n))}_parse(e){const n=Jp(e.firestore);return(function(l,c,u,h,p,f,y){let b;if(p.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){V2(y,f);const E=[];for(const T of y)E.push(B2(h,l,T));b={arrayValue:{values:E}}}else b=B2(h,l,y)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||V2(y,f),b=sS(u,c,y,f==="in"||f==="not-in");return dn.create(p,f,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jh(t,e,n){const r=e,o=em("where",t);return tm._create(o,r,n)}class Ry extends Iy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ry(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const u=l.getFlattenedFilters();for(const h of u)lS(c,h),c=o0(c,h)})(e._query,n),new Lr(e.firestore,e.converter,o0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Py extends Zu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Py(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(l,c)})(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Hi(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function iu(t,e="asc"){const n=e,r=em("orderBy",t);return Py._create(r,n)}class Dy extends Zu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dy(e,n,r)}_apply(e){return new Lr(e.firestore,e.converter,hp(e._query,this._limit,this._limitType))}}function Pi(t){return sR("limit",t),Dy._create("limit",t,"F")}class Ly extends Zu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ly(e,n,r)}_apply(e){const n=aS(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,(function(o,l){return new Hi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function Ch(...t){return Ly._create("startAt",t,!0)}class My extends Zu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new My(e,n,r)}_apply(e){const n=aS(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,(function(o,l){return new Hi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function Ah(...t){return My._create("endAt",t,!0)}function aS(t,e,n,r){if(n[0]=Ir(n[0]),n[0]instanceof Ny)return(function(l,c,u,h,p){if(!h)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const f=[];for(const y of Pl(l))if(y.field.isKeyField())f.push(dp(c,h.key));else{const b=h.data.field(y.field);if(Bp(b))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const E=y.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}f.push(b)}return new $l(f,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Jp(t.firestore);return(function(c,u,h,p,f,y){const b=c.explicitOrderBy;if(f.length>b.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let T=0;T<f.length;T++){const R=f[T];if(b[T].field.isKeyField()){if(typeof R!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof R}`);if(!oy(c)&&R.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${R}' contains a slash.`);const L=c.path.child(_t.fromString(R));if(!Re.isDocumentKey(L))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const O=new Re(L);E.push(dp(u,O))}else{const L=sS(h,p,R);E.push(L)}}return new $l(E,y)})(t._query,t.firestore._databaseId,o,e,n,r)}}function B2(t,e,n){if(typeof(n=Ir(n))=="string"){if(n==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(e)&&n.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Re.isDocumentKey(r))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dp(t,new Re(r))}if(n instanceof ks)return dp(t,n._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(n)}.`)}function V2(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(t,e){const n=(function(o,l){for(const c of o)for(const u of c.getFlattenedFilters())if(l.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gR{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ea(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>tn(c.doubleValue)));return new ky(l)}convertGeoPoint(e){return new Sy(tn(e.latitude),tn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ty(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=Eo(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);ft(Cj(r));const o=new Cu(r.get(1),r.get(3)),l=new Re(r.popFirst(5));return o.isEqual(n)||Vi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uS extends Ny{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zh extends uS{data(e={}){return super.data(e)}}class yR{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zh(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((u=>{const h=new Zh(o._firestore,o._userDataWriter,u.doc.key,u.doc,new ou(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((u=>l||u.type!==3)).map((u=>{const h=new Zh(o._firestore,o._userDataWriter,u.doc.key,u.doc,new ou(o._snapshot.mutatedKeys.has(u.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,f=-1;return u.type!==0&&(p=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),f=c.indexOf(u.doc.key)),{type:xR(u.type),doc:h,oldIndex:p,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){t=Oi(t,ks);const e=Oi(t.firestore,Yu);return eR(Qp(e),t._key).then((n=>vR(e,t,n)))}class dS extends gR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ks(this.firestore,null,n)}}function ei(t){t=Oi(t,Lr);const e=Oi(t.firestore,Yu),n=Qp(e),r=new dS(e);return fR(t._query),tR(n,t._query).then((o=>new yR(e,r,t,o)))}function xp(t,e,n){t=Oi(t,ks);const r=Oi(t.firestore,Yu),o=cS(t.converter,e,n);return hS(r,[nS(Jp(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ar.none())])}function hS(t,e){return(function(r,o){const l=new Mi;return r.asyncQueue.enqueueAndForget((async()=>zI(await ZI(r),o,l))),l.promise})(Qp(t),e)}function vR(t,e,n){const r=n.docs.get(e._key),o=new dS(t);return new uS(t,o,e._key,r,new ou(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jp(e)}set(e,n,r){this._verifyNotCommitted();const o=ng(e,this._firestore),l=cS(o.converter,n,r),c=nS(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,ar.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=ng(e,this._firestore);let c;return c=typeof(n=Ir(n))=="string"||n instanceof Xp?hR(this._dataReader,"WriteBatch.update",l._key,n,r,o):dR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ng(e,this._firestore);return this._mutations=this._mutations.concat(new ly(n._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ng(t,e){if((t=Ir(t)).firestore!==e)throw new ve(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ni(){return new Ty("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){return Qp(t=Oi(t,Yu)),new bR(t,(e=>hS(t,e)))}(function(e,n=!0){(function(o){Zl=o})(lA),cp(new ju("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),u=new Yu(new wA(r.getProvider("auth-internal")),new kA(r.getProvider("app-check-internal")),(function(p,f){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(p.options.projectId,f)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),u._setSettings(l),u}),"PUBLIC").setMultipleInstances(!0)),Rl(n2,"4.7.3",e),Rl(n2,"4.7.3","esm2017")})();var _R="firebase",jR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rl(_R,jR,"app");const Fy={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Fy.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const SR=cA().length?O_():$_(Fy),wt=oR(SR);console.log("[FB] projectId =",Fy.projectId);const Er={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Tr=t=>`https://drive.google.com/uc?export=view&id=${t}`,pS=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),yn=[{key:"warrior",label:"Warrior",iconUrl:Tr(Er.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Tr(Er.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Tr(Er.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Tr(Er.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Tr(Er["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Tr(Er.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Tr(Er["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Tr(Er.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Tr(Er.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Tr(Er.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Tr(Er.paladin),fallback:""}],g0=Object.fromEntries(yn.map(t=>[t.key,t])),y0=new Map;function qt(t,e){y0.set(pS(t),e)}for(const t of yn)qt(t.key,t.key),qt(t.label,t.key);qt("war","warrior");qt("krieger","warrior");qt("magier","mage");qt("jaeger","scout");qt("jger","scout");qt("assa","assassin");qt("meuchelmoerder","assassin");qt("meuchelmrder","assassin");qt("demonhunter","demon-hunter");qt("dh","demon-hunter");qt("daemonenjaeger","demon-hunter");qt("dmonenjger","demon-hunter");qt("zerker","berserker");qt("battlemage","battle-mage");qt("kampfmagier","battle-mage");qt("bm","battle-mage");qt("druide","druid");qt("barde","bard");qt("necro","necromancer");qt("nekromant","necromancer");qt("pala","paladin");function kR(t){const e=pS(t);if(!e)return{};const n=y0.get(e);if(n){const r=g0[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of y0.entries())if(r.startsWith(e)||e.startsWith(r)){const l=g0[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const ER=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:yn,CLASS_BY_KEY:g0,iconForClassName:kR},Symbol.toStringTag,{value:"Module"}));function nm(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const o=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return o!=null&&o[1]?o[1]:null}function ep(t){if(t==null)return;const e=nm(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function mS(t,e=64){if(t==null)return;const n=nm(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function fS(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function gS(t,e,n,r){const o=ep(t);return o?fS(o,{w:e,h:n,fit:r}):void 0}function Mr(t,e=64){const n=mS(t,e);return n?fS(n,{w:e,h:e,fit:"contain"}):void 0}function sg(t){if(t==null)return;const e=nm(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function TR(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const Hl=Object.assign(t=>ep(t),{id:nm,direct:ep,thumb:mS,proxy:gS,thumbProxy:Mr,raw:sg,gif:sg,gifProxy:t=>{const e=sg(t);return e&&/^https?:\/\//i.test(e)?TR(e):ep(t)}}),rg=t=>Number.isFinite(t),fl=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},CR=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function AR(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=yn.find(l=>n(l.label)===r);if(o||(o=yn.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return Mr(o.iconUrl,e)}function NR(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function IR({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=No(),[r,o]=Pe.useState(""),[l,c]=Pe.useState(""),[u,h]=Pe.useState(!1),[p,f]=Pe.useState(null),[y,b]=Pe.useState([]),[E,T]=Pe.useState([]),[R,L]=Pe.useState([]),[O,B]=Pe.useState(-1),I=Pe.useRef(null);Pe.useEffect(()=>{const k=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(k)},[r]),Pe.useEffect(()=>{async function k(){f(null);const S=l;if(S.length<1){b([]),T([]),L([]),B(-1);return}h(!0);try{let A=function(Ee){var rt,Lt,ht,jt,gt,ls,cs,yt,zs,us,En,Tn,Es,ds,hs,Ts,St,it,ps,cr,xt,Hs,Ws,Fr,Br,Vr,li,$r,Cs,kt,ur,Jn,As,ci;const ge=Ee.data(),{root:Ae,id:Ie}=NR(Ee),De=Ie||ge.playerId||ge.guildIdentifier||"";if(Ae==="players"||ge.playerId&&!ge.guildIdentifier){if(!De||ie.has(De))return;ie.add(De),se.push({kind:"player",id:De,name:(ht=(Lt=ge.name)!=null?Lt:(rt=ge.values)==null?void 0:rt.Name)!=null?ht:null,nameFold:(jt=ge.nameFold)!=null?jt:null,server:(cs=(ls=ge.server)!=null?ls:(gt=ge.values)==null?void 0:gt.Server)!=null?cs:null,guildName:(us=(zs=ge.guildName)!=null?zs:(yt=ge.values)==null?void 0:yt.Guild)!=null?us:null,className:(Es=(Tn=ge.className)!=null?Tn:(En=ge.values)==null?void 0:En.Class)!=null?Es:null,level:fl((hs=ge.level)!=null?hs:(ds=ge.values)==null?void 0:ds.Level),ts:fl(ge.timestamp)});return}if(Ae==="guilds"||ge.guildIdentifier&&!ge.playerId){if(!De||H.has(De))return;H.add(De),K.push({kind:"guild",id:De,name:(it=(St=ge.name)!=null?St:(Ts=ge.values)==null?void 0:Ts.Name)!=null?it:null,nameFold:(ps=ge.nameFold)!=null?ps:null,server:(Hs=(xt=ge.server)!=null?xt:(cr=ge.values)==null?void 0:cr.Server)!=null?Hs:null,memberCount:fl((Vr=(Fr=ge.memberCount)!=null?Fr:(Ws=ge.values)==null?void 0:Ws["Guild Member Count"])!=null?Vr:(Br=ge.values)==null?void 0:Br.GuildMemberCount),hofRank:fl((ci=(Jn=(kt=($r=ge.hofRank)!=null?$r:(li=ge.values)==null?void 0:li["Hall of Fame Rank"])!=null?kt:(Cs=ge.values)==null?void 0:Cs.HoF)!=null?Jn:(ur=ge.values)==null?void 0:ur.Rank)!=null?ci:(As=ge.values)==null?void 0:As["Guild Rank"]),ts:fl(ge.timestamp)});return}};const F=CR(S),P=iR(wt,"latest"),V=await ei(Ri(P,iu("nameFold"),Ch(F),Ah(F+""),Pi(e*6))),$=await ei(Ri(P,Jh("nameNgrams","array-contains",F),Pi(e*6))),ie=new Set,H=new Set,se=[],K=[];V.forEach(A),$.forEach(A);const X=Kp(wt,"servers"),ae=S.toLowerCase(),le=S.toUpperCase(),W=[ei(Ri(X,iu("displayName"),Ch(S),Ah(S+""),Pi(e*4))),ei(Ri(X,iu("code"),Ch(le),Ah(le+""),Pi(e*4))),ei(Ri(X,iu("host"),Ch(ae),Ah(ae+""),Pi(e*4)))],ne=await Promise.allSettled(W),ye=new Set,je=[];for(const Ee of ne)Ee.status==="fulfilled"&&Ee.value.forEach(ge=>{var De,rt,Lt,ht,jt;const Ae=ge.data(),Ie=ge.id;!Ie||ye.has(Ie)||(ye.add(Ie),je.push({kind:"server",id:Ie,displayName:(De=Ae.displayName)!=null?De:null,code:(rt=Ae.code)!=null?rt:null,host:(Lt=Ae.host)!=null?Lt:null,region:(ht=Ae.region)!=null?ht:null,type:(jt=Ae.type)!=null?jt:null,numericId:fl(Ae.numericId),active:typeof Ae.active=="boolean"?Ae.active:null}))});b(se.slice(0,e)),T(K.slice(0,e)),L(je.slice(0,e)),B(se.length+K.length+je.length?0:-1)}catch(A){f((A==null?void 0:A.message)||"Unbekannter Fehler bei der Suche."),b([]),T([]),L([]),B(-1)}finally{h(!1)}}return k(),()=>{}},[l,e]),Pe.useEffect(()=>{const k=S=>{I.current&&(I.current.contains(S.target)||(b([]),T([]),L([]),B(-1)))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const v=[...y,...E,...R],_=k=>{k.kind==="player"?n(`/player/${encodeURIComponent(k.id)}`):k.kind==="guild"?n(`/guild/${encodeURIComponent(k.id)}`):n(`/server/${encodeURIComponent(k.id)}`),b([]),T([]),L([]),B(-1),o("")},D=k=>{if(v.length)if(k.key==="ArrowDown")k.preventDefault(),B(S=>(S+1)%v.length);else if(k.key==="ArrowUp")k.preventDefault(),B(S=>(S-1+v.length)%v.length);else if(k.key==="Enter"){k.preventDefault();const S=v[O>=0?O:0];S&&_(S)}else k.key==="Escape"&&(b([]),T([]),L([]),B(-1))};return s.jsxs("div",{ref:I,style:We.wrap,children:[s.jsx("input",{style:We.input,placeholder:t,value:r,onChange:k=>o(k.target.value),onKeyDown:D,"aria-label":"Spieler, Gilden und Server suchen"}),(u||p||y.length||E.length||R.length)&&s.jsxs("div",{style:We.dropdown,children:[u&&s.jsx("div",{style:We.hint,children:"Suche"}),p&&!u&&s.jsxs("div",{style:We.err,children:[" ",p]}),!u&&!p&&(y.length>0||E.length>0||R.length>0)&&s.jsxs(s.Fragment,{children:[y.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:We.sectionHdr,children:"Spieler"}),y.map((k,S)=>{var P,V,$;const A=S===O,F=AR(k.className,64);return s.jsxs("button",{onClick:()=>_(k),style:A?We.itemActive:We.item,title:k.name||"",onMouseEnter:()=>B(S),children:[s.jsx("div",{style:We.iconBoxPlain,children:F?s.jsx("img",{src:F,alt:"",style:We.iconImgShadow,onError:ie=>{const H=ie.currentTarget.parentElement;H&&(H.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:We.iconFallback,children:(k.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:We.meta,children:[s.jsxs("div",{style:We.line1,children:[s.jsx("span",{style:We.name,children:(P=k.name)!=null?P:"Unbekannt"}),rg(k.level)&&s.jsxs("span",{style:We.badge,children:["Lvl ",k.level]})]}),s.jsxs("div",{style:We.line2,children:[k.guildName?s.jsxs("span",{children:["",k.guildName,""]}):s.jsx("span",{style:We.muted,children:""}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(V=k.className)!=null?V:"Klasse ?"}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:($=k.server)!=null?$:"Server ?"})]})]})]},`p-${k.id}-${S}`)})]}),E.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:We.sectionHdr,children:"Gilden"}),E.map((k,S)=>{var P,V;const A=y.length+S,F=A===O;return s.jsxs("button",{onClick:()=>_(k),style:F?We.itemActive:We.item,title:k.name||"",onMouseEnter:()=>B(A),children:[s.jsx("div",{style:We.iconBox,children:""}),s.jsxs("div",{style:We.meta,children:[s.jsxs("div",{style:We.line1,children:[s.jsx("span",{style:We.name,children:(P=k.name)!=null?P:"Unbekannt"}),rg(k.hofRank)&&s.jsxs("span",{style:We.badge,children:["HoF #",k.hofRank]})]}),s.jsxs("div",{style:We.line2,children:[s.jsx("span",{children:(V=k.server)!=null?V:"Server ?"}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:rg(k.memberCount)?`${k.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${k.id}-${S}`)})]}),R.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:We.sectionHdr,children:"Server"}),R.map((k,S)=>{var P,V,$,ie,H,se;const A=y.length+E.length+S,F=A===O;return s.jsxs("button",{onClick:()=>_(k),style:F?We.itemActive:We.item,title:k.displayName||k.code||k.host||"",onMouseEnter:()=>B(A),children:[s.jsx("div",{style:We.iconBoxPlain,children:s.jsx("div",{style:We.serverGlyph,children:""})}),s.jsxs("div",{style:We.meta,children:[s.jsxs("div",{style:We.line1,children:[s.jsx("span",{style:We.name,children:($=(V=(P=k.displayName)!=null?P:k.code)!=null?V:k.host)!=null?$:k.id}),k.active!=null&&s.jsx("span",{style:We.badge,children:k.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:We.line2,children:[s.jsx("span",{children:(ie=k.code)!=null?ie:""}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(H=k.host)!=null?H:""}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(se=k.region)!=null?se:""}),k.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:k.type.toUpperCase()})]}):null]})]})]},`s-${k.id}-${S}`)})]})]}),!u&&!p&&y.length===0&&E.length===0&&R.length===0&&l.length>=1&&s.jsx("div",{style:We.hint,children:"Keine Treffer"})]})]})}const We={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function RR(t){var u,h,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,ER];for(const f of c){if(!f)continue;const y=(p=(h=(u=f[n])!=null?u:f[r])!=null?h:f[o])!=null?p:f[l];if(typeof y=="string")return y}}function PR({user:t}){var o;const{open:e,canUse:n}=R_(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:Gn.topbar,children:[s.jsxs("div",{className:Gn.topbarLeft,children:[s.jsx("button",{className:Gn.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(k4,{className:Gn.ico})}),s.jsx("button",{className:Gn.btnIco,"aria-label":"Favoriten",children:s.jsx(_C,{className:Gn.ico})})]}),s.jsx("div",{className:Gn.searchWrap,children:s.jsx(IR,{placeholder:"Suchen (Spieler)",getClassIcon:RR,maxResults:10})}),s.jsxs("div",{className:Gn.topbarRight,children:[s.jsxs("a",{className:`${Gn.pill} ${Gn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(q4,{className:Gn.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:Gn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(TC,{className:Gn.ico}),s.jsx("span",{className:Gn.label,children:"Scan hochladen"})]}),s.jsx("button",{className:Gn.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:s.jsx("img",{className:Gn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const DR="_root_xd4sk_3",LR="_expanded_xd4sk_45",MR="_headRow_xd4sk_55",FR="_headTitle_xd4sk_63",BR="_headDot_xd4sk_65",VR="_headLabel_xd4sk_67",$R="_pinBtn_xd4sk_69",OR="_navScroll_xd4sk_81",UR="_pad_xd4sk_83",zR="_segCard_xd4sk_89",HR="_segTitle_xd4sk_121",WR="_navCol_xd4sk_139",GR="_navItemWrap_xd4sk_141",qR="_navBtn_xd4sk_147",KR="_navBtnActive_xd4sk_171",QR="_label_xd4sk_175",XR="_trailing_xd4sk_205",YR="_isOpen_xd4sk_253",JR="_footer_xd4sk_279",ZR="_login_xd4sk_281",eP="_legal_xd4sk_303",tP="_labelText_xd4sk_327",nP="_char_xd4sk_337",sP="_mainNavCard_xd4sk_405",ut={root:DR,expanded:LR,headRow:MR,headTitle:FR,headDot:BR,headLabel:VR,pinBtn:$R,navScroll:OR,pad:UR,segCard:zR,segTitle:HR,navCol:WR,navItemWrap:GR,navBtn:qR,navBtnActive:KR,label:QR,trailing:XR,isOpen:YR,footer:JR,login:ZR,legal:eP,labelText:tP,char:nP,mainNavCard:sP},rP="_panel_90cjk_1",iP="_open_90cjk_31",oP="_col_90cjk_43",ig={panel:rP,open:iP,col:oP};function aP(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function lP({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,u]=Pe.useState({left:0,top:0});return Pe.useEffect(()=>{if(!e||!t)return;const h=()=>u(aP(t));h();const p=new ResizeObserver(h);return p.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{p.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(h=>h.label)),f4.createPortal(s.jsx("div",{className:`${ig.panel} ${e?ig.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:o,onMouseLeave:l,role:"menu",children:s.jsx("div",{className:ig.col,children:n.map(h=>r(h))})}),document.body))}const cP=[{to:"/",label:"Home",icon:s.jsx(X4,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(eC,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(zu,{className:"ico"})},{to:"/admin",label:"Admin",icon:s.jsx(yC,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(Mp,{className:"ico"})}],uP=[{to:"/discover",label:"Discover",icon:s.jsx(B4,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(kC,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(T4,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(sC,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(W4,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(pC,{className:"ico"})}],x0={"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},dP=220;function hP(t=dP){const[e,n]=Pe.useState(!1),r=Pe.useRef(null),o=Pe.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Pe.useCallback(()=>{o(),n(!0)},[o]),c=Pe.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return Pe.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function By({text:t,isOpen:e,duration:n=1,step:r=45}){const o=Pe.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:ut.label,children:s.jsx("span",{className:ut.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>s.jsx("span",{className:ut.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function pP({it:t,collapsed:e,allowSubmenus:n}){var f,y;const r=((y=(f=x0[t.to])==null?void 0:f.length)!=null?y:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:u}=hP(),h=Pe.useRef(null),p=Pe.useCallback(()=>{if(!n||!r){u(!1);return}l()},[n,r,l,u]);return s.jsxs("div",{ref:h,className:`${ut.navItemWrap} ${o?ut.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[s.jsxs(os,{to:t.to,end:!!t.end,className:({isActive:b})=>`${ut.navBtn} ${b?ut.navBtnActive:""}`,children:[t.icon,s.jsx(By,{text:t.label,isOpen:!e}),r&&!e&&s.jsx("span",{className:ut.trailing,"aria-hidden":"true",children:s.jsx(I4,{className:"ico"})})]}),r&&s.jsx(lP,{anchorEl:h.current,open:o,items:x0[t.to],renderLink:b=>s.jsx(os,{to:b.to,className:({isActive:E})=>`link ${E?"linkActive":""}`,children:b.label},b.to),onMouseEnter:l,onMouseLeave:c})]})}function $2({title:t,items:e,collapsed:n,allowSubmenus:r}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${ut.navTitle} ${ut.segTitle}`,children:t}),s.jsx("div",{className:ut.navCol,children:e.map(o=>x0[o.to]?s.jsx(pP,{it:o,collapsed:n,allowSubmenus:r},o.to):s.jsxs(os,{to:o.to,end:!!o.end,className:({isActive:l})=>`${ut.navBtn} ${l?ut.navBtnActive:""}`,children:[o.icon,s.jsx(By,{text:o.label,isOpen:!n})]},o.to))})]})}const mP=90,fP=180;function gP({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=Pe.useRef(null),c=Pe.useRef(null),[u,h]=Pe.useState(!1),p=Pe.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),f=Pe.useCallback(()=>{!o||n||(p(),h(!1),l.current=window.setTimeout(()=>e(!0),mP))},[o,n,p,e]),y=Pe.useCallback(()=>{!o||n||(p(),c.current=window.setTimeout(()=>{e(!1),h(!1)},fP))},[o,n,p,e]);Pe.useEffect(()=>()=>p(),[p]),Pe.useEffect(()=>{n&&h(!0)},[n]);const b=R=>{R.propertyName==="width"&&t&&!n&&h(!0)};Pe.useEffect(()=>{if(t&&!n){const R=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(R)}},[t,n]);const E=!t,T=n||t&&u;return s.jsxs("aside",{id:"sidebar-root",className:`${ut.root} ${t?ut.expanded:""}`,"data-collapsed":E?"true":"false",onMouseEnter:f,onMouseLeave:y,onTransitionEnd:b,"aria-label":"Navigation",children:[s.jsxs("div",{className:ut.headRow,children:[s.jsxs("div",{className:ut.headTitle,children:[s.jsx("span",{className:ut.headDot})," ",s.jsx("span",{className:ut.headLabel,children:"Navigation"})]}),s.jsx("button",{className:ut.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(aC,{className:"ico"}):s.jsx(iC,{className:"ico"})})]}),s.jsx("div",{className:ut.navScroll,children:s.jsxs("div",{className:ut.pad,children:[s.jsx("div",{className:`${ut.segCard} ${ut.mainNavCard}`,children:s.jsx($2,{items:cP,collapsed:E,allowSubmenus:T})}),s.jsx("div",{className:ut.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${ut.segCard} ${ut.mainNavCard}`,children:s.jsx($2,{items:uP,collapsed:E,allowSubmenus:T})})]})}),s.jsxs("div",{className:`${ut.footer} ${ut.segCard} ${ut.mainNavCard}`,children:[s.jsxs("button",{className:ut.login,type:"button",children:[s.jsx(zu,{className:"ico"}),s.jsx(By,{text:"Logout",isOpen:!E})]}),s.jsx("div",{className:ut.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const og="/test/assets/logo-sfdatahub-CUdhlsEb.png";function yP({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:og;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(os,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:u=>{const h=u.currentTarget;h.src!==og&&(h.src=og)}})}),n]})}function xP(){const[t,e]=N.useState(!1),[n,r]=N.useState(!1),o=n||t,l=N.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return s.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[s.jsx(yP,{src:"/logo.png"}),s.jsx(PR,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(gP,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(x_,{})})})})]})}const yS=N.createContext({});function Vy(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const $y=N.createContext(null),Oy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vP(t=!0){const e=N.useContext($y);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=N.useId();N.useEffect(()=>{t&&o(l)},[t]);const c=N.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Uy=typeof window!="undefined",xS=Uy?N.useLayoutEffect:N.useEffect,Vs=t=>t;let vS=Vs;function zy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},si=t=>t*1e3,ri=t=>t/1e3,bP={useManualTiming:!1};function wP(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){l.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,f=!1,y=!1)=>{const E=y&&r?e:n;return f&&l.add(p),E.has(p)||E.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(u),e.clear(),r=!1,o&&(o=!1,h.process(p))}};return h}const Nh=["read","resolveKeyframes","update","preRender","render","postRender"],_P=40;function bS(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Nh.reduce((O,B)=>(O[B]=wP(l),O),{}),{read:u,resolveKeyframes:h,update:p,preRender:f,render:y,postRender:b}=c,E=()=>{const O=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(O-o.timestamp,_P),1),o.timestamp=O,o.isProcessing=!0,u.process(o),h.process(o),p.process(o),f.process(o),y.process(o),b.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(E))},T=()=>{n=!0,r=!0,o.isProcessing||t(E)};return{schedule:Nh.reduce((O,B)=>{const I=c[B];return O[B]=(v,_=!1,D=!1)=>(n||T(),I.schedule(v,_,D)),O},{}),cancel:O=>{for(let B=0;B<Nh.length;B++)c[Nh[B]].cancel(O)},state:o,steps:c}}const{schedule:Nt,cancel:Ui,state:Dn,steps:ag}=bS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Vs,!0),wS=N.createContext({strict:!1}),O2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const t in O2)Wl[t]={isEnabled:e=>O2[t].some(n=>!!e[n])};function jP(t){for(const e in t)Wl[e]={...Wl[e],...t[e]}}const SP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SP.has(t)}let _S=t=>!vp(t);function kP(t){t&&(_S=e=>e.startsWith("on")?!vp(e):t(e))}try{kP(require("@emotion/is-prop-valid").default)}catch(t){}function EP(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(_S(o)||n===!0&&vp(o)||!e&&!vp(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function TP(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const sm=N.createContext({});function Du(t){return typeof t=="string"||Array.isArray(t)}function rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wy=["initial",...Hy];function im(t){return rm(t.animate)||Wy.some(e=>Du(t[e]))}function jS(t){return!!(im(t)||t.variants)}function CP(t,e){if(im(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Du(n)?n:void 0,animate:Du(r)?r:void 0}}return t.inherit!==!1?e:{}}function AP(t){const{initial:e,animate:n}=CP(t,N.useContext(sm));return N.useMemo(()=>({initial:e,animate:n}),[U2(e),U2(n)])}function U2(t){return Array.isArray(t)?t.join(" "):t}const NP=Symbol.for("motionComponentSymbol");function kl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function IP(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):kl(n)&&(n.current=r))},[e])}const Gy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RP="framerAppearId",SS="data-"+Gy(RP),{schedule:qy}=bS(queueMicrotask,!1),kS=N.createContext({});function PP(t,e,n,r,o){var l,c;const{visualElement:u}=N.useContext(sm),h=N.useContext(wS),p=N.useContext($y),f=N.useContext(Oy).reducedMotion,y=N.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:f}));const b=y.current,E=N.useContext(kS);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&DP(y.current,n,o,E);const T=N.useRef(!1);N.useInsertionEffect(()=>{b&&T.current&&b.update(n,p)});const R=n[SS],L=N.useRef(!!R&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,R))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,R)));return xS(()=>{b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),qy.render(b.render),L.current&&b.animationState&&b.animationState.animateChanges())}),N.useEffect(()=>{b&&(!L.current&&b.animationState&&b.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,R)}),L.current=!1))}),b}function DP(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ES(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||u&&kl(u),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function ES(t){if(t)return t.options.allowProjection!==!1?t.projection:ES(t.parent)}function LP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&jP(t);function u(p,f){let y;const b={...N.useContext(Oy),...p,layoutId:MP(p)},{isStatic:E}=b,T=AP(p),R=r(p,E);if(!E&&Uy){FP();const L=BP(b);y=L.MeasureLayout,T.visualElement=PP(o,R,b,e,L.ProjectionNode)}return s.jsxs(sm.Provider,{value:T,children:[y&&T.visualElement?s.jsx(y,{visualElement:T.visualElement,...b}):null,n(o,p,IP(R,T.visualElement,f),R,E,T.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=N.forwardRef(u);return h[NP]=o,h}function MP({layoutId:t}){const e=N.useContext(yS).id;return e&&t!==void 0?e+"-"+t:t}function FP(t,e){N.useContext(wS).strict}function BP(t){const{drag:e,layout:n}=Wl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const VP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ky(t){return typeof t!="string"||t.includes("-")?!1:!!(VP.indexOf(t)>-1||/[A-Z]/u.test(t))}function z2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Qy(t,e,n,r){if(typeof e=="function"){const[o,l]=z2(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=z2(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const v0=t=>Array.isArray(t),$P=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),OP=t=>v0(t)?t[t.length-1]||0:t,Sn=t=>!!(t&&t.getVelocity);function tp(t){const e=Sn(t)?t.get():t;return $P(e)?e.toValue():e}function UP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:zP(r,o,l,t),renderState:e()};return n&&(c.onMount=u=>n({props:r,current:u,...c}),c.onUpdate=u=>n(u)),c}const TS=t=>(e,n)=>{const r=N.useContext(sm),o=N.useContext($y),l=()=>UP(t,e,r,o);return n?l():Vy(l)};function zP(t,e,n,r){const o={},l=r(t,{});for(const b in l)o[b]=tp(l[b]);let{initial:c,animate:u}=t;const h=im(t),p=jS(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let f=n?n.initial===!1:!1;f=f||c===!1;const y=f?u:c;if(y&&typeof y!="boolean"&&!rm(y)){const b=Array.isArray(y)?y:[y];for(let E=0;E<b.length;E++){const T=Qy(t,b[E]);if(T){const{transitionEnd:R,transition:L,...O}=T;for(const B in O){let I=O[B];if(Array.isArray(I)){const v=f?I.length-1:0;I=I[v]}I!==null&&(o[B]=I)}for(const B in R)o[B]=R[B]}}}return o}const nc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ca=new Set(nc),CS=t=>e=>typeof e=="string"&&e.startsWith(t),AS=CS("--"),HP=CS("var(--"),Xy=t=>HP(t)?WP.test(t.split("/*")[0].trim()):!1,WP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,zi=(t,e,n)=>n>e?e:n<t?t:n,sc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lu={...sc,transform:t=>zi(0,1,t)},Ih={...sc,default:1},ed=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vo=ed("deg"),ii=ed("%"),Fe=ed("px"),GP=ed("vh"),qP=ed("vw"),H2={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},KP={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},QP={rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:vo,skewX:vo,skewY:vo,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Lu,originX:H2,originY:H2,originZ:Fe},W2={...sc,transform:Math.round},Yy={...KP,...QP,zIndex:W2,size:Fe,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:W2},XP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YP=nc.length;function JP(t,e,n){let r="",o=!0;for(let l=0;l<YP;l++){const c=nc[l],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=NS(u,Yy[c]);if(!h){o=!1;const f=XP[c]||c;r+=`${f}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Jy(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,u=!1;for(const h in e){const p=e[h];if(Ca.has(h)){c=!0;continue}else if(AS(h)){o[h]=p;continue}else{const f=NS(p,Yy[h]);h.startsWith("origin")?(u=!0,l[h]=f):r[h]=f}}if(e.transform||(c||n?r.transform=JP(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:f=0}=l;r.transformOrigin=`${h} ${p} ${f}`}}const ZP={offset:"stroke-dashoffset",array:"stroke-dasharray"},e6={offset:"strokeDashoffset",array:"strokeDasharray"};function t6(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?ZP:e6;t[l.offset]=Fe.transform(-r);const c=Fe.transform(e),u=Fe.transform(n);t[l.array]=`${c} ${u}`}function G2(t,e,n){return typeof t=="string"?t:Fe.transform(e+n*t)}function n6(t,e,n){const r=G2(e,t.x,t.width),o=G2(n,t.y,t.height);return`${r} ${o}`}function Zy(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...p},f,y){if(Jy(t,p,y),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:E,dimensions:T}=t;b.transform&&(T&&(E.transform=b.transform),delete b.transform),T&&(o!==void 0||l!==void 0||E.transform)&&(E.transformOrigin=n6(T,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&t6(b,c,u,h,!1)}const ex=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IS=()=>({...ex(),attrs:{}}),tx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function RS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const PS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DS(t,e,n,r){RS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(PS.has(o)?o:Gy(o),e.attrs[o])}const bp={};function s6(t){Object.assign(bp,t)}function LS(t,{layout:e,layoutId:n}){return Ca.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bp[t]||t==="opacity")}function nx(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(Sn(o[c])||e.style&&Sn(e.style[c])||LS(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function MS(t,e,n){const r=nx(t,e,n);for(const o in t)if(Sn(t[o])||Sn(e[o])){const l=nc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function r6(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const q2=["x","y","width","height","cx","cy","r"],i6={useVisualState:TS({scrapeMotionValuesFromProps:MS,createRenderState:IS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const u in o)if(Ca.has(u)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let u=0;u<q2.length;u++){const h=q2[u];t[h]!==e[h]&&(c=!0)}c&&Nt.read(()=>{r6(n,r),Nt.render(()=>{Zy(r,o,tx(n.tagName),t.transformTemplate),DS(n,r)})})}})},o6={useVisualState:TS({scrapeMotionValuesFromProps:nx,createRenderState:ex})};function FS(t,e,n){for(const r in e)!Sn(e[r])&&!LS(r,n)&&(t[r]=e[r])}function a6({transformTemplate:t},e){return N.useMemo(()=>{const n=ex();return Jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function l6(t,e){const n=t.style||{},r={};return FS(r,n,t),Object.assign(r,a6(t,e)),r}function c6(t,e){const n={},r=l6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function u6(t,e,n,r){const o=N.useMemo(()=>{const l=IS();return Zy(l,e,tx(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};FS(l,t.style,t),o.style={...l,...o.style}}return o}function d6(t=!1){return(n,r,o,{latestValues:l},c)=>{const h=(Ky(n)?u6:c6)(r,l,c,n),p=EP(r,typeof n=="string",t),f=n!==N.Fragment?{...p,...h,ref:o}:{},{children:y}=r,b=N.useMemo(()=>Sn(y)?y.get():y,[y]);return N.createElement(n,{...f,children:b})}}function h6(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Ky(r)?i6:o6,preloadedFeatures:t,useRender:d6(o),createVisualElement:e,Component:r};return LP(c)}}function BS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function om(t,e,n){const r=t.getProps();return Qy(r,e,n!==void 0?n:r.custom,t)}const p6=zy(()=>window.ScrollTimeline!==void 0);class m6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(p6()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class VS extends m6{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sx(t,e){return t?t[e]||t.default||t:void 0}const wp=2e4;function rx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wp;)e+=n,r=t.next(e);return e>=wp?1/0:e}function f6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(rx(r),wp);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:ri(o)}}function am(t){return typeof t=="function"}function K2(t,e){t.timeline=e,t.onfinish=null}const ix=t=>Array.isArray(t)&&typeof t[0]=="number",g6={linearEasing:void 0};function y6(t,e){const n=zy(t);return()=>{var r;return(r=g6[e])!==null&&r!==void 0?r:n()}}const _p=y6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),$S=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(Sa(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function OS(t){return!!(typeof t=="function"&&_p()||!t||typeof t=="string"&&(t in b0||_p())||ix(t)||Array.isArray(t)&&t.every(OS))}const au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,b0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function US(t,e){if(t)return typeof t=="function"&&_p()?$S(t,e):ix(t)?au(t):Array.isArray(t)?t.map(n=>US(n,e)||b0.easeOut):b0[t]}const Cr={x:!1,y:!1};function zS(){return Cr.x||Cr.y}function HS(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function WS(t,e){const n=HS(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function Q2(t){return e=>{e.pointerType==="touch"||zS()||t(e)}}function x6(t,e,n={}){const[r,o,l]=WS(t,n),c=Q2(u=>{const{target:h}=u,p=e(u);if(typeof p!="function"||!h)return;const f=Q2(y=>{p(y),h.removeEventListener("pointerleave",f)});h.addEventListener("pointerleave",f,o)});return r.forEach(u=>{u.addEventListener("pointerenter",c,o)}),l}const GS=(t,e)=>e?t===e?!0:GS(t,e.parentElement):!1,ox=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,v6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b6(t){return v6.has(t.tagName)||t.tabIndex!==-1}const lu=new WeakSet;function X2(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const w6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=X2(()=>{if(lu.has(n))return;lg(n,"down");const o=X2(()=>{lg(n,"up")}),l=()=>lg(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Y2(t){return ox(t)&&!zS()}function _6(t,e,n={}){const[r,o,l]=WS(t,n),c=u=>{const h=u.currentTarget;if(!Y2(u)||lu.has(h))return;lu.add(h);const p=e(u),f=(E,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),!(!Y2(E)||!lu.has(h))&&(lu.delete(h),typeof p=="function"&&p(E,{success:T}))},y=E=>{f(E,n.useGlobalTarget||GS(h,E.target))},b=E=>{f(E,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",b,o)};return r.forEach(u=>{!b6(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),u.addEventListener("focus",p=>w6(p,o),o)}),l}function j6(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}const qS=new Set(["width","height","top","left","right","bottom",...nc]);let np;function S6(){np=void 0}const oi={now:()=>(np===void 0&&oi.set(Dn.isProcessing||bP.useManualTiming?Dn.timestamp:performance.now()),np),set:t=>{np=t,queueMicrotask(S6)}};function ax(t,e){t.indexOf(e)===-1&&t.push(e)}function lm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lx{constructor(){this.subscriptions=[]}add(e){return ax(this.subscriptions,e),()=>lm(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KS(t,e){return e?t*(1e3/e):0}const J2=30,k6=t=>!isNaN(parseFloat(t)),fu={current:void 0};class E6{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=oi.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=oi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=k6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return fu.current&&fu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>J2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,J2);return KS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(t,e){return new E6(t,e)}function T6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gl(n))}function C6(t,e){const n=om(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const u=OP(l[c]);T6(t,c,u)}}function A6(t){return!!(Sn(t)&&t.add)}function w0(t,e){const n=t.getValue("willChange");if(A6(n))return n.add(e)}function QS(t){return t.props[SS]}const XS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N6=1e-7,I6=12;function R6(t,e,n,r,o){let l,c,u=0;do c=e+(n-e)/2,l=XS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>N6&&++u<I6);return c}function td(t,e,n,r){if(t===e&&n===r)return Vs;const o=l=>R6(l,0,1,t,n);return l=>l===0||l===1?l:XS(o(l),e,r)}const YS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JS=t=>e=>1-t(1-e),ZS=td(.33,1.53,.69,.99),cx=JS(ZS),ek=YS(cx),tk=t=>(t*=2)<1?.5*cx(t):.5*(2-Math.pow(2,-10*(t-1))),ux=t=>1-Math.sin(Math.acos(t)),nk=JS(ux),sk=YS(ux),rk=t=>/^0[^.\s]+$/u.test(t);function P6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rk(t):!0}const gu=t=>Math.round(t*1e5)/1e5,dx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D6(t){return t==null}const L6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hx=(t,e)=>n=>!!(typeof n=="string"&&L6.test(n)&&n.startsWith(t)||e&&!D6(n)&&Object.prototype.hasOwnProperty.call(n,e)),ik=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,u]=r.match(dx);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},M6=t=>zi(0,255,t),cg={...sc,transform:t=>Math.round(M6(t))},ya={test:hx("rgb","red"),parse:ik("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cg.transform(t)+", "+cg.transform(e)+", "+cg.transform(n)+", "+gu(Lu.transform(r))+")"};function F6(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const _0={test:hx("#"),parse:F6,transform:ya.transform},El={test:hx("hsl","hue"),parse:ik("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ii.transform(gu(e))+", "+ii.transform(gu(n))+", "+gu(Lu.transform(r))+")"},Kn={test:t=>ya.test(t)||_0.test(t)||El.test(t),parse:t=>ya.test(t)?ya.parse(t):El.test(t)?El.parse(t):_0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ya.transform(t):El.transform(t)},B6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(B6))===null||n===void 0?void 0:n.length)||0)>0}const ok="number",ak="color",$6="var",O6="var(",Z2="${}",U6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const u=e.replace(U6,h=>(Kn.test(h)?(r.color.push(l),o.push(ak),n.push(Kn.parse(h))):h.startsWith(O6)?(r.var.push(l),o.push($6),n.push(h)):(r.number.push(l),o.push(ok),n.push(parseFloat(h))),++l,Z2)).split(Z2);return{values:n,split:u,indexes:r,types:o}}function lk(t){return Mu(t).values}function ck(t){const{split:e,types:n}=Mu(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const u=n[c];u===ok?l+=gu(o[c]):u===ak?l+=Kn.transform(o[c]):l+=o[c]}return l}}const z6=t=>typeof t=="number"?0:t;function H6(t){const e=lk(t);return ck(t)(e.map(z6))}const Co={test:V6,parse:lk,createTransformer:ck,getAnimatableNone:H6},W6=new Set(["brightness","contrast","saturate","opacity"]);function G6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dx)||[];if(!r)return t;const o=n.replace(r,"");let l=W6.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const q6=/\b([a-z-]*)\(.*?\)/gu,j0={...Co,getAnimatableNone:t=>{const e=t.match(q6);return e?e.map(G6).join(" "):t}},K6={...Yy,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:j0,WebkitFilter:j0},px=t=>K6[t];function uk(t,e){let n=px(t);return n!==j0&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Q6=new Set(["auto","none","0"]);function X6(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!Q6.has(l)&&Mu(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=uk(n,o)}const eb=t=>t===sc||t===Fe,tb=(t,e)=>parseFloat(t.split(", ")[e]),nb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return tb(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?tb(l[1],t):0}},Y6=new Set(["x","y","z"]),J6=nc.filter(t=>!Y6.has(t));function Z6(t){const e=[];return J6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nb(4,13),y:nb(5,14)};ql.translateX=ql.x;ql.translateY=ql.y;const va=new Set;let S0=!1,k0=!1;function dk(){if(k0){const t=Array.from(va).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=Z6(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var u;(u=r.getValue(l))===null||u===void 0||u.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}k0=!1,S0=!1,va.forEach(t=>t.complete()),va.clear()}function hk(){va.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(k0=!0)})}function e8(){hk(),dk()}class mx{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(va.add(this),S0||(S0=!0,Nt.read(hk),Nt.resolveKeyframes(dk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),va.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,va.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),t8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function n8(t){const e=t8.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function mk(t,e,n=1){const[r,o]=n8(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return pk(c)?parseFloat(c):c}return Xy(o)?mk(o,e,n+1):o}const fk=t=>e=>e.test(t),s8={test:t=>t==="auto",parse:t=>t},gk=[sc,Fe,ii,vo,qP,GP,s8],sb=t=>gk.find(fk(t));class yk extends mx{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Xy(p))){const f=mk(p,n.current);f!==void 0&&(e[h]=f),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!qS.has(r)||e.length!==2)return;const[o,l]=e,c=sb(o),u=sb(l);if(c!==u)if(eb(c)&&eb(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)P6(e[o])&&r.push(o);r.length&&X6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,u=o[c];o[c]=ql[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const rb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Co.test(t)||t==="0")&&!t.startsWith("url("));function r8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function i8(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=rb(o,e),u=rb(l,e);return!c||!u?!1:r8(t)||(n==="spring"||am(n))&&r}const o8=t=>t!==null;function cm(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(o8),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const a8=40;class xk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=oi.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>a8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&e8(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=oi.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:u,onUpdate:h,isGenerator:p}=this.options;if(!p&&!i8(e,r,o,l))if(c)this.options.duration=0;else{h&&h(cm(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Vt=(t,e,n)=>t+(e-t)*n;function ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function l8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;o=ug(h,u,t+1/3),l=ug(h,u,t),c=ug(h,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function jp(t,e){return n=>n>0?e:t}const dg=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},c8=[_0,ya,El],u8=t=>c8.find(e=>e.test(t));function ib(t){const e=u8(t);if(!e)return!1;let n=e.parse(t);return e===El&&(n=l8(n)),n}const ob=(t,e)=>{const n=ib(t),r=ib(e);if(!n||!r)return jp(t,e);const o={...n};return l=>(o.red=dg(n.red,r.red,l),o.green=dg(n.green,r.green,l),o.blue=dg(n.blue,r.blue,l),o.alpha=Vt(n.alpha,r.alpha,l),ya.transform(o))},d8=(t,e)=>n=>e(t(n)),nd=(...t)=>t.reduce(d8),E0=new Set(["none","hidden"]);function h8(t,e){return E0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p8(t,e){return n=>Vt(t,e,n)}function fx(t){return typeof t=="number"?p8:typeof t=="string"?Xy(t)?jp:Kn.test(t)?ob:g8:Array.isArray(t)?vk:typeof t=="object"?Kn.test(t)?ob:m8:jp}function vk(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>fx(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function m8(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=fx(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function f8(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],u=t.indexes[c][o[c]],h=(n=t.values[u])!==null&&n!==void 0?n:0;r[l]=h,o[c]++}return r}const g8=(t,e)=>{const n=Co.createTransformer(e),r=Mu(t),o=Mu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?E0.has(t)&&!o.values.length||E0.has(e)&&!r.values.length?h8(t,e):nd(vk(f8(r,o),o.values),n):jp(t,e)};function bk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):fx(t)(t,e)}const y8=5;function wk(t,e,n){const r=Math.max(e-y8,0);return KS(n-t(r),e-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hg=.001;function x8({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let o,l,c=1-e;c=zi(Xt.minDamping,Xt.maxDamping,c),t=zi(Xt.minDuration,Xt.maxDuration,ri(t)),c<1?(o=p=>{const f=p*c,y=f*t,b=f-n,E=T0(p,c),T=Math.exp(-y);return hg-b/E*T},l=p=>{const y=p*c*t,b=y*n+n,E=Math.pow(c,2)*Math.pow(p,2)*t,T=Math.exp(-y),R=T0(Math.pow(p,2),c);return(-o(p)+hg>0?-1:1)*((b-E)*T)/R}):(o=p=>{const f=Math.exp(-p*t),y=(p-n)*t+1;return-hg+f*y},l=p=>{const f=Math.exp(-p*t),y=(n-p)*(t*t);return f*y});const u=5/t,h=b8(o,l,u);if(t=si(t),isNaN(h))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const v8=12;function b8(t,e,n){let r=n;for(let o=1;o<v8;o++)r=r-t(r)/e(r);return r}function T0(t,e){return t*Math.sqrt(1-e*e)}const w8=["duration","bounce"],_8=["stiffness","damping","mass"];function ab(t,e){return e.some(n=>t[n]!==void 0)}function j8(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!ab(t,_8)&&ab(t,w8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*zi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Xt.mass,stiffness:o,damping:l}}else{const n=x8(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function gx(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:p,mass:f,duration:y,velocity:b,isResolvedFromDuration:E}=j8({...n,velocity:-ri(n.velocity||0)}),T=b||0,R=p/(2*Math.sqrt(h*f)),L=c-l,O=ri(Math.sqrt(h/f)),B=Math.abs(L)<5;r||(r=B?Xt.restSpeed.granular:Xt.restSpeed.default),o||(o=B?Xt.restDelta.granular:Xt.restDelta.default);let I;if(R<1){const _=T0(O,R);I=D=>{const k=Math.exp(-R*O*D);return c-k*((T+R*O*L)/_*Math.sin(_*D)+L*Math.cos(_*D))}}else if(R===1)I=_=>c-Math.exp(-O*_)*(L+(T+O*L)*_);else{const _=O*Math.sqrt(R*R-1);I=D=>{const k=Math.exp(-R*O*D),S=Math.min(_*D,300);return c-k*((T+R*O*L)*Math.sinh(S)+_*L*Math.cosh(S))/_}}const v={calculatedDuration:E&&y||null,next:_=>{const D=I(_);if(E)u.done=_>=y;else{let k=0;R<1&&(k=_===0?si(T):wk(I,_,D));const S=Math.abs(k)<=r,A=Math.abs(c-D)<=o;u.done=S&&A}return u.value=u.done?c:D,u},toString:()=>{const _=Math.min(rx(v),wp),D=$S(k=>v.next(_*k).value,_,30);return _+"ms "+D}};return v}function lb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:p=.5,restSpeed:f}){const y=t[0],b={done:!1,value:y},E=S=>u!==void 0&&S<u||h!==void 0&&S>h,T=S=>u===void 0?h:h===void 0||Math.abs(u-S)<Math.abs(h-S)?u:h;let R=n*e;const L=y+R,O=c===void 0?L:c(L);O!==L&&(R=O-y);const B=S=>-R*Math.exp(-S/r),I=S=>O+B(S),v=S=>{const A=B(S),F=I(S);b.done=Math.abs(A)<=p,b.value=b.done?O:F};let _,D;const k=S=>{E(b.value)&&(_=S,D=gx({keyframes:[b.value,T(b.value)],velocity:wk(I,S,b.value),damping:o,stiffness:l,restDelta:p,restSpeed:f}))};return k(0),{calculatedDuration:null,next:S=>{let A=!1;return!D&&_===void 0&&(A=!0,v(S),k(S)),_!==void 0&&S>=_?D.next(S-_):(!A&&v(S),b)}}}const S8=td(.42,0,1,1),k8=td(0,0,.58,1),_k=td(.42,0,.58,1),jk=t=>Array.isArray(t)&&typeof t[0]!="number",E8={linear:Vs,easeIn:S8,easeInOut:_k,easeOut:k8,circIn:ux,circInOut:sk,circOut:nk,backIn:cx,backInOut:ek,backOut:ZS,anticipate:tk},cb=t=>{if(ix(t)){vS(t.length===4);const[e,n,r,o]=t;return td(e,n,r,o)}else if(typeof t=="string")return E8[t];return t};function T8(t,e,n){const r=[],o=n||bk,l=t.length-1;for(let c=0;c<l;c++){let u=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Vs:e;u=nd(h,u)}r.push(u)}return r}function Sk(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(vS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=T8(e,r,o),h=u.length,p=f=>{if(c&&f<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(f<t[y+1]);y++);const b=Sa(t[y],t[y+1],f);return u[y](b)};return n?f=>p(zi(t[0],t[l-1],f)):p}function kk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Sa(0,e,r);t.push(Vt(n,1,o))}}function Ek(t){const e=[0];return kk(e,t.length-1),e}function C8(t,e){return t.map(n=>n*e)}function A8(t,e){return t.map(()=>e||_k).splice(0,t.length-1)}function Sp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=jk(r)?r.map(cb):cb(r),l={done:!1,value:e[0]},c=C8(n&&n.length===e.length?n:Ek(e),t),u=Sk(c,e,{ease:Array.isArray(o)?o:A8(e,o)});return{calculatedDuration:t,next:h=>(l.value=u(h),l.done=h>=t,l)}}const N8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Nt.update(e,!0),stop:()=>Ui(e),now:()=>Dn.isProcessing?Dn.timestamp:oi.now()}},I8={decay:lb,inertia:lb,tween:Sp,keyframes:Sp,spring:gx},R8=t=>t/100;class yx extends xk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||mx,u=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new c(l,u,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,u=am(n)?n:I8[n]||Sp;let h,p;u!==Sp&&typeof e[0]!="number"&&(h=nd(R8,bk(e[0],e[1])),e=[0,100]);const f=u({...this.options,keyframes:e});l==="mirror"&&(p=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=rx(f));const{calculatedDuration:y}=f,b=y+o,E=b*(r+1)-o;return{generator:f,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:b,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:p,totalDuration:f,resolvedDuration:y}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:E,repeatType:T,repeatDelay:R,onUpdate:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-b*(this.speed>=0?1:-1),B=this.speed>=0?O<0:O>f;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let I=this.currentTime,v=l;if(E){const S=Math.min(this.currentTime,f)/y;let A=Math.floor(S),F=S%1;!F&&S>=1&&(F=1),F===1&&A--,A=Math.min(A,E+1),!!(A%2)&&(T==="reverse"?(F=1-F,R&&(F-=R/y)):T==="mirror"&&(v=c)),I=zi(0,1,F)*y}const _=B?{done:!1,value:h[0]}:v.next(I);u&&(_.value=u(_.value));let{done:D}=_;!B&&p!==null&&(D=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return k&&o!==void 0&&(_.value=cm(h,this.options,o)),L&&L(_.value),k&&this.finish(),_}get duration(){const{resolved:e}=this;return e?ri(e.calculatedDuration):0}get time(){return ri(this.currentTime)}set time(e){e=si(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=N8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const P8=new Set(["opacity","clipPath","filter","transform"]);function D8(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:u="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const f=US(u,o);return Array.isArray(f)&&(p.easing=f),t.animate(p,{delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const L8=zy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kp=10,M8=2e4;function F8(t){return am(t.type)||t.type==="spring"||!OS(t.ease)}function B8(t,e){const n=new yx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<M8;)r=n.sample(l),o.push(r.value),l+=kp;return{times:void 0,keyframes:o,duration:l-kp,ease:"linear"}}const Tk={anticipate:tk,backInOut:ek,circInOut:sk};function V8(t){return t in Tk}class ub extends xk{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new yk(l,(c,u)=>this.onKeyframesResolved(c,u),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:u,name:h,startTime:p}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof l=="string"&&_p()&&V8(l)&&(l=Tk[l]),F8(this.options)){const{onComplete:y,onUpdate:b,motionValue:E,element:T,...R}=this.options,L=B8(e,R);e=L.keyframes,e.length===1&&(e[1]=e[0]),r=L.duration,o=L.times,l=L.ease,c="keyframes"}const f=D8(u.owner.current,h,e,{...this.options,duration:r,times:o,ease:l});return f.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(K2(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:y}=this.options;u.set(cm(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ri(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ri(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=si(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Vs;const{animation:r}=n;K2(r,e)}return Vs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:f,onComplete:y,element:b,...E}=this.options,T=new yx({...E,keyframes:r,duration:o,type:l,ease:c,times:u,isGenerator:!0}),R=si(this.time);p.setWithVelocity(T.sample(R-kp).value,T.sample(R).value,kp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return L8()&&r&&P8.has(r)&&!h&&!p&&!o&&l!=="mirror"&&c!==0&&u!=="inertia"}}const $8={type:"spring",stiffness:500,damping:25,restSpeed:10},O8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),U8={type:"keyframes",duration:.8},z8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},H8=(t,{keyframes:e})=>e.length>2?U8:Ca.has(t)?t.startsWith("scale")?O8(e[1]):$8:z8;function W8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:p,...f}){return!!Object.keys(f).length}const xx=(t,e,n,r={},o,l)=>c=>{const u=sx(r,t)||{},h=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-si(h);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:l?void 0:o};W8(u)||(f={...f,...H8(t,f)}),f.duration&&(f.duration=si(f.duration)),f.repeatDelay&&(f.repeatDelay=si(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let y=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const b=cm(f.keyframes,u);if(b!==void 0)return Nt.update(()=>{f.onUpdate(b),f.onComplete()}),new VS([])}return!l&&ub.supports(f)?new ub(f):new yx(f)};function G8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vx(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(c=r);const p=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const y in h){const b=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),E=h[y];if(E===void 0||f&&G8(f,y))continue;const T={delay:n,...sx(c||{},y)};let R=!1;if(window.MotionHandoffAnimation){const O=QS(t);if(O){const B=window.MotionHandoffAnimation(O,y,Nt);B!==null&&(T.startTime=B,R=!0)}}w0(t,y),b.start(xx(y,b,E,t.shouldReduceMotion&&qS.has(y)?{type:!1}:T,t,R));const L=b.animation;L&&p.push(L)}return u&&Promise.all(p).then(()=>{Nt.update(()=>{u&&C6(t,u)})}),p}function C0(t,e,n={}){var r;const o=om(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(vx(t,o,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:f=0,staggerChildren:y,staggerDirection:b}=l;return q8(t,e,f+p,y,b,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,f]=h==="beforeChildren"?[c,u]:[u,c];return p().then(()=>f())}else return Promise.all([c(),u(n.delay)])}function q8(t,e,n=0,r=0,o=1,l){const c=[],u=(t.variantChildren.size-1)*r,h=o===1?(p=0)=>p*r:(p=0)=>u-p*r;return Array.from(t.variantChildren).sort(K8).forEach((p,f)=>{p.notify("AnimationStart",e),c.push(C0(p,e,{...l,delay:n+h(f)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function K8(t,e){return t.sortNodePosition(e)}function Q8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>C0(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=C0(t,e,n);else{const o=typeof e=="function"?om(t,e,n.custom):e;r=Promise.all(vx(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const X8=Wy.length;function Ck(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ck(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<X8;n++){const r=Wy[n],o=t.props[r];(Du(o)||o===!1)&&(e[r]=o)}return e}const Y8=[...Hy].reverse(),J8=Hy.length;function Z8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Q8(t,n,r)))}function eD(t){let e=Z8(t),n=db(),r=!0;const o=h=>(p,f)=>{var y;const b=om(t,f,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(b){const{transition:E,transitionEnd:T,...R}=b;p={...p,...R,...T}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,f=Ck(t.parent)||{},y=[],b=new Set;let E={},T=1/0;for(let L=0;L<J8;L++){const O=Y8[L],B=n[O],I=p[O]!==void 0?p[O]:f[O],v=Du(I),_=O===h?B.isActive:null;_===!1&&(T=L);let D=I===f[O]&&I!==p[O]&&v;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),B.protectedKeys={...E},!B.isActive&&_===null||!I&&!B.prevProp||rm(I)||typeof I=="boolean")continue;const k=tD(B.prevProp,I);let S=k||O===h&&B.isActive&&!D&&v||L>T&&v,A=!1;const F=Array.isArray(I)?I:[I];let P=F.reduce(o(O),{});_===!1&&(P={});const{prevResolvedValues:V={}}=B,$={...V,...P},ie=K=>{S=!0,b.has(K)&&(A=!0,b.delete(K)),B.needsAnimating[K]=!0;const X=t.getValue(K);X&&(X.liveStyle=!1)};for(const K in $){const X=P[K],ae=V[K];if(E.hasOwnProperty(K))continue;let le=!1;v0(X)&&v0(ae)?le=!BS(X,ae):le=X!==ae,le?X!=null?ie(K):b.add(K):X!==void 0&&b.has(K)?ie(K):B.protectedKeys[K]=!0}B.prevProp=I,B.prevResolvedValues=P,B.isActive&&(E={...E,...P}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(D&&k)||A)&&y.push(...F.map(K=>({animation:K,options:{type:O}})))}if(b.size){const L={};b.forEach(O=>{const B=t.getBaseTarget(O),I=t.getValue(O);I&&(I.liveStyle=!0),L[O]=B!=null?B:null}),y.push({animation:L})}let R=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(y):Promise.resolve()}function u(h,p){var f;if(n[h].isActive===p)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(b=>{var E;return(E=b.animationState)===null||E===void 0?void 0:E.setActive(h,p)}),n[h].isActive=p;const y=c(h);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=db(),r=!0}}}function tD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BS(e,t):!1}function ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function db(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nD extends Ro{constructor(e){super(e),e.animationState||(e.animationState=eD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let sD=0;class rD extends Ro{constructor(){super(...arguments),this.id=sD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const iD={animation:{Feature:nD},exit:{Feature:rD}};function Fu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function sd(t){return{point:{x:t.pageX,y:t.pageY}}}const oD=t=>e=>ox(e)&&t(e,sd(e));function yu(t,e,n,r){return Fu(t,e,oD(n),r)}const hb=(t,e)=>Math.abs(t-e);function aD(t,e){const n=hb(t.x,e.x),r=hb(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ak{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=mg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,E=aD(y.offset,{x:0,y:0})>=3;if(!b&&!E)return;const{point:T}=y,{timestamp:R}=Dn;this.history.push({...T,timestamp:R});const{onStart:L,onMove:O}=this.handlers;b||(L&&L(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=pg(b,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=mg(y.type==="pointercancel"?this.lastMoveEventInfo:pg(b,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,L),T&&T(y,L)},!ox(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=sd(e),u=pg(c,this.transformPagePoint),{point:h}=u,{timestamp:p}=Dn;this.history=[{...h,timestamp:p}];const{onSessionStart:f}=n;f&&f(e,mg(u,this.history)),this.removeListeners=nd(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ui(this.updatePoint)}}function pg(t,e){return e?{point:e(t.point)}:t}function pb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mg({point:t},e){return{point:t,delta:pb(t,Nk(e)),offset:pb(t,lD(e)),velocity:cD(e,.1)}}function lD(t){return t[0]}function Nk(t){return t[t.length-1]}function cD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Nk(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>si(e)));)n--;if(!r)return{x:0,y:0};const l=ri(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Ik=1e-4,uD=1-Ik,dD=1+Ik,Rk=.01,hD=0-Rk,pD=0+Rk;function Os(t){return t.max-t.min}function mD(t,e,n){return Math.abs(t-e)<=n}function mb(t,e,n,r=.5){t.origin=r,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Os(n)/Os(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uD&&t.scale<=dD||isNaN(t.scale))&&(t.scale=1),(t.translate>=hD&&t.translate<=pD||isNaN(t.translate))&&(t.translate=0)}function xu(t,e,n,r){mb(t.x,e.x,n.x,r?r.originX:void 0),mb(t.y,e.y,n.y,r?r.originY:void 0)}function fb(t,e,n){t.min=n.min+e.min,t.max=t.min+Os(e)}function fD(t,e,n){fb(t.x,e.x,n.x),fb(t.y,e.y,n.y)}function gb(t,e,n){t.min=e.min-n.min,t.max=t.min+Os(e)}function vu(t,e,n){gb(t.x,e.x,n.x),gb(t.y,e.y,n.y)}function gD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Vt(n,t,r.max):Math.min(t,n)),t}function yb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yD(t,{top:e,left:n,bottom:r,right:o}){return{x:yb(t.x,n,o),y:yb(t.y,e,r)}}function xb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xD(t,e){return{x:xb(t.x,e.x),y:xb(t.y,e.y)}}function vD(t,e){let n=.5;const r=Os(t),o=Os(e);return o>r?n=Sa(e.min,e.max-r,t.min):r>o&&(n=Sa(t.min,t.max-o,e.min)),zi(0,1,n)}function bD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const A0=.35;function wD(t=A0){return t===!1?t=0:t===!0&&(t=A0),{x:vb(t,"left","right"),y:vb(t,"top","bottom")}}function vb(t,e,n){return{min:bb(t,e),max:bb(t,n)}}function bb(t,e){return typeof t=="number"?t:t[e]||0}const wb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tl=()=>({x:wb(),y:wb()}),_b=()=>({min:0,max:0}),Qt=()=>({x:_b(),y:_b()});function sr(t){return[t("x"),t("y")]}function Pk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _D({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fg(t){return t===void 0||t===1}function N0({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function pa(t){return N0(t)||Dk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Dk(t){return jb(t.x)||jb(t.y)}function jb(t){return t&&t!=="0%"}function Ep(t,e,n){const r=t-n,o=e*r;return n+o}function Sb(t,e,n,r,o){return o!==void 0&&(t=Ep(t,o,r)),Ep(t,n,r)+e}function I0(t,e=0,n=1,r,o){t.min=Sb(t.min,e,n,r,o),t.max=Sb(t.max,e,n,r,o)}function Lk(t,{x:e,y:n}){I0(t.x,e.translate,e.scale,e.originPoint),I0(t.y,n.translate,n.scale,n.originPoint)}const kb=.999999999999,Eb=1.0000000000001;function SD(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let u=0;u<o;u++){l=n[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Lk(t,c)),r&&pa(l.latestValues)&&Al(t,l.latestValues))}e.x<Eb&&e.x>kb&&(e.x=1),e.y<Eb&&e.y>kb&&(e.y=1)}function Cl(t,e){t.min=t.min+e,t.max=t.max+e}function Tb(t,e,n,r,o=.5){const l=Vt(t.min,t.max,o);I0(t,e,n,l,r)}function Al(t,e){Tb(t.x,e.x,e.scaleX,e.scale,e.originX),Tb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Mk(t,e){return Pk(jD(t.getBoundingClientRect(),e))}function kD(t,e,n){const r=Mk(t,n),{scroll:o}=e;return o&&(Cl(r.x,o.offset.x),Cl(r.y,o.offset.y)),r}const Fk=({current:t})=>t?t.ownerDocument.defaultView:null,ED=new WeakMap;class TD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sd(f).point)},l=(f,y)=>{const{drag:b,dragPropagation:E,onDragStart:T}=this.getProps();if(b&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j6(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(L=>{let O=this.getAxisMotionValue(L).get()||0;if(ii.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const I=B.layout.layoutBox[L];I&&(O=Os(I)*(parseFloat(O)/100))}}this.originPoint[L]=O}),T&&Nt.postRender(()=>T(f,y)),w0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(f,y)=>{const{dragPropagation:b,dragDirectionLock:E,onDirectionLock:T,onDrag:R}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:L}=y;if(E&&this.currentDirection===null){this.currentDirection=CD(L),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,L),this.updateAxis("y",y.point,L),this.visualElement.render(),R&&R(f,y)},u=(f,y)=>this.stop(f,y),h=()=>sr(f=>{var y;return this.getAnimationState(f)==="paused"&&((y=this.getAxisMotionValue(f).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Ak(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Fk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Nt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Rh(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=gD(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&kl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=yD(o.layoutBox,n):this.constraints=!1,this.elastic=wD(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&sr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=bD(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!kl(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=kD(r,o.root,this.visualElement.getTransformPagePoint());let c=xD(o.layout.layoutBox,l);if(n){const u=n(_D(c));this.hasMutatedConstraints=!!u,u&&(c=Pk(u))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=sr(f=>{if(!Rh(f,n,this.currentDirection))return;let y=h&&h[f]||{};c&&(y={min:0,max:0});const b=o?200:1e6,E=o?40:1e7,T={type:"inertia",velocity:r?e[f]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(f,T)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return w0(this.visualElement,e),r.start(xx(e,r,0,n,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(n=>{const{drag:r}=this.getProps();if(!Rh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[n];l.set(e[n]-Vt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kl(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};sr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();o[c]=vD({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(c=>{if(!Rh(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];u.set(Vt(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;ED.set(this.visualElement,this);const e=this.visualElement.current,n=yu(e,"pointerdown",h=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();kl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Nt.read(r);const c=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(sr(f=>{const y=this.getAxisMotionValue(f);y&&(this.originPoint[f]+=h[f].translate,y.set(y.get()+h[f].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=A0,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Rh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AD extends Ro{constructor(e){super(e),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new TD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cb=t=>(e,n)=>{t&&Nt.postRender(()=>t(e,n))};class ND extends Ro{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(e){this.session=new Ak(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Cb(e),onStart:Cb(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&Nt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ab(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=Ab(t,e.target.x),r=Ab(t,e.target.y);return`${n}% ${r}%`}},ID={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Co.parse(t);if(o.length>5)return r;const l=Co.createTransformer(t),c=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=u,o[1+c]/=h;const p=Vt(u,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class RD extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;s6(PD),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Nt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bk(t){const[e,n]=vP(),r=N.useContext(yS);return s.jsx(RD,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(kS),isPresent:e,safeToRemove:n})}const PD={borderRadius:{...qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qc,borderTopRightRadius:qc,borderBottomLeftRadius:qc,borderBottomRightRadius:qc,boxShadow:ID};function Vk(t,e,n){const r=Sn(t)?t:Gl(t);return r.start(xx("",r,e,n)),r.animation}function $k(t){return t instanceof SVGElement&&t.tagName!=="svg"}const DD=(t,e)=>t.depth-e.depth;class LD{constructor(){this.children=[],this.isDirty=!1}add(e){ax(this.children,e),this.isDirty=!0}remove(e){lm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DD),this.isDirty=!1,this.children.forEach(e)}}function MD(t,e){const n=oi.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(Ui(r),t(l-e))};return Nt.read(r,!0),()=>Ui(r)}const Ok=["TopLeft","TopRight","BottomLeft","BottomRight"],FD=Ok.length,Nb=t=>typeof t=="string"?parseFloat(t):t,Ib=t=>typeof t=="number"||Fe.test(t);function BD(t,e,n,r,o,l){o?(t.opacity=Vt(0,n.opacity!==void 0?n.opacity:1,VD(r)),t.opacityExit=Vt(e.opacity!==void 0?e.opacity:1,0,$D(r))):l&&(t.opacity=Vt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<FD;c++){const u=`border${Ok[c]}Radius`;let h=Rb(e,u),p=Rb(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Ib(h)===Ib(p)?(t[u]=Math.max(Vt(Nb(h),Nb(p),r),0),(ii.test(p)||ii.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,r))}function Rb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VD=Uk(0,.5,nk),$D=Uk(.5,.95,Vs);function Uk(t,e,n){return r=>r<t?0:r>e?1:n(Sa(t,e,r))}function Pb(t,e){t.min=e.min,t.max=e.max}function tr(t,e){Pb(t.x,e.x),Pb(t.y,e.y)}function Db(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lb(t,e,n,r,o){return t-=e,t=Ep(t,1/n,r),o!==void 0&&(t=Ep(t,1/o,r)),t}function OD(t,e=0,n=1,r=.5,o,l=t,c=t){if(ii.test(e)&&(e=parseFloat(e),e=Vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Vt(l.min,l.max,r);t===l&&(u-=e),t.min=Lb(t.min,e,n,u,o),t.max=Lb(t.max,e,n,u,o)}function Mb(t,e,[n,r,o],l,c){OD(t,e[n],e[r],e[o],e.scale,l,c)}const UD=["x","scaleX","originX"],zD=["y","scaleY","originY"];function Fb(t,e,n,r){Mb(t.x,e,UD,n?n.x:void 0,r?r.x:void 0),Mb(t.y,e,zD,n?n.y:void 0,r?r.y:void 0)}function Bb(t){return t.translate===0&&t.scale===1}function zk(t){return Bb(t.x)&&Bb(t.y)}function Vb(t,e){return t.min===e.min&&t.max===e.max}function HD(t,e){return Vb(t.x,e.x)&&Vb(t.y,e.y)}function $b(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Hk(t,e){return $b(t.x,e.x)&&$b(t.y,e.y)}function Ob(t){return Os(t.x)/Os(t.y)}function Ub(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class WD{constructor(){this.members=[]}add(e){ax(this.members,e),e.scheduleRender()}remove(e){if(lm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GD(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:f,rotateX:y,rotateY:b,skewX:E,skewY:T}=n;p&&(r=`perspective(${p}px) ${r}`),f&&(r+=`rotate(${f}deg) `),y&&(r+=`rotateX(${y}deg) `),b&&(r+=`rotateY(${b}deg) `),E&&(r+=`skewX(${E}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const ma={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cu=typeof window!="undefined"&&window.MotionDebug!==void 0,gg=["","X","Y","Z"],qD={visibility:"hidden"},zb=1e3;let KD=0;function yg(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Wk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Wk(r)}function Gk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},u=e==null?void 0:e()){this.id=KD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cu&&(ma.totalNodes=ma.resolvedTargetDeltas=ma.recalculatedProjection=0),this.nodes.forEach(YD),this.nodes.forEach(n9),this.nodes.forEach(s9),this.nodes.forEach(JD),cu&&window.MotionDebug.record(ma)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new LD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new lx),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$k(c),this.instance=c;const{layoutId:h,layout:p,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(p||h)&&(this.isLayoutDirty=!0),t){let y;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=MD(b,250),sp.hasAnimatedSinceResize&&(sp.hasAnimatedSinceResize=!1,this.nodes.forEach(Wb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeTargetChanged:E,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||f.getDefaultTransition()||l9,{onLayoutAnimationStart:L,onLayoutAnimationComplete:O}=f.getProps(),B=!this.targetLayout||!Hk(this.targetLayout,T)||E,I=!b&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,I);const v={...sx(R,"layout"),onPlay:L,onComplete:O};(f.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else b||Wb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const y=this.path[f];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hb);return}this.isUpdating||this.nodes.forEach(e9),this.isUpdating=!1,this.nodes.forEach(t9),this.nodes.forEach(QD),this.nodes.forEach(XD),this.clearAllSnapshots();const u=oi.now();Dn.delta=zi(0,1e3/60,u-Dn.timestamp),Dn.timestamp=u,Dn.isProcessing=!0,ag.update.process(Dn),ag.preRender.process(Dn),ag.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZD),this.sharedNodes.forEach(i9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!zk(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;c&&(u||pa(this.latestValues)||f)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),c9(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return Qt();const h=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(u9))){const{scroll:f}=this.root;f&&(Cl(h.x,f.offset.x),Cl(h.y,f.offset.y))}return h}removeElementScroll(c){var u;const h=Qt();if(tr(h,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let p=0;p<this.path.length;p++){const f=this.path[p],{scroll:y,options:b}=f;f!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&tr(h,c),Cl(h.x,y.offset.x),Cl(h.y,y.offset.y))}return h}applyTransform(c,u=!1){const h=Qt();tr(h,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Al(h,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),pa(f.latestValues)&&Al(h,f.latestValues)}return pa(this.latestValues)&&Al(h,this.latestValues),h}removeTransform(c){const u=Qt();tr(u,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!pa(p.latestValues))continue;N0(p.latestValues)&&p.updateSnapshot();const f=Qt(),y=p.measurePageBox();tr(f,y),Fb(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return pa(this.latestValues)&&Fb(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=Dn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),vu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),Lk(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),vu(this.relativeTargetOrigin,this.target,E.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cu&&ma.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||N0(this.parent.latestValues)||Dk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(p=!1),p)return;const{layout:f,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||y))return;tr(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;SD(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Qt());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Db(this.prevProjectionDelta.x,this.projectionDelta.x),Db(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!Ub(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ub(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),cu&&ma.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tl(),this.projectionDelta=Tl(),this.projectionDeltaWithTransform=Tl()}setAnimationOrigin(c,u=!1){const h=this.snapshot,p=h?h.latestValues:{},f={...this.latestValues},y=Tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Qt(),E=h?h.source:void 0,T=this.layout?this.layout.source:void 0,R=E!==T,L=this.getStack(),O=!L||L.members.length<=1,B=!!(R&&!O&&this.options.crossfade===!0&&!this.path.some(a9));this.animationProgress=0;let I;this.mixTargetDelta=v=>{const _=v/1e3;Gb(y.x,c.x,_),Gb(y.y,c.y,_),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o9(this.relativeTarget,this.relativeTargetOrigin,b,_),I&&HD(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Qt()),tr(I,this.relativeTarget)),R&&(this.animationValues=f,BD(f,p,this.latestValues,_,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{sp.hasAnimatedSinceResize=!0,this.currentAnimation=Vk(0,zb,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:f}=c;if(!(!u||!h||!p)){if(this!==c&&this.layout&&p&&qk(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Qt();const y=Os(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const b=Os(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}tr(u,h),Al(u,f),xu(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new WD),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&yg("z",c,p,this.animationValues);for(let f=0;f<gg.length;f++)yg(`rotate${gg[f]}`,c,p,this.animationValues),yg(`skew${gg[f]}`,c,p,this.animationValues);c.render();for(const f in p)c.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);c.scheduleRender()}getProjectionStyles(c){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qD;const p={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=tp(c==null?void 0:c.pointerEvents)||"",p.transform=f?f(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=tp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(R.transform=f?f({},""):"none",this.hasProjected=!1),R}const b=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=GD(this.projectionDeltaWithTransform,this.treeScale,b),f&&(p.transform=f(b,p.transform));const{x:E,y:T}=this.projectionDelta;p.transformOrigin=`${E.origin*100}% ${T.origin*100}% 0`,y.animationValues?p.opacity=y===this?(h=(u=b.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const R in bp){if(b[R]===void 0)continue;const{correct:L,applyTo:O}=bp[R],B=p.transform==="none"?b[R]:L(b[R],y);if(O){const I=O.length;for(let v=0;v<I;v++)p[O[v]]=B}else p[R]=B}return this.options.layoutId&&(p.pointerEvents=y===this?tp(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(Hb),this.root.sharedNodes.clear()}}}function QD(t){t.updateLayout()}function XD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?sr(y=>{const b=c?n.measuredBox[y]:n.layoutBox[y],E=Os(b);b.min=r[y].min,b.max=b.min+E}):qk(l,n.layoutBox,r)&&sr(y=>{const b=c?n.measuredBox[y]:n.layoutBox[y],E=Os(r[y]);b.max=b.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=Tl();xu(u,r,n.layoutBox);const h=Tl();c?xu(h,t.applyTransform(o,!0),n.measuredBox):xu(h,r,n.layoutBox);const p=!zk(u);let f=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:E}=y;if(b&&E){const T=Qt();vu(T,n.layoutBox,b.layoutBox);const R=Qt();vu(R,r,E.layoutBox),Hk(T,R)||(f=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=T,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function YD(t){cu&&ma.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZD(t){t.clearSnapshot()}function Hb(t){t.clearMeasurements()}function e9(t){t.isLayoutDirty=!1}function t9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Wb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function n9(t){t.resolveTargetDelta()}function s9(t){t.calcProjection()}function r9(t){t.resetSkewAndRotation()}function i9(t){t.removeLeadSnapshot()}function Gb(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qb(t,e,n,r){t.min=Vt(e.min,n.min,r),t.max=Vt(e.max,n.max,r)}function o9(t,e,n,r){qb(t.x,e.x,n.x,r),qb(t.y,e.y,n.y,r)}function a9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const l9={duration:.45,ease:[.4,0,.1,1]},Kb=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qb=Kb("applewebkit/")&&!Kb("chrome/")?Math.round:Vs;function Xb(t){t.min=Qb(t.min),t.max=Qb(t.max)}function c9(t){Xb(t.x),Xb(t.y)}function qk(t,e,n){return t==="position"||t==="preserve-aspect"&&!mD(Ob(e),Ob(n),.2)}function u9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const d9=Gk({attachResizeListener:(t,e)=>Fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xg={current:void 0},Kk=Gk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xg.current){const t=new d9({});t.mount(window),t.setOptions({layoutScroll:!0}),xg.current=t}return xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),h9={pan:{Feature:ND},drag:{Feature:AD,ProjectionNode:Kk,MeasureLayout:Bk}};function Yb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&Nt.postRender(()=>l(e,sd(e)))}class p9 extends Ro{mount(){const{current:e}=this.node;e&&(this.unmount=x6(e,n=>(Yb(this.node,n,"Start"),r=>Yb(this.node,r,"End"))))}unmount(){}}class m9 extends Ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nd(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&Nt.postRender(()=>l(e,sd(e)))}class f9 extends Ro{mount(){const{current:e}=this.node;e&&(this.unmount=_6(e,n=>(Jb(this.node,n,"Start"),(r,{success:o})=>Jb(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const R0=new WeakMap,vg=new WeakMap,g9=t=>{const e=R0.get(t.target);e&&e(t)},y9=t=>{t.forEach(g9)};function x9({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const r=vg.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(y9,{root:t,...e})),r[o]}function v9(t,e,n){const r=x9(e);return R0.set(t,n),r.observe(t),()=>{R0.delete(t),r.unobserve(t)}}const b9={some:0,all:1};class w9 extends Ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:b9[o]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:y}=this.node.getProps(),b=p?f:y;b&&b(h)};return v9(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_9(e,n))&&this.startObserver()}unmount(){}}function _9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const j9={inView:{Feature:w9},tap:{Feature:f9},focus:{Feature:m9},hover:{Feature:p9}},S9={layout:{ProjectionNode:Kk,MeasureLayout:Bk}},Tp={current:null},bx={current:!1};function Qk(){if(bx.current=!0,!!Uy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tp.current=t.matches;t.addListener(e),e()}else Tp.current=!1}const k9=[...gk,Kn,Co],E9=t=>k9.find(fk(t)),Kl=new WeakMap;function T9(t,e,n){for(const r in e){const o=e[r],l=n[r];if(Sn(o))t.addValue(r,o);else if(Sn(l))t.addValue(r,Gl(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Gl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Zb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xk{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=oi.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Nt.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:f}=c;this.onUpdate=f,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=im(n),this.isVariantNode=jS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in b){const T=b[E];h[E]!==void 0&&Sn(T)&&T.set(h[E],!1)}}mount(e){this.current=e,Kl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),bx.current||Qk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kl.delete(this.current),this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ca.has(e),o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wl){const n=Wl[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zb.length;r++){const o=Zb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=T9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(pk(o)||rk(o))?o=parseFloat(o):!E9(o)&&Co.test(n)&&(o=uk(e,n)),this.setBaseTarget(e,Sn(o)?o.get():o)),Sn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=Qy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Sn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Yk extends Xk{constructor(){super(...arguments),this.KeyframeResolver=yk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function C9(t){return window.getComputedStyle(t)}class Jk extends Yk{constructor(){super(...arguments),this.type="html",this.renderInstance=RS}readValueFromInstance(e,n){if(Ca.has(n)){const r=px(n);return r&&r.default||0}else{const r=C9(e),o=(AS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Mk(e,n)}build(e,n,r){Jy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return nx(e,n,r)}}class Zk extends Yk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ca.has(n)){const r=px(n);return r&&r.default||0}return n=PS.has(n)?n:Gy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return MS(e,n,r)}build(e,n,r){Zy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){DS(e,n,r,o)}mount(e){this.isSVGTag=tx(e.tagName),super.mount(e)}}const A9=(t,e)=>Ky(t)?new Zk(e):new Jk(e,{allowProjection:t!==N.Fragment}),N9=h6({...iD,...j9,...h9,...S9},A9),eE=TP(N9);function uu(t){const e=Vy(()=>Gl(t)),{isStatic:n}=N.useContext(Oy);if(n){const[,r]=N.useState(t);N.useEffect(()=>e.on("change",r),[])}return e}function tE(t,e){const n=uu(e()),r=()=>n.set(e());return r(),xS(()=>{const o=()=>Nt.preRender(r,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),Ui(r)}}),n}const I9=t=>t&&typeof t=="object"&&t.mix,R9=t=>I9(t)?t.mix:void 0;function P9(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],u=Sk(o,l,{mixer:R9(l[0]),...c});return e?u(r):u}function D9(t){fu.current=[],t();const e=tE(fu.current,t);return fu.current=void 0,e}function Ph(t,e,n,r){if(typeof t=="function")return D9(t);const o=typeof e=="function"?e:P9(e,n,r);return Array.isArray(t)?ew(t,o):ew([t],([l])=>o(l))}function ew(t,e){const n=Vy(()=>[]);return tE(t,()=>{n.length=0;const r=t.length;for(let o=0;o<r;o++)n[o]=t[o].get();return e(n)})}function nE(){!bx.current&&Qk();const[t]=N.useState(Tp.current);return t}const L9=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function sE(t,e){return jk(t)?t[L9(0,t.length,e)]:t}function wx(t){return typeof t=="object"&&!Array.isArray(t)}function rE(t,e,n,r){return typeof t=="string"&&wx(e)?HS(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function M9(t,e,n){return t*(e+1)}function tw(t,e,n,r){var o;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(o=r.get(e))!==null&&o!==void 0?o:t}function F9(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(lm(t,o),r--)}}function B9(t,e,n,r,o,l){F9(t,o,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Vt(o,l,r[c]),easing:sE(n,c)})}function V9(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function $9(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const O9="easeInOut";function U9(t,{defaultTransition:e={},...n}={},r,o){const l=e.duration||.3,c=new Map,u=new Map,h={},p=new Map;let f=0,y=0,b=0;for(let E=0;E<t.length;E++){const T=t[E];if(typeof T=="string"){p.set(T,y);continue}else if(!Array.isArray(T)){p.set(T.name,tw(y,T.at,f,p));continue}let[R,L,O={}]=T;O.at!==void 0&&(y=tw(y,O.at,f,p));let B=0;const I=(v,_,D,k=0,S=0)=>{const A=z9(v),{delay:F=0,times:P=Ek(A),type:V="keyframes",repeat:$,repeatType:ie,repeatDelay:H=0,...se}=_;let{ease:K=e.ease||"easeOut",duration:X}=_;const ae=typeof F=="function"?F(k,S):F,le=A.length,W=am(V)?V:o==null?void 0:o[V];if(le<=2&&W){let Ee=100;if(le===2&&G9(A)){const Ie=A[1]-A[0];Ee=Math.abs(Ie)}const ge={...se};X!==void 0&&(ge.duration=si(X));const Ae=f6(ge,Ee,W);K=Ae.ease,X=Ae.duration}X!=null||(X=l);const ne=y+ae;P.length===1&&P[0]===0&&(P[1]=1);const ye=P.length-A.length;if(ye>0&&kk(P,ye),A.length===1&&A.unshift(null),$){X=M9(X,$);const Ee=[...A],ge=[...P];K=Array.isArray(K)?[...K]:[K];const Ae=[...K];for(let Ie=0;Ie<$;Ie++){A.push(...Ee);for(let De=0;De<Ee.length;De++)P.push(ge[De]+(Ie+1)),K.push(De===0?"linear":sE(Ae,De-1))}V9(P,$)}const je=ne+X;B9(D,A,K,P,ne,je),B=Math.max(ae+X,B),b=Math.max(je,b)};if(Sn(R)){const v=nw(R,u);I(L,O,sw("default",v))}else{const v=rE(R,L,r,h),_=v.length;for(let D=0;D<_;D++){L=L,O=O;const k=v[D],S=nw(k,u);for(const A in L)I(L[A],H9(O,A),sw(A,S),D,_)}}f=y,y+=B}return u.forEach((E,T)=>{for(const R in E){const L=E[R];L.sort($9);const O=[],B=[],I=[];for(let _=0;_<L.length;_++){const{at:D,value:k,easing:S}=L[_];O.push(k),B.push(Sa(0,b,D)),I.push(S||"easeOut")}B[0]!==0&&(B.unshift(0),O.unshift(O[0]),I.unshift(O9)),B[B.length-1]!==1&&(B.push(1),O.push(null)),c.has(T)||c.set(T,{keyframes:{},transition:{}});const v=c.get(T);v.keyframes[R]=O,v.transition[R]={...e,duration:b,ease:I,times:B,...n}}}),c}function nw(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function sw(t,e){return e[t]||(e[t]=[]),e[t]}function z9(t){return Array.isArray(t)?t:[t]}function H9(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const W9=t=>typeof t=="number",G9=t=>t.every(W9);function q9(t,e){return t in e}class K9 extends Xk{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(q9(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Qt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Q9(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=$k(t)?new Zk(e):new Jk(e);n.mount(t),Kl.set(t,n)}function X9(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new K9(e);n.mount(t),Kl.set(t,n)}function Y9(t,e){return Sn(t)||typeof t=="number"||typeof t=="string"&&!wx(e)}function iE(t,e,n,r){const o=[];if(Y9(t,e))o.push(Vk(t,wx(e)&&e.default||e,n&&(n.default||n)));else{const l=rE(t,e,r),c=l.length;for(let u=0;u<c;u++){const h=l[u],p=h instanceof Element?Q9:X9;Kl.has(h)||p(h);const f=Kl.get(h),y={...n};"delay"in y&&typeof y.delay=="function"&&(y.delay=y.delay(u,c)),o.push(...vx(f,{...e,transition:y},{}))}}return o}function J9(t,e,n){const r=[];return U9(t,e,n,{spring:gx}).forEach(({keyframes:l,transition:c},u)=>{r.push(...iE(u,l,c))}),r}function Z9(t){return Array.isArray(t)&&t.some(Array.isArray)}function eL(t){function e(n,r,o){let l=[];return Z9(n)?l=J9(n,r,t):l=iE(n,r,o,t),new VS(l)}return e}const Dh=eL(),Di={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function tL(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Di.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function nL(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Di.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Di.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Di.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Di.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function rw({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=nE();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Di.border,background:"var(--nav, "+Di.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(tL,{}),s.jsx(eE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(nL,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const bg={borderColor:"#2B4C73",background:"#1A2F4A"},Lh={borderColor:"#2B4C73",background:"#152A42"};function gn({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:u,rounded:h="rounded-3xl",padded:p=!0,centerFramed:f=!1,leftWidth:y=0,rightWidth:b=0,stickyRails:E=!0,mode:T="card",outerPadding:R="px-4 py-3",leftPlacement:L="inside",stickyTopbar:O=!0,stickySubheader:B=!0,shellViewportOffset:I="var(--app-topbar-h,72px)",topbarHeight:v=56}){const _={"--left":typeof y=="number"?`${y}px`:y,"--right":typeof b=="number"?`${b}px`:b},D=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:bg,children:t}),(e||n||r)&&s.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:bg,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&s.jsx("div",{className:[B?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...B?{top:O?`${v}px`:0}:{},...bg},children:o})]}),k=T==="card"?({children:A})=>s.jsx(rw,{rounded:h,padded:p,children:A}):({children:A})=>s.jsx("div",{className:`w-full ${R}`,children:A}),S=s.jsx("div",{className:"relative min-h-0 h-full",style:_,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Lh,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),f?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Lh,children:u}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:u}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Lh,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):b?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return L==="bleed"&&T==="card"?s.jsx("div",{className:`w-full ${R}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[D,s.jsx("div",{className:"flex-1 min-h-0",style:_,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Lh,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(rw,{rounded:h,padded:p,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:S})})]})})]})}):s.jsx(k,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${I})`},children:[D,s.jsx("div",{className:"flex-1 min-h-0",children:S})]})})}const sL="_row_1wiu6_2",rL="_colFull_1wiu6_9",iL="_colCommunity_1wiu6_16",oL="_colGuides_1wiu6_17",aL="_card_1wiu6_65",lL="_header_1wiu6_72",cL="_title_1wiu6_78",uL="_subtitle_1wiu6_79",dL="_empty_1wiu6_80",hL="_errorNote_1wiu6_81",pL="_linkBtn_1wiu6_82",mL="_primaryBtn_1wiu6_82",fL="_navBtn_1wiu6_82",gL="_closeBtn_1wiu6_82",yL="_actionsRight_1wiu6_90",xL="_tileGrid_1wiu6_93",vL="_tile_1wiu6_93",bL="_tileIcon_1wiu6_106",wL="_tileIconFallback_1wiu6_107",_L="_tileLabel_1wiu6_108",jL="_newsList_1wiu6_111",SL="_newsItem_1wiu6_112",kL="_newsMeta_1wiu6_113",EL="_newsAuthor_1wiu6_114",TL="_newsTime_1wiu6_115",CL="_newsText_1wiu6_116",AL="_newsImage_1wiu6_117",NL="_carouselCtrls_1wiu6_121",IL="_carousel_1wiu6_121",RL="_slide_1wiu6_125",PL="_slideActive_1wiu6_126",DL="_slideInactive_1wiu6_127",LL="_slideThumb_1wiu6_128",ML="_slideFallback_1wiu6_129",FL="_slideCaption_1wiu6_130",BL="_liveCard_1wiu6_133",VL="_liveAvatar_1wiu6_134",$L="_liveAvatarFallback_1wiu6_135",OL="_liveInfo_1wiu6_136",UL="_liveName_1wiu6_137",zL="_liveMeta_1wiu6_138",HL="_liveBadge_1wiu6_139",WL="_liveViewers_1wiu6_140",GL="_modalOverlay_1wiu6_143",qL="_modal_1wiu6_143",KL="_modalHeader_1wiu6_145",QL="_modalTitle_1wiu6_146",XL="_modalFilters_1wiu6_148",YL="_formRow_1wiu6_149",JL="_formRowCheckbox_1wiu6_150",ZL="_select_1wiu6_151",eM="_input_1wiu6_151",tM="_tableWrap_1wiu6_152",nM="_table_1wiu6_152",be={row:sL,colFull:rL,colCommunity:iL,colGuides:oL,card:aL,header:lL,title:cL,subtitle:uL,empty:dL,errorNote:hL,linkBtn:pL,primaryBtn:mL,navBtn:fL,closeBtn:gL,actionsRight:yL,tileGrid:xL,tile:vL,tileIcon:bL,tileIconFallback:wL,tileLabel:_L,newsList:jL,newsItem:SL,newsMeta:kL,newsAuthor:EL,newsTime:TL,newsText:CL,newsImage:AL,carouselCtrls:NL,carousel:IL,slide:RL,slideActive:PL,slideInactive:DL,slideThumb:LL,slideFallback:ML,slideCaption:FL,liveCard:BL,liveAvatar:VL,liveAvatarFallback:$L,liveInfo:OL,liveName:UL,liveMeta:zL,liveBadge:HL,liveViewers:WL,modalOverlay:GL,modal:qL,modalHeader:KL,modalTitle:QL,modalFilters:XL,formRow:YL,formRowCheckbox:JL,select:ZL,input:eM,tableWrap:tM,table:nM},sM=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function oE(){const t=[];for(const n of sM)try{const o=await(await fetch(n,{cache:"no-store"})).text(),l=rM(o);t.push(...l)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const o=r.toLowerCase();e.has(o)||e.set(o,n)}return Array.from(e.values())}function iw(t){const e=[];let n="",r=!1;for(let o=0;o<t.length;o++){const l=t[o];l==='"'?r&&t[o+1]==='"'?(n+='"',o++):r=!r:l===","&&!r?(e.push(n),n=""):n+=l}return e.push(n),e}function rM(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=iw(e[0]);return e.slice(1).map(r=>{const o=iw(r),l={};return n.forEach((c,u)=>{var h;return l[c.trim()]=((h=o[u])!=null?h:"").trim()}),l})}function iM(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),o=Math.floor(r/1e3);if(o<60)return`${o}s`;const l=Math.floor(o/60);if(l<60)return`${l}m`;const c=Math.floor(l/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function oM(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const aM=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],ow={},lM=()=>s.jsxs("section",{className:be.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:be.header,children:[s.jsx("span",{className:be.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:be.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:be.tileGrid,role:"list",children:aM.map(t=>s.jsxs(Dt,{to:t.to,role:"listitem",className:be.tile,"aria-label":t.label,children:[ow[t.to]?s.jsx("img",{src:ow[t.to],alt:"",className:be.tileIcon}):s.jsx("div",{className:be.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:be.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),cM=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(null);N.useEffect(()=>{async function l(){{e([]);return}}return l(),()=>{}},[]);const o=!t||t.length===0;return s.jsxs("section",{className:be.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:be.header,children:s.jsx("span",{className:be.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:be.newsList,children:[t==null?void 0:t.map(l=>{var c;return s.jsxs("article",{className:be.newsItem,children:[s.jsxs("div",{className:be.newsMeta,children:[s.jsx("span",{className:be.newsAuthor,children:l.author||"Discord"}),s.jsx("span",{className:be.newsTime,children:iM(l.timestamp)})]}),s.jsx("p",{className:be.newsText,children:l.text}),l.image&&s.jsx("img",{src:l.image,alt:"",className:be.newsImage}),l.url&&s.jsx("a",{href:l.url,target:"_blank",rel:"noreferrer",className:be.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=l.id)!=null?c:`${l.author}-${l.timestamp}`)}),o&&s.jsx("div",{className:be.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:be.errorNote,"aria-live":"polite",children:n})]})},uM=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(0),o=N.useRef(null);N.useEffect(()=>{let h=!0;async function p(){try{const y=(await oE()).map(b=>{const E=String(b["Creator Name"]||b.creator_name||b.name||"").trim(),T=String(b["YouTube Link"]||b.youtube||b.YouTube||"").trim();if(!T)return null;const R=oM(T),L=R?`https://i.ytimg.com/vi/${R}/hqdefault.jpg`:void 0;return{title:E,url:T,thumb:L}}).filter(Boolean).slice(0,12);h&&e(y)}catch(f){h&&e([])}}return p(),()=>{h=!1}},[]),N.useEffect(()=>{if(!(t.length<=1))return o.current=window.setInterval(()=>r(h=>(h+1)%t.length),6e3),()=>{o.current&&window.clearInterval(o.current)}},[t]);const l=()=>r(h=>(h-1+t.length)%Math.max(t.length,1)),c=()=>r(h=>(h+1)%Math.max(t.length,1)),u=h=>{h.key==="ArrowLeft"&&(h.preventDefault(),l()),h.key==="ArrowRight"&&(h.preventDefault(),c())};return s.jsxs("section",{className:be.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:be.header,children:[s.jsx("span",{className:be.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:be.carouselCtrls,children:[s.jsx("button",{className:be.navBtn,onClick:l,"aria-label":"Prev",children:""}),s.jsx("button",{className:be.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:be.carousel,tabIndex:0,onKeyDown:u,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:be.empty,children:"No videos"}):t.map((h,p)=>s.jsxs("a",{href:h.url,target:"_blank",rel:"noreferrer",className:[be.slide,p===n?be.slideActive:be.slideInactive].join(" "),children:[h.thumb?s.jsx("img",{src:h.thumb,alt:"",className:be.slideThumb}):s.jsx("div",{className:be.slideFallback,children:h.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:be.slideCaption,children:h.title})]},h.url))})]})},dM=({onOpenSchedule:t})=>{var f;const[e,n]=N.useState(null),[r,o]=N.useState(new Map),[l,c]=N.useState(0),u=N.useRef(null);if(N.useEffect(()=>{async function y(){{n([]);return}}return y(),()=>{}},[]),N.useEffect(()=>{let y=!0;async function b(){try{const E=await oE(),T=new Map;for(const R of E){const L=String(R["Creator Name"]||R.creator_name||R.name||"").trim(),O=String(R["Twitch Link"]||R.twitch||R.Twitch||"").trim();if(!L||!O)continue;const B=(()=>{try{return new URL(O).pathname.replace(/^\//,"").toLowerCase()}catch(I){return O.toLowerCase()}})();B&&T.set(B,O),T.set(L.toLowerCase(),O)}y&&o(T)}catch(E){y&&o(new Map)}}return b(),()=>{y=!1}},[]),N.useEffect(()=>{if(!(!e||e.length<=1))return u.current=window.setInterval(()=>c(y=>(y+1)%e.length),8e3),()=>{u.current&&window.clearInterval(u.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:be.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:be.header,children:s.jsx("span",{className:be.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:be.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:be.actionsRight,children:s.jsx("button",{className:be.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const h=e[l],p=(()=>{const y=((h==null?void 0:h.name)||"").toLowerCase();if(h!=null&&h.url)return h.url;if(y)return r.has(y)?r.get(y):r.has(y.replace(/^@/,""))?r.get(y.replace(/^@/,"")):`https://www.twitch.tv/${y}`})();return s.jsxs("section",{className:be.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:be.header,children:s.jsx("span",{className:be.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:be.liveCard,children:[h!=null&&h.avatar?s.jsx("img",{src:h.avatar,alt:"",className:be.liveAvatar}):s.jsx("div",{className:be.liveAvatarFallback,"aria-hidden":!0,children:(f=h==null?void 0:h.name)==null?void 0:f.slice(0,2).toUpperCase()}),s.jsxs("div",{className:be.liveInfo,children:[s.jsx("div",{className:be.liveName,children:h==null?void 0:h.name}),s.jsxs("div",{className:be.liveMeta,children:[s.jsx("span",{className:be.liveBadge,children:"LIVE"}),typeof(h==null?void 0:h.viewers)=="number"&&s.jsxs("span",{className:be.liveViewers,children:[h.viewers.toLocaleString()," viewers"]})]})]}),p&&s.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:be.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:be.carouselCtrls,children:[s.jsx("button",{className:be.navBtn,onClick:()=>c(y=>(y-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:be.navBtn,onClick:()=>c(y=>(y+1)%e.length),"aria-label":"Next",children:""})]})]})},hM=({open:t,onClose:e})=>{var E;const[n,r]=N.useState(null),[o,l]=N.useState("All"),[c,u]=N.useState(""),[h,p]=N.useState(!1);if(N.useEffect(()=>{if(!t)return;async function T(){{r([]);return}}return T(),()=>{}},[t]),N.useEffect(()=>{const T=R=>{R.key==="Escape"&&e()};return t&&window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),!t)return null;const f=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),y=(n||[]).filter(T=>{if(o!=="All"&&T.platform.toLowerCase()!==o.toLowerCase()||h&&T.weekday&&T.weekday.toLowerCase()!==f.toLowerCase())return!1;if(c){const R=c.toLowerCase();if(!`${T.streamer} ${T.title}`.toLowerCase().includes(R))return!1}return!0}),b=((E=n==null?void 0:n.length)!=null?E:0)===0;return s.jsx("div",{className:be.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:be.modal,children:[s.jsxs("header",{className:be.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:be.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:be.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:be.modalFilters,children:[s.jsxs("label",{className:be.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:o,onChange:T=>l(T.target.value),className:be.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:be.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:c,onChange:T=>u(T.target.value),className:be.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:be.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:h,onChange:T=>p(T.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:be.tableWrap,children:s.jsxs("table",{className:be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:b?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:be.empty,children:"No schedule yet"})}):y.map((T,R)=>s.jsxs("tr",{children:[s.jsx("td",{children:T.weekday}),s.jsx("td",{children:T.start_utc}),s.jsx("td",{children:T.end_utc}),s.jsx("td",{children:T.timezone}),s.jsx("td",{children:T.platform}),s.jsx("td",{children:T.channel_url?s.jsx("a",{href:T.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:T.streamer}),s.jsx("td",{children:T.title})]},R))})]})})]})})},pM=()=>{const[t,e]=N.useState(!1);return s.jsxs(gn,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:be.row,children:s.jsx("div",{className:be.colFull,children:s.jsx(lM,{})})}),s.jsxs("div",{className:be.row,children:[s.jsx("div",{className:be.colCommunity,children:s.jsx(cM,{})}),s.jsx("div",{className:be.colGuides,children:s.jsx(uM,{})})]}),s.jsx("div",{className:be.row,children:s.jsx("div",{className:be.colFull,children:s.jsx(dM,{onOpenSchedule:()=>e(!0)})})}),s.jsx(hM,{open:t,onClose:()=>e(!1)})]})};function mM(){return s.jsx(gn,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(fM,{}),right:s.jsx(gM,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(wg,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(wg,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(wg,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function fM(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(_g,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(_g,{to:"/dashboard/activity",children:"Activity"}),s.jsx(_g,{to:"/dashboard/progression",children:"Progression"})]})]})}function gM(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function wg({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function _g({to:t,children:e}){return s.jsx(Dt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function yM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(jg,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(jg,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(jg,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function jg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function xM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function vM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Sg,{title:"Scrapbook 100%",progress:72}),s.jsx(Sg,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(Sg,{title:"Underworld Boss",progress:35})]})]})}function Sg({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function bM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(gl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(gl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(gl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(gl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(gl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(gl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function gl({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function wM({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Di.border,backgroundColor:Di.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function _M(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const jM=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:o=!0,className:l,showInfo:c=!1,infoText:u="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:p=!0})=>{const[f,y]=N.useState(!1),b=N.useMemo(()=>_M(t,p),[t,p]),E=o?"lazy":"eager",T={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},R={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},L=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},O={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:l,style:T,children:s.jsx("div",{style:R,children:s.jsxs("div",{style:L,children:[s.jsx("iframe",{src:b,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:E,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>y(B=>!B),style:O,title:"Info",children:"i"}),f&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[u," ",s.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},SM="#0C1C2E",kM=()=>s.jsx(gn,{children:s.jsx(wM,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:SM,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(jM,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),EM="_pageWrap_72re9_7",TM="_infoLine_72re9_17",CM="_viewerHost_72re9_43",AM="_overlay_72re9_99",NM="_dragZoneLeft_72re9_101",IM="_dragZoneRight_72re9_103",RM="_inbookLink_72re9_105",fo={pageWrap:EM,infoLine:TM,viewerHost:CM,overlay:AM,dragZoneLeft:NM,dragZoneRight:IM,inbookLink:RM};var du={exports:{}},PM=du.exports,aw;function DM(){return aw||(aw=1,(function(t,e){(function(n,r){r(e)})(PM,(function(n){class r{constructor(v,_){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=_,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends r{constructor(v,_,D){super(v,D),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=_}draw(v){const _=this.render.getContext(),D=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,S=this.render.getRect().height;_.save(),_.translate(D.x,D.y),_.beginPath();for(let A of this.state.area)A!==null&&(A=this.render.convertToGlobal(A),_.lineTo(A.x-D.x,A.y-D.y));_.rotate(this.state.angle),_.clip(),this.isLoad?_.drawImage(this.image,0,0,k,S):this.drawLoader(_,{x:0,y:0},k,S),_.restore()}simpleDraw(v){const _=this.render.getRect(),D=this.render.getContext(),k=_.pageWidth,S=_.height,A=v===1?_.left+_.pageWidth:_.left,F=_.top;this.isLoad?D.drawImage(this.image,A,F,k,S):this.drawLoader(D,{x:A,y:F},k,S)}drawLoader(v,_,D,k){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(_.x+1,_.y+1,D-1,k-1),v.stroke(),v.fill();const S={x:_.x+D/2,y:_.y+k/2};v.beginPath(),v.lineWidth=10,v.arc(S.x,S.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(v,_){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=_,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let _=0;_<this.pages.length;_++)this.portraitSpread.push([_]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let _=v;_<this.pages.length;_+=2)_<this.pages.length-1?this.landscapeSpread.push([_,_+1]):(this.landscapeSpread.push([_]),this.pages[_].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const _=this.getSpread();for(let D=0;D<_.length;D++)if(v===_[D][0]||v===_[D][1])return D;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const _=this.pages.indexOf(v);return _<this.pages.length-1?this.pages[_+1]:null}prevBy(v){const _=this.pages.indexOf(v);return _>0?this.pages[_-1]:null}getFlippingPage(v){const _=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[_].newTemporaryCopy():this.pages[_-1];{const D=v===0?this.getSpread()[_+1]:this.getSpread()[_-1];return D.length===1||v===0?this.pages[D[0]]:this.pages[D[1]]}}getBottomPage(v){const _=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[_+1]:this.pages[_-1];{const D=v===0?this.getSpread()[_+1]:this.getSpread()[_-1];return D.length===1?this.pages[D[0]]:v===0?this.pages[D[1]]:this.pages[D[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const _=this.getSpreadIndexByPage(v);_!==null&&(this.currentSpreadIndex=_,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(v,_,D){super(v,_),this.imagesHref=D}load(){for(const v of this.imagesHref){const _=new o(this.render,v,"soft");_.load(),this.pages.push(_)}this.createSpread()}}class u{static GetDistanceBetweenTwoPoint(v,_){return v===null||_===null?1/0:Math.sqrt(Math.pow(_.x-v.x,2)+Math.pow(_.y-v.y,2))}static GetSegmentLength(v){return u.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,_){const D=v[0].y-v[1].y,k=_[0].y-_[1].y,S=v[1].x-v[0].x,A=_[1].x-_[0].x;return Math.acos((D*k+S*A)/(Math.sqrt(D*D+S*S)*Math.sqrt(k*k+A*A)))}static PointInRect(v,_){return _===null?null:_.x>=v.left&&_.x<=v.width+v.left&&_.y>=v.top&&_.y<=v.top+v.height?_:null}static GetRotatedPoint(v,_,D){return{x:v.x*Math.cos(D)+v.y*Math.sin(D)+_.x,y:v.y*Math.cos(D)-v.x*Math.sin(D)+_.y}}static LimitPointToCircle(v,_,D){if(u.GetDistanceBetweenTwoPoint(v,D)<=_)return D;const k=v.x,S=v.y,A=D.x,F=D.y;let P=Math.sqrt(Math.pow(_,2)*Math.pow(k-A,2)/(Math.pow(k-A,2)+Math.pow(S-F,2)))+k;D.x<0&&(P*=-1);let V=(P-k)*(S-F)/(k-A)+S;return k-A+S===0&&(V=_),{x:P,y:V}}static GetIntersectBetweenTwoSegment(v,_,D){return u.PointInRect(v,u.GetIntersectBeetwenTwoLine(_,D))}static GetIntersectBeetwenTwoLine(v,_){const D=v[0].y-v[1].y,k=_[0].y-_[1].y,S=v[1].x-v[0].x,A=_[1].x-_[0].x,F=v[0].x*v[1].y-v[1].x*v[0].y,P=_[0].x*_[1].y-_[1].x*_[0].y,V=D*P-k*F,$=S*P-A*F,ie=-(F*A-P*S)/(D*A-k*S),H=-(D*P-k*F)/(D*A-k*S);if(isFinite(ie)&&isFinite(H))return{x:ie,y:H};if(Math.abs(V-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,_){const D=Math.abs(v.x-_.x),k=Math.abs(v.y-_.y),S=Math.max(D,k),A=[v];function F(P,V,$,ie,H){return V>P?P+H*($/ie):V<P?P-H*($/ie):P}for(let P=1;P<=S;P+=1)A.push({x:F(v.x,_.x,D,S,P),y:F(v.y,_.y,k,S,P)});return A}}class h extends r{constructor(v,_,D){super(v,D),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=_,this.element.classList.add("stf__item"),this.element.classList.add("--"+D)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const _=v||this.nowDrawingDensity,D=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,S=this.render.getRect().height;this.element.classList.remove("--simple");const A=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${k}px;
            height: ${S}px;
        `;_==="hard"?this.drawHard(A):this.drawSoft(D,A)}drawHard(v=""){const _=this.render.getRect().left+this.render.getRect().width/2,D=this.state.hardDrawingAngle,k=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${D}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${_}px, 0, 0) rotateY(${D}deg);`);this.element.style.cssText=k}drawSoft(v,_=""){let D="polygon( ";for(const S of this.state.area)if(S!==null){let A=this.render.getDirection()===1?{x:-S.x+this.state.position.x,y:S.y-this.state.position.y}:{x:S.x-this.state.position.x,y:S.y-this.state.position.y};A=u.GetRotatedPoint(A,{x:0,y:0},this.state.angle),D+=A.x+"px "+A.y+"px, "}D=D.slice(0,-2),D+=")";const k=_+`transform-origin: 0 0; clip-path: ${D}; -webkit-clip-path: ${D};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=k}simpleDraw(v){const _=this.render.getRect(),D=_.pageWidth,k=_.height,S=v===1?_.left+_.pageWidth:_.left,A=_.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${k}px; 
            left: ${S}px; 
            top: ${A}px; 
            width: ${D}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class p extends l{constructor(v,_,D,k){super(v,_),this.element=D,this.pagesElement=k}load(){for(const v of this.pagesElement){const _=new h(this.render,v,v.dataset.density==="hard"?"hard":"soft");_.load(),this.pages.push(_)}this.createSpread()}}class f{constructor(v,_,D,k){this.direction=v,this.corner=_,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(D,10),this.pageHeight=parseInt(k,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch(_){return!1}}getFlippingClipArea(){const v=[];let _=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?_=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(_=!1)),v.push(this.bottomIntersectPoint),(_||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?u.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=u.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let _=v;if(this.updateAngleAndGeometry(_),_=this.corner==="top"?this.checkPositionAtCenterLine(_,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(_,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(_.x-this.pageWidth)<1&&Math.abs(_.y)<1)throw new Error("Point is too small");return _}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const _=this.pageWidth-v.x+1,D=this.corner==="bottom"?this.pageHeight-v.y:v.y;let k=2*Math.acos(_/Math.sqrt(D*D+_*_));D<0&&(k=-k);const S=Math.PI-k;if(!isFinite(k)||S>=0&&S<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(k=-k),k}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,_){return{topLeft:this.getRotatedPoint(v[0],_),topRight:this.getRotatedPoint(v[1],_),bottomLeft:this.getRotatedPoint(v[2],_),bottomRight:this.getRotatedPoint(v[3],_)}}getRotatedPoint(v,_){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+_.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+_.y}}calculateIntersectPoint(v){const _={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=u.GetIntersectBetweenTwoSegment(_,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=u.GetIntersectBetweenTwoSegment(_,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=u.GetIntersectBetweenTwoSegment(_,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=u.GetIntersectBetweenTwoSegment(_,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=u.GetIntersectBetweenTwoSegment(_,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=u.GetIntersectBetweenTwoSegment(_,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,_,D){let k=v;const S=u.LimitPointToCircle(_,this.pageWidth,k);k!==S&&(k=S,this.updateAngleAndGeometry(k));const A=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let F=this.rect.bottomRight,P=this.rect.topLeft;if(this.corner==="bottom"&&(F=this.rect.topRight,P=this.rect.bottomLeft),F.x<=0){const V=u.LimitPointToCircle(D,A,P);V!==k&&(k=V,this.updateAngleAndGeometry(k))}return k}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class y{constructor(v,_){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=_}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const _=this.getBoundsRect();this.setState("flipping");const D=_.height/10,k=this.calc.getCorner()==="bottom"?_.height-D:D,S=this.calc.getCorner()==="bottom"?_.height:0;this.calc.calc({x:_.pageWidth-D,y:k}),this.animateFlippingTo({x:_.pageWidth-D,y:k},{x:-_.pageWidth,y:S},!0)}start(v){this.reset();const _=this.render.convertToBook(v),D=this.getBoundsRect(),k=this.getDirectionByPoint(_),S=_.y>=D.height/2?"bottom":"top";if(!this.checkDirection(k))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(k),this.bottomPage=this.app.getPageCollection().getBottomPage(k),this.render.getOrientation()==="landscape")if(k===1){const A=this.app.getPageCollection().nextBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}else{const A=this.app.getPageCollection().prevBy(this.flippingPage);A!==null&&this.flippingPage.getDensity()!==A.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),A.setDrawingDensity("hard"))}return this.render.setDirection(k),this.calc=new f(k,S,D.pageWidth.toString(10),D.height.toString(10)),!0}catch(A){return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const _=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*_)/100):this.flippingPage.setHardAngle(-90*(200-2*_)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),_,this.calc.getDirection())}}flipToPage(v,_){const D=this.app.getPageCollection().getCurrentSpreadIndex(),k=this.app.getPageCollection().getSpreadIndexByPage(v);try{k>D&&(this.app.getPageCollection().setCurrentSpreadIndex(k-1),this.flipNext(_)),k<D&&(this.app.getPageCollection().setCurrentSpreadIndex(k+1),this.flipPrev(_))}catch(S){}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),_=this.getBoundsRect(),D=this.calc.getCorner()==="bottom"?_.height:0;v.x<=0?this.animateFlippingTo(v,{x:-_.pageWidth,y:D},!0):this.animateFlippingTo(v,{x:_.pageWidth,y:D},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const _=this.getBoundsRect(),D=_.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:D-1,y:1});const k=50,S=this.calc.getCorner()==="bottom"?_.height-1:1,A=this.calc.getCorner()==="bottom"?_.height-k:k;this.animateFlippingTo({x:D-1,y:S},{x:D-k,y:A},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,_,D,k=!0){const S=u.GetCordsFromTwoPoint(v,_),A=[];for(const P of S)A.push(()=>this.do(P));const F=this.getAnimationDuration(S.length);this.render.startAnimation(A,F,()=>{this.calc&&(D&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),k&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const _=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-_.pageWidth<=_.width/5)return 1}else if(v.x<_.width/2)return 1;return 0}getAnimationDuration(v){const _=this.app.getSettings().flippingTime;return v>=1e3?_:v/1e3*_}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const _ of v)if(this.state===_)return!0;return!1}isPointOnCorners(v){const _=this.getBoundsRect(),D=_.pageWidth,k=Math.sqrt(Math.pow(D,2)+Math.pow(_.height,2))/5,S=this.render.convertToBook(v);return S.x>0&&S.y>0&&S.x<_.width&&S.y<_.height&&(S.x<k||S.x>_.width-k)&&(S.y<k||S.y>_.height-k)}}class b{constructor(v,_){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=_,this.app=v;const D=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=D.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const _=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);_<this.animation.frames.length?this.animation.frames[_]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=_=>{this.render(_),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,_,D){this.finishAnimation(),this.animation={frames:v,duration:_,durationFrame:_/v.length,onAnimateEnd:D,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const _=this.getBlockWidth(),D=_/2,k=this.getBlockHeight()/2,S=this.setting.width/this.setting.height;let A=this.setting.width,F=this.setting.height,P=D-A;return this.setting.size==="stretch"?(_<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),A=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,A>this.setting.maxWidth&&(A=this.setting.maxWidth),F=A/S,F>this.getBlockHeight()&&(F=this.getBlockHeight(),A=F*S),P=v==="portrait"?D-A/2-A:D-A):_<2*A&&this.app.getSettings().usePortrait&&(v="portrait",P=D-A/2-A),this.boundsRect={left:P,top:k-F/2,width:2*A,height:F,pageWidth:A},v}setShadowData(v,_,D,k){if(!this.app.getSettings().drawShadow)return;const S=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:_,width:3*this.getRect().pageWidth/4*D/100,opacity:(100-D)*S/100/100,direction:k,progress:2*D}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const _=this.getRect();return{x:v.x-_.left,y:v.y-_.top}}isSafari(){return this.safari}convertToPage(v,_){_||(_=this.direction);const D=this.getRect();return{x:_===0?v.x-D.left-D.width/2:D.width/2-v.x+D.left,y:v.y-D.top}}convertToGlobal(v,_){if(_||(_=this.direction),v==null)return null;const D=this.getRect();return{x:_===0?v.x+D.left+D.width/2:D.width/2-v.x+D.left,y:v.y+D.top}}convertRectToGlobal(v,_){return _||(_=this.direction),{topLeft:this.convertToGlobal(v.topLeft,_),topRight:this.convertToGlobal(v.topRight,_),bottomLeft:this.convertToGlobal(v.bottomLeft,_),bottomRight:this.convertToGlobal(v.bottomRight,_)}}}class E extends b{constructor(v,_,D){super(v,_),this.canvas=D,this.ctx=D.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const _=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const D={x:v.left+v.width/2-_/2,y:0};this.ctx.translate(D.x,D.y);const k=this.ctx.createLinearGradient(0,0,_,0);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),k.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),k.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),k.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),k.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,_,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const _=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(_.x,_.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const D=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),D.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),D.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),D.addColorStop(0,"rgba(0, 0, 0, 0)"),D.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=D,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const _=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),D=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(D.topLeft.x,D.topLeft.y),this.ctx.lineTo(D.topRight.x,D.topRight.y),this.ctx.lineTo(D.bottomRight.x,D.bottomRight.y),this.ctx.lineTo(D.bottomLeft.x,D.bottomLeft.y),this.ctx.translate(_.x,_.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=3*this.shadow.width/4,S=this.ctx.createLinearGradient(0,0,k,0);this.shadow.direction===0?(this.ctx.translate(-k,-100),S.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),S.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=S,this.ctx.fillRect(0,0,k,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class T{constructor(v,_,D){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=S=>{if(this.checkTarget(S.target)){const A=this.getMousePos(S.clientX,S.clientY);this.app.startUserTouch(A),S.preventDefault()}},this.onTouchStart=S=>{if(this.checkTarget(S.target)&&S.changedTouches.length>0){const A=S.changedTouches[0],F=this.getMousePos(A.clientX,A.clientY);this.touchPoint={point:F,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(F)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||S.preventDefault()}},this.onMouseUp=S=>{const A=this.getMousePos(S.clientX,S.clientY);this.app.userStop(A)},this.onMouseMove=S=>{const A=this.getMousePos(S.clientX,S.clientY);this.app.userMove(A,!1)},this.onTouchMove=S=>{if(S.changedTouches.length>0){const A=S.changedTouches[0],F=this.getMousePos(A.clientX,A.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-F.x)>10||this.app.getState()!=="read")&&S.cancelable&&this.app.userMove(F,!0),this.app.getState()!=="read"&&S.preventDefault()):this.app.userMove(F,!0)}},this.onTouchEnd=S=>{if(S.changedTouches.length>0){const A=S.changedTouches[0],F=this.getMousePos(A.clientX,A.clientY);let P=!1;if(this.touchPoint!==null){const V=F.x-this.touchPoint.point.x,$=Math.abs(F.y-this.touchPoint.point.y);Math.abs(V)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(V>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),P=!0),this.touchPoint=null}this.app.userStop(F,P)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=_;const k=this.app.getSettings().usePortrait?1:2;v.style.minWidth=D.minWidth*k+"px",v.style.minHeight=D.minHeight+"px",D.size==="fixed"&&(v.style.minWidth=D.width*k+"px",v.style.minHeight=D.height+"px"),D.autoSize&&(v.style.width="100%",v.style.maxWidth=2*D.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=D.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,_){const D=this.distElement.getBoundingClientRect();return{x:v-D.left,y:_-D.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class R extends T{constructor(v,_,D,k){super(v,_,D),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=k;for(const S of k)this.distElement.appendChild(S);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const _ of v)this.distElement.appendChild(_);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class L extends T{constructor(v,_,D){super(v,_,D),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),_=parseInt(v.getPropertyValue("width"),10),D=parseInt(v.getPropertyValue("height"),10);this.canvas.width=_,this.canvas.height=D}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class O extends b{constructor(v,_,D){super(v,_),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=D,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),_=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let D=(100-_)*(2.5*v.pageWidth)/100+20;D>v.pageWidth&&(D=v.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${D}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*_/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=k}drawHardOuterShadow(){const v=this.getRect();let _=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;_>v.pageWidth&&(_=v.pageWidth);let D=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${_}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;D+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=D}drawInnerShadow(){const v=this.getRect(),_=3*this.shadow.width/4,D=this.getDirection()===0?_:0,k=this.getDirection()===0?"to left":"to right",S=this.convertToGlobal(this.shadow.pos),A=this.shadow.angle+3*Math.PI/2,F=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let P="polygon( ";for(const $ of F){let ie=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};ie=u.GetRotatedPoint(ie,{x:D,y:100},A),P+=ie.x+"px "+ie.y+"px, "}P=P.slice(0,-2),P+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${_}px;
            height: ${2*v.height}px;
            background: linear-gradient(${k},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${D}px 100px;
            transform: translate3d(${S.x-D}px, ${S.y-100}px, 0) rotate(${A}rad);
            clip-path: ${P};
            -webkit-clip-path: ${P};
        `;this.innerShadow.style.cssText=V}drawOuterShadow(){const v=this.getRect(),_=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),D=this.shadow.angle+3*Math.PI/2,k=this.getDirection()===1?this.shadow.width:0,S=this.getDirection()===0?"to right":"to left",A=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let F="polygon( ";for(const V of A)if(V!==null){let $=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};$=u.GetRotatedPoint($,{x:k,y:100},D),F+=$.x+"px "+$.y+"px, "}F=F.slice(0,-2),F+=")";const P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${S}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${k}px 100px;
            transform: translate3d(${_.x-k}px, ${_.y-100}px, 0) rotate(${D}rad);
            clip-path: ${F};
            -webkit-clip-path: ${F};
        `;this.outerShadow.style.cssText=P}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class B{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const _=this._default;if(Object.assign(_,v),_.size!=="stretch"&&_.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(_.width<=0||_.height<=0)throw new Error("Invalid width or height");if(_.flippingTime<=0)throw new Error("Invalid flipping time");return _.size==="stretch"?(_.minWidth<=0&&(_.minWidth=100),_.maxWidth<_.minWidth&&(_.maxWidth=2e3),_.minHeight<=0&&(_.minHeight=100),_.maxHeight<_.minHeight&&(_.maxHeight=2e3)):(_.minWidth=_.width,_.maxWidth=_.width,_.minHeight=_.height,_.maxHeight=_.height),_}}(function(I,v){v===void 0&&(v={});var _=v.insertAt;if(typeof document!="undefined"){var D=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",_==="top"&&D.firstChild?D.insertBefore(k,D.firstChild):D.appendChild(k),k.styleSheet?k.styleSheet.cssText=I:k.appendChild(document.createTextNode(I))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(I,v){return this.events.has(I)?this.events.get(I).push(v):this.events.set(I,[v]),this}off(I){this.events.delete(I)}trigger(I,v,_=null){if(this.events.has(I))for(const D of this.events.get(I))D({data:_,object:v})}}{constructor(I,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new B().getSettings(v),this.block=I}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(I){this.ui=new L(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new E(this,this.setting,v),this.flipController=new y(this.render,this),this.pages=new c(this,this.render,I),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(I){this.ui=new R(this.block,this,this.setting,I),this.render=new O(this,this.setting,this.ui.getDistElement()),this.flipController=new y(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),I),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(I){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,I),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(I){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),I),this.pages.load(),this.ui.updateItems(I),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(I){this.pages.show(I)}flipNext(I="top"){this.flipController.flipNext(I)}flipPrev(I="top"){this.flipController.flipPrev(I)}flip(I,v="top"){this.flipController.flipToPage(I,v)}updateState(I){this.trigger("changeState",this,I)}updatePageIndex(I){this.trigger("flip",this,I)}updateOrientation(I){this.ui.setOrientationStyle(I),this.update(),this.trigger("changeOrientation",this,I)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(I){return this.pages.getPage(I)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(I){this.mousePosition=I,this.isUserTouch=!0,this.isUserMove=!1}userMove(I,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&u.GetDistanceBetweenTwoPoint(this.mousePosition,I)>5&&(this.isUserMove=!0,this.flipController.fold(I)):this.flipController.showCorner(I)}userStop(I,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(I)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(du,du.exports)),du.exports}var LM=DM();const MM="_viewerRoot_hj39c_5",FM="_stage_hj39c_17",BM="_host_hj39c_43",VM="_hud_hj39c_91",$M="_hBtn_hj39c_125",OM="_hText_hj39c_153",UM="_title_hj39c_167",zM="_sep_hj39c_169",HM="_spacer_hj39c_171",WM="_errorBox_hj39c_175",Fs={viewerRoot:MM,stage:FM,host:BM,hud:VM,hBtn:$M,hText:OM,title:UM,sep:zM,spacer:HM,errorBox:WM},GM=(()=>{const t="/test/";return t.endsWith("/")?t:t+"/"})(),aE=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${GM}${e}`.replace(/\/{2,}/g,"/")},qM=async t=>{const e=aE(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},KM=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},QM=(t,e,n)=>Math.max(e,Math.min(n,t)),rn={hostEl:null,pf:null,slug:null},Ar={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},XM=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function YM(t){for(const e of t)e&&(Ar.cache.has(e)||Ar.inFlight.has(e)||Ar.queue.includes(e)||Ar.queue.push(e));lE()}function lE(){XM(()=>{for(;Ar.inFlight.size<Ar.maxParallel&&Ar.queue.length>0;){const t=Ar.queue.shift();Ar.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{Ar.inFlight.delete(t),Ar.cache.add(t),lE()},e.src=t}})}const JM=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:o=!0})=>{const l=N.useRef(null),c=N.useRef(null),[u,h]=N.useState(null),[p,f]=N.useState(null),y=N.useRef(),b=N.useRef(),E=N.useRef(e);N.useEffect(()=>{y.current=n},[n]),N.useEffect(()=>{b.current=r},[r]),N.useEffect(()=>{E.current=e},[e]);const T=N.useMemo(()=>aE(`flipbooks/${t}`),[t]),R=N.useCallback(I=>{var v,_;if((v=I.srcset)!=null&&v.length){const D=[...I.srcset].sort((S,A)=>S.width-A.width),k=(_=D.find(S=>S.width>=1600))!=null?_:D[D.length-1];return/^https?:\/\//i.test(k.src)||k.src.startsWith("/")?k.src:`${T}/${k.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(I.src)||I.src.startsWith("/")?I.src:`${T}/${I.src}`.replace(/\/{2,}/g,"/")},[T]);N.useEffect(()=>{let I=!0;return f(null),qM(t).then(v=>{I&&h(v)}).catch(v=>{I&&f(v.message||"Failed to load flipbook manifest.")}),()=>{I=!1}},[t]),N.useEffect(()=>{const I=c.current,v=l.current;if(!I||!v||!u||(rn.hostEl||(rn.hostEl=document.createElement("div"),rn.hostEl.className=Fs.host),rn.hostEl.parentElement!==I&&I.appendChild(rn.hostEl),!rn.hostEl.isConnected))return;if(!(!rn.pf||rn.slug!==t)){try{rn.pf.update()}catch($){}return}if(rn.pf){try{rn.pf.destroy()}catch($){}rn.pf=null}const D={width:u.pageWidth,height:u.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},k=new LM.PageFlip(rn.hostEl,D);rn.pf=k,rn.slug=t;const S=u.pages.map(R);k.loadFromImages(S);const A=$=>{const ie=[],H=$+1,se=$+2;u.pages[H]&&ie.push(R(u.pages[H])),u.pages[se]&&ie.push(R(u.pages[se])),YM(ie)},F=()=>{var ie;const $=QM(E.current,1,u.pageCount)-1;k.turnToPage($,"hard"),setTimeout(()=>A($),220),(ie=y.current)==null||ie.call(y,k)};k.on("init",F),k.on("flip",$=>{var H;const ie=$.data;(H=b.current)==null||H.call(b,ie),setTimeout(()=>A(ie),220)});const P=new ResizeObserver(()=>{var $;try{($=rn.pf)==null||$.update()}catch(ie){}});P.observe(v);const V=$=>{var ie,H;$.key==="ArrowLeft"&&($.preventDefault(),(ie=rn.pf)==null||ie.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(H=rn.pf)==null||H.flipNext())};return window.addEventListener("keydown",V,{passive:!1}),()=>{window.removeEventListener("keydown",V),P.disconnect()}},[u,R,t]);const L=()=>{var I;return(I=rn.pf)==null?void 0:I.flipPrev()},O=()=>{var I;return(I=rn.pf)==null?void 0:I.flipNext()},B=()=>{var _;const I=l.current;if(!I)return;const v=I;(_=v.requestFullscreen||v.webkitRequestFullscreen||v.msRequestFullscreen)==null||_.call(v)};return p?s.jsxs("div",{className:Fs.errorBox,children:["Flipbook konnte nicht geladen werden: ",p]}):u?s.jsxs("div",{className:Fs.viewerRoot,ref:l,"aria-label":u.title,children:[s.jsx("div",{className:Fs.stage,ref:c}),s.jsxs("div",{className:Fs.hud,children:[s.jsx("button",{className:Fs.hBtn,onClick:L,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:Fs.hText,children:[s.jsx("span",{className:Fs.title,children:u.title}),s.jsx("span",{className:Fs.sep,children:""}),s.jsxs("span",{children:[u.pageCount," Seiten"]})]}),s.jsx("div",{className:Fs.spacer}),KM()&&s.jsx("button",{className:Fs.hBtn,onClick:B,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:Fs.hBtn,onClick:O,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:Fs.errorBox,children:"Lade Flipbook"})},ZM=Pe.memo(JM),e7={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},t7=()=>{const t="sf-history-book",[e,n]=N.useState(1),r=N.useRef(null),o=N.useMemo(()=>{var f;return(f=e7[e])!=null?f:[]},[e]),l=N.useCallback(f=>{r.current=f},[]),c=N.useCallback(f=>{n(f+1)},[]),u=N.useCallback(f=>{const y=r.current;if(y)try{y.turnToPage(Math.max(0,f-1))}catch(b){}},[]),h=N.useCallback(()=>{var f;return(f=r.current)==null?void 0:f.flipPrev()},[]),p=N.useCallback(()=>{var f;return(f=r.current)==null?void 0:f.flipNext()},[]);return s.jsx(gn,{title:"SF History Book",description:"Echter Page-Curl Flipbook-Viewer (ohne Sound).",lastUpdated:void 0,children:s.jsxs("div",{className:fo.pageWrap,children:[s.jsx("div",{className:fo.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:fo.viewerHost,children:[s.jsx(ZM,{slug:t,initialPage:1,onReady:l,onPageChange:c,noSound:!0}),s.jsxs("div",{className:fo.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:fo.dragZoneLeft,onClick:h}),s.jsx("div",{className:fo.dragZoneRight,onClick:p}),o.map((f,y)=>{const b={"--t":`${f.t}%`,"--l":`${f.l}%`,"--w":`${f.w}%`,"--h":`${f.h}%`};return f.kind==="goto"?s.jsx("button",{className:fo.inbookLink,style:b,"aria-label":f.label,onClick:()=>u(f.toPage)},y):s.jsx("a",{className:fo.inbookLink,style:b,"aria-label":f.label,href:f.href,target:"_blank",rel:"noopener noreferrer"},y)})]})]})]})})},P0=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(P0.map(t=>[t.id,t]));const cE="TL_FILTERS_V2",Zr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function n7(){var t;try{const e=localStorage.getItem(cE);if(!e)return Zr;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:Zr.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:Zr.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Zr.filterMode;return{...Zr,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Zr.sortBy}}catch(e){return Zr}}function s7(t){try{localStorage.setItem(cE,JSON.stringify(t))}catch(e){}}const uE=N.createContext(null);function r7({children:t}){const[e,n]=N.useState(()=>n7());N.useEffect(()=>{s7(e)},[e]);const r=v=>n(_=>({..._,servers:Array.from(new Set(v))})),o=v=>n(_=>{const D=new Set(_.servers);return D.has(v)?D.delete(v):D.add(v),{..._,servers:Array.from(D)}}),l=()=>n(v=>({...v,servers:[]})),c=v=>n(_=>({..._,classes:Array.from(new Set(v))})),u=v=>n(_=>{const D=new Set(_.classes);return D.has(v)?D.delete(v):D.add(v),{..._,classes:Array.from(D)}}),h=()=>n(v=>({...v,classes:[]})),p=v=>n(_=>({..._,days:v})),f=v=>p(v),y=v=>n(_=>({..._,sortBy:v||"level"})),b=v=>n(_=>({..._,favoritesOnly:!!v})),E=v=>n(_=>({..._,activeOnly:!!v})),T=v=>n(_=>({..._,filterMode:v})),R=v=>n(_=>({..._,listView:v})),L=v=>n(_=>({..._,bottomFilterOpen:!!v})),O=v=>n(_=>({..._,serverSheetOpen:!!v})),B=()=>n(Zr),I=N.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:u,clearClasses:h,setDays:p,setRange:f,setSortBy:y,setFavoritesOnly:b,setActiveOnly:E,setFilterMode:T,setListView:R,setBottomFilterOpen:L,setServerSheetOpen:O,resetFilters:B}),[e]);return s.jsx(uE.Provider,{value:I,children:t})}function rd(){const t=N.useContext(uE);return t||{...Zr,range:Zr.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const i7="_hudWrap_107o7_9",o7="_hudBtn_107o7_11",a7="_hudSubBtn_107o7_15",l7="_iconRow_107o7_19",c7="_segmented_107o7_21",u7="_sortLabel_107o7_27",d7="_sortSelect_107o7_29",h7="_chip_107o7_31",p7="_isActive_107o7_33",_s={hudWrap:i7,hudBtn:o7,hudSubBtn:a7,iconRow:l7,segmented:c7,sortLabel:u7,sortSelect:d7,chip:h7,isActive:p7};function m7({active:t=!1,title:e,iconUrl:n,fallback:r="",size:o=40,onClick:l}){const c=Math.round(o*.7),u=Pe.useMemo(()=>{const O=[],B=gS(n,c*2,c*2,"contain");B&&O.push(B);const I=Mr(n,c*2);return I&&I!==B&&O.push(I),!O.length&&n&&O.push(n),O},[n,c]),[h,p]=Pe.useState(0),[f,y]=Pe.useState(!1),[b,E]=Pe.useState(!1);Pe.useEffect(()=>p(0),[u]);const T=u[h]||"",R={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:b||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};f&&(R.background="rgba(255,255,255,.04)"),t&&(R.outline="2px solid #5C8BC6");const L={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onFocus:()=>E(!0),onBlur:()=>E(!1),style:R,children:T?s.jsx("img",{src:T,alt:e||"class",width:c,height:c,loading:"lazy",style:L,onError:()=>{p(O=>O+1<u.length?O+1:O)}}):s.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function f7(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:u,setQuickFav:h,quickActive:p,setQuickActive:f,filterMode:y,setBottomFilterOpen:b,serverSheetOpen:E,setServerSheetOpen:T,resetAll:R}=rd();return s.jsxs("div",{className:_s.hudWrap,children:[s.jsxs("button",{type:"button",className:_s.hudBtn,onClick:L=>{L.preventDefault(),L.stopPropagation(),T(!0)},"aria-haspopup":"dialog","aria-expanded":E||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:_s.iconRow,children:[yn.map(L=>s.jsx(m7,{active:e.includes(L.key),title:L.label,iconUrl:L.iconUrl,fallback:L.fallback,size:40,onClick:()=>n(O=>O.includes(L.key)?O.filter(B=>B!==L.key):[...O,L.key])},L.key)),s.jsx("button",{type:"button",className:_s.hudSubBtn,onClick:()=>n(yn.map(L=>L.key)),children:"All"}),s.jsx("button",{type:"button",className:_s.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:_s.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(L=>s.jsx("button",{type:"button","aria-pressed":r===L,onClick:()=>o(L),children:L},L))}),s.jsx("label",{className:_s.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:L=>c(L.target.value),className:_s.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${_s.chip} ${u?_s.isActive:""}`,onClick:()=>h(L=>!L),children:" Favorites"}),s.jsx("button",{type:"button",className:`${_s.chip} ${p?_s.isActive:""}`,onClick:()=>f(L=>!L),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:_s.hudSubBtn,onClick:R,children:"Reset"}),y==="sheet"&&s.jsx("button",{type:"button",className:_s.hudBtn,onClick:L=>{L.preventDefault(),L.stopPropagation(),b(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const kn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function g7({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:u}){const[h,p]=N.useState(""),f=N.useRef(null),[y,b]=N.useState(null),[E,T]=N.useState(!1);N.useEffect(()=>{if(!t)return;const I=v=>{v.key==="Escape"&&e()};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[t,e]),N.useEffect(()=>{if(t&&f.current){const I=f.current.querySelector("#sheet-serversearch");I==null||I.focus()}},[t]);const R=N.useMemo(()=>["EU","US","INT","Fusion"].every(v=>{var _;return!((_=r==null?void 0:r[v])!=null&&_.length)}),[r]);N.useEffect(()=>{if(!t||!R)return;let I=!0;return(async()=>{try{T(!0);const v=await Pr(cn(wt,"stats_public","toplists_bundle_v1"));if(!I)return;const _=v.data()||{},D=Array.isArray(_.servers)?_.servers:JSON.parse(_.servers||"[]");b(y7(D))}catch(v){b(null)}finally{I&&T(!1)}})(),()=>{I=!1}},[t,R]);const L=N.useMemo(()=>R?y!=null?y:{EU:[],US:[],INT:[],Fusion:[]}:r,[R,r,y]),O=N.useMemo(()=>Object.keys(L),[L]),B=I=>{const v=h.trim().toLowerCase();return v?I.toLowerCase().includes(v):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:v7,onClick:I=>{I.target===I.currentTarget&&e()},children:s.jsxs("div",{ref:f,style:n==="modal"?dE:b7,className:"sf-server-sheet",children:[s.jsxs("div",{style:w7,children:[s.jsx("h2",{id:"server-dialog-title",style:_7,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:u,style:lw,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:A7,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:I=>p(I.target.value),"aria-label":"Search servers",autoComplete:"off",style:S7})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map(I=>{const v=(L[I]||[]).filter(B);return s.jsxs("section",{"aria-labelledby":`region-${I}`,children:[s.jsxs("div",{style:k7,children:[s.jsxs("h3",{id:`region-${I}`,style:j7,children:[I," ",E&&R?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:kn.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:lw,onClick:()=>{c?c(I):v.filter(D=>!o.includes(D)).forEach(l)},children:"Select all"})})]}),s.jsxs("div",{style:E7,children:[v.map(_=>{const D=o.includes(_);return s.jsx("button",{type:"button",onClick:()=>l(_),"aria-pressed":D,title:_,style:{...T7,...D?C7:null},children:_},_)}),v.length===0&&s.jsx("div",{style:{color:kn.text2,fontSize:13,padding:"4px 2px"},children:E&&R?"Loading":"No servers found"})]})]},I)})})]})}):null}function y7(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(x7)),e}function x7(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const v7={position:"fixed",inset:0,background:kn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},dE={width:"min(900px, 100%)",background:kn.tile,border:`1px solid ${kn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:kn.text},b7={...dE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},w7={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},_7={fontSize:18,margin:0},j7={fontSize:14,margin:0,color:kn.text2},S7={width:"100%",background:kn.input,color:kn.text,border:`1px solid ${kn.line}`,borderRadius:12,padding:"10px 12px"},k7={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},E7={display:"flex",flexWrap:"wrap",gap:8},T7={background:kn.chip,border:`1px solid ${kn.line}`,padding:"6px 10px",borderRadius:999,color:kn.text},C7={outline:`2px solid ${kn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},A7={background:"#25456B",color:kn.text,border:`1px solid ${kn.accent}`,borderRadius:10,padding:"8px 12px"},lw={background:"transparent",color:kn.text,border:`1px solid ${kn.line}`,borderRadius:10,padding:"8px 12px"},N7=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=N7,document.head.appendChild(e)}}const Vn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function I7({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:u,quickFav:h,setQuickFav:p,quickActive:f,setQuickActive:y}=rd(),b=N.useRef(null);return N.useEffect(()=>{if(!t)return;const E=T=>{T.key==="Escape"&&e()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,e]),N.useEffect(()=>{if(t&&b.current){const E=b.current.querySelector("#sheet-search");E==null||E.focus()}},[t]),t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:R7,onClick:E=>{E.target===E.currentTarget&&e()},children:s.jsxs("div",{ref:b,style:P7,children:[s.jsxs("div",{style:D7,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Vn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:M7,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:E=>r(E.target.value),"aria-label":"Search",autoComplete:"off",style:hE})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Vn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(E=>s.jsx("button",{type:"button","aria-pressed":o===E,onClick:()=>l(E),style:{...kg,...o===E?Eg:null},children:E},E))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Vn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:E=>u(E.target.value),"aria-label":"Sort",autoComplete:"off",style:L7,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>p(E=>!E),"aria-pressed":h,style:{...kg,...h?Eg:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>y(E=>!E),"aria-pressed":f,style:{...kg,...f?Eg:null},children:" Active"})]})]})}):null}const R7={position:"fixed",inset:0,background:Vn.backdrop,zIndex:60,display:"grid",alignItems:"end"},P7={background:Vn.tile,borderTop:`1px solid ${Vn.line}`,borderLeft:`1px solid ${Vn.line}`,borderRight:`1px solid ${Vn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Vn.text,maxHeight:"80vh",overflow:"auto"},D7={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},hE={width:"100%",background:Vn.input,color:Vn.text,border:`1px solid ${Vn.line}`,borderRadius:12,padding:"10px 12px"},L7={...hE,appearance:"none"},kg={background:"#14273E",border:`1px solid ${Vn.line}`,padding:"6px 10px",borderRadius:999,color:Vn.text},Eg={outline:`2px solid ${Vn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},M7={background:"#25456B",color:Vn.text,border:`1px solid ${Vn.accent}`,borderRadius:10,padding:"8px 12px"},F7=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=F7,document.head.appendChild(e)}}function B7(){var o;const t=rd(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,u,h,p,f,y,b;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(u=l.server)!=null?u:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(h=l.class)!=null?h:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(f=l.scrapbook)!=null?f:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(Tg,{children:l.active?"Active":"Idle"}),l.favorite&&s.jsx(Tg,{children:" Fav"}),s.jsx(Tg,{children:`Scan ${(y=l.lastScanDays)!=null?y:"?"}d`})]})]},(b=l.id)!=null?b:`${l.name}-${l.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,u,h,p;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(u=l.server)!=null?u:"","  Lv ",(h=l.level)!=null?h:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function Tg({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const pE=N.createContext(null),cw=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function V7(t,e){return t.timeRange===e.timeRange&&cw(t.servers,e.servers)&&cw(t.classes,e.classes)}function $7(t,e){return t.field===e.field&&t.dir===e.dir}function O7({children:t}){const[e,n]=N.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=N.useState({field:"Level",dir:"desc"}),[l,c]=N.useState({loading:!1,error:null,data:[],lastUpdated:null}),u=N.useCallback(y=>{n(b=>{const E=typeof y=="function"?y(b):{...b,...y};return V7(b,E)?b:E})},[]),h=N.useCallback(y=>{o(b=>{const E=typeof y=="function"?y(b):y;return $7(b,E)?b:E})},[]),p=N.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);N.useEffect(()=>{let y=!1;return y||c(b=>b.loading||b.error||b.data.length?{...b,loading:!1,error:null}:b),()=>{y=!0}},[p]);const f=N.useMemo(()=>({state:l,filters:e,sort:r,setFilters:u,setSort:h}),[l,e,r,u,h]);return s.jsx(pE.Provider,{value:f,children:t})}function U7(){const t=N.useContext(pE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function z7(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function H7(){const t=rd(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:u,setServerSheetOpen:h,servers:p,setServers:f,classes:y,range:b,sortBy:E}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(gn,{mode:"card",title:"Top Lists",actions:s.jsx(G7,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(f7,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(B7,{}),r==="table"&&s.jsx(O7,{db:wt,children:s.jsx(W7,{servers:p!=null?p:[],classes:y!=null?y:[],range:b!=null?b:"all",sortKey:E!=null?E:"level"})})]}),s.jsx(g7,{mode:"modal",open:u,onClose:()=>h(!1),serversByRegion:P0,selected:p,onToggle:T=>f(R=>R.includes(T)?R.filter(L=>L!==T):[...R,T]),onSelectAllInRegion:T=>f(P0[T]),onClearAll:()=>f([])}),s.jsx(I7,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function W7({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=U7(),{loading:u,error:h,data:p,lastUpdated:f}=o;N.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),N.useEffect(()=>{const b=z7(r);c(b)},[r,c]);const y=b=>b==null?"":new Intl.NumberFormat("en").format(b);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[u?"Loading":h?"Error":"Ready","  ",p.length," rows"]}),s.jsx("div",{children:f?`Updated: ${new Date(f*1e3).toLocaleString()}`:null})]}),h&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:h}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[p.map((b,E)=>{var T,R,L;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:b["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:b[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:b.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:b.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:b.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(b.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(T=b.Guild)!=null?T:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(b.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(b.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(b["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(R=b.Ratio)!=null?R:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(b.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(b.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(L=b["Last Scan"])!=null?L:""}),s.jsx("td",{style:{padding:"8px 6px"},children:b["Stats+"]})]},`${b.Name}-${b.Server}-${E}`)}),u&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!u&&!h&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function G7(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=rd();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(uw,{to:"/toplists/players",label:"Players"}),s.jsx(uw,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function uw({to:t,label:e}){return s.jsx(os,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const q7=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function K7(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),q7.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function Q7(t="players"){const e=No(),{search:n,pathname:r}=Us();return[new URLSearchParams(n).get("tab")||t,u=>{const h=new URLSearchParams(n);h.set("tab",u),e(`${r}?${h.toString()}`,{replace:!1})}]}function X7(){const[t,e]=Q7("players");return s.jsx(r7,{children:t==="players"?s.jsx(H7,{tab:t,setTab:e}):s.jsx(K7,{tab:t,setTab:e})})}function Y7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function J7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function Z7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const mt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function dw({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function eF({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return s.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${mt.tileAlt}, ${mt.active})`,color:mt.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${mt.line}`},"aria-hidden":!0,children:n||"?"})}function tF({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),o=r(t||"");let l=yn.find(p=>r(p.label)===o)||yn.find(p=>r(p.label).startsWith(o)||o.startsWith(r(p.label)));const c=l?Mr(l.iconUrl,n*2):void 0,[u,h]=N.useState(!1);return!c||u?s.jsx(eF,{label:e,size:n}):s.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:s.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>h(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function Cg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:mt.tileAlt,border:`1px solid ${mt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:mt.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:mt.title,fontWeight:700},children:e}),n?s.jsx("div",{style:{fontSize:12,color:mt.textSoft,marginTop:4},children:n}):null]})}function Kc({children:t}){return s.jsx("div",{style:{background:mt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${mt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Mh=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},nF=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},sF=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Ag(){var L,O,B,I,v,_,D,k;const t=H0(),e=t.id||t.pid||t.playerId||t.player||"",n=No(),[r,o]=N.useState(!0),[l,c]=N.useState(null),[u,h]=N.useState(null),[p,f]=N.useState("Statistiken");N.useEffect(()=>{let S=!1;async function A(){var F,P,V,$,ie,H,se,K,X,ae,le,W,ne,ye,je,Ee,ge,Ae,Ie,De,rt,Lt,ht,jt;o(!0),c(null);try{const gt=(e||"").trim();if(!gt){c("Kein Spieler gewhlt."),o(!1);return}const ls=cn(wt,`players/${gt}/latest/latest`),cs=await Pr(ls);if(!cs.exists()){c("Spieler nicht gefunden."),o(!1);return}const yt=cs.data(),zs=(V=Mh((P=yt.level)!=null?P:(F=yt.values)==null?void 0:F.Level))!=null?V:null,us=((H=(ie=yt.className)!=null?ie:($=yt.values)==null?void 0:$.Class)!=null?H:null)||null,En=((X=(K=yt.guildName)!=null?K:(se=yt.values)==null?void 0:se.Guild)!=null?X:null)||null,Tn=(W=(le=yt.name)!=null?le:(ae=yt.values)==null?void 0:ae.Name)!=null?W:gt,Es=(je=(ye=yt.server)!=null?ye:(ne=yt.values)==null?void 0:ne.Server)!=null?je:null,ds=(Ae=Mh((ge=yt.totalStats)!=null?ge:(Ee=yt.values)==null?void 0:Ee["Total Stats"]))!=null?Ae:null,hs=(jt=Mh((ht=(rt=(Ie=yt.values)==null?void 0:Ie.Album)!=null?rt:(De=yt.values)==null?void 0:De["Album %"])!=null?ht:(Lt=yt.values)==null?void 0:Lt.AlbumPct))!=null?jt:null,Ts=nF(Mh(yt.timestamp));S||h({id:gt,name:Tn,className:us,level:zs,guild:En,server:Es,scrapbookPct:hs,totalStats:ds,lastScanDays:Ts})}catch(gt){S||c((gt==null?void 0:gt.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return A(),()=>{S=!0}},[e]);const y=N.useMemo(()=>s.jsxs("div",{style:{padding:24,color:mt.textSoft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:mt.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),b=s.jsx("div",{style:{padding:16,color:mt.textSoft},children:"Lade Spielerprofil"}),E=s.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${mt.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:sF.map(S=>{const A=S===p;return s.jsx("button",{role:"tab","aria-selected":A,onClick:()=>f(S),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${A?mt.active:"transparent"}`,background:A?"rgba(45,78,120,0.35)":"transparent",color:mt.title,cursor:"pointer"},children:S},S)})}),T=s.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&s.jsx(Kc,{children:s.jsxs("div",{style:{color:mt.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&s.jsx(Kc,{children:s.jsxs("div",{style:{color:mt.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),p==="Fortschritt"&&s.jsx(Kc,{children:s.jsxs("div",{style:{color:mt.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),p==="Vergleich"&&s.jsx(Kc,{children:s.jsxs("div",{style:{color:mt.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),p==="Historie"&&s.jsx(Kc,{children:s.jsxs("div",{style:{color:mt.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),R=r?b:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${mt.line}`},children:s.jsxs(dw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(tF,{className:(L=u.className)!=null?L:void 0,label:u.name,size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:mt.title,fontWeight:700},children:u.name}),s.jsxs("div",{style:{fontSize:12,color:mt.textSoft},children:[(O=u.className)!=null?O:"Klasse ?","  ",(B=u.guild)!=null?B:"","  ",(I=u.server)!=null?I:""]})]})]})}),s.jsxs(dw,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:mt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${mt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{children:s.jsx("h2",{style:{margin:0,color:mt.title,fontSize:24,fontWeight:800},children:u.name})}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:mt.textSoft},children:["Zuletzt aktualisiert: ",(v=u.lastScanDays)!=null?v:0," Tag(e) her"]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(Cg,{label:"Level",value:(_=u.level)!=null?_:"?"}),s.jsx(Cg,{label:"Total Stats",value:u.totalStats!=null?u.totalStats.toLocaleString():"?"}),s.jsx(Cg,{label:"Gilde",value:(D=u.guild)!=null?D:"",hint:(k=u.server)!=null?k:""})]}),E,T]})]}):y;return s.jsx(gn,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:R})}function rF(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(hw,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(hw,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function hw({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function iF(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function oF(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function aF(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const lF={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function cF(t){var n;const e=aF(t);return(n=lF[e])!=null?n:null}function uF(t,e=128){const n=cF(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=Hl(n),o=Mr(r,e);return{id:n,url:r,thumb:o,fallback:""}}function Bu(t,e=128){return uF(t,e).thumb}const Aa={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},um=(t,e)=>({...t||{},...e||{}}),pw=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},dF=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Rn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function hF(t){var b,E,T,R,L,O,B,I;const e=Rn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Rn(t==null?void 0:t.baseMain),r=Rn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const o=(t==null?void 0:t.baseStats)||{},l=Rn(o==null?void 0:o.sumBaseTotal);if(l!=null)return l;const c=Rn(o==null?void 0:o.main),u=Rn(o==null?void 0:o.con);if(c!=null&&u!=null)return c+u;const h=(t==null?void 0:t.values)||{},p=(E=(b=Rn(h==null?void 0:h.SumBaseTotal))!=null?b:Rn(h==null?void 0:h.sumBaseTotal))!=null?E:Rn(h==null?void 0:h["Sum Base Total"]);if(p!=null)return p;const f=(L=(R=(T=Rn(h==null?void 0:h.Main))!=null?T:Rn(h==null?void 0:h.main))!=null?R:Rn(h==null?void 0:h.BaseMain))!=null?L:Rn(h==null?void 0:h.baseMain),y=(I=(B=(O=Rn(h==null?void 0:h.Con))!=null?O:Rn(h==null?void 0:h.con))!=null?B:Rn(h==null?void 0:h.ConBase))!=null?I:Rn(h==null?void 0:h.conBase);return f!=null&&y!=null?f+y:null}function ia(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function pF(t,e=56){if(!t)return;const n=ia(t),r=yn.find(o=>ia(o.label)===n||ia(o.key)===n)||yn.find(o=>ia(o.label).startsWith(n)||n.startsWith(ia(o.label))||ia(o.key).startsWith(n)||n.startsWith(ia(o.key)));return r?Mr(r.iconUrl,e):void 0}function mF({name:t,memberClass:e,online:n,theme:r=Aa}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=pF(e,56);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const u=c.currentTarget.parentElement;u&&(u.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const fF={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},gF=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(fF[t]||""),children:t});function mw(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function yF(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,o=e!=null?e:n!=null&&r!=null?n+r:null;return o!=null?o.toLocaleString("de-DE"):""}function Fh({label:t,value:e,theme:n=Aa}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function xF({member:t,theme:e,actions:n,extraKPIs:r}){var f,y,b,E,T,R,L,O,B;if(!t)return null;const o=um(Aa,e),l=t,c=mw((y=(f=l.guildJoined)!=null?f:l.joinedAt)!=null?y:null,(b=l.guildJoinedMs)!=null?b:null),u=mw((E=l.lastActivity)!=null?E:null,(T=l.lastActivityMs)!=null?T:typeof l.lastOnline=="number"?l.lastOnline:null),h=yF(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${o.border}, 0 0 160px 16px ${o.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(mF,{name:t.name,memberClass:(O=(L=l.class)!=null?L:(R=l.values)==null?void 0:R.Class)!=null?O:null,online:l.online,theme:o})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:o.title},children:t.name}),l.role&&s.jsx(gF,{role:l.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:o.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",u]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Fh,{label:"Level",value:(B=l.level)!=null?B:"",theme:o}),typeof l.scrapbook=="number"&&s.jsx(Fh,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:o}),s.jsx(Fh,{label:"Sum Base",value:h,theme:o}),s.jsx(Fh,{label:"Total Stats",value:p,theme:o}),r]})]})}function oa(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function vF(t,e=40){if(!t)return;const n=oa(t);let r=yn.find(o=>oa(o.label)===n||oa(o.key)===n)||yn.find(o=>oa(o.label).startsWith(n)||n.startsWith(oa(o.label))||oa(o.key).startsWith(n)||n.startsWith(oa(o.key)));return r?Mr(r.iconUrl,e):void 0}function bF({name:t,memberClass:e,online:n,theme:r=Aa}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=vF(e,40);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const u=c.currentTarget.parentElement;u&&(u.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const wF=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function _F({rows:t,selId:e,onSelect:n,rightCols:r,theme:o}){const l=um(Aa,o);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,u)=>{var h,p,f;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(u%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(bF,{name:c.name,memberClass:(f=(p=c.class)!=null?p:(h=c.values)==null?void 0:h.Class)!=null?f:null,online:c.online,theme:l}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(wF,{role:c.role})}),r(c)]},c.id)})]})]})}function aa(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function jF(t,e=40){if(!t)return;const n=aa(t);let r=yn.find(o=>aa(o.label)===n||aa(o.key)===n)||yn.find(o=>aa(o.label).startsWith(n)||n.startsWith(aa(o.label))||aa(o.key).startsWith(n)||n.startsWith(aa(o.key)));return r?Mr(r.iconUrl,e):void 0}function SF({rows:t,selId:e,onSelect:n,footer:r,theme:o}){const l=um(Aa,o);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var b,E,T,R,L,O,B,I,v;const u=c,h=c.name.slice(0,2).toUpperCase(),p=jF((T=(E=u.class)!=null?E:(b=u.values)==null?void 0:b.Class)!=null?T:null,40),f=typeof u.level=="number"?u.level:typeof((R=u.values)==null?void 0:R.Level)=="number"?u.values.Level:"",y=typeof u.scrapbook=="number"?`${u.scrapbook}%`:typeof((L=u.values)==null?void 0:L.Scrapbook)=="number"?`${u.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p?s.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:_=>{const D=_.currentTarget.parentElement;D&&(D.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${h}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:h}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(I=(B=u.class)!=null?B:(O=u.values)==null?void 0:O.Class)!=null?I:"",u.server?`  ${u.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(v=u.role)!=null?v:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:f})]}),y&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:y})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function kF({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:o=!0,selectedId:l,onSelect:c,renderActions:u,renderKPIs:h,theme:p}){var F;const f=N.useMemo(()=>um(Aa,p),[p]),[y,b]=N.useState(e),[E,T]=N.useState(n),[R,L]=N.useState(r.key),[O,B]=N.useState(r.dir),[I,v]=N.useState((F=t[0])==null?void 0:F.id),_=l!=null?l:I,D=P=>{l||v(P);const V=t.find($=>$.id===P);V&&c&&c(V)},k=N.useMemo(()=>{const P=E.trim().toLowerCase();return P?t.filter(V=>V.name.toLowerCase().includes(P)||V.class.toLowerCase().includes(P)||String(V.role).toLowerCase().includes(P)):t},[t,E]),S=N.useMemo(()=>{const P=O==="asc"?1:-1,V=$=>{var ie,H;switch(R){case"sumBaseStats":{const se=hF($);return se==null?-1/0:se}case"totalStats":return(H=(ie=$.totalStats)!=null?ie:dF($.baseStats))!=null?H:-1/0;default:return $[R]}};return[...k].sort(($,ie)=>{const H=V($),se=V(ie);return H===se?0:H>se?P:-P})},[k,R,O]),A=N.useMemo(()=>S.find(P=>P.id===_)||S[0],[S,_]);return s.jsxs("div",{children:[o&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:f.tile,borderColor:f.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:f.sub},children:"View"}),s.jsxs("select",{value:y,onChange:P=>b(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:f.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:f.sub},children:"Search"}),s.jsx("input",{value:E,onChange:P=>T(P.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:f.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:f.sub},children:"Sort by"}),s.jsxs("select",{value:String(R),onChange:P=>L(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:f.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>B(P=>P==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:f.border},children:O==="asc"?"":""})]})]}),s.jsx(xF,{member:A,actions:A&&(u?u(A):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:f.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:f.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:f.border},children:"Message"})]})),extraKPIs:A&&h?h(A):null,theme:f}),y==="list"?s.jsx(_F,{rows:S,selId:_,onSelect:D,theme:f,rightCols:P=>{var V;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(V=P.level)!=null?V:""}),s.jsx("div",{className:"text-right text-xs",style:{color:f.sub},children:pw(P.lastOnline)})]})}}):s.jsx(SF,{rows:S,selId:_,onSelect:D,theme:f,footer:P=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:f.sub},children:s.jsxs("span",{children:["Last ",pw(P.lastOnline)]})})})]})}function EF({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:o,avgLevel:l,totalPower:c,activity7d:u,topClasses:h,tickerItems:p,href:f,onClick:y,className:b}){const E=nE(),T=N.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(V/6e4));if($<60)return`${$}m`;const ie=Math.floor($/60);return ie<24?`${ie}h`:`${Math.floor(ie/24)}d`},[r]),R=uu(0),L=uu(0),O=uu(0),B=uu(0),I=Ph(R,V=>Math.round(V).toString()),v=Ph(L,V=>Math.round(V).toString()),_=Ph(O,V=>Math.round(V).toLocaleString()),D=Ph(B,V=>`${Math.round(V)}%`);N.useEffect(()=>{const V=E?0:.6;if(V===0){R.set(o),L.set(l),O.set(c!=null?c:0),B.set(u!=null?u:0);return}const $=[Dh(R,o,{duration:V}),Dh(L,l,{duration:V}),Dh(O,c!=null?c:0,{duration:V}),Dh(B,u!=null?u:0,{duration:V})];return()=>$.forEach(ie=>ie.stop())},[o,l,c,u,E]);const k=N.useRef(null);N.useEffect(()=>{if(E||!k.current)return;const V=k.current;let $=0,ie=0;const H=()=>{ie+=.016;const se=ie*14%140-20;V.style.setProperty("--s-x",`${se}%`),$=requestAnimationFrame(H)};return $=requestAnimationFrame(H),()=>cancelAnimationFrame($)},[E]);const S={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},A=100,F=f?"a":"div",P=f?{href:f}:{onClick:y};return s.jsxs(F,{...P,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",b!=null?b:""].join(" "),style:{background:`linear-gradient(135deg, ${S.bgFrom}, ${S.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:k,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),T&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:S.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${S.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",T]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${A}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${A}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${A}deg, transparent 0 46px, ${S.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:S.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:S.soft,border:`1px solid ${S.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Bh,{label:"Members",value:I}),s.jsx(Bh,{label:" Level",value:v}),s.jsx(Bh,{label:"Total Power",value:_}),typeof u=="number"&&s.jsx(Bh,{label:"Activity (7d)",value:D})]}),h!=null&&h.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:S.soft},children:"Top Classes"}),h.slice(0,3).map(V=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${S.border}`,color:S.text},children:[V.iconUrl?s.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:S.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[V.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),p!=null&&p.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${S.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(TF,{items:p,muted:E,color:S.soft})}):null]})}function Bh({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(eE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function TF({items:t,muted:e,color:n}){const r=N.useRef(null);return N.useEffect(()=>{if(e||!r.current)return;const o=r.current;let l=0,c=0;const u=()=>{l+=.016;const h=l*40%(o.scrollWidth+60);o.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(u)};return c=requestAnimationFrame(u),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((o,l)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:o},l))})})}const CF="_wrap_q5gkc_53",AF="_banner_q5gkc_59",NF="_bannerRowTop_q5gkc_61",IF="_bannerStripe_q5gkc_71",RF="_bannerTitle_q5gkc_79",PF="_bannerRowBottom_q5gkc_93",DF="_bannerSub_q5gkc_95",LF="_monthPickerWrap_q5gkc_101",MF="_monthPickerLabel_q5gkc_113",FF="_monthPicker_q5gkc_101",BF="_monthButton_q5gkc_131",VF="_monthButtonText_q5gkc_159",$F="_chev_q5gkc_161",OF="_monthList_q5gkc_165",UF="_monthOption_q5gkc_195",zF="_monthBadge_q5gkc_221",HF="_gridRow_q5gkc_237",WF="_gridRowBottom_q5gkc_239",GF="_sideImage_q5gkc_253",qF="_sideImagePh_q5gkc_271",KF="_emblemPanel_q5gkc_275",QF="_emblemFrame_q5gkc_295",XF="_emblemImg_q5gkc_297",YF="_emblemPlaceholder_q5gkc_299",JF="_emblemShimmer_q5gkc_307",ZF="_emblemCaption_q5gkc_315",eB="_card_q5gkc_319",tB="_cardHeader_q5gkc_331",nB="_cardTitle_q5gkc_339",sB="_cardSubtitle_q5gkc_341",rB="_headerRight_q5gkc_343",iB="_cardBody_q5gkc_345",oB="_tableWrap_q5gkc_349",aB="_tableTitle_q5gkc_351",lB="_table_q5gkc_349",cB="_th_q5gkc_355",uB="_td_q5gkc_355",dB="_tdEmpty_q5gkc_365",hB="_sectionDivider_q5gkc_375",pB="_sectionStripe_q5gkc_389",mB="_sectionTitle_q5gkc_397",Oe={wrap:CF,banner:AF,bannerRowTop:NF,bannerStripe:IF,bannerTitle:RF,bannerRowBottom:PF,bannerSub:DF,monthPickerWrap:LF,monthPickerLabel:MF,monthPicker:FF,monthButton:BF,monthButtonText:VF,chev:$F,monthList:OF,monthOption:UF,monthBadge:zF,gridRow:HF,gridRowBottom:WF,sideImage:GF,sideImagePh:qF,emblemPanel:KF,emblemFrame:QF,emblemImg:XF,emblemPlaceholder:YF,emblemShimmer:JF,emblemCaption:ZF,card:eB,cardHeader:tB,cardTitle:nB,cardSubtitle:sB,headerRight:rB,cardBody:iB,tableWrap:oB,tableTitle:aB,table:lB,th:cB,td:uB,tdEmpty:dB,sectionDivider:hB,sectionStripe:pB,sectionTitle:mB};function fB(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function fw(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const gw=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:Oe.card,children:[(t||e||r)&&s.jsxs("header",{className:Oe.cardHeader,children:[s.jsxs("div",{className:Oe.headerTitles,children:[t&&s.jsx("h3",{className:Oe.cardTitle,children:t}),e&&s.jsx("div",{className:Oe.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:Oe.headerRight,children:r})]}),s.jsx("div",{className:Oe.cardBody,children:n})]}),yw=({block:t})=>{var r,o;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:Oe.tableWrap,role:"region","aria-label":(o=t.title)!=null?o:"table",children:[t.title&&s.jsx("div",{className:Oe.tableTitle,children:t.title}),s.jsxs("table",{className:Oe.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(l=>s.jsx("th",{className:Oe.th,style:{width:l.width},children:l.label},l.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:Oe.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var u;return s.jsx("tr",{children:e.map(h=>{var b;const p=l[h.key],f=typeof p=="number"||typeof p=="string"?p:"",y=h.format==="num"?fB(f):f;return s.jsx("td",{className:Oe.td,"data-align":(b=h.align)!=null?b:"left",children:h.render?h.render(l):y},h.key)})},(u=l.id)!=null?u:c)})})]}),t.footer&&s.jsx("div",{className:Oe.tableFooter,children:t.footer})]})},gB=(t,e)=>{N.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},yB=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var f;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:Oe.bannerSub,children:r!=null?r:""});const l=N.useRef(null),[c,u]=N.useState(!1);gB(l,()=>u(!1));const h=t.find(y=>y.key===e),p=h?`${fw(h.fromISO)}${fw(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:Oe.monthPickerWrap,children:[s.jsx("div",{className:Oe.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:Oe.monthPicker,ref:l,children:[s.jsxs("button",{type:"button",className:Oe.monthButton,onClick:()=>u(y=>!y),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:Oe.monthButtonText,children:(f=h==null?void 0:h.label)!=null?f:""}),s.jsx("svg",{className:Oe.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:Oe.monthList,role:"listbox",children:t.map(y=>s.jsx("li",{children:s.jsx("button",{type:"button",className:Oe.monthOption,onClick:()=>{u(!1),n==null||n(y.key)},role:"option","aria-selected":y.key===e,children:y.label})},y.key))})]}),p&&s.jsx("span",{className:Oe.monthBadge,children:p})]})},xB=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:o})=>s.jsxs("div",{className:Oe.banner,children:[s.jsxs("div",{className:Oe.bannerRowTop,children:[s.jsx("div",{className:Oe.bannerStripe}),s.jsx("div",{className:Oe.bannerTitle,children:t}),s.jsx("div",{className:Oe.bannerStripe})]}),s.jsx("div",{className:Oe.bannerRowBottom,children:s.jsx(yB,{months:n,currentKey:r,onChange:o,fallbackDate:e})})]}),vB=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:Oe.emblemPanel,children:[s.jsxs("div",{className:Oe.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:Oe.emblemImg}):s.jsx("div",{className:Oe.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:Oe.emblemShimmer})]}),e&&s.jsx("div",{className:Oe.emblemCaption,children:e})]}),xw=({imgUrl:t,alt:e})=>s.jsx("div",{className:Oe.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:Oe.sideImagePh,children:"Image"})}),Ng=({children:t,className:e})=>s.jsx("div",{className:`${Oe.gridRow} ${e!=null?e:""}`,children:t}),bB=({children:t})=>s.jsxs("div",{className:Oe.sectionDivider,children:[s.jsx("div",{className:Oe.sectionStripe}),s.jsx("div",{className:Oe.sectionTitle,children:t}),s.jsx("div",{className:Oe.sectionStripe})]}),wB=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:o,tablesBottom:l}=t;return s.jsxs("div",{className:Oe.wrap,children:[s.jsx(xB,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Ng,{children:[s.jsx(xw,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(vB,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(xw,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Ng,{children:o.map((c,u)=>s.jsx(gw,{title:c.title,subtitle:c.subtitle,children:s.jsx(yw,{block:c})},u))}),s.jsx(bB,{children:"Guild Overview"}),s.jsx(Ng,{className:Oe.gridRowBottom,children:l.map((c,u)=>s.jsx(gw,{title:c.title,subtitle:c.subtitle,children:s.jsx(yw,{block:c})},u))})]})},_B=({guildId:t,guildName:e,guildServer:n})=>{const[r,o]=N.useState(!0),[l,c]=N.useState(null),[u,h]=N.useState(void 0),p=N.useRef({}),[f,y]=N.useState(()=>Vh(e,n));N.useEffect(()=>{let E=!1;async function T(){var R,L,O,B,I;o(!0);try{const v=Kp(wt,`guilds/${t}/history_monthly`),_=await ei(v),D=[];for(const A of _.docs){const F=A.id,P=A.data();if(!P)continue;p.current[F]=P;const V=(R=P==null?void 0:P.meta)!=null?R:{},$=V.fromISO||V.baselineISO||V.firstISO||"",ie=V.toISO||V.latestISO||V.nowISO||"",H=Number((L=V.daysSpan)!=null?L:Math.floor((+new Date(ie)-+new Date($))/864e5))||0,se=!!((B=(O=P==null?void 0:P.status)==null?void 0:O.available)!=null?B:$&&ie&&H<=40),K=V.label||new Date(F+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});D.push({key:F,label:K,fromISO:$||new Date(F+"-01").toISOString(),toISO:ie||new Date(F+"-28").toISOString(),daysSpan:H,available:se,reason:se||(I=P==null?void 0:P.status)==null?void 0:I.reason})}if(D.sort((A,F)=>A.key<F.key?1:-1),E)return;if(D.length===0){c(null),h(void 0),y(Vh(e,n)),o(!1);return}c(D);const k=D[0].key;h(k);const S=p.current[k];y(vw(S,{guildName:e,guildServer:n,currentMonthKey:k,months:D}))}catch(v){console.error(v),c(null),h(void 0),y(Vh(e,n))}finally{E||o(!1)}}return T(),()=>{E=!0}},[t,e,n]);async function b(E){h(E);let T=p.current[E];if(!T)try{const R=cn(wt,`guilds/${t}/history_monthly/${E}`),L=await Pr(R);L.exists()?(T=L.data(),p.current[E]=T):T=null}catch(R){console.error(R),T=null}if(!T){y(Vh(e,n,{currentMonthKey:E,months:l!=null?l:void 0}));return}y(vw(T,{guildName:e,guildServer:n,currentMonthKey:E,months:l!=null?l:void 0}))}return s.jsx(wB,{data:f,onMonthChange:b})};function Vh(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Bu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[la("Most Base Stats gained",e?`Server ${e}`:void 0),la("Sum Base Stats"),la("Highest Base Stats")],tablesBottom:[la("Main & Con"),la("Sum Base Stats"),la("Highest Base Stats"),la("Highest Total Stats")]}}function la(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function vw(t,e){var c,u,h,p,f,y,b,E;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Bu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],o=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((u=t==null?void 0:t.mostBaseGained)!=null?u:[]).map((T,R)=>{var L,O,B,I,v,_,D,k;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",level:(I=(B=T.levelLatest)!=null?B:T.level)!=null?I:null,base:(_=(v=T.baseLatest)!=null?v:T.base)!=null?_:null,delta:(k=(D=T.baseDelta)!=null?D:T.delta)!=null?k:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((T,R)=>{var L,O,B,I,v,_,D;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",base:(B=T.base)!=null?B:null,stam:(v=(I=T.stamDelta)!=null?I:T.staminaDelta)!=null?v:null,sho:(D=(_=T.shoDelta)!=null?_:T.shootingDelta)!=null?D:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((T,R)=>{var L,O,B,I,v;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",stats:(I=(B=T.stats)!=null?B:T.base)!=null?I:null,delta:(v=T.delta)!=null?v:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((f=t==null?void 0:t.mainAndCon)!=null?f:[]).map((T,R)=>{var L,O,B,I,v,_;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",class:(I=(B=T.class)!=null?B:T.className)!=null?I:"",stats:(v=T.stats)!=null?v:null,delta:(_=T.delta)!=null?_:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((y=t==null?void 0:t.sumBaseStats)!=null?y:[]).map((T,R)=>{var L,O,B,I,v;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",base:(B=T.base)!=null?B:null,stam:(I=T.stamDelta)!=null?I:null,sho:(v=T.shoDelta)!=null?v:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestBaseStats)!=null?b:[]).map((T,R)=>{var L,O,B,I;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",stats:(B=T.stats)!=null?B:null,delta:(I=T.delta)!=null?I:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((E=t==null?void 0:t.highestTotalStats)!=null?E:[]).map((T,R)=>{var L,O,B,I;return{id:(L=T.playerId)!=null?L:R,rank:R+1,name:(O=T.name)!=null?O:"-",total:(B=T.total)!=null?B:null,delta:(I=T.delta)!=null?I:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:o,tablesBottom:l}}const jB="_root_r1uj3_5",SB="_sectionDivider_r1uj3_17",kB="_sectionStripe_r1uj3_31",EB="_sectionTitle_r1uj3_33",Qc={root:jB,sectionDivider:SB,sectionStripe:kB,sectionTitle:EB},TB="_root_4jywc_1",CB="_accent_4jywc_31",bw={root:TB,default:"_default_4jywc_29",accent:CB};function Ao({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${bw.root} ${bw[e]} ${n!=null?n:""}`.trim(),children:t})}const $h=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function mE(t,e=64){if(!t)return;const n=$h(t);let r=yn.find(o=>$h(o.label)===n);return r||(r=yn.find(o=>$h(o.label).startsWith(n)||n.startsWith($h(o.label)))),r?Mr(r.iconUrl,e):void 0}const AB="_card_vvv3s_3",NB="_wrap_vvv3s_31",IB="_divider_vvv3s_45",RB="_rows_vvv3s_77",PB="_row_vvv3s_77",DB="_left_vvv3s_109",LB="_label_vvv3s_111",MB="_avgHead_vvv3s_113",FB="_avgNum_vvv3s_115",BB="_top3_vvv3s_121",VB="_chip_vvv3s_123",$B="_badge_vvv3s_151",OB="_name_vvv3s_159",UB="_score_vvv3s_161",zB="_headerSpacer_vvv3s_167",ss={card:AB,wrap:NB,divider:IB,rows:RB,row:PB,left:DB,label:LB,avgHead:MB,avgNum:FB,top3:BB,chip:VB,badge:$B,name:OB,score:UB,headerSpacer:zB};function HB({name:t,value:e,classLabel:n,colors:r}){const o=mE(n,64);return s.jsxs("div",{className:ss.chip,children:[s.jsx("span",{className:ss.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:ss.name,children:t!=null?t:""}),s.jsx("span",{className:ss.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function WB({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=u=>[...r].filter(h=>typeof h[u]=="number").sort((h,p)=>{var f,y;return((f=p[u])!=null?f:0)-((y=h[u])!=null?y:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:o("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:o("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:o("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:ss.card,children:[s.jsx(Ao,{text:n}),s.jsx("div",{className:ss.headerSpacer}),s.jsxs("div",{className:ss.wrap,children:[s.jsx("div",{className:ss.divider}),s.jsx("div",{className:ss.rows,children:l.map((u,h)=>s.jsxs("div",{className:ss.row,children:[s.jsxs("div",{className:ss.left,children:[s.jsx("div",{className:ss.label,children:u.label}),s.jsx("div",{className:ss.avgHead,children:""}),s.jsx("div",{className:ss.avgNum,style:{color:e.title},children:typeof u.avg=="number"?u.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:ss.top3,children:u.list.map((p,f)=>s.jsx(HB,{name:p.name,value:p[u.key],classLabel:p.class,colors:e},f))})]},h))})]})]})}const GB="_card_1enwc_1",qB="_wrap_1enwc_1",KB="_divider_1enwc_1",QB="_rows_1enwc_1",XB="_row_1enwc_1",YB="_left_1enwc_1",JB="_label_1enwc_1",ZB="_avgHead_1enwc_1",eV="_avgNum_1enwc_1",tV="_top3_1enwc_1",nV="_chip_1enwc_1",sV="_badge_1enwc_1",rV="_name_1enwc_1",iV="_score_1enwc_1",oV="_headerSpacer_1enwc_1",rs={card:GB,wrap:qB,divider:KB,rows:QB,row:XB,left:YB,label:JB,avgHead:ZB,avgNum:eV,top3:tV,chip:nV,badge:sV,name:rV,score:iV,headerSpacer:oV};function aV({name:t,value:e,classLabel:n,colors:r}){const o=mE(n,64);return s.jsxs("div",{className:rs.chip,children:[s.jsx("span",{className:rs.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:rs.name,children:t!=null?t:""}),s.jsx("span",{className:rs.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function lV({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=u=>[...r].filter(h=>typeof h[u]=="number").sort((h,p)=>{var f,y;return((f=p[u])!=null?f:0)-((y=h[u])!=null?y:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:o("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:o("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:o("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:rs.card,children:[s.jsx(Ao,{text:n}),s.jsx("div",{className:rs.headerSpacer}),s.jsxs("div",{className:rs.wrap,children:[s.jsx("div",{className:rs.divider}),s.jsx("div",{className:rs.rows,children:l.map((u,h)=>s.jsxs("div",{className:rs.row,children:[s.jsxs("div",{className:rs.left,children:[s.jsx("div",{className:rs.label,children:u.label}),s.jsx("div",{className:rs.avgHead,children:""}),s.jsx("div",{className:rs.avgNum,style:{color:e.title},children:typeof u.avg=="number"?u.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:rs.top3,children:u.list.map((p,f)=>s.jsx(aV,{name:p.name,value:p[u.key],classLabel:p.class,colors:e},f))})]},h))})]})]})}function cV({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function uV({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function dV({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function hV({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const pV=N.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:o}){const l=o.icon,c=({text:u})=>s.jsxs("div",{className:Qc.sectionDivider,children:[s.jsx("div",{className:Qc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),s.jsx("div",{className:Qc.sectionTitle,style:{color:o.soft},children:u}),s.jsx("div",{className:Qc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return s.jsxs("div",{className:Qc.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(cV,{guild:e,snapshot:n,colors:o}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(WB,{snapshot:n,colors:o}),s.jsx(lV,{snapshot:n,colors:o})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(uV,{colors:o}),s.jsx(dV,{colors:o})]}),s.jsx("div",{className:"mt-4",children:s.jsx(hV,{colors:o})})]})}),mV="_wrapper_zqchq_3",fV="_grid_zqchq_9",gV="_tile_zqchq_13",yV="_disabled_zqchq_37",xV="_crestWrap_zqchq_41",vV="_crest_zqchq_41",bV="_ring_zqchq_53",wV="_badge_zqchq_55",_V="_meta_zqchq_67",jV="_nameRow_zqchq_69",SV="_name_zqchq_69",kV="_share_zqchq_73",EV="_sub_zqchq_75",TV="_tileButton_zqchq_79",CV="_donutCard_zqchq_85",AV="_donutHeader_zqchq_87",NV="_legend_zqchq_91",IV="_legendItem_zqchq_93",RV="_legendSwatch_zqchq_95",PV="_legendRight_zqchq_97",DV="_centerLabel_zqchq_101",Wt={wrapper:mV,grid:fV,tile:gV,disabled:yV,crestWrap:xV,crest:vV,ring:bV,badge:wV,meta:_V,nameRow:jV,name:SV,share:kV,sub:EV,tileButton:TV,donutCard:CV,donutHeader:AV,legend:NV,legendItem:IV,legendSwatch:RV,legendRight:PV,centerLabel:DV},D0=56;function Cp(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function ww(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const LV=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function MV(t){return t?/drive\.google\.com/.test(t):!1}function _w(t,e=D0){if(t)return MV(t)?Mr(t,e):t}function FV(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function BV(t){var f,y,b,E,T,R;if(!t)return null;const e=t,n=t,r=(f=e.key)!=null?f:n.id,o=(y=e.label)!=null?y:n.name,l=(E=(b=n.crestUrl)!=null?b:e.iconUrl)!=null?E:n.iconUrl,c=(T=e.iconUrl)!=null?T:n.iconUrl,u=(R=e.fallback)!=null?R:n.fallback;if(!r||!o)return null;const h=_w(l,D0),p=_w(c,D0);return{id:r,name:String(o),crestUrl:h||p,iconUrl:p||h,fallback:u?String(u):void 0}}function fE(t,e){var f,y,b,E,T,R,L,O,B,I,v,_,D,k,S,A,F,P,V,$,ie;const n={},r={},o={},l={},c=e.map(H=>H.id);for(const H of c)n[H]=0,r[H]=0,o[H]=0,l[H]=null;for(const H of Array.isArray(t)?t:[]){const se=(_=(I=(O=(R=(E=(b=(y=(f=H.classId)!=null?f:H.class)!=null?y:H.klass)!=null?b:H.playerClass)!=null?E:H.cls)!=null?R:(T=H.values)==null?void 0:T.Class)!=null?O:(L=H.values)==null?void 0:L.class)!=null?I:(B=H.values)==null?void 0:B.Klasse)!=null?_:(v=H.values)==null?void 0:v.klasse,K=FV(se);if(!K||!c.includes(K))continue;n[K]+=1;const X=LV((A=(k=H.level)!=null?k:(D=H.values)==null?void 0:D.Level)!=null?A:(S=H.values)==null?void 0:S.level);X!=null&&(r[K]+=X,o[K]+=1,(!l[K]||((P=(F=l[K])==null?void 0:F.level)!=null?P:-1/0)<X)&&(l[K]={id:H.id,name:(ie=($=H.name)!=null?$:(V=H.values)==null?void 0:V.Name)!=null?ie:null,level:X}))}const u=Object.values(n).reduce((H,se)=>H+se,0),h={},p={};return c.forEach(H=>{h[H]=u>0?n[H]/u*100:0,p[H]=o[H]>0?r[H]/o[H]:null}),{counts:n,shares:h,avg:p,top:l}}const VV=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:Wt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},$V=({data:t,classMeta:e,onPickClass:n})=>{const[r,o]=N.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:u,shares:h,avg:p,top:f}=N.useMemo(()=>fE(l,c),[l,c]);return s.jsx("section",{className:Wt.wrapper,children:s.jsx("div",{className:Wt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(y=>{var B,I,v;const b=(B=u[y.id])!=null?B:0,E=(I=h[y.id])!=null?I:0,T=p[y.id],R=f[y.id],L=b<=0,O=r[y.id]?void 0:y.crestUrl||y.iconUrl;return s.jsxs("div",{className:`${Wt.tile} ${L?Wt.disabled:""}`,title:L?`${y.name}: kein Mitglied`:`${y.name}  ${ww(b)}  ${Cp(E)}${T?`   ${T.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:Wt.crestWrap,children:[O?s.jsx("img",{className:Wt.crest,src:O,alt:y.name,onError:()=>o(_=>({..._,[y.id]:!0}))}):s.jsx("div",{className:Wt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(v=y.fallback)!=null?v:""}),s.jsx(VV,{valuePct:E}),s.jsx("div",{className:Wt.badge,children:ww(b)})]}),s.jsxs("div",{className:Wt.meta,children:[s.jsxs("div",{className:Wt.nameRow,children:[s.jsx("div",{className:Wt.name,children:y.name}),s.jsx("div",{className:Wt.share,children:Cp(E)})]}),s.jsxs("div",{className:Wt.sub,children:[T?` Lvl ${T.toFixed(1)}`:"",R?`  Top: ${R.name}${R.level?` (Lv ${R.level})`:""}`:""]})]}),!L&&n&&s.jsx("button",{className:Wt.tileButton,onClick:()=>n(y.id),"aria-label":`${y.name} filtern`})]},y.id)})})})},OV=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:o,counts:l}=N.useMemo(()=>fE(n,r),[n,r]),c=N.useMemo(()=>Object.values(l).reduce((u,h)=>u+h,0),[l]);return s.jsxs("div",{className:Wt.donutCard,children:[s.jsxs("div",{className:Wt.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:Wt.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const y=Math.PI*2,b=r.map((T,R)=>{var L;return{id:T.id,pct:(L=o[T.id])!=null?L:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*R)} 60% 55%)`}});let E=0;return b.map(T=>{const R=(T.pct||0)/100;if(R<=0)return null;const L=E,O=E+y*R;E=O;const B=O-L>Math.PI?1:0,I=130+100*Math.cos(L),v=130+100*Math.sin(L),_=130+100*Math.cos(O),D=130+100*Math.sin(O),k=130+64*Math.cos(O),S=130+64*Math.sin(O),A=130+64*Math.cos(L),F=130+64*Math.sin(L),P=`M ${I} ${v} A 100 100 0 ${B} 1 ${_} ${D} L ${k} ${S} A 64 64 0 ${B} 0 ${A} ${F} Z`;return s.jsx("path",{d:P,fill:T.color,opacity:.95},T.id)})})()]}),s.jsx("div",{className:Wt.legend,children:r.map((u,h)=>{var y,b;const p=(y=o[u.id])!=null?y:0,f=(b=l[u.id])!=null?b:0;return s.jsxs("div",{className:Wt.legendItem,title:`${u.name}: ${f}  ${Cp(p)}`,children:[s.jsx("span",{className:Wt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:u.name}),s.jsxs("span",{className:Wt.legendRight,children:[f,"  ",Cp(p)]})]},u.id)})})]}),s.jsx("div",{className:Wt.centerLabel,children:"Anteile je Klasse"})]})},ln={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},Ig=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},UV=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function gE({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:ln.tile,border:`1px solid ${ln.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:ln.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:ln.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Xc({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:ln.title},children:e})]})}function zV({guild:t}){var n,r;const e=Bu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:o=>o.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(gE,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Xc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Xc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Xc,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Xc,{k:"Inaktiv",v:"0"}),s.jsx(Xc,{k:"Aktivitt",v:"100%"})]})})]})}function Rg(){var R,L,O,B,I,v,_,D,k;const t=H0(),e=t.id||t.gid||t.guildId||t.guild||"",n=No(),[r,o]=N.useState(!0),[l,c]=N.useState(null),[u,h]=N.useState(null),[p,f]=N.useState(null),[y,b]=N.useState("grid"),E=N.useMemo(()=>(Array.isArray(yn)?yn:[]).map(BV).filter(Boolean),[]);if(N.useEffect(()=>{let S=!1;async function A(){var F,P,V,$,ie,H,se,K,X,ae,le,W,ne,ye,je,Ee,ge,Ae,Ie,De,rt,Lt,ht,jt,gt,ls,cs,yt,zs,us,En,Tn,Es,ds,hs,Ts,St;o(!0),c(null);try{const it=e.trim();if(!it){c("Keine Gilde gewhlt."),o(!1);return}const ps=cn(wt,`guilds/${it}/latest/latest`),cr=await Pr(ps);if(!cr.exists()){c("Gilde nicht gefunden."),o(!1);return}const xt=cr.data(),Hs=(V=(P=xt.name)!=null?P:(F=xt.values)==null?void 0:F.Name)!=null?V:it,Ws=(H=(ie=xt.server)!=null?ie:($=xt.values)==null?void 0:$.Server)!=null?H:null,Fr=(le=Ig((ae=(K=xt.memberCount)!=null?K:(se=xt.values)==null?void 0:se["Guild Member Count"])!=null?ae:(X=xt.values)==null?void 0:X.GuildMemberCount))!=null?le:null,Br=(De=Ig((Ie=(ge=(je=(ne=xt.hofRank)!=null?ne:(W=xt.values)==null?void 0:W["Hall of Fame Rank"])!=null?je:(ye=xt.values)==null?void 0:ye.HoF)!=null?ge:(Ee=xt.values)==null?void 0:Ee.Rank)!=null?Ie:(Ae=xt.values)==null?void 0:Ae["Guild Rank"]))!=null?De:null,Vr=UV(Ig(xt.timestamp));S||h({id:it,name:Hs,server:Ws,memberCount:Fr,hofRank:Br,lastScanDays:Vr});const $r=cn(wt,`guilds/${it}/snapshots/members_summary`),Cs=await Pr($r);if(Cs.exists()&&!S){const kt=Cs.data(),ur={guildId:String((rt=kt.guildId)!=null?rt:it),updatedAt:String((jt=(ht=kt.updatedAt)!=null?ht:(Lt=xt.values)==null?void 0:Lt.Timestamp)!=null?jt:""),updatedAtMs:Number((ls=(gt=kt.updatedAtMs)!=null?gt:xt.timestamp*1e3)!=null?ls:0),count:Number((cs=kt.count)!=null?cs:0),hash:String((yt=kt.hash)!=null?yt:""),avgLevel:(zs=kt.avgLevel)!=null?zs:null,avgTreasury:(us=kt.avgTreasury)!=null?us:null,avgMine:(En=kt.avgMine)!=null?En:null,avgBaseMain:(Tn=kt.avgBaseMain)!=null?Tn:null,avgConBase:(Es=kt.avgConBase)!=null?Es:null,avgSumBaseTotal:(ds=kt.avgSumBaseTotal)!=null?ds:null,avgAttrTotal:(hs=kt.avgAttrTotal)!=null?hs:null,avgConTotal:(Ts=kt.avgConTotal)!=null?Ts:null,avgTotalStats:(St=kt.avgTotalStats)!=null?St:null,members:Array.isArray(kt.members)?kt.members:[]};f(ur)}}catch(it){S||c((it==null?void 0:it.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return A(),()=>{S=!0}},[e]),N.useMemo(()=>{var S;return(S=p==null?void 0:p.members)!=null?S:[]},[p]),r)return s.jsx(gn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:ln.soft},children:"Lade Gildenprofil"})});if(!u)return s.jsx(gn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:ln.soft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const T=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${ln.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:ln.tile,border:`1px solid ${ln.line}`,color:ln.title},children:(R=u.server)!=null?R:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:ln.title,fontSize:26,lineHeight:1.15},children:u.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:ln.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:ln.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(gn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[T,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(zV,{guild:u})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(pV,{guild:u,snapshot:p,emblemUrl:Bu(u.name,512)||void 0,colors:ln}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(EF,{guildName:u.name,server:(L=u.server)!=null?L:"",emblemUrl:Bu(u.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(O=u.memberCount)!=null?O:0,avgLevel:(B=p==null?void 0:p.avgLevel)!=null?B:0,totalPower:(I=p==null?void 0:p.avgTotalStats)!=null?I:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(v=u.memberCount)!=null?v:0}`]:void 0})})}),s.jsx(HV,{members:(_=p==null?void 0:p.members)!=null?_:[],guildId:u.id,guildName:u.name,guildServer:u.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>b("grid"),"aria-label":"Klassenbersicht",children:s.jsx(Ao,{text:"Klassenbersicht",tone:y==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>b("donut"),"aria-label":"Klassenverteilung",children:s.jsx(Ao,{text:"Klassenverteilung",tone:y==="donut"?"accent":"default"})})]}),y==="grid"?s.jsx($V,{data:(D=p==null?void 0:p.members)!=null?D:[],classMeta:E,onPickClass:S=>{const A=new URL(window.location.href);A.searchParams.set("tab","bersicht"),A.searchParams.set("class",S),window.location.href=A.toString()}}):s.jsx(OV,{data:(k=p==null?void 0:p.members)!=null?k:[],classMeta:E})]})]})})]})}function HV({members:t,guildId:e,guildName:n,guildServer:r}){const[o,l]=N.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:ln.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const u=c===o;return s.jsx("button",{role:"tab","aria-selected":u,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${u?ln.header:"transparent"}`,background:u?"rgba(45,78,120,0.35)":"transparent",color:ln.title},children:c},c)})}),s.jsxs(gE,{children:[o==="bersicht"&&s.jsx(kF,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),o==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:ln.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),o==="Monthly Progress"&&s.jsx(_B,{guildId:e,guildName:n,guildServer:r}),o==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:ln.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function WV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(jw,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(jw,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function jw({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function GV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function qV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const _n={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Sw({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function KV({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function yl({label:t,value:e}){return s.jsxs("div",{style:{background:_n.tileAlt,border:`1px solid ${_n.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:_n.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:_n.title,fontWeight:700},children:e})]})}function QV(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),o=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const u=n.match(/^([A-Z]{2})(\d{1,3})$/);if(u){const h=u[1],p=String(parseInt(u[2],10)),f=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${p}.sfgame.${f}`}return Array.from(new Set([e,n,r,o,l,c].filter(Boolean)))}function Pg(){var R,L,O,B;const t=H0(),e=No(),n=Us(),r=t.id||t.sid||t.serverId||t.server||"",[o,l]=N.useState(!0),[c,u]=N.useState(null),[h,p]=N.useState(null),[f,y]=N.useState(null);N.useEffect(()=>{let I=!1;async function v(){l(!0),u(null),p(null),y(null);try{const _=r.trim();if(!_)throw new Error("Kein Server gewhlt.");const D=cn(wt,`servers/${_}`),k=await Pr(D);if(k.exists()){I||(p(k.id),y(k.data()));return}const S=Kp(wt,"servers"),A=QV(_),F=[];for(const ie of A)F.push(ei(Ri(S,Jh("code","==",ie),Pi(1)))),F.push(ei(Ri(S,Jh("displayName","==",ie),Pi(1)))),F.push(ei(Ri(S,Jh("host","==",ie),Pi(1))));const P=await Promise.allSettled(F);let V=null,$=null;for(const ie of P){if(ie.status!=="fulfilled")continue;const H=ie.value;if(!H.empty){const se=H.docs[0];V=se.id,$=se.data();break}}if(!V||!$)throw new Error("Server nicht gefunden.");I||(p(V),y($),V!==_&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch(_){I||u((_==null?void 0:_.message)||"Fehler beim Laden.")}finally{I||l(!1)}}return v(),()=>{I=!0}},[r,e,n.pathname]);const b=N.useMemo(()=>s.jsxs("div",{style:{padding:24,color:_n.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:_n.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(o)return s.jsx(gn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:_n.textSoft},children:"Lade Serverprofil"})});if(!f)return s.jsx(gn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:b});const E=f.displayName||f.code||h||r,T=f.active===!0?"Aktiv":f.active===!1?"Inaktiv":"";return s.jsxs(gn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${_n.line}`},children:s.jsxs(Sw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(KV,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:_n.title,fontWeight:700},children:E}),s.jsxs("div",{style:{fontSize:12,color:_n.textSoft},children:[f.host||"","  ",f.region||"","  ",((R=f.type)==null?void 0:R.toUpperCase())||""]})]})]})}),s.jsxs(Sw,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:_n.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${_n.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:_n.title,fontSize:24,fontWeight:800},children:E}),s.jsxs("div",{style:{marginTop:6,color:_n.textSoft,fontSize:13},children:[f.host||"","  ",f.region||"","  ",((L=f.type)==null?void 0:L.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:_n.textSoft},children:["Status: ",T]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:f.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(yl,{label:"Code",value:f.code||""}),s.jsx(yl,{label:"Host",value:f.host||""}),s.jsx(yl,{label:"Region",value:f.region||""}),s.jsx(yl,{label:"Typ",value:((O=f.type)==null?void 0:O.toUpperCase())||""}),s.jsx(yl,{label:"Numeric ID",value:(B=f.numericId)!=null?B:""}),s.jsx(yl,{label:"Status",value:T})]}),s.jsxs("div",{style:{marginTop:16,background:_n.tileAlt,padding:15,borderRadius:12,border:`1px solid ${_n.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:_n.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const XV="_wrap_k6pqt_1",YV="_centerLogoWrap_k6pqt_21",JV="_centerLogoLink_k6pqt_37",ZV="_centerLogo_k6pqt_21",e$="_arc_k6pqt_55",t$="_left_k6pqt_57",n$="_right_k6pqt_59",s$="_sub_k6pqt_61",r$="_full_k6pqt_63",i$="_arcItem_k6pqt_65",o$="_iconBtn_k6pqt_71",a$="_active_k6pqt_125",l$="_iconImg_k6pqt_135",c$="_placeholderIcon_k6pqt_139",u$="_placeholderText_k6pqt_157",d$="_iconLabel_k6pqt_161",Mn={wrap:XV,centerLogoWrap:YV,centerLogoLink:JV,centerLogo:ZV,arc:e$,left:t$,right:n$,sub:s$,full:r$,arcItem:i$,iconBtn:o$,active:a$,iconImg:l$,placeholderIcon:c$,placeholderText:u$,iconLabel:d$},h$=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Us();let l=!1;try{const c=new URLSearchParams(o),u=c.get("tab"),h=c.get("sub"),p=c.get("sub2"),f=new URL(t,window.location.origin).searchParams,y=f.get("tab"),b=f.get("sub"),E=f.get("sub2");r==="main"?l=u===y:r==="sub"?l=u===y&&!!b&&h===b:l=u===y&&!!b&&h===b&&!!E&&p===E}catch(c){l=!1}return s.jsxs(Dt,{to:t,"aria-label":e,className:[Mn.iconBtn,l?Mn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Mn.iconImg}):s.jsx("div",{className:Mn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Mn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Mn.iconLabel,children:e})]})},Oh=({items:t,side:e,anchorSide:n,compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440,superOffset:u=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const h=N.useMemo(()=>{const f=t.length;if(f===0)return[];let y=-90,b=90;e==="left"?(y=90,b=270):e==="sub"||e==="sub2"?n==="left"?(y=90,b=270):(y=-90,b=90):e==="full"&&(y=0,b=360);const E=(b-y)/(f+1),T=r?190:250;return t.map((R,L)=>{const B=(y+E*(L+1))*Math.PI/180;return{it:R,x:Math.cos(B)*T,y:Math.sin(B)*T}})},[t,e,n,r]),p=(()=>{const f={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?f.left=`calc(50% - ${l}px)`:e==="right"?f.left=`calc(50% + ${l}px)`:e==="sub"?f.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(f.left=n==="left"?`calc(50% - ${u}px)`:`calc(50% + ${u}px)`),f})();return s.jsx("div",{className:[Mn.arc,e==="left"?Mn.left:"",e==="right"?Mn.right:"",e==="sub"?Mn.sub:"",e==="sub2"?Mn.sub2:"",e==="full"?Mn.full:""].join(" "),style:p,children:h.map(({it:f,x:y,y:b})=>s.jsx("div",{className:Mn.arcItem,style:{transform:`translate(${y}px, ${b}px)`},children:s.jsx(h$,{to:f.to,label:f.label,icon:f.icon,variant:e==="left"||e==="right"?"main":e})},f.key))})},p$=({logoSrc:t,categories:e})=>{const[n]=Yl(),r=n.get("tab")||null,o=n.get("sub")||null;n.get("sub2");const l=N.useMemo(()=>e.find(I=>I.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],u=N.useMemo(()=>c.find(I=>I.key===o)||null,[c,o]),h=(u==null?void 0:u.sub2)||[],p=(l==null?void 0:l.side)==="left"||(l==null?void 0:l.side)==="right"?l.side:"right",f=N.useRef(null),[y,b]=N.useState(!1),[E,T]=N.useState(220),[R,L]=N.useState(440),[O,B]=N.useState(660);return N.useLayoutEffect(()=>{(()=>{var F,P;const _=((P=(F=f.current)==null?void 0:F.getBoundingClientRect().width)!=null?P:380)/2,k=Math.round(_+60),S=Math.round(k+220),A=Math.round(S+220);T(k),L(S),B(A),b(!0)})()},[]),N.useEffect(()=>{let I=0,v=null,_={main:E,out:R,sup:O};const D=()=>{v!=null&&window.clearTimeout(v),v=window.setTimeout(()=>{I=requestAnimationFrame(()=>{var se,K;const S=((K=(se=f.current)==null?void 0:se.getBoundingClientRect().width)!=null?K:380)/2,F=Math.round(S+60),P=Math.round(F+220),V=Math.round(P+220),$=Math.abs(F-_.main),ie=Math.abs(P-_.out),H=Math.abs(V-_.sup);$>1&&T(F),ie>1&&L(P),H>1&&B(V),_={main:F,out:P,sup:V}})},120)};return window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D),v!=null&&window.clearTimeout(v),I&&cancelAnimationFrame(I)}},[E,R,O]),s.jsxs("div",{className:Mn.wrap,children:[s.jsx("div",{className:Mn.centerLogoWrap,children:s.jsx(Dt,{to:"/guidehub",className:Mn.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:f,src:t,alt:"Guide Hub",className:Mn.centerLogo})})}),y&&s.jsxs(s.Fragment,{children:[s.jsx(Oh,{items:e.filter(I=>I.side==="left").map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"left",variant:"main",arcOffset:E}),s.jsx(Oh,{items:e.filter(I=>I.side==="right").map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"right",variant:"main",arcOffset:E}),p&&c.length>0&&s.jsx(Oh,{items:c.map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:R,compact:!0}),p&&h.length>0&&s.jsx(Oh,{items:h.map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:O,compact:!0})]})]})},kw=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],m$="_topWrap_1vr4p_1",f$="_divider_1vr4p_19",g$="_contentArea_1vr4p_53",y$="_placeholder_1vr4p_65",x$="_placeholderTitle_1vr4p_79",v$="_placeholderText_1vr4p_93",xl={topWrap:m$,divider:f$,contentArea:g$,placeholder:y$,placeholderTitle:x$,placeholderText:v$},b$="/test/assets/logo_guidehub-c4zKGdF-.png";function Na({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const w$=()=>s.jsx(Na,{title:"Game Features"});function Ot({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const _$=()=>s.jsx(Ot,{title:"Progression"}),j$=()=>s.jsx(Ot,{title:"Hellevator"}),S$=()=>s.jsx(Ot,{title:"Legendary Dungeon"}),k$=()=>s.jsx(Ot,{title:"Events"}),E$="_card_1rxdx_21",T$="_hoverLift_1rxdx_51",C$="_title_1rxdx_63",A$="_body_1rxdx_89",N$="_iconStack_1rxdx_99",Yc={card:E$,hoverLift:T$,title:C$,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:A$,iconStack:N$};function I$({title:t,padding:e="md",hover:n=!0,className:r="",children:o}){return s.jsxs("div",{className:[Yc.card,Yc[`pad-${e}`],n?Yc.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Yc.title,children:t}):null,s.jsx("div",{className:Yc.body,children:o})]})}const R$=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],P$="_grid_1amcc_3",D$="_tileBtn_1amcc_45",L$="_wrap_1amcc_87",M$="_headerBar_1amcc_99",F$="_title_1amcc_117",Jc={grid:P$,tileBtn:D$,wrap:L$,headerBar:M$,title:F$};function B$(){const[t,e]=Yl(),n=r=>{const o=new URLSearchParams(t);o.set("tab","calculators"),o.set("sub",r),o.delete("sub2"),e(o,{replace:!1})};return s.jsxs("div",{className:Jc.wrap,children:[s.jsx("div",{className:Jc.headerBar,children:s.jsx("h2",{className:Jc.title,children:"Calculators"})}),s.jsx("div",{className:Jc.grid,children:R$.map(r=>s.jsx("button",{className:Jc.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(I$,{title:r.title,padding:"md",hover:!0})},r.slug))})]})}const V$=()=>s.jsx(Ot,{title:"Infographics (Dropdown inside page)"}),$$=()=>s.jsx(Ot,{title:"Class book"}),O$=()=>s.jsx(Ot,{title:"Dungeons"}),U$=()=>s.jsx(Na,{title:"Fortress"}),z$=()=>s.jsx(Na,{title:"Fortress Calculator"}),H$="_wrap_1skhh_7",W$="_headerBar_1skhh_21",G$="_title_1skhh_39",q$="_meta_1skhh_55",K$="_description_1skhh_67",Q$="_contentWrapper_1skhh_83",X$="_tableSection_1skhh_97",Y$="_table_1skhh_97",J$="_infoBox_1skhh_151",Z$="_sectionTitle_1skhh_165",eO="_divider_1skhh_181",js={wrap:H$,headerBar:W$,title:G$,meta:q$,description:K$,contentWrapper:Q$,tableSection:X$,table:Y$,infoBox:J$,sectionTitle:Z$,divider:eO};function tO(){return s.jsxs("div",{className:js.wrap,children:[s.jsxs("div",{className:js.headerBar,children:[s.jsx("h2",{className:js.title,children:"Fortress Package skip order"}),s.jsx("span",{className:js.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:js.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:js.contentWrapper,children:[s.jsxs("section",{className:js.tableSection,children:[s.jsx("h3",{className:js.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:js.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:js.infoBox,children:[s.jsx("h3",{className:js.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:js.divider}),s.jsx("h3",{className:js.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:js.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const nO=()=>s.jsx(Na,{title:"Fortress attack duplication guide"}),sO=()=>s.jsx(Na,{title:"Underworld"}),rO=()=>s.jsx(Na,{title:"Underworld Calculator"}),iO=()=>s.jsx(Na,{title:"Underworld Pro Package skip order"}),oO=()=>s.jsx(Ot,{title:"Arena / AM"}),aO="_wrap_mm7x0_5",lO="_headerBar_mm7x0_19",cO="_title_mm7x0_37",uO="_meta_mm7x0_51",dO="_description_mm7x0_63",hO="_controls_mm7x0_79",pO="_search_mm7x0_83",mO="_tableWrap_mm7x0_119",fO="_table_mm7x0_119",gO="_thead_mm7x0_143",yO="_th_mm7x0_143",xO="_td_mm7x0_167",vO="_tierCell_mm7x0_179",bO="_amountCell_mm7x0_181",wO="_bonusCell_mm7x0_183",_O="_tags_mm7x0_185",jO="_tierBox_mm7x0_191",SO="_tierIcon_mm7x0_193",kO="_tierTexts_mm7x0_203",EO="_tierName_mm7x0_205",TO="_badge_mm7x0_211",CO="_badgeMax_mm7x0_231",AO="_badgeAchiev_mm7x0_233",NO="_badgeX2_mm7x0_235",IO="_badgeX12_mm7x0_237",RO="_badgeX60_mm7x0_239",PO="_iconHead_mm7x0_245",DO="_achiev_mm7x0_261",LO="_achievImg_mm7x0_263",MO="_dataRow_mm7x0_291",FO="_tierCellHover_mm7x0_311",_e={wrap:aO,headerBar:lO,title:cO,meta:uO,description:dO,controls:hO,search:pO,tableWrap:mO,table:fO,thead:gO,th:yO,td:xO,tierCell:vO,amountCell:bO,bonusCell:wO,tags:_O,tierBox:jO,tierIcon:SO,tierTexts:kO,tierName:EO,badge:TO,badgeMax:CO,badgeAchiev:AO,badgeX2:NO,badgeX12:IO,badgeX60:RO,iconHead:PO,achiev:DO,achievImg:LO,dataRow:MO,tierCellHover:FO};function yE(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function BO(t){const e=t.filter(Boolean).join(" ");return yE(e)}const VO={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function $O(t){var n;const e=Array.isArray(t)?BO(t):yE(t!=null?t:"");return(n=VO[e])!=null?n:null}function dm(t,e=512){const n=$O(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=Hl(n),o=Mr(r,e);return{id:n,url:r,thumb:o,fallback:""}}function ba(t,e=512){return dm(t,e).thumb}const go={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},Ew={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function yo({keyName:t,label:e}){const n=dm(t,36);return s.jsxs("div",{className:_e.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function OO({name:t}){const e=Object.keys(Ew).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=dm(e?Ew[e]:"achiev_generic",16);return s.jsxs("div",{className:_e.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:_e.achievImg}),s.jsx("span",{children:t})]})}const Ap=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Dg(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function UO(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function zO(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const Tw={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},HO="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function WO(t){const e=t.trim().toLowerCase();return e?Ap.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Ap}function GO(){const[t,e]=N.useState(""),[n,r]=N.useState(null),o=WO(t),l=N.useMemo(()=>Math.max(...Ap.map(u=>Dg(u.amount))),[]),c=N.useMemo(()=>{const u=new Map;for(const p of o)u.has(p.tier)||u.set(p.tier,[]),u.get(p.tier).push(p);const h=Array.from(new Set(Ap.map(p=>p.tier)));return Array.from(u.entries()).sort((p,f)=>h.indexOf(p[0])-h.indexOf(f[0]))},[o]);return s.jsxs("div",{className:_e.wrap,children:[s.jsxs("div",{className:_e.headerBar,children:[s.jsx("h2",{className:_e.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:_e.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:_e.description,children:HO}),s.jsx("div",{className:_e.controls,children:s.jsx("input",{className:_e.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:u=>e(u.target.value)})}),s.jsx("div",{className:_e.tableWrap,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{className:_e.thead,children:s.jsxs("tr",{className:_e.headRow,children:[s.jsx("th",{className:`${_e.th} ${_e.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${_e.th} ${_e.amountCell}`,children:"Amount"}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.gold,label:"Gold Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.xp,label:"XP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.hp,label:"HP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.elem,label:"Elemental Damage"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.item,label:"Improved Item Quality"})}),s.jsx("th",{className:_e.th,children:s.jsx(yo,{keyName:go.epics,label:"Chances of Epics"})}),s.jsx("th",{className:_e.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([u,h])=>{const p=Math.max(...h.map(f=>Dg(f.amount)));return h.map((f,y)=>{var T,R,L,O,B,I,v,_;const b=Math.abs(Dg(f.amount)-l)<1e-6,E=zO(f.note);return s.jsxs("tr",{className:_e.dataRow,onMouseEnter:()=>r(u),onMouseLeave:()=>r(null),children:[y===0&&s.jsx("td",{className:`${_e.td} ${_e.tierCell} ${Math.abs(p-l)<1e-6?_e.tierMax:""} ${n===u?_e.tierCellHover:""}`,rowSpan:h.length,children:s.jsxs("div",{className:_e.tierBox,children:[s.jsx("div",{className:_e.tierIcon,children:u.slice(0,1).toUpperCase()}),s.jsxs("div",{className:_e.tierTexts,children:[s.jsx("div",{className:_e.tierName,children:u}),Tw[u]&&s.jsx(OO,{name:Tw[u]})]})]})}),s.jsx("td",{className:`${_e.td} ${_e.amountCell}`,children:f.amount}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(T=f.gold)!=null?T:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(R=f.xp)!=null?R:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(L=f.hp)!=null?L:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(O=f.totalRes)!=null?O:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(B=f.singleRes)!=null?B:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(I=f.elemDmg)!=null?I:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(v=f.itemQuality)!=null?v:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(_=f.epics)!=null?_:""}),s.jsxs("td",{className:`${_e.td} ${_e.tags}`,children:[b&&s.jsx("span",{className:`${_e.badge} ${_e.badgeMax}`,children:"MAX"}),UO(f.note)&&s.jsx("span",{className:`${_e.badge} ${_e.badgeAchiev}`,children:"Achievement"}),E==="x2"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX2}`,children:"x2"}),E==="x12"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX12}`,children:"x12"}),E==="x60"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX60}`,children:"x60"}),E==="x8"&&s.jsx("span",{className:_e.badge,children:"x8"})]})]},`${u}-${y}`)})})})]})})]})}const qO="_wrap_zrza7_11",KO="_headerBar_zrza7_15",QO="_title_zrza7_31",XO="_meta_zrza7_33",YO="_centerCol_zrza7_37",JO="_text_zrza7_53",ZO="_imageBox_zrza7_55",eU="_imageFallback_zrza7_57",tU="_credit_zrza7_59",Si={wrap:qO,headerBar:KO,title:QO,meta:XO,centerCol:YO,text:JO,imageBox:ZO,imageFallback:eU,credit:tU};function nU(){const t=dm("ambuildorder"),e=N.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=N.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,o=e||n||r;return s.jsxs("div",{className:Si.wrap,children:[s.jsxs("div",{className:Si.headerBar,children:[s.jsx("h2",{className:Si.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:Si.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:Si.centerCol,children:[s.jsxs("div",{className:Si.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),o?s.jsx("div",{className:Si.imageBox,children:s.jsx("img",{src:o,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:Si.imageFallback,children:""}),s.jsxs("p",{className:Si.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const sU=()=>s.jsx(Ot,{title:"Hellevator Guide"}),rU=()=>s.jsx(Ot,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),iU=()=>s.jsx(Ot,{title:"Event List"}),oU=()=>s.jsx(Ot,{title:"Event Cycle"}),aU="_foCalc_18a5w_3",lU="_panel_18a5w_211",cU="_panelHead_18a5w_227",uU="_panelTitle_18a5w_241",dU="_controls_18a5w_243",hU="_ctrlLabel_18a5w_245",pU="_ctrlSelect_18a5w_249",mU="_tableWrap_18a5w_291",fU="_table_18a5w_291",gU="_th_18a5w_305",yU="_td_18a5w_321",xU="_row_18a5w_333",vU="_note_18a5w_335",Ht={foCalc:aU,panel:lU,panelHead:cU,panelTitle:uU,controls:dU,ctrlLabel:hU,ctrlSelect:pU,tableWrap:mU,table:fU,th:gU,td:yU,row:xU,note:vU},xE={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},Zt=(t,e=0)=>t*3600+e*60,Y=[Zt(0,15),Zt(0,31),Zt(1,6),Zt(2,20),Zt(5,0),Zt(8,0),Zt(11,25),Zt(18,27),Zt(40,0),Zt(87,16),Zt(190,46),Zt(320,0),Zt(480,0),Zt(615,33),Zt(800,0)],tt=[Zt(1054,17),Zt(1122,51),Zt(1245,42),Zt(1343,20),Zt(1440,0)],bU={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:Y[0]},{level:2,wood:150,stone:50,gold:20,timeSec:Y[1]},{level:3,wood:440,stone:140,gold:30,timeSec:Y[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:Y[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:Y[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:Y[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:Y[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:Y[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:Y[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:Y[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:Y[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:Y[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:Y[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:Y[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:Y[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:tt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:tt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:tt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:tt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:tt[4]}]},laborers_quarters:{key:"laborers_quarters",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:Y[0]},{level:2,wood:138,stone:46,gold:10,timeSec:Y[1]},{level:3,wood:406,stone:129,gold:15,timeSec:Y[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:Y[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:Y[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:Y[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:Y[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:Y[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:Y[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:Y[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:Y[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:Y[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:Y[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:Y[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:Y[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:Y[0]},{level:2,wood:28,stone:37,gold:14,timeSec:Y[1]},{level:3,wood:81,stone:103,gold:21,timeSec:Y[2]},{level:4,wood:203,stone:246,gold:28,timeSec:Y[3]},{level:5,wood:462,stone:591,gold:35,timeSec:Y[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:Y[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:Y[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:Y[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:Y[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:Y[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:Y[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:Y[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:Y[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:Y[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:Y[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:tt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:tt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:tt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:tt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:tt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:Y[0]},{level:2,wood:160,stone:53,gold:50,timeSec:Y[1]},{level:3,wood:469,stone:149,gold:75,timeSec:Y[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:Y[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:Y[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:Y[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:Y[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:Y[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:Y[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:Y[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:Y[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:Y[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:Y[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:Y[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:Y[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:Y[14]}]},gem_mine:{key:"gem_mine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:Y[0]},{level:2,wood:200,stone:67,gold:30,timeSec:Y[1]},{level:3,wood:587,stone:187,gold:45,timeSec:Y[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:Y[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:Y[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:Y[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:Y[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:Y[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:Y[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:Y[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:Y[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:Y[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:Y[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:Y[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:Y[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:tt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:tt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:tt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:tt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:tt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:Zt(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:Y[0]},{level:2,wood:30,stone:20,gold:4,timeSec:Y[1]},{level:3,wood:88,stone:56,gold:6,timeSec:Y[2]},{level:4,wood:220,stone:133,gold:8,timeSec:Y[3]},{level:5,wood:500,stone:320,gold:10,timeSec:Y[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:Y[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:Y[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:Y[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:Y[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:Y[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:Y[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:Y[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:Y[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:Y[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:Y[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:tt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:tt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:tt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:tt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:tt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:Y[0]},{level:2,wood:90,stone:16,gold:6,timeSec:Y[1]},{level:3,wood:264,stone:45,gold:9,timeSec:Y[2]},{level:4,wood:660,stone:107,gold:12,timeSec:Y[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:Y[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:Y[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:Y[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:Y[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:Y[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:Y[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:Y[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:Y[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:Y[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:Y[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:Y[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:tt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:tt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:tt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:tt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:tt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:Y[0]},{level:2,wood:82,stone:55,gold:8,timeSec:Y[1]},{level:3,wood:240,stone:153,gold:12,timeSec:Y[2]},{level:4,wood:600,stone:364,gold:16,timeSec:Y[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:Y[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:Y[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:Y[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:Y[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:Y[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:Y[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:Y[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:Y[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:Y[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:Y[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:Y[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:Y[0]},{level:2,wood:100,stone:33,gold:8,timeSec:Y[1]},{level:3,wood:293,stone:93,gold:12,timeSec:Y[2]},{level:4,wood:733,stone:222,gold:16,timeSec:Y[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:Y[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:Y[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:Y[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:Y[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:Y[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:Y[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:Y[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:Y[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:Y[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:Y[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:Y[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:tt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:tt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:tt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:tt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:tt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:Y[0]},{level:2,wood:240,stone:61,gold:12,timeSec:Y[1]},{level:3,wood:675,stone:205,gold:18,timeSec:Y[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:Y[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:Y[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:Y[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:Y[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:Y[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:Y[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:Y[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:Y[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:Y[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:Y[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:Y[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:Y[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:Y[0]},{level:2,wood:164,stone:27,gold:10,timeSec:Y[1]},{level:3,wood:480,stone:76,gold:15,timeSec:Y[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:Y[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:Y[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:Y[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:Y[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:Y[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:Y[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:Y[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:Y[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:Y[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:Y[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:Y[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:Y[14]}]},fortification:{key:"fortification",title:"Fortification",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:Y[0]},{level:2,wood:120,stone:53,gold:30,timeSec:Y[1]},{level:3,wood:352,stone:149,gold:45,timeSec:Y[2]},{level:4,wood:880,stone:356,gold:60,timeSec:Y[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:Y[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:Y[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:Y[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:Y[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:Y[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:Y[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:Y[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:Y[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:Y[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:Y[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:Y[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:tt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:tt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:tt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:tt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:tt[4]}]}},wU=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborers_quarters",label:"Laborers Quarters"},{key:"gem_mine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortification",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],_U="fortress",jU={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborers_quarters:"laborerquagif",gem_mine:"gemminegif",fortress:"fortressgif",fortification:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function SU(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function Cw(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=e%60,l=c=>c.toString().padStart(2,"0");return`${l(n)}:${l(r)}:${l(o)}`}const kU=()=>{const[t,e]=N.useState(_U),[n,r]=N.useState(1),o=N.useMemo(()=>{var f;const u=jU[t],h=xE[u],p=(f=h==null?void 0:h.id)!=null?f:h;return Hl.gifProxy(p)||Hl.gif(p)||""},[t]),l=N.useMemo(()=>{var u,h;return(h=(u=bU[t])==null?void 0:u.costs)!=null?h:[]},[t]),c=N.useMemo(()=>SU(n),[n]);return s.jsxs("div",{className:`${Ht.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:u=>e(u.target.value),children:wU.map(u=>s.jsx("option",{value:u.key,children:u.label},u.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:o?s.jsx("img",{src:o,alt:t}):null}),s.jsxs("div",{className:Ht.panel,children:[s.jsxs("div",{className:Ht.panelHead,children:[s.jsxs("div",{className:Ht.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:Ht.controls,children:[s.jsx("span",{className:Ht.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:Ht.ctrlSelect,value:n,onChange:u=>r(parseInt(u.target.value,10)),children:Array.from({length:16},(u,h)=>h).map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsx("div",{className:Ht.tableWrap,children:s.jsxs("table",{className:Ht.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ht.th,children:"Level"}),s.jsx("th",{className:Ht.th,children:"Wood"}),s.jsx("th",{className:Ht.th,children:"Stone"}),s.jsx("th",{className:Ht.th,children:"Build Time"}),s.jsx("th",{className:Ht.th,children:"Build Time (L2)"}),s.jsx("th",{className:Ht.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:l.map(u=>{var y,b,E,T,R,L,O;const h=(y=u.timeSec)!=null?y:0,p=Math.round(h*(1-c)),f=Math.ceil(Math.ceil(p/60)/10);return s.jsxs("tr",{className:Ht.row,children:[s.jsx("td",{className:Ht.td,children:u.level}),s.jsx("td",{className:Ht.td,children:(T=(E=(b=u.wood)==null?void 0:b.toLocaleString)==null?void 0:E.call(b))!=null?T:u.wood}),s.jsx("td",{className:Ht.td,children:(O=(L=(R=u.stone)==null?void 0:R.toLocaleString)==null?void 0:L.call(R))!=null?O:u.stone}),s.jsx("td",{className:Ht.td,children:Cw(h)}),s.jsx("td",{className:Ht.td,children:Cw(p)}),s.jsx("td",{className:Ht.td,children:f.toLocaleString()})]},u.level)})})]})}),s.jsx("div",{className:Ht.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},EU="_uwCalc_64lws_3",TU="_panel_64lws_211",CU="_panelHead_64lws_227",AU="_panelTitle_64lws_241",NU="_controls_64lws_243",IU="_ctrlLabel_64lws_245",RU="_ctrlSelect_64lws_251",PU="_tableWrap_64lws_295",DU="_table_64lws_295",LU="_th_64lws_309",MU="_td_64lws_325",FU="_row_64lws_337",BU="_note_64lws_339",Pt={uwCalc:EU,panel:TU,panelHead:CU,panelTitle:AU,controls:NU,ctrlLabel:IU,ctrlSelect:RU,tableWrap:PU,table:DU,th:LU,td:MU,row:FU,note:BU},VU={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},$U={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function OU(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function UU(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),o=Math.floor(n%3600/60),l=n%60;return{h:r,m:o,s:l}}function Aw(t){const{h:e,m:n,s:r}=UU(t),o=l=>String(l).padStart(2,"0");return`${o(e)}:${o(n)}:${o(r)}`}function zU(t,e){var o,l;const n=OU(e);return((l=(o=$U[t])==null?void 0:o.costs)!=null?l:[]).map(c=>{const u=c.timeSec*(1-n),h=Math.ceil(Math.ceil(u/60)/10);return{...c,timeAdjSec:u,skipMushroomsAdj:h}})}const HU=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],WU=()=>{const[t,e]=N.useState("hearthofdarkngif"),[n,r]=N.useState(1),o=N.useMemo(()=>{var p;const u=xE[t],h=(p=u==null?void 0:u.id)!=null?p:u;return Hl.gifProxy(h)||Hl.gif(h)||""},[t]),l=N.useMemo(()=>{var u;return(u=VU[t])!=null?u:"hearthofdarkn"},[t]),c=N.useMemo(()=>zU(l,n),[l,n]);return s.jsxs("div",{className:Pt.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:u=>e(u.target.value),children:HU.map(u=>s.jsx("option",{value:u,children:u.replace(/gif$/i,"")},u))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:o?s.jsx("img",{src:o,alt:t}):null}),s.jsxs("div",{className:Pt.panel,children:[s.jsxs("div",{className:Pt.panelHead,children:[s.jsxs("div",{className:Pt.panelTitle,children:["Underworld  ",l]}),s.jsxs("div",{className:Pt.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:Pt.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:Pt.ctrlSelect,value:n,onChange:u=>r(parseInt(u.target.value,10)),children:Array.from({length:15},(u,h)=>h+1).map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsx("div",{className:Pt.tableWrap,children:s.jsxs("table",{className:Pt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Pt.th,children:"Level"}),s.jsx("th",{className:Pt.th,children:"Soul"}),s.jsx("th",{className:Pt.th,children:"Gold"}),s.jsx("th",{className:Pt.th,children:"Build Time"}),s.jsx("th",{className:Pt.th,children:"Build Time (L2)"}),s.jsx("th",{className:Pt.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:c.length===0?s.jsx("tr",{className:Pt.row,children:s.jsx("td",{className:Pt.td,colSpan:6,children:"No data for this building yet."})}):c.map(u=>s.jsxs("tr",{className:Pt.row,children:[s.jsx("td",{className:Pt.td,children:u.level}),s.jsx("td",{className:Pt.td,children:u.soul}),s.jsx("td",{className:Pt.td,children:u.gold}),s.jsx("td",{className:Pt.td,children:Aw(u.timeSec)}),s.jsx("td",{className:Pt.td,children:Aw(u.timeAdjSec)}),s.jsx("td",{className:Pt.td,children:u.skipMushroomsAdj})]},u.level))})]})}),s.jsx("p",{className:Pt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},GU=()=>s.jsx(Ot,{title:"Max Item Stats Calculator"}),qU="_wrap_1xz2r_1",KU="_card_1xz2r_13",QU="_title_1xz2r_35",XU="_form_1xz2r_47",YU="_field_1xz2r_59",JU="_input_1xz2r_75",ZU="_gemsRow_1xz2r_95",ez="_gemBox_1xz2r_109",tz="_gemImg_1xz2r_133",nz="_gemFallback_1xz2r_153",sz="_normalGem_1xz2r_167",rz="_blackGem_1xz2r_173",iz="_legendaryGem_1xz2r_179",oz="_gemLabel_1xz2r_189",az="_gemValue_1xz2r_207",lz="_disabled_1xz2r_231",cz="_hint_1xz2r_241",at={wrap:qU,card:KU,title:QU,form:XU,field:YU,input:JU,gemsRow:ZU,gemBox:ez,gemImg:tz,gemFallback:nz,normalGem:sz,blackGem:rz,legendaryGem:iz,gemLabel:oz,gemValue:az,disabled:lz,hint:cz},uz={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},dz=.25,Np=t=>Math.round(Number.isFinite(t)?t:0);function hz(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const L=e*dz*(1+(n-1)*.25)+r/3;return Np(L)}const{A:o,B:l,C:c,D:u,E:h,F:p,G:f,H:y,I:b,J:E}=uz,R=o+l*e+c/n+u*e**2+h/n**2+p*e/n+f*e**3+y/n**3+b*e/n**2+E*e**2/n+r/3;return Np(R)}function pz(t){return Np(t*(2/3))}function mz(t){return Np(t)}const Lg={char:1e3,mine:100,hok:1e3},fz=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[o,l]=N.useState(""),c=N.useMemo(()=>t===""||n===""||o===""?null:hz({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(o)}),[t,n,o]),u=N.useMemo(()=>c==null?null:pz(c),[c]),h=N.useMemo(()=>c==null?null:mz(c),[c]),p=ba("luckbig"),f=ba("blackbig"),y=ba("legendarybig");return s.jsx("div",{className:at.wrap,children:s.jsxs("div",{className:at.card,children:[s.jsx("h2",{className:at.title,children:"Gem Calculator"}),s.jsxs("div",{className:at.form,children:[s.jsxs("label",{className:at.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:at.input,placeholder:"e.g., 360",value:t,onChange:b=>{const E=b.currentTarget.value;if(E==="")return e("");const T=Number(E);e(Number.isFinite(T)?T:"")},max:Lg.char})]}),s.jsxs("label",{className:at.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:at.input,placeholder:"e.g., 10",value:n,onChange:b=>{const E=b.currentTarget.value;if(E==="")return r("");const T=Number(E);r(Number.isFinite(T)?T:"")},max:Lg.mine})]}),s.jsxs("label",{className:at.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:at.input,placeholder:"e.g., 840",value:o,onChange:b=>{const E=b.currentTarget.value;if(E==="")return l("");const T=Number(E);l(Number.isFinite(T)?T:"")},max:Lg.hok})]})]}),s.jsxs("div",{className:at.gemsRow,children:[s.jsxs("div",{className:`${at.gemBox} ${c==null?at.disabled:""}`,children:[p?s.jsx("img",{className:at.gemImg,src:p,alt:"Normal Gem"}):s.jsx("div",{className:`${at.gemFallback} ${at.normalGem}`}),s.jsx("div",{className:at.gemLabel,children:"Normal"}),s.jsx("div",{className:at.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${at.gemBox} ${u==null?at.disabled:""}`,children:[f?s.jsx("img",{className:at.gemImg,src:f,alt:"Black Gem"}):s.jsx("div",{className:`${at.gemFallback} ${at.blackGem}`}),s.jsx("div",{className:at.gemLabel,children:"Black"}),s.jsx("div",{className:at.gemValue,children:u!=null?u:""})]}),s.jsxs("div",{className:`${at.gemBox} ${h==null?at.disabled:""}`,children:[y?s.jsx("img",{className:at.gemImg,src:y,alt:"Legendary Gem"}):s.jsx("div",{className:`${at.gemFallback} ${at.legendaryGem}`}),s.jsx("div",{className:at.gemLabel,children:"Legendary"}),s.jsx("div",{className:at.gemValue,children:h!=null?h:""})]})]}),s.jsxs("p",{className:at.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},gz="_headerBar_qqga9_7",yz="_title_qqga9_25",xz="_meta_qqga9_39",vz="_description_qqga9_43",Uh={headerBar:gz,title:yz,meta:xz,description:vz},bz=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Uh.headerBar,children:[s.jsx("h2",{className:Uh.title,children:"Gem Calculator"}),s.jsx("span",{className:Uh.meta,children:"last updated: 08.11.2024"})]}),s.jsxs("p",{className:Uh.description,children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]}),s.jsx(fz,{})]}),wz="_wrapper_3ezso_1",_z="_panel_3ezso_13",jz="_header_3ezso_29",Sz="_title_3ezso_43",kz="_table_3ezso_47",Ez="_row_3ezso_73",Tz="_name_3ezso_77",Cz="_selectCell_3ezso_79",Az="_sumCell_3ezso_81",Nz="_footer_3ezso_85",Iz="_footerLine_3ezso_87",Rz="_resetBtn_3ezso_91",Pz="_note_3ezso_103",en={wrapper:wz,panel:_z,header:jz,title:Sz,table:kz,row:Ez,name:Tz,selectCell:Cz,sumCell:Az,footer:Nz,footerLine:Iz,resetBtn:Rz,note:Pz};function bu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),o=Math.max(e,n);let l=0;for(let u=r;u<=o;u++)l+=(c=t[u])!=null?c:0;return l}function Dz(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function Ge(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const Lz=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:Ge([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:Ge([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:Ge([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:Ge([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:Ge([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:Ge([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:Ge([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:Ge([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:Ge([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)}],Mz=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:Ge([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:Ge([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:Ge([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:Ge([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:Ge([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:Ge([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:Ge([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:Ge([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)}],Nw=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],Fz=(()=>{const t=[0,...Nw],e=1e3-Nw.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),Bz=Ge([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),Vz=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Ii={light:Lz.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:Mz.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:Fz,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:Bz,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:Vz,specialType:"sandstorm"}]},Ip=t=>t.toLocaleString("en-US");function Iw(){const t={},e={},n={};return Ii.light.forEach(r=>t[r.key]={from:0,to:0}),Ii.shadow.forEach(r=>e[r.key]={from:0,to:0}),Ii.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function vE({row:t,range:e,onChange:n}){var u,h;const r=N.useMemo(()=>Dz(t.maxLevel),[t.maxLevel]),o=(u=e.from)!=null?u:0,l=(h=e.to)!=null?h:0,c=N.useMemo(()=>o===0||l===0?0:bu(t.levels,o,l),[t.levels,o,l]);return s.jsxs("tr",{className:en.row,children:[s.jsx("td",{className:en.name,children:t.name}),s.jsx("td",{className:en.selectCell,children:s.jsx("select",{value:o,onChange:p=>n({from:Number(p.target.value),to:l}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsx("td",{className:en.selectCell,children:s.jsx("select",{value:l,onChange:p=>n({from:o,to:Number(p.target.value)}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsxs("td",{className:en.sumCell,children:[Ip(c)," XP"]})]})}function Rw({title:t,rows:e,ranges:n,setRanges:r}){const o=N.useMemo(()=>e.reduce((l,c)=>{const u=n[c.key]||{from:0,to:0};return l+bu(c.levels,u.from,u.to)},0),[e,n]);return s.jsxs("div",{className:en.panel,children:[s.jsx("div",{className:en.header,children:s.jsx("div",{className:en.title,children:t})}),s.jsxs("table",{className:en.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(l=>{var c;return s.jsx(vE,{row:l,range:(c=n[l.key])!=null?c:{from:0,to:0},onChange:u=>r(l.key,u)},l.key)})})]}),s.jsx("div",{className:en.footer,children:s.jsxs("div",{className:en.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[Ip(o)," XP"]})]})})]})}function $z(){const t=Iw(),[e,n]=N.useState(t.light),[r,o]=N.useState(t.shadow),[l,c]=N.useState(t.special),u=N.useMemo(()=>Ii.light.reduce((b,E)=>{const T=e[E.key];return b+(T?bu(E.levels,T.from,T.to):0)},0),[e]),h=N.useMemo(()=>Ii.shadow.reduce((b,E)=>{const T=r[E.key];return b+(T?bu(E.levels,T.from,T.to):0)},0),[r]),p=N.useMemo(()=>Ii.special.reduce((b,E)=>{const T=l[E.key];return b+(T?bu(E.levels,T.from,T.to):0)},0),[l]),f=u+h+p,y=()=>{const b=Iw();n(b.light),o(b.shadow),c(b.special)};return s.jsxs("div",{className:en.wrapper,children:[s.jsx(Rw,{title:"Light World",rows:Ii.light,ranges:e,setRanges:(b,E)=>n(T=>({...T,[b]:E}))}),s.jsx(Rw,{title:"Shadow World",rows:Ii.shadow,ranges:r,setRanges:(b,E)=>o(T=>({...T,[b]:E}))}),s.jsxs("div",{className:en.panel,children:[s.jsxs("div",{className:en.header,children:[s.jsx("div",{className:en.title,children:"Special Dungeons"}),s.jsx("button",{className:en.resetBtn,onClick:y,children:"RESET"})]}),s.jsxs("table",{className:en.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:Ii.special.map(b=>{var E;return s.jsx(vE,{row:b,range:(E=l[b.key])!=null?E:{from:0,to:0},onChange:T=>c(R=>({...R,[b.key]:T}))},b.key)})})]}),s.jsxs("div",{className:en.footer,children:[s.jsxs("div",{className:en.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[Ip(p)," XP"]})]}),s.jsxs("div",{className:en.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[Ip(f)," XP"]})]}),s.jsxs("div",{className:en.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function Oz(){return s.jsx("div",{style:{padding:12},children:s.jsx($z,{})})}const Uz=()=>s.jsx(Ot,{title:"Progression  Early Game"}),zz="_wrap_n2poq_31",Hz="_title_n2poq_33",Wz="_infoBox_n2poq_39",Gz="_infoTitle_n2poq_63",qz="_infoList_n2poq_73",Kz="_section_n2poq_89",Qz="_h2_n2poq_101",Xz="_h3_n2poq_103",Yz="_intro_n2poq_105",Jz="_ul_n2poq_107",Zz="_img_n2poq_113",bt={wrap:zz,title:Hz,infoBox:Wz,infoTitle:Gz,infoList:qz,section:Kz,h2:Qz,h3:Xz,intro:Yz,ul:Jz,img:Zz},eH=()=>{Yl();const t=[ba("first-weekend-guide-day1",900),ba("first-weekend-guide-day2",900),ba("first-weekend-guide-day3",900)];return s.jsxs("div",{className:bt.wrap,children:[s.jsx("h1",{className:bt.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:bt.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:bt.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:bt.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:bt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:bt.section,children:[s.jsx("h2",{className:bt.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:bt.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:bt.section,children:[s.jsx("h2",{className:bt.h2,children:"Day 1"}),s.jsx("h3",{className:bt.h3,children:"Level 13"}),s.jsxs("ul",{className:bt.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:bt.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:bt.section,children:[s.jsx("h3",{className:bt.h3,children:"Level 410"}),s.jsxs("ul",{className:bt.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:bt.section,children:[s.jsx("h2",{className:bt.h2,children:"Day 2"}),s.jsx("h3",{className:bt.h3,children:"Level 1015"}),s.jsxs("ul",{className:bt.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:bt.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:bt.section,children:[s.jsx("h2",{className:bt.h2,children:"Day 3"}),s.jsx("h3",{className:bt.h3,children:"Level 1520"}),s.jsxs("ul",{className:bt.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:bt.img,src:t[2],alt:"Day 3 overview"})]})]})},tH=()=>s.jsx(Ot,{title:"Max Item Stats Calculator"}),nH=()=>s.jsx(Ot,{title:"Fortress Package skip order (Early)"}),sH=()=>s.jsx(Ot,{title:"Underworld Pro Package skip order (Early)"}),rH=()=>s.jsx(Ot,{title:"Gem Calculator (Early)"}),iH=()=>s.jsx(Ot,{title:"Fortress attack duplication guide (Early)"}),oH=()=>s.jsx(Ot,{title:"Progression  Mid Game"}),aH="_wrap_1x7jo_31",lH="_header_1x7jo_35",cH="_titles_1x7jo_55",uH="_h1_1x7jo_57",dH="_lead_1x7jo_59",hH="_ctaRow_1x7jo_63",pH="_cta_1x7jo_63",mH="_section_1x7jo_85",fH="_sectionGrid_1x7jo_87",gH="_card_1x7jo_99",yH="_h2_1x7jo_103",xH="_h3_1x7jo_105",vH="_p_1x7jo_107",bH="_ul_1x7jo_111",wH="_ol_1x7jo_111",_H="_figure_1x7jo_117",jH="_figureNarrow_1x7jo_139",SH="_img_1x7jo_149",kH="_fallbackImg_1x7jo_151",EH="_figCaption_1x7jo_159",TH="_tableWrap_1x7jo_163",CH="_table_1x7jo_163",AH="_footer_1x7jo_217",NH="_tools_1x7jo_219",IH="_toolBtn_1x7jo_221",Ye={wrap:aH,header:lH,titles:cH,h1:uH,lead:dH,ctaRow:hH,cta:pH,section:mH,sectionGrid:fH,card:gH,h2:yH,h3:xH,p:vH,ul:bH,ol:wH,figure:_H,figureNarrow:jH,img:SH,fallbackImg:kH,figCaption:EH,tableWrap:TH,table:CH,footer:AH,tools:NH,toolBtn:IH},RH=1400;function PH(){const t=N.useMemo(()=>ba("goldxpcurve",RH),[]);return s.jsxs("div",{className:Ye.wrap,children:[s.jsxs("header",{className:Ye.header,children:[s.jsxs("div",{className:Ye.titles,children:[s.jsx("h1",{className:Ye.h1,children:"Dungeon Pause"}),s.jsx("p",{className:Ye.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:Ye.ctaRow,children:[s.jsx(Dt,{className:Ye.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(Dt,{className:Ye.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:Ye.section,children:[s.jsx("h2",{className:Ye.h2,children:"Worum gehts?"}),s.jsxs("p",{className:Ye.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:Ye.section,children:[s.jsx("h3",{className:Ye.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${Ye.figure} ${Ye.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Ye.img}):s.jsx("div",{className:Ye.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:Ye.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:Ye.sectionGrid,children:[s.jsxs("div",{className:Ye.card,children:[s.jsx("h3",{className:Ye.h3,children:"Start & Ende"}),s.jsxs("ul",{className:Ye.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:Ye.card,children:[s.jsx("h3",{className:Ye.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:Ye.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:Ye.section,children:[s.jsx("h3",{className:Ye.h3,children:"Vorgehen"}),s.jsxs("ol",{className:Ye.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:Ye.section,children:[s.jsx("h3",{className:Ye.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:Ye.tableWrap,children:s.jsxs("table",{className:Ye.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:Ye.footer,children:s.jsxs("div",{className:Ye.tools,children:[s.jsx(Dt,{className:Ye.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(Dt,{className:Ye.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const DH=()=>s.jsx(Ot,{title:"Dungeon Pause open XP Calculator"}),LH="_wrap_1uhww_3",MH="_headerBar_1uhww_15",FH="_title_1uhww_33",BH="_meta_1uhww_45",VH="_description_1uhww_55",$H="_section_1uhww_69",OH="_sectionTitle_1uhww_77",UH="_steps_1uhww_87",Yr={wrap:LH,headerBar:MH,title:FH,meta:BH,description:VH,section:$H,sectionTitle:OH,steps:UH};function zH(){return s.jsxs("div",{className:Yr.wrap,children:[s.jsxs("div",{className:Yr.headerBar,children:[s.jsx("h2",{className:Yr.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:Yr.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:Yr.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:Yr.section,children:[s.jsx("h3",{className:Yr.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:Yr.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:Yr.section,children:[s.jsx("h3",{className:Yr.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const HH=()=>s.jsx(Ot,{title:"Gem Calculator (Mid)"}),WH=()=>s.jsx(Ot,{title:"Calendar Skip"}),GH=()=>s.jsx(Ot,{title:"Progression  Late Game"}),qH="_layout_13sgm_29",KH="_side_13sgm_49",QH="_sideHead_13sgm_61",XH="_search_13sgm_71",YH="_spotBtn_13sgm_89",JH="_sideList_13sgm_109",ZH="_sideItem_13sgm_111",eW="_active_13sgm_119",tW="_sideTitle_13sgm_121",nW="_ico_13sgm_123",sW="_badge_13sgm_125",rW="_detail_13sgm_139",iW="_detailInner_13sgm_141",oW="_detailHead_13sgm_143",aW="_detailTitle_13sgm_145",lW="_empty_13sgm_147",cW="_grid_13sgm_151",uW="_card_13sgm_157",dW="_cardHead_13sgm_175",hW="_btnGrid_13sgm_177",pW="_itemBtn_13sgm_179",mW="_spotWrap_13sgm_203",fW="_spot_13sgm_89",gW="_spotHead_13sgm_227",yW="_spotSearch_13sgm_235",xW="_spotClose_13sgm_243",vW="_spotList_13sgm_253",bW="_spotItem_13sgm_255",wW="_spotItemEmpty_13sgm_259",_W="_spotCat_13sgm_261",jW="_spotLabel_13sgm_263",SW="_mark_13sgm_267",Ke={layout:qH,side:KH,sideHead:QH,search:XH,spotBtn:YH,sideList:JH,sideItem:ZH,active:eW,sideTitle:tW,ico:nW,badge:sW,detail:rW,detailInner:iW,detailHead:oW,detailTitle:aW,empty:lW,grid:cW,card:uW,cardHead:dW,btnGrid:hW,itemBtn:pW,spotWrap:mW,spot:fW,spotHead:gW,spotSearch:yW,spotClose:xW,spotList:vW,spotItem:bW,spotItemEmpty:wW,spotCat:_W,spotLabel:jW,mark:SW};function kW(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zc(t,e){if(!e)return t;const n=new RegExp(`(${kW(e)})`,"ig");return t.replace(n,`<mark class="${Ke.mark}">$1</mark>`)}function Pw(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(o=>o.sub2&&o.sub2.length))for(const o of n.sub2)o.sub2&&o.sub2.length?e+=o.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function EW(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const o of n.sub)if(o.sub2&&o.sub2.length)if(o.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of o.sub2)if(c.sub2&&c.sub2.length)for(const u of c.sub2)e.push({full:`${r}  ${o.label}  ${c.label}  ${u.label}`,catKey:n.key,subKey:o.key,sub2Key:u.key});else e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else for(const c of o.sub2)e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else e.push({full:`${r}  ${o.label}`,catKey:n.key,subKey:o.key})}return e}function TW(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const CW=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,o]=N.useState(()=>{var B;return((B=t==null?void 0:t[0])==null?void 0:B.key)||""}),[l,c]=N.useState(""),[u,h]=N.useState(!1),p=N.useRef(null),f=N.useMemo(()=>{const B=l.trim().toLowerCase();if(!B)return t;const I=v=>v.toLowerCase().includes(B);return t.map(v=>{const _=I(v.label),D=[];for(const k of v.sub||[]){const S=I(k.label);if(k.sub2&&k.sub2.length)if(k.sub2.some(F=>F.sub2&&F.sub2.length)){const F=[];for(const P of k.sub2)if(P.sub2&&P.sub2.length){const V=P.sub2.filter($=>I($.label));V.length&&F.push({...P,sub2:V})}else I(P.label)&&F.push(P);(S||F.length)&&D.push({...k,sub2:F})}else{const F=k.sub2.filter(P=>I(P.label));(S||F.length)&&D.push({...k,sub2:F})}else S&&D.push(k)}return _||D.length?{...v,sub:D.length?D:v.sub}:null}).filter(Boolean)},[t,l]),y=N.useMemo(()=>{const B=f.length?f:t,I=TW(B,r);return B.find(v=>v.key===I)||B[0]||null},[f,t,r]),b=N.useMemo(()=>EW(t),[t]),[E,T]=N.useState(""),R=N.useMemo(()=>{const B=E.trim().toLowerCase();return B?b.filter(I=>I.full.toLowerCase().includes(B)):b},[b,E]);N.useEffect(()=>{const B=I=>{const v=I.key.toLowerCase()==="k";(I.metaKey||I.ctrlKey)&&v&&(I.preventDefault(),h(!0),setTimeout(()=>{var _;return(_=p.current)==null?void 0:_.focus()},0)),I.key==="Escape"&&h(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[]);const L=N.useRef(null);N.useEffect(()=>{var B;n&&((B=L.current)==null||B.focus())},[n]);const O=()=>{var D;const B=l.trim().toLowerCase(),I=(B?b.find(k=>k.full.toLowerCase().includes(B)):b[0])||null;if(I){e({tab:I.catKey,sub:I.subKey,sub2:I.sub2Key});return}const v=y,_=(D=v==null?void 0:v.sub)==null?void 0:D[0];if(!(!v||!_))if(_.sub2&&_.sub2.length)if(_.sub2.some(S=>S.sub2&&S.sub2.length)){const S=_.sub2[0];S.sub2&&S.sub2.length?e({tab:v.key,sub:_.key,sub2:S.sub2[0].key}):e({tab:v.key,sub:_.key,sub2:S.key})}else e({tab:v.key,sub:_.key,sub2:_.sub2[0].key});else e({tab:v.key,sub:_.key})};return s.jsxs("div",{className:Ke.layout,children:[s.jsxs("div",{className:Ke.side,children:[s.jsxs("div",{className:Ke.sideHead,children:[s.jsx("input",{ref:L,className:Ke.search,type:"search",placeholder:"Suche",value:l,onChange:B=>c(B.target.value),onKeyDown:B=>{B.key==="Enter"&&O()}}),s.jsx("button",{className:Ke.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var B;return(B=p.current)==null?void 0:B.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:Ke.sideList,children:(f.length?f:t).map(B=>s.jsxs("div",{className:`${Ke.sideItem} ${(y==null?void 0:y.key)===B.key?Ke.active:""}`,onClick:()=>o(B.key),children:[s.jsxs("span",{className:Ke.sideTitle,children:[B.icon?s.jsx("span",{className:Ke.ico,"aria-hidden":!0,children:B.icon}):null,B.label]}),s.jsx("span",{className:Ke.badge,children:Pw(B.sub)})]},B.key))})]}),s.jsx("div",{className:Ke.detail,children:y?s.jsxs("div",{className:Ke.detailInner,children:[s.jsxs("div",{className:Ke.detailHead,children:[s.jsxs("h3",{className:Ke.detailTitle,children:[y.icon?s.jsx("span",{className:Ke.ico,"aria-hidden":!0,children:y.icon}):null,y.label]}),s.jsxs("div",{className:Ke.badge,children:[Pw(y.sub)," Eintrge"]})]}),s.jsx("div",{className:Ke.grid,children:(y.sub||[]).map(B=>{const I=B.sub2&&B.sub2.length>0,v=I&&B.sub2.some(_=>_.sub2&&_.sub2.length);return s.jsxs("div",{className:Ke.card,children:[s.jsx("div",{className:Ke.cardHead,dangerouslySetInnerHTML:{__html:Zc(B.label,l)}}),I?s.jsx("div",{className:Ke.btnGrid,children:v?B.sub2.flatMap(_=>_.sub2&&_.sub2.length?_.sub2.map(D=>s.jsx("button",{className:Ke.itemBtn,onClick:()=>e({tab:y.key,sub:B.key,sub2:D.key}),dangerouslySetInnerHTML:{__html:Zc(`${_.label}  ${D.label}`,l)}},`${_.key}__${D.key}`)):[s.jsx("button",{className:Ke.itemBtn,onClick:()=>e({tab:y.key,sub:B.key,sub2:_.key}),dangerouslySetInnerHTML:{__html:Zc(_.label,l)}},_.key)]):B.sub2.map(_=>s.jsx("button",{className:Ke.itemBtn,onClick:()=>e({tab:y.key,sub:B.key,sub2:_.key}),dangerouslySetInnerHTML:{__html:Zc(_.label,l)}},_.key))}):s.jsx("div",{className:Ke.btnGrid,children:s.jsx("button",{className:Ke.itemBtn,onClick:()=>e({tab:y.key,sub:B.key}),dangerouslySetInnerHTML:{__html:Zc(B.label,l)}})})]},B.key)})}),l&&y.sub&&y.sub.length>0&&y.sub.every(B=>!B.sub2||!B.sub2.length?!B.label.toLowerCase().includes(l.trim().toLowerCase()):B.sub2.some(v=>v.sub2&&v.sub2.length)?B.sub2.every(v=>v.sub2&&v.sub2.length?v.sub2.every(_=>!_.label.toLowerCase().includes(l.trim().toLowerCase())):!v.label.toLowerCase().includes(l.trim().toLowerCase())):B.sub2.every(v=>!v.label.toLowerCase().includes(l.trim().toLowerCase())))?s.jsxs("div",{className:Ke.empty,children:["Keine Treffer in ",y.label,"."]}):null]}):s.jsx("div",{className:Ke.empty,children:"Keine Kategorie gefunden."})}),u&&s.jsx("div",{className:Ke.spotWrap,onClick:()=>h(!1),children:s.jsxs("div",{className:Ke.spot,onClick:B=>B.stopPropagation(),children:[s.jsxs("div",{className:Ke.spotHead,children:[s.jsx("input",{ref:p,className:Ke.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:E,onChange:B=>T(B.target.value)}),s.jsx("button",{className:Ke.spotClose,onClick:()=>h(!1),children:"Esc"})]}),s.jsx("div",{className:Ke.spotList,children:R.length===0?s.jsx("div",{className:Ke.spotItemEmpty,children:"Keine Treffer"}):R.map((B,I)=>s.jsxs("div",{className:Ke.spotItem,onClick:()=>{h(!1),e({tab:B.catKey,sub:B.subKey,sub2:B.sub2Key})},children:[s.jsx("div",{className:Ke.spotCat,children:B.catKey}),s.jsx("div",{className:Ke.spotLabel,children:B.full})]},I))})]})})]})},AW={gamefeatures:w$,progression:_$,hellevator:j$,"legendary-dungeon":S$,events:k$,calculators:B$,infographics:V$,"class-book":$$,dungeons:O$},Dw={gamefeatures:{fortress:U$,underworld:sO,arenaam:oO},hellevator:{"hellevator-guide":sU},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":rU},events:{"event-list":iU,"event-cycle":oU},calculators:{"fortress-calculator":kU,"underworld-calculator":WU,"max-item-stats-calculator":GU,"gem-calculator":bz,"dungeon-pause-open-xp-calculator":Oz},progression:{early:Uz,mid:oH,late:GH}},Mg={gamefeatures:{arenaam:{"am-rune-bonuses":GO,"am-build-order":nU},underworld:{"underworld-calculator":rO,"underworld-pro-package-skip-order":iO},fortress:{"fortress-calculator":z$,"fortress-package-skip-order":tO,"fortress-attack-duplication":nO}},progression:{early:{"first-weekend-guide":eH,"max-item-stats-calculator":tH,"fortress-package-skip-order":nH,"underworld-pro-package-skip-order":sH,"gem-calculator":rH,"fortress-attack-duplication":iH},mid:{"dungeon-pause":PH,"dungeon-pause-open-xp-calculator":DH,"dungeon-pause-exit":zH,"gem-calculator":HH,"calendar-skip":WH}}};function NW(){const[t,e]=Yl(),n=t.get("tab")||"",r=t.get("sub")||"",o=t.get("sub2")||"";let l=null;n?n&&!r?l=AW[n]||null:n&&r&&!o?l=Dw[n]&&Dw[n][r]||null:n&&r&&o&&(l=Mg[n]&&Mg[n][r]&&Mg[n][r][o]||null):l=null;const c=u=>{const h=new URLSearchParams(t);h.set("tab",u.tab),u.sub?h.set("sub",u.sub):h.delete("sub"),u.sub2?h.set("sub2",u.sub2):h.delete("sub2"),e(h,{replace:!1})};return s.jsxs(gn,{children:[s.jsx("div",{className:xl.topWrap,children:s.jsx(p$,{logoSrc:b$,categories:kw,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:xl.divider}),s.jsx("div",{className:xl.contentArea,children:l?s.jsx(l,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:xl.placeholder,children:[s.jsx("h2",{className:xl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:xl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(CW,{categories:kw,onNavigate:c,autoFocusSearch:!1})]})})]})}const IW="_wrap_1353r_1",RW="_centerLogoWrap_1353r_21",PW="_centerLogoLink_1353r_37",DW="_centerLogo_1353r_21",LW="_arc_1353r_71",MW="_left_1353r_73",FW="_right_1353r_75",BW="_sub_1353r_77",VW="_full_1353r_79",$W="_arcItem_1353r_81",OW="_iconBtn_1353r_87",UW="_active_1353r_141",zW="_iconImg_1353r_151",HW="_placeholderIcon_1353r_155",WW="_placeholderText_1353r_173",GW="_iconLabel_1353r_177",Fn={wrap:IW,centerLogoWrap:RW,centerLogoLink:PW,centerLogo:DW,arc:LW,left:MW,right:FW,sub:BW,full:VW,arcItem:$W,iconBtn:OW,active:UW,iconImg:zW,placeholderIcon:HW,placeholderText:WW,iconLabel:GW},qW=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Us();let l=!1;try{const c=new URLSearchParams(o),u=c.get("tab"),h=c.get("sub"),f=new URL(t,window.location.origin).searchParams,y=f.get("tab"),b=f.get("sub");l=r==="sub"?u===y&&!!b&&h===b:u===y}catch(c){l=!1}return s.jsxs(Dt,{to:t,"aria-label":e,className:[Fn.iconBtn,r==="sub"?Fn.muted:"",l?Fn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Fn.iconImg}):s.jsx("div",{className:Fn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Fn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Fn.iconLabel,children:e})]})},Fg=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440})=>{const u=N.useMemo(()=>{const p=t.length;if(p===0)return[];let f=-90,y=90;e==="left"?(f=90,y=270):e==="sub"?n==="left"?(f=90,y=270):(f=-90,y=90):e==="full"&&(f=0,y=360);const b=(y-f)/(p+1),E=r?190:250;return t.map((T,R)=>{const O=(f+b*(R+1))*Math.PI/180;return{it:T,x:Math.cos(O)*E,y:Math.sin(O)*E}})},[t,e,n,r]),h=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return s.jsx("div",{className:[Fn.arc,e==="left"?Fn.left:"",e==="right"?Fn.right:"",e==="sub"?Fn.sub:"",e==="full"?Fn.full:""].join(" "),style:h,children:u.map(({it:p,x:f,y})=>s.jsx("div",{className:Fn.arcItem,style:{transform:`translate(${f}px, ${y}px)`},children:s.jsx(qW,{to:p.to,label:p.label,icon:p.icon,variant:o})},p.key))})},eu=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],KW={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},QW=({logoSrc:t})=>{var b,E,T;const[e]=Yl(),n=e.get("tab")||null,r=N.useMemo(()=>eu.filter(R=>R.side==="left"),[eu]),o=N.useMemo(()=>eu.filter(R=>R.side==="right"),[eu]),l=n?(b=KW[n])!=null?b:[]:[],c=(T=(E=eu.find(R=>R.key===n))==null?void 0:E.side)!=null?T:"right",u=N.useRef(null),[h,p]=N.useState(220),[f,y]=N.useState(440);return N.useEffect(()=>{const R=()=>{var _,D;const O=((D=(_=u.current)==null?void 0:_.offsetWidth)!=null?D:380)/2,I=Math.round(O+60),v=Math.round(I+220);p(I),y(v)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),s.jsxs("div",{className:Fn.wrap,children:[s.jsx("div",{className:Fn.centerLogoWrap,children:s.jsx(Dt,{to:"/community",className:Fn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:u,src:t,alt:"Community Hub",className:Fn.centerLogo})})}),s.jsx(Fg,{items:r.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"left",variant:"main",arcOffset:h}),s.jsx(Fg,{items:o.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&s.jsx(Fg,{items:l.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:f})]})},XW="_topWrap_1rivx_1",YW="_divider_1rivx_19",JW="_contentArea_1rivx_53",ZW="_placeholder_1rivx_63",eG="_placeholderTitle_1rivx_77",tG="_placeholderText_1rivx_91",vl={topWrap:XW,divider:YW,contentArea:JW,placeholder:ZW,placeholderTitle:eG,placeholderText:tG},nG="/test/assets/logo_communityhub-LVMLHRD6.png",sG=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function bE(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function rG(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,o,l]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(o)&&!Number.isNaN(l))return new Date(l,o-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function Bg(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function iG(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function oG(t){return t.avatar?t.avatar:`/avatars/${bE(t.code||t.name||"creator")}.png`}function aG(t){const e=bE(t.code||t.name||"creator"),n=[],r=Bg(t.youtube);r&&n.push({type:"YouTube",url:r});const o=Bg(t.twitch);o&&n.push({type:"Twitch",url:o});const l=Bg(t.discord);return l&&n.push({type:"Discord",url:l}),{id:`sheet-${e}`,name:t.name,avatar:oG(t),description:iG(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:rG(t.latestActivity),platforms:n}}const lG=sG.map(aG),cG=[{id:"c1",name:"PixelPaul",avatar:"/avatars/pixelpaul.png",description:"Indie Dev, Datenvisualisierung und Vite-Live-Streams.",language:"de",subscribers:54e3,totalViews:42e5,weeklyViews:58e3,weeklyPosts:4,lastActive:new Date(Date.now()-48*3600*1e3).toISOString(),platforms:[{type:"YouTube",url:"https://youtube.com/@pixelpaul",verified:!0},{type:"Twitch",url:"https://twitch.tv/pixelpaul"},{type:"Discord",url:"https://discord.gg/example"}]},{id:"c2",name:"DataDoro",avatar:"/avatars/datadoro.jpg",description:"Kurzclips zu SQL und Datenpipelines, humorvoll erklrt.",language:"de",subscribers:12e4,totalViews:118e5,weeklyViews:21e4,weeklyPosts:9,lastActive:new Date(Date.now()-144*3600*1e3).toISOString(),platforms:[{type:"TikTok",url:"https://tiktok.com/@datadoro",verified:!0},{type:"YouTube",url:"https://youtube.com/@datadoro"}]},{id:"c3",name:"StreamStats",avatar:"/avatars/streamstats.png",description:"Livestreams zu Analytics, ML Ops und Observability.",language:"en",subscribers:30500,totalViews:28e5,weeklyViews:32e3,weeklyPosts:2,lastActive:new Date(Date.now()-288*3600*1e3).toISOString(),platforms:[{type:"Twitch",url:"https://twitch.tv/streamstats",verified:!0},{type:"YouTube",url:"https://youtube.com/@streamstats"},{type:"Discord",url:"https://discord.gg/example2"}]},{id:"c4",name:"KiraCodes",avatar:"/avatars/kiracodes.jpg",description:"Fullstack Tutorials und LiveDebugging.",language:"de",subscribers:8800,totalViews:64e4,weeklyViews:16e3,weeklyPosts:3,lastActive:new Date(Date.now()-24*3600*1e3).toISOString(),platforms:[{type:"YouTube",url:"https://youtube.com/@kiracodes",verified:!0},{type:"Discord",url:"https://discord.gg/example3"}]},...lG];function wE(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function wo(t,e,n=wE){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function Vu(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function uG(t,e){const n=e==="asc"?1:-1;return(r,o)=>{switch(t){case"subs":return(r.subscribers-o.subscribers)*n;case"views":return(r.totalViews-o.totalViews)*n;case"activity":return(Vu(r.lastActive)-Vu(o.lastActive))*n*-1;case"language":return r.language.localeCompare(o.language)*n;default:return 0}}}function dG(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function Lw({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[dG(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:wo(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:wo(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:wo(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:wo(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",Vu(t.lastActive),"d ago"]})]})]},t.id)}function hG({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:wo(e.subscribers)}),s.jsx("td",{children:wo(e.totalViews)}),s.jsx("td",{children:wo(e.weeklyViews)}),s.jsx("td",{children:wo(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[Vu(e.lastActive),"d"]})]},e.id))})]})})}function _E(){const[t,e]=N.useState("static"),[n,r]=N.useState("cards"),[o,l]=N.useState("subs"),[c,u]=N.useState("desc"),[h,p]=N.useState("all"),[f,y]=N.useState("all"),[b,E]=N.useState(0),[T,R]=N.useState(30),[L,O]=N.useState(null),[B,I]=N.useState(""),[v,_]=N.useState(!1),[D,k]=N.useState(""),[S,A]=N.useState(null),F=t==="static"?cG:S!=null?S:[],P=N.useMemo(()=>{const K=new Set(F.map(X=>X.language));return Array.from(K).sort()},[F]),V=N.useMemo(()=>F.filter(K=>h==="all"?!0:K.language===h).filter(K=>f==="all"?!0:K.platforms.some(X=>X.type===f)).filter(K=>K.subscribers>=b).filter(K=>Vu(K.lastActive)<=T).slice().sort(uG(o,c)),[F,h,f,b,T,o,c]);N.useEffect(()=>{if(!L&&V.length){const K=V[Math.floor(Math.random()*V.length)];O(K.id)}},[V,L]);const $=N.useMemo(()=>V.find(K=>K.id===L)||null,[V,L]),ie=N.useMemo(()=>V.slice().sort((K,X)=>X.weeklyViews-K.weeklyViews).slice(0,5),[V]),H=N.useMemo(()=>V.slice().sort((K,X)=>X.weeklyPosts-K.weeklyPosts).slice(0,5),[V]);async function se(){k(""),_(!0);try{const K=await fetch(B,{headers:{Accept:"application/json"}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const X=await K.json(),ae=Array.isArray(X)?X:Array.isArray(X==null?void 0:X.data)?X.data:[];A(ae)}catch(K){k((K==null?void 0:K.message)||"Fetch failed")}finally{_(!1)}}return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:K=>e(K.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:K=>r(K.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:o,onChange:K=>l(K.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:c,onChange:K=>u(K.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:h,onChange:K=>p(K.target.value),children:[s.jsx("option",{value:"all",children:"All"}),P.map(K=>s.jsx("option",{value:K,children:K.toUpperCase()},K))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:f,onChange:K=>y(K.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:b,onChange:K=>E(Number(K.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:T,onChange:K=>R(Number(K.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:B,onChange:K=>I(K.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:se,disabled:!B||v,children:v?"Loading":"Fetch"})]}),D&&s.jsx("div",{className:"cc-api-error",children:D}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),$&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!V.length)return;const K=V[Math.floor(Math.random()*V.length)];O(K.id)},children:"Shuffle"})]}),s.jsx(Lw,{c:$})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[n==="cards"&&s.jsx("div",{className:"cc-grid",children:V.map(K=>s.jsx(Lw,{c:K},K.id))}),n==="table"&&s.jsx(hG,{data:V}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(V,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:ie.map(K=>s.jsxs("li",{children:[s.jsx("span",{children:K.name}),s.jsx("span",{className:"cc-top-val",children:wE(K.weeklyViews)})]},K.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:H.map(K=>s.jsxs("li",{children:[s.jsx("span",{children:K.name}),s.jsx("span",{className:"cc-top-val",children:K.weeklyPosts})]},K.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function jE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function SE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function kE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function EE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const pG={creators:_E,scans:jE,predictions:SE,news:kE,feedback:EE};function mG(){const[t]=Yl(),e=t.get("tab")||"",n=pG[e];return s.jsxs(gn,{children:[s.jsx("div",{className:vl.topWrap,children:s.jsx(QW,{logoSrc:nG,titleI18nKey:"community.index.title"})}),s.jsx("div",{className:vl.divider}),s.jsx("div",{className:vl.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:vl.placeholder,children:[s.jsx("h2",{className:vl.placeholderTitle,children:"Community"}),s.jsx("p",{className:vl.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function fG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(Dt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(Dt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function gG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function yG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function xG(){return s.jsx(gn,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(vG,{}),right:s.jsx(bG,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Vg,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Vg,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),s.jsx(Vg,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function vG(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(zh,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(zh,{to:"/guild-hub/fusion",children:"Fusion"}),s.jsx(zh,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(zh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function bG(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Vg({to:t,title:e,desc:n}){return s.jsxs(Dt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function zh({to:t,children:e}){return s.jsx(Dt,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function wG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Planner"})})}function _G(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Fusion"})})}function jG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Waitlist"})})}function SG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Activity"})})}function kG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Imports"})})}function EG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Announcements"})})}function TG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Events"})})}function CG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Roles"})})}function AG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Settings"})})}const NG=[{icon:s.jsx(X0,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(bC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(dC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],IG=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],RG=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function PG(){return s.jsx(gn,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Dt,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(DG,{}),right:s.jsx(LG,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:NG.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(Dt,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:IG.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(Q0,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function DG(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(Dt,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(Dt,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(Dt,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function LG(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:RG.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const MG=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function FG(){return s.jsx(gn,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:MG.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:BG(t.severity)},children:t.severity})]},t.id))})]})})}function BG(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const Nr={background:"#152A42",borderColor:"#2B4C73"},Nl={background:"#1A2F4A",borderColor:"#2B4C73"},$g=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function VG(){const{data:t,loading:e,refreshing:n,error:r,refresh:o}=zG(),l=Pe.useMemo(()=>[{label:"Total uploads",value:rr(t.metrics.totalUploads),hint:`${rr(t.metrics.last24h)} in the last 24h`,icon:s.jsx(M4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:$u(t.metrics.successRate),hint:`${rr(t.metrics.failed)} failed`,icon:s.jsx(A4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?Og(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${Og(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(D4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:Mw(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx($4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:rr(t.metrics.uniqueUploaders),hint:`${rr(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(X0,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:rr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(A_,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(gn,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx($G,{breakdown:t.statusBreakdown,onRefresh:o,loading:e,refreshing:n}),right:s.jsx(OG,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:l.map(c=>s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Nl,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Il(c.status)},"aria-hidden":"true"}),_x(c.status)]}),s.jsx("span",{className:"font-semibold",children:rr(c.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:Il(c.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[$u(c.share)," of window"]})]},c.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Nl,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:c.hourLabel}),s.jsxs("span",{children:[rr(c.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Il("success")},"aria-hidden":"true"}),"Success ",rr(c.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Il("failed")},"aria-hidden":"true"}),"Failed ",rr(c.failed)]})]})]},c.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:Nr,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(T_,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(Q0,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(j4,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(c=>{var u,h,p,f;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),s.jsx("span",{children:s.jsx(UG,{status:c.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(h=(u=c.uploaderName)!=null?u:c.uploaderId)!=null?h:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(f=(p=c.guildName)!=null?p:c.guildId)!=null?f:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?Og(c.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?Mw(c.fileSizeBytes):""})]},c.id)})})]})]})})}function $G({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(cC,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(o=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Il(o.status)},"aria-hidden":"true"}),_x(o.status)]}),s.jsx("span",{children:$u(o.share)})]},o.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(T_,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(qh,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(qh,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(qh,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function OG({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(A_,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(o=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Nl,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:o.code}),s.jsxs("span",{className:"font-semibold",children:["",o.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",o.lastSeen?o.lastSeen.toLocaleString():"Unknown"]})]},o.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(Q0,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(o=>{var l;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Nl,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:o.id}),s.jsx("span",{children:o.uploadedAt?o.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(l=o.errorCode)!=null?l:"No error code provided"})]},o.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(X0,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(o=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Nl,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:o.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",$u(o.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:rr(o.count)})]},o.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Nr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(z4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(o=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Nl,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:o.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",$u(o.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:rr(o.count)})]},o.id))})]})]})}function UG({status:t}){const e=Il(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(qh,{className:"h-3 w-3","aria-hidden":"true"}),_x(t)]})}function zG(){const[t,e]=Pe.useState($g),[n,r]=Pe.useState(!0),[o,l]=Pe.useState(!1),[c,u]=Pe.useState(null),h=Pe.useCallback(async(f=!1)=>{f?l(!0):r(!0);try{const y=Kp(wt,"scanUploads"),b=Ri(y,iu("uploadedAt","desc"),Pi(100)),T=(await ei(b)).docs.map(R=>HG(R.id,R.data()));T.length>0?(e(T),u(null)):(e($g),u("No uploads in window  showing fallback snapshot"))}catch(y){console.error("[ScansUploaded] Failed to load Firestore data",y),u("Live data unavailable  fallback snapshot active"),e($g)}finally{f?l(!1):r(!1)}},[]);Pe.useEffect(()=>{h(!1)},[h]);const p=Pe.useMemo(()=>GG(t),[t]);return{loading:n,refreshing:o,error:c,data:p,refresh:Pe.useCallback(()=>h(!0),[h])}}function HG(t,e){const n=WG(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof hn?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function WG(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function GG(t){var A,F;const e=new Map,n=new Map,r=new Map,o=new Map,l=[];let c=0,u=0;const p=Date.now()-1440*60*1e3,f=new Map;t.forEach(P=>{var H,se,K,X,ae,le,W,ne,ye,je,Ee,ge,Ae,Ie,De,rt,Lt;const V=(H=e.get(P.status))!=null?H:0;if(e.set(P.status,V+1),P.uploadedAt&&P.uploadedAt.getTime()>=p&&(u+=1),P.processingMs!=null&&l.push(P.processingMs),P.fileSizeBytes!=null&&(c+=P.fileSizeBytes),P.status==="failed"&&P.errorCode){const ht=(se=n.get(P.errorCode))!=null?se:{count:0,lastSeen:null};n.set(P.errorCode,{count:ht.count+1,lastSeen:!ht.lastSeen||P.uploadedAt&&ht.lastSeen<P.uploadedAt?P.uploadedAt:ht.lastSeen})}const $=(X=(K=P.uploaderId)!=null?K:P.uploaderName)!=null?X:`anon-${P.id}`,ie=(W=r.get($))!=null?W:{name:(le=(ae=P.uploaderName)!=null?ae:P.uploaderId)!=null?le:"Unknown",success:0,total:0};if(r.set($,{name:(ye=(ne=P.uploaderName)!=null?ne:P.uploaderId)!=null?ye:"Unknown",success:ie.success+(P.status==="success"?1:0),total:ie.total+1}),P.guildId||P.guildName){const ht=(Ee=(je=P.guildId)!=null?je:P.guildName)!=null?Ee:`guild-${P.id}`,jt=(Ie=o.get(ht))!=null?Ie:{name:(Ae=(ge=P.guildName)!=null?ge:P.guildId)!=null?Ae:"Unknown",success:0,total:0};o.set(ht,{name:(rt=(De=P.guildName)!=null?De:P.guildId)!=null?rt:"Unknown",success:jt.success+(P.status==="success"?1:0),total:jt.total+1})}if(P.uploadedAt){const ht=new Date(P.uploadedAt);ht.setMinutes(0,0,0);const jt=ht.toISOString(),gt=(Lt=f.get(jt))!=null?Lt:{hourLabel:KG(ht),timestamp:ht,total:0,success:0,failed:0};f.set(jt,{hourLabel:gt.hourLabel,timestamp:gt.timestamp,total:gt.total+1,success:gt.success+(P.status==="success"?1:0),failed:gt.failed+(P.status==="failed"?1:0)})}});const y=t.length,b=(A=e.get("success"))!=null?A:0,E=(F=e.get("failed"))!=null?F:0,T=l.length?l.reduce((P,V)=>P+V,0)/l.length:null,R=l.length?qG(l,95):null,L=r.size,O=o.size,B=Array.from(e.entries()).map(([P,V])=>({status:P,count:V,share:y?V/y:0})).sort((P,V)=>V.count-P.count),I=Array.from(f.values()).sort((P,V)=>V.timestamp.getTime()-P.timestamp.getTime()).slice(0,12),v=Array.from(n.entries()).map(([P,V])=>({code:P,...V})).sort((P,V)=>V.count-P.count).slice(0,6),_=[...t].sort((P,V)=>{var $,ie,H,se;return((ie=($=V.uploadedAt)==null?void 0:$.getTime())!=null?ie:0)-((se=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?se:0)}).slice(0,12),D=t.filter(P=>P.status==="failed").sort((P,V)=>{var $,ie,H,se;return((ie=($=V.uploadedAt)==null?void 0:$.getTime())!=null?ie:0)-((se=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?se:0)}),k=Array.from(r.entries()).map(([P,V])=>({id:P,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((P,V)=>V.count-P.count).slice(0,5),S=Array.from(o.entries()).map(([P,V])=>({id:P,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((P,V)=>V.count-P.count).slice(0,5);return{metrics:{totalUploads:y,last24h:u,successRate:y?b/y:0,failed:E,avgProcessingMs:T,p95ProcessingMs:R,uniqueUploaders:L,uniqueGuilds:O,totalFileSizeBytes:c},statusBreakdown:B,timeline:I,issues:v,recentFailures:D,recentUploads:_,topUploaders:k,topGuilds:S}}function qG(t,e){const n=[...t].sort((u,h)=>u-h);if(n.length===0)return 0;const r=e/100*(n.length-1),o=Math.floor(r),l=Math.ceil(r);if(o===l)return n[o];const c=r-o;return n[o]*(1-c)+n[l]*c}function rr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function $u(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function Og(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function Mw(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function Il(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function _x(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function KG(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function QG(){return s.jsx(gn,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Bt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function XG(){return s.jsx("div",{style:Bt.wrap,children:s.jsxs("div",{style:Bt.grid,children:[s.jsxs("aside",{style:Bt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:Bt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:Bt.groupLabel,children:"Allgemein"}),s.jsx(os,{to:"list-views",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"List-View Switcher"}),s.jsx(os,{to:"rescan-widget",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(os,{to:"upload-sim",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"Upload Simulator"}),s.jsx(os,{to:"hud/game-buttons",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(os,{to:"theme-maker",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"Theme / Template Maker"}),s.jsx(os,{to:"theme-maker-pro",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:Bt.groupLabel,children:"Guide Hub Demos"}),s.jsx(os,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:Bt.groupLabel,children:"Graphics / Portraits"}),s.jsx(os,{to:"portrait-maker",style:({isActive:t})=>({...Bt.link,...t?Bt.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:Bt.tile,children:s.jsx(x_,{})})]})})}const YG="_page_1kokx_1",JG="_topBar_1kokx_17",ZG="_tabs_1kokx_31",eq="_tab_1kokx_31",tq="_tabActive_1kokx_63",nq="_searchWrap_1kokx_73",sq="_input_1kokx_85",rq="_stickyIcons_1kokx_105",iq="_iconBtn_1kokx_129",oq="_tableWrap_1kokx_161",aq="_table_1kokx_161",lq="_th_1kokx_181",cq="_td_1kokx_181",uq="_row_1kokx_201",dq="_chips_1kokx_219",hq="_chip_1kokx_219",pq="_badges_1kokx_249",mq="_badge_1kokx_249",fq="_badgeMax_1kokx_275",gq="_badgeAchiev_1kokx_277",yq="_badgeX2_1kokx_279",xq="_badgeX12_1kokx_281",vq="_badgeX60_1kokx_283",bq="_section_1kokx_289",wq="_sectionHeader_1kokx_297",_q="_cardList_1kokx_315",jq="_card_1kokx_315",Sq="_cardMax_1kokx_353",kq="_iconXL_1kokx_355",Eq="_split_1kokx_369",Tq="_left_1kokx_379",Cq="_leftBtn_1kokx_399",Aq="_leftBtnActive_1kokx_411",Nq="_detail_1kokx_413",Iq="_grid_1kokx_433",Rq="_tile_1kokx_443",Pq="_drawer_1kokx_457",Dq="_timeline_1kokx_487",Lq="_node_1kokx_493",Mq="_dot_1kokx_501",Be={page:YG,topBar:JG,tabs:ZG,tab:eq,tabActive:tq,searchWrap:nq,input:sq,stickyIcons:rq,iconBtn:iq,tableWrap:oq,table:aq,th:lq,td:cq,row:uq,chips:dq,chip:hq,badges:pq,badge:mq,badgeMax:fq,badgeAchiev:gq,badgeX2:yq,badgeX12:xq,badgeX60:vq,section:bq,sectionHeader:wq,cardList:_q,card:jq,cardMax:Sq,iconXL:kq,split:Eq,left:Tq,leftBtn:Cq,leftBtnActive:Aq,detail:Nq,grid:Iq,tile:Rq,drawer:Pq,timeline:Dq,node:Lq,dot:Mq},Fw=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function or(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function Fq(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function Bq(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Rp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Be.iconBtn,title:t||"Rune",children:e})}function jx({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Be.iconXL,title:t||"Rune",children:e})}function Vq(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function id({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Be.chips,children:e.map((n,r)=>s.jsx("span",{className:Be.chip,children:n},r))})}function od({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Be.badgeMax}),Fq(t)&&n.push({label:"Achievement",cls:Be.badgeAchiev});const r=Bq(t);return r==="x2"&&n.push({label:"x2",cls:Be.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Be.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Be.badgeX60}),n.length===0?null:s.jsx("div",{className:Be.badges,children:n.map((o,l)=>{var c;return s.jsx("span",{className:`${Be.badge} ${(c=o.cls)!=null?c:""}`,children:o.label},l)})})}function $q(t){const e=t.trim().toLowerCase();return e?Fw.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Fw}function Oq({data:t}){const e=Math.max(...t.map(o=>or(o.amount))),n=N.useMemo(()=>Array.from(new Set(t.map(o=>o.tier||"(no tier)"))),[t]);function r(o){const l=document.querySelector(`[data-tier="${CSS.escape(o||"(no tier)")}"`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Be.stickyIcons,children:n.map((o,l)=>s.jsx("div",{onClick:()=>r(o),children:s.jsx(Rp,{label:o||"(no tier)"})},l))}),s.jsx("div",{className:Be.tableWrap,children:s.jsxs("table",{className:Be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Be.th,style:{width:42}}),s.jsx("th",{className:Be.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Be.th,children:"Bonuses"}),s.jsx("th",{className:Be.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((o,l)=>{const c=Math.abs(or(o.amount)-e)<1e-6;return s.jsxs("tr",{className:Be.row,"data-tier":o.tier||"(no tier)",children:[s.jsx("td",{className:Be.td,children:s.jsx(Rp,{label:o.tier||""})}),s.jsx("td",{className:Be.td,children:o.amount}),s.jsx("td",{className:Be.td,children:s.jsx(id,{r:o})}),s.jsx("td",{className:Be.td,children:s.jsx(od,{r:o,isMax:c})})]},l)})})]})})]})}function Uq({data:t}){const e=Vq(t),n=Math.max(...t.map(r=>or(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,o])=>s.jsxs("section",{className:Be.section,children:[s.jsx("div",{className:Be.sectionHeader,children:r}),s.jsx("div",{className:Be.cardList,children:o.map((l,c)=>{const u=Math.abs(or(l.amount)-n)<1e-6;return s.jsxs("div",{className:`${Be.card} ${u?Be.cardMax:""}`,children:[s.jsx(jx,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:l.amount}),s.jsx(od,{r:l,isMax:u})]}),s.jsx(id,{r:l})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function zq({data:t}){var c;const e=Array.from(new Set(t.map(u=>u.tier||"(no tier)"))),[n,r]=N.useState((c=e[0])!=null?c:""),o=t.filter(u=>(u.tier||"(no tier)")===n),l=Math.max(...t.map(u=>or(u.amount)));return s.jsxs("div",{className:Be.split,children:[s.jsx("div",{className:Be.left,children:e.map(u=>s.jsxs("button",{className:`${Be.leftBtn} ${u===n?Be.leftBtnActive:""}`,onClick:()=>r(u),children:[s.jsx(Rp,{label:u}),s.jsx("span",{children:u})]},u))}),s.jsxs("div",{className:Be.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(jx,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),o.map((u,h)=>{const p=Math.abs(or(u.amount)-l)<1e-6;return s.jsxs("div",{className:Be.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:u.amount}),s.jsx(od,{r:u,isMax:p})]}),s.jsx(id,{r:u})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function Hq({data:t}){const[e,n]=N.useState(null),r=Math.max(...t.map(o=>or(o.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Be.grid,children:t.map((o,l)=>s.jsx("div",{className:Be.tile,onClick:()=>n(o),title:o.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Rp,{label:o.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:o.amount})]})},l))}),e&&s.jsxs("div",{className:Be.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(jx,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Be.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(od,{r:e,isMax:Math.abs(or(e.amount)-r)<1e-6})}),s.jsx(id,{r:e})]})]})}function Wq({data:t}){const e=Math.max(...t.map(r=>or(r.amount))),n=[...t].sort((r,o)=>or(r.amount)-or(o.amount));return s.jsx("div",{className:Be.timeline,children:n.map((r,o)=>{const l=Math.abs(or(r.amount)-e)<1e-6;return s.jsxs("div",{className:Be.node,children:[s.jsx("div",{className:Be.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(od,{r,isMax:l})]}),s.jsx(id,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},o)})})}const Gq=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function qq(){const[t,e]=N.useState("A: Compact Table"),[n,r]=N.useState(""),o=$q(n);return s.jsxs("div",{className:Be.page,children:[s.jsxs("div",{className:Be.topBar,children:[s.jsx("div",{className:Be.tabs,children:Gq.map(l=>s.jsx("button",{onClick:()=>e(l),className:`${Be.tab} ${t===l?Be.tabActive:""}`,children:l},l))}),s.jsx("div",{className:Be.searchWrap,children:s.jsx("input",{className:Be.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:l=>r(l.target.value)})})]}),t==="A: Compact Table"&&s.jsx(Oq,{data:o}),t==="B: Card Track"&&s.jsx(Uq,{data:o}),t==="C: Two-Pane"&&s.jsx(zq,{data:o}),t==="D: Icon Grid + Drawer"&&s.jsx(Hq,{data:o}),t==="E: Timeline"&&s.jsx(Wq,{data:o})]})}function Kq(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(os,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const ue={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},Qq=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),fa={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function Xq(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function rc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",Xq(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function TE(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},u={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},f={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},y={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},b={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},E={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:u,neon:h,plasma:p,aurora:f,satin:y,matte:b,holo:E}[t.material]}function Po(t){const e={color:ue.title,borderColor:ue.border,...TE(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const ad=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function ic({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function Yq({fx:t,children:e}){const n=rc(t),r=Po(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(ic,{fx:t,clip:o}),t.withIcon&&s.jsx(k_,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function Jq({fx:t,children:e}){const n=rc(t),r=Po(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(ic,{fx:t,clip:o}),t.withIcon&&s.jsx(E_,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function Zq({fx:t,children:e}){const n=rc(t),r=Po(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(ic,{fx:t,clip:o}),t.withIcon&&s.jsx(zu,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function eK({fx:t,children:e}){const n=rc(t),r=Po(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${ue.tile}, ${ue.active})`}}),s.jsx(ic,{fx:t,clip:o}),t.withIcon&&s.jsx(C_,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function tK({fx:t,children:e}){const n=rc(t),r=Po(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(ic,{fx:t}),t.withIcon&&s.jsx(Mp,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function nK({fx:t,tabs:e}){const[n,r]=N.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:ue.tile,border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:e.map((o,l)=>s.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?ue.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&s.jsx(Mp,{size:14,className:"inline mr-1"}),o]},l))})}function sK({fx:t}){const e=rc(t),n=Po(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(N_,{})})}const L0={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function rK({fx:t,setFx:e}){const n=(u,h)=>e(p=>({...p,[u]:h})),r=u=>e(h=>({...h,[u]:!h[u]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:ue.tile,border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ue.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ue.title},children:"Presets"}),Object.keys(L0).map(u=>s.jsx("button",{onClick:()=>e(h=>L0[u](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:ue.btn,borderColor:ue.border,color:ue.title},children:u},u))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ue.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ue.title},children:"Material"}),o.map(u=>s.jsx("button",{onClick:()=>n("material",u),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===u?"":"opacity-70"}`,style:{backgroundColor:t.material===u?ue.active:ue.btn,borderColor:ue.border,color:ue.title},children:u},u)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:ue.title},children:"Size"}),["sm","md","lg"].map(u=>s.jsx("button",{onClick:()=>n("size",u),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===u?"":"opacity-70"}`,style:{backgroundColor:t.size===u?ue.active:ue.btn,borderColor:ue.border,color:ue.title},children:u.toUpperCase()},u)),s.jsx("button",{onClick:()=>e(u=>({...u,withIcon:!u.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?ue.active:ue.btn,borderColor:ue.border,color:ue.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(u=>({...u,disabled:!u.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?ue.active:ue.btn,borderColor:ue.border,color:ue.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ue.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ue.title},children:"Core FX"}),l.map(([u,h])=>s.jsx("button",{onClick:()=>r(u),className:`px-2.5 py-1 rounded-md border text-xs ${t[u]?"":"opacity-70"}`,style:{backgroundColor:t[u]?ue.active:ue.btn,borderColor:ue.border,color:ue.title},children:h},u))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ue.title},children:"Advanced"}),c.map(([u,h])=>s.jsx("button",{onClick:()=>r(u),className:`px-2.5 py-1 rounded-md border text-xs ${t[u]?"":"opacity-70"}`,style:{backgroundColor:t[u]?ue.active:ue.btn,borderColor:ue.border,color:ue.title},children:h},u))]}),s.jsx("button",{onClick:()=>e(fa),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:ue.btn,borderColor:ue.border,color:ue.title},children:"Reset"})]})}function At({fx:t,className:e="",style:n={},children:r,clip:o}){const l=Po(t);return s.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[s.jsx(ic,{fx:t,clip:o}),s.jsx("div",{className:"relative z-10",children:r})]})}function as({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:ue.tile,border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:n})}function iK({fx:t}){const[e,n]=N.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return s.jsx(At,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:ue.border},children:s.jsx("button",{onClick:()=>n(c=>l?c.filter(u=>u!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function oK({fx:t}){return s.jsxs(as,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:ue.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(At,{fx:t,className:"rounded-xl border p-2",style:{borderColor:ue.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(N_,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function aK({fx:t}){return s.jsxs(At,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(At,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:ue.border},children:e},e))})]})}function lK({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(At,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:ue.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function cK({fx:t}){const[e,n]=N.useState(.66);return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Meter / Energy Bar"}),s.jsx(At,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:ue.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function uK({fx:t}){return s.jsxs(as,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:ue.title},children:"Badge / Medal"}),s.jsxs(At,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:ue.border},children:[s.jsx(zu,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function dK({fx:t}){const[e,n]=N.useState(!1);return s.jsxs(as,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ue.title},children:"Toast / Notification"}),s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(At,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:ue.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function hK({fx:t}){const[e,n]=N.useState(!0);return s.jsxs(as,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ue.title},children:"Toggle Switch"}),s.jsxs(At,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:ue.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function pK({fx:t}){const[e,n]=N.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Dropdown HUD"}),s.jsx(At,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:ue.border},children:s.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(At,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:ue.border},children:r.map(o=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function mK({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,u=56+Math.sin(o)*l;return s.jsx(At,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:u,borderColor:ue.border},children:n},n)}),s.jsx(At,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:ue.border},children:"Menu"})]})]})}function fK({fx:t}){const e=[1,2,3,4,5],[n,r]=N.useState(2);return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>s.jsx(At,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:ue.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function gK({fx:t}){const[e,n]=N.useState(!1);return s.jsxs(as,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ue.title},children:"Modal HUD"}),s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(At,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:ue.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function yK({fx:t}){const[e,n]=N.useState("");return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Search HUD"}),s.jsx(At,{fx:t,className:"rounded-lg border p-2",style:{borderColor:ue.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function xK({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=N.useState("Bravo");return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsx(At,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:ue.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function vK({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=N.useState(1);return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>s.jsxs(Pe.Fragment,{children:[s.jsx(At,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:ue.border},children:l+1}),l<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(At,{fx:t,className:"rounded-md border",style:{borderColor:ue.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function bK({fx:t}){const e=["","","","","",""];return s.jsxs(as,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ue.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(At,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:ue.border},children:n},r))})]})}function wK(){const[t,e]=N.useState(fa);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:ue.bg,color:ue.txt},children:[s.jsx(Qq,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(J4,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:ue.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:ue.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(rK,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ue.tile,border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ue.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(Yq,{fx:t,children:[s.jsx(k_,{size:16})," Diamond"]}),s.jsxs(Jq,{fx:t,children:[s.jsx(E_,{size:16})," Hex"]}),s.jsxs(Zq,{fx:t,children:[s.jsx(zu,{size:16})," Octagon/Shield"]}),s.jsxs(eK,{fx:t,children:[s.jsx(C_,{size:16})," Shard"]}),s.jsxs(tK,{fx:t,children:[s.jsx(Mp,{size:16})," Pill/Chip"]}),s.jsx(sK,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:ue.tile,border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:ue.title},children:"Tabs"}),s.jsx(nK,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ue.tile,border:t.baseBorder?`1px solid ${ue.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ue.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(iK,{fx:t}),s.jsx(oK,{fx:t}),s.jsx(aK,{fx:t}),s.jsx(lK,{fx:t}),s.jsx(cK,{fx:t}),s.jsx(uK,{fx:t}),s.jsx(dK,{fx:t}),s.jsx(hK,{fx:t}),s.jsx(pK,{fx:t}),s.jsx(mK,{fx:t}),s.jsx(fK,{fx:t}),s.jsx(gK,{fx:t}),s.jsx(yK,{fx:t}),s.jsx(xK,{fx:t}),s.jsx(vK,{fx:t}),s.jsx(bK,{fx:t})]})]})}),s.jsx(_K,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:ue.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function _K(){return N.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(fa.material),"Material type present");const e=Po(fa);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=TE({...fa,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof fa[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(L0).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...fa});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const wu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},Bw={Arcade:{...wu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...wu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},bl={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},CE={display:"grid",gap:8,alignItems:"center"};function ki({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...CE,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ug({label:t,value:e,min:n,max:r,onChange:o}){return s.jsxs("label",{style:{...CE,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function Vw(){const[t,e]=Pe.useState(wu),n=Pe.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${h.gap}px`))};Pe.useEffect(()=>{r(t)},[t]);const o=h=>e(Bw[h]),l=()=>e(wu),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme.json",p.click()},u=async h=>{const p=await h.text();e({...wu,...JSON.parse(p)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Bw).map(h=>s.jsx("button",{style:bl,onClick:()=>o(h),children:h},h)),s.jsx("button",{style:bl,onClick:l,children:"Default"}),s.jsx("button",{style:bl,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...bl,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&u(h.target.files[0]),style:{display:"none"}})]})]}),s.jsx(ki,{label:"Page",value:t.page,onChange:h=>e(p=>({...p,page:h}))}),s.jsx(ki,{label:"Tile",value:t.tile,onChange:h=>e(p=>({...p,tile:h}))}),s.jsx(ki,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(p=>({...p,tileHover:h}))}),s.jsx(ki,{label:"Nav",value:t.nav,onChange:h=>e(p=>({...p,nav:h}))}),s.jsx(ki,{label:"Active",value:t.active,onChange:h=>e(p=>({...p,active:h}))}),s.jsx(ki,{label:"Text",value:t.text,onChange:h=>e(p=>({...p,text:h}))}),s.jsx(ki,{label:"Text Soft",value:t.textSoft,onChange:h=>e(p=>({...p,textSoft:h}))}),s.jsx(ki,{label:"Title",value:t.title,onChange:h=>e(p=>({...p,title:h}))}),s.jsx(ki,{label:"Line",value:t.line,onChange:h=>e(p=>({...p,line:h}))}),s.jsx(Ug,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(p=>({...p,radius:h}))}),s.jsx(Ug,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(p=>({...p,shadow:h}))}),s.jsx(Ug,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(p=>({...p,gap:h}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...bl,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:bl,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,p)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const M0={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},$w={"SFDataHub (Default)":{...M0},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},hm={display:"grid",gap:8,alignItems:"center"},ca={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},ua={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function nr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...hm,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ei({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return s.jsxs("label",{style:{...hm,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:u=>l(parseFloat(u.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:u=>l(parseFloat(u.target.value||"0"))})]})}function jK({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...hm,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function Ow(){const[t,e]=Pe.useState(M0),n=Pe.useRef(null),r=p=>{const f=n.current;f&&(f.style.setProperty("--page",p.page),f.style.setProperty("--tile",p.tile),f.style.setProperty("--tile-hover",p.tileHover),f.style.setProperty("--nav",p.nav),f.style.setProperty("--active",p.active),f.style.setProperty("--text",p.text),f.style.setProperty("--text-soft",p.textSoft),f.style.setProperty("--title",p.title),f.style.setProperty("--line",p.line),f.style.setProperty("--accent",p.accent),f.style.setProperty("--success",p.success),f.style.setProperty("--warning",p.warning),f.style.setProperty("--danger",p.danger),f.style.setProperty("--radius",`${p.radius}px`),f.style.setProperty("--border",`${p.border}px`),f.style.setProperty("--gap",`${p.gap}px`),f.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),f.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),f.style.setProperty("--noise",`${p.noise}%`),f.style.setProperty("--font",p.fontFamily),f.style.setProperty("--font-size",`${p.fontSize}px`),f.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),f.style.setProperty("--glow",`${p.glow}`),f.style.setProperty("--scanlines",`${p.scanlines}`))};Pe.useEffect(()=>{r(t)},[t]);const o=(p,f)=>e(y=>({...y,[p]:f})),l=p=>e(f=>({...f,...$w[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),f=document.createElement("a");f.href=URL.createObjectURL(p),f.download="sfdatahub-theme-pro.json",f.click()},u=async p=>{try{const f=await p.text(),y=JSON.parse(f);e({...t,...y})}catch(f){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys($w).map(p=>s.jsx("button",{style:ca,onClick:()=>l(p),children:p},p)),s.jsx("button",{style:ca,onClick:()=>e(M0),children:"Reset"}),s.jsx("button",{style:ca,onClick:c,children:"Export"}),s.jsxs("label",{style:{...ca,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&u(p.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(nr,{label:"Page",value:t.page,onChange:p=>o("page",p)}),s.jsx(nr,{label:"Tile",value:t.tile,onChange:p=>o("tile",p)}),s.jsx(nr,{label:"Tile Hover",value:t.tileHover,onChange:p=>o("tileHover",p)}),s.jsx(nr,{label:"Active",value:t.active,onChange:p=>o("active",p)}),s.jsx(nr,{label:"Text",value:t.text,onChange:p=>o("text",p)}),s.jsx(nr,{label:"Text Soft",value:t.textSoft,onChange:p=>o("textSoft",p)}),s.jsx(nr,{label:"Title",value:t.title,onChange:p=>o("title",p)}),s.jsx(nr,{label:"Line",value:t.line,onChange:p=>o("line",p)}),s.jsx(nr,{label:"Accent",value:t.accent,onChange:p=>o("accent",p)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(nr,{label:"Success",value:t.success,onChange:p=>o("success",p)}),s.jsx(nr,{label:"Warning",value:t.warning,onChange:p=>o("warning",p)}),s.jsx(nr,{label:"Danger",value:t.danger,onChange:p=>o("danger",p)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ei,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>o("radius",p)}),s.jsx(Ei,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>o("border",p)}),s.jsx(Ei,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>o("gap",p)}),s.jsx(Ei,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>o("shadow",p)}),s.jsx(Ei,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>o("surfaceOpacity",p),suffix:"%"}),s.jsx(Ei,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>o("noise",p),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...hm,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:p=>o("fontFamily",p.target.value)})]}),s.jsx(Ei,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>o("fontSize",p)}),s.jsx(jK,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>o("headingsTight",p)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ei,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>o("glow",p)}),s.jsx(Ei,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>o("scanlines",p)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:ua,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...ua,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...ua,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...ua,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:ua,children:["Radius: ",t.radius]}),s.jsxs("span",{style:ua,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:ua,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((p,f)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:p.label}),s.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},f))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...ca,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...ca,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,f)=>s.jsx("button",{style:{...ca,background:f===0?"var(--tile-hover)":"transparent",borderColor:f===0?"var(--active)":"var(--line)",boxShadow:f===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,f)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),s.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},f))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,f)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:f%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:p[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},f))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Uw=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function SK(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:Uw[n%Uw.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const zg={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function zw(){const[t,e]=N.useState("rows"),[n,r]=N.useState(0),[o,l]=N.useState(""),[c,u]=N.useState(60),h=N.useMemo(()=>SK(240),[]),p=N.useMemo(()=>h.filter(f=>f.level>=n).filter(f=>f.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[h,n,o,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:f=>e(f.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:o,onChange:f=>l(f.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:f=>r(parseInt(f.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:f=>u(parseInt(f.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...zg,padding:0,overflow:"hidden"},children:p.map(f=>{var y;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[f.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:f.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",f.level," ",f.guild?` ${f.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(y=f.kpi)==null?void 0:y.toFixed(1)})]})]},f.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(f=>{var y;return s.jsxs("div",{style:zg,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:f.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:f.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",f.level," ",f.guild?` ${f.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(y=f.kpi)==null?void 0:y.toFixed(1)})]})]},f.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(f=>s.jsxs("div",{style:{...zg,height:140+parseInt(f.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:f.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:f.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",f.level," ",f.guild?` ${f.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},f.id))})]})}function Hw(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function Ww(){const[t,e]=N.useState(120),[n,r]=N.useState(()=>Hw(24));N.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const u=Math.floor(Math.random()*c.length),h=[...c];return h[u]={...h[u],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(l)},[]),N.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(u=>({...u,lastScanMinsAgo:u.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=N.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(Hw(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[l.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function kK(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function Gw(){const[t,e]=N.useState("idle"),[n,r]=N.useState(null),[o,l]=N.useState(!1),c=N.useCallback(async u=>{var p;u.preventDefault(),l(!1);const h=(p=u.dataTransfer.files)==null?void 0:p[0];if(h){e("validating");try{const f=await h.text(),{isHar:y,isSf:b}=kK(f);if(e("parsing"),await new Promise(E=>setTimeout(E,600)),!y&&!b){e("error"),r({isHar:y,isSf:b,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:y,isSf:b,sizeKB:Math.round(h.size/1024),summary:`Detected: ${y?"HAR":b?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(f.length/2500)} (rough).`})}catch(f){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(f==null?void 0:f.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:u=>{u.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const EK="_wrap_hxkkn_3",TK="_left_hxkkn_17",CK="_right_hxkkn_25",AK="_canvasCard_hxkkn_33",NK="_hint_hxkkn_83",IK="_panel_hxkkn_95",RK="_panelTitle_hxkkn_109",PK="_panelBody_hxkkn_121",Ti={wrap:EK,left:TK,right:CK,canvasCard:AK,hint:NK,panel:IK,panelTitle:RK,panelBody:PK},DK=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],LK=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function MK(){const[t,e]=N.useState("Canvas ist vorbereitet (526526)."),n=N.useRef(null),[r,o]=N.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[l,c]=N.useState(!0);N.useEffect(()=>{const f=document.getElementById("PortraitCanvas");if(!f){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(E){}let y=console.error;l&&(console.error=(...E)=>{var R;const T=String((R=E==null?void 0:E[0])!=null?R:"");T.includes("Failed to load URL")&&T.includes("PortraitMaker-res/portraits/")||y(...E)});let b=null;try{b=new DT(f,{...r}),n.current=b,e("Rendering")}catch(E){l&&(console.error=y),y("Error initializing PortraitMaker:",E),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return b&&(b.onFinish=()=>{l&&(console.error=y),e("Fertig gerendert.")}),()=>{try{b&&typeof b.dispose=="function"&&b.dispose()}finally{l&&(console.error=y)}}},[r,l]);const u=()=>{const f=document.getElementById("PortraitCanvas");if(!f)return;const y=f.toDataURL("image/png"),b=document.createElement("a");b.href=y,b.download="portrait.png",b.click()},h=f=>{o(y=>({...y,genderName:f,beard:f==="female"?0:y.beard}))},p=r.special!==0;return s.jsxs("div",{className:Ti.wrap,children:[s.jsx("div",{className:Ti.left,children:s.jsxs("div",{className:Ti.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Ti.hint,children:t})]})}),s.jsx("div",{className:Ti.right,children:s.jsxs("div",{className:Ti.panel,children:[s.jsx("h2",{className:Ti.panelTitle,children:"Controls"}),s.jsx("div",{className:Ti.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:f=>o(y=>({...y,special:Number(f.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:p,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:f=>h(f.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:f=>o(y=>({...y,class:Number(f.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:f=>o(y=>({...y,race:Number(f.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:f=>o(y=>({...y,background:f.target.value})),children:DK.map(f=>s.jsx("option",{value:f,children:f===""?"transparent":f},f))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:f=>o(y=>({...y,frame:f.target.value})),children:LK.map(f=>s.jsx("option",{value:f,children:f===""?"none":f},f))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:f=>o(y=>({...y,showBorder:f.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:l,onChange:f=>c(f.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:u,children:"Export PNG"})}),p&&s.jsxs("div",{className:Ti.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const q={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},FK={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},BK={maxWidth:1200,margin:"0 auto"},VK={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function $K(){return s.jsx("div",{style:FK,children:s.jsxs("div",{style:BK,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:VK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${q.line}`,borderRadius:12,padding:24,textAlign:"center",background:q.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const OK={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},UK={maxWidth:1200,margin:"0 auto"},zK={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function HK(){return s.jsx("div",{style:OK,children:s.jsxs("div",{style:UK,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const WK={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},GK={maxWidth:1200,margin:"0 auto"},qK={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function KK(){return s.jsx("div",{style:WK,children:s.jsxs("div",{style:GK,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const QK={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},XK={maxWidth:1200,margin:"0 auto"},YK={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function JK(){return s.jsx("div",{style:QK,children:s.jsxs("div",{style:XK,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:YK,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${q.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:q.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const ZK={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},eQ={maxWidth:1200,margin:"0 auto"},tQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function nQ(){return s.jsx("div",{style:ZK,children:s.jsxs("div",{style:eQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:q.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:q.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const sQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},rQ={maxWidth:1200,margin:"0 auto"},iQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function oQ(){return s.jsx("div",{style:sQ,children:s.jsxs("div",{style:rQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:iQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const aQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},lQ={maxWidth:1200,margin:"0 auto"},cQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function uQ(){return s.jsx("div",{style:aQ,children:s.jsxs("div",{style:lQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cQ,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${q.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${q.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:q.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const dQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},hQ={maxWidth:1200,margin:"0 auto"},pQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function mQ(){return s.jsx("div",{style:dQ,children:s.jsxs("div",{style:hQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:pQ,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const fQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},gQ={maxWidth:1200,margin:"0 auto"},yQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function xQ(){return s.jsx("div",{style:fQ,children:s.jsxs("div",{style:gQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:yQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${q.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const vQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},bQ={maxWidth:1200,margin:"0 auto"},wQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function _Q(){return s.jsx("div",{style:vQ,children:s.jsxs("div",{style:bQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:wQ,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const jQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},SQ={maxWidth:1200,margin:"0 auto"},kQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function EQ(){return s.jsx("div",{style:jQ,children:s.jsxs("div",{style:SQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:kQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const TQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},CQ={maxWidth:1200,margin:"0 auto"},AQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function NQ(){return s.jsx("div",{style:TQ,children:s.jsxs("div",{style:CQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:AQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const IQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},RQ={maxWidth:1200,margin:"0 auto"},PQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function DQ(){return s.jsx("div",{style:IQ,children:s.jsxs("div",{style:RQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:PQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:q.text,border:`1px solid ${q.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:q.text,border:`1px solid ${q.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${q.line}`,borderRadius:10},children:"Send"})]})})]})})}const LQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},MQ={maxWidth:1200,margin:"0 auto"},FQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function BQ(){return s.jsx("div",{style:LQ,children:s.jsxs("div",{style:MQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:FQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const VQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},$Q={maxWidth:1200,margin:"0 auto"},OQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function UQ(){return s.jsx("div",{style:VQ,children:s.jsxs("div",{style:$Q,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:OQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const zQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},HQ={maxWidth:1200,margin:"0 auto"},WQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function GQ(){return s.jsx("div",{style:zQ,children:s.jsxs("div",{style:HQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:WQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${q.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const qQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},KQ={maxWidth:1200,margin:"0 auto"},QQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function XQ(){return s.jsx("div",{style:qQ,children:s.jsxs("div",{style:KQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:QQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const YQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},JQ={maxWidth:1200,margin:"0 auto"},ZQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function eX(){return s.jsx("div",{style:YQ,children:s.jsxs("div",{style:JQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ZQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const tX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},nX={maxWidth:1200,margin:"0 auto"},sX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function rX(){return s.jsx("div",{style:tX,children:s.jsxs("div",{style:nX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:sX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const iX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},oX={maxWidth:1200,margin:"0 auto"},aX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function lX(){return s.jsx("div",{style:iX,children:s.jsxs("div",{style:oX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:aX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const cX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},uX={maxWidth:1200,margin:"0 auto"},dX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function hX(){return s.jsx("div",{style:cX,children:s.jsxs("div",{style:uX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${q.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:q.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const pX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},mX={maxWidth:1200,margin:"0 auto"},fX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function gX(){return s.jsx("div",{style:pX,children:s.jsxs("div",{style:mX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:fX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:q.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const yX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},xX={maxWidth:1200,margin:"0 auto"},vX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function bX(){return s.jsx("div",{style:yX,children:s.jsxs("div",{style:xX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const wX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},_X={maxWidth:1200,margin:"0 auto"},jX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function SX(){return s.jsx("div",{style:wX,children:s.jsxs("div",{style:_X,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const kX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},EX={maxWidth:1200,margin:"0 auto"},TX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function CX(){return s.jsx("div",{style:kX,children:s.jsxs("div",{style:EX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:TX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const AX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},NX={maxWidth:1200,margin:"0 auto"},IX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function RX(){return s.jsx("div",{style:AX,children:s.jsxs("div",{style:NX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:IX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const PX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},DX={maxWidth:1200,margin:"0 auto"},LX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function MX(){return s.jsx("div",{style:PX,children:s.jsxs("div",{style:DX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:LX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const FX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},BX={maxWidth:1200,margin:"0 auto"},VX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function $X(){return s.jsx("div",{style:FX,children:s.jsxs("div",{style:BX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:VX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const OX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},UX={maxWidth:1200,margin:"0 auto"},zX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function HX(){return s.jsx("div",{style:OX,children:s.jsxs("div",{style:UX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${q.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const WX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},GX={maxWidth:1200,margin:"0 auto"},qX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function KX(){return s.jsx("div",{style:WX,children:s.jsxs("div",{style:GX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${q.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const QX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},XX={maxWidth:1200,margin:"0 auto"},YX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function JX(){return s.jsx("div",{style:QX,children:s.jsxs("div",{style:XX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:YX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const ZX="_backdrop_19xh2_1",eY="_panel_19xh2_19",tY="_header_19xh2_43",nY="_tabs_19xh2_63",sY="_tabBtn_19xh2_75",rY="_tabActive_19xh2_97",iY="_closeBtn_19xh2_101",oY="_content_19xh2_123",Jr={backdrop:ZX,panel:eY,header:tY,tabs:nY,tabBtn:sY,tabActive:rY,closeBtn:iY,content:oY},rp=t=>String(t!=null?t:"").trim(),xo=t=>rp(t).toUpperCase(),Ct=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),ip=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),qw=t=>{const e=ip(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},Kw=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Hg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},qe={PLAYERS:{IDENTIFIER:Ct("Identifier"),PID:Ct("ID"),GUILD_IDENTIFIER:Ct("Guild Identifier"),SERVER:Ct("Server"),NAME:Ct("Name"),TIMESTAMP:Ct("Timestamp"),LEVEL:Ct("Level"),CLASS:Ct("Class"),GUILD:Ct("Guild")},GUILDS:{GUILD_IDENTIFIER:Ct("Guild Identifier"),SERVER:Ct("Server"),NAME:Ct("Name"),MEMBER_COUNT:Ct("Guild Member Count"),TIMESTAMP:Ct("Timestamp"),HOF:Ct("Hall of Fame Rank"),HOF_ALT:Ct("HoF"),RANK:Ct("Rank"),GUILD_RANK:Ct("Guild Rank")}},aY=new Set([Ct("Strength"),Ct("Dexterity"),Ct("Intelligence"),Ct("Constitution"),Ct("Luck"),Ct("Attribute")]),lY=["equipment"],cY=t=>aY.has(t)||lY.some(e=>t.includes(e)),Je=(t,e)=>{for(const n of Object.keys(t))if(Ct(n)===e)return t[n]},uY=(t,e)=>e.map(n=>Je(t,n)).find(n=>n!=null&&String(n)!=="");function Pp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),u=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,f=new Date(c,l,o,u,h,p);if(!Number.isNaN(f.getTime()))return Math.floor(f.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function Qw(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),u=l.toString().padStart(2,"0");return`${c}-W${u}`}function Xw(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function Yw(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function Jw(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function dY(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function hY(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=dY((h=n[0])!=null?h:""),o=p=>{const f=[];let y="",b=!1;for(let E=0;E<p.length;E++){const T=p[E];T==='"'?b&&p[E+1]==='"'?(y+='"',E++):b=!b:T===r&&!b?(f.push(y),y=""):y+=T}return f.push(y),f},c=(n[0]?o(n[0]).map(rp):[]).map((p,f)=>p||`col${f}`),u=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const f=o(n[p]);if(f.every(b=>rp(b)===""))continue;const y={};for(let b=0;b<c.length;b++)y[c[b]]=f[b]!=null?rp(f[b]):"";u.push(y)}return{headers:c,rows:u}}const Zw=120,e_=40,t_=120;async function wl(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=wR(wt),c=t.slice(o,o+e);for(const u of c)u(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(u=>setTimeout(u,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Hh(t,e){const n={};for(const r of e){const o=Ct(r);if(cY(o)){let l=null,c;for(const u of t){const h=u.row[r];if(h==null||h==="")continue;const p=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=h)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const u=t[c].row[r];if(u!=null&&String(u)!==""){l=u;break}}n[r]=l}}return n}async function n_(t){var o;const e=await Pr(t);if(!e.exists())return 0;const n=e.data();if(((o=n==null?void 0:n.values)==null?void 0:o.Timestamp)!=null){const l=Pp(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Pp(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function s_(t,e){var f,y,b,E,T;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=hY(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const u=new Set;for(const R of c)Object.keys(R).forEach(L=>u.add(L));const h=Array.from(u);if(e.kind==="players"){const R=[],L=[],O=[],B=new Map;for(const I of c){const v=(f=Je(I,qe.PLAYERS.PID))!=null?f:Je(I,qe.PLAYERS.IDENTIFIER),_=String(v!=null?v:"").trim();if(!_){l.skippedMissingIdentifier++;continue}const D=Pp(Je(I,qe.PLAYERS.TIMESTAMP));if(D==null){l.skippedBadTs++;continue}const k=(()=>{const S=Je(I,qe.PLAYERS.SERVER);return S&&String(S).trim()!==""?xo(S):void 0})();if(!k){l.skippedMissingServer++;continue}R.push(S=>{const A=cn(wt,`players/${_}/scans/${D}`);S.set(A,{playerId:_,server:k,timestamp:D,timestampRaw:Je(I,qe.PLAYERS.TIMESTAMP),name:Je(I,qe.PLAYERS.NAME)||null,values:I,createdAt:Ni()},{merge:!0})}),l.writtenScanPlayers++,B.has(_)||B.set(_,[]),B.get(_).push({row:I,ts:D})}for(const[I,v]of B){v.sort((X,ae)=>X.ts-ae.ts);const _=v[v.length-1],D=xo(Je(_.row,qe.PLAYERS.SERVER)||""),k=Je(_.row,qe.PLAYERS.NAME)||null,S=Je(_.row,qe.PLAYERS.LEVEL),A=Je(_.row,qe.PLAYERS.CLASS),F=Je(_.row,qe.PLAYERS.GUILD),P=(b=(y=Je(_.row,qe.PLAYERS.NAME))!=null?y:k)!=null?b:"",V=qw(P),$=Kw(V),ie=cn(wt,`players/${I}/latest/latest`),H=await n_(ie);_.ts>H&&(L.push(X=>{X.set(ie,{playerId:I,server:D,timestamp:_.ts,timestampRaw:Je(_.row,qe.PLAYERS.TIMESTAMP),name:k,values:_.row,updatedAt:Ni(),nameFold:ip(P),nameTokens:V,nameNgrams:$,level:Hg(S),className:A!=null&&String(A).trim()!==""?String(A):null,guildName:F!=null&&String(F).trim()!==""?String(F):null,guildNameFold:F?ip(F):null},{merge:!0})}),l.writtenLatestPlayers++);const se=new Map,K=new Map;for(const X of v){const ae=Qw(X.ts),le=Yw(X.ts);se.has(ae)||se.set(ae,[]),K.has(le)||K.set(le,[]),se.get(ae).push(X),K.get(le).push(X)}for(const[X,ae]of se){ae.sort((ye,je)=>ye.ts-je.ts);const le=Hh(ae,h),W=Xw(ae[ae.length-1].ts),ne=ae[ae.length-1];O.push(ye=>{const je=cn(wt,`players/${I}/history_weekly/${X}`);ye.set(je,{playerId:I,weekId:X,periodStartSec:W.start,periodEndSec:W.end,lastTs:ne.ts,lastTimestampRaw:Je(ne.row,qe.PLAYERS.TIMESTAMP),server:xo(Je(ne.row,qe.PLAYERS.SERVER)||""),name:Je(ne.row,qe.PLAYERS.NAME)||null,values:le,updatedAt:Ni()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[X,ae]of K){ae.sort((ye,je)=>ye.ts-je.ts);const le=Hh(ae,h),W=Jw(ae[ae.length-1].ts),ne=ae[ae.length-1];O.push(ye=>{const je=cn(wt,`players/${I}/history_monthly/${X}`);ye.set(je,{playerId:I,monthId:X,periodStartSec:W.start,periodEndSec:W.end,lastTs:ne.ts,lastTimestampRaw:Je(ne.row,qe.PLAYERS.TIMESTAMP),server:xo(Je(ne.row,qe.PLAYERS.SERVER)||""),name:Je(ne.row,qe.PLAYERS.NAME)||null,values:le,updatedAt:Ni()},{merge:!0})}),l.writtenMonthlyPlayers++}}await wl(R,Zw,"scans",e.onProgress),await wl(L,e_,"latest",e.onProgress),await wl(O,t_,"history",e.onProgress)}if(e.kind==="guilds"){const R=[],L=[],O=[],B=new Map;for(const I of c){const v=String((E=Je(I,qe.GUILDS.GUILD_IDENTIFIER))!=null?E:"").trim();if(!v){l.skippedMissingGuildIdentifier++;continue}const _=Pp(Je(I,qe.GUILDS.TIMESTAMP));if(_==null){l.skippedBadTsGuild++;continue}const D=(()=>{const k=Je(I,qe.GUILDS.SERVER);return k&&String(k).trim()!==""?xo(k):void 0})();if(!D){l.skippedMissingServer++;continue}R.push(k=>{const S=cn(wt,`guilds/${v}/scans/${_}`);k.set(S,{guildIdentifier:v,server:D,timestamp:_,timestampRaw:Je(I,qe.GUILDS.TIMESTAMP),name:Je(I,qe.GUILDS.NAME)||null,values:I,createdAt:Ni()},{merge:!0})}),l.writtenScanGuilds++,B.has(v)||B.set(v,[]),B.get(v).push({row:I,ts:_})}for(const[I,v]of B){v.sort((H,se)=>H.ts-se.ts);const _=v[v.length-1],D=(T=Je(_.row,qe.GUILDS.NAME))!=null?T:"",k=qw(D),S=Kw(k),A=Hg(Je(_.row,qe.GUILDS.MEMBER_COUNT)),F=Hg(uY(_.row,[qe.GUILDS.HOF,qe.GUILDS.HOF_ALT,qe.GUILDS.RANK,qe.GUILDS.GUILD_RANK])),P=cn(wt,`guilds/${I}/latest/latest`),V=await n_(P);_.ts>V&&(L.push(H=>{H.set(P,{guildIdentifier:I,server:xo(Je(_.row,qe.GUILDS.SERVER)||""),timestamp:_.ts,timestampRaw:Je(_.row,qe.GUILDS.TIMESTAMP),name:Je(_.row,qe.GUILDS.NAME)||null,values:_.row,updatedAt:Ni(),nameFold:ip(D),nameTokens:k,nameNgrams:S,memberCount:A,hofRank:F},{merge:!0})}),l.writtenLatestGuilds++);const $=new Map,ie=new Map;for(const H of v){const se=Qw(H.ts),K=Yw(H.ts);$.has(se)||$.set(se,[]),ie.has(K)||ie.set(K,[]),$.get(se).push(H),ie.get(K).push(H)}for(const[H,se]of $){se.sort((le,W)=>le.ts-W.ts);const K=Hh(se,h),X=Xw(se[se.length-1].ts),ae=se[se.length-1];O.push(le=>{const W=cn(wt,`guilds/${I}/history_weekly/${H}`);le.set(W,{guildIdentifier:I,weekId:H,periodStartSec:X.start,periodEndSec:X.end,lastTs:ae.ts,lastTimestampRaw:Je(ae.row,qe.GUILDS.TIMESTAMP),server:xo(Je(ae.row,qe.GUILDS.SERVER)||""),name:Je(ae.row,qe.GUILDS.NAME)||null,values:K,updatedAt:Ni()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[H,se]of ie){se.sort((le,W)=>le.ts-W.ts);const K=Hh(se,h),X=Jw(se[se.length-1].ts),ae=se[se.length-1];O.push(le=>{const W=cn(wt,`guilds/${I}/history_monthly/${H}`);le.set(W,{guildIdentifier:I,monthId:H,periodStartSec:X.start,periodEndSec:X.end,lastTs:ae.ts,lastTimestampRaw:Je(ae.row,qe.GUILDS.TIMESTAMP),server:xo(Je(ae.row,qe.GUILDS.SERVER)||""),name:Je(ae.row,qe.GUILDS.NAME)||null,values:K,updatedAt:Ni()},{merge:!0})}),l.writtenMonthlyGuilds++}}await wl(R,Zw,"scans",e.onProgress),await wl(L,e_,"latest",e.onProgress),await wl(O,t_,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:p-n}}const Ue=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),pY=t=>String(t!=null?t:"").trim(),F0=t=>pY(t).toUpperCase(),B0=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Xn(t,e){for(const n of Object.keys(t))if(Ue(n)===e)return t[n]}function Ci(t,e){for(const n of e){const r=Xn(t,n);if(r!=null&&String(r)!=="")return r}}function da(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Ll(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),u=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,f=new Date(c,l,o,u,h,p);if(!Number.isNaN(f.getTime()))return Math.floor(f.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const an={GUILD_IDENTIFIER:Ue("Guild Identifier"),SERVER:Ue("Server"),NAME:Ue("Name"),TIMESTAMP:Ue("Timestamp"),LEVEL:Ue("Level"),CLASS:Ue("Class"),GUILD:Ue("Guild"),GUILD_ROLE:[Ue("Role"),Ue("Guild Role")],TREASURY:[Ue("Treasury"),Ue("Fortress Treasury"),Ue("Treasury Level"),Ue("Festungsschatzkammer")],MINE:[Ue("Mine"),Ue("Gem Mine"),Ue("Mine Level"),Ue("Festungsmine")],BASE_MAIN:[Ue("Base"),Ue("Base Attribute"),Ue("BaseMain"),Ue("Basis Attribut")],CON_BASE:[Ue("Con Base"),Ue("Constitution Base"),Ue("Base Constitution"),Ue("Basis Konstitution"),Ue("conbase")],ATTR_TOT:[Ue("Attribute"),Ue("Attr Total"),Ue("Attribut"),Ue("Attribut Gesamt")],CON_TOT:[Ue("Constitution"),Ue("Constitution Total"),Ue("Konstitution"),Ue("Konstitution Gesamt")],LAST_ACTIVE:[Ue("Last Active"),Ue("LastActivity"),Ue("Letzte Aktivitt")],GUILD_JOINED:[Ue("Guild Joined"),Ue("Joined Guild"),Ue("Gildenbeitritt")]},op={GUILD_IDENTIFIER:Ue("Guild Identifier"),SERVER:Ue("Server"),NAME:Ue("Name")};function r_(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function mY(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function fY(t){var n;const e=new Map;for(const r of t){const o=String((n=Xn(r,op.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Xn(r,op.SERVER),c=Xn(r,op.NAME);if(!o||!l||!c)continue;const u=`${F0(l)}__${B0(String(c))}`;e.set(u,o)}return e}function gY(t){var I,v;const e=Xn(t,an.TIMESTAMP),n=Ll(e),r=Ci(t,an.LAST_ACTIVE),o=Ll(r),l=Ci(t,an.GUILD_JOINED),c=Ll(l),u=da(Xn(t,an.LEVEL)),h=(()=>{const _=Xn(t,an.CLASS);return _!=null&&String(_).trim()!==""?String(_):null})(),p=(()=>{const _=Ci(t,an.GUILD_ROLE);return _!=null&&String(_).trim()!==""?String(_):null})(),f=da(Ci(t,an.TREASURY)),y=da(Ci(t,an.MINE)),b=da(Ci(t,an.BASE_MAIN)),E=da(Ci(t,an.CON_BASE)),T=da(Ci(t,an.ATTR_TOT)),R=da(Ci(t,an.CON_TOT)),L=b!=null&&E!=null?b+E:null,O=T!=null&&R!=null?T+R:null,B=(()=>{const _=Xn(t,an.NAME);return _!=null&&String(_).trim()!==""?String(_):null})();return{id:String((v=(I=t==null?void 0:t.ID)!=null?I:t==null?void 0:t.Identifier)!=null?v:""),name:B,class:h,role:p,level:u,treasury:f,mine:y,baseMain:b,conBase:E,sumBaseTotal:L,attrTotal:T,conTotal:R,totalStats:O,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:o!=null?o*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function Ai(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,o)=>r+o,0)/n.length:null}async function yY(t){var c,u,h;const e=cn(wt,`guilds/${t}/latest/latest`),n=await Pr(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},o=(h=(u=r.timestampRaw)!=null?u:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:o&&(l=Ll(o)),{sec:l,raw:o}}async function xY(t){const e=cn(wt,`guilds/${t}/snapshots/members_summary`),n=await Pr(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const o=Ll(r.updatedAt);if(o!=null)return o}return 0}async function vY(t,e){var l,c,u,h,p,f,y;const n=fY(e||[]),r=new Set;for(const b of e||[]){const E=String((l=Xn(b,op.GUILD_IDENTIFIER))!=null?l:"").trim();E&&r.add(E)}for(const b of t||[]){const E=Xn(b,an.SERVER);let T=String((c=Xn(b,an.GUILD_IDENTIFIER))!=null?c:"").trim();if(!T){const R=(u=Xn(b,an.GUILD))!=null?u:b.Guild;if(R&&E){const L=`${F0(E)}__${B0(String(R))}`,O=n.get(L);O&&(T=O)}}T&&r.add(T)}let o=0;for(const b of r){const{sec:E,raw:T}=await yY(b);if(E==null)continue;const R=await xY(b);if(E<=R)continue;const L=new Map;for(const H of t||[]){const se=Xn(H,an.SERVER);let K=String((h=Xn(H,an.GUILD_IDENTIFIER))!=null?h:"").trim();if(!K){const le=(p=Xn(H,an.GUILD))!=null?p:H.Guild;if(le&&se){const W=`${F0(se)}__${B0(String(le))}`,ne=n.get(W);ne&&(K=ne)}}if(K!==b)continue;const X=Ll(Xn(H,an.TIMESTAMP));if(X==null||X!==E)continue;const ae=String((y=(f=H==null?void 0:H.ID)!=null?f:H==null?void 0:H.Identifier)!=null?y:"").trim();ae&&(L.has(ae)||L.set(ae,H))}const O=Array.from(L.values()),B=[];for(const H of O)B.push(gY(H));B.sort((H,se)=>{var ae,le;const K=r_(H.role),X=r_(se.role);return K!==X?K-X:((ae=H.name)!=null?ae:"").toLowerCase().localeCompare(((le=se.name)!=null?le:"").toLowerCase())});const I=Ai(B,"level"),v=Ai(B,"treasury"),_=Ai(B,"mine"),D=Ai(B,"baseMain"),k=Ai(B,"conBase"),S=Ai(B,"sumBaseTotal"),A=Ai(B,"attrTotal"),F=Ai(B,"conTotal"),P=Ai(B,"totalStats"),V=JSON.stringify({gid:b,tsSec:E,members:B.map(H=>{var se,K,X,ae,le,W,ne,ye,je,Ee,ge,Ae,Ie;return{id:H.id,name:(se=H.name)!=null?se:"",class:(K=H.class)!=null?K:"",role:(X=H.role)!=null?X:"",level:(ae=H.level)!=null?ae:null,treasury:(le=H.treasury)!=null?le:null,mine:(W=H.mine)!=null?W:null,baseMain:(ne=H.baseMain)!=null?ne:null,conBase:(ye=H.conBase)!=null?ye:null,sumBaseTotal:(je=H.sumBaseTotal)!=null?je:null,attrTotal:(Ee=H.attrTotal)!=null?Ee:null,conTotal:(ge=H.conTotal)!=null?ge:null,totalStats:(Ae=H.totalStats)!=null?Ae:null,guildJoinedMs:(Ie=H.guildJoinedMs)!=null?Ie:null}})}),$=mY(V),ie=cn(wt,`guilds/${b}/snapshots/members_summary`);await xp(ie,{guildId:b,count:B.length,updatedAt:T!=null?T:String(E),updatedAtMs:E*1e3,hash:$,avgLevel:I,avgTreasury:v,avgMine:_,avgBaseMain:D,avgConBase:k,avgSumBaseTotal:S,avgAttrTotal:A,avgConTotal:F,avgTotalStats:P,members:B,updatedAtServer:Ni()},{merge:!0}),o++}return{guildsProcessed:r.size,snapshotsWritten:o}}function bY(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function wY(t,e,n,r){var h,p,f;const o=cn(wt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await Pr(o);if(!l.exists())return await xp(o,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r};const c=l.data(),u=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<u?(await xp(o,n,{merge:!1}),{first:n,firstTsMs:(f=n.updatedAtMs)!=null?f:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:u}}async function _Y(t,e,n){const r=cn(wt,`guilds/${t}/history_monthly/${e}`);await xp(r,n,{merge:!0})}function jY(t){var B,I,v,_,D,k,S,A,F,P,V,$,ie;const{guildId:e,monthKey:n,server:r,first:o,firstTsMs:l,latest:c,latestTsMs:u}=t,h=l!=null?Math.floor((u-l)/864e5):null,p=h!=null&&h<=40,f={available:p};p||(f.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const y={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(u).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(u/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:f};if(!p||!o)return y;const b=new Map;for(const H of o.members||[])H.playerId&&b.set(H.playerId,H);const E=[],T=[],R=[],L=[],O=[];for(const H of c.members||[]){if(!H.playerId)continue;const se=b.get(H.playerId)||null,K=(B=H.sumBaseTotal)!=null?B:null,X=(I=se==null?void 0:se.sumBaseTotal)!=null?I:null,ae=K!=null&&X!=null?K-X:0,le=(v=H.totalStats)!=null?v:null,W=(_=se==null?void 0:se.totalStats)!=null?_:null,ne=le!=null&&W!=null?le-W:0;E.push({playerId:H.playerId,name:(D=H.name)!=null?D:null,class:(k=H.class)!=null?k:null,levelLatest:(S=H.level)!=null?S:null,baseLatest:K,baseDelta:ae}),T.push({playerId:H.playerId,name:(A=H.name)!=null?A:null,base:K,stamDelta:null,shoDelta:null}),R.push({playerId:H.playerId,name:(F=H.name)!=null?F:null,stats:K,delta:ae}),L.push({playerId:H.playerId,name:(P=H.name)!=null?P:null,total:le,delta:ne}),O.push({playerId:H.playerId,name:(V=H.name)!=null?V:null,class:($=H.class)!=null?$:null,stats:(ie=H.baseMain)!=null?ie:null,delta:(se==null?void 0:se.baseMain)!=null&&H.baseMain!=null?H.baseMain-se.baseMain:0})}return E.sort((H,se)=>{var K,X;return((K=se.baseDelta)!=null?K:-1/0)-((X=H.baseDelta)!=null?X:-1/0)}),R.sort((H,se)=>{var K,X;return((K=se.stats)!=null?K:-1/0)-((X=H.stats)!=null?X:-1/0)}),L.sort((H,se)=>{var K,X;return((K=se.total)!=null?K:-1/0)-((X=H.total)!=null?X:-1/0)}),T.sort((H,se)=>{var K,X;return((K=se.base)!=null?K:-1/0)-((X=H.base)!=null?X:-1/0)}),O.sort((H,se)=>{var K,X;return((K=se.stats)!=null?K:-1/0)-((X=H.stats)!=null?X:-1/0)}),{...y,mostBaseGained:E.slice(0,50),sumBaseStats:T.slice(0,50),highestBaseStats:R.slice(0,50),highestTotalStats:L.slice(0,50),mainAndCon:O.slice(0,50)}}const Wg=t=>String(t!=null?t:"").trim(),is=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function SY(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function i_(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=SY((h=n[0])!=null?h:""),o=p=>{const f=[];let y="",b=!1;for(let E=0;E<p.length;E++){const T=p[E];T==='"'?b&&p[E+1]==='"'?(y+='"',E++):b=!b:T===r&&!b?(f.push(y),y=""):y+=T}return f.push(y),f},c=(n[0]?o(n[0]).map(Wg):[]).map((p,f)=>p||`col${f}`),u=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const f=o(n[p]);if(f.every(b=>Wg(b)===""))continue;const y={};for(let b=0;b<c.length;b++)y[c[b]]=f[b]!=null?Wg(f[b]):"";u.push(y)}return{headers:c,rows:u,delimiter:r}}const un={PLAYERS:{IDENTIFIER:is("Identifier"),GUILD_IDENTIFIER:is("Guild Identifier"),TIMESTAMP:is("Timestamp"),NAME:is("Name"),SERVER:is("Server"),OWN:is("Own")},GUILDS:{GUILD_IDENTIFIER:is("Guild Identifier"),GUILD_MEMBER_COUNT:is("Guild Member Count"),NAME:is("Name"),TIMESTAMP:is("Timestamp")}},AE=(t,e)=>{const n=new Set(t.map(is));return e.every(r=>n.has(r))},ir=(t,e)=>{for(const n of Object.keys(t))if(is(n)===e)return t[n]};function kY(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function o_(t){const e=t.map(is),n=l=>e.includes(l);let r=0,o=0;return n(un.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(un.PLAYERS.IDENTIFIER)&&(r+=2),n(un.PLAYERS.TIMESTAMP)&&(r+=1),n(un.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(un.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(un.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(un.PLAYERS.IDENTIFIER)?"players":"guilds"}function a_(t,e){const n=kY(t);if(n!=="unknown"){const o=o_(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=o_(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function NE(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function EY(t,e){var r;const n=[];if(!AE(e,[un.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=ir(o,un.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=ir(o,un.PLAYERS.SERVER),u=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:ir(o,un.PLAYERS.IDENTIFIER)||void 0,name:ir(o,un.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(ir(o,un.PLAYERS.OWN)).toLowerCase()),server:u,tsSec:(r=NE(ir(o,un.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function TY(t,e){const n=[];if(!AE(e,[un.GUILDS.GUILD_IDENTIFIER,un.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=ir(r,un.GUILDS.GUILD_IDENTIFIER),l=Number(ir(r,un.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=NE(ir(r,un.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:ir(r,un.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function CY(t,e){var L,O,B,I,v,_;const n=[],r=new Map;for(const D of t){const k=D.id||"",S=(L=D.server)==null?void 0:L.toUpperCase();if(k){const A=`${S!=null?S:"NO"}::${k}`;r.has(A)||r.set(A,{server:S,id:k,name:D.name||"",own:!!D.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(D=>D.own).length,u=new Map;for(const D of r.values())D.server&&u.set(D.server,((O=u.get(D.server))!=null?O:0)+1);const h=Array.from(u.entries()).map(([D,k])=>({server:D,players:k})).sort((D,k)=>k.players-D.players),p=h.length,f=new Map;for(const D of t)f.set(D.guildIdentifier,((B=f.get(D.guildIdentifier))!=null?B:0)+1);const y=new Set,b=new Map;for(const D of e)y.add(D.guildIdentifier),b.set(D.guildIdentifier,{name:D.name||"",declared:D.memberCount});for(const D of f.keys())y.add(D);let E=0;const T=[];for(const D of y){const k=(I=b.get(D))==null?void 0:I.declared,S=(v=f.get(D))!=null?v:0,A=k!=null&&S===k;A&&E++,T.push({id:D,name:((_=b.get(D))==null?void 0:_.name)||"",declaredCount:k!=null?k:0,playersCount:S,full:A})}[...b.values()].some(D=>Number.isFinite(D.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),T.sort((D,k)=>D.name?D.name.localeCompare(k.name):D.id.localeCompare(k.id));const R=Array.from(r.values()).sort((D,k)=>(D.server||"")===(k.server||"")?D.name.localeCompare(k.name):(D.server||"").localeCompare(k.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:p,perServer:h,guildsRepresented:y.size,fullyScannedGuilds:E,notes:n,playersList:R,guildsList:T}}function AY(){const[t,e]=N.useState([]),[n,r]=N.useState(null),[o,l]=N.useState(!1),[c,u]=N.useState(null),[h,p]=N.useState(!1),[f,y]=N.useState(null),[b,E]=N.useState([]),[T,R]=N.useState(null);N.useEffect(()=>{const k=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=k}},[]);const L=N.useCallback(async k=>{var S;l(!0),u(null),r(null),E([]),y(null);try{const A=Array.from(k).slice(0,2),F=[];let P=[],V=[];for(const $ of A){const ie=$,H=await ie.text(),se=i_(H),{kind:K,warn:X}=a_(ie.name,se.headers);F.push({name:ie.name,size:ie.size||H.length,rows:se.rows.length,delimiter:se.delimiter,text:H,kind:K,warn:X}),K==="players"?P=P.concat(EY(se.rows,se.headers)):K==="guilds"&&(V=V.concat(TY(se.rows,se.headers)))}e(F),r(CY(P,V))}catch(A){u(String((S=A==null?void 0:A.message)!=null?S:A))}finally{l(!1)}},[]),O=N.useCallback(async k=>{!k||k.length===0||await L(k)},[L]),B=N.useCallback(async k=>{k.preventDefault();const S=k.dataTransfer.files;!S||!S.length||await L(S)},[L]);async function I(){var k,S,A;if(t.length){p(!0),R({phase:"prepare",current:0,total:0}),y(null),E([]);try{let F=[],P=[];for(const H of t){const se=i_(H.text),{kind:K}=a_(H.name,se.headers);K==="players"&&(F=F.concat(se.rows)),K==="guilds"&&(P=P.concat(se.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!F.length,hasGuildsCsv:!!P.length,playersRows:F.length,guildsRows:P.length}),!P.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!F.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await s_(null,{kind:"guilds",rows:P,onProgress:H=>R(H)});console.info("[Import Report] guilds",V);const $=await s_(null,{kind:"players",rows:F,onProgress:H=>R(H)});console.info("[Import Report] players",$),await vY(F,P);const ie=new Set;for(const H of P){const se=ir(H,is("Guild Identifier"));se&&ie.add(String(se))}for(const H of F){const se=ir(H,is("Guild Identifier"));se&&ie.add(String(se))}for(const H of ie){const se=cn(wt,`guilds/${H}/snapshots/members_summary`),K=await Pr(se);if(!K.exists())continue;const X=K.data(),ae=Number((k=X.updatedAtMs)!=null?k:X.timestamp?X.timestamp*1e3:Date.now()),le=bY(ae),{first:W,firstTsMs:ne}=await wY(H,le,X,ae),ye=jY({guildId:H,monthKey:le,server:(S=X.server)!=null?S:null,first:W,firstTsMs:ne,latest:X,latestTsMs:ae});await _Y(H,le,ye)}R({phase:"done",current:1,total:1}),E([V,$]),y("Import abgeschlossen.")}catch(F){console.error("[UploadCenter] Import error:",F),y(`Fehler beim Import: ${(A=F==null?void 0:F.message)!=null?A:F}`)}finally{p(!1),setTimeout(()=>R(null),1200)}}}const v=N.useMemo(()=>t.map(k=>`${k.name} (${k.rows} rows, ${k.delimiter}, ${k.kind}${k.warn?" ":""})`),[t]),_=N.useMemo(()=>t.reduce((k,S)=>k+S.rows,0),[t]),D=T?Math.floor(100*T.current/Math.max(1,T.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[v.map((k,S)=>s.jsx("span",{className:"uc-chip",title:t[S].warn||"",children:k},S)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",_," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[T&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${D}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[D,"%"]})]}),s.jsx("button",{onClick:I,disabled:!t.length||!n||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),f&&s.jsx("span",{style:{color:f.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:f})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:k=>O(k.target.files),disabled:o})]}),s.jsx("div",{onDragOver:k=>k.preventDefault(),onDrop:B,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(tu,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(tu,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(tu,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(tu,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(tu,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(k=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:k.server}),s.jsx("td",{style:{textAlign:"right"},children:k.players})]},k.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((k,S)=>{var A,F;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(A=k.server)!=null?A:""}),s.jsx("td",{children:k.id}),s.jsx("td",{children:k.name||""}),s.jsx("td",{children:k.own?"":""})]},`${(F=k.server)!=null?F:"NO"}-${k.id}-${S}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((k,S)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:k.id}),s.jsx("td",{children:k.name||""}),s.jsx("td",{style:{textAlign:"right"},children:k.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:k.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:k.full?"":""})]},`${k.id}-${S}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((k,S)=>s.jsx("li",{children:k},S))})]})]})]})}function tu({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function NY(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function IY(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=R_();return!t||!o?null:s.jsx("div",{className:Jr.backdrop,onClick:e,children:s.jsxs("div",{className:Jr.panel,onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{className:Jr.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:Jr.tabs,children:[s.jsx("button",{type:"button",className:`${Jr.tabBtn} ${n==="csv"?Jr.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${Jr.tabBtn} ${n==="json"?Jr.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:Jr.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:Jr.content,children:n==="csv"?s.jsx(AY,{}):s.jsx(NY,{})})]})})}const RY=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),Pn=RY("Diese Unterseite existiert in der neuen Struktur nicht mehr.");zT.createRoot(document.getElementById("root")).render(s.jsx(Pe.StrictMode,{children:s.jsxs(UC,{role:"admin",children:[s.jsx(i4,{children:s.jsx(L3,{children:s.jsxs(ce,{element:s.jsx(xP,{}),children:[s.jsx(ce,{path:"/",element:s.jsx(pM,{})}),s.jsx(ce,{path:"/dashboard",element:s.jsx(mM,{})}),s.jsx(ce,{path:"/dashboard/kpis",element:s.jsx(yM,{})}),s.jsx(ce,{path:"/dashboard/activity",element:s.jsx(xM,{})}),s.jsx(ce,{path:"/dashboard/progression",element:s.jsx(vM,{})}),s.jsx(ce,{path:"/discover",element:s.jsx(bM,{})}),s.jsx(ce,{path:"/toplists",element:s.jsx(X7,{})}),s.jsx(ce,{path:"/sfmagazine",element:s.jsx(kM,{})}),s.jsx(ce,{path:"/sfmagazine/historybook",element:s.jsx(t7,{})}),s.jsx(ce,{path:"/players",element:s.jsx(Y7,{})}),s.jsx(ce,{path:"/players/rankings",element:s.jsx(J7,{})}),s.jsx(ce,{path:"/players/stats",element:s.jsx(Z7,{})}),s.jsx(ce,{path:"/players/profile",element:s.jsx(Ag,{})}),s.jsx(ce,{path:"/players/profile/:playerId",element:s.jsx(Ag,{})}),s.jsx(ce,{path:"/player/:playerId",element:s.jsx(Ag,{})}),s.jsx(ce,{path:"/guilds",element:s.jsx(rF,{})}),s.jsx(ce,{path:"/guilds/rankings",element:s.jsx(iF,{})}),s.jsx(ce,{path:"/guilds/stats",element:s.jsx(oF,{})}),s.jsx(ce,{path:"/guilds/profile",element:s.jsx(Rg,{})}),s.jsx(ce,{path:"/guilds/profile/:guildId",element:s.jsx(Rg,{})}),s.jsx(ce,{path:"/guild/:guildId",element:s.jsx(Rg,{})}),s.jsx(ce,{path:"/servers",element:s.jsx(WV,{})}),s.jsx(ce,{path:"/servers/rankings",element:s.jsx(GV,{})}),s.jsx(ce,{path:"/servers/stats",element:s.jsx(qV,{})}),s.jsx(ce,{path:"/servers/profile",element:s.jsx(Pg,{})}),"               ",s.jsx(ce,{path:"/servers/profile/:serverId",element:s.jsx(Pg,{})}),"     ",s.jsx(ce,{path:"/server/:serverId",element:s.jsx(Pg,{})}),"              ",s.jsx(ce,{path:"/guidehub/*",element:s.jsx(NW,{})}),s.jsx(ce,{path:"/community",element:s.jsx(mG,{})}),s.jsx(ce,{path:"/community/scans",element:s.jsx(jE,{})}),s.jsx(ce,{path:"/community/predictions",element:s.jsx(SE,{})}),s.jsx(ce,{path:"/community/creators",element:s.jsx(_E,{})}),s.jsx(ce,{path:"/community/feedback",element:s.jsx(EE,{})}),s.jsx(ce,{path:"/community/news",element:s.jsx(kE,{})}),s.jsx(ce,{path:"/scans",element:s.jsx(fG,{})}),s.jsx(ce,{path:"/scans/latest",element:s.jsx(gG,{})}),s.jsx(ce,{path:"/scans/archive",element:s.jsx(yG,{})}),s.jsx(ce,{path:"/guild-hub",element:s.jsx(xG,{})}),s.jsx(ce,{path:"/guild-hub/planner",element:s.jsx(wG,{})}),s.jsx(ce,{path:"/guild-hub/fusion",element:s.jsx(_G,{})}),s.jsx(ce,{path:"/guild-hub/waitlist",element:s.jsx(jG,{})}),s.jsx(ce,{path:"/guild-hub/activity",element:s.jsx(SG,{})}),s.jsx(ce,{path:"/guild-hub/imports",element:s.jsx(kG,{})}),s.jsx(ce,{path:"/guild-hub/announcements",element:s.jsx(EG,{})}),s.jsx(ce,{path:"/guild-hub/events",element:s.jsx(TG,{})}),s.jsx(ce,{path:"/guild-hub/roles",element:s.jsx(CG,{})}),s.jsx(ce,{path:"/guild-hub/settings",element:s.jsx(AG,{})}),s.jsx(ce,{path:"/admin",element:s.jsx(PG,{})}),s.jsx(ce,{path:"/admin/errors",element:s.jsx(FG,{})}),s.jsx(ce,{path:"/admin/scans-uploaded",element:s.jsx(VG,{})}),s.jsx(ce,{path:"/settings",element:s.jsx(QG,{})}),s.jsxs(ce,{path:"/playground",element:s.jsx(XG,{}),children:[s.jsx(ce,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(ce,{path:"list-views",element:s.jsx(zw,{})}),s.jsx(ce,{path:"rescan-widget",element:s.jsx(Ww,{})}),s.jsx(ce,{path:"upload-sim",element:s.jsx(Gw,{})}),s.jsx(ce,{path:"theme-maker",element:s.jsx(Vw,{})}),s.jsx(ce,{path:"theme-maker-pro",element:s.jsx(Ow,{})}),s.jsx(ce,{path:"am-rune-bonuses-demos",element:s.jsx(qq,{})}),s.jsx(ce,{path:"portrait-maker",element:s.jsx(MK,{})}),s.jsx(ce,{path:"hud",element:s.jsx(Kq,{})}),s.jsx(ce,{path:"hud/game-buttons",element:s.jsx(wK,{})}),s.jsx(ce,{path:"core-ui/theme-maker",element:s.jsx(Vw,{})}),s.jsx(ce,{path:"core-ui/theme-maker-pro",element:s.jsx(Ow,{})}),s.jsx(ce,{path:"core-ui/list-views",element:s.jsx(zw,{})}),s.jsx(ce,{path:"sync/rescan",element:s.jsx(Ww,{})}),s.jsx(ce,{path:"upload/sim",element:s.jsx(Gw,{})}),s.jsx(ce,{path:"import/har",element:s.jsx($K,{})}),s.jsx(ce,{path:"import/json-csv",element:s.jsx(HK,{})}),s.jsx(ce,{path:"import/schema",element:s.jsx(KK,{})}),s.jsx(ce,{path:"hubs/player-contained",element:s.jsx(JK,{})}),s.jsx(ce,{path:"hubs/guilds",element:s.jsx(nQ,{})}),s.jsx(ce,{path:"hubs/servers",element:s.jsx(oQ,{})}),s.jsx(ce,{path:"rankings/views",element:s.jsx(uQ,{})}),s.jsx(ce,{path:"analytics/kpi",element:s.jsx(mQ,{})}),s.jsx(ce,{path:"analytics/progression",element:s.jsx(xQ,{})}),s.jsx(ce,{path:"analytics/legendary-pets",element:s.jsx(_Q,{})}),s.jsx(ce,{path:"community/scans",element:s.jsx(EQ,{})}),s.jsx(ce,{path:"community/creators",element:s.jsx(NQ,{})}),s.jsx(ce,{path:"feedback/form",element:s.jsx(DQ,{})}),s.jsx(ce,{path:"feedback/admin",element:s.jsx(BQ,{})}),s.jsx(ce,{path:"help/tutorials",element:s.jsx(UQ,{})}),s.jsx(ce,{path:"help/wiki",element:s.jsx(GQ,{})}),s.jsx(ce,{path:"legal/tos",element:s.jsx(eX,{})}),s.jsx(ce,{path:"legal/transparency",element:s.jsx(rX,{})}),s.jsx(ce,{path:"settings",element:s.jsx(XQ,{})}),s.jsx(ce,{path:"pwa/update",element:s.jsx(lX,{})}),s.jsx(ce,{path:"pwa/install",element:s.jsx(hX,{})}),s.jsx(ce,{path:"connect/manual",element:s.jsx(gX,{})}),s.jsx(ce,{path:"connect/userscript",element:s.jsx(bX,{})}),s.jsx(ce,{path:"interop/exports",element:s.jsx(SX,{})}),s.jsx(ce,{path:"interop/deeplinks",element:s.jsx(CX,{})}),s.jsx(ce,{path:"admin/servers",element:s.jsx(RX,{})}),s.jsx(ce,{path:"admin/jobs",element:s.jsx(MX,{})}),s.jsx(ce,{path:"admin/flags",element:s.jsx($X,{})}),s.jsx(ce,{path:"perf/table-lab",element:s.jsx(HX,{})}),s.jsx(ce,{path:"mobile/filters",element:s.jsx(KX,{})}),s.jsx(ce,{path:"qa/a11y",element:s.jsx(JX,{})})]}),s.jsx(ce,{path:"/latest-scan",element:s.jsx(Gf,{to:"/scans/latest",replace:!0})}),s.jsx(ce,{path:"/old-scans",element:s.jsx(Gf,{to:"/scans/archive",replace:!0})}),s.jsx(ce,{path:"/favorites",element:Pn()}),s.jsx(ce,{path:"/notifications",element:Pn()}),s.jsx(ce,{path:"/guilds/planner",element:Pn()}),s.jsx(ce,{path:"/guilds/fusion",element:Pn()}),s.jsx(ce,{path:"/guilds/academy",element:Pn()}),s.jsx(ce,{path:"/toplists/players",element:Pn()}),s.jsx(ce,{path:"/toplists/guilds",element:Pn()}),s.jsx(ce,{path:"/toplists/servers",element:Pn()}),s.jsx(ce,{path:"/settings/profile",element:Pn()}),s.jsx(ce,{path:"/settings/account",element:Pn()}),s.jsx(ce,{path:"/settings/appearance",element:Pn()}),s.jsx(ce,{path:"/players/search",element:Pn()}),s.jsx(ce,{path:"/players/compare",element:Pn()}),s.jsx(ce,{path:"/servers/list",element:Pn()}),s.jsx(ce,{path:"/servers/trend",element:Pn()}),s.jsx(ce,{path:"/scans/upload",element:Pn()}),s.jsx(ce,{path:"/scans/history",element:Pn()}),s.jsx(ce,{path:"*",element:s.jsx(Gf,{to:"/",replace:!0})})]})})}),s.jsx(IY,{})]})}));
