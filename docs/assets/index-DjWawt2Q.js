import cj from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function j0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vg={exports:{}},ud={},yg={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function J5(){if(gb)return ot;gb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function R(G,Z,ue){this.props=G,this.context=Z,this.refs=P,this.updater=ue||w}R.prototype.isReactComponent={},R.prototype.setState=function(G,Z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Z,"setState")},R.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=R.prototype;function B(G,Z,ue){this.props=G,this.context=Z,this.refs=P,this.updater=ue||w}var E=B.prototype=new O;E.constructor=B,N(E,R.prototype),E.isPureReactComponent=!0;var y=Array.isArray,j=Object.prototype.hasOwnProperty,M={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function _(G,Z,ue){var ee,fe={},Te=null,me=null;if(Z!=null)for(ee in Z.ref!==void 0&&(me=Z.ref),Z.key!==void 0&&(Te=""+Z.key),Z)j.call(Z,ee)&&!T.hasOwnProperty(ee)&&(fe[ee]=Z[ee]);var Ee=arguments.length-2;if(Ee===1)fe.children=ue;else if(1<Ee){for(var Ce=Array(Ee),We=0;We<Ee;We++)Ce[We]=arguments[We+2];fe.children=Ce}if(G&&G.defaultProps)for(ee in Ee=G.defaultProps,Ee)fe[ee]===void 0&&(fe[ee]=Ee[ee]);return{$$typeof:t,type:G,key:Te,ref:me,props:fe,_owner:M.current}}function C(G,Z){return{$$typeof:t,type:G.type,key:Z,ref:G.ref,props:G.props,_owner:G._owner}}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function A(G){var Z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ue){return Z[ue]})}var V=/\/+/g;function F(G,Z){return typeof G=="object"&&G!==null&&G.key!=null?A(""+G.key):Z.toString(36)}function K(G,Z,ue,ee,fe){var Te=typeof G;(Te==="undefined"||Te==="boolean")&&(G=null);var me=!1;if(G===null)me=!0;else switch(Te){case"string":case"number":me=!0;break;case"object":switch(G.$$typeof){case t:case e:me=!0}}if(me)return me=G,fe=fe(me),G=ee===""?"."+F(me,0):ee,y(fe)?(ue="",G!=null&&(ue=G.replace(V,"$&/")+"/"),K(fe,Z,ue,"",function(We){return We})):fe!=null&&(L(fe)&&(fe=C(fe,ue+(!fe.key||me&&me.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+G)),Z.push(fe)),1;if(me=0,ee=ee===""?".":ee+":",y(G))for(var Ee=0;Ee<G.length;Ee++){Te=G[Ee];var Ce=ee+F(Te,Ee);me+=K(Te,Z,ue,Ce,fe)}else if(Ce=v(G),typeof Ce=="function")for(G=Ce.call(G),Ee=0;!(Te=G.next()).done;)Te=Te.value,Ce=ee+F(Te,Ee++),me+=K(Te,Z,ue,Ce,fe);else if(Te==="object")throw Z=String(G),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return me}function z(G,Z,ue){if(G==null)return G;var ee=[],fe=0;return K(G,ee,"","",function(Te){return Z.call(ue,Te,fe++)}),ee}function q(G){if(G._status===-1){var Z=G._result;Z=Z(),Z.then(function(ue){(G._status===0||G._status===-1)&&(G._status=1,G._result=ue)},function(ue){(G._status===0||G._status===-1)&&(G._status=2,G._result=ue)}),G._status===-1&&(G._status=0,G._result=Z)}if(G._status===1)return G._result.default;throw G._result}var H={current:null},W={transition:null},ne={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:W,ReactCurrentOwner:M};function re(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:z,forEach:function(G,Z,ue){z(G,function(){Z.apply(this,arguments)},ue)},count:function(G){var Z=0;return z(G,function(){Z++}),Z},toArray:function(G){return z(G,function(Z){return Z})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ot.Component=R,ot.Fragment=s,ot.Profiler=i,ot.PureComponent=B,ot.StrictMode=r,ot.Suspense=h,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ot.act=re,ot.cloneElement=function(G,Z,ue){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ee=N({},G.props),fe=G.key,Te=G.ref,me=G._owner;if(Z!=null){if(Z.ref!==void 0&&(Te=Z.ref,me=M.current),Z.key!==void 0&&(fe=""+Z.key),G.type&&G.type.defaultProps)var Ee=G.type.defaultProps;for(Ce in Z)j.call(Z,Ce)&&!T.hasOwnProperty(Ce)&&(ee[Ce]=Z[Ce]===void 0&&Ee!==void 0?Ee[Ce]:Z[Ce])}var Ce=arguments.length-2;if(Ce===1)ee.children=ue;else if(1<Ce){Ee=Array(Ce);for(var We=0;We<Ce;We++)Ee[We]=arguments[We+2];ee.children=Ee}return{$$typeof:t,type:G.type,key:fe,ref:Te,props:ee,_owner:me}},ot.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},ot.createElement=_,ot.createFactory=function(G){var Z=_.bind(null,G);return Z.type=G,Z},ot.createRef=function(){return{current:null}},ot.forwardRef=function(G){return{$$typeof:d,render:G}},ot.isValidElement=L,ot.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:q}},ot.memo=function(G,Z){return{$$typeof:p,type:G,compare:Z===void 0?null:Z}},ot.startTransition=function(G){var Z=W.transition;W.transition={};try{G()}finally{W.transition=Z}},ot.unstable_act=re,ot.useCallback=function(G,Z){return H.current.useCallback(G,Z)},ot.useContext=function(G){return H.current.useContext(G)},ot.useDebugValue=function(){},ot.useDeferredValue=function(G){return H.current.useDeferredValue(G)},ot.useEffect=function(G,Z){return H.current.useEffect(G,Z)},ot.useId=function(){return H.current.useId()},ot.useImperativeHandle=function(G,Z,ue){return H.current.useImperativeHandle(G,Z,ue)},ot.useInsertionEffect=function(G,Z){return H.current.useInsertionEffect(G,Z)},ot.useLayoutEffect=function(G,Z){return H.current.useLayoutEffect(G,Z)},ot.useMemo=function(G,Z){return H.current.useMemo(G,Z)},ot.useReducer=function(G,Z,ue){return H.current.useReducer(G,Z,ue)},ot.useRef=function(G){return H.current.useRef(G)},ot.useState=function(G){return H.current.useState(G)},ot.useSyncExternalStore=function(G,Z,ue){return H.current.useSyncExternalStore(G,Z,ue)},ot.useTransition=function(){return H.current.useTransition()},ot.version="18.3.1",ot}var xb;function S0(){return xb||(xb=1,yg.exports=J5()),yg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function Z5(){if(vb)return ud;vb=1;var t=S0(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var m,x={},v=null,w=null;p!==void 0&&(v=""+p),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(m in h)r.call(h,m)&&!o.hasOwnProperty(m)&&(x[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)x[m]===void 0&&(x[m]=h[m]);return{$$typeof:e,type:d,key:v,ref:w,props:x,_owner:i.current}}return ud.Fragment=s,ud.jsx=c,ud.jsxs=c,ud}var yb;function e4(){return yb||(yb=1,vg.exports=Z5()),vg.exports}var n=e4(),D=S0();const se=j0(D);var Kh={},bg={exports:{}},As={},_g={exports:{}},wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function t4(){return bb||(bb=1,(function(t){function e(W,ne){var re=W.length;W.push(ne);e:for(;0<re;){var G=re-1>>>1,Z=W[G];if(0<i(Z,ne))W[G]=ne,W[re]=Z,re=G;else break e}}function s(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],re=W.pop();if(re!==ne){W[0]=re;e:for(var G=0,Z=W.length,ue=Z>>>1;G<ue;){var ee=2*(G+1)-1,fe=W[ee],Te=ee+1,me=W[Te];if(0>i(fe,re))Te<Z&&0>i(me,fe)?(W[G]=me,W[Te]=re,G=Te):(W[G]=fe,W[ee]=re,G=ee);else if(Te<Z&&0>i(me,re))W[G]=me,W[Te]=re,G=Te;else break e}}return ne}function i(W,ne){var re=W.sortIndex-ne.sortIndex;return re!==0?re:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],m=1,x=null,v=3,w=!1,N=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var ne=s(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=W)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=s(p)}}function y(W){if(P=!1,E(W),!N)if(s(h)!==null)N=!0,q(j);else{var ne=s(p);ne!==null&&H(y,ne.startTime-W)}}function j(W,ne){N=!1,P&&(P=!1,O(_),_=-1),w=!0;var re=v;try{for(E(ne),x=s(h);x!==null&&(!(x.expirationTime>ne)||W&&!A());){var G=x.callback;if(typeof G=="function"){x.callback=null,v=x.priorityLevel;var Z=G(x.expirationTime<=ne);ne=t.unstable_now(),typeof Z=="function"?x.callback=Z:x===s(h)&&r(h),E(ne)}else r(h);x=s(h)}if(x!==null)var ue=!0;else{var ee=s(p);ee!==null&&H(y,ee.startTime-ne),ue=!1}return ue}finally{x=null,v=re,w=!1}}var M=!1,T=null,_=-1,C=5,L=-1;function A(){return!(t.unstable_now()-L<C)}function V(){if(T!==null){var W=t.unstable_now();L=W;var ne=!0;try{ne=T(!0,W)}finally{ne?F():(M=!1,T=null)}}else M=!1}var F;if(typeof B=="function")F=function(){B(V)};else if(typeof MessageChannel!="undefined"){var K=new MessageChannel,z=K.port2;K.port1.onmessage=V,F=function(){z.postMessage(null)}}else F=function(){R(V,0)};function q(W){T=W,M||(M=!0,F())}function H(W,ne){_=R(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,q(j))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return s(h)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var re=v;v=ne;try{return W()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=v;v=W;try{return ne()}finally{v=re}},t.unstable_scheduleCallback=function(W,ne,re){var G=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?G+re:G):re=G,W){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,W={id:m++,callback:ne,priorityLevel:W,startTime:re,expirationTime:Z,sortIndex:-1},re>G?(W.sortIndex=re,e(p,W),s(h)===null&&W===s(p)&&(P?(O(_),_=-1):P=!0,H(y,re-G))):(W.sortIndex=Z,e(h,W),N||w||(N=!0,q(j))),W},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(W){var ne=v;return function(){var re=v;v=ne;try{return W.apply(this,arguments)}finally{v=re}}}})(wg)),wg}var _b;function n4(){return _b||(_b=1,_g.exports=t4()),_g.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function s4(){if(wb)return As;wb=1;var t=S0(),e=n4();function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function v(a){return h.call(x,a)?!0:h.call(m,a)?!1:p.test(a)?x[a]=!0:(m[a]=!0,!1)}function w(a,l,u,g){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function N(a,l,u,g){if(l===null||typeof l=="undefined"||w(a,l,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function P(a,l,u,g,b,k,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=u,this.propertyName=a,this.type=l,this.sanitizeURL=k,this.removeEmptyString=$}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){R[a]=new P(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];R[l]=new P(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){R[a]=new P(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){R[a]=new P(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){R[a]=new P(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){R[a]=new P(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){R[a]=new P(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){R[a]=new P(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){R[a]=new P(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(O,B);R[l]=new P(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(O,B);R[l]=new P(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(O,B);R[l]=new P(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){R[a]=new P(a,1,!1,a.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){R[a]=new P(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,l,u,g){var b=R.hasOwnProperty(l)?R[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,u,b,g)&&(u=null),g||b===null?v(l)&&(u===null?a.removeAttribute(l):a.setAttribute(l,""+u)):b.mustUseProperty?a[b.propertyName]=u===null?b.type===3?!1:"":u:(l=b.attributeName,g=b.attributeNamespace,u===null?a.removeAttribute(l):(b=b.type,u=b===3||b===4&&u===!0?"":""+u,g?a.setAttributeNS(g,l,u):a.setAttribute(l,u))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),M=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),A=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,G;function Z(a){if(G===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+a}var ue=!1;function ee(a,l){if(!a||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(le){var g=le}Reflect.construct(a,[],l)}else{try{l.call()}catch(le){g=le}a.call(l.prototype)}else{try{throw Error()}catch(le){g=le}a()}}catch(le){if(le&&g&&typeof le.stack=="string"){for(var b=le.stack.split(`
`),k=g.stack.split(`
`),$=b.length-1,Q=k.length-1;1<=$&&0<=Q&&b[$]!==k[Q];)Q--;for(;1<=$&&0<=Q;$--,Q--)if(b[$]!==k[Q]){if($!==1||Q!==1)do if($--,Q--,0>Q||b[$]!==k[Q]){var X=`
`+b[$].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=$&&0<=Q);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?Z(a):""}function fe(a){switch(a.tag){case 5:return Z(a.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return a=ee(a.type,!1),a;case 11:return a=ee(a.type.render,!1),a;case 1:return a=ee(a.type,!0),a;default:return""}}function Te(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case M:return"Portal";case C:return"Profiler";case _:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case A:return(a.displayName||"Context")+".Consumer";case L:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return l=a.displayName||null,l!==null?l:Te(a.type)||"Memo";case q:l=a._payload,a=a._init;try{return Te(a(l))}catch(u){}}return null}function me(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(l);case 8:return l===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ee(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ce(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function We(a){var l=Ce(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,k=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function($){g=""+$,k.call(this,$)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function kt(a){a._valueTracker||(a._valueTracker=We(a))}function Xe(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),g="";return a&&(g=Ce(a)?a.checked?"true":"false":a.value),a=g,a!==u?(l.setValue(a),!0):!1}function At(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(l){return a.body}}function $t(a,l){var u=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:a._wrapperState.initialChecked})}function ys(a,l){var u=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;u=Ee(l.value!=null?l.value:u),a._wrapperState={initialChecked:g,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function bs(a,l){l=l.checked,l!=null&&E(a,"checked",l,!1)}function _s(a,l){bs(a,l);var u=Ee(l.value),g=l.type;if(u!=null)g==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?ws(a,l.type,u):l.hasOwnProperty("defaultValue")&&ws(a,l.type,Ee(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Tr(a,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,u||l===a.value||(a.value=l),a.defaultValue=l}u=a.name,u!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function ws(a,l,u){(l!=="number"||At(a.ownerDocument)!==a)&&(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var os=Array.isArray;function ls(a,l,u,g){if(a=a.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=l.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&g&&(a[u].defaultSelected=!0)}else{for(u=""+Ee(u),l=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Cr(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(s(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rr(a,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(s(92));if(os(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),u=l}a._wrapperState={initialValue:Ee(u)}}function ir(a,l){var u=Ee(l.value),g=Ee(l.defaultValue);u!=null&&(u=""+u,u!==a.value&&(a.value=u),l.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),g!=null&&(a.defaultValue=""+g)}function jn(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ct,ei=(function(a){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(l,u,g,b){MSApp.execUnsafeLocalFunction(function(){return a(l,u,g,b)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ct.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Bs(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},or=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(a){or.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ar[l]=ar[a]})});function ti(a,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||ar.hasOwnProperty(a)&&ar[a]?(""+l).trim():l+"px"}function _i(a,l){a=a.style;for(var u in l)if(l.hasOwnProperty(u)){var g=u.indexOf("--")===0,b=ti(u,l[u],g);u==="float"&&(u="cssFloat"),g?a.setProperty(u,b):a[u]=b}}var ni=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(a,l){if(l){if(ni[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(s(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(s(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(s(61))}if(l.style!=null&&typeof l.style!="object")throw Error(s(62))}}function Ot(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function wi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ji=null,cs=null,$s=null;function Si(a){if(a=Xc(a)){if(typeof ji!="function")throw Error(s(280));var l=a.stateNode;l&&(l=ch(l),ji(a.stateNode,a.type,l))}}function Vs(a){cs?$s?$s.push(a):$s=[a]:cs=a}function Tc(){if(cs){var a=cs,l=$s;if($s=cs=null,Si(a),l)for(a=0;a<l.length;a++)Si(l[a])}}function Ka(a,l){return a(l)}function Cc(){}var ki=!1;function Ec(a,l,u){if(ki)return a(l,u);ki=!0;try{return Ka(a,l,u)}finally{ki=!1,(cs!==null||$s!==null)&&(Cc(),Tc())}}function cn(a,l){var u=a.stateNode;if(u===null)return null;var g=ch(u);if(g===null)return null;u=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(s(231,l,typeof u));return u}var Xo=!1;if(d)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch(a){Xo=!1}function Qa(a,l,u,g,b,k,$,Q,X){var le=Array.prototype.slice.call(arguments,3);try{l.apply(u,le)}catch(xe){this.onError(xe)}}var Xa=!1,Yo=null,Ir=!1,Ac=null,Hm={onError:function(a){Xa=!0,Yo=a}};function Jo(a,l,u,g,b,k,$,Q,X){Xa=!1,Yo=null,Qa.apply(Hm,arguments)}function Lu(a,l,u,g,b,k,$,Q,X){if(Jo.apply(this,arguments),Xa){if(Xa){var le=Yo;Xa=!1,Yo=null}else throw Error(s(198));Ir||(Ir=!0,Ac=le)}}function Rr(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function Ya(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Pr(a){if(Rr(a)!==a)throw Error(s(188))}function Du(a){var l=a.alternate;if(!l){if(l=Rr(a),l===null)throw Error(s(188));return l!==a?null:a}for(var u=a,g=l;;){var b=u.return;if(b===null)break;var k=b.alternate;if(k===null){if(g=b.return,g!==null){u=g;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===u)return Pr(b),a;if(k===g)return Pr(b),l;k=k.sibling}throw Error(s(188))}if(u.return!==g.return)u=b,g=k;else{for(var $=!1,Q=b.child;Q;){if(Q===u){$=!0,u=b,g=k;break}if(Q===g){$=!0,g=b,u=k;break}Q=Q.sibling}if(!$){for(Q=k.child;Q;){if(Q===u){$=!0,u=k,g=b;break}if(Q===g){$=!0,g=k,u=b;break}Q=Q.sibling}if(!$)throw Error(s(189))}}if(u.alternate!==g)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?a:l}function Ic(a){return a=Du(a),a!==null?Zo(a):null}function Zo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Zo(a);if(l!==null)return l;a=a.sibling}return null}var el=e.unstable_scheduleCallback,Rc=e.unstable_cancelCallback,Mu=e.unstable_shouldYield,Wm=e.unstable_requestPaint,Lt=e.unstable_now,Fu=e.unstable_getCurrentPriorityLevel,Ja=e.unstable_ImmediatePriority,ra=e.unstable_UserBlockingPriority,cr=e.unstable_NormalPriority,Pc=e.unstable_LowPriority,Bu=e.unstable_IdlePriority,Za=null,Os=null;function $u(a){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Za,a,void 0,(a.current.flags&128)===128)}catch(l){}}var ds=Math.clz32?Math.clz32:Ou,Lc=Math.log,Vu=Math.LN2;function Ou(a){return a>>>=0,a===0?32:31-(Lc(a)/Vu|0)|0}var tl=64,nl=4194304;function ia(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function eo(a,l){var u=a.pendingLanes;if(u===0)return 0;var g=0,b=a.suspendedLanes,k=a.pingedLanes,$=u&268435455;if($!==0){var Q=$&~b;Q!==0?g=ia(Q):(k&=$,k!==0&&(g=ia(k)))}else $=u&~b,$!==0?g=ia($):k!==0&&(g=ia(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=u&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)u=31-ds(l),b=1<<u,g|=a[u],l&=~b;return g}function qm(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(a,l){for(var u=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var $=31-ds(k),Q=1<<$,X=b[$];X===-1?((Q&u)===0||(Q&g)!==0)&&(b[$]=qm(Q,l)):X<=l&&(a.expiredLanes|=Q),k&=~Q}}function Us(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function to(){var a=tl;return tl<<=1,(tl&4194240)===0&&(tl=64),a}function aa(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function oa(a,l,u){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-ds(l),a[l]=u}function It(a,l){var u=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<u;){var b=31-ds(u),k=1<<b;l[b]=0,g[b]=-1,a[b]=-1,u&=~k}}function la(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var g=31-ds(u),b=1<<g;b&l|a[g]&l&&(a[g]|=l),u&=~b}}var pt=0;function ca(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Uu,sl,zu,Gu,Hu,Dc=!1,si=[],Fn=null,Lr=null,Dr=null,da=new Map,dr=new Map,ri=[],Km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wu(a,l){switch(a){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":da.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(l.pointerId)}}function js(a,l,u,g,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:l,domEventName:u,eventSystemFlags:g,nativeEvent:k,targetContainers:[b]},l!==null&&(l=Xc(l),l!==null&&sl(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function Qm(a,l,u,g,b){switch(l){case"focusin":return Fn=js(Fn,a,l,u,g,b),!0;case"dragenter":return Lr=js(Lr,a,l,u,g,b),!0;case"mouseover":return Dr=js(Dr,a,l,u,g,b),!0;case"pointerover":var k=b.pointerId;return da.set(k,js(da.get(k)||null,a,l,u,g,b)),!0;case"gotpointercapture":return k=b.pointerId,dr.set(k,js(dr.get(k)||null,a,l,u,g,b)),!0}return!1}function qu(a){var l=ao(a.target);if(l!==null){var u=Rr(l);if(u!==null){if(l=u.tag,l===13){if(l=Ya(u),l!==null){a.blockedOn=l,Hu(a.priority,function(){zu(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ti(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=rl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(u===null){u=a.nativeEvent;var g=new u.constructor(u.type,u);lr=g,u.target.dispatchEvent(g),lr=null}else return l=Xc(u),l!==null&&sl(l),a.blockedOn=u,!1;l.shift()}return!0}function no(a,l,u){Ti(a)&&u.delete(l)}function Ku(){Dc=!1,Fn!==null&&Ti(Fn)&&(Fn=null),Lr!==null&&Ti(Lr)&&(Lr=null),Dr!==null&&Ti(Dr)&&(Dr=null),da.forEach(no),dr.forEach(no)}function Mr(a,l){a.blockedOn===l&&(a.blockedOn=null,Dc||(Dc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ku)))}function Fr(a){function l(b){return Mr(b,a)}if(0<si.length){Mr(si[0],a);for(var u=1;u<si.length;u++){var g=si[u];g.blockedOn===a&&(g.blockedOn=null)}}for(Fn!==null&&Mr(Fn,a),Lr!==null&&Mr(Lr,a),Dr!==null&&Mr(Dr,a),da.forEach(l),dr.forEach(l),u=0;u<ri.length;u++)g=ri[u],g.blockedOn===a&&(g.blockedOn=null);for(;0<ri.length&&(u=ri[0],u.blockedOn===null);)qu(u),u.blockedOn===null&&ri.shift()}var Ci=y.ReactCurrentBatchConfig,ua=!0;function Wt(a,l,u,g){var b=pt,k=Ci.transition;Ci.transition=null;try{pt=1,Mc(a,l,u,g)}finally{pt=b,Ci.transition=k}}function Xm(a,l,u,g){var b=pt,k=Ci.transition;Ci.transition=null;try{pt=4,Mc(a,l,u,g)}finally{pt=b,Ci.transition=k}}function Mc(a,l,u,g){if(ua){var b=rl(a,l,u,g);if(b===null)lf(a,l,g,so,u),Wu(a,g);else if(Qm(b,a,l,u,g))g.stopPropagation();else if(Wu(a,g),l&4&&-1<Km.indexOf(a)){for(;b!==null;){var k=Xc(b);if(k!==null&&Uu(k),k=rl(a,l,u,g),k===null&&lf(a,l,g,so,u),k===b)break;b=k}b!==null&&g.stopPropagation()}else lf(a,l,g,null,u)}}var so=null;function rl(a,l,u,g){if(so=null,a=wi(g),a=ao(a),a!==null)if(l=Rr(a),l===null)a=null;else if(u=l.tag,u===13){if(a=Ya(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return so=a,null}function Fc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fu()){case Ja:return 1;case ra:return 4;case cr:case Pc:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var zs=null,il=null,Ss=null;function Bc(){if(Ss)return Ss;var a,l=il,u=l.length,g,b="value"in zs?zs.value:zs.textContent,k=b.length;for(a=0;a<u&&l[a]===b[a];a++);var $=u-a;for(g=1;g<=$&&l[u-g]===b[k-g];g++);return Ss=b.slice(a,1<g?1-g:void 0)}function al(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ii(){return!0}function $c(){return!1}function Bn(a){function l(u,g,b,k,$){this._reactName=u,this._targetInst=b,this.type=g,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var Q in a)a.hasOwnProperty(Q)&&(u=a[Q],this[Q]=u?u(k):k[Q]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?ii:$c,this.isPropagationStopped=$c,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),l}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Bn(Br),ai=re({},Br,{view:0,detail:0}),Ym=Bn(ai),ll,Ei,ha,ro=re({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ha&&(ha&&a.type==="mousemove"?(ll=a.screenX-ha.screenX,Ei=a.screenY-ha.screenY):Ei=ll=0,ha=a),ll)},movementY:function(a){return"movementY"in a?a.movementY:Ei}}),cl=Bn(ro),Vc=re({},ro,{dataTransfer:0}),Qu=Bn(Vc),dl=re({},ai,{relatedTarget:0}),ul=Bn(dl),Xu=re({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=Bn(Xu),Yu=re({},Br,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ju=Bn(Yu),Zu=re({},Br,{data:0}),Oc=Bn(Zu),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},us={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function th(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=eh[a])?!!l[a]:!1}function oi(){return th}var f=re({},ai,{key:function(a){if(a.key){var l=hl[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=al(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?us[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oi,charCode:function(a){return a.type==="keypress"?al(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?al(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),S=Bn(f),I=re({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Bn(I),ie=re({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oi}),ce=Bn(ie),Ne=re({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nt=Bn(Ne),Sn=re({},ro,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=Bn(Sn),En=[9,13,27,32],mn=d&&"CompositionEvent"in window,ur=null;d&&"documentMode"in document&&(ur=document.documentMode);var Gs=d&&"TextEvent"in window&&!ur,io=d&&(!mn||ur&&8<ur&&11>=ur),pl=" ",dy=!1;function uy(a,l){switch(a){case"keyup":return En.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ml=!1;function Q3(a,l){switch(a){case"compositionend":return hy(l);case"keypress":return l.which!==32?null:(dy=!0,pl);case"textInput":return a=l.data,a===pl&&dy?null:a;default:return null}}function X3(a,l){if(ml)return a==="compositionend"||!mn&&uy(a,l)?(a=Bc(),Ss=il=zs=null,ml=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return io&&l.locale!=="ko"?null:l.data;default:return null}}var Y3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Y3[a.type]:l==="textarea"}function my(a,l,u,g){Vs(g),l=ah(l,"onChange"),0<l.length&&(u=new ol("onChange","change",null,u,g),a.push({event:u,listeners:l}))}var Uc=null,zc=null;function J3(a){Ry(a,0)}function nh(a){var l=yl(a);if(Xe(l))return a}function Z3(a,l){if(a==="change")return l}var fy=!1;if(d){var Jm;if(d){var Zm="oninput"in document;if(!Zm){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),Zm=typeof gy.oninput=="function"}Jm=Zm}else Jm=!1;fy=Jm&&(!document.documentMode||9<document.documentMode)}function xy(){Uc&&(Uc.detachEvent("onpropertychange",vy),zc=Uc=null)}function vy(a){if(a.propertyName==="value"&&nh(zc)){var l=[];my(l,zc,a,wi(a)),Ec(J3,l)}}function e5(a,l,u){a==="focusin"?(xy(),Uc=l,zc=u,Uc.attachEvent("onpropertychange",vy)):a==="focusout"&&xy()}function t5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return nh(zc)}function n5(a,l){if(a==="click")return nh(l)}function s5(a,l){if(a==="input"||a==="change")return nh(l)}function r5(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var $r=typeof Object.is=="function"?Object.is:r5;function Gc(a,l){if($r(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),g=Object.keys(l);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var b=u[g];if(!h.call(l,b)||!$r(a[b],l[b]))return!1}return!0}function yy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function by(a,l){var u=yy(a);a=0;for(var g;u;){if(u.nodeType===3){if(g=a+u.textContent.length,a<=l&&g>=l)return{node:u,offset:l-a};a=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yy(u)}}function _y(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?_y(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function wy(){for(var a=window,l=At();l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch(g){u=!1}if(u)a=l.contentWindow;else break;l=At(a.document)}return l}function ef(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function i5(a){var l=wy(),u=a.focusedElem,g=a.selectionRange;if(l!==u&&u&&u.ownerDocument&&_y(u.ownerDocument.documentElement,u)){if(g!==null&&ef(u)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(a,u.value.length);else if(a=(l=u.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=u.textContent.length,k=Math.min(g.start,b);g=g.end===void 0?k:Math.min(g.end,b),!a.extend&&k>g&&(b=g,g=k,k=b),b=by(u,k);var $=by(u,g);b&&$&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),k>g?(a.addRange(l),a.extend($.node,$.offset)):(l.setEnd($.node,$.offset),a.addRange(l)))}}for(l=[],a=u;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)a=l[u],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var a5=d&&"documentMode"in document&&11>=document.documentMode,fl=null,tf=null,Hc=null,nf=!1;function jy(a,l,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nf||fl==null||fl!==At(g)||(g=fl,"selectionStart"in g&&ef(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Hc&&Gc(Hc,g)||(Hc=g,g=ah(tf,"onSelect"),0<g.length&&(l=new ol("onSelect","select",null,l,u),a.push({event:l,listeners:g}),l.target=fl)))}function sh(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var gl={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},sf={},Sy={};d&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function rh(a){if(sf[a])return sf[a];if(!gl[a])return a;var l=gl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Sy)return sf[a]=l[u];return a}var ky=rh("animationend"),Ny=rh("animationiteration"),Ty=rh("animationstart"),Cy=rh("transitionend"),Ey=new Map,Ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(a,l){Ey.set(a,l),o(l,[a])}for(var rf=0;rf<Ay.length;rf++){var af=Ay[rf],o5=af.toLowerCase(),l5=af[0].toUpperCase()+af.slice(1);pa(o5,"on"+l5)}pa(ky,"onAnimationEnd"),pa(Ny,"onAnimationIteration"),pa(Ty,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(Cy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function Iy(a,l,u){var g=a.type||"unknown-event";a.currentTarget=u,Lu(g,l,void 0,a),a.currentTarget=null}function Ry(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var g=a[u],b=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var $=g.length-1;0<=$;$--){var Q=g[$],X=Q.instance,le=Q.currentTarget;if(Q=Q.listener,X!==k&&b.isPropagationStopped())break e;Iy(b,Q,le),k=X}else for($=0;$<g.length;$++){if(Q=g[$],X=Q.instance,le=Q.currentTarget,Q=Q.listener,X!==k&&b.isPropagationStopped())break e;Iy(b,Q,le),k=X}}}if(Ir)throw a=Ac,Ir=!1,Ac=null,a}function Ut(a,l){var u=l[mf];u===void 0&&(u=l[mf]=new Set);var g=a+"__bubble";u.has(g)||(Py(l,a,2,!1),u.add(g))}function of(a,l,u){var g=0;l&&(g|=4),Py(u,a,g,l)}var ih="_reactListening"+Math.random().toString(36).slice(2);function qc(a){if(!a[ih]){a[ih]=!0,r.forEach(function(u){u!=="selectionchange"&&(c5.has(u)||of(u,!1,a),of(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[ih]||(l[ih]=!0,of("selectionchange",!1,l))}}function Py(a,l,u,g){switch(Fc(l)){case 1:var b=Wt;break;case 4:b=Xm;break;default:b=Mc}u=b.bind(null,l,u,a),b=void 0,!Xo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(l,u,{capture:!0,passive:b}):a.addEventListener(l,u,!0):b!==void 0?a.addEventListener(l,u,{passive:b}):a.addEventListener(l,u,!1)}function lf(a,l,u,g,b){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var Q=g.stateNode.containerInfo;if(Q===b||Q.nodeType===8&&Q.parentNode===b)break;if($===4)for($=g.return;$!==null;){var X=$.tag;if((X===3||X===4)&&(X=$.stateNode.containerInfo,X===b||X.nodeType===8&&X.parentNode===b))return;$=$.return}for(;Q!==null;){if($=ao(Q),$===null)return;if(X=$.tag,X===5||X===6){g=k=$;continue e}Q=Q.parentNode}}g=g.return}Ec(function(){var le=k,xe=wi(u),_e=[];e:{var ge=Ey.get(a);if(ge!==void 0){var Pe=ol,Me=a;switch(a){case"keypress":if(al(u)===0)break e;case"keydown":case"keyup":Pe=S;break;case"focusin":Me="focus",Pe=ul;break;case"focusout":Me="blur",Pe=ul;break;case"beforeblur":case"afterblur":Pe=ul;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=ce;break;case ky:case Ny:case Ty:Pe=Ai;break;case Cy:Pe=Nt;break;case"scroll":Pe=Ym;break;case"wheel":Pe=ft;break;case"copy":case"cut":case"paste":Pe=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=U}var Fe=(l&4)!==0,dn=!Fe&&a==="scroll",ae=Fe?ge!==null?ge+"Capture":null:ge;Fe=[];for(var J=le,oe;J!==null;){oe=J;var je=oe.stateNode;if(oe.tag===5&&je!==null&&(oe=je,ae!==null&&(je=cn(J,ae),je!=null&&Fe.push(Kc(J,je,oe)))),dn)break;J=J.return}0<Fe.length&&(ge=new Pe(ge,Me,null,u,xe),_e.push({event:ge,listeners:Fe}))}}if((l&7)===0){e:{if(ge=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",ge&&u!==lr&&(Me=u.relatedTarget||u.fromElement)&&(ao(Me)||Me[Ii]))break e;if((Pe||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,Pe?(Me=u.relatedTarget||u.toElement,Pe=le,Me=Me?ao(Me):null,Me!==null&&(dn=Rr(Me),Me!==dn||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Pe=null,Me=le),Pe!==Me)){if(Fe=cl,je="onMouseLeave",ae="onMouseEnter",J="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=U,je="onPointerLeave",ae="onPointerEnter",J="pointer"),dn=Pe==null?ge:yl(Pe),oe=Me==null?ge:yl(Me),ge=new Fe(je,J+"leave",Pe,u,xe),ge.target=dn,ge.relatedTarget=oe,je=null,ao(xe)===le&&(Fe=new Fe(ae,J+"enter",Me,u,xe),Fe.target=oe,Fe.relatedTarget=dn,je=Fe),dn=je,Pe&&Me)t:{for(Fe=Pe,ae=Me,J=0,oe=Fe;oe;oe=xl(oe))J++;for(oe=0,je=ae;je;je=xl(je))oe++;for(;0<J-oe;)Fe=xl(Fe),J--;for(;0<oe-J;)ae=xl(ae),oe--;for(;J--;){if(Fe===ae||ae!==null&&Fe===ae.alternate)break t;Fe=xl(Fe),ae=xl(ae)}Fe=null}else Fe=null;Pe!==null&&Ly(_e,ge,Pe,Fe,!1),Me!==null&&dn!==null&&Ly(_e,dn,Me,Fe,!0)}}e:{if(ge=le?yl(le):window,Pe=ge.nodeName&&ge.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ge.type==="file")var Ve=Z3;else if(py(ge))if(fy)Ve=s5;else{Ve=t5;var Ge=e5}else(Pe=ge.nodeName)&&Pe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Ve=n5);if(Ve&&(Ve=Ve(a,le))){my(_e,Ve,u,xe);break e}Ge&&Ge(a,ge,le),a==="focusout"&&(Ge=ge._wrapperState)&&Ge.controlled&&ge.type==="number"&&ws(ge,"number",ge.value)}switch(Ge=le?yl(le):window,a){case"focusin":(py(Ge)||Ge.contentEditable==="true")&&(fl=Ge,tf=le,Hc=null);break;case"focusout":Hc=tf=fl=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,jy(_e,u,xe);break;case"selectionchange":if(a5)break;case"keydown":case"keyup":jy(_e,u,xe)}var He;if(mn)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ml?uy(a,u)&&(Qe="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Qe="onCompositionStart");Qe&&(io&&u.locale!=="ko"&&(ml||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ml&&(He=Bc()):(zs=xe,il="value"in zs?zs.value:zs.textContent,ml=!0)),Ge=ah(le,Qe),0<Ge.length&&(Qe=new Oc(Qe,a,null,u,xe),_e.push({event:Qe,listeners:Ge}),He?Qe.data=He:(He=hy(u),He!==null&&(Qe.data=He)))),(He=Gs?Q3(a,u):X3(a,u))&&(le=ah(le,"onBeforeInput"),0<le.length&&(xe=new Oc("onBeforeInput","beforeinput",null,u,xe),_e.push({event:xe,listeners:le}),xe.data=He))}Ry(_e,l)})}function Kc(a,l,u){return{instance:a,listener:l,currentTarget:u}}function ah(a,l){for(var u=l+"Capture",g=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=cn(a,u),k!=null&&g.unshift(Kc(a,k,b)),k=cn(a,l),k!=null&&g.push(Kc(a,k,b))),a=a.return}return g}function xl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ly(a,l,u,g,b){for(var k=l._reactName,$=[];u!==null&&u!==g;){var Q=u,X=Q.alternate,le=Q.stateNode;if(X!==null&&X===g)break;Q.tag===5&&le!==null&&(Q=le,b?(X=cn(u,k),X!=null&&$.unshift(Kc(u,X,Q))):b||(X=cn(u,k),X!=null&&$.push(Kc(u,X,Q)))),u=u.return}$.length!==0&&a.push({event:l,listeners:$})}var d5=/\r\n?/g,u5=/\u0000|\uFFFD/g;function Dy(a){return(typeof a=="string"?a:""+a).replace(d5,`
`).replace(u5,"")}function oh(a,l,u){if(l=Dy(l),Dy(a)!==l&&u)throw Error(s(425))}function lh(){}var cf=null,df=null;function uf(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,h5=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,p5=typeof queueMicrotask=="function"?queueMicrotask:typeof My!="undefined"?function(a){return My.resolve(null).then(a).catch(m5)}:hf;function m5(a){setTimeout(function(){throw a})}function pf(a,l){var u=l,g=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(g===0){a.removeChild(b),Fr(l);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=b}while(u);Fr(l)}function ma(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Fy(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}var vl=Math.random().toString(36).slice(2),li="__reactFiber$"+vl,Qc="__reactProps$"+vl,Ii="__reactContainer$"+vl,mf="__reactEvents$"+vl,f5="__reactListeners$"+vl,g5="__reactHandles$"+vl;function ao(a){var l=a[li];if(l)return l;for(var u=a.parentNode;u;){if(l=u[Ii]||u[li]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=Fy(a);a!==null;){if(u=a[li])return u;a=Fy(a)}return l}a=u,u=a.parentNode}return null}function Xc(a){return a=a[li]||a[Ii],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function yl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(s(33))}function ch(a){return a[Qc]||null}var ff=[],bl=-1;function fa(a){return{current:a}}function zt(a){0>bl||(a.current=ff[bl],ff[bl]=null,bl--)}function Dt(a,l){bl++,ff[bl]=a.current,a.current=l}var ga={},Yn=fa(ga),ks=fa(!1),oo=ga;function _l(a,l){var u=a.type.contextTypes;if(!u)return ga;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in u)b[k]=l[k];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function Ns(a){return a=a.childContextTypes,a!=null}function dh(){zt(ks),zt(Yn)}function By(a,l,u){if(Yn.current!==ga)throw Error(s(168));Dt(Yn,l),Dt(ks,u)}function $y(a,l,u){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(s(108,me(a)||"Unknown",b));return re({},u,g)}function uh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ga,oo=Yn.current,Dt(Yn,a),Dt(ks,ks.current),!0}function Vy(a,l,u){var g=a.stateNode;if(!g)throw Error(s(169));u?(a=$y(a,l,oo),g.__reactInternalMemoizedMergedChildContext=a,zt(ks),zt(Yn),Dt(Yn,a)):zt(ks),Dt(ks,u)}var Ri=null,hh=!1,gf=!1;function Oy(a){Ri===null?Ri=[a]:Ri.push(a)}function x5(a){hh=!0,Oy(a)}function xa(){if(!gf&&Ri!==null){gf=!0;var a=0,l=pt;try{var u=Ri;for(pt=1;a<u.length;a++){var g=u[a];do g=g(!0);while(g!==null)}Ri=null,hh=!1}catch(b){throw Ri!==null&&(Ri=Ri.slice(a+1)),el(Ja,xa),b}finally{pt=l,gf=!1}}return null}var wl=[],jl=0,ph=null,mh=0,hr=[],pr=0,lo=null,Pi=1,Li="";function co(a,l){wl[jl++]=mh,wl[jl++]=ph,ph=a,mh=l}function Uy(a,l,u){hr[pr++]=Pi,hr[pr++]=Li,hr[pr++]=lo,lo=a;var g=Pi;a=Li;var b=32-ds(g)-1;g&=~(1<<b),u+=1;var k=32-ds(l)+b;if(30<k){var $=b-b%5;k=(g&(1<<$)-1).toString(32),g>>=$,b-=$,Pi=1<<32-ds(l)+b|u<<b|g,Li=k+a}else Pi=1<<k|u<<b|g,Li=a}function xf(a){a.return!==null&&(co(a,1),Uy(a,1,0))}function vf(a){for(;a===ph;)ph=wl[--jl],wl[jl]=null,mh=wl[--jl],wl[jl]=null;for(;a===lo;)lo=hr[--pr],hr[pr]=null,Li=hr[--pr],hr[pr]=null,Pi=hr[--pr],hr[pr]=null}var Hs=null,Ws=null,qt=!1,Vr=null;function zy(a,l){var u=xr(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=a,l=a.deletions,l===null?(a.deletions=[u],a.flags|=16):l.push(u)}function Gy(a,l){switch(a.tag){case 5:var u=a.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Hs=a,Ws=ma(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Hs=a,Ws=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=lo!==null?{id:Pi,overflow:Li}:null,a.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=xr(18,null,null,0),u.stateNode=l,u.return=a,a.child=u,Hs=a,Ws=null,!0):!1;default:return!1}}function yf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function bf(a){if(qt){var l=Ws;if(l){var u=l;if(!Gy(a,l)){if(yf(a))throw Error(s(418));l=ma(u.nextSibling);var g=Hs;l&&Gy(a,l)?zy(g,u):(a.flags=a.flags&-4097|2,qt=!1,Hs=a)}}else{if(yf(a))throw Error(s(418));a.flags=a.flags&-4097|2,qt=!1,Hs=a}}}function Hy(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Hs=a}function fh(a){if(a!==Hs)return!1;if(!qt)return Hy(a),qt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!uf(a.type,a.memoizedProps)),l&&(l=Ws)){if(yf(a))throw Wy(),Error(s(418));for(;l;)zy(a,l),l=ma(l.nextSibling)}if(Hy(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(l===0){Ws=ma(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}a=a.nextSibling}Ws=null}}else Ws=Hs?ma(a.stateNode.nextSibling):null;return!0}function Wy(){for(var a=Ws;a;)a=ma(a.nextSibling)}function Sl(){Ws=Hs=null,qt=!1}function _f(a){Vr===null?Vr=[a]:Vr.push(a)}var v5=y.ReactCurrentBatchConfig;function Yc(a,l,u){if(a=u.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(s(309));var g=u.stateNode}if(!g)throw Error(s(147,a));var b=g,k=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function($){var Q=b.refs;$===null?delete Q[k]:Q[k]=$},l._stringRef=k,l)}if(typeof a!="string")throw Error(s(284));if(!u._owner)throw Error(s(290,a))}return a}function gh(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function qy(a){var l=a._init;return l(a._payload)}function Ky(a){function l(ae,J){if(a){var oe=ae.deletions;oe===null?(ae.deletions=[J],ae.flags|=16):oe.push(J)}}function u(ae,J){if(!a)return null;for(;J!==null;)l(ae,J),J=J.sibling;return null}function g(ae,J){for(ae=new Map;J!==null;)J.key!==null?ae.set(J.key,J):ae.set(J.index,J),J=J.sibling;return ae}function b(ae,J){return ae=ka(ae,J),ae.index=0,ae.sibling=null,ae}function k(ae,J,oe){return ae.index=oe,a?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<J?(ae.flags|=2,J):oe):(ae.flags|=2,J)):(ae.flags|=1048576,J)}function $(ae){return a&&ae.alternate===null&&(ae.flags|=2),ae}function Q(ae,J,oe,je){return J===null||J.tag!==6?(J=hg(oe,ae.mode,je),J.return=ae,J):(J=b(J,oe),J.return=ae,J)}function X(ae,J,oe,je){var Ve=oe.type;return Ve===T?xe(ae,J,oe.props.children,je,oe.key):J!==null&&(J.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===q&&qy(Ve)===J.type)?(je=b(J,oe.props),je.ref=Yc(ae,J,oe),je.return=ae,je):(je=Vh(oe.type,oe.key,oe.props,null,ae.mode,je),je.ref=Yc(ae,J,oe),je.return=ae,je)}function le(ae,J,oe,je){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=pg(oe,ae.mode,je),J.return=ae,J):(J=b(J,oe.children||[]),J.return=ae,J)}function xe(ae,J,oe,je,Ve){return J===null||J.tag!==7?(J=vo(oe,ae.mode,je,Ve),J.return=ae,J):(J=b(J,oe),J.return=ae,J)}function _e(ae,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return J=hg(""+J,ae.mode,oe),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return oe=Vh(J.type,J.key,J.props,null,ae.mode,oe),oe.ref=Yc(ae,null,J),oe.return=ae,oe;case M:return J=pg(J,ae.mode,oe),J.return=ae,J;case q:var je=J._init;return _e(ae,je(J._payload),oe)}if(os(J)||ne(J))return J=vo(J,ae.mode,oe,null),J.return=ae,J;gh(ae,J)}return null}function ge(ae,J,oe,je){var Ve=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ve!==null?null:Q(ae,J,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return oe.key===Ve?X(ae,J,oe,je):null;case M:return oe.key===Ve?le(ae,J,oe,je):null;case q:return Ve=oe._init,ge(ae,J,Ve(oe._payload),je)}if(os(oe)||ne(oe))return Ve!==null?null:xe(ae,J,oe,je,null);gh(ae,oe)}return null}function Pe(ae,J,oe,je,Ve){if(typeof je=="string"&&je!==""||typeof je=="number")return ae=ae.get(oe)||null,Q(J,ae,""+je,Ve);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case j:return ae=ae.get(je.key===null?oe:je.key)||null,X(J,ae,je,Ve);case M:return ae=ae.get(je.key===null?oe:je.key)||null,le(J,ae,je,Ve);case q:var Ge=je._init;return Pe(ae,J,oe,Ge(je._payload),Ve)}if(os(je)||ne(je))return ae=ae.get(oe)||null,xe(J,ae,je,Ve,null);gh(J,je)}return null}function Me(ae,J,oe,je){for(var Ve=null,Ge=null,He=J,Qe=J=0,Rn=null;He!==null&&Qe<oe.length;Qe++){He.index>Qe?(Rn=He,He=null):Rn=He.sibling;var bt=ge(ae,He,oe[Qe],je);if(bt===null){He===null&&(He=Rn);break}a&&He&&bt.alternate===null&&l(ae,He),J=k(bt,J,Qe),Ge===null?Ve=bt:Ge.sibling=bt,Ge=bt,He=Rn}if(Qe===oe.length)return u(ae,He),qt&&co(ae,Qe),Ve;if(He===null){for(;Qe<oe.length;Qe++)He=_e(ae,oe[Qe],je),He!==null&&(J=k(He,J,Qe),Ge===null?Ve=He:Ge.sibling=He,Ge=He);return qt&&co(ae,Qe),Ve}for(He=g(ae,He);Qe<oe.length;Qe++)Rn=Pe(He,ae,Qe,oe[Qe],je),Rn!==null&&(a&&Rn.alternate!==null&&He.delete(Rn.key===null?Qe:Rn.key),J=k(Rn,J,Qe),Ge===null?Ve=Rn:Ge.sibling=Rn,Ge=Rn);return a&&He.forEach(function(Na){return l(ae,Na)}),qt&&co(ae,Qe),Ve}function Fe(ae,J,oe,je){var Ve=ne(oe);if(typeof Ve!="function")throw Error(s(150));if(oe=Ve.call(oe),oe==null)throw Error(s(151));for(var Ge=Ve=null,He=J,Qe=J=0,Rn=null,bt=oe.next();He!==null&&!bt.done;Qe++,bt=oe.next()){He.index>Qe?(Rn=He,He=null):Rn=He.sibling;var Na=ge(ae,He,bt.value,je);if(Na===null){He===null&&(He=Rn);break}a&&He&&Na.alternate===null&&l(ae,He),J=k(Na,J,Qe),Ge===null?Ve=Na:Ge.sibling=Na,Ge=Na,He=Rn}if(bt.done)return u(ae,He),qt&&co(ae,Qe),Ve;if(He===null){for(;!bt.done;Qe++,bt=oe.next())bt=_e(ae,bt.value,je),bt!==null&&(J=k(bt,J,Qe),Ge===null?Ve=bt:Ge.sibling=bt,Ge=bt);return qt&&co(ae,Qe),Ve}for(He=g(ae,He);!bt.done;Qe++,bt=oe.next())bt=Pe(He,ae,Qe,bt.value,je),bt!==null&&(a&&bt.alternate!==null&&He.delete(bt.key===null?Qe:bt.key),J=k(bt,J,Qe),Ge===null?Ve=bt:Ge.sibling=bt,Ge=bt);return a&&He.forEach(function(Y5){return l(ae,Y5)}),qt&&co(ae,Qe),Ve}function dn(ae,J,oe,je){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:e:{for(var Ve=oe.key,Ge=J;Ge!==null;){if(Ge.key===Ve){if(Ve=oe.type,Ve===T){if(Ge.tag===7){u(ae,Ge.sibling),J=b(Ge,oe.props.children),J.return=ae,ae=J;break e}}else if(Ge.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===q&&qy(Ve)===Ge.type){u(ae,Ge.sibling),J=b(Ge,oe.props),J.ref=Yc(ae,Ge,oe),J.return=ae,ae=J;break e}u(ae,Ge);break}else l(ae,Ge);Ge=Ge.sibling}oe.type===T?(J=vo(oe.props.children,ae.mode,je,oe.key),J.return=ae,ae=J):(je=Vh(oe.type,oe.key,oe.props,null,ae.mode,je),je.ref=Yc(ae,J,oe),je.return=ae,ae=je)}return $(ae);case M:e:{for(Ge=oe.key;J!==null;){if(J.key===Ge)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){u(ae,J.sibling),J=b(J,oe.children||[]),J.return=ae,ae=J;break e}else{u(ae,J);break}else l(ae,J);J=J.sibling}J=pg(oe,ae.mode,je),J.return=ae,ae=J}return $(ae);case q:return Ge=oe._init,dn(ae,J,Ge(oe._payload),je)}if(os(oe))return Me(ae,J,oe,je);if(ne(oe))return Fe(ae,J,oe,je);gh(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,J!==null&&J.tag===6?(u(ae,J.sibling),J=b(J,oe),J.return=ae,ae=J):(u(ae,J),J=hg(oe,ae.mode,je),J.return=ae,ae=J),$(ae)):u(ae,J)}return dn}var kl=Ky(!0),Qy=Ky(!1),xh=fa(null),vh=null,Nl=null,wf=null;function jf(){wf=Nl=vh=null}function Sf(a){var l=xh.current;zt(xh),a._currentValue=l}function kf(a,l,u){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===u)break;a=a.return}}function Tl(a,l){vh=a,wf=Nl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Ts=!0),a.firstContext=null)}function mr(a){var l=a._currentValue;if(wf!==a)if(a={context:a,memoizedValue:l,next:null},Nl===null){if(vh===null)throw Error(s(308));Nl=a,vh.dependencies={lanes:0,firstContext:a}}else Nl=Nl.next=a;return l}var uo=null;function Nf(a){uo===null?uo=[a]:uo.push(a)}function Xy(a,l,u,g){var b=l.interleaved;return b===null?(u.next=u,Nf(l)):(u.next=b.next,b.next=u),l.interleaved=u,Di(a,g)}function Di(a,l){a.lanes|=l;var u=a.alternate;for(u!==null&&(u.lanes|=l),u=a,a=a.return;a!==null;)a.childLanes|=l,u=a.alternate,u!==null&&(u.childLanes|=l),u=a,a=a.return;return u.tag===3?u.stateNode:null}var va=!1;function Tf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Mi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ya(a,l,u){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(xt&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Di(a,u)}return b=g.interleaved,b===null?(l.next=l,Nf(g)):(l.next=b.next,b.next=l),g.interleaved=l,Di(a,u)}function yh(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,u|=g,l.lanes=u,la(a,u)}}function Jy(a,l){var u=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var b=null,k=null;if(u=u.firstBaseUpdate,u!==null){do{var $={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};k===null?b=k=$:k=k.next=$,u=u.next}while(u!==null);k===null?b=k=l:k=k.next=l}else b=k=l;u={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:g.shared,effects:g.effects},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}function bh(a,l,u,g){var b=a.updateQueue;va=!1;var k=b.firstBaseUpdate,$=b.lastBaseUpdate,Q=b.shared.pending;if(Q!==null){b.shared.pending=null;var X=Q,le=X.next;X.next=null,$===null?k=le:$.next=le,$=X;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,Q=xe.lastBaseUpdate,Q!==$&&(Q===null?xe.firstBaseUpdate=le:Q.next=le,xe.lastBaseUpdate=X))}if(k!==null){var _e=b.baseState;$=0,xe=le=X=null,Q=k;do{var ge=Q.lane,Pe=Q.eventTime;if((g&ge)===ge){xe!==null&&(xe=xe.next={eventTime:Pe,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Me=a,Fe=Q;switch(ge=l,Pe=u,Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){_e=Me.call(Pe,_e,ge);break e}_e=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,ge=typeof Me=="function"?Me.call(Pe,_e,ge):Me,ge==null)break e;_e=re({},_e,ge);break e;case 2:va=!0}}Q.callback!==null&&Q.lane!==0&&(a.flags|=64,ge=b.effects,ge===null?b.effects=[Q]:ge.push(Q))}else Pe={eventTime:Pe,lane:ge,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},xe===null?(le=xe=Pe,X=_e):xe=xe.next=Pe,$|=ge;if(Q=Q.next,Q===null){if(Q=b.shared.pending,Q===null)break;ge=Q,Q=ge.next,ge.next=null,b.lastBaseUpdate=ge,b.shared.pending=null}}while(!0);if(xe===null&&(X=_e),b.baseState=X,b.firstBaseUpdate=le,b.lastBaseUpdate=xe,l=b.shared.interleaved,l!==null){b=l;do $|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);mo|=$,a.lanes=$,a.memoizedState=_e}}function Zy(a,l,u){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],b=g.callback;if(b!==null){if(g.callback=null,g=u,typeof b!="function")throw Error(s(191,b));b.call(g)}}}var Jc={},ci=fa(Jc),Zc=fa(Jc),ed=fa(Jc);function ho(a){if(a===Jc)throw Error(s(174));return a}function Cf(a,l){switch(Dt(ed,l),Dt(Zc,a),Dt(ci,Jc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Vt(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Vt(l,a)}zt(ci),Dt(ci,l)}function Cl(){zt(ci),zt(Zc),zt(ed)}function e1(a){ho(ed.current);var l=ho(ci.current),u=Vt(l,a.type);l!==u&&(Dt(Zc,a),Dt(ci,u))}function Ef(a){Zc.current===a&&(zt(ci),zt(Zc))}var Yt=fa(0);function _h(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Af=[];function If(){for(var a=0;a<Af.length;a++)Af[a]._workInProgressVersionPrimary=null;Af.length=0}var wh=y.ReactCurrentDispatcher,Rf=y.ReactCurrentBatchConfig,po=0,Jt=null,kn=null,An=null,jh=!1,td=!1,nd=0,y5=0;function Jn(){throw Error(s(321))}function Pf(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!$r(a[u],l[u]))return!1;return!0}function Lf(a,l,u,g,b,k){if(po=k,Jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,wh.current=a===null||a.memoizedState===null?j5:S5,a=u(g,b),td){k=0;do{if(td=!1,nd=0,25<=k)throw Error(s(301));k+=1,An=kn=null,l.updateQueue=null,wh.current=k5,a=u(g,b)}while(td)}if(wh.current=Nh,l=kn!==null&&kn.next!==null,po=0,An=kn=Jt=null,jh=!1,l)throw Error(s(300));return a}function Df(){var a=nd!==0;return nd=0,a}function di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Jt.memoizedState=An=a:An=An.next=a,An}function fr(){if(kn===null){var a=Jt.alternate;a=a!==null?a.memoizedState:null}else a=kn.next;var l=An===null?Jt.memoizedState:An.next;if(l!==null)An=l,kn=a;else{if(a===null)throw Error(s(310));kn=a,a={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},An===null?Jt.memoizedState=An=a:An=An.next=a}return An}function sd(a,l){return typeof l=="function"?l(a):l}function Mf(a){var l=fr(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=kn,b=g.baseQueue,k=u.pending;if(k!==null){if(b!==null){var $=b.next;b.next=k.next,k.next=$}g.baseQueue=b=k,u.pending=null}if(b!==null){k=b.next,g=g.baseState;var Q=$=null,X=null,le=k;do{var xe=le.lane;if((po&xe)===xe)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),g=le.hasEagerState?le.eagerState:a(g,le.action);else{var _e={lane:xe,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(Q=X=_e,$=g):X=X.next=_e,Jt.lanes|=xe,mo|=xe}le=le.next}while(le!==null&&le!==k);X===null?$=g:X.next=Q,$r(g,l.memoizedState)||(Ts=!0),l.memoizedState=g,l.baseState=$,l.baseQueue=X,u.lastRenderedState=g}if(a=u.interleaved,a!==null){b=a;do k=b.lane,Jt.lanes|=k,mo|=k,b=b.next;while(b!==a)}else b===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function Ff(a){var l=fr(),u=l.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=u.dispatch,b=u.pending,k=l.memoizedState;if(b!==null){u.pending=null;var $=b=b.next;do k=a(k,$.action),$=$.next;while($!==b);$r(k,l.memoizedState)||(Ts=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),u.lastRenderedState=k}return[k,g]}function t1(){}function n1(a,l){var u=Jt,g=fr(),b=l(),k=!$r(g.memoizedState,b);if(k&&(g.memoizedState=b,Ts=!0),g=g.queue,Bf(i1.bind(null,u,g,a),[a]),g.getSnapshot!==l||k||An!==null&&An.memoizedState.tag&1){if(u.flags|=2048,rd(9,r1.bind(null,u,g,b,l),void 0,null),In===null)throw Error(s(349));(po&30)!==0||s1(u,l,b)}return b}function s1(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Jt.updateQueue,l===null?(l={lastEffect:null,stores:null},Jt.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function r1(a,l,u,g){l.value=u,l.getSnapshot=g,a1(l)&&o1(a)}function i1(a,l,u){return u(function(){a1(l)&&o1(a)})}function a1(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!$r(a,u)}catch(g){return!0}}function o1(a){var l=Di(a,1);l!==null&&Gr(l,a,1,-1)}function l1(a){var l=di();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:a},l.queue=a,a=a.dispatch=w5.bind(null,Jt,a),[l.memoizedState,a]}function rd(a,l,u,g){return a={tag:a,create:l,destroy:u,deps:g,next:null},l=Jt.updateQueue,l===null?(l={lastEffect:null,stores:null},Jt.updateQueue=l,l.lastEffect=a.next=a):(u=l.lastEffect,u===null?l.lastEffect=a.next=a:(g=u.next,u.next=a,a.next=g,l.lastEffect=a)),a}function c1(){return fr().memoizedState}function Sh(a,l,u,g){var b=di();Jt.flags|=a,b.memoizedState=rd(1|l,u,void 0,g===void 0?null:g)}function kh(a,l,u,g){var b=fr();g=g===void 0?null:g;var k=void 0;if(kn!==null){var $=kn.memoizedState;if(k=$.destroy,g!==null&&Pf(g,$.deps)){b.memoizedState=rd(l,u,k,g);return}}Jt.flags|=a,b.memoizedState=rd(1|l,u,k,g)}function d1(a,l){return Sh(8390656,8,a,l)}function Bf(a,l){return kh(2048,8,a,l)}function u1(a,l){return kh(4,2,a,l)}function h1(a,l){return kh(4,4,a,l)}function p1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function m1(a,l,u){return u=u!=null?u.concat([a]):null,kh(4,4,p1.bind(null,l,a),u)}function $f(){}function f1(a,l){var u=fr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Pf(l,g[1])?g[0]:(u.memoizedState=[a,l],a)}function g1(a,l){var u=fr();l=l===void 0?null:l;var g=u.memoizedState;return g!==null&&l!==null&&Pf(l,g[1])?g[0]:(a=a(),u.memoizedState=[a,l],a)}function x1(a,l,u){return(po&21)===0?(a.baseState&&(a.baseState=!1,Ts=!0),a.memoizedState=u):($r(u,l)||(u=to(),Jt.lanes|=u,mo|=u,a.baseState=!0),l)}function b5(a,l){var u=pt;pt=u!==0&&4>u?u:4,a(!0);var g=Rf.transition;Rf.transition={};try{a(!1),l()}finally{pt=u,Rf.transition=g}}function v1(){return fr().memoizedState}function _5(a,l,u){var g=ja(a);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},y1(a))b1(l,u);else if(u=Xy(a,l,u,g),u!==null){var b=ps();Gr(u,a,g,b),_1(u,l,g)}}function w5(a,l,u){var g=ja(a),b={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(y1(a))b1(l,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var $=l.lastRenderedState,Q=k($,u);if(b.hasEagerState=!0,b.eagerState=Q,$r(Q,$)){var X=l.interleaved;X===null?(b.next=b,Nf(l)):(b.next=X.next,X.next=b),l.interleaved=b;return}}catch(le){}finally{}u=Xy(a,l,b,g),u!==null&&(b=ps(),Gr(u,a,g,b),_1(u,l,g))}}function y1(a){var l=a.alternate;return a===Jt||l!==null&&l===Jt}function b1(a,l){td=jh=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function _1(a,l,u){if((u&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,u|=g,l.lanes=u,la(a,u)}}var Nh={readContext:mr,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},j5={readContext:mr,useCallback:function(a,l){return di().memoizedState=[a,l===void 0?null:l],a},useContext:mr,useEffect:d1,useImperativeHandle:function(a,l,u){return u=u!=null?u.concat([a]):null,Sh(4194308,4,p1.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Sh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Sh(4,2,a,l)},useMemo:function(a,l){var u=di();return l=l===void 0?null:l,a=a(),u.memoizedState=[a,l],a},useReducer:function(a,l,u){var g=di();return l=u!==void 0?u(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=_5.bind(null,Jt,a),[g.memoizedState,a]},useRef:function(a){var l=di();return a={current:a},l.memoizedState=a},useState:l1,useDebugValue:$f,useDeferredValue:function(a){return di().memoizedState=a},useTransition:function(){var a=l1(!1),l=a[0];return a=b5.bind(null,a[1]),di().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,u){var g=Jt,b=di();if(qt){if(u===void 0)throw Error(s(407));u=u()}else{if(u=l(),In===null)throw Error(s(349));(po&30)!==0||s1(g,l,u)}b.memoizedState=u;var k={value:u,getSnapshot:l};return b.queue=k,d1(i1.bind(null,g,k,a),[a]),g.flags|=2048,rd(9,r1.bind(null,g,k,u,l),void 0,null),u},useId:function(){var a=di(),l=In.identifierPrefix;if(qt){var u=Li,g=Pi;u=(g&~(1<<32-ds(g)-1)).toString(32)+u,l=":"+l+"R"+u,u=nd++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=y5++,l=":"+l+"r"+u.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},S5={readContext:mr,useCallback:f1,useContext:mr,useEffect:Bf,useImperativeHandle:m1,useInsertionEffect:u1,useLayoutEffect:h1,useMemo:g1,useReducer:Mf,useRef:c1,useState:function(){return Mf(sd)},useDebugValue:$f,useDeferredValue:function(a){var l=fr();return x1(l,kn.memoizedState,a)},useTransition:function(){var a=Mf(sd)[0],l=fr().memoizedState;return[a,l]},useMutableSource:t1,useSyncExternalStore:n1,useId:v1,unstable_isNewReconciler:!1},k5={readContext:mr,useCallback:f1,useContext:mr,useEffect:Bf,useImperativeHandle:m1,useInsertionEffect:u1,useLayoutEffect:h1,useMemo:g1,useReducer:Ff,useRef:c1,useState:function(){return Ff(sd)},useDebugValue:$f,useDeferredValue:function(a){var l=fr();return kn===null?l.memoizedState=a:x1(l,kn.memoizedState,a)},useTransition:function(){var a=Ff(sd)[0],l=fr().memoizedState;return[a,l]},useMutableSource:t1,useSyncExternalStore:n1,useId:v1,unstable_isNewReconciler:!1};function Or(a,l){if(a&&a.defaultProps){l=re({},l),a=a.defaultProps;for(var u in a)l[u]===void 0&&(l[u]=a[u]);return l}return l}function Vf(a,l,u,g){l=a.memoizedState,u=u(g,l),u=u==null?l:re({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Th={isMounted:function(a){return(a=a._reactInternals)?Rr(a)===a:!1},enqueueSetState:function(a,l,u){a=a._reactInternals;var g=ps(),b=ja(a),k=Mi(g,b);k.payload=l,u!=null&&(k.callback=u),l=ya(a,k,b),l!==null&&(Gr(l,a,b,g),yh(l,a,b))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var g=ps(),b=ja(a),k=Mi(g,b);k.tag=1,k.payload=l,u!=null&&(k.callback=u),l=ya(a,k,b),l!==null&&(Gr(l,a,b,g),yh(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=ps(),g=ja(a),b=Mi(u,g);b.tag=2,l!=null&&(b.callback=l),l=ya(a,b,g),l!==null&&(Gr(l,a,g,u),yh(l,a,g))}};function w1(a,l,u,g,b,k,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,$):l.prototype&&l.prototype.isPureReactComponent?!Gc(u,g)||!Gc(b,k):!0}function j1(a,l,u){var g=!1,b=ga,k=l.contextType;return typeof k=="object"&&k!==null?k=mr(k):(b=Ns(l)?oo:Yn.current,g=l.contextTypes,k=(g=g!=null)?_l(a,b):ga),l=new l(u,k),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Th,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),l}function S1(a,l,u,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,g),l.state!==a&&Th.enqueueReplaceState(l,l.state,null)}function Of(a,l,u,g){var b=a.stateNode;b.props=u,b.state=a.memoizedState,b.refs={},Tf(a);var k=l.contextType;typeof k=="object"&&k!==null?b.context=mr(k):(k=Ns(l)?oo:Yn.current,b.context=_l(a,k)),b.state=a.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Vf(a,l,k,u),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Th.enqueueReplaceState(b,b.state,null),bh(a,u,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function El(a,l){try{var u="",g=l;do u+=fe(g),g=g.return;while(g);var b=u}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:l,stack:b,digest:null}}function Uf(a,l,u){return{value:a,source:null,stack:u!=null?u:null,digest:l!=null?l:null}}function zf(a,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var N5=typeof WeakMap=="function"?WeakMap:Map;function k1(a,l,u){u=Mi(-1,u),u.tag=3,u.payload={element:null};var g=l.value;return u.callback=function(){Lh||(Lh=!0,rg=g),zf(a,l)},u}function N1(a,l,u){u=Mi(-1,u),u.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;u.payload=function(){return g(b)},u.callback=function(){zf(a,l)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(u.callback=function(){zf(a,l),typeof g!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),u}function T1(a,l,u){var g=a.pingCache;if(g===null){g=a.pingCache=new N5;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(u)||(b.add(u),a=V5.bind(null,a,l,u),l.then(a,a))}function C1(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function E1(a,l,u,g,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=Mi(-1,1),l.tag=2,ya(u,l,1))),u.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var T5=y.ReactCurrentOwner,Ts=!1;function hs(a,l,u,g){l.child=a===null?Qy(l,null,u,g):kl(l,a.child,u,g)}function A1(a,l,u,g,b){u=u.render;var k=l.ref;return Tl(l,b),g=Lf(a,l,u,g,k,b),u=Df(),a!==null&&!Ts?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,Fi(a,l,b)):(qt&&u&&xf(l),l.flags|=1,hs(a,l,g,b),l.child)}function I1(a,l,u,g,b){if(a===null){var k=u.type;return typeof k=="function"&&!ug(k)&&k.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=k,R1(a,l,k,g,b)):(a=Vh(u.type,null,g,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(k=a.child,(a.lanes&b)===0){var $=k.memoizedProps;if(u=u.compare,u=u!==null?u:Gc,u($,g)&&a.ref===l.ref)return Fi(a,l,b)}return l.flags|=1,a=ka(k,g),a.ref=l.ref,a.return=l,l.child=a}function R1(a,l,u,g,b){if(a!==null){var k=a.memoizedProps;if(Gc(k,g)&&a.ref===l.ref)if(Ts=!1,l.pendingProps=g=k,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Ts=!0);else return l.lanes=a.lanes,Fi(a,l,b)}return Gf(a,l,u,g,b)}function P1(a,l,u){var g=l.pendingProps,b=g.children,k=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Il,qs),qs|=u;else{if((u&1073741824)===0)return a=k!==null?k.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Dt(Il,qs),qs|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:u,Dt(Il,qs),qs|=g}else k!==null?(g=k.baseLanes|u,l.memoizedState=null):g=u,Dt(Il,qs),qs|=g;return hs(a,l,b,u),l.child}function L1(a,l){var u=l.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function Gf(a,l,u,g,b){var k=Ns(u)?oo:Yn.current;return k=_l(l,k),Tl(l,b),u=Lf(a,l,u,g,k,b),g=Df(),a!==null&&!Ts?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,Fi(a,l,b)):(qt&&g&&xf(l),l.flags|=1,hs(a,l,u,b),l.child)}function D1(a,l,u,g,b){if(Ns(u)){var k=!0;uh(l)}else k=!1;if(Tl(l,b),l.stateNode===null)Eh(a,l),j1(l,u,g),Of(l,u,g,b),g=!0;else if(a===null){var $=l.stateNode,Q=l.memoizedProps;$.props=Q;var X=$.context,le=u.contextType;typeof le=="object"&&le!==null?le=mr(le):(le=Ns(u)?oo:Yn.current,le=_l(l,le));var xe=u.getDerivedStateFromProps,_e=typeof xe=="function"||typeof $.getSnapshotBeforeUpdate=="function";_e||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Q!==g||X!==le)&&S1(l,$,g,le),va=!1;var ge=l.memoizedState;$.state=ge,bh(l,g,$,b),X=l.memoizedState,Q!==g||ge!==X||ks.current||va?(typeof xe=="function"&&(Vf(l,u,xe,g),X=l.memoizedState),(Q=va||w1(l,u,Q,g,ge,X,le))?(_e||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),$.props=g,$.state=X,$.context=le,g=Q):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{$=l.stateNode,Yy(a,l),Q=l.memoizedProps,le=l.type===l.elementType?Q:Or(l.type,Q),$.props=le,_e=l.pendingProps,ge=$.context,X=u.contextType,typeof X=="object"&&X!==null?X=mr(X):(X=Ns(u)?oo:Yn.current,X=_l(l,X));var Pe=u.getDerivedStateFromProps;(xe=typeof Pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Q!==_e||ge!==X)&&S1(l,$,g,X),va=!1,ge=l.memoizedState,$.state=ge,bh(l,g,$,b);var Me=l.memoizedState;Q!==_e||ge!==Me||ks.current||va?(typeof Pe=="function"&&(Vf(l,u,Pe,g),Me=l.memoizedState),(le=va||w1(l,u,le,g,ge,Me,X)||!1)?(xe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Me,X),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Me,X)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||Q===a.memoizedProps&&ge===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&ge===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Me),$.props=g,$.state=Me,$.context=X,g=le):(typeof $.componentDidUpdate!="function"||Q===a.memoizedProps&&ge===a.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Q===a.memoizedProps&&ge===a.memoizedState||(l.flags|=1024),g=!1)}return Hf(a,l,u,g,k,b)}function Hf(a,l,u,g,b,k){L1(a,l);var $=(l.flags&128)!==0;if(!g&&!$)return b&&Vy(l,u,!1),Fi(a,l,k);g=l.stateNode,T5.current=l;var Q=$&&typeof u.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&$?(l.child=kl(l,a.child,null,k),l.child=kl(l,null,Q,k)):hs(a,l,Q,k),l.memoizedState=g.state,b&&Vy(l,u,!0),l.child}function M1(a){var l=a.stateNode;l.pendingContext?By(a,l.pendingContext,l.pendingContext!==l.context):l.context&&By(a,l.context,!1),Cf(a,l.containerInfo)}function F1(a,l,u,g,b){return Sl(),_f(b),l.flags|=256,hs(a,l,u,g),l.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function qf(a){return{baseLanes:a,cachePool:null,transitions:null}}function B1(a,l,u){var g=l.pendingProps,b=Yt.current,k=!1,$=(l.flags&128)!==0,Q;if((Q=$)||(Q=a!==null&&a.memoizedState===null?!1:(b&2)!==0),Q?(k=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),Dt(Yt,b&1),a===null)return bf(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=g.children,a=g.fallback,k?(g=l.mode,k=l.child,$={mode:"hidden",children:$},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=$):k=Oh($,g,0,null),a=vo(a,g,u,null),k.return=l,a.return=l,k.sibling=a,l.child=k,l.child.memoizedState=qf(u),l.memoizedState=Wf,a):Kf(l,$));if(b=a.memoizedState,b!==null&&(Q=b.dehydrated,Q!==null))return C5(a,l,$,g,Q,b,u);if(k){k=g.fallback,$=l.mode,b=a.child,Q=b.sibling;var X={mode:"hidden",children:g.children};return($&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=X,l.deletions=null):(g=ka(b,X),g.subtreeFlags=b.subtreeFlags&14680064),Q!==null?k=ka(Q,k):(k=vo(k,$,u,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,$=a.child.memoizedState,$=$===null?qf(u):{baseLanes:$.baseLanes|u,cachePool:null,transitions:$.transitions},k.memoizedState=$,k.childLanes=a.childLanes&~u,l.memoizedState=Wf,g}return k=a.child,a=k.sibling,g=ka(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=u),g.return=l,g.sibling=null,a!==null&&(u=l.deletions,u===null?(l.deletions=[a],l.flags|=16):u.push(a)),l.child=g,l.memoizedState=null,g}function Kf(a,l){return l=Oh({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Ch(a,l,u,g){return g!==null&&_f(g),kl(l,a.child,null,u),a=Kf(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function C5(a,l,u,g,b,k,$){if(u)return l.flags&256?(l.flags&=-257,g=Uf(Error(s(422))),Ch(a,l,$,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(k=g.fallback,b=l.mode,g=Oh({mode:"visible",children:g.children},b,0,null),k=vo(k,b,$,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&kl(l,a.child,null,$),l.child.memoizedState=qf($),l.memoizedState=Wf,k);if((l.mode&1)===0)return Ch(a,l,$,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var Q=g.dgst;return g=Q,k=Error(s(419)),g=Uf(k,g,void 0),Ch(a,l,$,g)}if(Q=($&a.childLanes)!==0,Ts||Q){if(g=In,g!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|$))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Di(a,b),Gr(g,a,b,-1))}return dg(),g=Uf(Error(s(421))),Ch(a,l,$,g)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=O5.bind(null,a),b._reactRetry=l,null):(a=k.treeContext,Ws=ma(b.nextSibling),Hs=l,qt=!0,Vr=null,a!==null&&(hr[pr++]=Pi,hr[pr++]=Li,hr[pr++]=lo,Pi=a.id,Li=a.overflow,lo=l),l=Kf(l,g.children),l.flags|=4096,l)}function $1(a,l,u){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),kf(a.return,l,u)}function Qf(a,l,u,g,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=u,k.tailMode=b)}function V1(a,l,u){var g=l.pendingProps,b=g.revealOrder,k=g.tail;if(hs(a,l,g.children,u),g=Yt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$1(a,u,l);else if(a.tag===19)$1(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Dt(Yt,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(u=l.child,b=null;u!==null;)a=u.alternate,a!==null&&_h(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),Qf(l,!1,b,u,k);break;case"backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&_h(a)===null){l.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}Qf(l,!0,u,null,k);break;case"together":Qf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Eh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Fi(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),mo|=l.lanes,(u&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(a=l.child,u=ka(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=ka(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function E5(a,l,u){switch(l.tag){case 3:M1(l),Sl();break;case 5:e1(l);break;case 1:Ns(l.type)&&uh(l);break;case 4:Cf(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Dt(xh,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Dt(Yt,Yt.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?B1(a,l,u):(Dt(Yt,Yt.current&1),a=Fi(a,l,u),a!==null?a.sibling:null);Dt(Yt,Yt.current&1);break;case 19:if(g=(u&l.childLanes)!==0,(a.flags&128)!==0){if(g)return V1(a,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Dt(Yt,Yt.current),g)break;return null;case 22:case 23:return l.lanes=0,P1(a,l,u)}return Fi(a,l,u)}var O1,Xf,U1,z1;O1=function(a,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Xf=function(){},U1=function(a,l,u,g){var b=a.memoizedProps;if(b!==g){a=l.stateNode,ho(ci.current);var k=null;switch(u){case"input":b=$t(a,b),g=$t(a,g),k=[];break;case"select":b=re({},b,{value:void 0}),g=re({},g,{value:void 0}),k=[];break;case"textarea":b=Cr(a,b),g=Cr(a,g),k=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=lh)}Er(u,g);var $;u=null;for(le in b)if(!g.hasOwnProperty(le)&&b.hasOwnProperty(le)&&b[le]!=null)if(le==="style"){var Q=b[le];for($ in Q)Q.hasOwnProperty($)&&(u||(u={}),u[$]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?k||(k=[]):(k=k||[]).push(le,null));for(le in g){var X=g[le];if(Q=b!=null?b[le]:void 0,g.hasOwnProperty(le)&&X!==Q&&(X!=null||Q!=null))if(le==="style")if(Q){for($ in Q)!Q.hasOwnProperty($)||X&&X.hasOwnProperty($)||(u||(u={}),u[$]="");for($ in X)X.hasOwnProperty($)&&Q[$]!==X[$]&&(u||(u={}),u[$]=X[$])}else u||(k||(k=[]),k.push(le,u)),u=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,Q=Q?Q.__html:void 0,X!=null&&Q!==X&&(k=k||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&Ut("scroll",a),k||Q===X||(k=[])):(k=k||[]).push(le,X))}u&&(k=k||[]).push("style",u);var le=k;(l.updateQueue=le)&&(l.flags|=4)}},z1=function(a,l,u,g){u!==g&&(l.flags|=4)};function id(a,l){if(!qt)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Zn(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,g=0;if(l)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=u,l}function A5(a,l,u){var g=l.pendingProps;switch(vf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(l),null;case 1:return Ns(l.type)&&dh(),Zn(l),null;case 3:return g=l.stateNode,Cl(),zt(ks),zt(Yn),If(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(fh(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Vr!==null&&(og(Vr),Vr=null))),Xf(a,l),Zn(l),null;case 5:Ef(l);var b=ho(ed.current);if(u=l.type,a!==null&&l.stateNode!=null)U1(a,l,u,g,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(s(166));return Zn(l),null}if(a=ho(ci.current),fh(l)){g=l.stateNode,u=l.type;var k=l.memoizedProps;switch(g[li]=l,g[Qc]=k,a=(l.mode&1)!==0,u){case"dialog":Ut("cancel",g),Ut("close",g);break;case"iframe":case"object":case"embed":Ut("load",g);break;case"video":case"audio":for(b=0;b<Wc.length;b++)Ut(Wc[b],g);break;case"source":Ut("error",g);break;case"img":case"image":case"link":Ut("error",g),Ut("load",g);break;case"details":Ut("toggle",g);break;case"input":ys(g,k),Ut("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Ut("invalid",g);break;case"textarea":rr(g,k),Ut("invalid",g)}Er(u,k),b=null;for(var $ in k)if(k.hasOwnProperty($)){var Q=k[$];$==="children"?typeof Q=="string"?g.textContent!==Q&&(k.suppressHydrationWarning!==!0&&oh(g.textContent,Q,a),b=["children",Q]):typeof Q=="number"&&g.textContent!==""+Q&&(k.suppressHydrationWarning!==!0&&oh(g.textContent,Q,a),b=["children",""+Q]):i.hasOwnProperty($)&&Q!=null&&$==="onScroll"&&Ut("scroll",g)}switch(u){case"input":kt(g),Tr(g,k,!0);break;case"textarea":kt(g),jn(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=lh)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=$.createElement(u,{is:g.is}):(a=$.createElement(u),u==="select"&&($=a,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):a=$.createElementNS(a,u),a[li]=l,a[Qc]=g,O1(a,l,!1,!1),l.stateNode=a;e:{switch($=Ot(u,g),u){case"dialog":Ut("cancel",a),Ut("close",a),b=g;break;case"iframe":case"object":case"embed":Ut("load",a),b=g;break;case"video":case"audio":for(b=0;b<Wc.length;b++)Ut(Wc[b],a);b=g;break;case"source":Ut("error",a),b=g;break;case"img":case"image":case"link":Ut("error",a),Ut("load",a),b=g;break;case"details":Ut("toggle",a),b=g;break;case"input":ys(a,g),b=$t(a,g),Ut("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=re({},g,{value:void 0}),Ut("invalid",a);break;case"textarea":rr(a,g),b=Cr(a,g),Ut("invalid",a);break;default:b=g}Er(u,b),Q=b;for(k in Q)if(Q.hasOwnProperty(k)){var X=Q[k];k==="style"?_i(a,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&ei(a,X)):k==="children"?typeof X=="string"?(u!=="textarea"||X!=="")&&Bs(a,X):typeof X=="number"&&Bs(a,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Ut("scroll",a):X!=null&&E(a,k,X,$))}switch(u){case"input":kt(a),Tr(a,g,!1);break;case"textarea":kt(a),jn(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Ee(g.value));break;case"select":a.multiple=!!g.multiple,k=g.value,k!=null?ls(a,!!g.multiple,k,!1):g.defaultValue!=null&&ls(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=lh)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Zn(l),null;case 6:if(a&&l.stateNode!=null)z1(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(s(166));if(u=ho(ed.current),ho(ci.current),fh(l)){if(g=l.stateNode,u=l.memoizedProps,g[li]=l,(k=g.nodeValue!==u)&&(a=Hs,a!==null))switch(a.tag){case 3:oh(g.nodeValue,u,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&oh(g.nodeValue,u,(a.mode&1)!==0)}k&&(l.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[li]=l,l.stateNode=g}return Zn(l),null;case 13:if(zt(Yt),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(qt&&Ws!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Wy(),Sl(),l.flags|=98560,k=!1;else if(k=fh(l),g!==null&&g.dehydrated!==null){if(a===null){if(!k)throw Error(s(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(s(317));k[li]=l}else Sl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zn(l),k=!1}else Vr!==null&&(og(Vr),Vr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Yt.current&1)!==0?Nn===0&&(Nn=3):dg())),l.updateQueue!==null&&(l.flags|=4),Zn(l),null);case 4:return Cl(),Xf(a,l),a===null&&qc(l.stateNode.containerInfo),Zn(l),null;case 10:return Sf(l.type._context),Zn(l),null;case 17:return Ns(l.type)&&dh(),Zn(l),null;case 19:if(zt(Yt),k=l.memoizedState,k===null)return Zn(l),null;if(g=(l.flags&128)!==0,$=k.rendering,$===null)if(g)id(k,!1);else{if(Nn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if($=_h(a),$!==null){for(l.flags|=128,id(k,!1),g=$.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=u,u=l.child;u!==null;)k=u,a=g,k.flags&=14680066,$=k.alternate,$===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=$.childLanes,k.lanes=$.lanes,k.child=$.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=$.memoizedProps,k.memoizedState=$.memoizedState,k.updateQueue=$.updateQueue,k.type=$.type,a=$.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return Dt(Yt,Yt.current&1|2),l.child}a=a.sibling}k.tail!==null&&Lt()>Rl&&(l.flags|=128,g=!0,id(k,!1),l.lanes=4194304)}else{if(!g)if(a=_h($),a!==null){if(l.flags|=128,g=!0,u=a.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),id(k,!0),k.tail===null&&k.tailMode==="hidden"&&!$.alternate&&!qt)return Zn(l),null}else 2*Lt()-k.renderingStartTime>Rl&&u!==1073741824&&(l.flags|=128,g=!0,id(k,!1),l.lanes=4194304);k.isBackwards?($.sibling=l.child,l.child=$):(u=k.last,u!==null?u.sibling=$:l.child=$,k.last=$)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Lt(),l.sibling=null,u=Yt.current,Dt(Yt,g?u&1|2:u&1),l):(Zn(l),null);case 22:case 23:return cg(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(qs&1073741824)!==0&&(Zn(l),l.subtreeFlags&6&&(l.flags|=8192)):Zn(l),null;case 24:return null;case 25:return null}throw Error(s(156,l.tag))}function I5(a,l){switch(vf(l),l.tag){case 1:return Ns(l.type)&&dh(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Cl(),zt(ks),zt(Yn),If(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Ef(l),null;case 13:if(zt(Yt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Sl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return zt(Yt),null;case 4:return Cl(),null;case 10:return Sf(l.type._context),null;case 22:case 23:return cg(),null;case 24:return null;default:return null}}var Ah=!1,es=!1,R5=typeof WeakSet=="function"?WeakSet:Set,De=null;function Al(a,l){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){sn(a,l,g)}else u.current=null}function Yf(a,l,u){try{u()}catch(g){sn(a,l,g)}}var G1=!1;function P5(a,l){if(cf=ua,a=wy(),ef(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var b=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{u.nodeType,k.nodeType}catch(je){u=null;break e}var $=0,Q=-1,X=-1,le=0,xe=0,_e=a,ge=null;t:for(;;){for(var Pe;_e!==u||b!==0&&_e.nodeType!==3||(Q=$+b),_e!==k||g!==0&&_e.nodeType!==3||(X=$+g),_e.nodeType===3&&($+=_e.nodeValue.length),(Pe=_e.firstChild)!==null;)ge=_e,_e=Pe;for(;;){if(_e===a)break t;if(ge===u&&++le===b&&(Q=$),ge===k&&++xe===g&&(X=$),(Pe=_e.nextSibling)!==null)break;_e=ge,ge=_e.parentNode}_e=Pe}u=Q===-1||X===-1?null:{start:Q,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(df={focusedElem:a,selectionRange:u},ua=!1,De=l;De!==null;)if(l=De,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,De=a;else for(;De!==null;){l=De;try{var Me=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Fe=Me.memoizedProps,dn=Me.memoizedState,ae=l.stateNode,J=ae.getSnapshotBeforeUpdate(l.elementType===l.type?Fe:Or(l.type,Fe),dn);ae.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var oe=l.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(je){sn(l,l.return,je)}if(a=l.sibling,a!==null){a.return=l.return,De=a;break}De=l.return}return Me=G1,G1=!1,Me}function ad(a,l,u){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&Yf(l,u,k)}b=b.next}while(b!==g)}}function Ih(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&a)===a){var g=u.create;u.destroy=g()}u=u.next}while(u!==l)}}function Jf(a){var l=a.ref;if(l!==null){var u=a.stateNode;switch(a.tag){case 5:a=u;break;default:a=u}typeof l=="function"?l(a):l.current=a}}function H1(a){var l=a.alternate;l!==null&&(a.alternate=null,H1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[li],delete l[Qc],delete l[mf],delete l[f5],delete l[g5])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function W1(a){return a.tag===5||a.tag===3||a.tag===4}function q1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||W1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zf(a,l,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(a,l):u.insertBefore(a,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(a,u)):(l=u,l.appendChild(a)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=lh));else if(g!==4&&(a=a.child,a!==null))for(Zf(a,l,u),a=a.sibling;a!==null;)Zf(a,l,u),a=a.sibling}function eg(a,l,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(eg(a,l,u),a=a.sibling;a!==null;)eg(a,l,u),a=a.sibling}var $n=null,Ur=!1;function ba(a,l,u){for(u=u.child;u!==null;)K1(a,l,u),u=u.sibling}function K1(a,l,u){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Za,u)}catch(Q){}switch(u.tag){case 5:es||Al(u,l);case 6:var g=$n,b=Ur;$n=null,ba(a,l,u),$n=g,Ur=b,$n!==null&&(Ur?(a=$n,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):$n.removeChild(u.stateNode));break;case 18:$n!==null&&(Ur?(a=$n,u=u.stateNode,a.nodeType===8?pf(a.parentNode,u):a.nodeType===1&&pf(a,u),Fr(a)):pf($n,u.stateNode));break;case 4:g=$n,b=Ur,$n=u.stateNode.containerInfo,Ur=!0,ba(a,l,u),$n=g,Ur=b;break;case 0:case 11:case 14:case 15:if(!es&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var k=b,$=k.destroy;k=k.tag,$!==void 0&&((k&2)!==0||(k&4)!==0)&&Yf(u,l,$),b=b.next}while(b!==g)}ba(a,l,u);break;case 1:if(!es&&(Al(u,l),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(Q){sn(u,l,Q)}ba(a,l,u);break;case 21:ba(a,l,u);break;case 22:u.mode&1?(es=(g=es)||u.memoizedState!==null,ba(a,l,u),es=g):ba(a,l,u);break;default:ba(a,l,u)}}function Q1(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new R5),l.forEach(function(g){var b=U5.bind(null,a,g);u.has(g)||(u.add(g),g.then(b,b))})}}function zr(a,l){var u=l.deletions;if(u!==null)for(var g=0;g<u.length;g++){var b=u[g];try{var k=a,$=l,Q=$;e:for(;Q!==null;){switch(Q.tag){case 5:$n=Q.stateNode,Ur=!1;break e;case 3:$n=Q.stateNode.containerInfo,Ur=!0;break e;case 4:$n=Q.stateNode.containerInfo,Ur=!0;break e}Q=Q.return}if($n===null)throw Error(s(160));K1(k,$,b),$n=null,Ur=!1;var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(le){sn(b,l,le)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)X1(l,a),l=l.sibling}function X1(a,l){var u=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(zr(l,a),ui(a),g&4){try{ad(3,a,a.return),Ih(3,a)}catch(Fe){sn(a,a.return,Fe)}try{ad(5,a,a.return)}catch(Fe){sn(a,a.return,Fe)}}break;case 1:zr(l,a),ui(a),g&512&&u!==null&&Al(u,u.return);break;case 5:if(zr(l,a),ui(a),g&512&&u!==null&&Al(u,u.return),a.flags&32){var b=a.stateNode;try{Bs(b,"")}catch(Fe){sn(a,a.return,Fe)}}if(g&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,$=u!==null?u.memoizedProps:k,Q=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{Q==="input"&&k.type==="radio"&&k.name!=null&&bs(b,k),Ot(Q,$);var le=Ot(Q,k);for($=0;$<X.length;$+=2){var xe=X[$],_e=X[$+1];xe==="style"?_i(b,_e):xe==="dangerouslySetInnerHTML"?ei(b,_e):xe==="children"?Bs(b,_e):E(b,xe,_e,le)}switch(Q){case"input":_s(b,k);break;case"textarea":ir(b,k);break;case"select":var ge=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Pe=k.value;Pe!=null?ls(b,!!k.multiple,Pe,!1):ge!==!!k.multiple&&(k.defaultValue!=null?ls(b,!!k.multiple,k.defaultValue,!0):ls(b,!!k.multiple,k.multiple?[]:"",!1))}b[Qc]=k}catch(Fe){sn(a,a.return,Fe)}}break;case 6:if(zr(l,a),ui(a),g&4){if(a.stateNode===null)throw Error(s(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(Fe){sn(a,a.return,Fe)}}break;case 3:if(zr(l,a),ui(a),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Fr(l.containerInfo)}catch(Fe){sn(a,a.return,Fe)}break;case 4:zr(l,a),ui(a);break;case 13:zr(l,a),ui(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(sg=Lt())),g&4&&Q1(a);break;case 22:if(xe=u!==null&&u.memoizedState!==null,a.mode&1?(es=(le=es)||xe,zr(l,a),es=le):zr(l,a),ui(a),g&8192){if(le=a.memoizedState!==null,(a.stateNode.isHidden=le)&&!xe&&(a.mode&1)!==0)for(De=a,xe=a.child;xe!==null;){for(_e=De=xe;De!==null;){switch(ge=De,Pe=ge.child,ge.tag){case 0:case 11:case 14:case 15:ad(4,ge,ge.return);break;case 1:Al(ge,ge.return);var Me=ge.stateNode;if(typeof Me.componentWillUnmount=="function"){g=ge,u=ge.return;try{l=g,Me.props=l.memoizedProps,Me.state=l.memoizedState,Me.componentWillUnmount()}catch(Fe){sn(g,u,Fe)}}break;case 5:Al(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Z1(_e);continue}}Pe!==null?(Pe.return=ge,De=Pe):Z1(_e)}xe=xe.sibling}e:for(xe=null,_e=a;;){if(_e.tag===5){if(xe===null){xe=_e;try{b=_e.stateNode,le?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(Q=_e.stateNode,X=_e.memoizedProps.style,$=X!=null&&X.hasOwnProperty("display")?X.display:null,Q.style.display=ti("display",$))}catch(Fe){sn(a,a.return,Fe)}}}else if(_e.tag===6){if(xe===null)try{_e.stateNode.nodeValue=le?"":_e.memoizedProps}catch(Fe){sn(a,a.return,Fe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===a)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===a)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===a)break e;xe===_e&&(xe=null),_e=_e.return}xe===_e&&(xe=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:zr(l,a),ui(a),g&4&&Q1(a);break;case 21:break;default:zr(l,a),ui(a)}}function ui(a){var l=a.flags;if(l&2){try{e:{for(var u=a.return;u!==null;){if(W1(u)){var g=u;break e}u=u.return}throw Error(s(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Bs(b,""),g.flags&=-33);var k=q1(a);eg(a,k,b);break;case 3:case 4:var $=g.stateNode.containerInfo,Q=q1(a);Zf(a,Q,$);break;default:throw Error(s(161))}}catch(X){sn(a,a.return,X)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function L5(a,l,u){De=a,Y1(a)}function Y1(a,l,u){for(var g=(a.mode&1)!==0;De!==null;){var b=De,k=b.child;if(b.tag===22&&g){var $=b.memoizedState!==null||Ah;if(!$){var Q=b.alternate,X=Q!==null&&Q.memoizedState!==null||es;Q=Ah;var le=es;if(Ah=$,(es=X)&&!le)for(De=b;De!==null;)$=De,X=$.child,$.tag===22&&$.memoizedState!==null?eb(b):X!==null?(X.return=$,De=X):eb(b);for(;k!==null;)De=k,Y1(k),k=k.sibling;De=b,Ah=Q,es=le}J1(a)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,De=k):J1(a)}}function J1(a){for(;De!==null;){var l=De;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:es||Ih(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!es)if(u===null)g.componentDidMount();else{var b=l.elementType===l.type?u.memoizedProps:Or(l.type,u.memoizedProps);g.componentDidUpdate(b,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&Zy(l,k,g);break;case 3:var $=l.updateQueue;if($!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}Zy(l,$,u)}break;case 5:var Q=l.stateNode;if(u===null&&l.flags&4){u=Q;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&u.focus();break;case"img":X.src&&(u.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var le=l.alternate;if(le!==null){var xe=le.memoizedState;if(xe!==null){var _e=xe.dehydrated;_e!==null&&Fr(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}es||l.flags&512&&Jf(l)}catch(ge){sn(l,l.return,ge)}}if(l===a){De=null;break}if(u=l.sibling,u!==null){u.return=l.return,De=u;break}De=l.return}}function Z1(a){for(;De!==null;){var l=De;if(l===a){De=null;break}var u=l.sibling;if(u!==null){u.return=l.return,De=u;break}De=l.return}}function eb(a){for(;De!==null;){var l=De;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Ih(4,l)}catch(X){sn(l,u,X)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(X){sn(l,b,X)}}var k=l.return;try{Jf(l)}catch(X){sn(l,k,X)}break;case 5:var $=l.return;try{Jf(l)}catch(X){sn(l,$,X)}}}catch(X){sn(l,l.return,X)}if(l===a){De=null;break}var Q=l.sibling;if(Q!==null){Q.return=l.return,De=Q;break}De=l.return}}var D5=Math.ceil,Rh=y.ReactCurrentDispatcher,tg=y.ReactCurrentOwner,gr=y.ReactCurrentBatchConfig,xt=0,In=null,fn=null,Vn=0,qs=0,Il=fa(0),Nn=0,od=null,mo=0,Ph=0,ng=0,ld=null,Cs=null,sg=0,Rl=1/0,Bi=null,Lh=!1,rg=null,_a=null,Dh=!1,wa=null,Mh=0,cd=0,ig=null,Fh=-1,Bh=0;function ps(){return(xt&6)!==0?Lt():Fh!==-1?Fh:Fh=Lt()}function ja(a){return(a.mode&1)===0?1:(xt&2)!==0&&Vn!==0?Vn&-Vn:v5.transition!==null?(Bh===0&&(Bh=to()),Bh):(a=pt,a!==0||(a=window.event,a=a===void 0?16:Fc(a.type)),a)}function Gr(a,l,u,g){if(50<cd)throw cd=0,ig=null,Error(s(185));oa(a,u,g),((xt&2)===0||a!==In)&&(a===In&&((xt&2)===0&&(Ph|=u),Nn===4&&Sa(a,Vn)),Es(a,g),u===1&&xt===0&&(l.mode&1)===0&&(Rl=Lt()+500,hh&&xa()))}function Es(a,l){var u=a.callbackNode;Ni(a,l);var g=eo(a,a===In?Vn:0);if(g===0)u!==null&&Rc(u),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(u!=null&&Rc(u),l===1)a.tag===0?x5(nb.bind(null,a)):Oy(nb.bind(null,a)),p5(function(){(xt&6)===0&&xa()}),u=null;else{switch(ca(g)){case 1:u=Ja;break;case 4:u=ra;break;case 16:u=cr;break;case 536870912:u=Bu;break;default:u=cr}u=db(u,tb.bind(null,a))}a.callbackPriority=l,a.callbackNode=u}}function tb(a,l){if(Fh=-1,Bh=0,(xt&6)!==0)throw Error(s(327));var u=a.callbackNode;if(Pl()&&a.callbackNode!==u)return null;var g=eo(a,a===In?Vn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=$h(a,g);else{l=g;var b=xt;xt|=2;var k=rb();(In!==a||Vn!==l)&&(Bi=null,Rl=Lt()+500,go(a,l));do try{B5();break}catch(Q){sb(a,Q)}while(!0);jf(),Rh.current=k,xt=b,fn!==null?l=0:(In=null,Vn=0,l=Nn)}if(l!==0){if(l===2&&(b=Us(a),b!==0&&(g=b,l=ag(a,b))),l===1)throw u=od,go(a,0),Sa(a,g),Es(a,Lt()),u;if(l===6)Sa(a,g);else{if(b=a.current.alternate,(g&30)===0&&!M5(b)&&(l=$h(a,g),l===2&&(k=Us(a),k!==0&&(g=k,l=ag(a,k))),l===1))throw u=od,go(a,0),Sa(a,g),Es(a,Lt()),u;switch(a.finishedWork=b,a.finishedLanes=g,l){case 0:case 1:throw Error(s(345));case 2:xo(a,Cs,Bi);break;case 3:if(Sa(a,g),(g&130023424)===g&&(l=sg+500-Lt(),10<l)){if(eo(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){ps(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=hf(xo.bind(null,a,Cs,Bi),l);break}xo(a,Cs,Bi);break;case 4:if(Sa(a,g),(g&4194240)===g)break;for(l=a.eventTimes,b=-1;0<g;){var $=31-ds(g);k=1<<$,$=l[$],$>b&&(b=$),g&=~k}if(g=b,g=Lt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*D5(g/1960))-g,10<g){a.timeoutHandle=hf(xo.bind(null,a,Cs,Bi),g);break}xo(a,Cs,Bi);break;case 5:xo(a,Cs,Bi);break;default:throw Error(s(329))}}}return Es(a,Lt()),a.callbackNode===u?tb.bind(null,a):null}function ag(a,l){var u=ld;return a.current.memoizedState.isDehydrated&&(go(a,l).flags|=256),a=$h(a,l),a!==2&&(l=Cs,Cs=u,l!==null&&og(l)),a}function og(a){Cs===null?Cs=a:Cs.push.apply(Cs,a)}function M5(a){for(var l=a;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var b=u[g],k=b.getSnapshot;b=b.value;try{if(!$r(k(),b))return!1}catch($){return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Sa(a,l){for(l&=~ng,l&=~Ph,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var u=31-ds(l),g=1<<u;a[u]=-1,l&=~g}}function nb(a){if((xt&6)!==0)throw Error(s(327));Pl();var l=eo(a,0);if((l&1)===0)return Es(a,Lt()),null;var u=$h(a,l);if(a.tag!==0&&u===2){var g=Us(a);g!==0&&(l=g,u=ag(a,g))}if(u===1)throw u=od,go(a,0),Sa(a,l),Es(a,Lt()),u;if(u===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,xo(a,Cs,Bi),Es(a,Lt()),null}function lg(a,l){var u=xt;xt|=1;try{return a(l)}finally{xt=u,xt===0&&(Rl=Lt()+500,hh&&xa())}}function fo(a){wa!==null&&wa.tag===0&&(xt&6)===0&&Pl();var l=xt;xt|=1;var u=gr.transition,g=pt;try{if(gr.transition=null,pt=1,a)return a()}finally{pt=g,gr.transition=u,xt=l,(xt&6)===0&&xa()}}function cg(){qs=Il.current,zt(Il)}function go(a,l){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,h5(u)),fn!==null)for(u=fn.return;u!==null;){var g=u;switch(vf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&dh();break;case 3:Cl(),zt(ks),zt(Yn),If();break;case 5:Ef(g);break;case 4:Cl();break;case 13:zt(Yt);break;case 19:zt(Yt);break;case 10:Sf(g.type._context);break;case 22:case 23:cg()}u=u.return}if(In=a,fn=a=ka(a.current,null),Vn=qs=l,Nn=0,od=null,ng=Ph=mo=0,Cs=ld=null,uo!==null){for(l=0;l<uo.length;l++)if(u=uo[l],g=u.interleaved,g!==null){u.interleaved=null;var b=g.next,k=u.pending;if(k!==null){var $=k.next;k.next=b,g.next=$}u.pending=g}uo=null}return a}function sb(a,l){do{var u=fn;try{if(jf(),wh.current=Nh,jh){for(var g=Jt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}jh=!1}if(po=0,An=kn=Jt=null,td=!1,nd=0,tg.current=null,u===null||u.return===null){Nn=1,od=l,fn=null;break}e:{var k=a,$=u.return,Q=u,X=l;if(l=Vn,Q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,xe=Q,_e=xe.tag;if((xe.mode&1)===0&&(_e===0||_e===11||_e===15)){var ge=xe.alternate;ge?(xe.updateQueue=ge.updateQueue,xe.memoizedState=ge.memoizedState,xe.lanes=ge.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Pe=C1($);if(Pe!==null){Pe.flags&=-257,E1(Pe,$,Q,k,l),Pe.mode&1&&T1(k,le,l),l=Pe,X=le;var Me=l.updateQueue;if(Me===null){var Fe=new Set;Fe.add(X),l.updateQueue=Fe}else Me.add(X);break e}else{if((l&1)===0){T1(k,le,l),dg();break e}X=Error(s(426))}}else if(qt&&Q.mode&1){var dn=C1($);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),E1(dn,$,Q,k,l),_f(El(X,Q));break e}}k=X=El(X,Q),Nn!==4&&(Nn=2),ld===null?ld=[k]:ld.push(k),k=$;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var ae=k1(k,X,l);Jy(k,ae);break e;case 1:Q=X;var J=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(_a===null||!_a.has(oe)))){k.flags|=65536,l&=-l,k.lanes|=l;var je=N1(k,Q,l);Jy(k,je);break e}}k=k.return}while(k!==null)}ab(u)}catch(Ve){l=Ve,fn===u&&u!==null&&(fn=u=u.return);continue}break}while(!0)}function rb(){var a=Rh.current;return Rh.current=Nh,a===null?Nh:a}function dg(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),In===null||(mo&268435455)===0&&(Ph&268435455)===0||Sa(In,Vn)}function $h(a,l){var u=xt;xt|=2;var g=rb();(In!==a||Vn!==l)&&(Bi=null,go(a,l));do try{F5();break}catch(b){sb(a,b)}while(!0);if(jf(),xt=u,Rh.current=g,fn!==null)throw Error(s(261));return In=null,Vn=0,Nn}function F5(){for(;fn!==null;)ib(fn)}function B5(){for(;fn!==null&&!Mu();)ib(fn)}function ib(a){var l=cb(a.alternate,a,qs);a.memoizedProps=a.pendingProps,l===null?ab(a):fn=l,tg.current=null}function ab(a){var l=a;do{var u=l.alternate;if(a=l.return,(l.flags&32768)===0){if(u=A5(u,l,qs),u!==null){fn=u;return}}else{if(u=I5(u,l),u!==null){u.flags&=32767,fn=u;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Nn=6,fn=null;return}}if(l=l.sibling,l!==null){fn=l;return}fn=l=a}while(l!==null);Nn===0&&(Nn=5)}function xo(a,l,u){var g=pt,b=gr.transition;try{gr.transition=null,pt=1,$5(a,l,u,g)}finally{gr.transition=b,pt=g}return null}function $5(a,l,u,g){do Pl();while(wa!==null);if((xt&6)!==0)throw Error(s(327));u=a.finishedWork;var b=a.finishedLanes;if(u===null)return null;if(a.finishedWork=null,a.finishedLanes=0,u===a.current)throw Error(s(177));a.callbackNode=null,a.callbackPriority=0;var k=u.lanes|u.childLanes;if(It(a,k),a===In&&(fn=In=null,Vn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Dh||(Dh=!0,db(cr,function(){return Pl(),null})),k=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||k){k=gr.transition,gr.transition=null;var $=pt;pt=1;var Q=xt;xt|=4,tg.current=null,P5(a,u),X1(u,a),i5(df),ua=!!cf,df=cf=null,a.current=u,L5(u),Wm(),xt=Q,pt=$,gr.transition=k}else a.current=u;if(Dh&&(Dh=!1,wa=a,Mh=b),k=a.pendingLanes,k===0&&(_a=null),$u(u.stateNode),Es(a,Lt()),l!==null)for(g=a.onRecoverableError,u=0;u<l.length;u++)b=l[u],g(b.value,{componentStack:b.stack,digest:b.digest});if(Lh)throw Lh=!1,a=rg,rg=null,a;return(Mh&1)!==0&&a.tag!==0&&Pl(),k=a.pendingLanes,(k&1)!==0?a===ig?cd++:(cd=0,ig=a):cd=0,xa(),null}function Pl(){if(wa!==null){var a=ca(Mh),l=gr.transition,u=pt;try{if(gr.transition=null,pt=16>a?16:a,wa===null)var g=!1;else{if(a=wa,wa=null,Mh=0,(xt&6)!==0)throw Error(s(331));var b=xt;for(xt|=4,De=a.current;De!==null;){var k=De,$=k.child;if((De.flags&16)!==0){var Q=k.deletions;if(Q!==null){for(var X=0;X<Q.length;X++){var le=Q[X];for(De=le;De!==null;){var xe=De;switch(xe.tag){case 0:case 11:case 15:ad(8,xe,k)}var _e=xe.child;if(_e!==null)_e.return=xe,De=_e;else for(;De!==null;){xe=De;var ge=xe.sibling,Pe=xe.return;if(H1(xe),xe===le){De=null;break}if(ge!==null){ge.return=Pe,De=ge;break}De=Pe}}}var Me=k.alternate;if(Me!==null){var Fe=Me.child;if(Fe!==null){Me.child=null;do{var dn=Fe.sibling;Fe.sibling=null,Fe=dn}while(Fe!==null)}}De=k}}if((k.subtreeFlags&2064)!==0&&$!==null)$.return=k,De=$;else e:for(;De!==null;){if(k=De,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:ad(9,k,k.return)}var ae=k.sibling;if(ae!==null){ae.return=k.return,De=ae;break e}De=k.return}}var J=a.current;for(De=J;De!==null;){$=De;var oe=$.child;if(($.subtreeFlags&2064)!==0&&oe!==null)oe.return=$,De=oe;else e:for($=J;De!==null;){if(Q=De,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Ih(9,Q)}}catch(Ve){sn(Q,Q.return,Ve)}if(Q===$){De=null;break e}var je=Q.sibling;if(je!==null){je.return=Q.return,De=je;break e}De=Q.return}}if(xt=b,xa(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Za,a)}catch(Ve){}g=!0}return g}finally{pt=u,gr.transition=l}}return!1}function ob(a,l,u){l=El(u,l),l=k1(a,l,1),a=ya(a,l,1),l=ps(),a!==null&&(oa(a,1,l),Es(a,l))}function sn(a,l,u){if(a.tag===3)ob(a,a,u);else for(;l!==null;){if(l.tag===3){ob(l,a,u);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(_a===null||!_a.has(g))){a=El(u,a),a=N1(l,a,1),l=ya(l,a,1),a=ps(),l!==null&&(oa(l,1,a),Es(l,a));break}}l=l.return}}function V5(a,l,u){var g=a.pingCache;g!==null&&g.delete(l),l=ps(),a.pingedLanes|=a.suspendedLanes&u,In===a&&(Vn&u)===u&&(Nn===4||Nn===3&&(Vn&130023424)===Vn&&500>Lt()-sg?go(a,0):ng|=u),Es(a,l)}function lb(a,l){l===0&&((a.mode&1)===0?l=1:(l=nl,nl<<=1,(nl&130023424)===0&&(nl=4194304)));var u=ps();a=Di(a,l),a!==null&&(oa(a,l,u),Es(a,u))}function O5(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),lb(a,u)}function U5(a,l){var u=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(l),lb(a,u)}var cb;cb=function(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps||ks.current)Ts=!0;else{if((a.lanes&u)===0&&(l.flags&128)===0)return Ts=!1,E5(a,l,u);Ts=(a.flags&131072)!==0}else Ts=!1,qt&&(l.flags&1048576)!==0&&Uy(l,mh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Eh(a,l),a=l.pendingProps;var b=_l(l,Yn.current);Tl(l,u),b=Lf(null,l,g,a,b,u);var k=Df();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ns(g)?(k=!0,uh(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Tf(l),b.updater=Th,l.stateNode=b,b._reactInternals=l,Of(l,g,a,u),l=Hf(null,l,g,!0,k,u)):(l.tag=0,qt&&k&&xf(l),hs(null,l,b,u),l=l.child),l;case 16:g=l.elementType;e:{switch(Eh(a,l),a=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=G5(g),a=Or(g,a),b){case 0:l=Gf(null,l,g,a,u);break e;case 1:l=D1(null,l,g,a,u);break e;case 11:l=A1(null,l,g,a,u);break e;case 14:l=I1(null,l,g,Or(g.type,a),u);break e}throw Error(s(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Or(g,b),Gf(a,l,g,b,u);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Or(g,b),D1(a,l,g,b,u);case 3:e:{if(M1(l),a===null)throw Error(s(387));g=l.pendingProps,k=l.memoizedState,b=k.element,Yy(a,l),bh(l,g,null,u);var $=l.memoizedState;if(g=$.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=El(Error(s(423)),l),l=F1(a,l,g,u,b);break e}else if(g!==b){b=El(Error(s(424)),l),l=F1(a,l,g,u,b);break e}else for(Ws=ma(l.stateNode.containerInfo.firstChild),Hs=l,qt=!0,Vr=null,u=Qy(l,null,g,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Sl(),g===b){l=Fi(a,l,u);break e}hs(a,l,g,u)}l=l.child}return l;case 5:return e1(l),a===null&&bf(l),g=l.type,b=l.pendingProps,k=a!==null?a.memoizedProps:null,$=b.children,uf(g,b)?$=null:k!==null&&uf(g,k)&&(l.flags|=32),L1(a,l),hs(a,l,$,u),l.child;case 6:return a===null&&bf(l),null;case 13:return B1(a,l,u);case 4:return Cf(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=kl(l,null,g,u):hs(a,l,g,u),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Or(g,b),A1(a,l,g,b,u);case 7:return hs(a,l,l.pendingProps,u),l.child;case 8:return hs(a,l,l.pendingProps.children,u),l.child;case 12:return hs(a,l,l.pendingProps.children,u),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,k=l.memoizedProps,$=b.value,Dt(xh,g._currentValue),g._currentValue=$,k!==null)if($r(k.value,$)){if(k.children===b.children&&!ks.current){l=Fi(a,l,u);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var Q=k.dependencies;if(Q!==null){$=k.child;for(var X=Q.firstContext;X!==null;){if(X.context===g){if(k.tag===1){X=Mi(-1,u&-u),X.tag=2;var le=k.updateQueue;if(le!==null){le=le.shared;var xe=le.pending;xe===null?X.next=X:(X.next=xe.next,xe.next=X),le.pending=X}}k.lanes|=u,X=k.alternate,X!==null&&(X.lanes|=u),kf(k.return,u,l),Q.lanes|=u;break}X=X.next}}else if(k.tag===10)$=k.type===l.type?null:k.child;else if(k.tag===18){if($=k.return,$===null)throw Error(s(341));$.lanes|=u,Q=$.alternate,Q!==null&&(Q.lanes|=u),kf($,u,l),$=k.sibling}else $=k.child;if($!==null)$.return=k;else for($=k;$!==null;){if($===l){$=null;break}if(k=$.sibling,k!==null){k.return=$.return,$=k;break}$=$.return}k=$}hs(a,l,b.children,u),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Tl(l,u),b=mr(b),g=g(b),l.flags|=1,hs(a,l,g,u),l.child;case 14:return g=l.type,b=Or(g,l.pendingProps),b=Or(g.type,b),I1(a,l,g,b,u);case 15:return R1(a,l,l.type,l.pendingProps,u);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Or(g,b),Eh(a,l),l.tag=1,Ns(g)?(a=!0,uh(l)):a=!1,Tl(l,u),j1(l,g,b),Of(l,g,b,u),Hf(null,l,g,!0,a,u);case 19:return V1(a,l,u);case 22:return P1(a,l,u)}throw Error(s(156,l.tag))};function db(a,l){return el(a,l)}function z5(a,l,u,g){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(a,l,u,g){return new z5(a,l,u,g)}function ug(a){return a=a.prototype,!(!a||!a.isReactComponent)}function G5(a){if(typeof a=="function")return ug(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===z)return 14}return 2}function ka(a,l){var u=a.alternate;return u===null?(u=xr(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&14680064,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function Vh(a,l,u,g,b,k){var $=2;if(g=a,typeof a=="function")ug(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case T:return vo(u.children,b,k,l);case _:$=8,b|=8;break;case C:return a=xr(12,u,l,b|2),a.elementType=C,a.lanes=k,a;case F:return a=xr(13,u,l,b),a.elementType=F,a.lanes=k,a;case K:return a=xr(19,u,l,b),a.elementType=K,a.lanes=k,a;case H:return Oh(u,b,k,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:$=10;break e;case A:$=9;break e;case V:$=11;break e;case z:$=14;break e;case q:$=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return l=xr($,u,l,b),l.elementType=a,l.type=g,l.lanes=k,l}function vo(a,l,u,g){return a=xr(7,a,g,l),a.lanes=u,a}function Oh(a,l,u,g){return a=xr(22,a,g,l),a.elementType=H,a.lanes=u,a.stateNode={isHidden:!1},a}function hg(a,l,u){return a=xr(6,a,null,l),a.lanes=u,a}function pg(a,l,u){return l=xr(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function H5(a,l,u,g,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function mg(a,l,u,g,b,k,$,Q,X){return a=new H5(a,l,u,Q,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=xr(3,null,null,l),a.current=k,k.stateNode=a,k.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(k),a}function W5(a,l,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:g==null?null:""+g,children:a,containerInfo:l,implementation:u}}function ub(a){if(!a)return ga;a=a._reactInternals;e:{if(Rr(a)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ns(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var u=a.type;if(Ns(u))return $y(a,u,l)}return l}function hb(a,l,u,g,b,k,$,Q,X){return a=mg(u,g,!0,a,b,k,$,Q,X),a.context=ub(null),u=a.current,g=ps(),b=ja(u),k=Mi(g,b),k.callback=l!=null?l:null,ya(u,k,b),a.current.lanes=b,oa(a,b,g),Es(a,g),a}function Uh(a,l,u,g){var b=l.current,k=ps(),$=ja(b);return u=ub(u),l.context===null?l.context=u:l.pendingContext=u,l=Mi(k,$),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=ya(b,l,$),a!==null&&(Gr(a,b,$,k),yh(a,b,$)),$}function zh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function pb(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function fg(a,l){pb(a,l),(a=a.alternate)&&pb(a,l)}function q5(){return null}var mb=typeof reportError=="function"?reportError:function(a){console.error(a)};function gg(a){this._internalRoot=a}Gh.prototype.render=gg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(s(409));Uh(a,l,null,null)},Gh.prototype.unmount=gg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;fo(function(){Uh(null,a,null,null)}),l[Ii]=null}};function Gh(a){this._internalRoot=a}Gh.prototype.unstable_scheduleHydration=function(a){if(a){var l=Gu();a={blockedOn:null,target:a,priority:l};for(var u=0;u<ri.length&&l!==0&&l<ri[u].priority;u++);ri.splice(u,0,a),u===0&&qu(a)}};function xg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Hh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function fb(){}function K5(a,l,u,g,b){if(b){if(typeof g=="function"){var k=g;g=function(){var le=zh($);k.call(le)}}var $=hb(l,g,a,0,null,!1,!1,"",fb);return a._reactRootContainer=$,a[Ii]=$.current,qc(a.nodeType===8?a.parentNode:a),fo(),$}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var Q=g;g=function(){var le=zh(X);Q.call(le)}}var X=mg(a,0,!1,null,null,!1,!1,"",fb);return a._reactRootContainer=X,a[Ii]=X.current,qc(a.nodeType===8?a.parentNode:a),fo(function(){Uh(l,X,u,g)}),X}function Wh(a,l,u,g,b){var k=u._reactRootContainer;if(k){var $=k;if(typeof b=="function"){var Q=b;b=function(){var X=zh($);Q.call(X)}}Uh(l,$,a,b)}else $=K5(u,l,a,b,g);return zh($)}Uu=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var u=ia(l.pendingLanes);u!==0&&(la(l,u|1),Es(l,Lt()),(xt&6)===0&&(Rl=Lt()+500,xa()))}break;case 13:fo(function(){var g=Di(a,1);if(g!==null){var b=ps();Gr(g,a,1,b)}}),fg(a,1)}},sl=function(a){if(a.tag===13){var l=Di(a,134217728);if(l!==null){var u=ps();Gr(l,a,134217728,u)}fg(a,134217728)}},zu=function(a){if(a.tag===13){var l=ja(a),u=Di(a,l);if(u!==null){var g=ps();Gr(u,a,l,g)}fg(a,l)}},Gu=function(){return pt},Hu=function(a,l){var u=pt;try{return pt=a,l()}finally{pt=u}},ji=function(a,l,u){switch(l){case"input":if(_s(a,u),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var g=u[l];if(g!==a&&g.form===a.form){var b=ch(g);if(!b)throw Error(s(90));Xe(g),_s(g,b)}}}break;case"textarea":ir(a,u);break;case"select":l=u.value,l!=null&&ls(a,!!u.multiple,l,!1)}},Ka=lg,Cc=fo;var Q5={usingClientEntryPoint:!1,Events:[Xc,yl,ch,Vs,Tc,lg]},dd={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X5={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ic(a),a===null?null:a.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||q5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Za=qh.inject(X5),Os=qh}catch(a){}}return As.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q5,As.createPortal=function(a,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(l))throw Error(s(200));return W5(a,l,null,u)},As.createRoot=function(a,l){if(!xg(a))throw Error(s(299));var u=!1,g="",b=mb;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=mg(a,1,!1,null,null,u,!1,g,b),a[Ii]=l.current,qc(a.nodeType===8?a.parentNode:a),new gg(l)},As.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=Ic(l),a=a===null?null:a.stateNode,a},As.flushSync=function(a){return fo(a)},As.hydrate=function(a,l,u){if(!Hh(l))throw Error(s(200));return Wh(null,a,l,!0,u)},As.hydrateRoot=function(a,l,u){if(!xg(a))throw Error(s(405));var g=u!=null&&u.hydratedSources||null,b=!1,k="",$=mb;if(u!=null&&(u.unstable_strictMode===!0&&(b=!0),u.identifierPrefix!==void 0&&(k=u.identifierPrefix),u.onRecoverableError!==void 0&&($=u.onRecoverableError)),l=hb(l,null,a,1,u!=null?u:null,b,!1,k,$),a[Ii]=l.current,qc(a),g)for(a=0;a<g.length;a++)u=g[a],b=u._getVersion,b=b(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,b]:l.mutableSourceEagerHydrationData.push(u,b);return new Gh(l)},As.render=function(a,l,u){if(!Hh(l))throw Error(s(200));return Wh(null,a,l,!1,u)},As.unmountComponentAtNode=function(a){if(!Hh(a))throw Error(s(40));return a._reactRootContainer?(fo(function(){Wh(null,null,a,!1,function(){a._reactRootContainer=null,a[Ii]=null})}),!0):!1},As.unstable_batchedUpdates=lg,As.unstable_renderSubtreeIntoContainer=function(a,l,u,g){if(!Hh(u))throw Error(s(200));if(a==null||a._reactInternals===void 0)throw Error(s(38));return Wh(a,l,u,!1,g)},As.version="18.3.1-next-f1338f8080-20240426",As}var jb;function dj(){if(jb)return bg.exports;jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bg.exports=s4(),bg.exports}var Sb;function r4(){if(Sb)return Kh;Sb=1;var t=dj();return Kh.createRoot=t.createRoot,Kh.hydrateRoot=t.hydrateRoot,Kh}var i4=r4();const a4=j0(i4);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kb="popstate";function o4(t={}){function e(i,o){let{pathname:c="/",search:d="",hash:h=""}=zo(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Cx("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof o=="string"?o:Hd(o))}function r(i,o){er(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return c4(e,s,r,t)}function Qt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function er(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(s){}}}function l4(){return Math.random().toString(36).substring(2,10)}function Nb(t,e){return{usr:t.state,key:t.key,idx:e}}function Cx(t,e,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:s,key:e&&e.key||r||l4()}}function Hd({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function zo(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function c4(t,e,s,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",h=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function x(){d="POP";let R=m(),O=R==null?null:R-p;p=R,h&&h({action:d,location:P.location,delta:O})}function v(R,O){d="PUSH";let B=Cx(P.location,R,O);s&&s(B,R),p=m()+1;let E=Nb(B,p),y=P.createHref(B);try{c.pushState(E,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(y)}o&&h&&h({action:d,location:P.location,delta:1})}function w(R,O){d="REPLACE";let B=Cx(P.location,R,O);s&&s(B,R),p=m();let E=Nb(B,p),y=P.createHref(B);c.replaceState(E,"",y),o&&h&&h({action:d,location:P.location,delta:0})}function N(R){return d4(R)}let P={get action(){return d},get location(){return t(i,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(kb,x),h=R,()=>{i.removeEventListener(kb,x),h=null}},createHref(R){return e(i,R)},createURL:N,encodeLocation(R){let O=N(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:w,go(R){return c.go(R)}};return P}function d4(t,e=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Hd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function uj(t,e,s="/"){return u4(t,e,s,!1)}function u4(t,e,s,r){let i=typeof e=="string"?zo(e):e,o=Xi(i.pathname||"/",s);if(o==null)return null;let c=hj(t);h4(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=j4(o);d=_4(c[h],p,r)}return d}function hj(t,e=[],s=[],r="",i=!1){let o=(c,d,h=i,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&h)return;Qt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let x=Ki([r,m.relativePath]),v=s.concat(m);c.children&&c.children.length>0&&(Qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),hj(c.children,e,v,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:y4(x,c.index),routesMeta:v})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let p of pj(c.path))o(c,d,!0,p)}),e}function pj(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=pj(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function h4(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:b4(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var p4=/^:[\w-]+$/,m4=3,f4=2,g4=1,x4=10,v4=-2,Tb=t=>t==="*";function y4(t,e){let s=t.split("/"),r=s.length;return s.some(Tb)&&(r+=v4),e&&(r+=f4),s.filter(i=>!Tb(i)).reduce((i,o)=>i+(p4.test(o)?m4:o===""?g4:x4),r)}function b4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _4(t,e,s=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",x=Mp({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),v=h.route;if(!x&&p&&s&&!r[r.length-1].route.index&&(x=Mp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Ki([o,x.pathname]),pathnameBase:T4(Ki([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=Ki([o,x.pathnameBase]))}return c}function Mp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=w4(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:x},v)=>{if(m==="*"){let N=d[v]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const w=d[v];return x&&!w?p[m]=void 0:p[m]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function w4(t,e=!1,s=!0){er(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function j4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function S4(t,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?zo(t):t;return{pathname:s?s.startsWith("/")?s:k4(s,e):e,search:C4(r),hash:E4(i)}}function k4(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function jg(t,e,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N4(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function k0(t){let e=N4(t);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function N0(t,e,s,r=!1){let i;typeof t=="string"?i=zo(t):(i={...t},Qt(!i.pathname||!i.pathname.includes("?"),jg("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),jg("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),jg("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=s;else{let x=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;i.pathname=v.join("/")}d=x>=0?e[x]:"/"}let h=S4(i,d),p=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),T4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mj=["POST","PUT","PATCH","DELETE"];new Set(mj);var I4=["GET",...mj];new Set(I4);var gc=D.createContext(null);gc.displayName="DataRouter";var um=D.createContext(null);um.displayName="DataRouterState";D.createContext(!1);var fj=D.createContext({isTransitioning:!1});fj.displayName="ViewTransition";var R4=D.createContext(new Map);R4.displayName="Fetchers";var P4=D.createContext(null);P4.displayName="Await";var Jr=D.createContext(null);Jr.displayName="Navigation";var pu=D.createContext(null);pu.displayName="Location";var kr=D.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var T0=D.createContext(null);T0.displayName="RouteError";function L4(t,{relative:e}={}){Qt(xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=D.useContext(Jr),{hash:i,pathname:o,search:c}=mu(t,{relative:e}),d=o;return s!=="/"&&(d=o==="/"?s:Ki([s,o])),r.createHref({pathname:d,search:c,hash:i})}function xc(){return D.useContext(pu)!=null}function sr(){return Qt(xc(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(pu).location}var gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xj(t){D.useContext(Jr).static||D.useLayoutEffect(t)}function Ga(){let{isDataRoute:t}=D.useContext(kr);return t?Q4():D4()}function D4(){Qt(xc(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(gc),{basename:e,navigator:s}=D.useContext(Jr),{matches:r}=D.useContext(kr),{pathname:i}=sr(),o=JSON.stringify(k0(r)),c=D.useRef(!1);return xj(()=>{c.current=!0}),D.useCallback((h,p={})=>{if(er(c.current,gj),!c.current)return;if(typeof h=="number"){s.go(h);return}let m=N0(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ki([e,m.pathname])),(p.replace?s.replace:s.push)(m,p.state,p)},[e,s,o,i,t])}var M4=D.createContext(null);function F4(t){let e=D.useContext(kr).outlet;return e&&D.createElement(M4.Provider,{value:t},e)}function C0(){let{matches:t}=D.useContext(kr),e=t[t.length-1];return e?e.params:{}}function mu(t,{relative:e}={}){let{matches:s}=D.useContext(kr),{pathname:r}=sr(),i=JSON.stringify(k0(s));return D.useMemo(()=>N0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function B4(t,e){return vj(t,e)}function vj(t,e,s,r,i){var B;Qt(xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Jr),{matches:c}=D.useContext(kr),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",x=d&&d.route;{let E=x&&x.path||"";yj(p,!x||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=sr(),w;if(e){let E=typeof e=="string"?zo(e):e;Qt(m==="/"||((B=E.pathname)==null?void 0:B.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=v;let N=w.pathname||"/",P=N;if(m!=="/"){let E=m.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=uj(t,{pathname:P});er(x||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),er(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=z4(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Ki([m,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:Ki([m,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,s,r,i);return e&&O?D.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},O):O}function $4(){let t=K4(),e=A4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),s?D.createElement("pre",{style:i},s):null,c)}var V4=D.createElement($4,null),O4=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(kr.Provider,{value:this.props.routeContext},D.createElement(T0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U4({routeContext:t,match:e,children:s}){let r=D.useContext(gc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(kr.Provider,{value:t},s)}function z4(t,e=[],s=null,r=null,i=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,c=s==null?void 0:s.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Qt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,h=-1;if(s)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:x,errors:v}=s,w=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,x)=>{let v,w=!1,N=null,P=null;s&&(v=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||V4,d&&(h<0&&x===0?(yj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):h===x&&(w=!0,P=m.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,x+1)),O=()=>{let B;return v?B=N:w?B=P:m.route.Component?B=D.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,D.createElement(U4,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:s!=null},children:B})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?D.createElement(O4,{location:s.location,revalidation:s.revalidation,component:N,error:v,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):O()},null)}function E0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G4(t){let e=D.useContext(gc);return Qt(e,E0(t)),e}function H4(t){let e=D.useContext(um);return Qt(e,E0(t)),e}function W4(t){let e=D.useContext(kr);return Qt(e,E0(t)),e}function A0(t){let e=W4(t),s=e.matches[e.matches.length-1];return Qt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function q4(){return A0("useRouteId")}function K4(){var r;let t=D.useContext(T0),e=H4("useRouteError"),s=A0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[s]}function Q4(){let{router:t}=G4("useNavigate"),e=A0("useNavigate"),s=D.useRef(!1);return xj(()=>{s.current=!0}),D.useCallback(async(i,o={})=>{er(s.current,gj),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Cb={};function yj(t,e,s){!e&&!Cb[t]&&(Cb[t]=!0,er(!1,s))}D.memo(X4);function X4({routes:t,future:e,state:s,unstable_onError:r}){return vj(t,void 0,s,r,e)}function Sg({to:t,replace:e,state:s,relative:r}){Qt(xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(Jr);er(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(kr),{pathname:c}=sr(),d=Ga(),h=N0(t,k0(o),c,r==="path"),p=JSON.stringify(h);return D.useEffect(()=>{d(JSON.parse(p),{replace:e,state:s,relative:r})},[d,p,r,e,s]),null}function bj(t){return F4(t.context)}function de(t){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y4({basename:t="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:o=!1}){Qt(!xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof s=="string"&&(s=zo(s));let{pathname:h="/",search:p="",hash:m="",state:x=null,key:v="default"}=s,w=D.useMemo(()=>{let N=Xi(h,c);return N==null?null:{location:{pathname:N,search:p,hash:m,state:x,key:v},navigationType:r}},[c,h,p,m,x,v,r]);return er(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:D.createElement(Jr.Provider,{value:d},D.createElement(pu.Provider,{children:e,value:w}))}function J4({children:t,location:e}){return B4(Ex(t),e)}function Ex(t,e=[]){let s=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){s.push.apply(s,Ex(r.props.children,o));return}Qt(r.type===de,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Ex(r.props.children,o)),s.push(c)}),s}var yp="get",bp="application/x-www-form-urlencoded";function hm(t){return t!=null&&typeof t.tagName=="string"}function Z4(t){return hm(t)&&t.tagName.toLowerCase()==="button"}function eT(t){return hm(t)&&t.tagName.toLowerCase()==="form"}function tT(t){return hm(t)&&t.tagName.toLowerCase()==="input"}function nT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sT(t,e){return t.button===0&&(!e||e==="_self")&&!nT(t)}function Ax(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let r=t[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function rT(t,e){let s=Ax(t);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(o=>{s.append(i,o)})}),s}var Qh=null;function iT(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch(t){Qh=!0}return Qh}var aT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(t){return t!=null&&!aT.has(t)?(er(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bp}"`),null):t}function oT(t,e){let s,r,i,o,c;if(eT(t)){let d=t.getAttribute("action");r=d?Xi(d,e):null,s=t.getAttribute("method")||yp,i=kg(t.getAttribute("enctype"))||bp,o=new FormData(t)}else if(Z4(t)||tT(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Xi(h,e):null,s=t.getAttribute("formmethod")||d.getAttribute("method")||yp,i=kg(t.getAttribute("formenctype"))||kg(d.getAttribute("enctype"))||bp,o=new FormData(d,t),!iT()){let{name:p,type:m,value:x}=t;if(m==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,x)}}else{if(hm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=yp,r=null,i=bp,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I0(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function lT(t,e,s){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&Xi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function cT(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uT(t,e,s){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await cT(o,s);return c.links?c.links():[]}return[]}));return fT(r.flat(1).filter(dT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Eb(t,e,s,r,i,o){let c=(h,p)=>s[p]?h.route.id!==s[p].route.id:!0,d=(h,p)=>{var m;return s[p].pathname!==h.pathname||((m=s[p].route.path)==null?void 0:m.endsWith("*"))&&s[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var x;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=s[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hT(t,e,{includeHydrateFallback:s}={}){return pT(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function pT(t){return[...new Set(t)]}function mT(t){let e={},s=Object.keys(t).sort();for(let r of s)e[r]=t[r];return e}function fT(t,e){let s=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(mT(i));return s.has(o)||(s.add(o),r.push({key:o,link:i})),r},[])}function _j(){let t=D.useContext(gc);return I0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gT(){let t=D.useContext(um);return I0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var R0=D.createContext(void 0);R0.displayName="FrameworkContext";function wj(){let t=D.useContext(R0);return I0(t,"You must render this element inside a <HydratedRouter> element"),t}function xT(t,e){let s=D.useContext(R0),[r,i]=D.useState(!1),[o,c]=D.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:x}=e,v=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=O=>{O.forEach(B=>{c(B.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),D.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let w=()=>{i(!0)},N=()=>{i(!1),c(!1)};return s?t!=="intent"?[o,v,{}]:[o,v,{onFocus:hd(d,w),onBlur:hd(h,N),onMouseEnter:hd(p,w),onMouseLeave:hd(m,N),onTouchStart:hd(x,w)}]:[!1,v,{}]}function hd(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function vT({page:t,...e}){let{router:s}=_j(),r=D.useMemo(()=>uj(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?D.createElement(bT,{page:t,matches:r,...e}):null}function yT(t){let{manifest:e,routeModules:s}=wj(),[r,i]=D.useState([]);return D.useEffect(()=>{let o=!1;return uT(t,e,s).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,s]),r}function bT({page:t,matches:e,...s}){let r=sr(),{manifest:i,routeModules:o}=wj(),{basename:c}=_j(),{loaderData:d,matches:h}=gT(),p=D.useMemo(()=>Eb(t,e,h,i,r,"data"),[t,e,h,i,r]),m=D.useMemo(()=>Eb(t,e,h,i,r,"assets"),[t,e,h,i,r]),x=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(O=>{var E;let B=i.routes[O.route.id];!B||!B.hasLoader||(!p.some(y=>y.route.id===O.route.id)&&O.route.id in d&&((E=o[O.route.id])!=null&&E.shouldRevalidate)||B.hasClientLoader?P=!0:N.add(O.route.id))}),N.size===0)return[];let R=lT(t,c,"data");return P&&N.size>0&&R.searchParams.set("_routes",e.filter(O=>N.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[c,d,r,i,p,e,t,o]),v=D.useMemo(()=>hT(m,i),[m,i]),w=yT(m);return D.createElement(D.Fragment,null,x.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),v.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),w.map(({key:N,link:P})=>D.createElement("link",{key:N,nonce:s.nonce,...P})))}function _T(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var jj=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{jj&&(window.__reactRouterVersion="7.9.1")}catch(t){}function wT({basename:t,children:e,window:s}){let r=D.useRef();r.current==null&&(r.current=o4({window:s,v5Compat:!0}));let i=r.current,[o,c]=D.useState({action:i.action,location:i.location}),d=D.useCallback(h=>{D.startTransition(()=>c(h))},[c]);return D.useLayoutEffect(()=>i.listen(d),[i,d]),D.createElement(Y4,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Sj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=D.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:m,viewTransition:x,...v},w){let{basename:N}=D.useContext(Jr),P=typeof p=="string"&&Sj.test(p),R,O=!1;if(typeof p=="string"&&P&&(R=p,jj))try{let C=new URL(window.location.href),L=p.startsWith("//")?new URL(C.protocol+p):new URL(p),A=Xi(L.pathname,N);L.origin===C.origin&&A!=null?p=A+L.search+L.hash:O=!0}catch(C){er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=L4(p,{relative:i}),[E,y,j]=xT(r,v),M=kT(p,{replace:c,state:d,target:h,preventScrollReset:m,relative:i,viewTransition:x});function T(C){e&&e(C),C.defaultPrevented||M(C)}let _=D.createElement("a",{...v,...j,href:R||B,onClick:O||o?e:T,ref:_T(w,y),target:h,"data-discover":!P&&s==="render"?"true":void 0});return E&&!P?D.createElement(D.Fragment,null,_,D.createElement(vT,{page:B})):_});Et.displayName="Link";var an=D.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:h,...p},m){let x=mu(c,{relative:p.relative}),v=sr(),w=D.useContext(um),{navigator:N,basename:P}=D.useContext(Jr),R=w!=null&&AT(x)&&d===!0,O=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,B=v.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(B=B.toLowerCase(),E=E?E.toLowerCase():null,O=O.toLowerCase()),E&&P&&(E=Xi(E,P)||E);const y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let j=B===O||!i&&B.startsWith(O)&&B.charAt(y)==="/",M=E!=null&&(E===O||!i&&E.startsWith(O)&&E.charAt(O.length)==="/"),T={isActive:j,isPending:M,isTransitioning:R},_=j?e:void 0,C;typeof r=="function"?C=r(T):C=[r,j?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(T):o;return D.createElement(Et,{...p,"aria-current":_,className:C,ref:m,style:L,to:c,viewTransition:d},typeof h=="function"?h(T):h)});an.displayName="NavLink";var jT=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:o,method:c=yp,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:x,...v},w)=>{let N=CT(),P=ET(d,{relative:p}),R=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&Sj.test(d),B=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let y=E.nativeEvent.submitter,j=(y==null?void 0:y.getAttribute("formmethod"))||c;N(y||E.currentTarget,{fetcherKey:e,method:j,navigate:s,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:x})};return D.createElement("form",{ref:w,method:R,action:P,onSubmit:r?h:B,...v,"data-discover":!O&&t==="render"?"true":void 0})});jT.displayName="Form";function ST(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kj(t){let e=D.useContext(gc);return Qt(e,ST(t)),e}function kT(t,{target:e,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Ga(),h=sr(),p=mu(t,{relative:o});return D.useCallback(m=>{if(sT(m,e)){m.preventDefault();let x=s!==void 0?s:Hd(h)===Hd(p);d(t,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[h,d,p,s,r,e,t,i,o,c])}function Go(t){er(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Ax(t)),s=D.useRef(!1),r=sr(),i=D.useMemo(()=>rT(r.search,s.current?null:e.current),[r.search]),o=Ga(),c=D.useCallback((d,h)=>{const p=Ax(typeof d=="function"?d(new URLSearchParams(i)):d);s.current=!0,o("?"+p,h)},[o,i]);return[i,c]}var NT=0,TT=()=>`__${String(++NT)}__`;function CT(){let{router:t}=kj("useSubmit"),{basename:e}=D.useContext(Jr),s=q4();return D.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:h,body:p}=oT(r,e);if(i.navigate===!1){let m=i.fetcherKey||TT();await t.fetch(m,s,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function ET(t,{relative:e}={}){let{basename:s}=D.useContext(Jr),r=D.useContext(kr);Qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...mu(t||".",{relative:e})},c=sr();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let m=d.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:Ki([s,o.pathname])),Hd(o)}function AT(t,{relative:e}={}){let s=D.useContext(fj);Qt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kj("useViewTransitionState"),i=mu(t,{relative:e});if(!s.isTransitioning)return!1;let o=Xi(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=Xi(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Mp(i.pathname,c)!=null||Mp(i.pathname,o)!=null}var IT=dj();const RT=j0(IT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Ab=t=>{const e=LT(t);return e.charAt(0).toUpperCase()+e.slice(1)},Nj=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),DT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...d},h)=>D.createElement("svg",{ref:h,...MT,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:Nj("lucide",i),...!o&&!DT(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,m])=>D.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const s=D.forwardRef(({className:r,...i},o)=>D.createElement(FT,{ref:o,iconNode:e,className:Nj(`lucide-${PT(Ab(t))}`,`lucide-${t}`,r),...i}));return s.displayName=Ab(t),s};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],pm=ct("aperture",BT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],VT=ct("arrow-up-right",$T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],UT=ct("bell",OT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],GT=ct("book-open",zT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],WT=ct("chart-column",HT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KT=ct("chevron-right",qT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],_p=ct("circle-dot",QT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YT=ct("clock-3",XT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ZT=ct("cloud-upload",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tC=ct("compass",eC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sC=ct("database",nC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Tj=ct("diamond",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aC=ct("file-text",iC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],lC=ct("folder-search",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dC=ct("globe",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Cj=ct("hexagon",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],pC=ct("house",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],fC=ct("layers",mC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xC=ct("layout-dashboard",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ej=ct("loader-circle",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],bC=ct("messages-square",yC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],wC=ct("pin-off",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],SC=ct("pin",jC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],NC=ct("refresh-ccw",kC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],CC=ct("server-cog",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AC=ct("settings",EC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Aj=ct("shapes",IC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ij=ct("shield-alert",RC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],LC=ct("shield-check",PC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fu=ct("shield",DC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],FC=ct("square-activity",MC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$C=ct("star",BC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P0=ct("triangle-alert",VC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],UC=ct("trophy",OC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],GC=ct("upload",zC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L0=ct("users",HC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rj=ct("zap",WC),qC="_topbar_1rfl9_3",KC="_topbarLeft_1rfl9_39",QC="_searchWrap_1rfl9_55",XC="_topbarRight_1rfl9_109",YC="_ico_1rfl9_125",JC="_btnIco_1rfl9_139",ZC="_pill_1rfl9_173",eE="_onlyExpanded_1rfl9_195",tE="_upload_1rfl9_201",nE="_label_1rfl9_231",sE="_avatarBtn_1rfl9_237",rE="_avatar_1rfl9_237",ts={topbar:qC,topbarLeft:KC,searchWrap:QC,topbarRight:XC,ico:YC,btnIco:JC,pill:ZC,onlyExpanded:eE,upload:tE,label:nE,avatarBtn:sE,avatar:rE},Pj=D.createContext(null);function iE({children:t,role:e}){const[s,r]=D.useState(!1),[i,o]=D.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=D.useCallback(m=>{c&&(m!=null&&m.tab?o(m.tab):o("csv"),r(!0))},[c]),h=D.useCallback(()=>r(!1),[]),p=D.useMemo(()=>({isOpen:s,open:d,close:h,activeTab:i,setTab:o,canUse:c}),[s,d,h,i,c]);return n.jsx(Pj.Provider,{value:p,children:t})}function Lj(){const t=D.useContext(Pj);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var Ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},aE=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const i=t[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[s++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[s++],c=t[s++],d=t[s++],h=((i&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[s++],c=t[s++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Mj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,d=c?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,m=o>>2,x=(o&3)<<4|d>>4;let v=(d&15)<<2|p>>6,w=p&63;h||(w=64,c||(v=64)),r.push(s[m],s[x],s[v],s[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=s[t.charAt(i++)],d=i<t.length?s[t.charAt(i)]:0;++i;const p=i<t.length?s[t.charAt(i)]:64;++i;const x=i<t.length?s[t.charAt(i)]:64;if(++i,o==null||d==null||p==null||x==null)throw new oE;const v=o<<2|d>>4;if(r.push(v),p!==64){const w=d<<4&240|p>>2;if(r.push(w),x!==64){const N=p<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lE=function(t){const e=Dj(t);return Mj.encodeByteArray(e,!0)},Fp=function(t){return lE(t).replace(/\./g,"")},cE=function(t){try{return Mj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=()=>dE().__FIREBASE_DEFAULTS__,hE=()=>{if(typeof process=="undefined"||typeof Ib=="undefined")return;const t=Ib.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pE=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const e=t&&cE(t[1]);return e&&JSON.parse(e)},D0=()=>{try{return uE()||hE()||pE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,s;return(s=(e=D0())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},fE=t=>{const e=mE(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},Fj=()=>{var t;return(t=D0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fp(JSON.stringify(s)),Fp(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yE(){var t;const e=(t=D0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(s){return!1}}function bE(){return!yE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _E(){try{return typeof indexedDB=="object"}catch(t){return!1}}function wE(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="FirebaseError";class vc extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=jE,Object.setPrototypeOf(this,vc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bj.prototype.create)}}class Bj{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?SE(o,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new vc(i,d,r)}}function SE(t,e){return t.replace(kE,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kE=/\{\$([^}]+)}/g;function Ix(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(Rb(o)&&Rb(c)){if(!Ix(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function Rb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Wd{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new gE;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CE(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch(s){}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch(o){}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(i)}return i}onInit(e,s){var r;const i=this.normalizeInstanceIdentifier(s),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TE(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TE(t){return t===Co?void 0:t}function CE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new NE(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const AE={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},IE=yt.INFO,RE={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},PE=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RE[e];if(i)console[i](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $j{constructor(e){this.name=e,this._logLevel=IE,this._logHandler=PE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const LE=(t,e)=>e.some(s=>t instanceof s);let Pb,Lb;function DE(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ME(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vj=new WeakMap,Rx=new WeakMap,Oj=new WeakMap,Ng=new WeakMap,M0=new WeakMap;function FE(t){const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{s(Da(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(s=>{s instanceof IDBCursor&&Vj.set(s,t)}).catch(()=>{}),M0.set(e,t),e}function BE(t){if(Rx.has(t))return;const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{s(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Rx.set(t,e)}let Px={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Rx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Oj.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Da(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $E(t){Px=t(Px)}function VE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(Tg(this),e,...s);return Oj.set(r,e.sort?e.sort():[e]),Da(r)}:ME().includes(t)?function(...e){return t.apply(Tg(this),e),Da(Vj.get(this))}:function(...e){return Da(t.apply(Tg(this),e))}}function OE(t){return typeof t=="function"?VE(t):(t instanceof IDBTransaction&&BE(t),LE(t,DE())?new Proxy(t,Px):t)}function Da(t){if(t instanceof IDBRequest)return FE(t);if(Ng.has(t))return Ng.get(t);const e=OE(t);return e!==t&&(Ng.set(t,e),M0.set(e,t)),e}const Tg=t=>M0.get(t);function UE(t,e,{blocked:s,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),d=Da(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Da(c.result),h.oldVersion,h.newVersion,Da(c.transaction),h)}),s&&c.addEventListener("blocked",h=>s(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const zE=["get","getKey","getAll","getAllKeys","count"],GE=["put","add","delete","clear"],Cg=new Map;function Db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=GE.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zE.includes(s)))return;const o=async function(c,...d){const h=this.transaction(c,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[s](...d),i&&h.done]))[0]};return Cg.set(e,o),o}$E(t=>({...t,get:(e,s,r)=>Db(e,s)||t.get(e,s,r),has:(e,s)=>!!Db(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(WE(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function WE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lx="@firebase/app",Mb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new $j("@firebase/app"),qE="@firebase/app-compat",KE="@firebase/analytics-compat",QE="@firebase/analytics",XE="@firebase/app-check-compat",YE="@firebase/app-check",JE="@firebase/auth",ZE="@firebase/auth-compat",eA="@firebase/database",tA="@firebase/data-connect",nA="@firebase/database-compat",sA="@firebase/functions",rA="@firebase/functions-compat",iA="@firebase/installations",aA="@firebase/installations-compat",oA="@firebase/messaging",lA="@firebase/messaging-compat",cA="@firebase/performance",dA="@firebase/performance-compat",uA="@firebase/remote-config",hA="@firebase/remote-config-compat",pA="@firebase/storage",mA="@firebase/storage-compat",fA="@firebase/firestore",gA="@firebase/vertexai-preview",xA="@firebase/firestore-compat",vA="firebase",yA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="[DEFAULT]",bA={[Lx]:"fire-core",[qE]:"fire-core-compat",[QE]:"fire-analytics",[KE]:"fire-analytics-compat",[YE]:"fire-app-check",[XE]:"fire-app-check-compat",[JE]:"fire-auth",[ZE]:"fire-auth-compat",[eA]:"fire-rtdb",[tA]:"fire-data-connect",[nA]:"fire-rtdb-compat",[sA]:"fire-fn",[rA]:"fire-fn-compat",[iA]:"fire-iid",[aA]:"fire-iid-compat",[oA]:"fire-fcm",[lA]:"fire-fcm-compat",[cA]:"fire-perf",[dA]:"fire-perf-compat",[uA]:"fire-rc",[hA]:"fire-rc-compat",[pA]:"fire-gcs",[mA]:"fire-gcs-compat",[fA]:"fire-fst",[xA]:"fire-fst-compat",[gA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,_A=new Map,Mx=new Map;function Fb(t,e){try{t.container.addComponent(e)}catch(s){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Bp(t){const e=t.name;if(Mx.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Mx.set(e,t);for(const s of qd.values())Fb(s,t);for(const s of _A.values())Fb(s,t);return!0}function wA(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new Bj("app","Firebase",jA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=yA;function Uj(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ma.create("bad-app-name",{appName:String(i)});if(s||(s=Fj()),!s)throw Ma.create("no-options");const o=qd.get(i);if(o){if(Ix(s,o.options)&&Ix(r,o.config))return o;throw Ma.create("duplicate-app",{appName:i})}const c=new EE(i);for(const h of Mx.values())c.addComponent(h);const d=new SA(s,r,c);return qd.set(i,d),d}function zj(t=Dx){const e=qd.get(t);if(!e&&t===Dx&&Fj())return Uj();if(!e)throw Ma.create("no-app",{appName:t});return e}function NA(){return Array.from(qd.values())}function Zl(t,e,s){var r;let i=(r=bA[t])!==null&&r!==void 0?r:t;s&&(i+=`-${s}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}Bp(new Wd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",CA=1,Kd="firebase-heartbeat-store";let Eg=null;function Gj(){return Eg||(Eg=UE(TA,CA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kd)}catch(s){console.warn(s)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),Eg}async function EA(t){try{const s=(await Gj()).transaction(Kd),r=await s.objectStore(Kd).get(Hj(t));return await s.done,r}catch(e){if(e instanceof vc)Yi.warn(e.message);else{const s=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(s.message)}}}async function Bb(t,e){try{const r=(await Gj()).transaction(Kd,"readwrite");await r.objectStore(Kd).put(e,Hj(t)),await r.done}catch(s){if(s instanceof vc)Yi.warn(s.message);else{const r=Ma.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Yi.warn(r.message)}}}function Hj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1024,IA=720*60*60*1e3;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new LA(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$b();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=IA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=$b(),{heartbeatsToSend:r,unsentEntries:i}=PA(this._heartbeatsCache.heartbeats),o=Fp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(s){return Yi.warn(s),""}}}function $b(){return new Date().toISOString().substring(0,10)}function PA(t,e=AA){const s=[];let r=t.slice();for(const i of t){const o=s.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),Vb(s)>e){o.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),Vb(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _E()?wE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await EA(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return Fp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){Bp(new Wd("platform-logger",e=>new HE(e),"PRIVATE")),Bp(new Wd("heartbeat",e=>new RA(e),"PRIVATE")),Zl(Lx,Mb,t),Zl(Lx,Mb,"esm2017"),Zl("fire-js","")}DA("");var Ob=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,Wj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,_){function C(){}C.prototype=_.prototype,T.D=_.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(L,A,V){for(var F=Array(arguments.length-2),K=2;K<arguments.length;K++)F[K-2]=arguments[K];return _.prototype[A].apply(L,F)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,C){C||(C=0);var L=Array(16);if(typeof _=="string")for(var A=0;16>A;++A)L[A]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(A=0;16>A;++A)L[A]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=T.g[0],C=T.g[1],A=T.g[2];var V=T.g[3],F=_+(V^C&(A^V))+L[0]+3614090360&4294967295;_=C+(F<<7&4294967295|F>>>25),F=V+(A^_&(C^A))+L[1]+3905402710&4294967295,V=_+(F<<12&4294967295|F>>>20),F=A+(C^V&(_^C))+L[2]+606105819&4294967295,A=V+(F<<17&4294967295|F>>>15),F=C+(_^A&(V^_))+L[3]+3250441966&4294967295,C=A+(F<<22&4294967295|F>>>10),F=_+(V^C&(A^V))+L[4]+4118548399&4294967295,_=C+(F<<7&4294967295|F>>>25),F=V+(A^_&(C^A))+L[5]+1200080426&4294967295,V=_+(F<<12&4294967295|F>>>20),F=A+(C^V&(_^C))+L[6]+2821735955&4294967295,A=V+(F<<17&4294967295|F>>>15),F=C+(_^A&(V^_))+L[7]+4249261313&4294967295,C=A+(F<<22&4294967295|F>>>10),F=_+(V^C&(A^V))+L[8]+1770035416&4294967295,_=C+(F<<7&4294967295|F>>>25),F=V+(A^_&(C^A))+L[9]+2336552879&4294967295,V=_+(F<<12&4294967295|F>>>20),F=A+(C^V&(_^C))+L[10]+4294925233&4294967295,A=V+(F<<17&4294967295|F>>>15),F=C+(_^A&(V^_))+L[11]+2304563134&4294967295,C=A+(F<<22&4294967295|F>>>10),F=_+(V^C&(A^V))+L[12]+1804603682&4294967295,_=C+(F<<7&4294967295|F>>>25),F=V+(A^_&(C^A))+L[13]+4254626195&4294967295,V=_+(F<<12&4294967295|F>>>20),F=A+(C^V&(_^C))+L[14]+2792965006&4294967295,A=V+(F<<17&4294967295|F>>>15),F=C+(_^A&(V^_))+L[15]+1236535329&4294967295,C=A+(F<<22&4294967295|F>>>10),F=_+(A^V&(C^A))+L[1]+4129170786&4294967295,_=C+(F<<5&4294967295|F>>>27),F=V+(C^A&(_^C))+L[6]+3225465664&4294967295,V=_+(F<<9&4294967295|F>>>23),F=A+(_^C&(V^_))+L[11]+643717713&4294967295,A=V+(F<<14&4294967295|F>>>18),F=C+(V^_&(A^V))+L[0]+3921069994&4294967295,C=A+(F<<20&4294967295|F>>>12),F=_+(A^V&(C^A))+L[5]+3593408605&4294967295,_=C+(F<<5&4294967295|F>>>27),F=V+(C^A&(_^C))+L[10]+38016083&4294967295,V=_+(F<<9&4294967295|F>>>23),F=A+(_^C&(V^_))+L[15]+3634488961&4294967295,A=V+(F<<14&4294967295|F>>>18),F=C+(V^_&(A^V))+L[4]+3889429448&4294967295,C=A+(F<<20&4294967295|F>>>12),F=_+(A^V&(C^A))+L[9]+568446438&4294967295,_=C+(F<<5&4294967295|F>>>27),F=V+(C^A&(_^C))+L[14]+3275163606&4294967295,V=_+(F<<9&4294967295|F>>>23),F=A+(_^C&(V^_))+L[3]+4107603335&4294967295,A=V+(F<<14&4294967295|F>>>18),F=C+(V^_&(A^V))+L[8]+1163531501&4294967295,C=A+(F<<20&4294967295|F>>>12),F=_+(A^V&(C^A))+L[13]+2850285829&4294967295,_=C+(F<<5&4294967295|F>>>27),F=V+(C^A&(_^C))+L[2]+4243563512&4294967295,V=_+(F<<9&4294967295|F>>>23),F=A+(_^C&(V^_))+L[7]+1735328473&4294967295,A=V+(F<<14&4294967295|F>>>18),F=C+(V^_&(A^V))+L[12]+2368359562&4294967295,C=A+(F<<20&4294967295|F>>>12),F=_+(C^A^V)+L[5]+4294588738&4294967295,_=C+(F<<4&4294967295|F>>>28),F=V+(_^C^A)+L[8]+2272392833&4294967295,V=_+(F<<11&4294967295|F>>>21),F=A+(V^_^C)+L[11]+1839030562&4294967295,A=V+(F<<16&4294967295|F>>>16),F=C+(A^V^_)+L[14]+4259657740&4294967295,C=A+(F<<23&4294967295|F>>>9),F=_+(C^A^V)+L[1]+2763975236&4294967295,_=C+(F<<4&4294967295|F>>>28),F=V+(_^C^A)+L[4]+1272893353&4294967295,V=_+(F<<11&4294967295|F>>>21),F=A+(V^_^C)+L[7]+4139469664&4294967295,A=V+(F<<16&4294967295|F>>>16),F=C+(A^V^_)+L[10]+3200236656&4294967295,C=A+(F<<23&4294967295|F>>>9),F=_+(C^A^V)+L[13]+681279174&4294967295,_=C+(F<<4&4294967295|F>>>28),F=V+(_^C^A)+L[0]+3936430074&4294967295,V=_+(F<<11&4294967295|F>>>21),F=A+(V^_^C)+L[3]+3572445317&4294967295,A=V+(F<<16&4294967295|F>>>16),F=C+(A^V^_)+L[6]+76029189&4294967295,C=A+(F<<23&4294967295|F>>>9),F=_+(C^A^V)+L[9]+3654602809&4294967295,_=C+(F<<4&4294967295|F>>>28),F=V+(_^C^A)+L[12]+3873151461&4294967295,V=_+(F<<11&4294967295|F>>>21),F=A+(V^_^C)+L[15]+530742520&4294967295,A=V+(F<<16&4294967295|F>>>16),F=C+(A^V^_)+L[2]+3299628645&4294967295,C=A+(F<<23&4294967295|F>>>9),F=_+(A^(C|~V))+L[0]+4096336452&4294967295,_=C+(F<<6&4294967295|F>>>26),F=V+(C^(_|~A))+L[7]+1126891415&4294967295,V=_+(F<<10&4294967295|F>>>22),F=A+(_^(V|~C))+L[14]+2878612391&4294967295,A=V+(F<<15&4294967295|F>>>17),F=C+(V^(A|~_))+L[5]+4237533241&4294967295,C=A+(F<<21&4294967295|F>>>11),F=_+(A^(C|~V))+L[12]+1700485571&4294967295,_=C+(F<<6&4294967295|F>>>26),F=V+(C^(_|~A))+L[3]+2399980690&4294967295,V=_+(F<<10&4294967295|F>>>22),F=A+(_^(V|~C))+L[10]+4293915773&4294967295,A=V+(F<<15&4294967295|F>>>17),F=C+(V^(A|~_))+L[1]+2240044497&4294967295,C=A+(F<<21&4294967295|F>>>11),F=_+(A^(C|~V))+L[8]+1873313359&4294967295,_=C+(F<<6&4294967295|F>>>26),F=V+(C^(_|~A))+L[15]+4264355552&4294967295,V=_+(F<<10&4294967295|F>>>22),F=A+(_^(V|~C))+L[6]+2734768916&4294967295,A=V+(F<<15&4294967295|F>>>17),F=C+(V^(A|~_))+L[13]+1309151649&4294967295,C=A+(F<<21&4294967295|F>>>11),F=_+(A^(C|~V))+L[4]+4149444226&4294967295,_=C+(F<<6&4294967295|F>>>26),F=V+(C^(_|~A))+L[11]+3174756917&4294967295,V=_+(F<<10&4294967295|F>>>22),F=A+(_^(V|~C))+L[2]+718787259&4294967295,A=V+(F<<15&4294967295|F>>>17),F=C+(V^(A|~_))+L[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(A+(F<<21&4294967295|F>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+V&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var C=_-this.blockSize,L=this.B,A=this.h,V=0;V<_;){if(A==0)for(;V<=C;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<_;)if(L[A++]=T.charCodeAt(V++),A==this.blockSize){i(this,L),A=0;break}}else for(;V<_;)if(L[A++]=T[V++],A==this.blockSize){i(this,L),A=0;break}}this.h=A,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var C=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=C&255,C/=256;for(this.u(T),T=Array(16),_=C=0;4>_;++_)for(var L=0;32>L;L+=8)T[C++]=this.g[_]>>>L&255;return T};function o(T,_){var C=d;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=_(T)}function c(T,_){this.h=_;for(var C=[],L=!0,A=T.length-1;0<=A;A--){var V=T[A]|0;L&&V==_||(C[A]=V,L=!1)}this.g=C}var d={};function h(T){return-128<=T&&128>T?o(T,function(_){return new c([_|0],0>_?-1:0)}):new c([T|0],0>T?-1:0)}function p(T){if(isNaN(T)||!isFinite(T))return x;if(0>T)return R(p(-T));for(var _=[],C=1,L=0;T>=C;L++)_[L]=T/C|0,C*=4294967296;return new c(_,0)}function m(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(m(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(_,8)),L=x,A=0;A<T.length;A+=8){var V=Math.min(8,T.length-A),F=parseInt(T.substring(A,A+V),_);8>V?(V=p(Math.pow(_,V)),L=L.j(V).add(p(F))):(L=L.j(C),L=L.add(p(F)))}return L}var x=h(0),v=h(1),w=h(16777216);t=c.prototype,t.m=function(){if(P(this))return-R(this).m();for(var T=0,_=1,C=0;C<this.g.length;C++){var L=this.i(C);T+=(0<=L?L:4294967296+L)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(P(this))return"-"+R(this).toString(T);for(var _=p(Math.pow(T,6)),C=this,L="";;){var A=y(C,_).g;C=O(C,A.j(_));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=A,N(C))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function P(T){return T.h==-1}t.l=function(T){return T=O(this,T),P(T)?-1:N(T)?0:1};function R(T){for(var _=T.g.length,C=[],L=0;L<_;L++)C[L]=~T.g[L];return new c(C,~T.h).add(v)}t.abs=function(){return P(this)?R(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),C=[],L=0,A=0;A<=_;A++){var V=L+(this.i(A)&65535)+(T.i(A)&65535),F=(V>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);L=F>>>16,V&=65535,F&=65535,C[A]=F<<16|V}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(T,_){return T.add(R(_))}t.j=function(T){if(N(this)||N(T))return x;if(P(this))return P(T)?R(this).j(R(T)):R(R(this).j(T));if(P(T))return R(this.j(R(T)));if(0>this.l(w)&&0>T.l(w))return p(this.m()*T.m());for(var _=this.g.length+T.g.length,C=[],L=0;L<2*_;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var A=0;A<T.g.length;A++){var V=this.i(L)>>>16,F=this.i(L)&65535,K=T.i(A)>>>16,z=T.i(A)&65535;C[2*L+2*A]+=F*z,B(C,2*L+2*A),C[2*L+2*A+1]+=V*z,B(C,2*L+2*A+1),C[2*L+2*A+1]+=F*K,B(C,2*L+2*A+1),C[2*L+2*A+2]+=V*K,B(C,2*L+2*A+2)}for(L=0;L<_;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=_;L<2*_;L++)C[L]=0;return new c(C,0)};function B(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function E(T,_){this.g=T,this.h=_}function y(T,_){if(N(_))throw Error("division by zero");if(N(T))return new E(x,x);if(P(T))return _=y(R(T),_),new E(R(_.g),R(_.h));if(P(_))return _=y(T,R(_)),new E(R(_.g),_.h);if(30<T.g.length){if(P(T)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var C=v,L=_;0>=L.l(T);)C=j(C),L=j(L);var A=M(C,1),V=M(L,1);for(L=M(L,2),C=M(C,2);!N(L);){var F=V.add(L);0>=F.l(T)&&(A=A.add(C),V=F),L=M(L,1),C=M(C,1)}return _=O(T,A.j(_)),new E(A,_)}for(A=x;0<=T.l(_);){for(C=Math.max(1,Math.floor(T.m()/_.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(C),F=V.j(_);P(F)||0<F.l(T);)C-=L,V=p(C),F=V.j(_);N(V)&&(V=v),A=A.add(V),T=O(T,F)}return new E(A,T)}t.A=function(T){return y(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),C=[],L=0;L<_;L++)C[L]=this.i(L)&T.i(L);return new c(C,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),C=[],L=0;L<_;L++)C[L]=this.i(L)|T.i(L);return new c(C,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),C=[],L=0;L<_;L++)C[L]=this.i(L)^T.i(L);return new c(C,this.h^T.h)};function j(T){for(var _=T.g.length+1,C=[],L=0;L<_;L++)C[L]=T.i(L)<<1|T.i(L-1)>>>31;return new c(C,T.h)}function M(T,_){var C=_>>5;_%=32;for(var L=T.g.length-C,A=[],V=0;V<L;V++)A[V]=0<_?T.i(V+C)>>>_|T.i(V+C+1)<<32-_:T.i(V+C);return new c(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wj=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=m,Do=c}).apply(typeof Ob!="undefined"?Ob:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Xh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qj,Sd,Kj,wp,Fx,Qj,Xj,Yj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,I){return f==Array.prototype||f==Object.prototype||(f[S]=I.value),f};function s(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var S=0;S<f.length;++S){var I=f[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=s(this);function i(f,S){if(S)e:{var I=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ie=f[U];if(!(ie in I))break e;I=I[ie]}f=f[f.length-1],U=I[f],S=S(U),S!=U&&S!=null&&e(I,f,{configurable:!0,writable:!0,value:S})}}function o(f,S){f instanceof String&&(f+="");var I=0,U=!1,ie={next:function(){if(!U&&I<f.length){var ce=I++;return{value:S(ce,f[ce]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(f){return f||function(){return o(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function p(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function m(f,S,I){return f.call.apply(f.bind,arguments)}function x(f,S,I){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,U),f.apply(S,ie)}}return function(){return f.apply(S,arguments)}}function v(f,S,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:x,v.apply(null,arguments)}function w(f,S){var I=Array.prototype.slice.call(arguments,1);return function(){var U=I.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function N(f,S){function I(){}I.prototype=S.prototype,f.aa=S.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(U,ie,ce){for(var Ne=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ne[Nt-2]=arguments[Nt];return S.prototype[ie].apply(U,Ne)}}function P(f){const S=f.length;if(0<S){const I=Array(S);for(let U=0;U<S;U++)I[U]=f[U];return I}return[]}function R(f,S){for(let I=1;I<arguments.length;I++){const U=arguments[I];if(h(U)){const ie=f.length||0,ce=U.length||0;f.length=ie+ce;for(let Ne=0;Ne<ce;Ne++)f[ie+Ne]=U[Ne]}else f.push(U)}}class O{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function B(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var j=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(f,S,I){for(const U in f)S.call(I,f[U],U,f)}function T(f,S){for(const I in f)S.call(void 0,f[I],I,f)}function _(f){const S={};for(const I in f)S[I]=f[I];return S}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,S){let I,U;for(let ie=1;ie<arguments.length;ie++){U=arguments[ie];for(I in U)f[I]=U[I];for(let ce=0;ce<C.length;ce++)I=C[ce],Object.prototype.hasOwnProperty.call(U,I)&&(f[I]=U[I])}}function A(f){var S=1;f=f.split(":");const I=[];for(;0<S&&f.length;)I.push(f.shift()),S--;return f.length&&I.push(f.join(":")),I}function V(f){d.setTimeout(()=>{throw f},0)}function F(){var f=ne;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class K{constructor(){this.h=this.g=null}add(S,I){const U=z.get();U.set(S,I),this.h?this.h.next=U:this.g=U,this.h=U}}var z=new O(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let H,W=!1,ne=new K,re=()=>{const f=d.Promise.resolve(void 0);H=()=>{f.then(G)}};var G=()=>{for(var f;f=F();){try{f.h.call(f.g)}catch(I){V(I)}var S=z;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}W=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};d.addEventListener("test",I,S),d.removeEventListener("test",I,S)}catch(I){}return f})();function fe(f,S){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(j){e:{try{y(S.nodeName);var ie=!0;break e}catch(ce){}ie=!1}ie||(S=null)}}else I=="mouseover"?S=f.fromElement:I=="mouseout"&&(S=f.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}N(fe,ue);var Te={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ce(f,S,I,U,ie){this.listener=f,this.proxy=null,this.src=S,this.type=I,this.capture=!!U,this.ha=ie,this.key=++Ee,this.da=this.fa=!1}function We(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function kt(f){this.src=f,this.g={},this.h=0}kt.prototype.add=function(f,S,I,U,ie){var ce=f.toString();f=this.g[ce],f||(f=this.g[ce]=[],this.h++);var Ne=At(f,S,U,ie);return-1<Ne?(S=f[Ne],I||(S.fa=!1)):(S=new Ce(S,this.src,ce,!!U,ie),S.fa=I,f.push(S)),S};function Xe(f,S){var I=S.type;if(I in f.g){var U=f.g[I],ie=Array.prototype.indexOf.call(U,S,void 0),ce;(ce=0<=ie)&&Array.prototype.splice.call(U,ie,1),ce&&(We(S),f.g[I].length==0&&(delete f.g[I],f.h--))}}function At(f,S,I,U){for(var ie=0;ie<f.length;++ie){var ce=f[ie];if(!ce.da&&ce.listener==S&&ce.capture==!!I&&ce.ha==U)return ie}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),ys={};function bs(f,S,I,U,ie){if(Array.isArray(S)){for(var ce=0;ce<S.length;ce++)bs(f,S[ce],I,U,ie);return null}return I=jn(I),f&&f[me]?f.K(S,I,p(U)?!!U.capture:!1,ie):_s(f,S,I,!1,U,ie)}function _s(f,S,I,U,ie,ce){if(!S)throw Error("Invalid event type");var Ne=p(ie)?!!ie.capture:!!ie,Nt=rr(f);if(Nt||(f[$t]=Nt=new kt(f)),I=Nt.add(S,I,U,Ne,ce),I.proxy)return I;if(U=Tr(),I.proxy=U,U.src=f,U.listener=I,f.addEventListener)ee||(ie=Ne),ie===void 0&&(ie=!1),f.addEventListener(S.toString(),U,ie);else if(f.attachEvent)f.attachEvent(ls(S.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Tr(){function f(I){return S.call(f.src,f.listener,I)}const S=Cr;return f}function ws(f,S,I,U,ie){if(Array.isArray(S))for(var ce=0;ce<S.length;ce++)ws(f,S[ce],I,U,ie);else U=p(U)?!!U.capture:!!U,I=jn(I),f&&f[me]?(f=f.i,S=String(S).toString(),S in f.g&&(ce=f.g[S],I=At(ce,I,U,ie),-1<I&&(We(ce[I]),Array.prototype.splice.call(ce,I,1),ce.length==0&&(delete f.g[S],f.h--)))):f&&(f=rr(f))&&(S=f.g[S.toString()],f=-1,S&&(f=At(S,I,U,ie)),(I=-1<f?S[f]:null)&&os(I))}function os(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[me])Xe(S.i,f);else{var I=f.type,U=f.proxy;S.removeEventListener?S.removeEventListener(I,U,f.capture):S.detachEvent?S.detachEvent(ls(I),U):S.addListener&&S.removeListener&&S.removeListener(U),(I=rr(S))?(Xe(I,f),I.h==0&&(I.src=null,S[$t]=null)):We(f)}}}function ls(f){return f in ys?ys[f]:ys[f]="on"+f}function Cr(f,S){if(f.da)f=!0;else{S=new fe(S,this);var I=f.listener,U=f.ha||f.src;f.fa&&os(f),f=I.call(U,S)}return f}function rr(f){return f=f[$t],f instanceof kt?f:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(f){return typeof f=="function"?f:(f[ir]||(f[ir]=function(S){return f.handleEvent(S)}),f[ir])}function Ht(){Z.call(this),this.i=new kt(this),this.M=this,this.F=null}N(Ht,Z),Ht.prototype[me]=!0,Ht.prototype.removeEventListener=function(f,S,I,U){ws(this,f,S,I,U)};function Vt(f,S){var I,U=f.F;if(U)for(I=[];U;U=U.F)I.push(U);if(f=f.M,U=S.type||S,typeof S=="string")S=new ue(S,f);else if(S instanceof ue)S.target=S.target||f;else{var ie=S;S=new ue(U,f),L(S,ie)}if(ie=!0,I)for(var ce=I.length-1;0<=ce;ce--){var Ne=S.g=I[ce];ie=Ct(Ne,U,!0,S)&&ie}if(Ne=S.g=f,ie=Ct(Ne,U,!0,S)&&ie,ie=Ct(Ne,U,!1,S)&&ie,I)for(ce=0;ce<I.length;ce++)Ne=S.g=I[ce],ie=Ct(Ne,U,!1,S)&&ie}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var I=f.g[S],U=0;U<I.length;U++)We(I[U]);delete f.g[S],f.h--}}this.F=null},Ht.prototype.K=function(f,S,I,U){return this.i.add(String(f),S,!1,I,U)},Ht.prototype.L=function(f,S,I,U){return this.i.add(String(f),S,!0,I,U)};function Ct(f,S,I,U){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var ie=!0,ce=0;ce<S.length;++ce){var Ne=S[ce];if(Ne&&!Ne.da&&Ne.capture==I){var Nt=Ne.listener,Sn=Ne.ha||Ne.src;Ne.fa&&Xe(f.i,Ne),ie=Nt.call(Sn,U)!==!1&&ie}}return ie&&!U.defaultPrevented}function ei(f,S,I){if(typeof f=="function")I&&(f=v(f,I));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:d.setTimeout(f,S||0)}function Bs(f){f.g=ei(()=>{f.g=null,f.i&&(f.i=!1,Bs(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class ar extends Z{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(f){Z.call(this),this.h=f,this.g={}}N(or,Z);var ti=[];function _i(f){M(f.g,function(S,I){this.g.hasOwnProperty(I)&&os(S)},f),f.g={}}or.prototype.N=function(){or.aa.N.call(this),_i(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=d.JSON.stringify,Er=d.JSON.parse,Ot=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function lr(){}lr.prototype.h=null;function wi(f){return f.h||(f.h=f.i())}function ji(){}var cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $s(){ue.call(this,"d")}N($s,ue);function Si(){ue.call(this,"c")}N(Si,ue);var Vs={},Tc=null;function Ka(){return Tc=Tc||new Ht}Vs.La="serverreachability";function Cc(f){ue.call(this,Vs.La,f)}N(Cc,ue);function ki(f){const S=Ka();Vt(S,new Cc(S))}Vs.STAT_EVENT="statevent";function Ec(f,S){ue.call(this,Vs.STAT_EVENT,f),this.stat=S}N(Ec,ue);function cn(f){const S=Ka();Vt(S,new Ec(S,f))}Vs.Ma="timingevent";function Xo(f,S){ue.call(this,Vs.Ma,f),this.size=S}N(Xo,ue);function Ar(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},S)}function Qa(){this.g=!0}Qa.prototype.xa=function(){this.g=!1};function Xa(f,S,I,U,ie,ce){f.info(function(){if(f.g)if(ce)for(var Ne="",Nt=ce.split("&"),Sn=0;Sn<Nt.length;Sn++){var ft=Nt[Sn].split("=");if(1<ft.length){var En=ft[0];ft=ft[1];var mn=En.split("_");Ne=2<=mn.length&&mn[1]=="type"?Ne+(En+"="+ft+"&"):Ne+(En+"=redacted&")}}else Ne=null;else Ne=ce;return"XMLHTTP REQ ("+U+") [attempt "+ie+"]: "+S+`
`+I+`
`+Ne})}function Yo(f,S,I,U,ie,ce,Ne){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ie+"]: "+S+`
`+I+`
`+ce+" "+Ne})}function Ir(f,S,I,U){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+Hm(f,I)+(U?" "+U:"")})}function Ac(f,S){f.info(function(){return"TIMEOUT: "+S})}Qa.prototype.info=function(){};function Hm(f,S){if(!f.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var U=I[f];if(!(2>U.length)){var ie=U[1];if(Array.isArray(ie)&&!(1>ie.length)){var ce=ie[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ne=1;Ne<ie.length;Ne++)ie[Ne]=""}}}}return ni(I)}catch(Nt){return S}}var Jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function Ya(){}N(Ya,lr),Ya.prototype.g=function(){return new XMLHttpRequest},Ya.prototype.i=function(){return{}},Rr=new Ya;function Pr(f,S,I,U){this.j=f,this.i=S,this.l=I,this.R=U||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Ic={},Zo={};function el(f,S,I){f.L=1,f.v=la(Us(S)),f.m=I,f.P=!0,Rc(f,null)}function Rc(f,S){f.F=Date.now(),Lt(f),f.A=Us(f.v);var I=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),da(I.i,"t",U),f.C=0,I=f.j.J,f.h=new Du,f.g=Zu(f.j,I?S:null,!f.m),0<f.O&&(f.M=new ar(v(f.Y,f,f.g),f.O)),S=f.U,I=f.g,U=f.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(ti[0]=ie.toString()),ie=ti);for(var ce=0;ce<ie.length;ce++){var Ne=bs(I,ie[ce],U||S.handleEvent,!1,S.h||S);if(!Ne)break;S.g[Ne.key]=Ne}S=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),ki(),Xa(f.i,f.u,f.A,f.l,f.R,f.m)}Pr.prototype.ca=function(f){f=f.target;const S=this.M;S&&Ss(f)==3?S.j():this.Y(f)},Pr.prototype.Y=function(f){try{if(f==this.g)e:{const mn=Ss(this.g);var S=this.g.Ba();const ur=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||mn!=4||S==7||(S==8||0>=ur?ki(3):ki(2)),Ja(this);var I=this.g.Z();this.X=I;t:if(Mu(this)){var U=Bc(this.g);f="";var ie=U.length,ce=Ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){cr(this),ra(this);var Ne="";break t}this.h.i=new d.TextDecoder}for(S=0;S<ie;S++)this.h.h=!0,f+=this.h.i.decode(U[S],{stream:!(ce&&S==ie-1)});U.length=0,this.h.g+=f,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=I==200,Yo(this.i,this.u,this.A,this.l,this.R,mn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,Sn=this.g;if((Nt=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Nt)){var ft=Nt;break t}}ft=null}if(I=ft)Ir(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pc(this,I);else{this.o=!1,this.s=3,cn(12),cr(this),ra(this);break e}}if(this.P){I=!0;let Gs;for(;!this.J&&this.C<Ne.length;)if(Gs=Wm(this,Ne),Gs==Zo){mn==4&&(this.s=4,cn(14),I=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Gs==Ic){this.s=4,cn(15),Ir(this.i,this.l,Ne,"[Invalid Chunk]"),I=!1;break}else Ir(this.i,this.l,Gs,null),Pc(this,Gs);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||Ne.length!=0||this.h.h||(this.s=1,cn(16),I=!1),this.o=this.o&&I,!I)Ir(this.i,this.l,Ne,"[Invalid Chunked Response]"),cr(this),ra(this);else if(0<Ne.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),Vc(En),En.M=!0,cn(11))}}else Ir(this.i,this.l,Ne,null),Pc(this,Ne);mn==4&&cr(this),this.o&&!this.J&&(mn==4?ul(this.j,this):(this.o=!1,Lt(this)))}else al(this.g),I==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),cr(this),ra(this)}}}catch(mn){}finally{}};function Mu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Wm(f,S){var I=f.C,U=S.indexOf(`
`,I);return U==-1?Zo:(I=Number(S.substring(I,U)),isNaN(I)?Ic:(U+=1,U+I>S.length?Zo:(S=S.slice(U,U+I),f.C=U+I,S)))}Pr.prototype.cancel=function(){this.J=!0,cr(this)};function Lt(f){f.S=Date.now()+f.I,Fu(f,f.I)}function Fu(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ar(v(f.ba,f),S)}function Ja(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Pr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ac(this.i,this.A),this.L!=2&&(ki(),cn(17)),cr(this),this.s=2,ra(this)):Fu(this,this.S-f)};function ra(f){f.j.G==0||f.J||ul(f.j,f)}function cr(f){Ja(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,_i(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function Pc(f,S){try{var I=f.j;if(I.G!=0&&(I.g==f||ds(I.h,f))){if(!f.K&&ds(I.h,f)&&I.G==3){try{var U=I.Da.g.parse(S)}catch(ft){U=null}if(Array.isArray(U)&&U.length==3){var ie=U;if(ie[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)dl(I),Br(I);else break e;cl(I),cn(18)}}else I.za=ie[1],0<I.za-I.T&&37500>ie[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ar(v(I.Za,I),6e3));if(1>=$u(I.h)&&I.ca){try{I.ca()}catch(ft){}I.ca=void 0}}else Ai(I,11)}else if((f.K||I.g==f)&&dl(I),!B(S))for(ie=I.Da.g.parse(S),S=0;S<ie.length;S++){let ft=ie[S];if(I.T=ft[0],ft=ft[1],I.G==2)if(ft[0]=="c"){I.K=ft[1],I.ia=ft[2];const En=ft[3];En!=null&&(I.la=En,I.j.info("VER="+I.la));const mn=ft[4];mn!=null&&(I.Aa=mn,I.j.info("SVER="+I.Aa));const ur=ft[5];ur!=null&&typeof ur=="number"&&0<ur&&(U=1.5*ur,I.L=U,I.j.info("backChannelRequestTimeoutMs_="+U)),U=I;const Gs=f.g;if(Gs){const io=Gs.g?Gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var ce=U.h;ce.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Lc(ce,ce.h),ce.h=null))}if(U.D){const pl=Gs.g?Gs.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(U.ya=pl,It(U.I,U.D,pl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),U=I;var Ne=f;if(U.qa=Ju(U,U.J?U.ia:null,U.W),Ne.K){Vu(U.h,Ne);var Nt=Ne,Sn=U.L;Sn&&(Nt.I=Sn),Nt.B&&(Ja(Nt),Lt(Nt)),U.g=Ne}else ro(U);0<I.i.length&&ai(I)}else ft[0]!="stop"&&ft[0]!="close"||Ai(I,7);else I.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Ai(I,7):Bn(I):ft[0]!="noop"&&I.l&&I.l.ta(ft),I.v=0)}}ki(4)}catch(ft){}}var Bu=class{constructor(f,S){this.g=f,this.map=S}};function Za(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $u(f){return f.h?1:f.g?f.g.size:0}function ds(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Lc(f,S){f.g?f.g.add(S):f.h=S}function Vu(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}Za.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ou(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const I of f.g.values())S=S.concat(I.D);return S}return P(f.i)}function tl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var S=[],I=f.length,U=0;U<I;U++)S.push(f[U]);return S}S=[],I=0;for(U in f)S[I++]=f[U];return S}function nl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(h(f)||typeof f=="string"){var S=[];f=f.length;for(var I=0;I<f;I++)S.push(I);return S}S=[],I=0;for(const U in f)S[I++]=U;return S}}}function ia(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var I=nl(f),U=tl(f),ie=U.length,ce=0;ce<ie;ce++)S.call(void 0,U[ce],I&&I[ce],f)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qm(f,S){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var U=f[I].indexOf("="),ie=null;if(0<=U){var ce=f[I].substring(0,U);ie=f[I].substring(U+1)}else ce=f[I];S(ce,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ni(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ni){this.h=f.h,to(this,f.j),this.o=f.o,this.g=f.g,aa(this,f.s),this.l=f.l;var S=f.i,I=new si;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),oa(this,I),this.m=f.m}else f&&(S=String(f).match(eo))?(this.h=!1,to(this,S[1]||"",!0),this.o=pt(S[2]||""),this.g=pt(S[3]||"",!0),aa(this,S[4]),this.l=pt(S[5]||"",!0),oa(this,S[6]||"",!0),this.m=pt(S[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Ni.prototype.toString=function(){var f=[],S=this.j;S&&f.push(ca(S,sl,!0),":");var I=this.g;return(I||S=="file")&&(f.push("//"),(S=this.o)&&f.push(ca(S,sl,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(ca(I,I.charAt(0)=="/"?Gu:zu,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",ca(I,Dc)),f.join("")};function Us(f){return new Ni(f)}function to(f,S,I){f.j=I?pt(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function aa(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function oa(f,S,I){S instanceof si?(f.i=S,ri(f.i,f.h)):(I||(S=ca(S,Hu)),f.i=new si(S,f.h))}function It(f,S,I){f.i.set(S,I)}function la(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function pt(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ca(f,S,I){return typeof f=="string"?(f=encodeURI(f).replace(S,Uu),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Uu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var sl=/[#\/\?@]/g,zu=/[#\?:]/g,Gu=/[#\?]/g,Hu=/[#\?@]/g,Dc=/#/g;function si(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function Fn(f){f.g||(f.g=new Map,f.h=0,f.i&&qm(f.i,function(S,I){f.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}t=si.prototype,t.add=function(f,S){Fn(this),this.i=null,f=dr(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(S),this.h+=1,this};function Lr(f,S){Fn(f),S=dr(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function Dr(f,S){return Fn(f),S=dr(f,S),f.g.has(S)}t.forEach=function(f,S){Fn(this),this.g.forEach(function(I,U){I.forEach(function(ie){f.call(S,ie,U,this)},this)},this)},t.na=function(){Fn(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let U=0;U<S.length;U++){const ie=f[U];for(let ce=0;ce<ie.length;ce++)I.push(S[U])}return I},t.V=function(f){Fn(this);let S=[];if(typeof f=="string")Dr(this,f)&&(S=S.concat(this.g.get(dr(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)S=S.concat(f[I])}return S},t.set=function(f,S){return Fn(this),this.i=null,f=dr(this,f),Dr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function da(f,S,I){Lr(f,S),0<I.length&&(f.i=null,f.g.set(dr(f,S),P(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var U=S[I];const ce=encodeURIComponent(String(U)),Ne=this.V(U);for(U=0;U<Ne.length;U++){var ie=ce;Ne[U]!==""&&(ie+="="+encodeURIComponent(String(Ne[U]))),f.push(ie)}}return this.i=f.join("&")};function dr(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function ri(f,S){S&&!f.j&&(Fn(f),f.i=null,f.g.forEach(function(I,U){var ie=U.toLowerCase();U!=ie&&(Lr(this,U),da(this,ie,I))},f)),f.j=S}function Km(f,S){const I=new Qa;if(d.Image){const U=new Image;U.onload=w(js,I,"TestLoadImage: loaded",!0,S,U),U.onerror=w(js,I,"TestLoadImage: error",!1,S,U),U.onabort=w(js,I,"TestLoadImage: abort",!1,S,U),U.ontimeout=w(js,I,"TestLoadImage: timeout",!1,S,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else S(!1)}function Wu(f,S){const I=new Qa,U=new AbortController,ie=setTimeout(()=>{U.abort(),js(I,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:U.signal}).then(ce=>{clearTimeout(ie),ce.ok?js(I,"TestPingServer: ok",!0,S):js(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ie),js(I,"TestPingServer: error",!1,S)})}function js(f,S,I,U,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),U(I)}catch(ce){}}function Qm(){this.g=new Ot}function qu(f,S,I){const U=I||"";try{ia(f,function(ie,ce){let Ne=ie;p(ie)&&(Ne=ni(ie)),S.push(U+ce+"="+encodeURIComponent(Ne))})}catch(ie){throw S.push(U+"type="+encodeURIComponent("_badmap")),ie}}function Ti(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Ti,lr),Ti.prototype.g=function(){return new no(this.l,this.j)},Ti.prototype.i=(function(f){return function(){return f}})({});function no(f,S){Ht.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(no,Ht),t=no.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Fr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||d).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ku(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ku(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Mr(this):Fr(this),this.readyState==3&&Ku(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Mr(this))},t.Qa=function(f){this.g&&(this.response=f,Mr(this))},t.ga=function(){this.g&&Mr(this)};function Mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Fr(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=S.next();return f.join(`\r
`)};function Fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ci(f){let S="";return M(f,function(I,U){S+=U,S+=":",S+=I,S+=`\r
`}),S}function ua(f,S,I){e:{for(U in I){var U=!1;break e}U=!0}U||(I=Ci(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):It(f,S,I))}function Wt(f){Ht.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Wt,Ht);var Xm=/^https?$/i,Mc=["POST","PUT"];t=Wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,I,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?wi(this.o):wi(Rr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(ce){so(this,ce);return}if(f=I||"",I=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ie in U)I.set(ie,U[ie]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ce of U.keys())I.set(ce,U.get(ce));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(I.keys()).find(ce=>ce.toLowerCase()=="content-type"),ie=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Mc,S,void 0))||U||ie||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ne]of I)this.g.setRequestHeader(ce,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{il(this),this.u=!0,this.g.send(f),this.u=!1}catch(ce){so(this,ce)}};function so(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,rl(f),zs(f)}function rl(f){f.A||(f.A=!0,Vt(f,"complete"),Vt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Vt(this,"complete"),Vt(this,"abort"),zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fc(this):this.bb())},t.bb=function(){Fc(this)};function Fc(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||Ss(f)!=4||f.Z()!=2)){if(f.u&&Ss(f)==4)ei(f.Ea,0,f);else if(Vt(f,"readystatechange"),Ss(f)==4){f.h=!1;try{const Ne=f.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var U;if(U=Ne===0){var ie=String(f.D).match(eo)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),U=!Xm.test(ie?ie.toLowerCase():"")}I=U}if(I)Vt(f,"complete"),Vt(f,"success");else{f.m=6;try{var ce=2<Ss(f)?f.g.statusText:""}catch(Nt){ce=""}f.l=ce+" ["+f.Z()+"]",rl(f)}}finally{zs(f)}}}}function zs(f,S){if(f.g){il(f);const I=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||Vt(f,"ready");try{I.onreadystatechange=U}catch(ie){}}}function il(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ss(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ss(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Er(S)}};function Bc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(S){return null}}function al(f){const S={};f=(f.g&&2<=Ss(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(B(f[U]))continue;var I=A(f[U]);const ie=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ce=S[ie]||[];S[ie]=ce,ce.push(I)}T(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(f,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||S}function $c(f){this.Aa=0,this.i=[],this.j=new Qa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,f),this.cb=ii("retryDelaySeedMs",1e4,f),this.Wa=ii("forwardChannelMaxRetries",2,f),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Za(f&&f.concurrentRequestLimit),this.Da=new Qm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$c.prototype,t.la=8,t.G=1,t.connect=function(f,S,I,U){cn(0),this.W=f,this.H=S||{},I&&U!==void 0&&(this.H.OSID=I,this.H.OAID=U),this.F=this.X,this.I=Ju(this,null,this.W),ai(this)};function Bn(f){if(ol(f),f.G==3){var S=f.U++,I=Us(f.I);if(It(I,"SID",f.K),It(I,"RID",S),It(I,"TYPE","terminate"),Ei(f,I),S=new Pr(f,f.j,S),S.L=2,S.v=la(Us(I)),I=!1,d.navigator&&d.navigator.sendBeacon)try{I=d.navigator.sendBeacon(S.v.toString(),"")}catch(U){}!I&&d.Image&&(new Image().src=S.v,I=!0),I||(S.g=Zu(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Lt(S)}Yu(f)}function Br(f){f.g&&(Vc(f),f.g.cancel(),f.g=null)}function ol(f){Br(f),f.u&&(d.clearTimeout(f.u),f.u=null),dl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ai(f){if(!Os(f.h)&&!f.s){f.s=!0;var S=f.Ga;H||re(),W||(H(),W=!0),ne.add(S,f),f.B=0}}function Ym(f,S){return $u(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ar(v(f.Ga,f,S),Xu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ie=new Pr(this,this.j,f);let ce=this.o;if(this.S&&(ce?(ce=_(ce),L(ce,this.S)):ce=this.S),this.m!==null||this.O||(ie.H=ce,ce=null),this.P)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var U=this.i[I];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=ha(this,ie,S),I=Us(this.I),It(I,"RID",f),It(I,"CVER",22),this.D&&It(I,"X-HTTP-Session-Id",this.D),Ei(this,I),ce&&(this.O?S="headers="+encodeURIComponent(String(Ci(ce)))+"&"+S:this.m&&ua(I,this.m,ce)),Lc(this.h,ie),this.Ua&&It(I,"TYPE","init"),this.P?(It(I,"$req",S),It(I,"SID","null"),ie.T=!0,el(ie,I,null)):el(ie,I,S),this.G=2}}else this.G==3&&(f?ll(this,f):this.i.length==0||Os(this.h)||ll(this))};function ll(f,S){var I;S?I=S.l:I=f.U++;const U=Us(f.I);It(U,"SID",f.K),It(U,"RID",I),It(U,"AID",f.T),Ei(f,U),f.m&&f.o&&ua(U,f.m,f.o),I=new Pr(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),S&&(f.i=S.D.concat(f.i)),S=ha(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Lc(f.h,I),el(I,U,S)}function Ei(f,S){f.H&&M(f.H,function(I,U){It(S,U,I)}),f.l&&ia({},function(I,U){It(S,U,I)})}function ha(f,S,I){I=Math.min(f.i.length,I);var U=f.l?v(f.l.Na,f.l,f):null;e:{var ie=f.i;let ce=-1;for(;;){const Ne=["count="+I];ce==-1?0<I?(ce=ie[0].g,Ne.push("ofs="+ce)):ce=0:Ne.push("ofs="+ce);let Nt=!0;for(let Sn=0;Sn<I;Sn++){let ft=ie[Sn].g;const En=ie[Sn].map;if(ft-=ce,0>ft)ce=Math.max(0,ie[Sn].g-100),Nt=!1;else try{qu(En,Ne,"req"+ft+"_")}catch(mn){U&&U(En)}}if(Nt){U=Ne.join("&");break e}}}return f=f.i.splice(0,I),S.D=f,U}function ro(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;H||re(),W||(H(),W=!0),ne.add(S,f),f.v=0}}function cl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ar(v(f.Fa,f),Xu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ar(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),Br(this),Qu(this))};function Vc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Qu(f){f.g=new Pr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=Us(f.qa);It(S,"RID","rpc"),It(S,"SID",f.K),It(S,"AID",f.T),It(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(S,"TO",f.ja),It(S,"TYPE","xmlhttp"),Ei(f,S),f.m&&f.o&&ua(S,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=la(Us(S)),I.m=null,I.P=!0,Rc(I,f)}t.Za=function(){this.C!=null&&(this.C=null,Br(this),cl(this),cn(19))};function dl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function ul(f,S){var I=null;if(f.g==S){dl(f),Vc(f),f.g=null;var U=2}else if(ds(f.h,S))I=S.D,Vu(f.h,S),U=1;else return;if(f.G!=0){if(S.o)if(U==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var ie=f.B;U=Ka(),Vt(U,new Xo(U,I)),ai(f)}else ro(f);else if(ie=S.s,ie==3||ie==0&&0<S.X||!(U==1&&Ym(f,S)||U==2&&cl(f)))switch(I&&0<I.length&&(S=f.h,S.i=S.i.concat(I)),ie){case 1:Ai(f,5);break;case 4:Ai(f,10);break;case 3:Ai(f,6);break;default:Ai(f,2)}}}function Xu(f,S){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*S}function Ai(f,S){if(f.j.info("Error code "+S),S==2){var I=v(f.fb,f),U=f.Xa;const ie=!U;U=new Ni(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||to(U,"https"),la(U),ie?Km(U.toString(),I):Wu(U.toString(),I)}else cn(2);f.G=0,f.l&&f.l.sa(S),Yu(f),ol(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function Yu(f){if(f.G=0,f.ka=[],f.l){const S=Ou(f.h);(S.length!=0||f.i.length!=0)&&(R(f.ka,S),R(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function Ju(f,S,I){var U=I instanceof Ni?Us(I):new Ni(I);if(U.g!="")S&&(U.g=S+"."+U.g),aa(U,U.s);else{var ie=d.location;U=ie.protocol,S=S?S+"."+ie.hostname:ie.hostname,ie=+ie.port;var ce=new Ni(null);U&&to(ce,U),S&&(ce.g=S),ie&&aa(ce,ie),I&&(ce.l=I),U=ce}return I=f.D,S=f.ya,I&&S&&It(U,I,S),It(U,"VER",f.la),Ei(f,U),U}function Zu(f,S,I){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Wt(new Ti({eb:I})):new Wt(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}t=Oc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hl(){}hl.prototype.g=function(f,S){return new us(f,S)};function us(f,S){Ht.call(this),this.g=new $c(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!B(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!B(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new oi(this)}N(us,Ht),us.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},us.prototype.close=function(){Bn(this.g)},us.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=ni(f),f=I);S.i.push(new Bu(S.Ya++,f)),S.G==3&&ai(S)},us.prototype.N=function(){this.g.l=null,delete this.j,Bn(this.g),delete this.g,us.aa.N.call(this)};function eh(f){$s.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const I in S){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}N(eh,$s);function th(){Si.call(this),this.status=1}N(th,Si);function oi(f){this.g=f}N(oi,Oc),oi.prototype.ua=function(){Vt(this.g,"a")},oi.prototype.ta=function(f){Vt(this.g,new eh(f))},oi.prototype.sa=function(f){Vt(this.g,new th)},oi.prototype.ra=function(){Vt(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,us.prototype.send=us.prototype.o,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,Yj=function(){return new hl},Xj=function(){return Ka()},Qj=Vs,Fx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jo.NO_ERROR=0,Jo.TIMEOUT=8,Jo.HTTP_ERROR=6,wp=Jo,Lu.COMPLETE="complete",Kj=Lu,ji.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Sd=ji,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,qj=Wt}).apply(typeof Xh!="undefined"?Xh:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Ub="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new $j("@firebase/firestore");function pd(){return Bo.logLevel}function Be(t,...e){if(Bo.logLevel<=yt.DEBUG){const s=e.map(F0);Bo.debug(`Firestore (${yc}): ${t}`,...s)}}function Ji(t,...e){if(Bo.logLevel<=yt.ERROR){const s=e.map(F0);Bo.error(`Firestore (${yc}): ${t}`,...s)}}function rc(t,...e){if(Bo.logLevel<=yt.WARN){const s=e.map(F0);Bo.warn(`Firestore (${yc}): ${t}`,...s)}}function F0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function Tt(t,e){t||Ye()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends vc{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(rs.UNAUTHENTICATED)))}shutdown(){}}class FA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Tt(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,s(h)):Promise.resolve();let o=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qi,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},d=h=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qi)}}),0),c()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new Jj(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new rs(e)}}class $A{constructor(e,s,r){this.l=e,this.h=s,this.P=r,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VA{constructor(e,s,r){this.l=e,this.h=s,this.P=r}getToken(){return Promise.resolve(new $A(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable((()=>s(rs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){Tt(this.o===void 0);const r=o=>{o.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Tt(typeof s.token=="string"),this.R=s.token,new OA(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<t;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zA(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<s&&(r+=e.charAt(i[o]%e.length))}return r}}function wt(t,e){return t<e?-1:t>e?1:0}function ic(t,e,s){return t.length===e.length&&t.every(((r,i)=>s(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*s));return new wn(s,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new et(e)}static min(){return new et(new wn(0,0))}static max(){return new et(new wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,s,r){s===void 0?s=0:s>e.length&&Ye(),r===void 0?r=e.length-s:r>e.length-s&&Ye(),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Qd.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const o=e.get(i),c=s.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class Pt extends Qd{construct(e,s,r){return new Pt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new Pt(s)}static emptyPath(){return new Pt([])}}const GA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Qd{construct(e,s,r){return new qn(e,s,r)}static isValidIdentifier(e){return GA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qn(["__name__"])}static fromServerFormat(e){const s=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(o(),i++)}if(o(),c)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(s)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Pt.fromString(e))}static fromName(e){return new ze(Pt.fromString(e).popFirst(5))}static empty(){return new ze(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return Pt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Pt(e.slice()))}}function HA(t,e){const s=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new wn(s+1,0):new wn(s,r));return new Ba(i,ze.empty(),e)}function WA(t){return new Ba(t.readTime,t.key,-1)}class Ba{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new Ba(et.min(),ze.empty(),-1)}static max(){return new Ba(et.max(),ze.empty(),-1)}}function qA(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=ze.comparator(t.documentKey,e.documentKey),s!==0?s:wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==KA)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(s,o).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof be?s:be.resolve(s)}catch(s){return be.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):be.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):be.reject(s)}static resolve(e){return new be(((s,r)=>{s(e)}))}static reject(e){return new be(((s,r)=>{r(e)}))}static waitFor(e){return new be(((s,r)=>{let i=0,o=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++o,c&&o===i&&s()}),(h=>r(h)))})),c=!0,o===i&&s()}))}static or(e){let s=be.resolve(!1);for(const r of e)s=s.next((i=>i?be.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,o)=>{r.push(s.call(this,i,o))})),this.waitFor(r)}static mapArray(e,s){return new be(((r,i)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;s(e[p]).next((m=>{c[p]=m,++d,d===o&&r(c)}),(m=>i(m)))}}))}static doWhile(e,s){return new be(((r,i)=>{const o=()=>{e()===!0?s().next((()=>{o()}),i):r()};o()}))}}function XA(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ie(r),this.se=r=>s.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}B0.oe=-1;function mm(t){return t==null}function $p(t){return t===0&&1/t==-1/0}function YA(t){return typeof t=="number"&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function Ho(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function eS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,s){this.comparator=e,this.root=s||Gn.EMPTY}insert(e,s){return new tn(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=s?r(e.key,s):1,s&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,s,r,i,o){this.key=e,this.value=s,this.color=r!=null?r:Gn.RED,this.left=i!=null?i:Gn.EMPTY,this.right=o!=null?o:Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,o){return new Gn(e!=null?e:this.key,s!=null?s:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,s,r),null):o===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return Gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,s,r,i,o){return this}insert(e,s,r){return new Gn(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Qn(this.comparator);return s.data=e,s}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Js([])}unionWith(e){let s=new Qn(qn.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Js(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(o){throw typeof DOMException!="undefined"&&o instanceof DOMException?new tS("Invalid base64 string: "+o):o}})(e);return new Xn(s)}static fromUint8Array(e){const s=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new Xn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const JA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(t){if(Tt(!!t),typeof t=="string"){let e=0;const s=JA.exec(t);if(Tt(!!s),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function $0(t){const e=t.mapValue.fields.__previous_value__;return fm(e)?$0(e):e}function Xd(t){const e=$a(t.mapValue.fields.__local_write_time__.timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,s,r,i,o,c,d,h,p){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}class Yd{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new Yd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh={mapValue:{}};function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:t6(t)?9007199254740991:e6(t)?10:11:Ye()}function bi(t,e){if(t===e)return!0;const s=Vo(t);if(s!==Vo(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xd(t).isEqual(Xd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=$a(i.timestampValue),d=$a(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return $o(i.bytesValue).isEqual($o(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return pn(i.geoPointValue.latitude)===pn(o.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return pn(i.integerValue)===pn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=pn(i.doubleValue),d=pn(o.doubleValue);return c===d?$p(c)===$p(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},d=o.mapValue.fields||{};if(zb(c)!==zb(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!bi(c[h],d[h])))return!1;return!0})(t,e);default:return Ye()}}function Jd(t,e){return(t.values||[]).find((s=>bi(s,e)))!==void 0}function ac(t,e){if(t===e)return 0;const s=Vo(t),r=Vo(e);if(s!==r)return wt(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=pn(o.integerValue||o.doubleValue),h=pn(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return Hb(t.timestampValue,e.timestampValue);case 4:return Hb(Xd(t),Xd(e));case 5:return wt(t.stringValue,e.stringValue);case 6:return(function(o,c){const d=$o(o),h=$o(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const m=wt(d[p],h[p]);if(m!==0)return m}return wt(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=wt(pn(o.latitude),pn(c.latitude));return d!==0?d:wt(pn(o.longitude),pn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Wb(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var d,h,p,m;const x=o.fields||{},v=c.fields||{},w=(d=x.value)===null||d===void 0?void 0:d.arrayValue,N=(h=v.value)===null||h===void 0?void 0:h.arrayValue,P=wt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0);return P!==0?P:Wb(w,N)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Jh.mapValue&&c===Jh.mapValue)return 0;if(o===Jh.mapValue)return 1;if(c===Jh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let x=0;x<h.length&&x<m.length;++x){const v=wt(h[x],m[x]);if(v!==0)return v;const w=ac(d[h[x]],p[m[x]]);if(w!==0)return w}return wt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Ye()}}function Hb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const s=$a(t),r=$a(e),i=wt(s.seconds,r.seconds);return i!==0?i:wt(s.nanos,r.nanos)}function Wb(t,e){const s=t.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const o=ac(s[i],r[i]);if(o)return o}return wt(s.length,r.length)}function oc(t){return Bx(t)}function Bx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(s){const r=$a(s);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(s){return $o(s).toBase64()})(t.bytesValue):"referenceValue"in t?(function(s){return ze.fromName(s).toString()})(t.referenceValue):"geoPointValue"in t?(function(s){return`geo(${s.latitude},${s.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Bx(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${Bx(s.fields[c])}`;return i+"}"})(t.mapValue):Ye()}function Vp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $x(t){return!!t&&"integerValue"in t}function V0(t){return!!t&&"arrayValue"in t}function qb(t){return!!t&&"nullValue"in t}function Kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jp(t){return!!t&&"mapValue"in t}function e6(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="__vector__"}function Ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Ld(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Ld(t.arrayValue.values[s]);return e}return Object.assign({},t)}function t6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!jp(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(s)}setAll(e){let s=qn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!s.isImmediateParentOf(d)){const h=this.getFieldsMap(s);this.applyChanges(h,r,i),r={},i=[],s=d.popLast()}c?r[d.lastSegment()]=Ld(c):i.push(d.lastSegment())}));const o=this.getFieldsMap(s);this.applyChanges(o,r,i)}delete(e){const s=this.field(e.popLast());jp(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){Ho(s,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Ds(Ld(this.value))}}function nS(t){const e=[];return Ho(t.fields,((s,r)=>{const i=new qn([s]);if(jp(r)){const o=nS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new Js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,s,r,i,o,c,d){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new as(e,0,et.min(),et.min(),et.min(),Ds.empty(),0)}static newFoundDocument(e,s,r,i){return new as(e,1,s,et.min(),r,i,0)}static newNoDocument(e,s){return new as(e,2,s,et.min(),et.min(),Ds.empty(),0)}static newUnknownDocument(e,s){return new as(e,3,s,et.min(),et.min(),Ds.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,s){this.position=e,this.inclusive=s}}function Qb(t,e,s){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(c.referenceValue),s.key):r=ac(c,s.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!bi(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,s="asc"){this.field=e,this.dir=s}}function n6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class _n extends sS{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new r6(e,s,r):s==="array-contains"?new o6(e,r):s==="in"?new l6(e,r):s==="not-in"?new c6(e,r):s==="array-contains-any"?new d6(e,r):new _n(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new i6(e,r):new a6(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(ac(s,this.value)):s!==null&&Vo(this.value)===Vo(s)&&this.matchesComparison(ac(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends sS{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new Yr(e,s)}matches(e){return rS(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rS(t){return t.op==="and"}function iS(t){return s6(t)&&rS(t)}function s6(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function Vx(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(iS(t))return t.filters.map((e=>Vx(e))).join(",");{const e=t.filters.map((s=>Vx(s))).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof _n?(function(r,i){return i instanceof _n&&r.op===i.op&&r.field.isEqual(i.field)&&bi(r.value,i.value)})(t,e):t instanceof Yr?(function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,d)=>o&&aS(c,i.filters[d])),!0):!1})(t,e):void Ye()}function oS(t){return t instanceof _n?(function(s){return`${s.field.canonicalString()} ${s.op} ${oc(s.value)}`})(t):t instanceof Yr?(function(s){return s.op.toString()+" {"+s.getFilters().map(oS).join(" ,")+"}"})(t):"Filter"}class r6 extends _n{constructor(e,s,r){super(e,s,r),this.key=ze.fromName(r.referenceValue)}matches(e){const s=ze.comparator(e.key,this.key);return this.matchesComparison(s)}}class i6 extends _n{constructor(e,s){super(e,"in",s),this.keys=lS("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class a6 extends _n{constructor(e,s){super(e,"not-in",s),this.keys=lS("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function lS(t,e){var s;return(((s=e.arrayValue)===null||s===void 0?void 0:s.values)||[]).map((r=>ze.fromName(r.referenceValue)))}class o6 extends _n{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return V0(s)&&Jd(s.arrayValue,this.value)}}class l6 extends _n{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Jd(this.value.arrayValue,s)}}class c6 extends _n{constructor(e,s){super(e,"not-in",s)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&!Jd(this.value.arrayValue,s)}}class d6 extends _n{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!V0(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Jd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,s=null,r=[],i=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function Yb(t,e=null,s=[],r=[],i=null,o=null,c=null){return new u6(t,e,s,r,i,o,c)}function O0(t){const e=tt(t);if(e.ue===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Vx(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),mm(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>oc(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>oc(r))).join(",")),e.ue=s}return e.ue}function U0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!n6(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!aS(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xb(t.startAt,e.startAt)&&Xb(t.endAt,e.endAt)}function Ox(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,s=null,r=[],i=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function h6(t,e,s,r,i,o,c,d){return new sa(t,e,s,r,i,o,c,d)}function z0(t){return new sa(t)}function Jb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G0(t){return t.collectionGroup!==null}function ec(t){const e=tt(t);if(e.ce===null){e.ce=[];const s=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),s.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Qn(qn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((o=>{s.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Zd(o,r))})),s.has(qn.keyField().canonicalString())||e.ce.push(new Zd(qn.keyField(),r))}return e.ce}function mi(t){const e=tt(t);return e.le||(e.le=p6(e,ec(t))),e.le}function p6(t,e){if(t.limitType==="F")return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Zd(i.field,o)}));const s=t.endAt?new lc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lc(t.startAt.position,t.startAt.inclusive):null;return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,s,r)}}function Ux(t,e){const s=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),s,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,s){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function gm(t,e){return U0(mi(t),mi(e))&&t.limitType===e.limitType}function cS(t){return`${O0(mi(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>oS(i))).join(", ")}]`),mm(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>oc(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>oc(i))).join(",")),`Target(${r})`})(mi(t))}; limitType=${t.limitType})`}function xm(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of ec(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,h){const p=Qb(c,d,h);return c.inclusive?p<=0:p<0})(r.startAt,ec(r),i)||r.endAt&&!(function(c,d,h){const p=Qb(c,d,h);return c.inclusive?p>=0:p>0})(r.endAt,ec(r),i))})(t,e)}function m6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,s)=>{let r=!1;for(const i of ec(t)){const o=f6(i,e,s);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function f6(t,e,s){const r=t.field.isKeyField()?ze.comparator(e.key,s.key):(function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?ac(h,p):Ye()})(t.field,e,s);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,((s,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return eS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new tn(ze.comparator);function Zi(){return g6}const uS=new tn(ze.comparator);function kd(...t){let e=uS;for(const s of t)e=e.insert(s.key,s);return e}function hS(t){let e=uS;return t.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Ro(){return Dd()}function pS(){return Dd()}function Dd(){return new bc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const x6=new tn(ze.comparator),v6=new Qn(ze.comparator);function ht(...t){let e=v6;for(const s of t)e=e.add(s);return e}const y6=new Qn(wt);function b6(){return y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function mS(t){return{integerValue:""+t}}function _6(t,e){return YA(e)?mS(e):H0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function w6(t,e,s){return t instanceof eu?(function(i,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fm(o)&&(o=$0(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(s,e):t instanceof tu?gS(t,e):t instanceof nu?xS(t,e):(function(i,o){const c=fS(i,o),d=Zb(c)+Zb(i.Pe);return $x(c)&&$x(i.Pe)?mS(d):H0(i.serializer,d)})(t,e)}function j6(t,e,s){return t instanceof tu?gS(t,e):t instanceof nu?xS(t,e):s}function fS(t,e){return t instanceof Up?(function(r){return $x(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class eu extends vm{}class tu extends vm{constructor(e){super(),this.elements=e}}function gS(t,e){const s=vS(e);for(const r of t.elements)s.some((i=>bi(i,r)))||s.push(r);return{arrayValue:{values:s}}}class nu extends vm{constructor(e){super(),this.elements=e}}function xS(t,e){let s=vS(e);for(const r of t.elements)s=s.filter((i=>!bi(i,r)));return{arrayValue:{values:s}}}class Up extends vm{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function Zb(t){return pn(t.integerValue||t.doubleValue)}function vS(t){return V0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,s){this.field=e,this.transform=s}}function k6(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?ic(r.elements,i.elements,bi):r instanceof Up&&i instanceof Up?bi(r.Pe,i.Pe):r instanceof eu&&i instanceof eu})(t.transform,e.transform)}class N6{constructor(e,s){this.version=e,this.transformResults=s}}class Sr{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function yS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W0(t.key,Sr.none()):new vu(t.key,t.data,Sr.none());{const s=t.data,r=Ds.empty();let i=new Qn(qn.comparator);for(let o of e.fields)if(!i.has(o)){let c=s.field(o);c===null&&o.length>1&&(o=o.popLast(),c=s.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Ha(t.key,r,new Js(i.toArray()),Sr.none())}}function T6(t,e,s){t instanceof vu?(function(i,o,c){const d=i.value.clone(),h=t2(i.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,s):t instanceof Ha?(function(i,o,c){if(!Sp(i.precondition,o))return void o.convertToUnknownDocument(c.version);const d=t2(i.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(bS(i)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,s):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,s)}function Md(t,e,s,r){return t instanceof vu?(function(o,c,d,h){if(!Sp(o.precondition,c))return d;const p=o.value.clone(),m=n2(o.fieldTransforms,h,c);return p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,s,r):t instanceof Ha?(function(o,c,d,h){if(!Sp(o.precondition,c))return d;const p=n2(o.fieldTransforms,h,c),m=c.data;return m.setAll(bS(o)),m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,s,r):(function(o,c,d){return Sp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,s)}function C6(t,e){let s=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=fS(r.transform,i||null);o!=null&&(s===null&&(s=Ds.empty()),s.set(r.field,o))}return s||null}function e2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ic(r,i,((o,c)=>k6(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vu extends ym{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ha extends ym{constructor(e,s,r,i,o=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bS(t){const e=new Map;return t.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=t.data.field(s);e.set(s,r)}})),e}function t2(t,e,s){const r=new Map;Tt(t.length===s.length);for(let i=0;i<s.length;i++){const o=t[i],c=o.transform,d=e.data.field(o.field);r.set(o.field,j6(c,d,s[i]))}return r}function n2(t,e,s){const r=new Map;for(const i of t){const o=i.transform,c=s.data.field(i.field);r.set(i.field,w6(o,c,e))}return r}class W0 extends ym{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E6 extends ym{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&T6(o,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Md(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Md(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=pS();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=s.has(i.key)?null:d;const h=yS(c,d);h!==null&&r.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),ht())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,((s,r)=>e2(s,r)))&&ic(this.baseMutations,e.baseMutations,((s,r)=>e2(s,r)))}}class q0{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){Tt(e.mutations.length===r.length);let i=(function(){return x6})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new q0(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,gt;function P6(t){switch(t){default:return Ye();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function _S(t){if(t===void 0)return Ji("GRPC error has no .code"),he.UNKNOWN;switch(t){case xn.OK:return he.OK;case xn.CANCELLED:return he.CANCELLED;case xn.UNKNOWN:return he.UNKNOWN;case xn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case xn.INTERNAL:return he.INTERNAL;case xn.UNAVAILABLE:return he.UNAVAILABLE;case xn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case xn.NOT_FOUND:return he.NOT_FOUND;case xn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case xn.ABORTED:return he.ABORTED;case xn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case xn.DATA_LOSS:return he.DATA_LOSS;default:return Ye()}}(gt=xn||(xn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new Do([4294967295,4294967295],0);function s2(t){const e=L6().encode(t),s=new Wj;return s.update(e),new Uint8Array(s.digest())}function r2(t){const e=new DataView(t.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Do([s,r],0),new Do([i,o],0)]}class K0{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Nd(`Invalid padding: ${s}`);if(r<0)throw new Nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=Do.fromNumber(this.Ie)}Ee(e,s,r){let i=e.add(s.multiply(Do.fromNumber(r)));return i.compare(D6)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const s=s2(e),[r,i]=r2(s);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);if(!this.de(c))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new K0(o,i,s);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const s=s2(e),[r,i]=r2(s);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);this.Ae(c)}}Ae(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,s,r,i,o){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new bm(et.min(),i,new tn(wt),Zi(),ht())}}class yu{constructor(e,s,r,i,o){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new yu(r,s,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,s,r,i){this.Re=e,this.removedTargetIds=s,this.key=r,this.Ve=i}}class wS{constructor(e,s){this.targetId=e,this.me=s}}class jS{constructor(e,s,r=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class i2{constructor(){this.fe=0,this.ge=o2(),this.pe=Xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),s=ht(),r=ht();return this.ge.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:Ye()}})),new yu(this.pe,this.ye,e,s,r)}Ce(){this.we=!1,this.ge=o2()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class M6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zi(),this.qe=a2(),this.Qe=new tn(wt)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,(s=>{const r=this.Ge(s);switch(e.state){case 0:this.ze(s)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),r.De(e.resumeToken));break;default:Ye()}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach(((r,i)=>{this.ze(i)&&s(i)}))}He(e){const s=e.targetId,r=e.me.count,i=this.Je(s);if(i){const o=i.target;if(Ox(o))if(r===0){const c=new ze(o.path);this.Ue(s,c,as.newNoDocument(c,et.min()))}else Tt(r===1);else{const c=this.Ye(s);if(c!==r){const d=this.Ze(e),h=d?this.Xe(d,e,c):1;if(h!==0){this.je(s);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(s,p)}}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=s;let c,d;try{c=$o(r).toUint8Array()}catch(h){if(h instanceof tS)return rc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new K0(c,i,o)}catch(h){return rc(h instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ie===0?null:d}Xe(e,s,r){return s.me.count===r-this.nt(e,s.targetId)?0:2}nt(e,s){const r=this.Le.getRemoteKeysForTarget(s);let i=0;return r.forEach((o=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Ue(s,o,null),i++)})),i}rt(e){const s=new Map;this.Be.forEach(((o,c)=>{const d=this.Je(c);if(d){if(o.current&&Ox(d.target)){const h=new ze(d.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,as.newNoDocument(h,e))}o.be&&(s.set(c,o.ve()),o.Ce())}}));let r=ht();this.qe.forEach(((o,c)=>{let d=!0;c.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(e)));const i=new bm(e,s,this.Qe,this.ke,r);return this.ke=Zi(),this.qe=a2(),this.Qe=new tn(wt),i}$e(e,s){if(!this.ze(e))return;const r=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,r),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,s)?i.Fe(s,1):i.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),r&&(this.ke=this.ke.insert(s,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new i2,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new Qn(wt),this.qe=this.qe.insert(e,s)),s}ze(e){const s=this.Je(e)!==null;return s||Be("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new i2),this.Le.getRemoteKeysForTarget(e).forEach((s=>{this.Ue(e,s,null)}))}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function a2(){return new tn(ze.comparator)}function o2(){return new tn(ze.comparator)}const F6={asc:"ASCENDING",desc:"DESCENDING"},B6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$6={and:"AND",or:"OR"};class V6{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function zx(t,e){return t.useProto3Json||mm(e)?e:{value:e}}function zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O6(t,e){return zp(t,e.toTimestamp())}function fi(t){return Tt(!!t),et.fromTimestamp((function(s){const r=$a(s);return new wn(r.seconds,r.nanos)})(t))}function Q0(t,e){return Gx(t,e).canonicalString()}function Gx(t,e){const s=(function(i){return new Pt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?s:s.child(e)}function kS(t){const e=Pt.fromString(t);return Tt(AS(e)),e}function Hx(t,e){return Q0(t.databaseId,e.path)}function Ag(t,e){const s=kS(e);if(s.get(1)!==t.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new ze(TS(s))}function NS(t,e){return Q0(t.databaseId,e)}function U6(t){const e=kS(t);return e.length===4?Pt.emptyPath():TS(e)}function Wx(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TS(t){return Tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l2(t,e,s){return{name:Hx(t,e),fields:s.value.mapValue.fields}}function z6(t,e){let s;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,m){return p.useProto3Json?(Tt(m===void 0||typeof m=="string"),Xn.fromBase64String(m||"")):(Tt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Xn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const m=p.code===void 0?he.UNKNOWN:_S(p.code);return new Ae(m,p.message||"")})(c);s=new jS(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ag(t,r.document.name),o=fi(r.document.updateTime),c=r.document.createTime?fi(r.document.createTime):et.min(),d=new Ds({mapValue:{fields:r.document.fields}}),h=as.newFoundDocument(i,o,c,d),p=r.targetIds||[],m=r.removedTargetIds||[];s=new kp(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ag(t,r.document),o=r.readTime?fi(r.readTime):et.min(),c=as.newNoDocument(i,o),d=r.removedTargetIds||[];s=new kp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ag(t,r.document),o=r.removedTargetIds||[];s=new kp([],o,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new R6(i,o),d=r.targetId;s=new wS(d,c)}}return s}function G6(t,e){let s;if(e instanceof vu)s={update:l2(t,e.key,e.value)};else if(e instanceof W0)s={delete:Hx(t,e.key)};else if(e instanceof Ha)s={update:l2(t,e.key,e.data),updateMask:Z6(e.fieldMask)};else{if(!(e instanceof E6))return Ye();s={verify:Hx(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof eu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Up)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ye()})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:O6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ye()})(t,e.precondition)),s}function H6(t,e){return t&&t.length>0?(Tt(e!==void 0),t.map((s=>(function(i,o){let c=i.updateTime?fi(i.updateTime):fi(o);return c.isEqual(et.min())&&(c=fi(o)),new N6(c,i.transformResults||[])})(s,e)))):[]}function W6(t,e){return{documents:[NS(t,e.path)]}}function q6(t,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=NS(t,i);const o=(function(p){if(p.length!==0)return ES(Yr.create(p,"and"))})(e.filters);o&&(s.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((m=>(function(v){return{field:Ul(v.field),direction:X6(v.dir)}})(m)))})(e.orderBy);c&&(s.structuredQuery.orderBy=c);const d=zx(t,e.limit);return d!==null&&(s.structuredQuery.limit=d),e.startAt&&(s.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:s,parent:i}}function K6(t){let e=U6(t.parent);const s=t.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Tt(r===1);const m=s.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];s.where&&(o=(function(x){const v=CS(x);return v instanceof Yr&&iS(v)?v.getFilters():[v]})(s.where));let c=[];s.orderBy&&(c=(function(x){return x.map((v=>(function(N){return new Zd(zl(N.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(v)))})(s.orderBy));let d=null;s.limit&&(d=(function(x){let v;return v=typeof x=="object"?x.value:x,mm(v)?null:v})(s.limit));let h=null;s.startAt&&(h=(function(x){const v=!!x.before,w=x.values||[];return new lc(w,v)})(s.startAt));let p=null;return s.endAt&&(p=(function(x){const v=!x.before,w=x.values||[];return new lc(w,v)})(s.endAt)),h6(e,i,c,o,d,"F",h,p)}function Q6(t,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function CS(t){return t.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=zl(s.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zl(s.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zl(s.unaryFilter.field);return _n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zl(s.unaryFilter.field);return _n.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}})(t):t.fieldFilter!==void 0?(function(s){return _n.create(zl(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}})(s.fieldFilter.op),s.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(s){return Yr.create(s.compositeFilter.filters.map((r=>CS(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}})(s.compositeFilter.op))})(t):Ye()}function X6(t){return F6[t]}function Y6(t){return B6[t]}function J6(t){return $6[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function zl(t){return qn.fromServerFormat(t.fieldPath)}function ES(t){return t instanceof _n?(function(s){if(s.op==="=="){if(Kb(s.value))return{unaryFilter:{field:Ul(s.field),op:"IS_NAN"}};if(qb(s.value))return{unaryFilter:{field:Ul(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Kb(s.value))return{unaryFilter:{field:Ul(s.field),op:"IS_NOT_NAN"}};if(qb(s.value))return{unaryFilter:{field:Ul(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(s.field),op:Y6(s.op),value:s.value}}})(t):t instanceof Yr?(function(s){const r=s.getFilters().map((i=>ES(i)));return r.length===1?r[0]:{compositeFilter:{op:J6(s.op),filters:r}}})(t):Ye()}function Z6(t){const e=[];return t.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function AS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,s,r,i,o=et.min(),c=et.min(),d=Xn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.ct=e}}function t8(t){const e=K6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.un=new s8}addToCollectionParentIndex(e,s){return this.un.add(s),be.resolve()}getCollectionParents(e,s){return be.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return be.resolve()}deleteFieldIndex(e,s){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,s){return be.resolve()}getDocumentsMatchingTarget(e,s){return be.resolve(null)}getIndexType(e,s){return be.resolve(0)}getFieldIndexes(e,s){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,s){return be.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,s){return be.resolve(Ba.min())}updateCollectionGroup(e,s,r){return be.resolve()}updateIndexEntries(e,s){return be.resolve()}}class s8{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new Qn(Pt.comparator),o=!i.has(r);return this.index[s]=i.add(r),o}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new cc(0)}static kn(){return new cc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.changes=new bc((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?be.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&Md(r.mutation,i,Js.empty(),wn.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,ht()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=ht()){const i=Ro();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((o=>{let c=kd();return o.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,s){const r=Ro();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,ht())))}populateOverlays(e,s,r){const i=[];return r.forEach((o=>{s.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,d)=>{s.set(c,d)}))}))}computeViews(e,s,r,i){let o=Zi();const c=Dd(),d=(function(){return Dd()})();return s.forEach(((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Ha)?o=o.insert(p.key,p):m!==void 0?(c.set(p.key,m.mutation.getFieldMask()),Md(m.mutation,p,m.mutation.getFieldMask(),wn.now())):c.set(p.key,Js.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,m)=>c.set(p,m))),s.forEach(((p,m)=>{var x;return d.set(p,new i8(m,(x=c.get(p))!==null&&x!==void 0?x:null))})),d)))}recalculateAndSaveOverlays(e,s){const r=Dd();let i=new tn(((c,d)=>c-d)),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((c=>{for(const d of c)d.keys().forEach((h=>{const p=s.get(h);if(p===null)return;let m=r.get(h)||Js.empty();m=d.applyToLocalView(p,m),r.set(h,m);const x=(i.get(d.batchId)||ht()).add(h);i=i.insert(d.batchId,x)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,m=h.value,x=pS();m.forEach((v=>{if(!o.has(v)){const w=yS(s.get(v),r.get(v));w!==null&&x.set(v,w),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,x))}return be.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return(function(c){return ze.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):G0(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-o.size):be.resolve(Ro());let d=-1,h=o;return c.next((p=>be.forEach(p,((m,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(m)?be.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,ht()))).next((m=>({batchId:d,changes:hS(m)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new ze(s)).next((r=>{let i=kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const o=s.collectionGroup;let c=kd();return this.indexManager.getCollectionParents(e,o).next((d=>be.forEach(d,(h=>{const p=(function(x,v){return new sa(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(s,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((m=>{m.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,o,i)))).next((c=>{o.forEach(((h,p)=>{const m=p.getKey();c.get(m)===null&&(c=c.insert(m,as.newInvalidDocument(m)))}));let d=kd();return c.forEach(((h,p)=>{const m=o.get(h);m!==void 0&&Md(m.mutation,p,Js.empty(),wn.now()),xm(s,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return be.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}})(s)),be.resolve()}getNamedQuery(e,s){return be.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,(function(i){return{name:i.name,query:t8(i.bundledQuery),readTime:fi(i.readTime)}})(s)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(){this.overlays=new tn(ze.comparator),this.Ir=new Map}getOverlay(e,s){return be.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Ro();return be.forEach(s,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,o)=>{this.ht(e,s,o)})),be.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(r)),be.resolve()}getOverlaysForCollection(e,s,r){const i=Ro(),o=s.length+1,c=new ze(s.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!s.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return be.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let o=new tn(((p,m)=>p-m));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===s&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Ro(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const d=Ro(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,m)=>d.set(p,m))),!(d.size()>=i)););return be.resolve(d)}ht(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new I6(s,r));let o=this.Ir.get(s);o===void 0&&(o=ht(),this.Ir.set(s,o)),this.Ir.set(s,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Tr=new Qn(Ln.Er),this.dr=new Qn(Ln.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const r=new Ln(e,s);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Vr(new Ln(e,s))}mr(e,s){e.forEach((r=>this.removeReference(r,s)))}gr(e){const s=new ze(new Pt([])),r=new Ln(s,e),i=new Ln(s,e+1),o=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new ze(new Pt([])),r=new Ln(s,e),i=new Ln(s,e+1);let o=ht();return this.dr.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const s=new Ln(e,0),r=this.Tr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return ze.comparator(e.key,s.key)||wt(e.wr,s.wr)}static Ar(e,s){return wt(e.wr,s.wr)||ze.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new Qn(Ln.Er)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new A6(o,s,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new Ln(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return be.resolve(c)}lookupMutationBatch(e,s){return be.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.vr(r),o=i<0?0:i;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Ln(s,0),i=new Ln(s,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);o.push(d)})),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Qn(wt);return s.forEach((i=>{const o=new Ln(i,0),c=new Ln(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(d=>{r=r.add(d.wr)}))})),be.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const c=new Ln(new ze(o),0);let d=new Qn(wt);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(h.wr)),!0)}),c),be.resolve(this.Cr(d))}Cr(e){const s=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){Tt(this.Fr(s.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return be.forEach(s.mutations,(i=>{const o=new Ln(i.key,s.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,s){const r=new Ln(s,0),i=this.br.firstAfterOrEqual(r);return be.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Fr(e,s){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.Mr=e,this.docs=(function(){return new tn(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),o=i?i.size:0,c=this.Mr(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return be.resolve(r?r.document.mutableCopy():as.newInvalidDocument(s))}getEntries(e,s){let r=Zi();return s.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():as.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let o=Zi();const c=s.path,d=new ze(c.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||qA(WA(m),r)<=0||(i.has(m.key)||xm(s,m))&&(o=o.insert(m.key,m.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,s,r,i){Ye()}Or(e,s){return be.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new h8(this)}getSize(e){return be.resolve(this.size)}}class h8 extends r8{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),be.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.persistence=e,this.Nr=new bc((s=>O0(s)),U0),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new X0,this.targetCount=0,this.kr=cc.Bn()}forEachTarget(e,s){return this.Nr.forEach(((r,i)=>s(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.Lr&&(this.Lr=s),be.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new cc(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,be.resolve()}updateTargetData(e,s){return this.Kn(s),be.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,s,r){let i=0;const o=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=s&&r.get(d.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),be.waitFor(o).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,s){const r=this.Nr.get(s)||null;return be.resolve(r)}addMatchingKeys(e,s,r){return this.Br.Rr(s,r),be.resolve()}removeMatchingKeys(e,s,r){this.Br.mr(s,r);const i=this.persistence.referenceDelegate,o=[];return i&&s.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),be.waitFor(o)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),be.resolve()}getMatchingKeysForTargetId(e,s){const r=this.Br.yr(s);return be.resolve(r)}containsKey(e,s){return be.resolve(this.Br.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,s){this.qr={},this.overlays={},this.Qr=new B0(0),this.Kr=!1,this.Kr=!0,this.$r=new c8,this.referenceDelegate=e(this),this.Ur=new p8(this),this.indexManager=new n8,this.remoteDocumentCache=(function(i){return new u8(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new e8(s),this.Gr=new o8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new l8,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.qr[e.toKey()];return r||(r=new d8(s,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,r){Be("MemoryPersistence","Starting transaction:",e);const i=new f8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((o=>this.referenceDelegate.jr(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Hr(e,s){return be.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,s))))}}class f8 extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class Y0{constructor(e){this.persistence=e,this.Jr=new X0,this.Yr=null}static Zr(e){return new Y0(e)}get Xr(){if(this.Yr)return this.Yr;throw Ye()}addReference(e,s,r){return this.Jr.addReference(r,s),this.Xr.delete(r.toString()),be.resolve()}removeReference(e,s,r){return this.Jr.removeReference(r,s),this.Xr.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),be.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((o=>this.Xr.add(o.toString())))})).next((()=>r.removeTargetData(e,s)))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Xr,(r=>{const i=ze.fromPath(r);return this.ei(e,i).next((o=>{o||s.removeEntry(i,et.min())}))})).next((()=>(this.Yr=null,s.apply(e))))}updateLimboDocument(e,s){return this.ei(e,s).next((r=>{r?this.Xr.delete(s.toString()):this.Xr.add(s.toString())}))}Wr(e){return 0}ei(e,s){return be.or([()=>be.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.$i=r,this.Ui=i}static Wi(e,s){let r=ht(),i=ht();for(const o of s.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new J0(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return bE()?8:XA(vE())>0?6:4})()}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,r,i){const o={result:null};return this.Yi(e,s).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(e,s,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new g8;return this.Xi(e,s,c).next((d=>{if(o.result=d,this.zi)return this.es(e,s,c,d.size)}))})).next((()=>o.result))}es(e,s,r,i){return r.documentReadCount<this.ji?(pd()<=yt.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",Ol(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),be.resolve()):(pd()<=yt.DEBUG&&Be("QueryEngine","Query:",Ol(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pd()<=yt.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",Ol(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(s))):be.resolve())}Yi(e,s){if(Jb(s))return be.resolve(null);let r=mi(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=Op(s,null,"F"),r=mi(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ht(...o);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(s,d);return this.ns(s,p,c,h.readTime)?this.Yi(e,Op(s,null,"F")):this.rs(e,p,s,h)}))))})))))}Zi(e,s,r,i){return Jb(s)||i.isEqual(et.min())?be.resolve(null):this.Ji.getDocuments(e,r).next((o=>{const c=this.ts(s,o);return this.ns(s,c,r,i)?be.resolve(null):(pd()<=yt.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ol(s)),this.rs(e,c,s,HA(i,-1)).next((d=>d)))}))}ts(e,s){let r=new Qn(dS(e));return s.forEach(((i,o)=>{xm(e,o)&&(r=r.add(o))})),r}ns(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const o=e.limitType==="F"?s.last():s.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,s,r){return pd()<=yt.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Ol(s)),this.Ji.getDocumentsMatchingQuery(e,s,Ba.min(),r)}rs(e,s,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((o=>(s.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,s,r,i){this.persistence=e,this.ss=s,this.serializer=i,this.os=new tn(wt),this._s=new bc((o=>O0(o)),U0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.os)))}}function y8(t,e,s,r){return new v8(t,e,s,r)}async function IS(t,e){const s=tt(t);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,s.ls(e),s.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let h=ht();for(const p of i){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of o){d.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return s.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function b8(t,e){const s=tt(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=s.cs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,m){const x=p.batch,v=x.keys();let w=be.resolve();return v.forEach((N=>{w=w.next((()=>m.getEntry(h,N))).next((P=>{const R=p.docVersions.get(N);Tt(R!==null),P.version.compareTo(R)<0&&(x.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),m.addEntry(P)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(h,x)))})(s,r,e,o).next((()=>o.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=ht();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function RS(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Ur.getLastRemoteSnapshotVersion(s)))}function _8(t,e){const s=tt(t),r=e.snapshotVersion;let i=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=s.cs.newChangeBuffer({trackRemovals:!0});i=s.os;const d=[];e.targetChanges.forEach(((m,x)=>{const v=i.get(x);if(!v)return;d.push(s.Ur.removeMatchingKeys(o,m.removedDocuments,x).next((()=>s.Ur.addMatchingKeys(o,m.addedDocuments,x))));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(Xn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),i=i.insert(x,w),(function(P,R,O){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,w,m)&&d.push(s.Ur.updateTargetData(o,w))}));let h=Zi(),p=ht();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&d.push(s.persistence.referenceDelegate.updateLimboDocument(o,m))})),d.push(w8(o,c,e.documentUpdates).next((m=>{h=m.Ps,p=m.Is}))),!r.isEqual(et.min())){const m=s.Ur.getLastRemoteSnapshotVersion(o).next((x=>s.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(m)}return be.waitFor(d).next((()=>c.apply(o))).next((()=>s.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(s.os=i,o)))}function w8(t,e,s){let r=ht(),i=ht();return s.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Zi();return s.forEach(((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),h.isNoDocument()&&h.version.isEqual(et.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Be("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Ps:c,Is:i}}))}function j8(t,e){const s=tt(t);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function S8(t,e){const s=tt(t);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.Ur.getTargetData(r,e).next((o=>o?(i=o,be.resolve(i)):s.Ur.allocateTargetId(r).next((c=>(i=new Pa(e,c,"TargetPurposeListen",r.currentSequenceNumber),s.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.os=s.os.insert(r.targetId,r),s._s.set(e,r.targetId)),r}))}async function qx(t,e,s){const r=tt(t),i=r.os.get(e),o=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!xu(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function c2(t,e,s){const r=tt(t);let i=et.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,m){const x=tt(h),v=x._s.get(m);return v!==void 0?be.resolve(x.os.get(v)):x.Ur.getTargetData(p,m)})(r,c,mi(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((h=>{o=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,s?i:et.min(),s?o:ht()))).next((d=>(k8(r,m6(e),d),{documents:d,Ts:o})))))}function k8(t,e,s){let r=t.us.get(e)||et.min();s.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.us.set(e,r)}class d2{constructor(){this.activeTargetIds=b6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N8{constructor(){this.so=new d2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,r){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new d2,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function Ig(){return Zh===null?Zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="WebChannelConnection";class A8 extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const r=s.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+s.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(s,r,i,o,c){const d=Ig(),h=this.xo(s,r.toUriEncodedString());Be("RestConnection",`Sending RPC '${s}' ${d}:`,h,i);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,o,c),this.No(s,h,p,i).then((m=>(Be("RestConnection",`Received RPC '${s}' ${d}: `,m),m)),(m=>{throw rc("RestConnection",`RPC '${s}' ${d} failed with error: `,m,"url: ",h,"request:",i),m}))}Lo(s,r,i,o,c,d){return this.Mo(s,r,i,o,c)}Oo(s,r,i){s["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yc})(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,c)=>s[c]=o)),i&&i.headers.forEach(((o,c)=>s[c]=o))}xo(s,r){const i=C8[s];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,r,i){const o=Ig();return new Promise(((c,d)=>{const h=new qj;h.setWithCredentials(!0),h.listenOnce(Kj.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case wp.NO_ERROR:const m=h.getResponseJson();Be(ns,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),c(m);break;case wp.TIMEOUT:Be(ns,`RPC '${e}' ${o} timed out`),d(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case wp.HTTP_ERROR:const x=h.getStatus();if(Be(ns,`RPC '${e}' ${o} failed with status:`,x,"response text:",h.getResponseText()),x>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const N=(function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(O)>=0?O:he.UNKNOWN})(w.status);d(new Ae(N,w.message))}else d(new Ae(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Be(ns,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);Be(ns,`RPC '${e}' ${o} sending request:`,i),h.send(s,"POST",p,r,15)}))}Bo(e,s,r){const i=Ig(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Yj(),d=Xj(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,s,r),h.encodeInitMessageHeaders=!0;const m=o.join("");Be(ns,`Creating RPC '${e}' stream ${i}: ${m}`,h);const x=c.createWebChannel(m,h);let v=!1,w=!1;const N=new E8({Io:R=>{w?Be(ns,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(Be(ns,`Opening RPC '${e}' stream ${i} transport.`),x.open(),v=!0),Be(ns,`RPC '${e}' stream ${i} sending:`,R),x.send(R))},To:()=>x.close()}),P=(R,O,B)=>{R.listen(O,(E=>{try{B(E)}catch(y){setTimeout((()=>{throw y}),0)}}))};return P(x,Sd.EventType.OPEN,(()=>{w||(Be(ns,`RPC '${e}' stream ${i} transport opened.`),N.yo())})),P(x,Sd.EventType.CLOSE,(()=>{w||(w=!0,Be(ns,`RPC '${e}' stream ${i} transport closed`),N.So())})),P(x,Sd.EventType.ERROR,(R=>{w||(w=!0,rc(ns,`RPC '${e}' stream ${i} transport errored:`,R),N.So(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),P(x,Sd.EventType.MESSAGE,(R=>{var O;if(!w){const B=R.data[0];Tt(!!B);const E=B,y=E.error||((O=E[0])===null||O===void 0?void 0:O.error);if(y){Be(ns,`RPC '${e}' stream ${i} received error:`,y);const j=y.status;let M=(function(C){const L=xn[C];if(L!==void 0)return _S(L)})(j),T=y.message;M===void 0&&(M=he.INTERNAL,T="Unknown error status: "+j+" with message "+y.message),w=!0,N.So(new Ae(M,T)),x.close()}else Be(ns,`RPC '${e}' stream ${i} received:`,B),N.bo(B)}})),P(d,Qj.STAT_EVENT,(R=>{R.stat===Fx.PROXY?Be(ns,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Fx.NOPROXY&&Be(ns,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.wo()}),0),N}}function Rg(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){return new V6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,s,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=s,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,s-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,s,r,i,o,c,d,h){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PS(e,s)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,s){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():s&&s.code===he.RESOURCE_EXHAUSTED?(Ji(s.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):s&&s.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(s)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===s&&this.P_(r,i)}),(r=>{e((()=>{const i=new Ae(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,s){const r=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget((()=>this.Yo===e?s():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I8 extends LS{constructor(e,s,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,c),this.serializer=o}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=z6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return et.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?et.min():c.readTime?fi(c.readTime):et.min()})(e);return this.listener.d_(s,r)}A_(e){const s={};s.database=Wx(this.serializer),s.addTarget=(function(o,c){let d;const h=c.target;if(d=Ox(h)?{documents:W6(o,h)}:{query:q6(o,h)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=SS(o,c.resumeToken);const p=zx(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(et.min())>0){d.readTime=zp(o,c.snapshotVersion.toTimestamp());const p=zx(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=Q6(this.serializer,e);r&&(s.labels=r),this.a_(s)}R_(e){const s={};s.database=Wx(this.serializer),s.removeTarget=e,this.a_(s)}}class R8 extends LS{constructor(e,s,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=H6(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.g_(r,s)}p_(){const e={};e.database=Wx(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>G6(this.serializer,r)))};this.a_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8 extends class{}{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(e,Gx(s,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(he.UNKNOWN,o.toString())}))}Lo(e,s,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,Gx(s,r),i,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(he.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class L8{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(s),this.D_=!1):Be("OnlineStateTracker",s)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,s,r,i,o){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{r.enqueueAndForget((async()=>{Wo(this)&&(Be("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=tt(h);p.L_.add(4),await bu(p),p.q_.set("Unknown"),p.L_.delete(4),await wm(p)})(this))}))})),this.q_=new L8(r,i)}}async function wm(t){if(Wo(t))for(const e of t.B_)await e(!0)}async function bu(t){for(const e of t.B_)await e(!1)}function DS(t,e){const s=tt(t);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),nv(s)?tv(s):_c(s).r_()&&ev(s,e))}function Z0(t,e){const s=tt(t),r=_c(s);s.N_.delete(e),r.r_()&&MS(s,e),s.N_.size===0&&(r.r_()?r.o_():Wo(s)&&s.q_.set("Unknown"))}function ev(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const s=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}_c(t).A_(e)}function MS(t,e){t.Q_.xe(e),_c(t).R_(e)}function tv(t){t.Q_=new M6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.q_.v_()}function nv(t){return Wo(t)&&!_c(t).n_()&&t.N_.size>0}function Wo(t){return tt(t).L_.size===0}function FS(t){t.Q_=void 0}async function M8(t){t.q_.set("Online")}async function F8(t){t.N_.forEach(((e,s)=>{ev(t,e)}))}async function B8(t,e){FS(t),nv(t)?(t.q_.M_(e),tv(t)):t.q_.set("Unknown")}async function $8(t,e,s){if(t.q_.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const d of o.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gp(t,r)}else if(e instanceof kp?t.Q_.Ke(e):e instanceof wS?t.Q_.He(e):t.Q_.We(e),!s.isEqual(et.min()))try{const r=await RS(t.localStore);s.compareTo(r)>=0&&await(function(o,c){const d=o.Q_.rt(c);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.N_.get(p);m&&o.N_.set(p,m.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,p)=>{const m=o.N_.get(h);if(!m)return;o.N_.set(h,m.withResumeToken(Xn.EMPTY_BYTE_STRING,m.snapshotVersion)),MS(o,h);const x=new Pa(m.target,h,p,m.sequenceNumber);ev(o,x)})),o.remoteSyncer.applyRemoteEvent(d)})(t,s)}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),await Gp(t,r)}}async function Gp(t,e,s){if(!xu(e))throw e;t.L_.add(1),await bu(t),t.q_.set("Offline"),s||(s=()=>RS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Be("RemoteStore","Retrying IndexedDB access"),await s(),t.L_.delete(1),await wm(t)}))}function BS(t,e){return e().catch((s=>Gp(t,s,e)))}async function jm(t){const e=tt(t),s=Va(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V8(e);)try{const i=await j8(e.localStore,r);if(i===null){e.O_.length===0&&s.o_();break}r=i.batchId,O8(e,i)}catch(i){await Gp(e,i)}$S(e)&&VS(e)}function V8(t){return Wo(t)&&t.O_.length<10}function O8(t,e){t.O_.push(e);const s=Va(t);s.r_()&&s.V_&&s.m_(e.mutations)}function $S(t){return Wo(t)&&!Va(t).n_()&&t.O_.length>0}function VS(t){Va(t).start()}async function U8(t){Va(t).p_()}async function z8(t){const e=Va(t);for(const s of t.O_)e.m_(s.mutations)}async function G8(t,e,s){const r=t.O_.shift(),i=q0.from(r,e,s);await BS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await jm(t)}async function H8(t,e){e&&Va(t).V_&&await(async function(r,i){if((function(c){return P6(c)&&c!==he.ABORTED})(i.code)){const o=r.O_.shift();Va(r).s_(),await BS(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await jm(r)}})(t,e),$S(t)&&VS(t)}async function h2(t,e){const s=tt(t);s.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Wo(s);s.L_.add(3),await bu(s),r&&s.q_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),await wm(s)}async function W8(t,e){const s=tt(t);e?(s.L_.delete(2),await wm(s)):e||(s.L_.add(2),await bu(s),s.q_.set("Unknown"))}function _c(t){return t.K_||(t.K_=(function(s,r,i){const o=tt(s);return o.w_(),new I8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:M8.bind(null,t),Ro:F8.bind(null,t),mo:B8.bind(null,t),d_:$8.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),nv(t)?tv(t):t.q_.set("Unknown")):(await t.K_.stop(),FS(t))}))),t.K_}function Va(t){return t.U_||(t.U_=(function(s,r,i){const o=tt(s);return o.w_(),new R8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U8.bind(null,t),mo:H8.bind(null,t),f_:z8.bind(null,t),g_:G8.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await jm(t)):(await t.U_.stop(),t.O_.length>0&&(Be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,s,r,i,o){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,o){const c=Date.now()+r,d=new sv(e,s,c,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),xu(t))return new Ae(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.comparator=e?(s,r)=>e(s,r)||ze.comparator(s.key,r.key):(s,r)=>ze.comparator(s.key,r.key),this.keyedMap=kd(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new tc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof tc)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.W_=new tn(ze.comparator)}track(e){const s=e.doc.key,r=this.W_.get(s);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(s,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(s):e.type===1&&r.type===2?this.W_=this.W_.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):Ye():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal(((s,r)=>{e.push(r)})),e}}class dc{constructor(e,s,r,i,o,c,d,h,p){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,s,r,i,o){const c=[];return s.forEach((d=>{c.push({type:0,doc:d})})),new dc(e,s,tc.emptySet(s),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class K8{constructor(){this.queries=m2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(s,r){const i=tt(s),o=i.queries;i.queries=m2(),o.forEach(((c,d)=>{for(const h of d.j_)h.onError(r)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function m2(){return new bc((t=>cS(t)),gm)}async function OS(t,e){const s=tt(t);let r=3;const i=e.query;let o=s.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new q8,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await s.onListen(i,!0);break;case 1:o.z_=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(c){const d=rv(c,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(d)}s.queries.set(i,o),o.j_.push(e),e.Z_(s.onlineState),o.z_&&e.X_(o.z_)&&iv(s)}async function US(t,e){const s=tt(t),r=e.query;let i=3;const o=s.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function Q8(t,e){const s=tt(t);let r=!1;for(const i of e){const o=i.query,c=s.queries.get(o);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&iv(s)}function X8(t,e,s){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(s);r.queries.delete(e)}function iv(t){t.Y_.forEach((e=>{e.next()}))}var Kx,f2;(f2=Kx||(Kx={})).ea="default",f2.Cache="cache";class zS{constructor(e,s,r){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){if(!e.fromCache||!this.J_())return!0;const r=s!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const s=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}oa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Kx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class HS{constructor(e){this.key=e}}class Y8{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=dS(e),this.Ra=new tc(this.Aa)}get Va(){return this.Ta}ma(e,s){const r=s?s.fa:new p2,i=s?s.Ra:this.Ra;let o=s?s.mutatedKeys:this.mutatedKeys,c=i,d=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,x)=>{const v=i.get(m),w=xm(this.query,x)?x:null,N=!!v&&this.mutatedKeys.has(v.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;v&&w?v.data.isEqual(w.data)?N!==P&&(r.track({type:3,doc:w}),R=!0):this.ga(v,w)||(r.track({type:2,doc:w}),R=!0,(h&&this.Aa(w,h)>0||p&&this.Aa(w,p)<0)&&(d=!0)):!v&&w?(r.track({type:0,doc:w}),R=!0):v&&!w&&(r.track({type:1,doc:v}),R=!0,(h||p)&&(d=!0)),R&&(w?(c=c.add(w),o=P?o.add(m):o.delete(m)):(c=c.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ra:c,fa:r,ns:d,mutatedKeys:o}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((m,x)=>(function(w,N){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return P(w)-P(N)})(m.type,x.type)||this.Aa(m.doc,x.doc))),this.pa(r),i=i!=null&&i;const d=s&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,p=h!==this.Ea;return this.Ea=h,c.length!==0||p?{snapshot:new dc(this.query,e.Ra,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new p2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((s=>this.Ta=this.Ta.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ta=this.Ta.delete(s))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const s=[];return e.forEach((r=>{this.da.has(r)||s.push(new HS(r))})),this.da.forEach((r=>{e.has(r)||s.push(new GS(r))})),s}ba(e){this.Ta=e.Ts,this.da=ht();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return dc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class J8{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class Z8{constructor(e){this.key=e,this.va=!1}}class eI{constructor(e,s,r,i,o,c){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new bc((d=>cS(d)),gm),this.Ma=new Map,this.xa=new Set,this.Oa=new tn(ze.comparator),this.Na=new Map,this.La=new X0,this.Ba={},this.ka=new Map,this.qa=cc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tI(t,e,s=!0){const r=YS(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await WS(r,e,s,!0),i}async function nI(t,e){const s=YS(t);await WS(s,e,!0,!1)}async function WS(t,e,s,r){const i=await S8(t.localStore,mi(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,s);let d;return r&&(d=await sI(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&s&&DS(t.remoteStore,i),d}async function sI(t,e,s,r,i){t.Ka=(x,v,w)=>(async function(P,R,O,B){let E=R.view.ma(O);E.ns&&(E=await c2(P.localStore,R.query,!1).then((({documents:T})=>R.view.ma(T,E))));const y=B&&B.targetChanges.get(R.targetId),j=B&&B.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(E,P.isPrimaryClient,y,j);return x2(P,R.targetId,M.wa),M.snapshot})(t,x,v,w);const o=await c2(t.localStore,e,!0),c=new Y8(e,o.Ts),d=c.ma(o.documents),h=yu.createSynthesizedTargetChangeForCurrentChange(s,r&&t.onlineState!=="Offline",i),p=c.applyChanges(d,t.isPrimaryClient,h);x2(t,s,p.wa);const m=new J8(e,s,c);return t.Fa.set(e,m),t.Ma.has(s)?t.Ma.get(s).push(e):t.Ma.set(s,[e]),p.snapshot}async function rI(t,e,s){const r=tt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((c=>!gm(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&Z0(r.remoteStore,i.targetId),Qx(r,i.targetId)})).catch(gu)):(Qx(r,i.targetId),await qx(r.localStore,i.targetId,!0))}async function iI(t,e){const s=tt(t),r=s.Fa.get(e),i=s.Ma.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),Z0(s.remoteStore,r.targetId))}async function aI(t,e,s){const r=pI(t);try{const i=await(function(c,d){const h=tt(c),p=wn.now(),m=d.reduce(((w,N)=>w.add(N.key)),ht());let x,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=Zi(),P=ht();return h.cs.getEntries(w,m).next((R=>{N=R,N.forEach(((O,B)=>{B.isValidDocument()||(P=P.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,N))).next((R=>{x=R;const O=[];for(const B of d){const E=C6(B,x.get(B.key).overlayedDocument);E!=null&&O.push(new Ha(B.key,E,nS(E.value.mapValue),Sr.exists(!0)))}return h.mutationQueue.addMutationBatch(w,p,O,d)})).next((R=>{v=R;const O=R.applyToLocalDocumentSet(x,P);return h.documentOverlayCache.saveOverlays(w,R.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:hS(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,h){let p=c.Ba[c.currentUser.toKey()];p||(p=new tn(wt)),p=p.insert(d,h),c.Ba[c.currentUser.toKey()]=p})(r,i.batchId,s),await _u(r,i.changes),await jm(r.remoteStore)}catch(i){const o=rv(i,"Failed to persist write");s.reject(o)}}async function qS(t,e){const s=tt(t);try{const r=await _8(s.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=s.Na.get(o);c&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?Tt(c.va):i.removedDocuments.size>0&&(Tt(c.va),c.va=!1))})),await _u(s,r,e)}catch(r){await gu(r)}}function g2(t,e,s){const r=tt(t);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Fa.forEach(((o,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const h=tt(c);h.onlineState=d;let p=!1;h.queries.forEach(((m,x)=>{for(const v of x.j_)v.Z_(d)&&(p=!0)})),p&&iv(h)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oI(t,e,s){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Na.get(e),o=i&&i.key;if(o){let c=new tn(ze.comparator);c=c.insert(o,as.newNoDocument(o,et.min()));const d=ht().add(o),h=new bm(et.min(),new Map,new tn(wt),c,d);await qS(r,h),r.Oa=r.Oa.remove(o),r.Na.delete(e),av(r)}else await qx(r.localStore,e,!1).then((()=>Qx(r,e,s))).catch(gu)}async function lI(t,e){const s=tt(t),r=e.batch.batchId;try{const i=await b8(s.localStore,e);QS(s,r,null),KS(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await _u(s,i)}catch(i){await gu(i)}}async function cI(t,e,s){const r=tt(t);try{const i=await(function(c,d){const h=tt(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return h.mutationQueue.lookupMutationBatch(p,d).next((x=>(Tt(x!==null),m=x.keys(),h.mutationQueue.removeMutationBatch(p,x)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>h.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);QS(r,e,s),KS(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await _u(r,i)}catch(i){await gu(i)}}function KS(t,e){(t.ka.get(e)||[]).forEach((s=>{s.resolve()})),t.ka.delete(e)}function QS(t,e,s){const r=tt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(s?o.reject(s):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Qx(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),s&&t.Ca.$a(r,s);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||XS(t,r)}))}function XS(t,e){t.xa.delete(e.path.canonicalString());const s=t.Oa.get(e);s!==null&&(Z0(t.remoteStore,s),t.Oa=t.Oa.remove(e),t.Na.delete(s),av(t))}function x2(t,e,s){for(const r of s)r instanceof GS?(t.La.addReference(r.key,e),dI(t,r)):r instanceof HS?(Be("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XS(t,r.key)):Ye()}function dI(t,e){const s=e.key,r=s.path.canonicalString();t.Oa.get(s)||t.xa.has(r)||(Be("SyncEngine","New document in limbo: "+s),t.xa.add(r),av(t))}function av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const s=new ze(Pt.fromString(e)),r=t.qa.next();t.Na.set(r,new Z8(s)),t.Oa=t.Oa.insert(s,r),DS(t.remoteStore,new Pa(mi(z0(s.path)),r,"TargetPurposeLimboResolution",B0.oe))}}async function _u(t,e,s){const r=tt(t),i=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,h)=>{c.push(r.Ka(h,e,s).then((p=>{var m;if((p||s)&&r.isPrimaryClient){const x=p?!p.fromCache:(m=s==null?void 0:s.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(p){i.push(p);const x=J0.Wi(h.targetId,p);o.push(x)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(h,p){const m=tt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>be.forEach(p,(v=>be.forEach(v.$i,(w=>m.persistence.referenceDelegate.addReference(x,v.targetId,w))).next((()=>be.forEach(v.Ui,(w=>m.persistence.referenceDelegate.removeReference(x,v.targetId,w)))))))))}catch(x){if(!xu(x))throw x;Be("LocalStore","Failed to update sequence numbers: "+x)}for(const x of p){const v=x.targetId;if(!x.fromCache){const w=m.os.get(v),N=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(N);m.os=m.os.insert(v,P)}}})(r.localStore,o))}async function uI(t,e){const s=tt(t);if(!s.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=await IS(s.localStore,e);s.currentUser=e,(function(o,c){o.ka.forEach((d=>{d.forEach((h=>{h.reject(new Ae(he.CANCELLED,c))}))})),o.ka.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(s,r.hs)}}function hI(t,e){const s=tt(t),r=s.Na.get(e);if(r&&r.va)return ht().add(r.key);{let i=ht();const o=s.Ma.get(e);if(!o)return i;for(const c of o){const d=s.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function YS(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oI.bind(null,e),e.Ca.d_=Q8.bind(null,e.eventManager),e.Ca.$a=X8.bind(null,e.eventManager),e}function pI(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,e),e}class Hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,s){return null}Ha(e,s){return null}za(e){return y8(this.persistence,new x8,e.initialUser,this.serializer)}Ga(e){return new m8(Y0.Zr,this.serializer)}Wa(e){return new N8}async terminate(){var e,s;(e=this.gcScheduler)===null||e===void 0||e.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hp.provider={build:()=>new Hp};class Xx{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),await W8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K8})()}createDatastore(e){const s=_m(e.databaseInfo.databaseId),r=(function(o){return new A8(o)})(e.databaseInfo);return(function(o,c,d,h){return new P8(o,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,o,c,d){return new D8(r,i,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(s=>g2(this.syncEngine,s,0)),(function(){return u2.D()?new u2:new T8})())}createSyncEngine(e,s){return(function(i,o,c,d,h,p,m){const x=new eI(i,o,c,d,h,p);return m&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const o=tt(i);Be("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await bu(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}Xx.provider={build:()=>new Xx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,s,r,i,o){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=i,this.user=rs.UNAUTHENTICATED,this.clientId=Zj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Be("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=rv(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const s=t.configuration;await e.initialize(s);let r=s.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await IS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function v2(t,e){t.asyncQueue.verifyOperationInProgress();const s=await fI(t);Be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(s,t.configuration),t.setCredentialChangeListener((r=>h2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>h2(e.remoteStore,i))),t._onlineComponents=e}async function fI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;rc("Error using user provided cache. Falling back to memory cache: "+s),await Pg(t,new Hp)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),await Pg(t,new Hp);return t._offlineComponents}async function ZS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),await v2(t,t._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),await v2(t,new Xx))),t._onlineComponents}function gI(t){return ZS(t).then((e=>e.syncEngine))}async function ek(t){const e=await ZS(t),s=e.eventManager;return s.onListen=tI.bind(null,e.syncEngine),s.onUnlisten=rI.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=nI.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=iI.bind(null,e.syncEngine),s}function xI(t,e,s={}){const r=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,p){const m=new JS({next:v=>{m.Za(),c.enqueueAndForget((()=>US(o,x)));const w=v.docs.has(d);!w&&v.fromCache?p.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&h&&h.source==="server"?p.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(v)},error:v=>p.reject(v)}),x=new zS(z0(d.path),m,{includeMetadataChanges:!0,_a:!0});return OS(o,x)})(await ek(t),t.asyncQueue,e,s,r))),r.promise}function vI(t,e,s={}){const r=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,h,p){const m=new JS({next:v=>{m.Za(),c.enqueueAndForget((()=>US(o,x))),v.fromCache&&h.source==="server"?p.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),x=new zS(d,m,{includeMetadataChanges:!0,_a:!0});return OS(o,x)})(await ek(t),t.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e,s){if(!s)throw new Ae(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yI(t,e,s,r){if(e===!0&&r===!0)throw new Ae(he.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function b2(t){if(!ze.isDocumentKey(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _2(t){if(ze.isDocumentKey(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Sm(t);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}function bI(t,e){if(e<=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){var s,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(s=e.ssl)===null||s===void 0||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wu{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MA;switch(r.type){case"firstParty":return new VA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=y2.get(s);r&&(Be("ComponentProvider","Removing Datastore"),y2.delete(s),r.terminate())})(this),Promise.resolve()}}function _I(t,e,s,r={}){var i;const o=(t=ea(t,wu))._getSettings(),c=`${e}:${s}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=rs.MOCK_USER;else{d=xE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new rs(p)}t._authCredentials=new FA(new Jj(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Fs{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class Fa extends Zr{constructor(e,s,r){super(e,s,z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new ze(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function km(t,e,...s){if(t=Xr(t),ov("collection","path",e),t instanceof wu){const r=Pt.fromString(e,...s);return _2(r),new Fa(t,null,r)}{if(!(t instanceof Fs||t instanceof Fa))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...s));return _2(r),new Fa(t.firestore,null,r)}}function lv(t,e){if(t=ea(t,wu),ov("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zr(t,null,(function(r){return new sa(Pt.emptyPath(),r)})(e))}function ln(t,e,...s){if(t=Xr(t),arguments.length===1&&(e=Zj.newId()),ov("doc","path",e),t instanceof wu){const r=Pt.fromString(e,...s);return b2(r),new Fs(t,null,new ze(r))}{if(!(t instanceof Fs||t instanceof Fa))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...s));return b2(r),new Fs(t.firestore,t instanceof Fa?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PS(this,"async_queue_retry"),this.Vu=()=>{const r=Rg();r&&Be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const s=Rg();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=Rg();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const s=new Qi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xu(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const s=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw Ji("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=s,s}enqueueAfterDelay(e,s,r){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const i=sv.createAndSchedule(this,e,s,r,(o=>this.yu(o)));return this.Tu.push(i),i}fu(){this.Eu&&Ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.Tu)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}class ju extends wu{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new j2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j2(e),this._firestoreClient=void 0,await e}}}function wI(t,e){const s=typeof t=="object"?t:zj(),r=typeof t=="string"?t:"(default)",i=wA(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=fE("firestore");o&&_I(i,...o)}return i}function Nm(t){if(t._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jI(t),t._firestoreClient}function jI(t){var e,s,r;const i=t._freezeSettings(),o=(function(d,h,p,m){return new ZA(d,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tk(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((s=i.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(Xn.fromBase64String(e))}catch(s){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new uc(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class kI{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,s,this.fieldTransforms):new vu(e,this.data,s,this.fieldTransforms)}}class nk{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new Ha(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function sk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class uv{constructor(e,s,r,i,o,c){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sk(this.Cu)&&SI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class NI{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||_m(e)}Qu(e,s,r,i=!1){return new uv({Cu:e,methodName:s,qu:r,path:qn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Em(t){const e=t._freezeSettings(),s=_m(t._databaseId);return new NI(t._databaseId,!!e.ignoreUndefinedProperties,s)}function rk(t,e,s,r,i,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,s,i);pv("Data must be an object, but it was:",c,r);const d=ak(r,c);let h,p;if(o.merge)h=new Js(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const m=[];for(const x of o.mergeFields){const v=Yx(e,x,s);if(!c.contains(v))throw new Ae(he.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);lk(m,v)||m.push(v)}h=new Js(m),p=c.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,p=c.fieldTransforms;return new kI(new Ds(d),h,p)}class Am extends Cm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Am}}class hv extends Cm{_toFieldTransform(e){return new S6(e.path,new eu)}isEqual(e){return e instanceof hv}}function TI(t,e,s,r){const i=t.Qu(1,e,s);pv("Data must be an object, but it was:",i,r);const o=[],c=Ds.empty();Ho(r,((h,p)=>{const m=mv(e,h,s);p=Xr(p);const x=i.Nu(m);if(p instanceof Am)o.push(m);else{const v=Su(p,x);v!=null&&(o.push(m),c.set(m,v))}}));const d=new Js(o);return new nk(c,d,i.fieldTransforms)}function CI(t,e,s,r,i,o){const c=t.Qu(1,e,s),d=[Yx(e,r,s)],h=[i];if(o.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)d.push(Yx(e,o[v])),h.push(o[v+1]);const p=[],m=Ds.empty();for(let v=d.length-1;v>=0;--v)if(!lk(p,d[v])){const w=d[v];let N=h[v];N=Xr(N);const P=c.Nu(w);if(N instanceof Am)p.push(w);else{const R=Su(N,P);R!=null&&(p.push(w),m.set(w,R))}}const x=new Js(p);return new nk(m,x,c.fieldTransforms)}function ik(t,e,s,r=!1){return Su(s,t.Qu(r?4:3,e))}function Su(t,e){if(ok(t=Xr(t)))return pv("Unsupported field value:",e,t),ak(t,e);if(t instanceof Cm)return(function(r,i){if(!sk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const d of r){let h=Su(d,i.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Xr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wn.fromDate(r);return{timestampValue:zp(i.serializer,o)}}if(r instanceof wn){const o=new wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(i.serializer,o)}}if(r instanceof cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uc)return{bytesValue:SS(i.serializer,r._byteString)};if(r instanceof Fs){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Q0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dv)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Bu("VectorValues must only contain numeric values.");return H0(d.serializer,h)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Sm(r)}`)})(t,e)}function ak(t,e){const s={};return eS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,((r,i)=>{const o=Su(i,e.Mu(r));o!=null&&(s[r]=o)})),{mapValue:{fields:s}}}function ok(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wn||t instanceof cv||t instanceof uc||t instanceof Fs||t instanceof Cm||t instanceof dv)}function pv(t,e,s){if(!ok(s)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(s)){const r=Sm(s);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Yx(t,e,s){if((e=Xr(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return mv(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,s)}const EI=new RegExp("[~\\*/\\[\\]]");function mv(t,e,s){if(e.search(EI)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new Tm(...e.split("."))._internalPath}catch(r){throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function Wp(t,e,s,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;s&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${i}`),h+=")"),new Ae(he.INVALID_ARGUMENT,d+t+h)}function lk(t,e){return t.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,s,r,i,o){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Im("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class AI extends fv{data(){return super.data()}}function Im(t,e){return typeof e=="string"?mv(t,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class ku extends gv{}function Xs(t,e,...s){let r=[];e instanceof gv&&r.push(e),r=r.concat(s),(function(o){const c=o.filter((h=>h instanceof xv)).length,d=o.filter((h=>h instanceof Rm)).length;if(c>1||c>0&&d>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Rm extends ku{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Rm(e,s,r)}_apply(e){const s=this._parse(e);return dk(e._query,s),new Zr(e.firestore,e.converter,Ux(e._query,s))}_parse(e){const s=Em(e.firestore);return(function(o,c,d,h,p,m,x){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){k2(x,m);const w=[];for(const N of x)w.push(S2(h,o,N));v={arrayValue:{values:w}}}else v=S2(h,o,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||k2(x,m),v=ik(d,c,x,m==="in"||m==="not-in");return _n.create(p,m,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function nc(t,e,s){const r=e,i=Im("where",t);return Rm._create(i,r,s)}class xv extends gv{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new xv(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:Yr.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,o){let c=i;const d=o.getFlattenedFilters();for(const h of d)dk(c,h),c=Ux(c,h)})(e._query,s),new Zr(e.firestore,e.converter,Ux(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vv extends ku{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new vv(e,s)}_apply(e){const s=(function(i,o,c){if(i.startAt!==null)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(o,c)})(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new sa(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,s))}}function Po(t,e="asc"){const s=e,r=Im("orderBy",t);return vv._create(r,s)}class yv extends ku{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new yv(e,s,r)}_apply(e){return new Zr(e.firestore,e.converter,Op(e._query,this._limit,this._limitType))}}function Ys(t){return bI("limit",t),yv._create("limit",t,"F")}class bv extends ku{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new bv(e,s,r)}_apply(e){const s=ck(e,this.type,this._docOrFields,this._inclusive);return new Zr(e.firestore,e.converter,(function(i,o){return new sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,s))}}function Gl(...t){return bv._create("startAt",t,!0)}class _v extends ku{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new _v(e,s,r)}_apply(e){const s=ck(e,this.type,this._docOrFields,this._inclusive);return new Zr(e.firestore,e.converter,(function(i,o){return new sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)})(e._query,s))}}function Hl(...t){return _v._create("endAt",t,!0)}function ck(t,e,s,r){if(s[0]=Xr(s[0]),s[0]instanceof fv)return(function(o,c,d,h,p){if(!h)throw new Ae(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const m=[];for(const x of ec(o))if(x.field.isKeyField())m.push(Vp(c,h.key));else{const v=h.data.field(x.field);if(fm(v))throw new Ae(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const w=x.field.canonicalString();throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}m.push(v)}return new lc(m,p)})(t._query,t.firestore._databaseId,e,s[0]._document,r);{const i=Em(t.firestore);return(function(c,d,h,p,m,x){const v=c.explicitOrderBy;if(m.length>v.length)throw new Ae(he.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let N=0;N<m.length;N++){const P=m[N];if(v[N].field.isKeyField()){if(typeof P!="string")throw new Ae(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!G0(c)&&P.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const R=c.path.child(Pt.fromString(P));if(!ze.isDocumentKey(R))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const O=new ze(R);w.push(Vp(d,O))}else{const R=ik(h,p,P);w.push(R)}}return new lc(w,x)})(t._query,t.firestore._databaseId,i,e,s,r)}}function S2(t,e,s){if(typeof(s=Xr(s))=="string"){if(s==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&s.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(Pt.fromString(s));if(!ze.isDocumentKey(r))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vp(t,new ze(r))}if(s instanceof Fs)return Vp(t,s._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(s)}.`)}function k2(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dk(t,e){const s=(function(i,o){for(const c of i)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class RI{convertValue(e,s="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Ho(e,((i,o)=>{r[i]=this.convertValue(o,s)})),r}convertVectorValue(e){var s,r,i;const o=(i=(r=(s=e.fields)===null||s===void 0?void 0:s.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>pn(c.doubleValue)));return new dv(o)}convertGeoPoint(e){return new cv(pn(e.latitude),pn(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=$0(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const s=$a(e);return new wn(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=Pt.fromString(e);Tt(AS(r));const i=new Yd(r.get(1),r.get(3)),o=new ze(r.popFirst(5));return i.isEqual(s)||Ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e,s){let r;return r=t?s&&(s.merge||s.mergeFields)?t.toFirestore(e,s):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hk extends fv{constructor(e,s,r,i,o,c){super(e,s,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Im("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}}class Np extends hk{data(e={}){return super.data(e)}}class PI{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Td(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Np(this._firestore,this._userDataWriter,r.key,r,new Td(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const h=new Np(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Td(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const h=new Np(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Td(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),m=c.indexOf(d.doc.key)),{type:LI(d.type),doc:h,oldIndex:p,newIndex:m}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function LI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){t=ea(t,Fs);const e=ea(t.firestore,ju);return xI(Nm(e),t._key).then((s=>DI(e,t,s)))}class pk extends RI{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,s)}}function Ms(t){t=ea(t,Zr);const e=ea(t.firestore,ju),s=Nm(e),r=new pk(e);return II(t._query),vI(s,t._query).then((i=>new PI(e,r,t,i)))}function qp(t,e,s){t=ea(t,Fs);const r=ea(t.firestore,ju),i=uk(t.converter,e,s);return mk(r,[rk(Em(r),"setDoc",t._key,i,t.converter!==null,s).toMutation(t._key,Sr.none())])}function mk(t,e){return(function(r,i){const o=new Qi;return r.asyncQueue.enqueueAndForget((async()=>aI(await gI(r),i,o))),o.promise})(Nm(t),e)}function DI(t,e,s){const r=s.docs.get(e._key),i=new pk(t);return new hk(t,i,e._key,r,new Td(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=Em(e)}set(e,s,r){this._verifyNotCommitted();const i=Lg(e,this._firestore),o=uk(i.converter,s,r),c=rk(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Sr.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const o=Lg(e,this._firestore);let c;return c=typeof(s=Xr(s))=="string"||s instanceof Tm?CI(this._dataReader,"WriteBatch.update",o._key,s,r,i):TI(this._dataReader,"WriteBatch.update",o._key,s),this._mutations.push(c.toMutation(o._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new W0(s._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(t,e){if((t=Xr(t)).firestore!==e)throw new Ae(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Hi(){return new hv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){return Nm(t=ea(t,ju)),new MI(t,(e=>mk(t,e)))}(function(e,s=!0){(function(i){yc=i})(kA),Bp(new Wd("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new ju(new BA(r.getProvider("auth-internal")),new UA(r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yd(p.options.projectId,m)})(c,i),c);return o=Object.assign({useFetchStreams:s},o),d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Zl(Ub,"4.7.3",e),Zl(Ub,"4.7.3","esm2017")})();var BI="firebase",$I="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zl(BI,$I,"app");const fk={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};fk.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const VI=NA().length?zj():Uj(fk),jt=wI(VI),Hr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Wr=t=>`https://drive.google.com/uc?export=view&id=${t}`,gk=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Cn=[{key:"warrior",label:"Warrior",iconUrl:Wr(Hr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Wr(Hr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Wr(Hr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Wr(Hr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Wr(Hr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Wr(Hr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Wr(Hr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Wr(Hr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Wr(Hr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Wr(Hr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Wr(Hr.paladin),fallback:""}],Jx=Object.fromEntries(Cn.map(t=>[t.key,t])),Zx=new Map;function nn(t,e){Zx.set(gk(t),e)}for(const t of Cn)nn(t.key,t.key),nn(t.label,t.key);nn("war","warrior");nn("krieger","warrior");nn("magier","mage");nn("jaeger","scout");nn("jger","scout");nn("assa","assassin");nn("meuchelmoerder","assassin");nn("meuchelmrder","assassin");nn("demonhunter","demon-hunter");nn("dh","demon-hunter");nn("daemonenjaeger","demon-hunter");nn("dmonenjger","demon-hunter");nn("zerker","berserker");nn("battlemage","battle-mage");nn("kampfmagier","battle-mage");nn("bm","battle-mage");nn("druide","druid");nn("barde","bard");nn("necro","necromancer");nn("nekromant","necromancer");nn("pala","paladin");function OI(t){const e=gk(t);if(!e)return{};const s=Zx.get(e);if(s){const r=Jx[s];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Zx.entries())if(r.startsWith(e)||e.startsWith(r)){const o=Jx[i];return{url:o.iconUrl,fallback:o.fallback}}return{}}const UI=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Cn,CLASS_BY_KEY:Jx,iconForClassName:OI},Symbol.toStringTag,{value:"Module"}));function Pm(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const s=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(s!=null&&s[1])return s[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function Tp(t){if(t==null)return;const e=Pm(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function xk(t,e=64){if(t==null)return;const s=Pm(t);if(!s)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${s}&sz=w${r}`}function vk(t,e){const s="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${s}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function yk(t,e,s,r){const i=Tp(t);return i?vk(i,{w:e,h:s,fit:r}):void 0}function Nr(t,e=64){const s=xk(t,e);return s?vk(s,{w:e,h:e,fit:"contain"}):void 0}function Dg(t){if(t==null)return;const e=Pm(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function zI(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const Oo=Object.assign(t=>Tp(t),{id:Pm,direct:Tp,thumb:xk,proxy:yk,thumbProxy:Nr,raw:Dg,gif:Dg,gifProxy:t=>{const e=Dg(t);return e&&/^https?:\/\//i.test(e)?zI(e):Tp(t)}}),Mg=t=>Number.isFinite(t),Ll=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},GI=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function HI(t,e=64){if(!t)return;const s=o=>o.toLowerCase().replace(/[^a-z0-9]+/g,""),r=s(t);let i=Cn.find(o=>s(o.label)===r);if(i||(i=Cn.find(o=>s(o.label).startsWith(r)||r.startsWith(s(o.label)))),!!i)return Nr(i.iconUrl,e)}function WI(t){const e=t.ref.parent,s=e==null?void 0:e.parent,r=s==null?void 0:s.parent;return{root:r==null?void 0:r.id,id:s==null?void 0:s.id}}function qI({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:s}){const r=Ga(),[i,o]=se.useState(""),[c,d]=se.useState(""),[h,p]=se.useState(!1),[m,x]=se.useState(null),[v,w]=se.useState([]),[N,P]=se.useState([]),[R,O]=se.useState([]),[B,E]=se.useState(-1),y=se.useRef(null);se.useEffect(()=>{const _=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(_)},[i]),se.useEffect(()=>{async function _(){x(null);const C=c;if(C.length<1){w([]),P([]),O([]),E(-1);return}p(!0);try{let L=function(Te){var kt,Xe,At,$t,ys,bs,_s,Tr,ws,os,ls,Cr,rr,ir,jn,Ht,Vt,Ct,ei,Bs,ar,or,ti,_i,ni,Er,Ot,lr,wi,ji,cs,$s,Si,Vs;const me=Te.data(),{root:Ee,id:Ce}=WI(Te),We=Ce||me.playerId||me.guildIdentifier||"";if(Ee==="players"||me.playerId&&!me.guildIdentifier){if(!We||z.has(We))return;z.add(We),H.push({kind:"player",id:We,name:(At=(Xe=me.name)!=null?Xe:(kt=me.values)==null?void 0:kt.Name)!=null?At:null,nameFold:($t=me.nameFold)!=null?$t:null,server:(_s=(bs=me.server)!=null?bs:(ys=me.values)==null?void 0:ys.Server)!=null?_s:null,guildName:(os=(ws=me.guildName)!=null?ws:(Tr=me.values)==null?void 0:Tr.Guild)!=null?os:null,className:(rr=(Cr=me.className)!=null?Cr:(ls=me.values)==null?void 0:ls.Class)!=null?rr:null,level:Ll((jn=me.level)!=null?jn:(ir=me.values)==null?void 0:ir.Level),ts:Ll(me.timestamp)});return}if(Ee==="guilds"||me.guildIdentifier&&!me.playerId){if(!We||q.has(We))return;q.add(We),W.push({kind:"guild",id:We,name:(Ct=(Vt=me.name)!=null?Vt:(Ht=me.values)==null?void 0:Ht.Name)!=null?Ct:null,nameFold:(ei=me.nameFold)!=null?ei:null,server:(or=(ar=me.server)!=null?ar:(Bs=me.values)==null?void 0:Bs.Server)!=null?or:null,memberCount:Ll((Er=(_i=me.memberCount)!=null?_i:(ti=me.values)==null?void 0:ti["Guild Member Count"])!=null?Er:(ni=me.values)==null?void 0:ni.GuildMemberCount),hofRank:Ll((Vs=($s=(ji=(lr=me.hofRank)!=null?lr:(Ot=me.values)==null?void 0:Ot["Hall of Fame Rank"])!=null?ji:(wi=me.values)==null?void 0:wi.HoF)!=null?$s:(cs=me.values)==null?void 0:cs.Rank)!=null?Vs:(Si=me.values)==null?void 0:Si["Guild Rank"]),ts:Ll(me.timestamp)});return}};const A=GI(C),V=lv(jt,"latest"),F=await Ms(Xs(V,Po("nameFold"),Gl(A),Hl(A+""),Ys(e*6))),K=await Ms(Xs(V,nc("nameNgrams","array-contains",A),Ys(e*6))),z=new Set,q=new Set,H=[],W=[];F.forEach(L),K.forEach(L);const ne=km(jt,"servers"),re=C.toLowerCase(),G=C.toUpperCase(),Z=[Ms(Xs(ne,Po("displayName"),Gl(C),Hl(C+""),Ys(e*4))),Ms(Xs(ne,Po("code"),Gl(G),Hl(G+""),Ys(e*4))),Ms(Xs(ne,Po("host"),Gl(re),Hl(re+""),Ys(e*4)))],ue=await Promise.allSettled(Z),ee=new Set,fe=[];for(const Te of ue)Te.status==="fulfilled"&&Te.value.forEach(me=>{var We,kt,Xe,At,$t;const Ee=me.data(),Ce=me.id;!Ce||ee.has(Ce)||(ee.add(Ce),fe.push({kind:"server",id:Ce,displayName:(We=Ee.displayName)!=null?We:null,code:(kt=Ee.code)!=null?kt:null,host:(Xe=Ee.host)!=null?Xe:null,region:(At=Ee.region)!=null?At:null,type:($t=Ee.type)!=null?$t:null,numericId:Ll(Ee.numericId),active:typeof Ee.active=="boolean"?Ee.active:null}))});w(H.slice(0,e)),P(W.slice(0,e)),O(fe.slice(0,e)),E(H.length+W.length+fe.length?0:-1)}catch(L){x((L==null?void 0:L.message)||"Unbekannter Fehler bei der Suche."),w([]),P([]),O([]),E(-1)}finally{p(!1)}}return _(),()=>{}},[c,e]),se.useEffect(()=>{const _=C=>{y.current&&(y.current.contains(C.target)||(w([]),P([]),O([]),E(-1)))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const j=[...v,...N,...R],M=_=>{_.kind==="player"?r(`/player/${encodeURIComponent(_.id)}`):_.kind==="guild"?r(`/guild/${encodeURIComponent(_.id)}`):r(`/server/${encodeURIComponent(_.id)}`),w([]),P([]),O([]),E(-1),o("")},T=_=>{if(j.length)if(_.key==="ArrowDown")_.preventDefault(),E(C=>(C+1)%j.length);else if(_.key==="ArrowUp")_.preventDefault(),E(C=>(C-1+j.length)%j.length);else if(_.key==="Enter"){_.preventDefault();const C=j[B>=0?B:0];C&&M(C)}else _.key==="Escape"&&(w([]),P([]),O([]),E(-1))};return n.jsxs("div",{ref:y,style:nt.wrap,children:[n.jsx("input",{style:nt.input,placeholder:t,value:i,onChange:_=>o(_.target.value),onKeyDown:T,"aria-label":"Spieler, Gilden und Server suchen"}),(h||m||v.length||N.length||R.length)&&n.jsxs("div",{style:nt.dropdown,children:[h&&n.jsx("div",{style:nt.hint,children:"Suche"}),m&&!h&&n.jsxs("div",{style:nt.err,children:[" ",m]}),!h&&!m&&(v.length>0||N.length>0||R.length>0)&&n.jsxs(n.Fragment,{children:[v.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:nt.sectionHdr,children:"Spieler"}),v.map((_,C)=>{var V,F,K,z;const L=C===B,A=(V=s==null?void 0:s(_.className,64))!=null?V:HI(_.className,64);return n.jsxs("button",{onClick:()=>M(_),style:L?nt.itemActive:nt.item,title:_.name||"",onMouseEnter:()=>E(C),children:[n.jsx("div",{style:nt.iconBoxPlain,children:A?n.jsx("img",{src:A,alt:"",style:nt.iconImgShadow,onError:q=>{const H=q.currentTarget.parentElement;H&&(H.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):n.jsx("div",{style:nt.iconFallback,children:(_.className||" ? ").toString().slice(0,2)})}),n.jsxs("div",{style:nt.meta,children:[n.jsxs("div",{style:nt.line1,children:[n.jsx("span",{style:nt.name,children:(F=_.name)!=null?F:"Unbekannt"}),Mg(_.level)&&n.jsxs("span",{style:nt.badge,children:["Lvl ",_.level]})]}),n.jsxs("div",{style:nt.line2,children:[_.guildName?n.jsxs("span",{children:["",_.guildName,""]}):n.jsx("span",{style:nt.muted,children:""}),n.jsx("span",{style:nt.sep,children:""}),n.jsx("span",{children:(K=_.className)!=null?K:"Klasse ?"}),n.jsx("span",{style:nt.sep,children:""}),n.jsx("span",{children:(z=_.server)!=null?z:"Server ?"})]})]})]},`p-${_.id}-${C}`)})]}),N.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:nt.sectionHdr,children:"Gilden"}),N.map((_,C)=>{var V,F;const L=v.length+C,A=L===B;return n.jsxs("button",{onClick:()=>M(_),style:A?nt.itemActive:nt.item,title:_.name||"",onMouseEnter:()=>E(L),children:[n.jsx("div",{style:nt.iconBox,children:""}),n.jsxs("div",{style:nt.meta,children:[n.jsxs("div",{style:nt.line1,children:[n.jsx("span",{style:nt.name,children:(V=_.name)!=null?V:"Unbekannt"}),Mg(_.hofRank)&&n.jsxs("span",{style:nt.badge,children:["HoF #",_.hofRank]})]}),n.jsxs("div",{style:nt.line2,children:[n.jsx("span",{children:(F=_.server)!=null?F:"Server ?"}),n.jsx("span",{style:nt.sep,children:""}),n.jsx("span",{children:Mg(_.memberCount)?`${_.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${_.id}-${C}`)})]}),R.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:nt.sectionHdr,children:"Server"}),R.map((_,C)=>{var V,F,K,z,q,H;const L=v.length+N.length+C,A=L===B;return n.jsxs("button",{onClick:()=>M(_),style:A?nt.itemActive:nt.item,title:_.displayName||_.code||_.host||"",onMouseEnter:()=>E(L),children:[n.jsx("div",{style:nt.iconBoxPlain,children:n.jsx("div",{style:nt.serverGlyph,children:""})}),n.jsxs("div",{style:nt.meta,children:[n.jsxs("div",{style:nt.line1,children:[n.jsx("span",{style:nt.name,children:(K=(F=(V=_.displayName)!=null?V:_.code)!=null?F:_.host)!=null?K:_.id}),_.active!=null&&n.jsx("span",{style:nt.badge,children:_.active?"Aktiv":"Inaktiv"})]}),n.jsxs("div",{style:nt.line2,children:[n.jsx("span",{children:(z=_.code)!=null?z:""}),n.jsx("span",{style:nt.sep,children:""}),n.jsx("span",{children:(q=_.host)!=null?q:""}),n.jsx("span",{style:nt.sep,children:""}),n.jsx("span",{children:(H=_.region)!=null?H:""}),_.type?n.jsxs(n.Fragment,{children:[n.jsx("span",{style:nt.sep,children:""}),n.jsx("span",{children:_.type.toUpperCase()})]}):null]})]})]},`s-${_.id}-${C}`)})]})]}),!h&&!m&&v.length===0&&N.length===0&&R.length===0&&c.length>=1&&n.jsx("div",{style:nt.hint,children:"Keine Treffer"})]})]})}const nt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function KI(t){var d,h,p;if(!t)return;const e=String(t),s=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),o=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,UI];for(const m of c){if(!m)continue;const x=(p=(h=(d=m[s])!=null?d:m[r])!=null?h:m[i])!=null?p:m[o];if(typeof x=="string")return x}}function QI({user:t}){var i;const{open:e,canUse:s}=Lj(),r=()=>{e({tab:"json"})};return n.jsxs("header",{className:ts.topbar,children:[n.jsxs("div",{className:ts.topbarLeft,children:[n.jsx("button",{className:ts.btnIco,"aria-label":"Benachrichtigungen",children:n.jsx(UT,{className:ts.ico})}),n.jsx("button",{className:ts.btnIco,"aria-label":"Favoriten",children:n.jsx($C,{className:ts.ico})})]}),n.jsx("div",{className:ts.searchWrap,children:n.jsx(qI,{placeholder:"Suchen (Spieler)",getClassIcon:KI,maxPerSection:10})}),n.jsxs("div",{className:ts.topbarRight,children:[n.jsxs("a",{className:`${ts.pill} ${ts.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[n.jsx(dC,{className:ts.ico}),"www.sfgame.net"]}),n.jsxs("button",{className:ts.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!s,title:s?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[n.jsx(GC,{className:ts.ico}),n.jsx("span",{className:ts.label,children:"Scan hochladen"})]}),n.jsx("button",{className:ts.avatarBtn,"aria-label":(i=t==null?void 0:t.name)!=null?i:"Gast",children:n.jsx("img",{className:ts.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const XI="_root_xd4sk_3",YI="_expanded_xd4sk_45",JI="_headRow_xd4sk_55",ZI="_headTitle_xd4sk_63",eR="_headDot_xd4sk_65",tR="_headLabel_xd4sk_67",nR="_pinBtn_xd4sk_69",sR="_navScroll_xd4sk_81",rR="_pad_xd4sk_83",iR="_segCard_xd4sk_89",aR="_segTitle_xd4sk_121",oR="_navCol_xd4sk_139",lR="_navItemWrap_xd4sk_141",cR="_navBtn_xd4sk_147",dR="_navBtnActive_xd4sk_171",uR="_label_xd4sk_175",hR="_trailing_xd4sk_205",pR="_isOpen_xd4sk_253",mR="_footer_xd4sk_279",fR="_login_xd4sk_281",gR="_legal_xd4sk_303",xR="_labelText_xd4sk_327",vR="_char_xd4sk_337",yR="_mainNavCard_xd4sk_405",_t={root:XI,expanded:YI,headRow:JI,headTitle:ZI,headDot:eR,headLabel:tR,pinBtn:nR,navScroll:sR,pad:rR,segCard:iR,segTitle:aR,navCol:oR,navItemWrap:lR,navBtn:cR,navBtnActive:dR,label:uR,trailing:hR,isOpen:pR,footer:mR,login:fR,legal:gR,labelText:xR,char:vR,mainNavCard:yR},bR="_panel_90cjk_1",_R="_open_90cjk_31",wR="_col_90cjk_43",Fg={panel:bR,open:_R,col:wR};function jR(t,e=8){const s=t.getBoundingClientRect();return{left:Math.round(s.right+e),top:Math.round(s.top)}}function SR({anchorEl:t,open:e,items:s,renderLink:r,onMouseEnter:i,onMouseLeave:o}){const[c,d]=se.useState({left:0,top:0});return se.useEffect(()=>{if(!e||!t)return;const h=()=>d(jR(t));h();const p=new ResizeObserver(h);return p.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{p.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:(e&&(s!=null&&s.length)&&console.log("submenu items:",s.map(h=>h.label)),RT.createPortal(n.jsx("div",{className:`${Fg.panel} ${e?Fg.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:o,role:"menu",children:n.jsx("div",{className:Fg.col,children:s.map(h=>r(h))})}),document.body))}const kR=[{to:"/",label:"Home",icon:n.jsx(pC,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:n.jsx(xC,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:n.jsx(fu,{className:"ico"})},{to:"/admin",label:"Admin",icon:n.jsx(LC,{className:"ico"})},{to:"/playground",label:"Playground",icon:n.jsx(pm,{className:"ico"})}],NR=[{to:"/discover",label:"Discover",icon:n.jsx(tC,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:n.jsx(UC,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:n.jsx(GT,{className:"ico"})},{to:"/community",label:"Community",icon:n.jsx(bC,{className:"ico"})},{to:"/scans",label:"Scans",icon:n.jsx(lC,{className:"ico"})},{to:"/settings",label:"Settings",icon:n.jsx(AC,{className:"ico"})}],e0={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/fusion",label:"Fusion"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},TR=220;function CR(t=TR){const[e,s]=se.useState(!1),r=se.useRef(null),i=se.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),o=se.useCallback(()=>{i(),s(!0)},[i]),c=se.useCallback(()=>{i(),r.current=window.setTimeout(()=>s(!1),t)},[i,t]);return se.useEffect(()=>()=>i(),[i]),{open:e,onEnter:o,onLeave:c,setOpen:s}}function wv({text:t,isOpen:e,duration:s=1,step:r=45}){const i=se.useMemo(()=>Array.from(t),[t]);return n.jsx("span",{className:_t.label,children:n.jsx("span",{className:_t.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${s}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((o,c)=>n.jsx("span",{className:_t.char,style:{"--i":c},"aria-hidden":"true",children:o===" "?"":o},`${t}-${c}`))})})}function ER({it:t,collapsed:e,allowSubmenus:s}){var m,x;const r=((x=(m=e0[t.to])==null?void 0:m.length)!=null?x:0)>0,{open:i,onEnter:o,onLeave:c,setOpen:d}=CR(),h=se.useRef(null),p=se.useCallback(()=>{if(!s||!r){d(!1);return}o()},[s,r,o,d]);return n.jsxs("div",{ref:h,className:`${_t.navItemWrap} ${i?_t.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[n.jsxs(an,{to:t.to,end:!!t.end,className:({isActive:v})=>`${_t.navBtn} ${v?_t.navBtnActive:""}`,children:[t.icon,n.jsx(wv,{text:t.label,isOpen:!e}),r&&!e&&n.jsx("span",{className:_t.trailing,"aria-hidden":"true",children:n.jsx(KT,{className:"ico"})})]}),r&&n.jsx(SR,{anchorEl:h.current,open:i,items:e0[t.to],renderLink:v=>n.jsx(an,{to:v.to,className:({isActive:w})=>`link ${w?"linkActive":""}`,children:v.label},v.to),onMouseEnter:o,onMouseLeave:c})]})}function N2({title:t,items:e,collapsed:s,allowSubmenus:r}){return n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:`${_t.navTitle} ${_t.segTitle}`,children:t}),n.jsx("div",{className:_t.navCol,children:e.map(i=>e0[i.to]?n.jsx(ER,{it:i,collapsed:s,allowSubmenus:r},i.to):n.jsxs(an,{to:i.to,end:!!i.end,className:({isActive:o})=>`${_t.navBtn} ${o?_t.navBtnActive:""}`,children:[i.icon,n.jsx(wv,{text:i.label,isOpen:!s})]},i.to))})]})}const AR=90,IR=180;function RR({expanded:t,setExpanded:e,pinned:s,setPinned:r,hoverToExpand:i=!0}){const o=se.useRef(null),c=se.useRef(null),[d,h]=se.useState(!1),p=se.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),m=se.useCallback(()=>{!i||s||(p(),h(!1),o.current=window.setTimeout(()=>e(!0),AR))},[i,s,p,e]),x=se.useCallback(()=>{!i||s||(p(),c.current=window.setTimeout(()=>{e(!1),h(!1)},IR))},[i,s,p,e]);se.useEffect(()=>()=>p(),[p]),se.useEffect(()=>{s&&h(!0)},[s]);const v=P=>{P.propertyName==="width"&&t&&!s&&h(!0)};se.useEffect(()=>{if(t&&!s){const P=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(P)}},[t,s]);const w=!t,N=s||t&&d;return n.jsxs("aside",{id:"sidebar-root",className:`${_t.root} ${t?_t.expanded:""}`,"data-collapsed":w?"true":"false",onMouseEnter:m,onMouseLeave:x,onTransitionEnd:v,"aria-label":"Navigation",children:[n.jsxs("div",{className:_t.headRow,children:[n.jsxs("div",{className:_t.headTitle,children:[n.jsx("span",{className:_t.headDot})," ",n.jsx("span",{className:_t.headLabel,children:"Navigation"})]}),n.jsx("button",{className:_t.pinBtn,"aria-pressed":s,title:s?"Unpin":"Pin",onClick:()=>r(!s),type:"button",children:s?n.jsx(SC,{className:"ico"}):n.jsx(wC,{className:"ico"})})]}),n.jsx("div",{className:_t.navScroll,children:n.jsxs("div",{className:_t.pad,children:[n.jsx("div",{className:`${_t.segCard} ${_t.mainNavCard}`,children:n.jsx(N2,{items:kR,collapsed:w,allowSubmenus:N})}),n.jsx("div",{className:_t.segTitle,children:"Kategorien"}),n.jsx("div",{className:`${_t.segCard} ${_t.mainNavCard}`,children:n.jsx(N2,{items:NR,collapsed:w,allowSubmenus:N})})]})}),n.jsxs("div",{className:`${_t.footer} ${_t.segCard} ${_t.mainNavCard}`,children:[n.jsxs("button",{className:_t.login,type:"button",children:[n.jsx(fu,{className:"ico"}),n.jsx(wv,{text:"Logout",isOpen:!w})]}),n.jsx("div",{className:_t.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Bg="/test/assets/logo-sfdatahub-CUdhlsEb.png";function PR({src:t,alt:e="",children:s,to:r="/",loading:i="eager",decoding:o="async"}){const c=t!=null?t:Bg;return n.jsxs("div",{className:"logo-dock",children:[n.jsx(an,{to:r,"aria-label":"Go to home",children:n.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:o,onError:d=>{const h=d.currentTarget;h.src!==Bg&&(h.src=Bg)}})}),s]})}function LR(){const[t,e]=D.useState(!1),[s,r]=D.useState(!1),i=s||t,o=D.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return n.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":o},children:[n.jsx(PR,{src:"/logo.png"}),n.jsx(QI,{}),n.jsx("div",{className:"logo-fill"}),n.jsx(RR,{expanded:i,setExpanded:e,pinned:s,setPinned:r,hoverToExpand:!s}),n.jsx("div",{className:"content",children:n.jsx("div",{className:"content-inner",children:n.jsx("div",{className:"content-body",children:n.jsx(bj,{})})})})]})}const bk=D.createContext({});function jv(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sv=D.createContext(null),kv=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function DR(t=!0){const e=D.useContext(Sv);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,o=D.useId();D.useEffect(()=>{t&&i(o)},[t]);const c=D.useCallback(()=>t&&r&&r(o),[o,r,t]);return!s&&r?[!1,c]:[!0]}const Nv=typeof window!="undefined",_k=Nv?D.useLayoutEffect:D.useEffect,Zs=t=>t;let wk=Zs;function Tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Uo=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},gi=t=>t*1e3,xi=t=>t/1e3,MR={useManualTiming:!1};function FR(t){let e=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){o.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,m=!1,x=!1)=>{const w=x&&r?e:s;return m&&o.add(p),w.has(p)||w.add(p),p},cancel:p=>{s.delete(p),o.delete(p)},process:p=>{if(c=p,r){i=!0;return}r=!0,[e,s]=[s,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const ep=["read","resolveKeyframes","update","preRender","render","postRender"],BR=40;function jk(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,c=ep.reduce((O,B)=>(O[B]=FR(o),O),{}),{read:d,resolveKeyframes:h,update:p,preRender:m,render:x,postRender:v}=c,w=()=>{const O=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,BR),1),i.timestamp=O,i.isProcessing=!0,d.process(i),h.process(i),p.process(i),m.process(i),x.process(i),v.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(w))},N=()=>{s=!0,r=!0,i.isProcessing||t(w)};return{schedule:ep.reduce((O,B)=>{const E=c[B];return O[B]=(y,j=!1,M=!1)=>(s||N(),E.schedule(y,j,M)),O},{}),cancel:O=>{for(let B=0;B<ep.length;B++)c[ep[B]].cancel(O)},state:i,steps:c}}const{schedule:Bt,cancel:ta,state:zn,steps:$g}=jk(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Zs,!0),Sk=D.createContext({strict:!1}),T2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hc={};for(const t in T2)hc[t]={isEnabled:e=>T2[t].some(s=>!!e[s])};function $R(t){for(const e in t)hc[e]={...hc[e],...t[e]}}const VR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VR.has(t)}let kk=t=>!Kp(t);function OR(t){t&&(kk=e=>e.startsWith("on")?!Kp(e):t(e))}try{OR(require("@emotion/is-prop-valid").default)}catch(t){}function UR(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(kk(i)||s===!0&&Kp(i)||!e&&!Kp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function zR(t){if(typeof Proxy=="undefined")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Lm=D.createContext({});function su(t){return typeof t=="string"||Array.isArray(t)}function Dm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ev=["initial",...Cv];function Mm(t){return Dm(t.animate)||Ev.some(e=>su(t[e]))}function Nk(t){return!!(Mm(t)||t.variants)}function GR(t,e){if(Mm(t)){const{initial:s,animate:r}=t;return{initial:s===!1||su(s)?s:void 0,animate:su(r)?r:void 0}}return t.inherit!==!1?e:{}}function HR(t){const{initial:e,animate:s}=GR(t,D.useContext(Lm));return D.useMemo(()=>({initial:e,animate:s}),[C2(e),C2(s)])}function C2(t){return Array.isArray(t)?t.join(" "):t}const WR=Symbol.for("motionComponentSymbol");function Wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qR(t,e,s){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):Wl(s)&&(s.current=r))},[e])}const Av=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KR="framerAppearId",Tk="data-"+Av(KR),{schedule:Iv}=jk(queueMicrotask,!1),Ck=D.createContext({});function QR(t,e,s,r,i){var o,c;const{visualElement:d}=D.useContext(Lm),h=D.useContext(Sk),p=D.useContext(Sv),m=D.useContext(kv).reducedMotion,x=D.useRef(null);r=r||h.renderer,!x.current&&r&&(x.current=r(t,{visualState:e,parent:d,props:s,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const v=x.current,w=D.useContext(Ck);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&XR(x.current,s,i,w);const N=D.useRef(!1);D.useInsertionEffect(()=>{v&&N.current&&v.update(s,p)});const P=s[Tk],R=D.useRef(!!P&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return _k(()=>{v&&(N.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Iv.render(v.render),R.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,P)}),R.current=!1))}),v}function XR(t,e,s,r){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Ek(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&Wl(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function Ek(t){if(t)return t.options.allowProjection!==!1?t.projection:Ek(t.parent)}function YR({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:i}){var o,c;t&&$R(t);function d(p,m){let x;const v={...D.useContext(kv),...p,layoutId:JR(p)},{isStatic:w}=v,N=HR(p),P=r(p,w);if(!w&&Nv){ZR();const R=eP(v);x=R.MeasureLayout,N.visualElement=QR(i,P,v,e,R.ProjectionNode)}return n.jsxs(Lm.Provider,{value:N,children:[x&&N.visualElement?n.jsx(x,{visualElement:N.visualElement,...v}):null,s(i,p,qR(P,N.visualElement,m),P,w,N.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&c!==void 0?c:""})`}`;const h=D.forwardRef(d);return h[WR]=i,h}function JR({layoutId:t}){const e=D.useContext(bk).id;return e&&t!==void 0?e+"-"+t:t}function ZR(t,e){D.useContext(Sk).strict}function eP(t){const{drag:e,layout:s}=hc;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const tP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rv(t){return typeof t!="string"||t.includes("-")?!1:!!(tP.indexOf(t)>-1||/[A-Z]/u.test(t))}function E2(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Pv(t,e,s,r){if(typeof e=="function"){const[i,o]=E2(r);e=e(s!==void 0?s:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=E2(r);e=e(s!==void 0?s:t.custom,i,o)}return e}const t0=t=>Array.isArray(t),nP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sP=t=>t0(t)?t[t.length-1]||0:t,Dn=t=>!!(t&&t.getVelocity);function Cp(t){const e=Dn(t)?t.get():t;return nP(e)?e.toValue():e}function rP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},r,i,o){const c={latestValues:iP(r,i,o,t),renderState:e()};return s&&(c.onMount=d=>s({props:r,current:d,...c}),c.onUpdate=d=>s(d)),c}const Ak=t=>(e,s)=>{const r=D.useContext(Lm),i=D.useContext(Sv),o=()=>rP(t,e,r,i);return s?o():jv(o)};function iP(t,e,s,r){const i={},o=r(t,{});for(const v in o)i[v]=Cp(o[v]);let{initial:c,animate:d}=t;const h=Mm(t),p=Nk(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let m=s?s.initial===!1:!1;m=m||c===!1;const x=m?d:c;if(x&&typeof x!="boolean"&&!Dm(x)){const v=Array.isArray(x)?x:[x];for(let w=0;w<v.length;w++){const N=Pv(t,v[w]);if(N){const{transitionEnd:P,transition:R,...O}=N;for(const B in O){let E=O[B];if(Array.isArray(E)){const y=m?E.length-1:0;E=E[y]}E!==null&&(i[B]=E)}for(const B in P)i[B]=P[B]}}}return i}const wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(wc),Ik=t=>e=>typeof e=="string"&&e.startsWith(t),Rk=Ik("--"),aP=Ik("var(--"),Lv=t=>aP(t)?oP.test(t.split("/*")[0].trim()):!1,oP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,na=(t,e,s)=>s>e?e:s<t?t:s,jc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...jc,transform:t=>na(0,1,t)},tp={...jc,default:1},Nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ra=Nu("deg"),vi=Nu("%"),qe=Nu("px"),lP=Nu("vh"),cP=Nu("vw"),A2={...vi,parse:t=>vi.parse(t)/100,transform:t=>vi.transform(t*100)},dP={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe},uP={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:tp,scaleX:tp,scaleY:tp,scaleZ:tp,skew:Ra,skewX:Ra,skewY:Ra,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:ru,originX:A2,originY:A2,originZ:qe},I2={...jc,transform:Math.round},Dv={...dP,...uP,zIndex:I2,size:qe,fillOpacity:ru,strokeOpacity:ru,numOctaves:I2},hP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pP=wc.length;function mP(t,e,s){let r="",i=!0;for(let o=0;o<pP;o++){const c=wc[o],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||s){const p=Pk(d,Dv[c]);if(!h){i=!1;const m=hP[c]||c;r+=`${m}(${p}) `}s&&(e[c]=p)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function Mv(t,e,s){const{style:r,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const h in e){const p=e[h];if(qo.has(h)){c=!0;continue}else if(Rk(h)){i[h]=p;continue}else{const m=Pk(p,Dv[h]);h.startsWith("origin")?(d=!0,o[h]=m):r[h]=m}}if(e.transform||(c||s?r.transform=mP(e,t.transform,s):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${p} ${m}`}}const fP={offset:"stroke-dashoffset",array:"stroke-dasharray"},gP={offset:"strokeDashoffset",array:"strokeDasharray"};function xP(t,e,s=1,r=0,i=!0){t.pathLength=1;const o=i?fP:gP;t[o.offset]=qe.transform(-r);const c=qe.transform(e),d=qe.transform(s);t[o.array]=`${c} ${d}`}function R2(t,e,s){return typeof t=="string"?t:qe.transform(e+s*t)}function vP(t,e,s){const r=R2(e,t.x,t.width),i=R2(s,t.y,t.height);return`${r} ${i}`}function Fv(t,{attrX:e,attrY:s,attrScale:r,originX:i,originY:o,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...p},m,x){if(Mv(t,p,x),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w,dimensions:N}=t;v.transform&&(N&&(w.transform=v.transform),delete v.transform),N&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=vP(N,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),r!==void 0&&(v.scale=r),c!==void 0&&xP(v,c,d,h,!1)}const Bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Lk=()=>({...Bv(),attrs:{}}),$v=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dk(t,{style:e,vars:s},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in s)t.style.setProperty(o,s[o])}const Mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fk(t,e,s,r){Dk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Mk.has(i)?i:Av(i),e.attrs[i])}const Qp={};function yP(t){Object.assign(Qp,t)}function Bk(t,{layout:e,layoutId:s}){return qo.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Qp[t]||t==="opacity")}function Vv(t,e,s){var r;const{style:i}=t,o={};for(const c in i)(Dn(i[c])||e.style&&Dn(e.style[c])||Bk(c,t)||((r=s==null?void 0:s.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[c]=i[c]);return o}function $k(t,e,s){const r=Vv(t,e,s);for(const i in t)if(Dn(t[i])||Dn(e[i])){const o=wc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function bP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(s){e.dimensions={x:0,y:0,width:0,height:0}}}const P2=["x","y","width","height","cx","cy","r"],_P={useVisualState:Ak({scrapeMotionValuesFromProps:$k,createRenderState:Lk,onUpdate:({props:t,prevProps:e,current:s,renderState:r,latestValues:i})=>{if(!s)return;let o=!!t.drag;if(!o){for(const d in i)if(qo.has(d)){o=!0;break}}if(!o)return;let c=!e;if(e)for(let d=0;d<P2.length;d++){const h=P2[d];t[h]!==e[h]&&(c=!0)}c&&Bt.read(()=>{bP(s,r),Bt.render(()=>{Fv(r,i,$v(s.tagName),t.transformTemplate),Fk(s,r)})})}})},wP={useVisualState:Ak({scrapeMotionValuesFromProps:Vv,createRenderState:Bv})};function Vk(t,e,s){for(const r in e)!Dn(e[r])&&!Bk(r,s)&&(t[r]=e[r])}function jP({transformTemplate:t},e){return D.useMemo(()=>{const s=Bv();return Mv(s,e,t),Object.assign({},s.vars,s.style)},[e])}function SP(t,e){const s=t.style||{},r={};return Vk(r,s,t),Object.assign(r,jP(t,e)),r}function kP(t,e){const s={},r=SP(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}function NP(t,e,s,r){const i=D.useMemo(()=>{const o=Lk();return Fv(o,e,$v(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Vk(o,t.style,t),i.style={...o,...i.style}}return i}function TP(t=!1){return(s,r,i,{latestValues:o},c)=>{const h=(Rv(s)?NP:kP)(r,o,c,s),p=UR(r,typeof s=="string",t),m=s!==D.Fragment?{...p,...h,ref:i}:{},{children:x}=r,v=D.useMemo(()=>Dn(x)?x.get():x,[x]);return D.createElement(s,{...m,children:v})}}function CP(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Rv(r)?_P:wP,preloadedFeatures:t,useRender:TP(i),createVisualElement:e,Component:r};return YR(c)}}function Ok(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}function Fm(t,e,s){const r=t.getProps();return Pv(r,e,s!==void 0?s:r.custom,t)}const EP=Tv(()=>window.ScrollTimeline!==void 0);class AP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(i=>{if(EP()&&i.attachTimeline)return i.attachTimeline(e);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Uk extends AP{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Ov(t,e){return t?t[e]||t.default||t:void 0}const Xp=2e4;function Uv(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Xp;)e+=s,r=t.next(e);return e>=Xp?1/0:e}function IP(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(Uv(r),Xp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:xi(i)}}function Bm(t){return typeof t=="function"}function L2(t,e){t.timeline=e,t.onfinish=null}const zv=t=>Array.isArray(t)&&typeof t[0]=="number",RP={linearEasing:void 0};function PP(t,e){const s=Tv(t);return()=>{var r;return(r=RP[e])!==null&&r!==void 0?r:s()}}const Yp=PP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),zk=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let o=0;o<i;o++)r+=t(Uo(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Gk(t){return!!(typeof t=="function"&&Yp()||!t||typeof t=="string"&&(t in n0||Yp())||zv(t)||Array.isArray(t)&&t.every(Gk))}const Cd=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,n0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cd([0,.65,.55,1]),circOut:Cd([.55,0,1,.45]),backIn:Cd([.31,.01,.66,-.59]),backOut:Cd([.33,1.53,.69,.99])};function Hk(t,e){if(t)return typeof t=="function"&&Yp()?zk(t,e):zv(t)?Cd(t):Array.isArray(t)?t.map(s=>Hk(s,e)||n0.easeOut):n0[t]}const qr={x:!1,y:!1};function Wk(){return qr.x||qr.y}function qk(t,e,s){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=s==null?void 0:s[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Kk(t,e){const s=qk(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function D2(t){return e=>{e.pointerType==="touch"||Wk()||t(e)}}function LP(t,e,s={}){const[r,i,o]=Kk(t,s),c=D2(d=>{const{target:h}=d,p=e(d);if(typeof p!="function"||!h)return;const m=D2(x=>{p(x),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const Qk=(t,e)=>e?t===e?!0:Qk(t,e.parentElement):!1,Gv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MP(t){return DP.has(t.tagName)||t.tabIndex!==-1}const Ed=new WeakSet;function M2(t){return e=>{e.key==="Enter"&&t(e)}}function Vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FP=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=M2(()=>{if(Ed.has(s))return;Vg(s,"down");const i=M2(()=>{Vg(s,"up")}),o=()=>Vg(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",o,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function F2(t){return Gv(t)&&!Wk()}function BP(t,e,s={}){const[r,i,o]=Kk(t,s),c=d=>{const h=d.currentTarget;if(!F2(d)||Ed.has(h))return;Ed.add(h);const p=e(d),m=(w,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!F2(w)||!Ed.has(h))&&(Ed.delete(h),typeof p=="function"&&p(w,{success:N}))},x=w=>{m(w,s.useGlobalTarget||Qk(h,w.target))},v=w=>{m(w,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!MP(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(s.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",p=>FP(p,i),i)}),o}function $P(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}const Xk=new Set(["width","height","top","left","right","bottom",...wc]);let Ep;function VP(){Ep=void 0}const yi={now:()=>(Ep===void 0&&yi.set(zn.isProcessing||MR.useManualTiming?zn.timestamp:performance.now()),Ep),set:t=>{Ep=t,queueMicrotask(VP)}};function Hv(t,e){t.indexOf(e)===-1&&t.push(e)}function $m(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Wv{constructor(){this.subscriptions=[]}add(e){return Hv(this.subscriptions,e),()=>$m(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Yk(t,e){return e?t*(1e3/e):0}const B2=30,OP=t=>!isNaN(parseFloat(t)),Fd={current:void 0};class UP{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=yi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=yi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Wv);const r=this.events[e].add(s);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Fd.current&&Fd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=yi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B2)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,B2);return Yk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pc(t,e){return new UP(t,e)}function zP(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,pc(s))}function GP(t,e){const s=Fm(t,e);let{transitionEnd:r={},transition:i={},...o}=s||{};o={...o,...r};for(const c in o){const d=sP(o[c]);zP(t,c,d)}}function HP(t){return!!(Dn(t)&&t.add)}function s0(t,e){const s=t.getValue("willChange");if(HP(s))return s.add(e)}function Jk(t){return t.props[Tk]}const Zk=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,WP=1e-7,qP=12;function KP(t,e,s,r,i){let o,c,d=0;do c=e+(s-e)/2,o=Zk(c,r,i)-t,o>0?s=c:e=c;while(Math.abs(o)>WP&&++d<qP);return c}function Tu(t,e,s,r){if(t===e&&s===r)return Zs;const i=o=>KP(o,0,1,t,s);return o=>o===0||o===1?o:Zk(i(o),e,r)}const eN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tN=t=>e=>1-t(1-e),nN=Tu(.33,1.53,.69,.99),qv=tN(nN),sN=eN(qv),rN=t=>(t*=2)<1?.5*qv(t):.5*(2-Math.pow(2,-10*(t-1))),Kv=t=>1-Math.sin(Math.acos(t)),iN=tN(Kv),aN=eN(Kv),oN=t=>/^0[^.\s]+$/u.test(t);function QP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oN(t):!0}const Bd=t=>Math.round(t*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XP(t){return t==null}const YP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xv=(t,e)=>s=>!!(typeof s=="string"&&YP.test(s)&&s.startsWith(t)||e&&!XP(s)&&Object.prototype.hasOwnProperty.call(s,e)),lN=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,o,c,d]=r.match(Qv);return{[t]:parseFloat(i),[e]:parseFloat(o),[s]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},JP=t=>na(0,255,t),Og={...jc,transform:t=>Math.round(JP(t))},Lo={test:Xv("rgb","red"),parse:lN("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(s)+", "+Bd(ru.transform(r))+")"};function ZP(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const r0={test:Xv("#"),parse:ZP,transform:Lo.transform},ql={test:Xv("hsl","hue"),parse:lN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+vi.transform(Bd(e))+", "+vi.transform(Bd(s))+", "+Bd(ru.transform(r))+")"},ss={test:t=>Lo.test(t)||r0.test(t)||ql.test(t),parse:t=>Lo.test(t)?Lo.parse(t):ql.test(t)?ql.parse(t):r0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lo.transform(t):ql.transform(t)},eL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tL(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Qv))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(eL))===null||s===void 0?void 0:s.length)||0)>0}const cN="number",dN="color",nL="var",sL="var(",$2="${}",rL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iu(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(rL,h=>(ss.test(h)?(r.color.push(o),i.push(dN),s.push(ss.parse(h))):h.startsWith(sL)?(r.var.push(o),i.push(nL),s.push(h)):(r.number.push(o),i.push(cN),s.push(parseFloat(h))),++o,$2)).split($2);return{values:s,split:d,indexes:r,types:i}}function uN(t){return iu(t).values}function hN(t){const{split:e,types:s}=iu(t),r=e.length;return i=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],i[c]!==void 0){const d=s[c];d===cN?o+=Bd(i[c]):d===dN?o+=ss.transform(i[c]):o+=i[c]}return o}}const iL=t=>typeof t=="number"?0:t;function aL(t){const e=uN(t);return hN(t)(e.map(iL))}const Oa={test:tL,parse:uN,createTransformer:hN,getAnimatableNone:aL},oL=new Set(["brightness","contrast","saturate","opacity"]);function lL(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(Qv)||[];if(!r)return t;const i=s.replace(r,"");let o=oL.has(e)?1:0;return r!==s&&(o*=100),e+"("+o+i+")"}const cL=/\b([a-z-]*)\(.*?\)/gu,i0={...Oa,getAnimatableNone:t=>{const e=t.match(cL);return e?e.map(lL).join(" "):t}},dL={...Dv,color:ss,backgroundColor:ss,outlineColor:ss,fill:ss,stroke:ss,borderColor:ss,borderTopColor:ss,borderRightColor:ss,borderBottomColor:ss,borderLeftColor:ss,filter:i0,WebkitFilter:i0},Yv=t=>dL[t];function pN(t,e){let s=Yv(t);return s!==i0&&(s=Oa),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const uL=new Set(["auto","none","0"]);function hL(t,e,s){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!uL.has(o)&&iu(o).values.length&&(i=t[r]),r++}if(i&&s)for(const o of e)t[o]=pN(s,i)}const V2=t=>t===jc||t===qe,O2=(t,e)=>parseFloat(t.split(", ")[e]),U2=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return O2(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?O2(o[1],t):0}},pL=new Set(["x","y","z"]),mL=wc.filter(t=>!pL.has(t));function fL(t){const e=[];return mL.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const mc={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:U2(4,13),y:U2(5,14)};mc.translateX=mc.x;mc.translateY=mc.y;const Mo=new Set;let a0=!1,o0=!1;function mN(){if(o0){const t=Array.from(Mo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=fL(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([o,c])=>{var d;(d=r.getValue(o))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}o0=!1,a0=!1,Mo.forEach(t=>t.complete()),Mo.clear()}function fN(){Mo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(o0=!0)})}function gL(){fN(),mN()}class Jv{constructor(e,s,r,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mo.add(this),a0||(a0=!0,Bt.read(fN),Bt.resolveKeyframes(mN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&s){const h=r.readValue(s,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Mo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),xL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vL(t){const e=xL.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s!=null?s:r}`,i]}function xN(t,e,s=1){const[r,i]=vL(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return gN(c)?parseFloat(c):c}return Lv(i)?xN(i,e,s+1):i}const vN=t=>e=>e.test(t),yL={test:t=>t==="auto",parse:t=>t},yN=[jc,qe,vi,Ra,cP,lP,yL],z2=t=>yN.find(vN(t));class bN extends Jv{constructor(e,s,r,i,o){super(e,s,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Lv(p))){const m=xN(p,s.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Xk.has(r)||e.length!==2)return;const[i,o]=e,c=z2(i),d=z2(o);if(c!==d)if(V2(c)&&V2(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)QP(e[i])&&r.push(i);r.length&&hL(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const o=s.getValue(r);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=mc[r](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{s.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const G2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oa.test(t)||t==="0")&&!t.startsWith("url("));function bL(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function _L(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=G2(i,e),d=G2(o,e);return!c||!d?!1:bL(t)||(s==="spring"||Bm(s))&&r}const wL=t=>t!==null;function Vm(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(wL),o=e&&s!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const jL=40;class _N{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yi.now(),this.options={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:o,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gL(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=yi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:c,onComplete:d,onUpdate:h,isGenerator:p}=this.options;if(!p&&!_L(e,r,i,o))if(c)this.options.duration=0;else{h&&h(Vm(e,this.options,s)),d&&d(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,s);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...m},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Kt=(t,e,s)=>t+(e-t)*s;function Ug(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function SL({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,o=0,c=0;if(!e)i=o=c=s;else{const d=s<.5?s*(1+e):s+e-s*e,h=2*s-d;i=Ug(h,d,t+1/3),o=Ug(h,d,t),c=Ug(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function Jp(t,e){return s=>s>0?e:t}const zg=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kL=[r0,Lo,ql],NL=t=>kL.find(e=>e.test(t));function H2(t){const e=NL(t);if(!e)return!1;let s=e.parse(t);return e===ql&&(s=SL(s)),s}const W2=(t,e)=>{const s=H2(t),r=H2(e);if(!s||!r)return Jp(t,e);const i={...s};return o=>(i.red=zg(s.red,r.red,o),i.green=zg(s.green,r.green,o),i.blue=zg(s.blue,r.blue,o),i.alpha=Kt(s.alpha,r.alpha,o),Lo.transform(i))},TL=(t,e)=>s=>e(t(s)),Cu=(...t)=>t.reduce(TL),l0=new Set(["none","hidden"]);function CL(t,e){return l0.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function EL(t,e){return s=>Kt(t,e,s)}function Zv(t){return typeof t=="number"?EL:typeof t=="string"?Lv(t)?Jp:ss.test(t)?W2:RL:Array.isArray(t)?wN:typeof t=="object"?ss.test(t)?W2:AL:Jp}function wN(t,e){const s=[...t],r=s.length,i=t.map((o,c)=>Zv(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)s[c]=i[c](o);return s}}function AL(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Zv(t[i])(t[i],e[i]));return i=>{for(const o in r)s[o]=r[o](i);return s}}function IL(t,e){var s;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][i[c]],h=(s=t.values[d])!==null&&s!==void 0?s:0;r[o]=h,i[c]++}return r}const RL=(t,e)=>{const s=Oa.createTransformer(e),r=iu(t),i=iu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?l0.has(t)&&!i.values.length||l0.has(e)&&!r.values.length?CL(t,e):Cu(wN(IL(r,i),i.values),s):Jp(t,e)};function jN(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Kt(t,e,s):Zv(t)(t,e)}const PL=5;function SN(t,e,s){const r=Math.max(e-PL,0);return Yk(s-t(r),e-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gg=.001;function LL({duration:t=on.duration,bounce:e=on.bounce,velocity:s=on.velocity,mass:r=on.mass}){let i,o,c=1-e;c=na(on.minDamping,on.maxDamping,c),t=na(on.minDuration,on.maxDuration,xi(t)),c<1?(i=p=>{const m=p*c,x=m*t,v=m-s,w=c0(p,c),N=Math.exp(-x);return Gg-v/w*N},o=p=>{const x=p*c*t,v=x*s+s,w=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-x),P=c0(Math.pow(p,2),c);return(-i(p)+Gg>0?-1:1)*((v-w)*N)/P}):(i=p=>{const m=Math.exp(-p*t),x=(p-s)*t+1;return-Gg+m*x},o=p=>{const m=Math.exp(-p*t),x=(s-p)*(t*t);return m*x});const d=5/t,h=ML(i,o,d);if(t=gi(t),isNaN(h))return{stiffness:on.stiffness,damping:on.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const DL=12;function ML(t,e,s){let r=s;for(let i=1;i<DL;i++)r=r-t(r)/e(r);return r}function c0(t,e){return t*Math.sqrt(1-e*e)}const FL=["duration","bounce"],BL=["stiffness","damping","mass"];function q2(t,e){return e.some(s=>t[s]!==void 0)}function $L(t){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...t};if(!q2(t,BL)&&q2(t,FL))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,o=2*na(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:on.mass,stiffness:i,damping:o}}else{const s=LL(t);e={...e,...s,mass:on.mass},e.isResolvedFromDuration=!0}return e}function ey(t=on.visualDuration,e=on.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const o=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:p,mass:m,duration:x,velocity:v,isResolvedFromDuration:w}=$L({...s,velocity:-xi(s.velocity||0)}),N=v||0,P=p/(2*Math.sqrt(h*m)),R=c-o,O=xi(Math.sqrt(h/m)),B=Math.abs(R)<5;r||(r=B?on.restSpeed.granular:on.restSpeed.default),i||(i=B?on.restDelta.granular:on.restDelta.default);let E;if(P<1){const j=c0(O,P);E=M=>{const T=Math.exp(-P*O*M);return c-T*((N+P*O*R)/j*Math.sin(j*M)+R*Math.cos(j*M))}}else if(P===1)E=j=>c-Math.exp(-O*j)*(R+(N+O*R)*j);else{const j=O*Math.sqrt(P*P-1);E=M=>{const T=Math.exp(-P*O*M),_=Math.min(j*M,300);return c-T*((N+P*O*R)*Math.sinh(_)+j*R*Math.cosh(_))/j}}const y={calculatedDuration:w&&x||null,next:j=>{const M=E(j);if(w)d.done=j>=x;else{let T=0;P<1&&(T=j===0?gi(N):SN(E,j,M));const _=Math.abs(T)<=r,C=Math.abs(c-M)<=i;d.done=_&&C}return d.value=d.done?c:M,d},toString:()=>{const j=Math.min(Uv(y),Xp),M=zk(T=>y.next(j*T).value,j,30);return j+"ms "+M}};return y}function K2({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:m}){const x=t[0],v={done:!1,value:x},w=_=>d!==void 0&&_<d||h!==void 0&&_>h,N=_=>d===void 0?h:h===void 0||Math.abs(d-_)<Math.abs(h-_)?d:h;let P=s*e;const R=x+P,O=c===void 0?R:c(R);O!==R&&(P=O-x);const B=_=>-P*Math.exp(-_/r),E=_=>O+B(_),y=_=>{const C=B(_),L=E(_);v.done=Math.abs(C)<=p,v.value=v.done?O:L};let j,M;const T=_=>{w(v.value)&&(j=_,M=ey({keyframes:[v.value,N(v.value)],velocity:SN(E,_,v.value),damping:i,stiffness:o,restDelta:p,restSpeed:m}))};return T(0),{calculatedDuration:null,next:_=>{let C=!1;return!M&&j===void 0&&(C=!0,y(_),T(_)),j!==void 0&&_>=j?M.next(_-j):(!C&&y(_),v)}}}const VL=Tu(.42,0,1,1),OL=Tu(0,0,.58,1),kN=Tu(.42,0,.58,1),NN=t=>Array.isArray(t)&&typeof t[0]!="number",UL={linear:Zs,easeIn:VL,easeInOut:kN,easeOut:OL,circIn:Kv,circInOut:aN,circOut:iN,backIn:qv,backInOut:sN,backOut:nN,anticipate:rN},Q2=t=>{if(zv(t)){wk(t.length===4);const[e,s,r,i]=t;return Tu(e,s,r,i)}else if(typeof t=="string")return UL[t];return t};function zL(t,e,s){const r=[],i=s||jN,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Zs:e;d=Cu(h,d)}r.push(d)}return r}function TN(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const o=t.length;if(wk(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=zL(e,r,i),h=d.length,p=m=>{if(c&&m<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(m<t[x+1]);x++);const v=Uo(t[x],t[x+1],m);return d[x](v)};return s?m=>p(na(t[0],t[o-1],m)):p}function CN(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=Uo(0,e,r);t.push(Kt(s,1,i))}}function EN(t){const e=[0];return CN(e,t.length-1),e}function GL(t,e){return t.map(s=>s*e)}function HL(t,e){return t.map(()=>e||kN).splice(0,t.length-1)}function Zp({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=NN(r)?r.map(Q2):Q2(r),o={done:!1,value:e[0]},c=GL(s&&s.length===e.length?s:EN(e),t),d=TN(c,e,{ease:Array.isArray(i)?i:HL(e,i)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}const WL=t=>{const e=({timestamp:s})=>t(s);return{start:()=>Bt.update(e,!0),stop:()=>ta(e),now:()=>zn.isProcessing?zn.timestamp:yi.now()}},qL={decay:K2,inertia:K2,tween:Zp,keyframes:Zp,spring:ey},KL=t=>t/100;class ty extends _N{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:s,motionValue:r,element:i,keyframes:o}=this.options,c=(i==null?void 0:i.KeyframeResolver)||Jv,d=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new c(o,d,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=this.options,d=Bm(s)?s:qL[s]||Zp;let h,p;d!==Zp&&typeof e[0]!="number"&&(h=Cu(KL,jN(e[0],e[1])),e=[0,100]);const m=d({...this.options,keyframes:e});o==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Uv(m));const{calculatedDuration:x}=m,v=x+i,w=v*(r+1)-i;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:v,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:p,totalDuration:m,resolvedDuration:x}=r;if(this.startTime===null)return o.next(0);const{delay:v,repeat:w,repeatType:N,repeatDelay:P,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-v*(this.speed>=0?1:-1),B=this.speed>=0?O<0:O>m;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let E=this.currentTime,y=o;if(w){const _=Math.min(this.currentTime,m)/x;let C=Math.floor(_),L=_%1;!L&&_>=1&&(L=1),L===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(N==="reverse"?(L=1-L,P&&(L-=P/x)):N==="mirror"&&(y=c)),E=na(0,1,L)*x}const j=B?{done:!1,value:h[0]}:y.next(E);d&&(j.value=d(j.value));let{done:M}=j;!B&&p!==null&&(M=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return T&&i!==void 0&&(j.value=Vm(h,this.options,i)),R&&R(j.value),T&&this.finish(),j}get duration(){const{resolved:e}=this;return e?xi(e.calculatedDuration):0}get time(){return xi(this.currentTime)}set time(e){e=gi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=xi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WL,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QL=new Set(["opacity","clipPath","filter","transform"]);function XL(t,e,s,{delay:r=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const p={[e]:s};h&&(p.offset=h);const m=Hk(d,i);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}const YL=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),em=10,JL=2e4;function ZL(t){return Bm(t.type)||t.type==="spring"||!Gk(t.ease)}function e9(t,e){const s=new ty({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<JL;)r=s.sample(o),i.push(r.value),o+=em;return{times:void 0,keyframes:i,duration:o-em,ease:"linear"}}const AN={anticipate:rN,backInOut:sN,circInOut:aN};function t9(t){return t in AN}class X2 extends _N{constructor(e){super(e);const{name:s,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new bN(o,(c,d)=>this.onKeyframesResolved(c,d),s,r,i),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:r=300,times:i,ease:o,type:c,motionValue:d,name:h,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof o=="string"&&Yp()&&t9(o)&&(o=AN[o]),ZL(this.options)){const{onComplete:x,onUpdate:v,motionValue:w,element:N,...P}=this.options,R=e9(e,P);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,i=R.times,o=R.ease,c="keyframes"}const m=XL(d.owner.current,h,e,{...this.options,duration:r,times:i,ease:o});return m.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(L2(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:x}=this.options;d.set(Vm(e,this.options,s)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:c,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return xi(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return xi(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=gi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return Zs;const{animation:r}=s;L2(r,e)}return Zs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:i,type:o,ease:c,times:d}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:x,element:v,...w}=this.options,N=new ty({...w,keyframes:r,duration:i,type:o,ease:c,times:d,isGenerator:!0}),P=gi(this.time);p.setWithVelocity(N.sample(P-em).value,N.sample(P).value,em)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:i,repeatType:o,damping:c,type:d}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=s.owner.getProps();return YL()&&r&&QL.has(r)&&!h&&!p&&!i&&o!=="mirror"&&c!==0&&d!=="inertia"}}const n9={type:"spring",stiffness:500,damping:25,restSpeed:10},s9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),r9={type:"keyframes",duration:.8},i9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a9=(t,{keyframes:e})=>e.length>2?r9:qo.has(t)?t.startsWith("scale")?s9(e[1]):n9:i9;function o9({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const ny=(t,e,s,r={},i,o)=>c=>{const d=Ov(r,t)||{},h=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-gi(h);let m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};o9(d)||(m={...m,...a9(t,m)}),m.duration&&(m.duration=gi(m.duration)),m.repeatDelay&&(m.repeatDelay=gi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let x=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(x=!0)),x&&!o&&e.get()!==void 0){const v=Vm(m.keyframes,d);if(v!==void 0)return Bt.update(()=>{m.onUpdate(v),m.onComplete()}),new Uk([])}return!o&&X2.supports(m)?new X2(m):new ty(m)};function l9({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function sy(t,e,{delay:s=0,transitionOverride:r,type:i}={}){var o;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const p=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const x in h){const v=t.getValue(x,(o=t.latestValues[x])!==null&&o!==void 0?o:null),w=h[x];if(w===void 0||m&&l9(m,x))continue;const N={delay:s,...Ov(c||{},x)};let P=!1;if(window.MotionHandoffAnimation){const O=Jk(t);if(O){const B=window.MotionHandoffAnimation(O,x,Bt);B!==null&&(N.startTime=B,P=!0)}}s0(t,x),v.start(ny(x,v,w,t.shouldReduceMotion&&Xk.has(x)?{type:!1}:N,t,P));const R=v.animation;R&&p.push(R)}return d&&Promise.all(p).then(()=>{Bt.update(()=>{d&&GP(t,d)})}),p}function d0(t,e,s={}){var r;const i=Fm(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const c=i?()=>Promise.all(sy(t,i,s)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:x,staggerDirection:v}=o;return c9(t,e,m+p,x,v,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,m]=h==="beforeChildren"?[c,d]:[d,c];return p().then(()=>m())}else return Promise.all([c(),d(s.delay)])}function c9(t,e,s=0,r=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(d9).forEach((p,m)=>{p.notify("AnimationStart",e),c.push(d0(p,e,{...o,delay:s+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function d9(t,e){return t.sortNodePosition(e)}function u9(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>d0(t,o,s));r=Promise.all(i)}else if(typeof e=="string")r=d0(t,e,s);else{const i=typeof e=="function"?Fm(t,e,s.custom):e;r=Promise.all(sy(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const h9=Ev.length;function IN(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?IN(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<h9;s++){const r=Ev[s],i=t.props[r];(su(i)||i===!1)&&(e[r]=i)}return e}const p9=[...Cv].reverse(),m9=Cv.length;function f9(t){return e=>Promise.all(e.map(({animation:s,options:r})=>u9(t,s,r)))}function g9(t){let e=f9(t),s=Y2(),r=!0;const i=h=>(p,m)=>{var x;const v=Fm(t,m,h==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:N,...P}=v;p={...p,...P,...N}}return p};function o(h){e=h(t)}function c(h){const{props:p}=t,m=IN(t.parent)||{},x=[],v=new Set;let w={},N=1/0;for(let R=0;R<m9;R++){const O=p9[R],B=s[O],E=p[O]!==void 0?p[O]:m[O],y=su(E),j=O===h?B.isActive:null;j===!1&&(N=R);let M=E===m[O]&&E!==p[O]&&y;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),B.protectedKeys={...w},!B.isActive&&j===null||!E&&!B.prevProp||Dm(E)||typeof E=="boolean")continue;const T=x9(B.prevProp,E);let _=T||O===h&&B.isActive&&!M&&y||R>N&&y,C=!1;const L=Array.isArray(E)?E:[E];let A=L.reduce(i(O),{});j===!1&&(A={});const{prevResolvedValues:V={}}=B,F={...V,...A},K=H=>{_=!0,v.has(H)&&(C=!0,v.delete(H)),B.needsAnimating[H]=!0;const W=t.getValue(H);W&&(W.liveStyle=!1)};for(const H in F){const W=A[H],ne=V[H];if(w.hasOwnProperty(H))continue;let re=!1;t0(W)&&t0(ne)?re=!Ok(W,ne):re=W!==ne,re?W!=null?K(H):v.add(H):W!==void 0&&v.has(H)?K(H):B.protectedKeys[H]=!0}B.prevProp=E,B.prevResolvedValues=A,B.isActive&&(w={...w,...A}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(M&&T)||C)&&x.push(...L.map(H=>({animation:H,options:{type:O}})))}if(v.size){const R={};v.forEach(O=>{const B=t.getBaseTarget(O),E=t.getValue(O);E&&(E.liveStyle=!0),R[O]=B!=null?B:null}),x.push({animation:R})}let P=!!x.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(x):Promise.resolve()}function d(h,p){var m;if(s[h].isActive===p)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(v=>{var w;return(w=v.animationState)===null||w===void 0?void 0:w.setActive(h,p)}),s[h].isActive=p;const x=c(h);for(const v in s)s[v].protectedKeys={};return x}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Y2(),r=!0}}}function x9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ok(e,t):!1}function yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y2(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class Wa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class v9 extends Wa{constructor(e){super(e),e.animationState||(e.animationState=g9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let y9=0;class b9 extends Wa{constructor(){super(...arguments),this.id=y9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _9={animation:{Feature:v9},exit:{Feature:b9}};function au(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Eu(t){return{point:{x:t.pageX,y:t.pageY}}}const w9=t=>e=>Gv(e)&&t(e,Eu(e));function $d(t,e,s,r){return au(t,e,w9(s),r)}const J2=(t,e)=>Math.abs(t-e);function j9(t,e){const s=J2(t.x,e.x),r=J2(t.y,e.y);return Math.sqrt(s**2+r**2)}class RN{constructor(e,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Wg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=j9(x.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:N}=x,{timestamp:P}=zn;this.history.push({...N,timestamp:P});const{onStart:R,onMove:O}=this.handlers;v||(R&&R(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Hg(v,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:N,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Wg(x.type==="pointercancel"?this.lastMoveEventInfo:Hg(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,R),N&&N(x,R)},!Gv(e))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const c=Eu(e),d=Hg(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=zn;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=s;m&&m(e,Wg(d,this.history)),this.removeListeners=Cu($d(this.contextWindow,"pointermove",this.handlePointerMove),$d(this.contextWindow,"pointerup",this.handlePointerUp),$d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function Hg(t,e){return e?{point:e(t.point)}:t}function Z2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:Z2(t,PN(e)),offset:Z2(t,S9(e)),velocity:k9(e,.1)}}function S9(t){return t[0]}function PN(t){return t[t.length-1]}function k9(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=PN(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>gi(e)));)s--;if(!r)return{x:0,y:0};const o=xi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const LN=1e-4,N9=1-LN,T9=1+LN,DN=.01,C9=0-DN,E9=0+DN;function nr(t){return t.max-t.min}function A9(t,e,s){return Math.abs(t-e)<=s}function e_(t,e,s,r=.5){t.origin=r,t.originPoint=Kt(e.min,e.max,t.origin),t.scale=nr(s)/nr(e),t.translate=Kt(s.min,s.max,t.origin)-t.originPoint,(t.scale>=N9&&t.scale<=T9||isNaN(t.scale))&&(t.scale=1),(t.translate>=C9&&t.translate<=E9||isNaN(t.translate))&&(t.translate=0)}function Vd(t,e,s,r){e_(t.x,e.x,s.x,r?r.originX:void 0),e_(t.y,e.y,s.y,r?r.originY:void 0)}function t_(t,e,s){t.min=s.min+e.min,t.max=t.min+nr(e)}function I9(t,e,s){t_(t.x,e.x,s.x),t_(t.y,e.y,s.y)}function n_(t,e,s){t.min=e.min-s.min,t.max=t.min+nr(e)}function Od(t,e,s){n_(t.x,e.x,s.x),n_(t.y,e.y,s.y)}function R9(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?Kt(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?Kt(s,t,r.max):Math.min(t,s)),t}function s_(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function P9(t,{top:e,left:s,bottom:r,right:i}){return{x:s_(t.x,s,i),y:s_(t.y,e,r)}}function r_(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function L9(t,e){return{x:r_(t.x,e.x),y:r_(t.y,e.y)}}function D9(t,e){let s=.5;const r=nr(t),i=nr(e);return i>r?s=Uo(e.min,e.max-r,t.min):r>i&&(s=Uo(t.min,t.max-i,e.min)),na(0,1,s)}function M9(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const u0=.35;function F9(t=u0){return t===!1?t=0:t===!0&&(t=u0),{x:i_(t,"left","right"),y:i_(t,"top","bottom")}}function i_(t,e,s){return{min:a_(t,e),max:a_(t,s)}}function a_(t,e){return typeof t=="number"?t:t[e]||0}const o_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:o_(),y:o_()}),l_=()=>({min:0,max:0}),rn=()=>({x:l_(),y:l_()});function br(t){return[t("x"),t("y")]}function MN({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function B9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $9(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function qg(t){return t===void 0||t===1}function h0({scale:t,scaleX:e,scaleY:s}){return!qg(t)||!qg(e)||!qg(s)}function Eo(t){return h0(t)||FN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FN(t){return c_(t.x)||c_(t.y)}function c_(t){return t&&t!=="0%"}function tm(t,e,s){const r=t-s,i=e*r;return s+i}function d_(t,e,s,r,i){return i!==void 0&&(t=tm(t,i,r)),tm(t,s,r)+e}function p0(t,e=0,s=1,r,i){t.min=d_(t.min,e,s,r,i),t.max=d_(t.max,e,s,r,i)}function BN(t,{x:e,y:s}){p0(t.x,e.translate,e.scale,e.originPoint),p0(t.y,s.translate,s.scale,s.originPoint)}const u_=.999999999999,h_=1.0000000000001;function V9(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=s[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,BN(t,c)),r&&Eo(o.latestValues)&&Xl(t,o.latestValues))}e.x<h_&&e.x>u_&&(e.x=1),e.y<h_&&e.y>u_&&(e.y=1)}function Ql(t,e){t.min=t.min+e,t.max=t.max+e}function p_(t,e,s,r,i=.5){const o=Kt(t.min,t.max,i);p0(t,e,s,o,r)}function Xl(t,e){p_(t.x,e.x,e.scaleX,e.scale,e.originX),p_(t.y,e.y,e.scaleY,e.scale,e.originY)}function $N(t,e){return MN($9(t.getBoundingClientRect(),e))}function O9(t,e,s){const r=$N(t,s),{scroll:i}=e;return i&&(Ql(r.x,i.offset.x),Ql(r.y,i.offset.y)),r}const VN=({current:t})=>t?t.ownerDocument.defaultView:null,U9=new WeakMap;class z9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Eu(m).point)},o=(m,x)=>{const{drag:v,dragPropagation:w,onDragStart:N}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$P(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(R=>{let O=this.getAxisMotionValue(R).get()||0;if(vi.test(O)){const{projection:B}=this.visualElement;if(B&&B.layout){const E=B.layout.layoutBox[R];E&&(O=nr(E)*(parseFloat(O)/100))}}this.originPoint[R]=O}),N&&Bt.postRender(()=>N(m,x)),s0(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(m,x)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:N,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:R}=x;if(w&&this.currentDirection===null){this.currentDirection=G9(R),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",x.point,R),this.updateAxis("y",x.point,R),this.visualElement.render(),P&&P(m,x)},d=(m,x)=>this.stop(m,x),h=()=>br(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new RN(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:VN(this.visualElement)})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Bt.postRender(()=>o(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!np(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=R9(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;s&&Wl(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=P9(i.layoutBox,s):this.constraints=!1,this.elastic=F9(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&br(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=M9(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Wl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=O9(r,i.root,this.visualElement.getTransformPagePoint());let c=L9(i.layout.layoutBox,o);if(s){const d=s(B9(c));this.hasMutatedConstraints=!!d,d&&(c=MN(d))}return c}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=br(m=>{if(!np(m,s,this.currentDirection))return;let x=h&&h[m]||{};c&&(x={min:0,max:0});const v=i?200:1e6,w=i?40:1e7,N={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(m,N)});return Promise.all(p).then(d)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return s0(this.visualElement,e),r.start(ny(e,r,0,s,this.visualElement,!1))}stopAnimation(){br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){br(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){br(s=>{const{drag:r}=this.getProps();if(!np(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[s];o.set(e[s]-Kt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Wl(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};br(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=D9({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),br(c=>{if(!np(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(Kt(h,p,i[c]))})}addListeners(){if(!this.visualElement.current)return;U9.set(this.visualElement,this);const e=this.visualElement.current,s=$d(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Wl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Bt.read(r);const c=au(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(br(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=h[m].translate,x.set(x.get()+h[m].translate))}),this.visualElement.render())}));return()=>{c(),s(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=u0,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function np(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function G9(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class H9 extends Wa{constructor(e){super(e),this.removeGroupControls=Zs,this.removeListeners=Zs,this.controls=new z9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zs}unmount(){this.removeGroupControls(),this.removeListeners()}}const m_=t=>(e,s)=>{t&&Bt.postRender(()=>t(e,s))};class W9 extends Wa{constructor(){super(...arguments),this.removePointerDownListener=Zs}onPointerDown(e){this.session=new RN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:m_(e),onStart:m_(s),onMove:r,onEnd:(o,c)=>{delete this.session,i&&Bt.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=$d(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ap={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const md={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(qe.test(t))t=parseFloat(t);else return t;const s=f_(t,e.target.x),r=f_(t,e.target.y);return`${s}% ${r}%`}},q9={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=Oa.parse(t);if(i.length>5)return r;const o=Oa.createTransformer(t),c=typeof i[0]!="number"?1:0,d=s.x.scale*e.x,h=s.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const p=Kt(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=p),typeof i[3+c]=="number"&&(i[3+c]/=p),o(i)}};class K9 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;yP(Q9),o&&(s.group&&s.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ap.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:o}=this.props,c=r.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==s||s===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Bt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ON(t){const[e,s]=DR(),r=D.useContext(bk);return n.jsx(K9,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(Ck),isPresent:e,safeToRemove:s})}const Q9={borderRadius:{...md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:md,borderTopRightRadius:md,borderBottomLeftRadius:md,borderBottomRightRadius:md,boxShadow:q9};function UN(t,e,s){const r=Dn(t)?t:pc(t);return r.start(ny("",r,e,s)),r.animation}function zN(t){return t instanceof SVGElement&&t.tagName!=="svg"}const X9=(t,e)=>t.depth-e.depth;class Y9{constructor(){this.children=[],this.isDirty=!1}add(e){Hv(this.children,e),this.isDirty=!0}remove(e){$m(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(X9),this.isDirty=!1,this.children.forEach(e)}}function J9(t,e){const s=yi.now(),r=({timestamp:i})=>{const o=i-s;o>=e&&(ta(r),t(o-e))};return Bt.read(r,!0),()=>ta(r)}const GN=["TopLeft","TopRight","BottomLeft","BottomRight"],Z9=GN.length,g_=t=>typeof t=="string"?parseFloat(t):t,x_=t=>typeof t=="number"||qe.test(t);function eD(t,e,s,r,i,o){i?(t.opacity=Kt(0,s.opacity!==void 0?s.opacity:1,tD(r)),t.opacityExit=Kt(e.opacity!==void 0?e.opacity:1,0,nD(r))):o&&(t.opacity=Kt(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let c=0;c<Z9;c++){const d=`border${GN[c]}Radius`;let h=v_(e,d),p=v_(s,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||x_(h)===x_(p)?(t[d]=Math.max(Kt(g_(h),g_(p),r),0),(vi.test(p)||vi.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||s.rotate)&&(t.rotate=Kt(e.rotate||0,s.rotate||0,r))}function v_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tD=HN(0,.5,iN),nD=HN(.5,.95,Zs);function HN(t,e,s){return r=>r<t?0:r>e?1:s(Uo(t,e,r))}function y_(t,e){t.min=e.min,t.max=e.max}function vr(t,e){y_(t.x,e.x),y_(t.y,e.y)}function b_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function __(t,e,s,r,i){return t-=e,t=tm(t,1/s,r),i!==void 0&&(t=tm(t,1/i,r)),t}function sD(t,e=0,s=1,r=.5,i,o=t,c=t){if(vi.test(e)&&(e=parseFloat(e),e=Kt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Kt(o.min,o.max,r);t===o&&(d-=e),t.min=__(t.min,e,s,d,i),t.max=__(t.max,e,s,d,i)}function w_(t,e,[s,r,i],o,c){sD(t,e[s],e[r],e[i],e.scale,o,c)}const rD=["x","scaleX","originX"],iD=["y","scaleY","originY"];function j_(t,e,s,r){w_(t.x,e,rD,s?s.x:void 0,r?r.x:void 0),w_(t.y,e,iD,s?s.y:void 0,r?r.y:void 0)}function S_(t){return t.translate===0&&t.scale===1}function WN(t){return S_(t.x)&&S_(t.y)}function k_(t,e){return t.min===e.min&&t.max===e.max}function aD(t,e){return k_(t.x,e.x)&&k_(t.y,e.y)}function N_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qN(t,e){return N_(t.x,e.x)&&N_(t.y,e.y)}function T_(t){return nr(t.x)/nr(t.y)}function C_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class oD{constructor(){this.members=[]}add(e){Hv(this.members,e),e.scheduleRender()}remove(e){if($m(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lD(t,e,s){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(s==null?void 0:s.z)||0;if((i||o||c)&&(r=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:m,rotateX:x,rotateY:v,skewX:w,skewY:N}=s;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),w&&(r+=`skewX(${w}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Ao={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ad=typeof window!="undefined"&&window.MotionDebug!==void 0,Kg=["","X","Y","Z"],cD={visibility:"hidden"},E_=1e3;let dD=0;function Qg(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function KN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Jk(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Bt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KN(r)}function QN({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=dD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ad&&(Ao.totalNodes=Ao.resolvedTargetDeltas=Ao.recalculatedProjection=0),this.nodes.forEach(pD),this.nodes.forEach(vD),this.nodes.forEach(yD),this.nodes.forEach(mD),Ad&&window.MotionDebug.record(Ao)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y9)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Wv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zN(c),this.instance=c;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||h)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=J9(v,250),Ap.hasAnimatedSinceResize&&(Ap.hasAnimatedSinceResize=!1,this.nodes.forEach(I_))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:w,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||m.getDefaultTransition()||SD,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=m.getProps(),B=!this.targetLayout||!qN(this.targetLayout,N)||w,E=!v&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const y={...Ov(P,"layout"),onPlay:R,onComplete:O};(m.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||I_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A_);return}this.isUpdating||this.nodes.forEach(gD),this.isUpdating=!1,this.nodes.forEach(xD),this.nodes.forEach(uD),this.nodes.forEach(hD),this.clearAllSnapshots();const d=yi.now();zn.delta=na(0,1e3/60,d-zn.timestamp),zn.timestamp=d,zn.isProcessing=!0,$g.update.process(zn),$g.preRender.process(zn),$g.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fD),this.sharedNodes.forEach(_D)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!WN(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&(d||Eo(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),kD(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return rn();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(ND))){const{scroll:m}=this.root;m&&(Ql(h.x,m.offset.x),Ql(h.y,m.offset.y))}return h}removeElementScroll(c){var d;const h=rn();if(vr(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:x,options:v}=m;m!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&vr(h,c),Ql(h.x,x.offset.x),Ql(h.y,x.offset.y))}return h}applyTransform(c,d=!1){const h=rn();vr(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Xl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Eo(m.latestValues)&&Xl(h,m.latestValues)}return Eo(this.latestValues)&&Xl(h,this.latestValues),h}removeTransform(c){const d=rn();vr(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Eo(p.latestValues))continue;h0(p.latestValues)&&p.updateSnapshot();const m=rn(),x=p.measurePageBox();vr(m,x),j_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Eo(this.latestValues)&&j_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Od(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),BN(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Od(this.relativeTargetOrigin,this.target,w.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ad&&Ao.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||h0(this.parent.latestValues)||FN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(p=!1),p)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;vr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;V9(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=rn());const{target:N}=d;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b_(this.prevProjectionDelta.x,this.projectionDelta.x),b_(this.prevProjectionDelta.y,this.projectionDelta.y)),Vd(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!C_(this.projectionDelta.x,this.prevProjectionDelta.x)||!C_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),Ad&&Ao.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},x=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=rn(),w=h?h.source:void 0,N=this.layout?this.layout.source:void 0,P=w!==N,R=this.getStack(),O=!R||R.members.length<=1,B=!!(P&&!O&&this.options.crossfade===!0&&!this.path.some(jD));this.animationProgress=0;let E;this.mixTargetDelta=y=>{const j=y/1e3;R_(x.x,c.x,j),R_(x.y,c.y,j),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Od(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wD(this.relativeTarget,this.relativeTargetOrigin,v,j),E&&aD(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=rn()),vr(E,this.relativeTarget)),P&&(this.animationValues=m,eD(m,p,this.latestValues,j,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{Ap.hasAnimatedSinceResize=!0,this.currentAnimation=UN(0,E_,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:m}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&XN(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||rn();const x=nr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const v=nr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}vr(d,h),Xl(d,m),Vd(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new oD),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Qg("z",c,p,this.animationValues);for(let m=0;m<Kg.length;m++)Qg(`rotate${Kg[m]}`,c,p,this.animationValues),Qg(`skew${Kg[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cD;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Cp(c==null?void 0:c.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Cp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Eo(this.latestValues)&&(P.transform=m?m({},""):"none",this.hasProjected=!1),P}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=lD(this.projectionDeltaWithTransform,this.treeScale,v),m&&(p.transform=m(v,p.transform));const{x:w,y:N}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${N.origin*100}% 0`,x.animationValues?p.opacity=x===this?(h=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in Qp){if(v[P]===void 0)continue;const{correct:R,applyTo:O}=Qp[P],B=p.transform==="none"?v[P]:R(v[P],x);if(O){const E=O.length;for(let y=0;y<E;y++)p[O[y]]=B}else p[P]=B}return this.options.layoutId&&(p.pointerEvents=x===this?Cp(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(A_),this.root.sharedNodes.clear()}}}function uD(t){t.updateLayout()}function hD(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,c=s.source!==t.layout.source;o==="size"?br(x=>{const v=c?s.measuredBox[x]:s.layoutBox[x],w=nr(v);v.min=r[x].min,v.max=v.min+w}):XN(o,s.layoutBox,r)&&br(x=>{const v=c?s.measuredBox[x]:s.layoutBox[x],w=nr(r[x]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const d=Kl();Vd(d,r,s.layoutBox);const h=Kl();c?Vd(h,t.applyTransform(i,!0),s.measuredBox):Vd(h,r,s.layoutBox);const p=!WN(d);let m=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:w}=x;if(v&&w){const N=rn();Od(N,s.layoutBox,v.layoutBox);const P=rn();Od(P,r,w.layoutBox),qN(N,P)||(m=!0),x.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=N,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pD(t){Ad&&Ao.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fD(t){t.clearSnapshot()}function A_(t){t.clearMeasurements()}function gD(t){t.isLayoutDirty=!1}function xD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vD(t){t.resolveTargetDelta()}function yD(t){t.calcProjection()}function bD(t){t.resetSkewAndRotation()}function _D(t){t.removeLeadSnapshot()}function R_(t,e,s){t.translate=Kt(e.translate,0,s),t.scale=Kt(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function P_(t,e,s,r){t.min=Kt(e.min,s.min,r),t.max=Kt(e.max,s.max,r)}function wD(t,e,s,r){P_(t.x,e.x,s.x,r),P_(t.y,e.y,s.y,r)}function jD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const SD={duration:.45,ease:[.4,0,.1,1]},L_=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),D_=L_("applewebkit/")&&!L_("chrome/")?Math.round:Zs;function M_(t){t.min=D_(t.min),t.max=D_(t.max)}function kD(t){M_(t.x),M_(t.y)}function XN(t,e,s){return t==="position"||t==="preserve-aspect"&&!A9(T_(e),T_(s),.2)}function ND(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const TD=QN({attachResizeListener:(t,e)=>au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xg={current:void 0},YN=QN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xg.current){const t=new TD({});t.mount(window),t.setOptions({layoutScroll:!0}),Xg.current=t}return Xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CD={pan:{Feature:W9},drag:{Feature:H9,ProjectionNode:YN,MeasureLayout:ON}};function F_(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=r[i];o&&Bt.postRender(()=>o(e,Eu(e)))}class ED extends Wa{mount(){const{current:e}=this.node;e&&(this.unmount=LP(e,s=>(F_(this.node,s,"Start"),r=>F_(this.node,r,"End"))))}unmount(){}}class AD extends Wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(s){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B_(t,e,s){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=r[i];o&&Bt.postRender(()=>o(e,Eu(e)))}class ID extends Wa{mount(){const{current:e}=this.node;e&&(this.unmount=BP(e,s=>(B_(this.node,s,"Start"),(r,{success:i})=>B_(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const m0=new WeakMap,Yg=new WeakMap,RD=t=>{const e=m0.get(t.target);e&&e(t)},PD=t=>{t.forEach(RD)};function LD({root:t,...e}){const s=t||document;Yg.has(s)||Yg.set(s,{});const r=Yg.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(PD,{root:t,...e})),r[i]}function DD(t,e,s){const r=LD(e);return m0.set(t,s),r.observe(t),()=>{m0.delete(t),r.unobserve(t)}}const MD={some:0,all:1};class FD extends Wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:o}=e,c={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:MD[i]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),v=p?m:x;v&&v(h)};return DD(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(BD(e,s))&&this.startObserver()}unmount(){}}function BD({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const $D={inView:{Feature:FD},tap:{Feature:ID},focus:{Feature:AD},hover:{Feature:ED}},VD={layout:{ProjectionNode:YN,MeasureLayout:ON}},nm={current:null},ry={current:!1};function JN(){if(ry.current=!0,!!Nv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nm.current=t.matches;t.addListener(e),e()}else nm.current=!1}const OD=[...yN,ss,Oa],UD=t=>OD.find(vN(t)),fc=new WeakMap;function zD(t,e,s){for(const r in e){const i=e[r],o=s[r];if(Dn(i))t.addValue(r,i);else if(Dn(o))t.addValue(r,pc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,pc(c!==void 0?c:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const $_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZN{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=yi.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Bt.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:m}=c;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Mm(s),this.isVariantNode=Nk(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in v){const N=v[w];h[w]!==void 0&&Dn(N)&&N.set(h[w],!1)}}mount(e){this.current=e,fc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),ry.current||JN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fc.delete(this.current),this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=qo.has(e),i=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hc){const s=hc[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<$_.length;r++){const i=$_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=zD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=pc(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(gN(i)||oN(i))?i=parseFloat(i):!UD(i)&&Oa.test(s)&&(i=pN(e,s)),this.setBaseTarget(e,Dn(i)?i.get():i)),Dn(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=Pv(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Dn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Wv),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class e3 extends ZN{constructor(){super(...arguments),this.KeyframeResolver=bN}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function GD(t){return window.getComputedStyle(t)}class t3 extends e3{constructor(){super(...arguments),this.type="html",this.renderInstance=Dk}readValueFromInstance(e,s){if(qo.has(s)){const r=Yv(s);return r&&r.default||0}else{const r=GD(e),i=(Rk(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return $N(e,s)}build(e,s,r){Mv(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Vv(e,s,r)}}class n3 extends e3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(qo.has(s)){const r=Yv(s);return r&&r.default||0}return s=Mk.has(s)?s:Av(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return $k(e,s,r)}build(e,s,r){Fv(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,i){Fk(e,s,r,i)}mount(e){this.isSVGTag=$v(e.tagName),super.mount(e)}}const HD=(t,e)=>Rv(t)?new n3(e):new t3(e,{allowProjection:t!==D.Fragment}),WD=CP({..._9,...$D,...CD,...VD},HD),s3=zR(WD);function Id(t){const e=jv(()=>pc(t)),{isStatic:s}=D.useContext(kv);if(s){const[,r]=D.useState(t);D.useEffect(()=>e.on("change",r),[])}return e}function r3(t,e){const s=Id(e()),r=()=>s.set(e());return r(),_k(()=>{const i=()=>Bt.preRender(r,!1,!0),o=t.map(c=>c.on("change",i));return()=>{o.forEach(c=>c()),ta(r)}}),s}const qD=t=>t&&typeof t=="object"&&t.mix,KD=t=>qD(t)?t.mix:void 0;function QD(...t){const e=!Array.isArray(t[0]),s=e?0:-1,r=t[0+s],i=t[1+s],o=t[2+s],c=t[3+s],d=TN(i,o,{mixer:KD(o[0]),...c});return e?d(r):d}function XD(t){Fd.current=[],t();const e=r3(Fd.current,t);return Fd.current=void 0,e}function sp(t,e,s,r){if(typeof t=="function")return XD(t);const i=typeof e=="function"?e:QD(e,s,r);return Array.isArray(t)?V_(t,i):V_([t],([o])=>i(o))}function V_(t,e){const s=jv(()=>[]);return r3(t,()=>{s.length=0;const r=t.length;for(let i=0;i<r;i++)s[i]=t[i].get();return e(s)})}function i3(){!ry.current&&JN();const[t]=D.useState(nm.current);return t}const YD=(t,e,s)=>{const r=e-t;return((s-t)%r+r)%r+t};function a3(t,e){return NN(t)?t[YD(0,t.length,e)]:t}function iy(t){return typeof t=="object"&&!Array.isArray(t)}function o3(t,e,s,r){return typeof t=="string"&&iy(e)?qk(t,s,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function JD(t,e,s){return t*(e+1)}function O_(t,e,s,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?s:(i=r.get(e))!==null&&i!==void 0?i:t}function ZD(t,e,s){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<s&&($m(t,i),r--)}}function eM(t,e,s,r,i,o){ZD(t,i,o);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Kt(i,o,r[c]),easing:a3(s,c)})}function tM(t,e){for(let s=0;s<t.length;s++)t[s]=t[s]/(e+1)}function nM(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const sM="easeInOut";function rM(t,{defaultTransition:e={},...s}={},r,i){const o=e.duration||.3,c=new Map,d=new Map,h={},p=new Map;let m=0,x=0,v=0;for(let w=0;w<t.length;w++){const N=t[w];if(typeof N=="string"){p.set(N,x);continue}else if(!Array.isArray(N)){p.set(N.name,O_(x,N.at,m,p));continue}let[P,R,O={}]=N;O.at!==void 0&&(x=O_(x,O.at,m,p));let B=0;const E=(y,j,M,T=0,_=0)=>{const C=iM(y),{delay:L=0,times:A=EN(C),type:V="keyframes",repeat:F,repeatType:K,repeatDelay:z=0,...q}=j;let{ease:H=e.ease||"easeOut",duration:W}=j;const ne=typeof L=="function"?L(T,_):L,re=C.length,G=Bm(V)?V:i==null?void 0:i[V];if(re<=2&&G){let fe=100;if(re===2&&lM(C)){const Ee=C[1]-C[0];fe=Math.abs(Ee)}const Te={...q};W!==void 0&&(Te.duration=gi(W));const me=IP(Te,fe,G);H=me.ease,W=me.duration}W!=null||(W=o);const Z=x+ne;A.length===1&&A[0]===0&&(A[1]=1);const ue=A.length-C.length;if(ue>0&&CN(A,ue),C.length===1&&C.unshift(null),F){W=JD(W,F);const fe=[...C],Te=[...A];H=Array.isArray(H)?[...H]:[H];const me=[...H];for(let Ee=0;Ee<F;Ee++){C.push(...fe);for(let Ce=0;Ce<fe.length;Ce++)A.push(Te[Ce]+(Ee+1)),H.push(Ce===0?"linear":a3(me,Ce-1))}tM(A,F)}const ee=Z+W;eM(M,C,H,A,Z,ee),B=Math.max(ne+W,B),v=Math.max(ee,v)};if(Dn(P)){const y=U_(P,d);E(R,O,z_("default",y))}else{const y=o3(P,R,r,h),j=y.length;for(let M=0;M<j;M++){R=R,O=O;const T=y[M],_=U_(T,d);for(const C in R)E(R[C],aM(O,C),z_(C,_),M,j)}}m=x,x+=B}return d.forEach((w,N)=>{for(const P in w){const R=w[P];R.sort(nM);const O=[],B=[],E=[];for(let j=0;j<R.length;j++){const{at:M,value:T,easing:_}=R[j];O.push(T),B.push(Uo(0,v,M)),E.push(_||"easeOut")}B[0]!==0&&(B.unshift(0),O.unshift(O[0]),E.unshift(sM)),B[B.length-1]!==1&&(B.push(1),O.push(null)),c.has(N)||c.set(N,{keyframes:{},transition:{}});const y=c.get(N);y.keyframes[P]=O,y.transition[P]={...e,duration:v,ease:E,times:B,...s}}}),c}function U_(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function z_(t,e){return e[t]||(e[t]=[]),e[t]}function iM(t){return Array.isArray(t)?t:[t]}function aM(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const oM=t=>typeof t=="number",lM=t=>t.every(oM);function cM(t,e){return t in e}class dM extends ZN{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,s){if(cM(s,e)){const r=e[s];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,s){delete s.output[e]}measureInstanceViewportBox(){return rn()}build(e,s){Object.assign(e.output,s)}renderInstance(e,{output:s}){Object.assign(e,s)}sortInstanceNodePosition(){return 0}}function uM(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},s=zN(t)?new n3(e):new t3(e);s.mount(t),fc.set(t,s)}function hM(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},s=new dM(e);s.mount(t),fc.set(t,s)}function pM(t,e){return Dn(t)||typeof t=="number"||typeof t=="string"&&!iy(e)}function l3(t,e,s,r){const i=[];if(pM(t,e))i.push(UN(t,iy(e)&&e.default||e,s&&(s.default||s)));else{const o=o3(t,e,r),c=o.length;for(let d=0;d<c;d++){const h=o[d],p=h instanceof Element?uM:hM;fc.has(h)||p(h);const m=fc.get(h),x={...s};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),i.push(...sy(m,{...e,transition:x},{}))}}return i}function mM(t,e,s){const r=[];return rM(t,e,s,{spring:ey}).forEach(({keyframes:o,transition:c},d)=>{r.push(...l3(d,o,c))}),r}function fM(t){return Array.isArray(t)&&t.some(Array.isArray)}function gM(t){function e(s,r,i){let o=[];return fM(s)?o=mM(s,r,t):o=l3(s,r,i,t),new Uk(o)}return e}const rp=gM(),qi={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function xM(){return n.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+qi.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function vM(){return n.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[n.jsxs("defs",{children:[n.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[n.jsx("stop",{offset:"0%",stopColor:qi.icon,stopOpacity:"0.42"}),n.jsx("stop",{offset:"70%",stopColor:qi.icon,stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[n.jsx("stop",{offset:"0%",stopColor:qi.icon,stopOpacity:"0.20"}),n.jsx("stop",{offset:"70%",stopColor:qi.icon,stopOpacity:"0"})]})]}),n.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),n.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function G_({rounded:t="rounded-3xl",padded:e=!0,children:s}){const r=i3();return n.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:qi.border,background:"var(--nav, "+qi.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[n.jsx(xM,{}),n.jsx(s3.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),n.jsx(vM,{}),n.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:s})]})}const Jg={borderColor:"#2B4C73",background:"#1A2F4A"},ip={borderColor:"#2B4C73",background:"#152A42"};function St({hex:t,title:e,subtitle:s,actions:r,subheader:i,left:o,right:c,children:d,rounded:h="rounded-3xl",padded:p=!0,centerFramed:m=!1,leftWidth:x=0,rightWidth:v=0,stickyRails:w=!0,mode:N="card",outerPadding:P="px-4 py-3",leftPlacement:R="inside",stickyTopbar:O=!0,stickySubheader:B=!0,shellViewportOffset:E="var(--app-topbar-h,72px)",topbarHeight:y=56}){const j={"--left":typeof x=="number"?`${x}px`:x,"--right":typeof v=="number"?`${v}px`:v},M=n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Jg,children:t}),(e||s||r)&&n.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Jg,children:[n.jsxs("div",{className:"min-w-0",children:[e&&n.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),s&&n.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:s})]}),r?n.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&n.jsx("div",{className:[B?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...B?{top:O?`${y}px`:0}:{},...Jg},children:i})]}),T=N==="card"?({children:C})=>n.jsx(G_,{rounded:h,padded:p,children:C}):({children:C})=>n.jsx("div",{className:`w-full ${P}`,children:C}),_=n.jsx("div",{className:"relative min-h-0 h-full",style:j,children:n.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[o?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ip,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"}),m?n.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:ip,children:d}):n.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ip,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):v?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"})]})});return R==="bleed"&&N==="card"?n.jsx("div",{className:`w-full ${P}`,children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[M,n.jsx("div",{className:"flex-1 min-h-0",style:j,children:n.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[o?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ip,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:o}):x?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"}),n.jsx(G_,{rounded:h,padded:p,children:n.jsx("div",{className:"flex-1 min-h-0 h-full",children:_})})]})})]})}):n.jsx(T,{children:n.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${E})`},children:[M,n.jsx("div",{className:"flex-1 min-h-0",children:_})]})})}const yM="_row_1wiu6_2",bM="_colFull_1wiu6_9",_M="_colCommunity_1wiu6_16",wM="_colGuides_1wiu6_17",jM="_card_1wiu6_65",SM="_header_1wiu6_72",kM="_title_1wiu6_78",NM="_subtitle_1wiu6_79",TM="_empty_1wiu6_80",CM="_errorNote_1wiu6_81",EM="_linkBtn_1wiu6_82",AM="_primaryBtn_1wiu6_82",IM="_navBtn_1wiu6_82",RM="_closeBtn_1wiu6_82",PM="_actionsRight_1wiu6_90",LM="_tileGrid_1wiu6_93",DM="_tile_1wiu6_93",MM="_tileIcon_1wiu6_106",FM="_tileIconFallback_1wiu6_107",BM="_tileLabel_1wiu6_108",$M="_newsList_1wiu6_111",VM="_newsItem_1wiu6_112",OM="_newsMeta_1wiu6_113",UM="_newsAuthor_1wiu6_114",zM="_newsTime_1wiu6_115",GM="_newsText_1wiu6_116",HM="_newsImage_1wiu6_117",WM="_carouselCtrls_1wiu6_121",qM="_carousel_1wiu6_121",KM="_slide_1wiu6_125",QM="_slideActive_1wiu6_126",XM="_slideInactive_1wiu6_127",YM="_slideThumb_1wiu6_128",JM="_slideFallback_1wiu6_129",ZM="_slideCaption_1wiu6_130",e7="_liveCard_1wiu6_133",t7="_liveAvatar_1wiu6_134",n7="_liveAvatarFallback_1wiu6_135",s7="_liveInfo_1wiu6_136",r7="_liveName_1wiu6_137",i7="_liveMeta_1wiu6_138",a7="_liveBadge_1wiu6_139",o7="_liveViewers_1wiu6_140",l7="_modalOverlay_1wiu6_143",c7="_modal_1wiu6_143",d7="_modalHeader_1wiu6_145",u7="_modalTitle_1wiu6_146",h7="_modalFilters_1wiu6_148",p7="_formRow_1wiu6_149",m7="_formRowCheckbox_1wiu6_150",f7="_select_1wiu6_151",g7="_input_1wiu6_151",x7="_tableWrap_1wiu6_152",v7="_table_1wiu6_152",Ie={row:yM,colFull:bM,colCommunity:_M,colGuides:wM,card:jM,header:SM,title:kM,subtitle:NM,empty:TM,errorNote:CM,linkBtn:EM,primaryBtn:AM,navBtn:IM,closeBtn:RM,actionsRight:PM,tileGrid:LM,tile:DM,tileIcon:MM,tileIconFallback:FM,tileLabel:BM,newsList:$M,newsItem:VM,newsMeta:OM,newsAuthor:UM,newsTime:zM,newsText:GM,newsImage:HM,carouselCtrls:WM,carousel:qM,slide:KM,slideActive:QM,slideInactive:XM,slideThumb:YM,slideFallback:JM,slideCaption:ZM,liveCard:e7,liveAvatar:t7,liveAvatarFallback:n7,liveInfo:s7,liveName:r7,liveMeta:i7,liveBadge:a7,liveViewers:o7,modalOverlay:l7,modal:c7,modalHeader:d7,modalTitle:u7,modalFilters:h7,formRow:p7,formRowCheckbox:m7,select:f7,input:g7,tableWrap:x7,table:v7},y7=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function c3(){const t=[];for(const s of y7)try{const i=await(await fetch(s,{cache:"no-store"})).text(),o=b7(i);t.push(...o)}catch(r){}const e=new Map;for(const s of t){const r=String(s["Creator Name"]||s.creator_name||s.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,s)}return Array.from(e.values())}function H_(t){const e=[];let s="",r=!1;for(let i=0;i<t.length;i++){const o=t[i];o==='"'?r&&t[i+1]==='"'?(s+='"',i++):r=!r:o===","&&!r?(e.push(s),s=""):s+=o}return e.push(s),e}function b7(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const s=H_(e[0]);return e.slice(1).map(r=>{const i=H_(r),o={};return s.forEach((c,d)=>{var h;return o[c.trim()]=((h=i[d])!=null?h:"").trim()}),o})}function _7(t){try{const e=Date.now(),s=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-s),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const o=Math.floor(i/60);if(o<60)return`${o}m`;const c=Math.floor(o/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function w7(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const s=e.pathname.toLowerCase();if(s.startsWith("/shorts/"))return s.split("/")[2]||null}}catch(e){}return null}const j7=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],W_={},S7=()=>n.jsxs("section",{className:Ie.card,"data-i18n-scope":"home.tiles",children:[n.jsxs("header",{className:Ie.header,children:[n.jsx("span",{className:Ie.title,"data-i18n":"home.title",children:"Home"}),n.jsx("span",{className:Ie.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),n.jsx("div",{className:Ie.tileGrid,role:"list",children:j7.map(t=>n.jsxs(Et,{to:t.to,role:"listitem",className:Ie.tile,"aria-label":t.label,children:[W_[t.to]?n.jsx("img",{src:W_[t.to],alt:"",className:Ie.tileIcon}):n.jsx("div",{className:Ie.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),n.jsx("div",{className:Ie.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),k7=()=>{const[t,e]=D.useState(null),[s,r]=D.useState(null);D.useEffect(()=>{async function o(){{e([]);return}}return o(),()=>{}},[]);const i=!t||t.length===0;return n.jsxs("section",{className:Ie.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[n.jsx("header",{className:Ie.header,children:n.jsx("span",{className:Ie.title,"data-i18n":"home.news.title",children:"Community news"})}),n.jsxs("div",{className:Ie.newsList,children:[t==null?void 0:t.map(o=>{var c;return n.jsxs("article",{className:Ie.newsItem,children:[n.jsxs("div",{className:Ie.newsMeta,children:[n.jsx("span",{className:Ie.newsAuthor,children:o.author||"Discord"}),n.jsx("span",{className:Ie.newsTime,children:_7(o.timestamp)})]}),n.jsx("p",{className:Ie.newsText,children:o.text}),o.image&&n.jsx("img",{src:o.image,alt:"",className:Ie.newsImage}),o.url&&n.jsx("a",{href:o.url,target:"_blank",rel:"noreferrer",className:Ie.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=o.id)!=null?c:`${o.author}-${o.timestamp}`)}),i&&n.jsx("div",{className:Ie.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),s&&n.jsx("div",{className:Ie.errorNote,"aria-live":"polite",children:s})]})},N7=()=>{const[t,e]=D.useState([]),[s,r]=D.useState(0),i=D.useRef(null);D.useEffect(()=>{let h=!0;async function p(){try{const x=(await c3()).map(v=>{const w=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),N=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!N)return null;const P=w7(N),R=P?`https://i.ytimg.com/vi/${P}/hqdefault.jpg`:void 0;return{title:w,url:N,thumb:R}}).filter(Boolean).slice(0,12);h&&e(x)}catch(m){h&&e([])}}return p(),()=>{h=!1}},[]),D.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(h=>(h+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const o=()=>r(h=>(h-1+t.length)%Math.max(t.length,1)),c=()=>r(h=>(h+1)%Math.max(t.length,1)),d=h=>{h.key==="ArrowLeft"&&(h.preventDefault(),o()),h.key==="ArrowRight"&&(h.preventDefault(),c())};return n.jsxs("section",{className:Ie.card,"data-i18n-scope":"home.youtube",children:[n.jsxs("header",{className:Ie.header,children:[n.jsx("span",{className:Ie.title,"data-i18n":"home.youtube.title",children:"YouTube"}),n.jsxs("div",{className:Ie.carouselCtrls,children:[n.jsx("button",{className:Ie.navBtn,onClick:o,"aria-label":"Prev",children:""}),n.jsx("button",{className:Ie.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),n.jsx("div",{className:Ie.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?n.jsx("div",{className:Ie.empty,children:"No videos"}):t.map((h,p)=>n.jsxs("a",{href:h.url,target:"_blank",rel:"noreferrer",className:[Ie.slide,p===s?Ie.slideActive:Ie.slideInactive].join(" "),children:[h.thumb?n.jsx("img",{src:h.thumb,alt:"",className:Ie.slideThumb}):n.jsx("div",{className:Ie.slideFallback,children:h.title.slice(0,2).toUpperCase()}),n.jsx("div",{className:Ie.slideCaption,children:h.title})]},h.url))})]})},T7=({onOpenSchedule:t})=>{var m;const[e,s]=D.useState(null),[r,i]=D.useState(new Map),[o,c]=D.useState(0),d=D.useRef(null);if(D.useEffect(()=>{async function x(){{s([]);return}}return x(),()=>{}},[]),D.useEffect(()=>{let x=!0;async function v(){try{const w=await c3(),N=new Map;for(const P of w){const R=String(P["Creator Name"]||P.creator_name||P.name||"").trim(),O=String(P["Twitch Link"]||P.twitch||P.Twitch||"").trim();if(!R||!O)continue;const B=(()=>{try{return new URL(O).pathname.replace(/^\//,"").toLowerCase()}catch(E){return O.toLowerCase()}})();B&&N.set(B,O),N.set(R.toLowerCase(),O)}x&&i(N)}catch(w){x&&i(new Map)}}return v(),()=>{x=!1}},[]),D.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>c(x=>(x+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return n.jsxs("section",{className:Ie.card,"data-i18n-scope":"home.live",children:[n.jsx("header",{className:Ie.header,children:n.jsx("span",{className:Ie.title,"data-i18n":"home.live.title",children:"Live now"})}),n.jsx("div",{className:Ie.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),n.jsx("div",{className:Ie.actionsRight,children:n.jsx("button",{className:Ie.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const h=e[o],p=(()=>{const x=((h==null?void 0:h.name)||"").toLowerCase();if(h!=null&&h.url)return h.url;if(x)return r.has(x)?r.get(x):r.has(x.replace(/^@/,""))?r.get(x.replace(/^@/,"")):`https://www.twitch.tv/${x}`})();return n.jsxs("section",{className:Ie.card,"data-i18n-scope":"home.live",children:[n.jsx("header",{className:Ie.header,children:n.jsx("span",{className:Ie.title,"data-i18n":"home.live.title",children:"Live now"})}),n.jsxs("div",{className:Ie.liveCard,children:[h!=null&&h.avatar?n.jsx("img",{src:h.avatar,alt:"",className:Ie.liveAvatar}):n.jsx("div",{className:Ie.liveAvatarFallback,"aria-hidden":!0,children:(m=h==null?void 0:h.name)==null?void 0:m.slice(0,2).toUpperCase()}),n.jsxs("div",{className:Ie.liveInfo,children:[n.jsx("div",{className:Ie.liveName,children:h==null?void 0:h.name}),n.jsxs("div",{className:Ie.liveMeta,children:[n.jsx("span",{className:Ie.liveBadge,children:"LIVE"}),typeof(h==null?void 0:h.viewers)=="number"&&n.jsxs("span",{className:Ie.liveViewers,children:[h.viewers.toLocaleString()," viewers"]})]})]}),p&&n.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:Ie.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),n.jsxs("div",{className:Ie.carouselCtrls,children:[n.jsx("button",{className:Ie.navBtn,onClick:()=>c(x=>(x-1+e.length)%e.length),"aria-label":"Prev",children:""}),n.jsx("button",{className:Ie.navBtn,onClick:()=>c(x=>(x+1)%e.length),"aria-label":"Next",children:""})]})]})},C7=({open:t,onClose:e})=>{var w;const[s,r]=D.useState(null),[i,o]=D.useState("All"),[c,d]=D.useState(""),[h,p]=D.useState(!1);if(D.useEffect(()=>{if(!t)return;async function N(){{r([]);return}}return N(),()=>{}},[t]),D.useEffect(()=>{const N=P=>{P.key==="Escape"&&e()};return t&&window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[t,e]),!t)return null;const m=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),x=(s||[]).filter(N=>{if(i!=="All"&&N.platform.toLowerCase()!==i.toLowerCase()||h&&N.weekday&&N.weekday.toLowerCase()!==m.toLowerCase())return!1;if(c){const P=c.toLowerCase();if(!`${N.streamer} ${N.title}`.toLowerCase().includes(P))return!1}return!0}),v=((w=s==null?void 0:s.length)!=null?w:0)===0;return n.jsx("div",{className:Ie.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:n.jsxs("div",{className:Ie.modal,children:[n.jsxs("header",{className:Ie.modalHeader,children:[n.jsx("h2",{id:"schedule-title",className:Ie.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),n.jsx("button",{className:Ie.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),n.jsxs("div",{className:Ie.modalFilters,children:[n.jsxs("label",{className:Ie.formRow,children:[n.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),n.jsxs("select",{value:i,onChange:N=>o(N.target.value),className:Ie.select,children:[n.jsx("option",{value:"All",children:"All"}),n.jsx("option",{value:"Twitch",children:"Twitch"}),n.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),n.jsxs("label",{className:Ie.formRow,children:[n.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),n.jsx("input",{value:c,onChange:N=>d(N.target.value),className:Ie.input,placeholder:"Streamer / Title"})]}),n.jsxs("label",{className:Ie.formRowCheckbox,children:[n.jsx("input",{type:"checkbox",checked:h,onChange:N=>p(N.target.checked)}),n.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),n.jsx("div",{className:Ie.tableWrap,children:n.jsxs("table",{className:Ie.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"weekday"}),n.jsx("th",{children:"start_utc"}),n.jsx("th",{children:"end_utc"}),n.jsx("th",{children:"timezone"}),n.jsx("th",{children:"platform"}),n.jsx("th",{children:"channel_url"}),n.jsx("th",{children:"streamer"}),n.jsx("th",{children:"title"})]})}),n.jsx("tbody",{children:v?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:Ie.empty,children:"No schedule yet"})}):x.map((N,P)=>n.jsxs("tr",{children:[n.jsx("td",{children:N.weekday}),n.jsx("td",{children:N.start_utc}),n.jsx("td",{children:N.end_utc}),n.jsx("td",{children:N.timezone}),n.jsx("td",{children:N.platform}),n.jsx("td",{children:N.channel_url?n.jsx("a",{href:N.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),n.jsx("td",{children:N.streamer}),n.jsx("td",{children:N.title})]},P))})]})})]})})},E7=()=>{const[t,e]=D.useState(!1);return n.jsxs(St,{title:"home.title",subtitle:"home.subtitle",children:[n.jsx("div",{className:Ie.row,children:n.jsx("div",{className:Ie.colFull,children:n.jsx(S7,{})})}),n.jsxs("div",{className:Ie.row,children:[n.jsx("div",{className:Ie.colCommunity,children:n.jsx(k7,{})}),n.jsx("div",{className:Ie.colGuides,children:n.jsx(N7,{})})]}),n.jsx("div",{className:Ie.row,children:n.jsx("div",{className:Ie.colFull,children:n.jsx(T7,{onOpenSchedule:()=>e(!0)})})}),n.jsx(C7,{open:t,onClose:()=>e(!1)})]})};function A7(){return n.jsx(St,{hex:n.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:n.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:n.jsx(I7,{}),right:n.jsx(R7,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(Zg,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),n.jsx(Zg,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),n.jsx(Zg,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function I7(){return n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(ex,{to:"/dashboard/kpis",children:"KPIs"}),n.jsx(ex,{to:"/dashboard/activity",children:"Activity"}),n.jsx(ex,{to:"/dashboard/progression",children:"Progression"})]})]})}function R7(){return n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),n.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Zg({to:t,title:e,desc:s}){return n.jsxs(Et,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),s?n.jsx("div",{className:"mt-1 text-sm opacity-75",children:s}):null]})}function ex({to:t,children:e}){return n.jsx(Et,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function P7(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  KPIs"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(tx,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),n.jsx(tx,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),n.jsx(tx,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function tx({label:t,value:e,hint:s}){return n.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),n.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function L7(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  Activity"}),n.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),n.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[n.jsx("li",{children:" Neues Scan-File hochgeladen"}),n.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),n.jsx("li",{children:" Gilden-Event geplant"})]})]})}function D7(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  Progression"}),n.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[n.jsx(nx,{title:"Scrapbook 100%",progress:72}),n.jsx(nx,{title:"Fortress Ausbaustufe",progress:48}),n.jsx(nx,{title:"Underworld Boss",progress:35})]})]})}function nx({title:t,progress:e}){return n.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),n.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:n.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),n.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function M7(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Discover"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(Dl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),n.jsx(Dl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),n.jsx(Dl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),n.jsx(Dl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),n.jsx(Dl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),n.jsx(Dl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Dl({to:t,title:e,desc:s}){return n.jsxs(Et,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function F7({children:t,framed:e=!0}){return e?n.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:qi.border,backgroundColor:qi.tile},children:t}):n.jsx("main",{className:"min-w-0",children:t})}function B7(t,e){if(!t)return"";const s=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return s;const r=s.includes("?")?"&":"?";return`${s}${r}bg=transparent&background=transparent`}const $7=({srcOrId:t,aspectRatio:e="16/10",height:s,allowFullscreen:r=!0,lazy:i=!0,className:o,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:p=!0})=>{const[m,x]=D.useState(!1),v=D.useMemo(()=>B7(t,p),[t,p]),w=i?"lazy":"eager",N={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},P={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},R=s?{position:"relative",width:"100%",height:s,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},O={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return n.jsx("div",{className:o,style:N,children:n.jsx("div",{style:P,children:n.jsxs("div",{style:R,children:[n.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:w,scrolling:"no",title:"Heyzine Flipbook"}),c&&n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button","aria-label":"Info",onClick:()=>x(B=>!B),style:O,title:"Info",children:"i"}),m&&n.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",n.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},V7="#0C1C2E",O7=()=>n.jsx(St,{children:n.jsx(F7,{children:n.jsxs("div",{style:{position:"relative",width:"100%"},children:[n.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:V7,borderRadius:16,pointerEvents:"none",zIndex:0}}),n.jsx("div",{style:{position:"relative",zIndex:1},children:n.jsx($7,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),U7="_pageWrap_72re9_7",z7="_infoLine_72re9_17",G7="_viewerHost_72re9_43",H7="_overlay_72re9_99",W7="_dragZoneLeft_72re9_101",q7="_dragZoneRight_72re9_103",K7="_inbookLink_72re9_105",Ta={pageWrap:U7,infoLine:z7,viewerHost:G7,overlay:H7,dragZoneLeft:W7,dragZoneRight:q7,inbookLink:K7};var Rd={exports:{}},Q7=Rd.exports,q_;function X7(){return q_||(q_=1,(function(t,e){(function(s,r){r(e)})(Q7,(function(s){class r{constructor(y,j){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=j,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,j,M){super(y,M),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=j}draw(y){const j=this.render.getContext(),M=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,_=this.render.getRect().height;j.save(),j.translate(M.x,M.y),j.beginPath();for(let C of this.state.area)C!==null&&(C=this.render.convertToGlobal(C),j.lineTo(C.x-M.x,C.y-M.y));j.rotate(this.state.angle),j.clip(),this.isLoad?j.drawImage(this.image,0,0,T,_):this.drawLoader(j,{x:0,y:0},T,_),j.restore()}simpleDraw(y){const j=this.render.getRect(),M=this.render.getContext(),T=j.pageWidth,_=j.height,C=y===1?j.left+j.pageWidth:j.left,L=j.top;this.isLoad?M.drawImage(this.image,C,L,T,_):this.drawLoader(M,{x:C,y:L},T,_)}drawLoader(y,j,M,T){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(j.x+1,j.y+1,M-1,T-1),y.stroke(),y.fill();const _={x:j.x+M/2,y:j.y+T/2};y.beginPath(),y.lineWidth=10,y.arc(_.x,_.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class o{constructor(y,j){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=j,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let j=0;j<this.pages.length;j++)this.portraitSpread.push([j]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let j=y;j<this.pages.length;j+=2)j<this.pages.length-1?this.landscapeSpread.push([j,j+1]):(this.landscapeSpread.push([j]),this.pages[j].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const j=this.getSpread();for(let M=0;M<j.length;M++)if(y===j[M][0]||y===j[M][1])return M;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const j=this.pages.indexOf(y);return j<this.pages.length-1?this.pages[j+1]:null}prevBy(y){const j=this.pages.indexOf(y);return j>0?this.pages[j-1]:null}getFlippingPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j].newTemporaryCopy():this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1||y===0?this.pages[M[0]]:this.pages[M[1]]}}getBottomPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j+1]:this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1?this.pages[M[0]]:y===0?this.pages[M[1]]:this.pages[M[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const j=this.getSpreadIndexByPage(y);j!==null&&(this.currentSpreadIndex=j,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends o{constructor(y,j,M){super(y,j),this.imagesHref=M}load(){for(const y of this.imagesHref){const j=new i(this.render,y,"soft");j.load(),this.pages.push(j)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,j){return y===null||j===null?1/0:Math.sqrt(Math.pow(j.x-y.x,2)+Math.pow(j.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,j){const M=y[0].y-y[1].y,T=j[0].y-j[1].y,_=y[1].x-y[0].x,C=j[1].x-j[0].x;return Math.acos((M*T+_*C)/(Math.sqrt(M*M+_*_)*Math.sqrt(T*T+C*C)))}static PointInRect(y,j){return j===null?null:j.x>=y.left&&j.x<=y.width+y.left&&j.y>=y.top&&j.y<=y.top+y.height?j:null}static GetRotatedPoint(y,j,M){return{x:y.x*Math.cos(M)+y.y*Math.sin(M)+j.x,y:y.y*Math.cos(M)-y.x*Math.sin(M)+j.y}}static LimitPointToCircle(y,j,M){if(d.GetDistanceBetweenTwoPoint(y,M)<=j)return M;const T=y.x,_=y.y,C=M.x,L=M.y;let A=Math.sqrt(Math.pow(j,2)*Math.pow(T-C,2)/(Math.pow(T-C,2)+Math.pow(_-L,2)))+T;M.x<0&&(A*=-1);let V=(A-T)*(_-L)/(T-C)+_;return T-C+_===0&&(V=j),{x:A,y:V}}static GetIntersectBetweenTwoSegment(y,j,M){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(j,M))}static GetIntersectBeetwenTwoLine(y,j){const M=y[0].y-y[1].y,T=j[0].y-j[1].y,_=y[1].x-y[0].x,C=j[1].x-j[0].x,L=y[0].x*y[1].y-y[1].x*y[0].y,A=j[0].x*j[1].y-j[1].x*j[0].y,V=M*A-T*L,F=_*A-C*L,K=-(L*C-A*_)/(M*C-T*_),z=-(M*A-T*L)/(M*C-T*_);if(isFinite(K)&&isFinite(z))return{x:K,y:z};if(Math.abs(V-F)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,j){const M=Math.abs(y.x-j.x),T=Math.abs(y.y-j.y),_=Math.max(M,T),C=[y];function L(A,V,F,K,z){return V>A?A+z*(F/K):V<A?A-z*(F/K):A}for(let A=1;A<=_;A+=1)C.push({x:L(y.x,j.x,M,_,A),y:L(y.y,j.y,T,_,A)});return C}}class h extends r{constructor(y,j,M){super(y,M),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=j,this.element.classList.add("stf__item"),this.element.classList.add("--"+M)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const j=y||this.nowDrawingDensity,M=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,_=this.render.getRect().height;this.element.classList.remove("--simple");const C=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${T}px;
            height: ${_}px;
        `;j==="hard"?this.drawHard(C):this.drawSoft(M,C)}drawHard(y=""){const j=this.render.getRect().left+this.render.getRect().width/2,M=this.state.hardDrawingAngle,T=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${M}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${j}px, 0, 0) rotateY(${M}deg);`);this.element.style.cssText=T}drawSoft(y,j=""){let M="polygon( ";for(const _ of this.state.area)if(_!==null){let C=this.render.getDirection()===1?{x:-_.x+this.state.position.x,y:_.y-this.state.position.y}:{x:_.x-this.state.position.x,y:_.y-this.state.position.y};C=d.GetRotatedPoint(C,{x:0,y:0},this.state.angle),M+=C.x+"px "+C.y+"px, "}M=M.slice(0,-2),M+=")";const T=j+`transform-origin: 0 0; clip-path: ${M}; -webkit-clip-path: ${M};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=T}simpleDraw(y){const j=this.render.getRect(),M=j.pageWidth,T=j.height,_=y===1?j.left+j.pageWidth:j.left,C=j.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${T}px; 
            left: ${_}px; 
            top: ${C}px; 
            width: ${M}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class p extends o{constructor(y,j,M,T){super(y,j),this.element=M,this.pagesElement=T}load(){for(const y of this.pagesElement){const j=new h(this.render,y,y.dataset.density==="hard"?"hard":"soft");j.load(),this.pages.push(j)}this.createSpread()}}class m{constructor(y,j,M,T){this.direction=y,this.corner=j,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(M,10),this.pageHeight=parseInt(T,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(j){return!1}}getFlippingClipArea(){const y=[];let j=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?j=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(j=!1)),y.push(this.bottomIntersectPoint),(j||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let j=y;if(this.updateAngleAndGeometry(j),j=this.corner==="top"?this.checkPositionAtCenterLine(j,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(j,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(j.x-this.pageWidth)<1&&Math.abs(j.y)<1)throw new Error("Point is too small");return j}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const j=this.pageWidth-y.x+1,M=this.corner==="bottom"?this.pageHeight-y.y:y.y;let T=2*Math.acos(j/Math.sqrt(M*M+j*j));M<0&&(T=-T);const _=Math.PI-T;if(!isFinite(T)||_>=0&&_<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(T=-T),T}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,j){return{topLeft:this.getRotatedPoint(y[0],j),topRight:this.getRotatedPoint(y[1],j),bottomLeft:this.getRotatedPoint(y[2],j),bottomRight:this.getRotatedPoint(y[3],j)}}getRotatedPoint(y,j){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+j.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+j.y}}calculateIntersectPoint(y){const j={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,j,M){let T=y;const _=d.LimitPointToCircle(j,this.pageWidth,T);T!==_&&(T=_,this.updateAngleAndGeometry(T));const C=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,A=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,A=this.rect.bottomLeft),L.x<=0){const V=d.LimitPointToCircle(M,C,A);V!==T&&(T=V,this.updateAngleAndGeometry(T))}return T}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class x{constructor(y,j){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=j}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const j=this.getBoundsRect();this.setState("flipping");const M=j.height/10,T=this.calc.getCorner()==="bottom"?j.height-M:M,_=this.calc.getCorner()==="bottom"?j.height:0;this.calc.calc({x:j.pageWidth-M,y:T}),this.animateFlippingTo({x:j.pageWidth-M,y:T},{x:-j.pageWidth,y:_},!0)}start(y){this.reset();const j=this.render.convertToBook(y),M=this.getBoundsRect(),T=this.getDirectionByPoint(j),_=j.y>=M.height/2?"bottom":"top";if(!this.checkDirection(T))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(T),this.bottomPage=this.app.getPageCollection().getBottomPage(T),this.render.getOrientation()==="landscape")if(T===1){const C=this.app.getPageCollection().nextBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}else{const C=this.app.getPageCollection().prevBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}return this.render.setDirection(T),this.calc=new m(T,_,M.pageWidth.toString(10),M.height.toString(10)),!0}catch(C){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const j=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*j)/100):this.flippingPage.setHardAngle(-90*(200-2*j)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),j,this.calc.getDirection())}}flipToPage(y,j){const M=this.app.getPageCollection().getCurrentSpreadIndex(),T=this.app.getPageCollection().getSpreadIndexByPage(y);try{T>M&&(this.app.getPageCollection().setCurrentSpreadIndex(T-1),this.flipNext(j)),T<M&&(this.app.getPageCollection().setCurrentSpreadIndex(T+1),this.flipPrev(j))}catch(_){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),j=this.getBoundsRect(),M=this.calc.getCorner()==="bottom"?j.height:0;y.x<=0?this.animateFlippingTo(y,{x:-j.pageWidth,y:M},!0):this.animateFlippingTo(y,{x:j.pageWidth,y:M},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const j=this.getBoundsRect(),M=j.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:M-1,y:1});const T=50,_=this.calc.getCorner()==="bottom"?j.height-1:1,C=this.calc.getCorner()==="bottom"?j.height-T:T;this.animateFlippingTo({x:M-1,y:_},{x:M-T,y:C},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,j,M,T=!0){const _=d.GetCordsFromTwoPoint(y,j),C=[];for(const A of _)C.push(()=>this.do(A));const L=this.getAnimationDuration(_.length);this.render.startAnimation(C,L,()=>{this.calc&&(M&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),T&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const j=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-j.pageWidth<=j.width/5)return 1}else if(y.x<j.width/2)return 1;return 0}getAnimationDuration(y){const j=this.app.getSettings().flippingTime;return y>=1e3?j:y/1e3*j}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const j of y)if(this.state===j)return!0;return!1}isPointOnCorners(y){const j=this.getBoundsRect(),M=j.pageWidth,T=Math.sqrt(Math.pow(M,2)+Math.pow(j.height,2))/5,_=this.render.convertToBook(y);return _.x>0&&_.y>0&&_.x<j.width&&_.y<j.height&&(_.x<T||_.x>j.width-T)&&(_.y<T||_.y>j.height-T)}}class v{constructor(y,j){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=j,this.app=y;const M=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=M.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const j=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);j<this.animation.frames.length?this.animation.frames[j]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=j=>{this.render(j),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,j,M){this.finishAnimation(),this.animation={frames:y,duration:j,durationFrame:j/y.length,onAnimateEnd:M,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const j=this.getBlockWidth(),M=j/2,T=this.getBlockHeight()/2,_=this.setting.width/this.setting.height;let C=this.setting.width,L=this.setting.height,A=M-C;return this.setting.size==="stretch"?(j<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),C=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,C>this.setting.maxWidth&&(C=this.setting.maxWidth),L=C/_,L>this.getBlockHeight()&&(L=this.getBlockHeight(),C=L*_),A=y==="portrait"?M-C/2-C:M-C):j<2*C&&this.app.getSettings().usePortrait&&(y="portrait",A=M-C/2-C),this.boundsRect={left:A,top:T-L/2,width:2*C,height:L,pageWidth:C},y}setShadowData(y,j,M,T){if(!this.app.getSettings().drawShadow)return;const _=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:j,width:3*this.getRect().pageWidth/4*M/100,opacity:(100-M)*_/100/100,direction:T,progress:2*M}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const j=this.getRect();return{x:y.x-j.left,y:y.y-j.top}}isSafari(){return this.safari}convertToPage(y,j){j||(j=this.direction);const M=this.getRect();return{x:j===0?y.x-M.left-M.width/2:M.width/2-y.x+M.left,y:y.y-M.top}}convertToGlobal(y,j){if(j||(j=this.direction),y==null)return null;const M=this.getRect();return{x:j===0?y.x+M.left+M.width/2:M.width/2-y.x+M.left,y:y.y+M.top}}convertRectToGlobal(y,j){return j||(j=this.direction),{topLeft:this.convertToGlobal(y.topLeft,j),topRight:this.convertToGlobal(y.topRight,j),bottomLeft:this.convertToGlobal(y.bottomLeft,j),bottomRight:this.convertToGlobal(y.bottomRight,j)}}}class w extends v{constructor(y,j,M){super(y,j),this.canvas=M,this.ctx=M.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const M={x:y.left+y.width/2-j/2,y:0};this.ctx.translate(M.x,M.y);const T=this.ctx.createLinearGradient(0,0,j,0);T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),T.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),T.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),T.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),T.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,j,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const M=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),M.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),M.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),M.addColorStop(0,"rgba(0, 0, 0, 0)"),M.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=M,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(M.topLeft.x,M.topLeft.y),this.ctx.lineTo(M.topRight.x,M.topRight.y),this.ctx.lineTo(M.bottomRight.x,M.bottomRight.y),this.ctx.lineTo(M.bottomLeft.x,M.bottomLeft.y),this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=3*this.shadow.width/4,_=this.ctx.createLinearGradient(0,0,T,0);this.shadow.direction===0?(this.ctx.translate(-T,-100),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),_.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,T,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class N{constructor(y,j,M){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=_=>{if(this.checkTarget(_.target)){const C=this.getMousePos(_.clientX,_.clientY);this.app.startUserTouch(C),_.preventDefault()}},this.onTouchStart=_=>{if(this.checkTarget(_.target)&&_.changedTouches.length>0){const C=_.changedTouches[0],L=this.getMousePos(C.clientX,C.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||_.preventDefault()}},this.onMouseUp=_=>{const C=this.getMousePos(_.clientX,_.clientY);this.app.userStop(C)},this.onMouseMove=_=>{const C=this.getMousePos(_.clientX,_.clientY);this.app.userMove(C,!1)},this.onTouchMove=_=>{if(_.changedTouches.length>0){const C=_.changedTouches[0],L=this.getMousePos(C.clientX,C.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&_.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&_.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=_=>{if(_.changedTouches.length>0){const C=_.changedTouches[0],L=this.getMousePos(C.clientX,C.clientY);let A=!1;if(this.touchPoint!==null){const V=L.x-this.touchPoint.point.x,F=Math.abs(L.y-this.touchPoint.point.y);Math.abs(V)>this.swipeDistance&&F<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(V>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),A=!0),this.touchPoint=null}this.app.userStop(L,A)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=j;const T=this.app.getSettings().usePortrait?1:2;y.style.minWidth=M.minWidth*T+"px",y.style.minHeight=M.minHeight+"px",M.size==="fixed"&&(y.style.minWidth=M.width*T+"px",y.style.minHeight=M.height+"px"),M.autoSize&&(y.style.width="100%",y.style.maxWidth=2*M.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=M.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,j){const M=this.distElement.getBoundingClientRect();return{x:y-M.left,y:j-M.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class P extends N{constructor(y,j,M,T){super(y,j,M),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=T;for(const _ of T)this.distElement.appendChild(_);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const j of y)this.distElement.appendChild(j);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class R extends N{constructor(y,j,M){super(y,j,M),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),j=parseInt(y.getPropertyValue("width"),10),M=parseInt(y.getPropertyValue("height"),10);this.canvas.width=j,this.canvas.height=M}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class O extends v{constructor(y,j,M){super(y,j),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=M,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),j=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let M=(100-j)*(2.5*y.pageWidth)/100+20;M>y.pageWidth&&(M=y.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${M}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*j/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=T}drawHardOuterShadow(){const y=this.getRect();let j=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;j>y.pageWidth&&(j=y.pageWidth);let M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${j}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;M+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=M}drawInnerShadow(){const y=this.getRect(),j=3*this.shadow.width/4,M=this.getDirection()===0?j:0,T=this.getDirection()===0?"to left":"to right",_=this.convertToGlobal(this.shadow.pos),C=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let A="polygon( ";for(const F of L){let K=this.getDirection()===1?{x:-F.x+this.shadow.pos.x,y:F.y-this.shadow.pos.y}:{x:F.x-this.shadow.pos.x,y:F.y-this.shadow.pos.y};K=d.GetRotatedPoint(K,{x:M,y:100},C),A+=K.x+"px "+K.y+"px, "}A=A.slice(0,-2),A+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${j}px;
            height: ${2*y.height}px;
            background: linear-gradient(${T},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${M}px 100px;
            transform: translate3d(${_.x-M}px, ${_.y-100}px, 0) rotate(${C}rad);
            clip-path: ${A};
            -webkit-clip-path: ${A};
        `;this.innerShadow.style.cssText=V}drawOuterShadow(){const y=this.getRect(),j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.shadow.angle+3*Math.PI/2,T=this.getDirection()===1?this.shadow.width:0,_=this.getDirection()===0?"to right":"to left",C=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let L="polygon( ";for(const V of C)if(V!==null){let F=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};F=d.GetRotatedPoint(F,{x:T,y:100},M),L+=F.x+"px "+F.y+"px, "}L=L.slice(0,-2),L+=")";const A=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${_}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${T}px 100px;
            transform: translate3d(${j.x-T}px, ${j.y-100}px, 0) rotate(${M}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=A}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class B{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const j=this._default;if(Object.assign(j,y),j.size!=="stretch"&&j.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(j.width<=0||j.height<=0)throw new Error("Invalid width or height");if(j.flippingTime<=0)throw new Error("Invalid flipping time");return j.size==="stretch"?(j.minWidth<=0&&(j.minWidth=100),j.maxWidth<j.minWidth&&(j.maxWidth=2e3),j.minHeight<=0&&(j.minHeight=100),j.maxHeight<j.minHeight&&(j.maxHeight=2e3)):(j.minWidth=j.width,j.maxWidth=j.width,j.minHeight=j.height,j.maxHeight=j.height),j}}(function(E,y){y===void 0&&(y={});var j=y.insertAt;if(typeof document!="undefined"){var M=document.head||document.getElementsByTagName("head")[0],T=document.createElement("style");T.type="text/css",j==="top"&&M.firstChild?M.insertBefore(T,M.firstChild):M.appendChild(T),T.styleSheet?T.styleSheet.cssText=E:T.appendChild(document.createTextNode(E))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),s.PageFlip=class extends class{constructor(){this.events=new Map}on(E,y){return this.events.has(E)?this.events.get(E).push(y):this.events.set(E,[y]),this}off(E){this.events.delete(E)}trigger(E,y,j=null){if(this.events.has(E))for(const M of this.events.get(E))M({data:j,object:y})}}{constructor(E,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new B().getSettings(y),this.block=E}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(E){this.ui=new R(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new w(this,this.setting,y),this.flipController=new x(this.render,this),this.pages=new c(this,this.render,E),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(E){this.ui=new P(this.block,this,this.setting,E),this.render=new O(this,this.setting,this.ui.getDistElement()),this.flipController=new x(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),E),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(E){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,E),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(E){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),E),this.pages.load(),this.ui.updateItems(E),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(E){this.pages.show(E)}flipNext(E="top"){this.flipController.flipNext(E)}flipPrev(E="top"){this.flipController.flipPrev(E)}flip(E,y="top"){this.flipController.flipToPage(E,y)}updateState(E){this.trigger("changeState",this,E)}updatePageIndex(E){this.trigger("flip",this,E)}updateOrientation(E){this.ui.setOrientationStyle(E),this.update(),this.trigger("changeOrientation",this,E)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(E){return this.pages.getPage(E)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(E){this.mousePosition=E,this.isUserTouch=!0,this.isUserMove=!1}userMove(E,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,E)>5&&(this.isUserMove=!0,this.flipController.fold(E)):this.flipController.showCorner(E)}userStop(E,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(E)))}},Object.defineProperty(s,"__esModule",{value:!0})}))})(Rd,Rd.exports)),Rd.exports}var Y7=X7();const J7="_viewerRoot_hj39c_5",Z7="_stage_hj39c_17",eF="_host_hj39c_43",tF="_hud_hj39c_91",nF="_hBtn_hj39c_125",sF="_hText_hj39c_153",rF="_title_hj39c_167",iF="_sep_hj39c_169",aF="_spacer_hj39c_171",oF="_errorBox_hj39c_175",Ks={viewerRoot:J7,stage:Z7,host:eF,hud:tF,hBtn:nF,hText:sF,title:rF,sep:iF,spacer:aF,errorBox:oF},lF=(()=>{const t="/test/";return t.endsWith("/")?t:t+"/"})(),d3=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${lF}${e}`.replace(/\/{2,}/g,"/")},cF=async t=>{const e=d3(`flipbooks/${t}/manifest.json`),s=await fetch(e,{cache:"no-cache"});if(!s.ok)throw new Error(`Manifest not found for slug "${t}"`);return s.json()},dF=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},uF=(t,e,s)=>Math.max(e,Math.min(s,t)),gn={hostEl:null,pf:null,slug:null},Kr={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},hF=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function pF(t){for(const e of t)e&&(Kr.cache.has(e)||Kr.inFlight.has(e)||Kr.queue.includes(e)||Kr.queue.push(e));u3()}function u3(){hF(()=>{for(;Kr.inFlight.size<Kr.maxParallel&&Kr.queue.length>0;){const t=Kr.queue.shift();Kr.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{Kr.inFlight.delete(t),Kr.cache.add(t),u3()},e.src=t}})}const mF=({slug:t,initialPage:e=1,onReady:s,onPageChange:r,noSound:i=!0})=>{const o=D.useRef(null),c=D.useRef(null),[d,h]=D.useState(null),[p,m]=D.useState(null),x=D.useRef(),v=D.useRef(),w=D.useRef(e);D.useEffect(()=>{x.current=s},[s]),D.useEffect(()=>{v.current=r},[r]),D.useEffect(()=>{w.current=e},[e]);const N=D.useMemo(()=>d3(`flipbooks/${t}`),[t]),P=D.useCallback(E=>{var y,j;if((y=E.srcset)!=null&&y.length){const M=[...E.srcset].sort((_,C)=>_.width-C.width),T=(j=M.find(_=>_.width>=1600))!=null?j:M[M.length-1];return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${N}/${T.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(E.src)||E.src.startsWith("/")?E.src:`${N}/${E.src}`.replace(/\/{2,}/g,"/")},[N]);D.useEffect(()=>{let E=!0;return m(null),cF(t).then(y=>{E&&h(y)}).catch(y=>{E&&m(y.message||"Failed to load flipbook manifest.")}),()=>{E=!1}},[t]),D.useEffect(()=>{const E=c.current,y=o.current;if(!E||!y||!d||(gn.hostEl||(gn.hostEl=document.createElement("div"),gn.hostEl.className=Ks.host),gn.hostEl.parentElement!==E&&E.appendChild(gn.hostEl),!gn.hostEl.isConnected))return;if(!(!gn.pf||gn.slug!==t)){try{gn.pf.update()}catch(F){}return}if(gn.pf){try{gn.pf.destroy()}catch(F){}gn.pf=null}const M={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},T=new Y7.PageFlip(gn.hostEl,M);gn.pf=T,gn.slug=t;const _=d.pages.map(P);T.loadFromImages(_);const C=F=>{const K=[],z=F+1,q=F+2;d.pages[z]&&K.push(P(d.pages[z])),d.pages[q]&&K.push(P(d.pages[q])),pF(K)},L=()=>{var K;const F=uF(w.current,1,d.pageCount)-1;T.turnToPage(F,"hard"),setTimeout(()=>C(F),220),(K=x.current)==null||K.call(x,T)};T.on("init",L),T.on("flip",F=>{var z;const K=F.data;(z=v.current)==null||z.call(v,K),setTimeout(()=>C(K),220)});const A=new ResizeObserver(()=>{var F;try{(F=gn.pf)==null||F.update()}catch(K){}});A.observe(y);const V=F=>{var K,z;F.key==="ArrowLeft"&&(F.preventDefault(),(K=gn.pf)==null||K.flipPrev()),F.key==="ArrowRight"&&(F.preventDefault(),(z=gn.pf)==null||z.flipNext())};return window.addEventListener("keydown",V,{passive:!1}),()=>{window.removeEventListener("keydown",V),A.disconnect()}},[d,P,t]);const R=()=>{var E;return(E=gn.pf)==null?void 0:E.flipPrev()},O=()=>{var E;return(E=gn.pf)==null?void 0:E.flipNext()},B=()=>{var j;const E=o.current;if(!E)return;const y=E;(j=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||j.call(y)};return p?n.jsxs("div",{className:Ks.errorBox,children:["Flipbook konnte nicht geladen werden: ",p]}):d?n.jsxs("div",{className:Ks.viewerRoot,ref:o,"aria-label":d.title,children:[n.jsx("div",{className:Ks.stage,ref:c}),n.jsxs("div",{className:Ks.hud,children:[n.jsx("button",{className:Ks.hBtn,onClick:R,"aria-label":"Zurck",children:""}),n.jsxs("div",{className:Ks.hText,children:[n.jsx("span",{className:Ks.title,children:d.title}),n.jsx("span",{className:Ks.sep,children:""}),n.jsxs("span",{children:[d.pageCount," Seiten"]})]}),n.jsx("div",{className:Ks.spacer}),dF()&&n.jsx("button",{className:Ks.hBtn,onClick:B,"aria-label":"Fullscreen",children:""}),n.jsx("button",{className:Ks.hBtn,onClick:O,"aria-label":"Weiter",children:""})]})]}):n.jsx("div",{className:Ks.errorBox,children:"Lade Flipbook"})},fF=se.memo(mF),gF={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},xF=()=>{const t="sf-history-book",[e,s]=D.useState(1),r=D.useRef(null),i=D.useMemo(()=>{var m;return(m=gF[e])!=null?m:[]},[e]),o=D.useCallback(m=>{r.current=m},[]),c=D.useCallback(m=>{s(m+1)},[]),d=D.useCallback(m=>{const x=r.current;if(x)try{x.turnToPage(Math.max(0,m-1))}catch(v){}},[]),h=D.useCallback(()=>{var m;return(m=r.current)==null?void 0:m.flipPrev()},[]),p=D.useCallback(()=>{var m;return(m=r.current)==null?void 0:m.flipNext()},[]);return n.jsx(St,{title:"SF History Book",children:n.jsxs("div",{className:Ta.pageWrap,children:[n.jsx("div",{className:Ta.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),n.jsxs("div",{className:Ta.viewerHost,children:[n.jsx(fF,{slug:t,initialPage:1,onReady:o,onPageChange:c,noSound:!0}),n.jsxs("div",{className:Ta.overlay,"aria-hidden":!0,children:[n.jsx("div",{className:Ta.dragZoneLeft,onClick:h}),n.jsx("div",{className:Ta.dragZoneRight,onClick:p}),i.map((m,x)=>{const v={"--t":`${m.t}%`,"--l":`${m.l}%`,"--w":`${m.w}%`,"--h":`${m.h}%`};return m.kind==="goto"?n.jsx("button",{className:Ta.inbookLink,style:v,"aria-label":m.label,onClick:()=>d(m.toPage)},x):n.jsx("a",{className:Ta.inbookLink,style:v,"aria-label":m.label,href:m.href,target:"_blank",rel:"noopener noreferrer"},x)})]})]})]})})},h3=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(h3.map(t=>[t.id,t]));const p3="TL_FILTERS_V2",Ls={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function vF(){var t;try{const e=localStorage.getItem(p3);if(!e)return Ls;const s=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(s.days)?s.days:Ls.days,i=["cards","buttons","table"].includes(s.listView)?s.listView:Ls.listView,o=["hud","sheet"].includes(s.filterMode)?s.filterMode:Ls.filterMode,c=typeof s.quickFav=="boolean"?s.quickFav:!!s.favoritesOnly,d=typeof s.quickActive=="boolean"?s.quickActive:!!s.activeOnly;return{...Ls,...s,servers:Array.isArray(s.servers)?s.servers:[],classes:Array.isArray(s.classes)?s.classes:[],favoritesOnly:typeof s.favoritesOnly=="boolean"?s.favoritesOnly:c,activeOnly:typeof s.activeOnly=="boolean"?s.activeOnly:d,quickFav:c,quickActive:d,days:r,listView:i,filterMode:o,bottomFilterOpen:!!s.bottomFilterOpen,serverSheetOpen:!!s.serverSheetOpen,sortBy:typeof s.sortBy=="string"?s.sortBy:Ls.sortBy,searchText:typeof s.searchText=="string"?s.searchText:Ls.searchText}}catch(e){return Ls}}function yF(t){try{localStorage.setItem(p3,JSON.stringify(t))}catch(e){}}const m3=D.createContext(null),K_=t=>Array.from(new Set(t));function ap(t,e){return typeof t=="function"?t(e):t}function bF({children:t}){const[e,s]=D.useState(()=>vF());D.useEffect(()=>{yF(e)},[e]);const r=_=>s(C=>({...C,servers:K_(ap(_,C.servers))})),i=_=>s(C=>{const L=new Set(C.servers);return L.has(_)?L.delete(_):L.add(_),{...C,servers:Array.from(L)}}),o=()=>s(_=>({..._,servers:[]})),c=_=>s(C=>({...C,classes:K_(ap(_,C.classes))})),d=_=>s(C=>{const L=new Set(C.classes);return L.has(_)?L.delete(_):L.add(_),{...C,classes:Array.from(L)}}),h=()=>s(_=>({..._,classes:[]})),p=_=>s(C=>({...C,days:_})),m=_=>p(_),x=_=>s(C=>({...C,sortBy:_||"level"})),v=_=>s(C=>({...C,favoritesOnly:!!_,quickFav:!!_})),w=_=>s(C=>({...C,activeOnly:!!_,quickActive:!!_})),N=_=>s(C=>({...C,searchText:_})),P=_=>s(C=>{const L=ap(_,C.quickFav);return{...C,quickFav:L,favoritesOnly:L}}),R=_=>s(C=>{const L=ap(_,C.quickActive);return{...C,quickActive:L,activeOnly:L}}),O=_=>s(C=>({...C,filterMode:_})),B=_=>s(C=>({...C,listView:_})),E=_=>s(C=>({...C,bottomFilterOpen:!!_})),y=_=>s(C=>({...C,serverSheetOpen:!!_})),j=()=>s(Ls),M=()=>j(),T=D.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:o,setClasses:c,toggleClass:d,clearClasses:h,setDays:p,setRange:m,setSortBy:x,setFavoritesOnly:v,setActiveOnly:w,setSearchText:N,setQuickFav:P,setQuickActive:R,setFilterMode:O,setListView:B,setBottomFilterOpen:E,setServerSheetOpen:y,resetFilters:j,resetAll:M}),[e]);return n.jsx(m3.Provider,{value:T,children:t})}function Au(){const t=D.useContext(m3);return t||{...Ls,range:Ls.days,searchText:Ls.searchText,quickFav:Ls.quickFav,quickActive:Ls.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const _F="_hudWrap_107o7_9",wF="_hudBtn_107o7_11",jF="_hudSubBtn_107o7_15",SF="_iconRow_107o7_19",kF="_segmented_107o7_21",NF="_sortLabel_107o7_27",TF="_sortSelect_107o7_29",CF="_chip_107o7_31",EF="_isActive_107o7_33",Is={hudWrap:_F,hudBtn:wF,hudSubBtn:jF,iconRow:SF,segmented:kF,sortLabel:NF,sortSelect:TF,chip:CF,isActive:EF};function AF({active:t=!1,title:e,iconUrl:s,fallback:r="",size:i=40,onClick:o}){const c=Math.round(i*.7),d=se.useMemo(()=>{const O=[],B=yk(s,c*2,c*2,"contain");B&&O.push(B);const E=Nr(s,c*2);return E&&E!==B&&O.push(E),!O.length&&s&&O.push(s),O},[s,c]),[h,p]=se.useState(0),[m,x]=se.useState(!1),[v,w]=se.useState(!1);se.useEffect(()=>p(0),[d]);const N=d[h]||"",P={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};m&&(P.background="rgba(255,255,255,.04)"),t&&(P.outline="2px solid #5C8BC6");const R={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return n.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:o,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),onFocus:()=>w(!0),onBlur:()=>w(!1),style:P,children:N?n.jsx("img",{src:N,alt:e||"class",width:c,height:c,loading:"lazy",style:R,onError:()=>{p(O=>O+1<d.length?O+1:O)}}):n.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const IF=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function RF(){const{servers:t,classes:e,setClasses:s,range:r,setRange:i,sortBy:o,setSortBy:c,quickFav:d,setQuickFav:h,quickActive:p,setQuickActive:m,filterMode:x,setBottomFilterOpen:v,serverSheetOpen:w,setServerSheetOpen:N,resetAll:P}=Au();return n.jsxs("div",{className:Is.hudWrap,children:[n.jsxs("button",{type:"button",className:Is.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),N(!0)},"aria-haspopup":"dialog","aria-expanded":w||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),n.jsxs("div",{className:Is.iconRow,children:[Cn.map(R=>n.jsx(AF,{active:e.includes(R.key),title:R.label,iconUrl:R.iconUrl,fallback:R.fallback,size:40,onClick:()=>s(O=>O.includes(R.key)?O.filter(B=>B!==R.key):[...O,R.key])},R.key)),n.jsx("button",{type:"button",className:Is.hudSubBtn,onClick:()=>s(Cn.map(R=>R.key)),children:"All"}),n.jsx("button",{type:"button",className:Is.hudSubBtn,onClick:()=>s([]),children:"None"})]}),n.jsx("div",{className:Is.segmented,role:"group","aria-label":"Range",children:IF.map(R=>n.jsx("button",{type:"button","aria-pressed":r===R.value,onClick:()=>i(R.value),children:R.label},R.label))}),n.jsx("label",{className:Is.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),n.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:o,onChange:R=>c(R.target.value),className:Is.sortSelect,"aria-label":"Sort",children:[n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"scrapbook",children:"Scrapbook"}),n.jsx("option",{value:"activity",children:"Activity"}),n.jsx("option",{value:"lastScan",children:"Last scan"})]}),n.jsx("button",{type:"button",className:`${Is.chip} ${d?Is.isActive:""}`,onClick:()=>h(R=>!R),children:" Favorites"}),n.jsx("button",{type:"button",className:`${Is.chip} ${p?Is.isActive:""}`,onClick:()=>m(R=>!R),children:" Active"}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx("button",{type:"button",className:Is.hudSubBtn,onClick:P,children:"Reset"}),x==="sheet"&&n.jsx("button",{type:"button",className:Is.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Mn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function PF({open:t,onClose:e,mode:s="modal",serversByRegion:r,selected:i,onToggle:o,onSelectAllInRegion:c,onClearAll:d}){const[h,p]=D.useState(""),m=D.useRef(null),[x,v]=D.useState(null),[w,N]=D.useState(!1);D.useEffect(()=>{if(!t)return;const E=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,e]),D.useEffect(()=>{if(t&&m.current){const E=m.current.querySelector("#sheet-serversearch");E==null||E.focus()}},[t]);const P=D.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var j;return!((j=r==null?void 0:r[y])!=null&&j.length)}),[r]);D.useEffect(()=>{if(!t||!P)return;let E=!0;return(async()=>{try{N(!0);const y=await tr(ln(jt,"stats_public","toplists_bundle_v1"));if(!E)return;const j=y.data()||{},M=Array.isArray(j.servers)?j.servers:JSON.parse(j.servers||"[]");v(LF(M))}catch(y){v(null)}finally{E&&N(!1)}})(),()=>{E=!1}},[t,P]);const R=D.useMemo(()=>P?x!=null?x:{EU:[],US:[],INT:[],Fusion:[]}:r,[P,r,x]),O=D.useMemo(()=>Object.keys(R),[R]),B=E=>{const y=h.trim().toLowerCase();return y?E.toLowerCase().includes(y):!0};return t?n.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:MF,onClick:E=>{E.target===E.currentTarget&&e()},children:n.jsxs("div",{ref:m,style:s==="modal"?f3:FF,className:"sf-server-sheet",children:[n.jsxs("div",{style:BF,children:[n.jsx("h2",{id:"server-dialog-title",style:$F,children:"Select servers"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{type:"button",onClick:d,style:Q_,children:"Clear"}),n.jsx("button",{type:"button",onClick:e,style:WF,children:"Done"})]})]}),n.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[n.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),n.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:E=>p(E.target.value),"aria-label":"Search servers",autoComplete:"off",style:OF})]}),n.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map(E=>{const y=(R[E]||[]).filter(B);return n.jsxs("section",{"aria-labelledby":`region-${E}`,children:[n.jsxs("div",{style:UF,children:[n.jsxs("h3",{id:`region-${E}`,style:VF,children:[E," ",w&&P?n.jsx("span",{style:{marginLeft:6,fontSize:12,color:Mn.text2},children:"(loading)"}):null]}),n.jsx("div",{style:{display:"flex",gap:8},children:n.jsx("button",{type:"button",style:Q_,onClick:()=>{c?c(E):y.filter(M=>!i.includes(M)).forEach(o)},children:"Select all"})})]}),n.jsxs("div",{style:zF,children:[y.map(j=>{const M=i.includes(j);return n.jsx("button",{type:"button",onClick:()=>o(j),"aria-pressed":M,title:j,style:{...GF,...M?HF:null},children:j},j)}),y.length===0&&n.jsx("div",{style:{color:Mn.text2,fontSize:13,padding:"4px 2px"},children:w&&P?"Loading":"No servers found"})]})]},E)})})]})}):null}function LF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const s of t){const r=s.toUpperCase();r.startsWith("EU")?e.EU.push(s):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(s):r.startsWith("F")?e.Fusion.push(s):e.INT.push(s)}return Object.keys(e).forEach(s=>e[s].sort(DF)),e}function DF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const MF={position:"fixed",inset:0,background:Mn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},f3={width:"min(900px, 100%)",background:Mn.tile,border:`1px solid ${Mn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Mn.text},FF={...f3,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},BF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},$F={fontSize:18,margin:0},VF={fontSize:14,margin:0,color:Mn.text2},OF={width:"100%",background:Mn.input,color:Mn.text,border:`1px solid ${Mn.line}`,borderRadius:12,padding:"10px 12px"},UF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},zF={display:"flex",flexWrap:"wrap",gap:8},GF={background:Mn.chip,border:`1px solid ${Mn.line}`,padding:"6px 10px",borderRadius:999,color:Mn.text},HF={outline:`2px solid ${Mn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},WF={background:"#25456B",color:Mn.text,border:`1px solid ${Mn.accent}`,borderRadius:10,padding:"8px 12px"},Q_={background:"transparent",color:Mn.text,border:`1px solid ${Mn.line}`,borderRadius:10,padding:"8px 12px"},qF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=qF,document.head.appendChild(e)}}const Kn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function KF({open:t,onClose:e}){const{searchText:s,setSearchText:r,range:i,setRange:o,sortBy:c,setSortBy:d,quickFav:h,setQuickFav:p,quickActive:m,setQuickActive:x}=Au(),v=D.useRef(null);if(D.useEffect(()=>{if(!t)return;const N=P=>{P.key==="Escape"&&e()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[t,e]),D.useEffect(()=>{if(t&&v.current){const N=v.current.querySelector("#sheet-search");N==null||N.focus()}},[t]),!t)return null;const w=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return n.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:QF,onClick:N=>{N.target===N.currentTarget&&e()},children:n.jsxs("div",{ref:v,style:XF,children:[n.jsxs("div",{style:YF,children:[n.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Kn.text},children:"Filters"}),n.jsx("button",{type:"button",onClick:e,style:ZF,children:"Done"})]}),n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),n.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:s,onChange:N=>r(N.target.value),"aria-label":"Search",autoComplete:"off",style:g3})]}),n.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[n.jsx("span",{style:{color:Kn.text2,fontSize:12},children:"Range"}),n.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:w.map(N=>n.jsx("button",{type:"button","aria-pressed":i===N.value,onClick:()=>o(N.value),style:{...sx,...i===N.value?rx:null},children:N.label},N.label))})]}),n.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[n.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Kn.text2,fontSize:12},children:"Sort"}),n.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:N=>d(N.target.value),"aria-label":"Sort",autoComplete:"off",style:JF,children:[n.jsx("option",{value:"sum",children:"Base Sum"}),n.jsx("option",{value:"main",children:"Main Base Stat"}),n.jsx("option",{value:"constitution",children:"Constitution"}),n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"delta",children:" Rank"}),n.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[n.jsx("button",{type:"button",onClick:()=>p(N=>!N),"aria-pressed":h,style:{...sx,...h?rx:null},children:" Favorites"}),n.jsx("button",{type:"button",onClick:()=>x(N=>!N),"aria-pressed":m,style:{...sx,...m?rx:null},children:" Active"})]})]})})}const QF={position:"fixed",inset:0,background:Kn.backdrop,zIndex:60,display:"grid",alignItems:"end"},XF={background:Kn.tile,borderTop:`1px solid ${Kn.line}`,borderLeft:`1px solid ${Kn.line}`,borderRight:`1px solid ${Kn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Kn.text,maxHeight:"80vh",overflow:"auto"},YF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},g3={width:"100%",background:Kn.input,color:Kn.text,border:`1px solid ${Kn.line}`,borderRadius:12,padding:"10px 12px"},JF={...g3,appearance:"none"},sx={background:"#14273E",border:`1px solid ${Kn.line}`,padding:"6px 10px",borderRadius:999,color:Kn.text},rx={outline:`2px solid ${Kn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},ZF={background:"#25456B",color:Kn.text,border:`1px solid ${Kn.accent}`,borderRadius:10,padding:"8px 12px"},eB=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=eB,document.head.appendChild(e)}}function tB(){var i;const t=Au(),e=(i=t==null?void 0:t.listView)!=null?i:"table",s=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:s;return e==="table"?null:n.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:n.jsxs("div",{children:["Showing ",r.length," / ",s.length]})}),e==="cards"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(o=>{var c,d,h,p,m,x,v;return n.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[n.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=o.name)!=null?c:""}),n.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=o.server)!=null?d:""})]}),n.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",n.jsx("span",{style:{textTransform:"uppercase"},children:(h=o.class)!=null?h:""}),"  Lv ",(p=o.level)!=null?p:"","  Scrap ",(m=o.scrapbook)!=null?m:""]}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[n.jsx(ix,{children:o.active?"Active":"Idle"}),o.favorite&&n.jsx(ix,{children:" Fav"}),n.jsx(ix,{children:`Scan ${(x=o.lastScanDays)!=null?x:"?"}d`})]})]},(v=o.id)!=null?v:`${o.name}-${o.server}`)})}),e==="buttons"&&n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(o=>{var c,d,h,p;return n.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[o.favorite&&" ",(c=o.name)!=null?c:"",n.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=o.server)!=null?d:"","  Lv ",(h=o.level)!=null?h:"",")"]})]},(p=o.id)!=null?p:`${o.name}-${o.server}`)})})]})}function ix({children:t}){return n.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const x3=D.createContext(null),X_=(t,e)=>t.length===e.length&&t.every((s,r)=>s===e[r]);function nB(t,e){return t.timeRange===e.timeRange&&X_(t.servers,e.servers)&&X_(t.classes,e.classes)}function sB(t,e){return t.field===e.field&&t.dir===e.dir}function rB({children:t}){const[e,s]=D.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=D.useState({field:"Level",dir:"desc"}),[o,c]=D.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=D.useCallback(x=>{s(v=>{const w=typeof x=="function"?x(v):{...v,...x};return nB(v,w)?v:w})},[]),h=D.useCallback(x=>{i(v=>{const w=typeof x=="function"?x(v):x;return sB(v,w)?v:w})},[]),p=D.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);D.useEffect(()=>{let x=!1;return x||c(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{x=!0}},[p]);const m=D.useMemo(()=>({state:o,filters:e,sort:r,setFilters:d,setSort:h}),[o,e,r,d,h]);return n.jsx(x3.Provider,{value:m,children:t})}function iB(){const t=D.useContext(x3);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const Y_=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(s,r)=>{t[s].includes(r)||t[s].push(r)};return h3.forEach(s=>{var o;const r=(o=s.id)!=null?o:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(s=>{t[s].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function aB(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function oB(){const t=Au(),{filterMode:e,setFilterMode:s,listView:r,setListView:i,bottomFilterOpen:o,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:h,servers:p,setServers:m,classes:x,range:v,sortBy:w}=t;return n.jsxs(n.Fragment,{children:[n.jsxs(St,{mode:"card",title:"Top Lists",actions:n.jsx(cB,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?n.jsx(RF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[n.jsx(tB,{}),r==="table"&&n.jsx(rB,{children:n.jsx(lB,{servers:p!=null?p:[],classes:x!=null?x:[],range:v!=null?v:"all",sortKey:w!=null?w:"level"})})]}),n.jsx(PF,{mode:"modal",open:d,onClose:()=>h(!1),serversByRegion:Y_,selected:p,onToggle:N=>m(P=>P.includes(N)?P.filter(R=>R!==N):[...P,N]),onSelectAllInRegion:N=>m(Y_[N]),onClearAll:()=>m([])}),n.jsx(KF,{open:e==="sheet"&&o,onClose:()=>c(!1)})]})}function lB({servers:t,classes:e,range:s,sortKey:r}){const{state:i,setFilters:o,setSort:c}=iB(),{loading:d,error:h,data:p,lastUpdated:m}=i;D.useEffect(()=>{const v=s==="all"?"all":s===60?"30d":`${s}d`;o({servers:t,classes:e,timeRange:v})},[t,e,s,o]),D.useEffect(()=>{const v=aB(r);c(v)},[r,c]);const x=v=>v==null?"":new Intl.NumberFormat("en").format(v);return n.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[n.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[n.jsxs("div",{children:[d?"Loading":h?"Error":"Ready","  ",p.length," rows"]}),n.jsx("div",{children:m?`Updated: ${new Date(m*1e3).toLocaleString()}`:null})]}),h&&n.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),n.jsx("div",{style:{wordBreak:"break-all"},children:h}),n.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{padding:"8px 6px"},children:"#"}),n.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),n.jsxs("tbody",{children:[p.map((v,w)=>{var N,P,R;return n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),n.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Level)}),n.jsx("td",{style:{padding:"8px 6px"},children:(N=v.Guild)!=null?N:""}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Main)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Con)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v["Sum Base Stats"])}),n.jsx("td",{style:{padding:"8px 6px"},children:(P=v.Ratio)!=null?P:""}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Mine)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:x(v.Treasury)}),n.jsx("td",{style:{padding:"8px 6px"},children:(R=v["Last Scan"])!=null?R:""}),n.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${w}`)}),d&&p.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!h&&p.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function cB(){const{filterMode:t,setFilterMode:e,listView:s,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:o}=Au();return n.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[n.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[n.jsx(J_,{to:"/toplists/players",label:"Players"}),n.jsx(J_,{to:"/toplists/guilds",label:"Guilds"})]}),n.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),n.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[n.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),n.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),n.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),n.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),n.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[n.jsx("button",{"aria-pressed":s==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),n.jsx("button",{"aria-pressed":s==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),n.jsx("button",{"aria-pressed":s==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function J_({to:t,label:e}){return n.jsx(an,{to:t,className:({isActive:s})=>["rounded-lg px-3 py-1.5 text-sm text-white border",s?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const dB=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function uB(){return n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),dB.map(t=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[n.jsxs("div",{children:["#",t.rank]}),n.jsxs("div",{children:[t.name,"  ",t.server]}),n.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),n.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function hB(t="players"){const e=Ga(),{search:s,pathname:r}=sr();return[new URLSearchParams(s).get("tab")||t,d=>{const h=new URLSearchParams(s);h.set("tab",d),e(`${r}?${h.toString()}`,{replace:!1})}]}function pB(){const[t]=hB("players");return n.jsx(bF,{children:t==="players"?n.jsx(oB,{}):n.jsx(uB,{})})}function mB(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Browse"})})}function fB(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Rankings"})})}function gB(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Stats"})})}const op={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},xB={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},Rs=(t,e)=>Math.min(Math.max(Math.round(t),0),e),vB=t=>{var s,r,i,o;const e={...op,...t||{}};return{...e,class:Rs(e.class,15),race:Rs(e.race,8),mouth:Rs(e.mouth,30),hair:Rs(e.hair,40),hairColor:Rs(e.hairColor,12),horn:Rs(e.horn,10),hornColor:Rs(e.hornColor,10),brows:Rs(e.brows,10),eyes:Rs(e.eyes,20),beard:Rs(e.beard,15),nose:Rs(e.nose,10),ears:Rs(e.ears,10),extra:Rs(e.extra,20),special:Rs(e.special,200),showBorder:(s=e.showBorder)!=null?s:!0,background:(r=e.background)!=null?r:op.background,frame:(i=e.frame)!=null?i:op.frame,mirrorHorizontal:(o=e.mirrorHorizontal)!=null?o:op.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function v3({config:t,label:e}){const s=D.useRef(null),r=D.useRef(null),[i,o]=D.useState("idle"),c=D.useMemo(()=>({...vB(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);D.useEffect(()=>{let h=!1;o("loading");try{const p=s.current;if(!p){o("error");return}const m=new cj(p,c);r.current=m,o("ready")}catch(p){console.error("[PortraitMaker] failed to initialize",p),h||o("error")}return()=>{var p,m;h=!0;try{(m=(p=r.current)==null?void 0:p.dispose)==null||m.call(p)}catch(x){}r.current=null}},[c]);const d=i!=="ready"?xB[i]:null;return n.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[n.jsx("div",{className:"avatar-portrait__canvas-shell",children:n.jsx("canvas",{ref:s,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&n.jsx("span",{className:"avatar-portrait__status",children:d})]})}function yB({label:t,size:e=40}){const s=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return n.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:s||"?"})}function bB({className:t,label:e,size:s=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),o=Cn.find(d=>r(d.label)===i)||Cn.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),c=o?Nr(o.iconUrl,s*2):null;return c?n.jsx("div",{className:"player-profile__class-avatar",style:{width:s,height:s},children:n.jsx("img",{src:c,alt:"",draggable:!1})}):n.jsx(yB,{label:e,size:s})}function _B({data:t,loading:e,actionFeedback:s,onAction:r}){return n.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[n.jsx(v3,{config:t.portrait,label:t.playerName}),n.jsxs("div",{className:"player-profile__hero-body",children:[n.jsxs("div",{className:"player-profile__identity",children:[n.jsx(bB,{className:t.className,label:t.playerName,size:48}),n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__player-name",children:t.playerName}),n.jsxs("div",{className:"player-profile__player-meta",children:[n.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&n.jsxs("span",{children:[" ",t.guild]}),t.server&&n.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&n.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&n.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),n.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>n.jsxs("div",{className:"player-profile__hero-metric",children:[n.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),n.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&n.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&n.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>n.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&n.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),n.jsx("span",{children:i.label}),n.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&n.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>n.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),s&&n.jsx("p",{className:"player-profile__hero-feedback",children:s})]})]})]})}function wB({data:t}){return n.jsxs("div",{className:"player-profile__tab-panel",children:[n.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>n.jsxs("article",{className:"player-profile__card",children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),n.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&n.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),n.jsxs("div",{className:"player-profile__section",children:[n.jsxs("header",{className:"player-profile__section-head",children:[n.jsx("h3",{children:"Attribute"}),n.jsx("span",{children:"Basis vs. Gesamt"})]}),n.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>n.jsxs("div",{className:"player-profile__attr-card",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__attr-label",children:e.label}),n.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&n.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),n.jsxs("div",{className:"player-profile__split",children:[n.jsxs("div",{className:"player-profile__section",children:[n.jsx("header",{className:"player-profile__section-head",children:n.jsx("h3",{children:"Resistenzen"})}),n.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>n.jsxs("li",{children:[n.jsx("span",{children:e.label}),n.jsx("strong",{children:e.value})]},e.label))})]}),n.jsxs("div",{className:"player-profile__section",children:[n.jsx("header",{className:"player-profile__section-head",children:n.jsx("h3",{children:"konomie"})}),n.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>n.jsxs("li",{children:[n.jsx("span",{children:e.label}),n.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function jB({items:t}){return n.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>n.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[n.jsxs("div",{className:"player-profile__progress-head",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),n.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),n.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),n.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:n.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&n.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function SB({series:t}){return n.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var s;return n.jsxs("article",{className:"player-profile__trend-card",children:[n.jsxs("div",{className:"player-profile__trend-head",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&n.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),n.jsxs("div",{className:"player-profile__card-value",children:[(s=e.points[e.points.length-1])==null?void 0:s.toLocaleString("de-DE"),e.unit||""]})]}),n.jsx(TB,{points:e.points})]},e.label)})})}function kB({rows:t}){return n.jsxs("div",{className:"player-profile__tab-panel",children:[n.jsx("div",{className:"player-profile__section-head",children:n.jsx("h3",{children:"Serververgleich"})}),n.jsx("div",{className:"player-profile__comparison-wrapper",children:n.jsxs("table",{className:"player-profile__comparison",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Kategorie"}),n.jsx("th",{children:"Spieler"}),n.jsx("th",{children:"Cluster"}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:e.label}),n.jsx("td",{children:e.playerValue}),n.jsx("td",{children:e.benchmark}),n.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function NB({entries:t}){return n.jsx("div",{className:"player-profile__tab-panel",children:n.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>n.jsxs("li",{children:[n.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),n.jsxs("div",{className:"player-profile__timeline-card",children:[n.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),n.jsx("div",{className:"player-profile__timeline-title",children:e.title}),n.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function TB({points:t}){if(!t.length)return n.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),s=Math.max(...t),r=Math.max(1,s-e||1),o=t.map((c,d)=>{const h=t.length>1?d/(t.length-1)*100:0,p=100-(c-e)/r*100;return`${d===0?"M":"L"}${h},${p}`}).join(" ");return n.jsx("div",{className:"player-profile__trend-chart",children:n.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:n.jsx("path",{d:o})})})}const CB=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function ax(){const t=C0(),e=t.id||t.pid||t.playerId||t.player||"",s=Ga(),[r,i]=D.useState(!0),[o,c]=D.useState(null),[d,h]=D.useState(null),[p,m]=D.useState("Statistiken"),[x,v]=D.useState(null),w=D.useRef(null);D.useEffect(()=>{let E=!1;async function y(){var j,M,T,_,C,L,A,V,F,K,z,q,H,W,ne;i(!0),c(null);try{const re=(e||"").trim();if(!re)throw new Error("Kein Spieler gewhlt.");const G=ln(jt,`players/${re}/latest/latest`),Z=await tr(G);if(!Z.exists())throw new Error("Spieler nicht gefunden.");const ue=Z.data(),ee=typeof ue.values=="object"&&ue.values?ue.values:{},fe=(M=Pd((j=ue.level)!=null?j:ee==null?void 0:ee.Level))!=null?M:null,Te=((_=(T=ue.className)!=null?T:ee==null?void 0:ee.Class)!=null?_:null)||null,me=((L=(C=ue.guildName)!=null?C:ee==null?void 0:ee.Guild)!=null?L:null)||null,Ee=(V=(A=ue.name)!=null?A:ee==null?void 0:ee.Name)!=null?V:re,Ce=(K=(F=ue.server)!=null?F:ee==null?void 0:ee.Server)!=null?K:null,We=(q=Pd((z=ue.totalStats)!=null?z:ee==null?void 0:ee["Total Stats"]))!=null?q:null,kt=(ne=Pd((W=(H=ee==null?void 0:ee.Album)!=null?H:ee==null?void 0:ee["Album %"])!=null?W:ee==null?void 0:ee.AlbumPct))!=null?ne:null,Xe=EB(Pd(ue.timestamp)),At=typeof ue.portrait=="object"?ue.portrait:typeof ue.portraitOptions=="object"?ue.portraitOptions:typeof(ee==null?void 0:ee.portraitOptions)=="object"?ee.portraitOptions:void 0;E||h({id:re,name:Ee,className:Te,level:fe,guild:me,server:Ce,scrapbookPct:kt,totalStats:We,lastScanDays:Xe,values:ee,portraitConfig:At})}catch(re){E||(h(null),c((re==null?void 0:re.message)||"Unbekannter Fehler beim Laden."))}finally{E||i(!1)}}return y(),()=>{E=!0}},[e]),D.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const N=D.useMemo(()=>d?PB(d):null,[d]),P=E=>{v(E),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>v(null),3500)},R=async E=>{if(d){if(E==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),P("Profil-Link wurde kopiert.")}catch(j){P("Konnte Link nicht kopieren.")}}return}if(E==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),P("Profil geteilt.")}catch(y){P("Teilen abgebrochen.")}return}if(E==="guild"&&d.guild){s(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(E==="rescan"){P("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},O=()=>{if(!N)return null;switch(p){case"Statistiken":return n.jsx(wB,{data:N.stats});case"Charts":return n.jsx(SB,{series:N.charts});case"Fortschritt":return n.jsx(jB,{items:N.progress});case"Vergleich":return n.jsx(kB,{rows:N.comparison});case"Historie":return n.jsx(NB,{entries:N.history});default:return null}},B=()=>n.jsxs("div",{className:"player-profile__loading",children:[n.jsx("p",{children:o!=null?o:"Spieler nicht gefunden."}),n.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>s("/"),style:{marginTop:12},children:"Zur Startseite"})]});return n.jsx(St,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:n.jsxs("div",{className:"player-profile",children:[r&&!d&&n.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!N)&&B(),N&&n.jsxs(n.Fragment,{children:[n.jsx(_B,{data:N.hero,loading:r,actionFeedback:x,onAction:R}),n.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:CB.map(E=>{const y=p===E;return n.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>m(E),children:E},E)})}),O()]})]})})}const Pd=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),s=Number(e);return Number.isFinite(s)?s:null},EB=t=>{if(!t)return null;const e=Date.now()/1e3,s=Math.max(0,e-t);return Math.floor(s/86400)},ox=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),AB=t=>{const e=new Map;return Object.entries(t||{}).forEach(([s,r])=>e.set(ox(s),r)),{number(s,r=null){for(const i of s){const o=Pd(e.get(ox(i)));if(o!=null)return o}return r},text(s,r=null){for(const i of s){const o=e.get(ox(i));if(o!=null&&String(o).trim())return String(o).trim()}return r}}},y3=t=>{let e=2166136261;for(let s=0;s<t.length;s++)e^=t.charCodeAt(s),e=Math.imul(e,16777619);return()=>{e+=1831565813;let s=Math.imul(e^e>>>15,1|e);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}},Tn=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),Ip=t=>t==null?"":`${Math.round(t)}%`,Z_=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,IB={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},RB=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=y3(t.id||t.name),s=IB[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:s,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},PB=t=>{var K,z,q,H,W,ne,re,G,Z,ue,ee;const e=t.values||{},s=AB(e),r=y3(t.id),i=(K=t.level)!=null?K:s.number(["level"]),o=(z=t.scrapbookPct)!=null?z:s.number(["album","scrapbook","albumpct"]),c=s.number(["honor","ehre"]),d=(q=t.totalStats)!=null?q:s.number(["totalstats","stats"]),m=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(fe=>{var Te;return(Te=s.number(fe,0))!=null?Te:0}).reduce((fe,Te)=>fe+(Te!=null?Te:0),0),x=o!=null?o:Math.round(r()*80+10),v=(H=s.number(["fortresslevel","fortress"]))!=null?H:Math.round(r()*20)+30,w=(W=s.number(["underworld","underworldlevel"]))!=null?W:Math.round(r()*10)+20,N=(ne=s.number(["tower","towerfloor"]))!=null?ne:Math.round(r()*90)+10,P=(re=s.number(["pets","petprogress"]))!=null?re:Math.round(r()*50)+25,R=(i!=null?i:0)*1200+m+Math.round((o!=null?o:0)*3200),O=(G=s.text(["mount","reittier"]))!=null?G:"Greifendrachen (280%)",B=(Z=s.text(["guildrole","role"]))!=null?Z:"Member",E=s.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Tn(i)}`:""},{label:"Power Score",value:Tn(R)},{label:"Scrapbook",value:Ip(x)},{label:"Total Stats",value:Tn(d)}],j=[{label:"Mount",value:O,tone:"neutral"},{label:"Honor",value:Tn(c),tone:"success"},{label:"Gildenrolle",value:B,tone:"warning"},{label:"HoF",value:E?`#${Tn(E)}`:"",tone:"neutral"}],M={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Tn(i)}`:void 0,lastScanLabel:(ue=Z_(t.lastScanDays))!=null?ue:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:j,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:RB(t)},T=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],_={summary:[{label:"Power Score",value:Tn(R),hint:"Level * SumBase"},{label:"Honor",value:Tn(c)},{label:"HoF Platz",value:E?`#${Tn(E)}`:""},{label:"Letzter Scan",value:(ee=Z_(t.lastScanDays))!=null?ee:""}],attributes:T.map(fe=>({label:fe.label,baseLabel:Tn(s.number(fe.base)),totalLabel:s.number(fe.total)!=null?`Gesamt ${Tn(s.number(fe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Tn(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Tn(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:O},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},C=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(x!=null?x:0)/100),targetLabel:`${Ip(x)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:x!=null&&x>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,N/100),targetLabel:`Ebene ${Math.round(N)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,w/30),targetLabel:`Lvl ${Math.round(w)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,P/100),targetLabel:`${Math.round(P)} / 100`,meta:"Habitate offen"}],L=(fe,Te=.12)=>{const me=fe!=null?fe:Math.round(r()*100),Ee=[];let Ce=me*.85;for(let We=0;We<8;We++)Ce+=Ce*(r()*Te-Te/2),Ee.push(Math.max(0,Math.round(Ce)));return Ee[Ee.length-1]=me,Ee},A=[{label:"Level Verlauf",points:L(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:L(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:L(c!=null?c:0,.25),unit:"",subLabel:"Hall of Fame"}],V=[{label:"Level",playerValue:i?`Lvl ${Tn(i)}`:"",benchmark:i?`Lvl ${Tn(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Tn(R),benchmark:Tn(Math.round(R*.9)),diffLabel:`+${Tn(Math.round(R*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:Ip(x),benchmark:`${Math.min(100,Math.round((x!=null?x:60)-8))}%`,diffLabel:x!=null?`+${Math.round(x-60)}%`:"",trend:x!=null&&x>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(w)}`,benchmark:`Lvl ${Math.round(w-2)}`,diffLabel:"+2",trend:"neutral"}],F=LB(t,s,r);return{hero:M,stats:_,progress:C,charts:A,comparison:V,history:F}},LB=(t,e,s)=>{var c,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const o=e.text(["lastdungeon","lastfight"]);return o&&r.push({dateLabel:lp(Math.round(s()*15)+5),title:"Dungeon Clear",description:o,tag:"Dungeon"}),r.push({dateLabel:lp(2),title:"Level-Up",description:`Erreichte Level ${Tn(t.level)}`,tag:"Level"}),r.push({dateLabel:lp(10),title:"Scrapbook Meilenstein",description:`${Ip((c=t.scrapbookPct)!=null?c:Math.round(s()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:lp(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(s()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},lp=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function DB(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(ew,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),n.jsx(ew,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function ew({to:t,title:e,desc:s}){return n.jsxs(Et,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function MB(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds  Rankings"}),n.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function FB(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds  Stats"}),n.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function BB(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const $B={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function VB(t){var s;const e=BB(t);return(s=$B[e])!=null?s:null}function OB(t,e=128){var o,c;const s=VB(t);if(!s)return{id:null,url:null,thumb:null,fallback:""};const r=(o=Oo(s))!=null?o:null,i=r&&(c=Nr(r,e))!=null?c:null;return{id:s,url:r,thumb:i,fallback:""}}function ou(t,e=128){return OB(t,e).thumb}const Ko={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Om=(t,e)=>({...t||{},...e||{}}),tw=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),s=Math.floor((Date.now()-e.getTime())/864e5);return s<=0?"today":s===1?"yesterday":`${s}d ago`},UB=t=>Object.values(t||{}).reduce((e,s)=>e+(s||0),0),On=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function zB(t){var v,w,N,P,R,O,B,E;const e=On(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const s=On(t==null?void 0:t.baseMain),r=On(t==null?void 0:t.conBase);if(s!=null&&r!=null)return s+r;const i=(t==null?void 0:t.baseStats)||{},o=On(i==null?void 0:i.sumBaseTotal);if(o!=null)return o;const c=On(i==null?void 0:i.main),d=On(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const h=(t==null?void 0:t.values)||{},p=(w=(v=On(h==null?void 0:h.SumBaseTotal))!=null?v:On(h==null?void 0:h.sumBaseTotal))!=null?w:On(h==null?void 0:h["Sum Base Total"]);if(p!=null)return p;const m=(R=(P=(N=On(h==null?void 0:h.Main))!=null?N:On(h==null?void 0:h.main))!=null?P:On(h==null?void 0:h.BaseMain))!=null?R:On(h==null?void 0:h.baseMain),x=(E=(B=(O=On(h==null?void 0:h.Con))!=null?O:On(h==null?void 0:h.con))!=null?B:On(h==null?void 0:h.ConBase))!=null?E:On(h==null?void 0:h.conBase);return m!=null&&x!=null?m+x:null}function bo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function GB(t,e=56){if(!t)return;const s=bo(t),r=Cn.find(i=>bo(i.label)===s||bo(i.key)===s)||Cn.find(i=>bo(i.label).startsWith(s)||s.startsWith(bo(i.label))||bo(i.key).startsWith(s)||s.startsWith(bo(i.key)));return r?Nr(r.iconUrl,e):void 0}function HB({name:t,memberClass:e,online:s,theme:r=Ko}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=GB(e,56);return n.jsxs("div",{className:"relative",children:[o?n.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),s&&n.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const WB={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},qB=({role:t})=>n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(WB[t]||""),children:t});function nw(t,e){const s=(t!=null?t:"").trim();if(s)return s;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function KB(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,s=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:s!=null&&r!=null?s+r:null;return i!=null?i.toLocaleString("de-DE"):""}function cp({label:t,value:e,theme:s=Ko}){return n.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:s.border,background:s.tile},children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),n.jsx("div",{className:"text-lg font-semibold",style:{color:s.title},children:e})]})}function QB({member:t,theme:e,actions:s,extraKPIs:r}){var m,x,v,w,N,P,R,O,B;if(!t)return null;const i=Om(Ko,e),o=t,c=nw((x=(m=o.guildJoined)!=null?m:o.joinedAt)!=null?x:null,(v=o.guildJoinedMs)!=null?v:null),d=nw((w=o.lastActivity)!=null?w:null,(N=o.lastActivityMs)!=null?N:typeof o.lastOnline=="number"?o.lastOnline:null),h=KB(o),p=typeof o.totalStats=="number"?o.totalStats.toLocaleString("de-DE"):"";return n.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),n.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0",children:n.jsx(HB,{name:t.name,memberClass:(O=(R=o.class)!=null?R:(P=o.values)==null?void 0:P.Class)!=null?O:null,online:o.online,theme:i})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),o.role&&n.jsx(qB,{role:o.role})]}),n.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[o.class||"",o.server?`  ${o.server}`:"","  Joined ",c,"  Last ",d]})]}),n.jsx("div",{className:"ml-auto",children:s})]}),n.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsx(cp,{label:"Level",value:(B=o.level)!=null?B:"",theme:i}),typeof o.scrapbook=="number"&&n.jsx(cp,{label:"Scrapbook",value:`${o.scrapbook}%`,theme:i}),n.jsx(cp,{label:"Sum Base",value:h,theme:i}),n.jsx(cp,{label:"Total Stats",value:p,theme:i}),r]})]})}function _o(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function XB(t,e=40){if(!t)return;const s=_o(t);let r=Cn.find(i=>_o(i.label)===s||_o(i.key)===s)||Cn.find(i=>_o(i.label).startsWith(s)||s.startsWith(_o(i.label))||_o(i.key).startsWith(s)||s.startsWith(_o(i.key)));return r?Nr(r.iconUrl,e):void 0}function YB({name:t,memberClass:e,online:s,theme:r=Ko}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),o=XB(e,40);return n.jsxs("div",{className:"relative",children:[o?n.jsx("img",{src:o,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),s&&n.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const JB=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function ZB({rows:t,selId:e,onSelect:s,rightCols:r,theme:i}){const o=Om(Ko,i);return n.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:o.border},children:[n.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),n.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:o.tableBg},children:[n.jsx("div",{className:"h-8 sticky top-0",style:{background:o.header}}),t.map((c,d)=>{var h,p,m;return n.jsxs("button",{onClick:()=>s(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[n.jsx(YB,{name:c.name,memberClass:(m=(p=c.class)!=null?p:(h=c.values)==null?void 0:h.Class)!=null?m:null,online:c.online,theme:o}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),n.jsxs("div",{className:"text-xs truncate",style:{color:o.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),n.jsx("div",{className:"justify-self-end",children:n.jsx(JB,{role:c.role})}),r(c)]},c.id)})]})]})}function wo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function e$(t,e=40){if(!t)return;const s=wo(t);let r=Cn.find(i=>wo(i.label)===s||wo(i.key)===s)||Cn.find(i=>wo(i.label).startsWith(s)||s.startsWith(wo(i.label))||wo(i.key).startsWith(s)||s.startsWith(wo(i.key)));return r?Nr(r.iconUrl,e):void 0}function t$({rows:t,selId:e,onSelect:s,footer:r,theme:i}){const o=Om(Ko,i);return n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var v,w,N,P,R,O,B,E,y;const d=c,h=c.name.slice(0,2).toUpperCase(),p=e$((N=(w=d.class)!=null?w:(v=d.values)==null?void 0:v.Class)!=null?N:null,40),m=typeof d.level=="number"?d.level:typeof((P=d.values)==null?void 0:P.Level)=="number"?d.values.Level:"",x=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((R=d.values)==null?void 0:R.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return n.jsxs("button",{onClick:()=>s(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${o.glow}`:"none"},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[p?n.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:o.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:j=>{const M=j.currentTarget.parentElement;M&&(M.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${o.tile};color:${o.title};border-color:${o.border}">${h}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:o.tile,color:o.title,borderColor:o.border},children:h}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold truncate",style:{color:o.title},children:c.name}),n.jsxs("div",{className:"text-xs",style:{color:o.sub},children:[(E=(B=d.class)!=null?B:(O=d.values)==null?void 0:O.Class)!=null?E:"",d.server?`  ${d.server}`:""]})]}),n.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:o.border},children:(y=d.role)!=null?y:""})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),n.jsx("div",{className:"font-semibold",style:{color:o.title},children:m})]}),x&&n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),n.jsx("div",{className:"font-semibold",style:{color:o.title},children:x})]})]}),n.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}const n$=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(s=>{const r=t[s];typeof r=="number"&&(e[s]=r)}),Object.keys(e).length?e:void 0};function s$({members:t,defaultView:e="list",defaultQuery:s="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:o,onSelect:c,renderActions:d,renderKPIs:h,theme:p}){var L;const m=D.useMemo(()=>Om(Ko,p),[p]),[x,v]=D.useState(e),[w,N]=D.useState(s),[P,R]=D.useState(r.key),[O,B]=D.useState(r.dir),[E,y]=D.useState((L=t[0])==null?void 0:L.id),j=o!=null?o:E,M=A=>{o||y(A);const V=t.find(F=>F.id===A);V&&c&&c(V)},T=D.useMemo(()=>{const A=w.trim().toLowerCase();return A?t.filter(V=>V.name.toLowerCase().includes(A)||V.class.toLowerCase().includes(A)||String(V.role).toLowerCase().includes(A)):t},[t,w]),_=D.useMemo(()=>{const A=O==="asc"?1:-1,V=F=>{var K,z;switch(P){case"sumBaseStats":{const q=zB(F);return q==null?-1/0:q}case"totalStats":return(z=(K=F.totalStats)!=null?K:UB(n$(F.baseStats)))!=null?z:-1/0;default:return F[P]}};return[...T].sort((F,K)=>{const z=V(F),q=V(K);return z===q?0:z>q?A:-A})},[T,P,O]),C=D.useMemo(()=>_.find(A=>A.id===j)||_[0],[_,j]);return n.jsxs("div",{children:[i&&n.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:m.tile,borderColor:m.border},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"View"}),n.jsxs("select",{value:x,onChange:A=>v(A.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:m.border},children:[n.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),n.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"Search"}),n.jsx("input",{value:w,onChange:A=>N(A.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:m.border}})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"Sort by"}),n.jsxs("select",{value:String(P),onChange:A=>R(A.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:m.border},children:[n.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),n.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),n.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),n.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),n.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),n.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),n.jsx("button",{onClick:()=>B(A=>A==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:m.border},children:O==="asc"?"":""})]})]}),n.jsx(QB,{member:C,actions:C&&(d?d(C):n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Profile"}),n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Compare"}),n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Message"})]})),extraKPIs:C&&h?h(C):null,theme:m}),x==="list"?n.jsx(ZB,{rows:_,selId:j,onSelect:M,theme:m,rightCols:A=>{var V;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-right text-sm",children:(V=A.level)!=null?V:""}),n.jsx("div",{className:"text-right text-xs",style:{color:m.sub},children:tw(A.lastOnline)})]})}}):n.jsx(t$,{rows:_,selId:j,onSelect:M,theme:m,footer:A=>n.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:m.sub},children:n.jsxs("span",{children:["Last ",tw(A.lastOnline)]})})})]})}function r$({guildName:t,server:e,emblemUrl:s,lastScanISO:r,members:i,avgLevel:o,totalPower:c,activity7d:d,topClasses:h,tickerItems:p,href:m,onClick:x,className:v}){const w=!!i3(),N=D.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),F=Math.max(0,Math.floor(V/6e4));if(F<60)return`${F}m`;const K=Math.floor(F/60);return K<24?`${K}h`:`${Math.floor(K/24)}d`},[r]),P=Id(0),R=Id(0),O=Id(0),B=Id(0),E=sp(P,V=>Math.round(V).toString()),y=sp(R,V=>Math.round(V).toString()),j=sp(O,V=>Math.round(V).toLocaleString()),M=sp(B,V=>`${Math.round(V)}%`);D.useEffect(()=>{const V=w?0:.6;if(V===0){P.set(i),R.set(o),O.set(c!=null?c:0),B.set(d!=null?d:0);return}const F=[rp(P,i,{duration:V}),rp(R,o,{duration:V}),rp(O,c!=null?c:0,{duration:V}),rp(B,d!=null?d:0,{duration:V})];return()=>F.forEach(K=>K.stop())},[i,o,c,d,w]);const T=D.useRef(null);D.useEffect(()=>{if(w||!T.current)return;const V=T.current;let F=0,K=0;const z=()=>{K+=.016;const q=K*14%140-20;V.style.setProperty("--s-x",`${q}%`),F=requestAnimationFrame(z)};return F=requestAnimationFrame(z),()=>cancelAnimationFrame(F)},[w]);const _={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},C=100,L=m?"a":"div",A=m?{href:m}:{onClick:x};return n.jsxs(L,{...A,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${_.bgFrom}, ${_.bgTo})`},children:[n.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),n.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[n.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[s?n.jsx("img",{src:s,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):n.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:n.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),n.jsx("div",{ref:T,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),N&&n.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:_.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${_.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",N]}),n.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${C}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),n.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${C}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${C}deg, transparent 0 46px, ${_.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),n.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[n.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[n.jsx("h3",{className:"truncate font-extrabold",style:{color:_.title,fontSize:22},children:t}),n.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:_.soft,border:`1px solid ${_.border}`},children:e})]}),n.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[n.jsx(dp,{label:"Members",value:E}),n.jsx(dp,{label:" Level",value:y}),n.jsx(dp,{label:"Total Power",value:j}),typeof d=="number"&&n.jsx(dp,{label:"Activity (7d)",value:M})]}),h!=null&&h.length?n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:_.soft},children:"Top Classes"}),h.slice(0,3).map(V=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${_.border}`,color:_.text},children:[V.iconUrl?n.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):n.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:_.accent,opacity:.85}}),n.jsxs("span",{className:"text-xs",children:[V.key," ",n.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),p!=null&&p.length?n.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${_.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:n.jsx(i$,{items:p,muted:w,color:_.soft})}):null]})}function dp({label:t,value:e}){return n.jsxs("div",{className:"relative z-10 min-w-0",children:[n.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),n.jsx(s3.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function i$({items:t,muted:e,color:s}){const r=D.useRef(null);return D.useEffect(()=>{if(e||!r.current)return;const i=r.current;let o=0,c=0;const d=()=>{o+=.016;const h=o*40%(i.scrollWidth+60);i.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:s},children:t.concat(t).map((i,o)=>n.jsx("span",{className:"mx-6 text-xs align-middle",children:i},o))})})}const a$="_wrap_q5gkc_53",o$="_banner_q5gkc_59",l$="_bannerRowTop_q5gkc_61",c$="_bannerStripe_q5gkc_71",d$="_bannerTitle_q5gkc_79",u$="_bannerRowBottom_q5gkc_93",h$="_bannerSub_q5gkc_95",p$="_monthPickerWrap_q5gkc_101",m$="_monthPickerLabel_q5gkc_113",f$="_monthPicker_q5gkc_101",g$="_monthButton_q5gkc_131",x$="_monthButtonText_q5gkc_159",v$="_chev_q5gkc_161",y$="_monthList_q5gkc_165",b$="_monthOption_q5gkc_195",_$="_monthBadge_q5gkc_221",w$="_gridRow_q5gkc_237",j$="_gridRowBottom_q5gkc_239",S$="_sideImage_q5gkc_253",k$="_sideImagePh_q5gkc_271",N$="_emblemPanel_q5gkc_275",T$="_emblemFrame_q5gkc_295",C$="_emblemImg_q5gkc_297",E$="_emblemPlaceholder_q5gkc_299",A$="_emblemShimmer_q5gkc_307",I$="_emblemCaption_q5gkc_315",R$="_card_q5gkc_319",P$="_cardHeader_q5gkc_331",L$="_cardTitle_q5gkc_339",D$="_cardSubtitle_q5gkc_341",M$="_headerRight_q5gkc_343",F$="_cardBody_q5gkc_345",B$="_tableWrap_q5gkc_349",$$="_tableTitle_q5gkc_351",V$="_table_q5gkc_349",O$="_th_q5gkc_355",U$="_td_q5gkc_355",z$="_tdEmpty_q5gkc_365",G$="_sectionDivider_q5gkc_375",H$="_sectionStripe_q5gkc_389",W$="_sectionTitle_q5gkc_397",Je={wrap:a$,banner:o$,bannerRowTop:l$,bannerStripe:c$,bannerTitle:d$,bannerRowBottom:u$,bannerSub:h$,monthPickerWrap:p$,monthPickerLabel:m$,monthPicker:f$,monthButton:g$,monthButtonText:x$,chev:v$,monthList:y$,monthOption:b$,monthBadge:_$,gridRow:w$,gridRowBottom:j$,sideImage:S$,sideImagePh:k$,emblemPanel:N$,emblemFrame:T$,emblemImg:C$,emblemPlaceholder:E$,emblemShimmer:A$,emblemCaption:I$,card:R$,cardHeader:P$,cardTitle:L$,cardSubtitle:D$,headerRight:M$,cardBody:F$,tableWrap:B$,tableTitle:$$,table:V$,th:O$,td:U$,tdEmpty:z$,sectionDivider:G$,sectionStripe:H$,sectionTitle:W$};function q$(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function sw(t,e="de-DE"){const s=new Date(t);return Number.isNaN(s.getTime())?"":s.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const rw=({title:t,subtitle:e,children:s,rightBadge:r})=>n.jsxs("section",{className:Je.card,children:[(t||e||r)&&n.jsxs("header",{className:Je.cardHeader,children:[n.jsxs("div",{className:Je.headerTitles,children:[t&&n.jsx("h3",{className:Je.cardTitle,children:t}),e&&n.jsx("div",{className:Je.cardSubtitle,children:e})]}),r&&n.jsx("div",{className:Je.headerRight,children:r})]}),n.jsx("div",{className:Je.cardBody,children:s})]}),iw=({block:t})=>{var r,i;const e=t.columns,s=(r=t.rows)!=null?r:[];return n.jsxs("div",{className:Je.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&n.jsx("div",{className:Je.tableTitle,children:t.title}),n.jsxs("table",{className:Je.table,children:[n.jsx("thead",{children:n.jsx("tr",{children:e.map(o=>n.jsx("th",{className:Je.th,style:{width:o.width},children:o.label},o.key))})}),n.jsx("tbody",{children:s.length===0?n.jsx("tr",{children:n.jsx("td",{className:Je.tdEmpty,colSpan:e.length,children:"No data"})}):s.map((o,c)=>{var d;return n.jsx("tr",{children:e.map(h=>{var v;const p=o[h.key],m=typeof p=="number"||typeof p=="string"?p:"",x=h.format==="num"?q$(m):m;return n.jsx("td",{className:Je.td,"data-align":(v=h.align)!=null?v:"left",children:h.render?h.render(o):x},h.key)})},(d=o.id)!=null?d:c)})})]}),t.footer&&n.jsx("div",{className:Je.tableFooter,children:t.footer})]})},K$=(t,e)=>{D.useEffect(()=>{function s(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t,e])},Q$=({months:t,currentKey:e,onChange:s,fallbackDate:r})=>{var m;if(!(Array.isArray(t)&&t.length>0&&e))return n.jsx("div",{className:Je.bannerSub,children:r!=null?r:""});const o=D.useRef(null),[c,d]=D.useState(!1);K$(o,()=>d(!1));const h=t.find(x=>x.key===e),p=h?`${sw(h.fromISO)}${sw(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return n.jsxs("div",{className:Je.monthPickerWrap,children:[n.jsx("div",{className:Je.monthPickerLabel,children:"Monat"}),n.jsxs("div",{className:Je.monthPicker,ref:o,children:[n.jsxs("button",{type:"button",className:Je.monthButton,onClick:()=>d(x=>!x),"aria-haspopup":"listbox","aria-expanded":c,children:[n.jsx("span",{className:Je.monthButtonText,children:(m=h==null?void 0:h.label)!=null?m:""}),n.jsx("svg",{className:Je.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&n.jsx("ul",{className:Je.monthList,role:"listbox",children:t.map(x=>n.jsx("li",{children:n.jsx("button",{type:"button",className:Je.monthOption,onClick:()=>{d(!1),s==null||s(x.key)},role:"option","aria-selected":x.key===e,children:x.label})},x.key))})]}),p&&n.jsx("span",{className:Je.monthBadge,children:p})]})},X$=({title:t,monthRange:e,months:s,currentMonthKey:r,onMonthChange:i})=>n.jsxs("div",{className:Je.banner,children:[n.jsxs("div",{className:Je.bannerRowTop,children:[n.jsx("div",{className:Je.bannerStripe}),n.jsx("div",{className:Je.bannerTitle,children:t}),n.jsx("div",{className:Je.bannerStripe})]}),n.jsx("div",{className:Je.bannerRowBottom,children:n.jsx(Q$,{months:s,currentKey:r,onChange:i,fallbackDate:e})})]}),Y$=({emblemUrl:t,caption:e})=>n.jsxs("div",{className:Je.emblemPanel,children:[n.jsxs("div",{className:Je.emblemFrame,children:[t?n.jsx("img",{src:t,alt:"Guild Emblem",className:Je.emblemImg}):n.jsx("div",{className:Je.emblemPlaceholder,children:"Emblem"}),n.jsx("div",{className:Je.emblemShimmer})]}),e&&n.jsx("div",{className:Je.emblemCaption,children:e})]}),aw=({imgUrl:t,alt:e})=>n.jsx("div",{className:Je.sideImage,children:t?n.jsx("img",{src:t,alt:e!=null?e:"side"}):n.jsx("div",{className:Je.sideImagePh,children:"Image"})}),lx=({children:t,className:e})=>n.jsx("div",{className:`${Je.gridRow} ${e!=null?e:""}`,children:t}),J$=({children:t})=>n.jsxs("div",{className:Je.sectionDivider,children:[n.jsx("div",{className:Je.sectionStripe}),n.jsx("div",{className:Je.sectionTitle,children:t}),n.jsx("div",{className:Je.sectionStripe})]}),Z$=({data:t,onMonthChange:e})=>{const{header:s,panels:r,tablesTop:i,tablesBottom:o}=t;return n.jsxs("div",{className:Je.wrap,children:[n.jsx(X$,{title:s.title,monthRange:s.monthRange,months:s.months,currentMonthKey:s.currentMonthKey,onMonthChange:e}),n.jsxs(lx,{children:[n.jsx(aw,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),n.jsx(Y$,{emblemUrl:s.emblemUrl,caption:s.centerCaption}),n.jsx(aw,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),n.jsx(lx,{children:i.map((c,d)=>n.jsx(rw,{title:c.title,subtitle:c.subtitle,children:n.jsx(iw,{block:c})},d))}),n.jsx(J$,{children:"Guild Overview"}),n.jsx(lx,{className:Je.gridRowBottom,children:o.map((c,d)=>n.jsx(rw,{title:c.title,subtitle:c.subtitle,children:n.jsx(iw,{block:c})},d))})]})},eV=({guildId:t,guildName:e,guildServer:s})=>{const[r,i]=D.useState(!0),[o,c]=D.useState(null),[d,h]=D.useState(void 0),p=D.useRef({}),[m,x]=D.useState(()=>up(e,s));D.useEffect(()=>{let w=!1;async function N(){var P,R,O,B,E;i(!0);try{const y=km(jt,`guilds/${t}/history_monthly`),j=await Ms(y),M=[];for(const C of j.docs){const L=C.id,A=C.data();if(!A)continue;p.current[L]=A;const V=(P=A==null?void 0:A.meta)!=null?P:{},F=V.fromISO||V.baselineISO||V.firstISO||"",K=V.toISO||V.latestISO||V.nowISO||"",z=Number((R=V.daysSpan)!=null?R:Math.floor((+new Date(K)-+new Date(F))/864e5))||0,q=!!((B=(O=A==null?void 0:A.status)==null?void 0:O.available)!=null?B:F&&K&&z<=40),H=V.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});M.push({key:L,label:H,fromISO:F||new Date(L+"-01").toISOString(),toISO:K||new Date(L+"-28").toISOString(),daysSpan:z,available:q,reason:q||(E=A==null?void 0:A.status)==null?void 0:E.reason})}if(M.sort((C,L)=>C.key<L.key?1:-1),w)return;if(M.length===0){c(null),h(void 0),x(up(e,s)),i(!1);return}c(M);const T=M[0].key;h(T);const _=p.current[T];x(ow(_,{guildName:e,guildServer:s,currentMonthKey:T,months:M}))}catch(y){console.error(y),c(null),h(void 0),x(up(e,s))}finally{w||i(!1)}}return N(),()=>{w=!0}},[t,e,s]);async function v(w){h(w);let N=p.current[w];if(!N)try{const P=ln(jt,`guilds/${t}/history_monthly/${w}`),R=await tr(P);R.exists()?(N=R.data(),p.current[w]=N):N=null}catch(P){console.error(P),N=null}if(!N){x(up(e,s,{currentMonthKey:w,months:o!=null?o:void 0}));return}x(ow(N,{guildName:e,guildServer:s,currentMonthKey:w,months:o!=null?o:void 0}))}return n.jsx(Z$,{data:m,onMonthChange:v})};function up(t,e,s){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:ou(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:s==null?void 0:s.currentMonthKey,months:s==null?void 0:s.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[jo("Most Base Stats gained",e?`Server ${e}`:void 0),jo("Sum Base Stats"),jo("Highest Base Stats")],tablesBottom:[jo("Main & Con"),jo("Sum Base Stats"),jo("Highest Base Stats"),jo("Highest Total Stats")]}}function jo(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function ow(t,e){var c,d,h,p,m,x,v,w;(c=t==null?void 0:t.meta)!=null;const s={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:ou(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((N,P)=>{var R,O,B,E,y,j,M,T;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",level:(E=(B=N.levelLatest)!=null?B:N.level)!=null?E:null,base:(j=(y=N.baseLatest)!=null?y:N.base)!=null?j:null,delta:(T=(M=N.baseDelta)!=null?M:N.delta)!=null?T:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((N,P)=>{var R,O,B,E,y,j,M;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",base:(B=N.base)!=null?B:null,stam:(y=(E=N.stamDelta)!=null?E:N.staminaDelta)!=null?y:null,sho:(M=(j=N.shoDelta)!=null?j:N.shootingDelta)!=null?M:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((N,P)=>{var R,O,B,E,y;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",stats:(E=(B=N.stats)!=null?B:N.base)!=null?E:null,delta:(y=N.delta)!=null?y:null}})}],o=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((m=t==null?void 0:t.mainAndCon)!=null?m:[]).map((N,P)=>{var R,O,B,E,y,j;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",class:(E=(B=N.class)!=null?B:N.className)!=null?E:"",stats:(y=N.stats)!=null?y:null,delta:(j=N.delta)!=null?j:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((x=t==null?void 0:t.sumBaseStats)!=null?x:[]).map((N,P)=>{var R,O,B,E,y;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",base:(B=N.base)!=null?B:null,stam:(E=N.stamDelta)!=null?E:null,sho:(y=N.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((N,P)=>{var R,O,B,E;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",stats:(B=N.stats)!=null?B:null,delta:(E=N.delta)!=null?E:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((w=t==null?void 0:t.highestTotalStats)!=null?w:[]).map((N,P)=>{var R,O,B,E;return{id:(R=N.playerId)!=null?R:P,rank:P+1,name:(O=N.name)!=null?O:"-",total:(B=N.total)!=null?B:null,delta:(E=N.delta)!=null?E:null}})}];return{header:s,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:o}}const tV="_root_r1uj3_5",nV="_sectionDivider_r1uj3_17",sV="_sectionStripe_r1uj3_31",rV="_sectionTitle_r1uj3_33",fd={root:tV,sectionDivider:nV,sectionStripe:sV,sectionTitle:rV},iV="_root_4jywc_1",aV="_accent_4jywc_31",lw={root:iV,default:"_default_4jywc_29",accent:aV};function Ua({text:t,tone:e="default",className:s}){return n.jsx("div",{className:`${lw.root} ${lw[e]} ${s!=null?s:""}`.trim(),children:t})}const hp=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function b3(t,e=64){if(!t)return;const s=hp(t);let r=Cn.find(i=>hp(i.label)===s);return r||(r=Cn.find(i=>hp(i.label).startsWith(s)||s.startsWith(hp(i.label)))),r?Nr(r.iconUrl,e):void 0}const oV="_card_vvv3s_3",lV="_wrap_vvv3s_31",cV="_divider_vvv3s_45",dV="_rows_vvv3s_77",uV="_row_vvv3s_77",hV="_left_vvv3s_109",pV="_label_vvv3s_111",mV="_avgHead_vvv3s_113",fV="_avgNum_vvv3s_115",gV="_top3_vvv3s_121",xV="_chip_vvv3s_123",vV="_badge_vvv3s_151",yV="_name_vvv3s_159",bV="_score_vvv3s_161",_V="_headerSpacer_vvv3s_167",fs={card:oV,wrap:lV,divider:cV,rows:dV,row:uV,left:hV,label:pV,avgHead:mV,avgNum:fV,top3:gV,chip:xV,badge:vV,name:yV,score:bV,headerSpacer:_V};function wV({name:t,value:e,classLabel:s,colors:r}){const i=b3(s,64);return n.jsxs("div",{className:fs.chip,children:[n.jsx("span",{className:fs.badge,children:i?n.jsx("img",{src:i,alt:""}):null}),n.jsx("span",{className:fs.name,children:t!=null?t:""}),n.jsx("span",{className:fs.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function jV({snapshot:t,colors:e,title:s="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var m,x;return((m=p[d])!=null?m:0)-((x=h[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return n.jsxs("div",{className:fs.card,children:[n.jsx(Ua,{text:s}),n.jsx("div",{className:fs.headerSpacer}),n.jsxs("div",{className:fs.wrap,children:[n.jsx("div",{className:fs.divider}),n.jsx("div",{className:fs.rows,children:o.map((d,h)=>n.jsxs("div",{className:fs.row,children:[n.jsxs("div",{className:fs.left,children:[n.jsx("div",{className:fs.label,children:d.label}),n.jsx("div",{className:fs.avgHead,children:""}),n.jsx("div",{className:fs.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),n.jsx("div",{className:fs.top3,children:d.list.map((p,m)=>n.jsx(wV,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},m))})]},h))})]})]})}const SV="_card_1enwc_1",kV="_wrap_1enwc_1",NV="_divider_1enwc_1",TV="_rows_1enwc_1",CV="_row_1enwc_1",EV="_left_1enwc_1",AV="_label_1enwc_1",IV="_avgHead_1enwc_1",RV="_avgNum_1enwc_1",PV="_top3_1enwc_1",LV="_chip_1enwc_1",DV="_badge_1enwc_1",MV="_name_1enwc_1",FV="_score_1enwc_1",BV="_headerSpacer_1enwc_1",gs={card:SV,wrap:kV,divider:NV,rows:TV,row:CV,left:EV,label:AV,avgHead:IV,avgNum:RV,top3:PV,chip:LV,badge:DV,name:MV,score:FV,headerSpacer:BV};function $V({name:t,value:e,classLabel:s,colors:r}){const i=b3(s,64);return n.jsxs("div",{className:gs.chip,children:[n.jsx("span",{className:gs.badge,children:i?n.jsx("img",{src:i,alt:""}):null}),n.jsx("span",{className:gs.name,children:t!=null?t:""}),n.jsx("span",{className:gs.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function VV({snapshot:t,colors:e,title:s="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var m,x;return((m=p[d])!=null?m:0)-((x=h[d])!=null?x:0)}).slice(0,3),o=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return n.jsxs("div",{className:gs.card,children:[n.jsx(Ua,{text:s}),n.jsx("div",{className:gs.headerSpacer}),n.jsxs("div",{className:gs.wrap,children:[n.jsx("div",{className:gs.divider}),n.jsx("div",{className:gs.rows,children:o.map((d,h)=>n.jsxs("div",{className:gs.row,children:[n.jsxs("div",{className:gs.left,children:[n.jsx("div",{className:gs.label,children:d.label}),n.jsx("div",{className:gs.avgHead,children:""}),n.jsx("div",{className:gs.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),n.jsx("div",{className:gs.top3,children:d.list.map((p,m)=>n.jsx($V,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},m))})]},h))})]})]})}function OV({guild:t,snapshot:e,colors:s}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(Ua,{text:"General Info"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function UV({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(Ua,{text:"Fortress"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function zV({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(Ua,{text:"Rankings"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function GV({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(Ua,{text:"Serververgleich"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const HV=D.memo(function({guild:e,snapshot:s,emblemUrl:r,colors:i}){const o=i.icon,c=({text:d})=>n.jsxs("div",{className:fd.sectionDivider,children:[n.jsx("div",{className:fd.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}}),n.jsx("div",{className:fd.sectionTitle,style:{color:i.soft},children:d}),n.jsx("div",{className:fd.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${o}, transparent)`}})]});return n.jsxs("div",{className:fd.root+" space-y-4",children:[n.jsx(c,{text:"GUILD OVERVIEW"}),n.jsx("div",{style:{marginTop:6,marginBottom:10},children:n.jsx(c,{text:"AVERAGE PLAYER STATS"})}),n.jsx(OV,{guild:e,snapshot:s,colors:i}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[n.jsx(jV,{snapshot:s,colors:i}),n.jsx(VV,{snapshot:s,colors:i})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[n.jsx(UV,{colors:i}),n.jsx(zV,{colors:i})]}),n.jsx("div",{className:"mt-4",children:n.jsx(GV,{colors:i})})]})}),WV="_wrapper_zqchq_3",qV="_grid_zqchq_9",KV="_tile_zqchq_13",QV="_disabled_zqchq_37",XV="_crestWrap_zqchq_41",YV="_crest_zqchq_41",JV="_ring_zqchq_53",ZV="_badge_zqchq_55",eO="_meta_zqchq_67",tO="_nameRow_zqchq_69",nO="_name_zqchq_69",sO="_share_zqchq_73",rO="_sub_zqchq_75",iO="_tileButton_zqchq_79",aO="_donutCard_zqchq_85",oO="_donutHeader_zqchq_87",lO="_legend_zqchq_91",cO="_legendItem_zqchq_93",dO="_legendSwatch_zqchq_95",uO="_legendRight_zqchq_97",hO="_centerLabel_zqchq_101",en={wrapper:WV,grid:qV,tile:KV,disabled:QV,crestWrap:XV,crest:YV,ring:JV,badge:ZV,meta:eO,nameRow:tO,name:nO,share:sO,sub:rO,tileButton:iO,donutCard:aO,donutHeader:oO,legend:lO,legendItem:cO,legendSwatch:dO,legendRight:uO,centerLabel:hO},f0=56;function sm(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function cw(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const pO=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function mO(t){return t?/drive\.google\.com/.test(t):!1}function dw(t,e=f0){if(t)return mO(t)?Nr(t,e):t}function fO(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const s={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return s[e]?s[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function gO(t){var m,x,v,w,N,P;if(!t)return null;const e=t,s=t,r=(m=e.key)!=null?m:s.id,i=(x=e.label)!=null?x:s.name,o=(w=(v=s.crestUrl)!=null?v:e.iconUrl)!=null?w:s.iconUrl,c=(N=e.iconUrl)!=null?N:s.iconUrl,d=(P=e.fallback)!=null?P:s.fallback;if(!r||!i)return null;const h=dw(o,f0),p=dw(c,f0);return{id:r,name:String(i),crestUrl:h||p,iconUrl:p||h,fallback:d?String(d):void 0}}function _3(t,e){var m,x,v,w,N,P,R,O,B,E,y,j,M,T,_,C,L,A,V,F,K;const s={},r={},i={},o={},c=e.map(z=>z.id);for(const z of c)s[z]=0,r[z]=0,i[z]=0,o[z]=null;for(const z of Array.isArray(t)?t:[]){const q=(j=(E=(O=(P=(w=(v=(x=(m=z.classId)!=null?m:z.class)!=null?x:z.klass)!=null?v:z.playerClass)!=null?w:z.cls)!=null?P:(N=z.values)==null?void 0:N.Class)!=null?O:(R=z.values)==null?void 0:R.class)!=null?E:(B=z.values)==null?void 0:B.Klasse)!=null?j:(y=z.values)==null?void 0:y.klasse,H=fO(q);if(!H||!c.includes(H))continue;s[H]+=1;const W=pO((C=(T=z.level)!=null?T:(M=z.values)==null?void 0:M.Level)!=null?C:(_=z.values)==null?void 0:_.level);W!=null&&(r[H]+=W,i[H]+=1,(!o[H]||((A=(L=o[H])==null?void 0:L.level)!=null?A:-1/0)<W)&&(o[H]={id:z.id,name:(K=(F=z.name)!=null?F:(V=z.values)==null?void 0:V.Name)!=null?K:null,level:W}))}const d=Object.values(s).reduce((z,q)=>z+q,0),h={},p={};return c.forEach(z=>{h[z]=d>0?s[z]/d*100:0,p[z]=i[z]>0?r[z]/i[z]:null}),{counts:s,shares:h,avg:p,top:o}}const xO=({valuePct:t})=>{const s=2*Math.PI*28,r=s*(1-Math.max(0,Math.min(100,t))/100);return n.jsxs("svg",{className:en.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[n.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),n.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:s,strokeDashoffset:r,strokeLinecap:"round"})]})},vO=({data:t,classMeta:e,onPickClass:s})=>{const[r,i]=D.useState({}),o=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:h,avg:p,top:m}=D.useMemo(()=>_3(o,c),[o,c]);return n.jsx("section",{className:en.wrapper,children:n.jsx("div",{className:en.grid,style:{gridTemplateColumns:"1fr"},children:c.map(x=>{var B,E,y;const v=(B=d[x.id])!=null?B:0,w=(E=h[x.id])!=null?E:0,N=p[x.id],P=m[x.id],R=v<=0,O=r[x.id]?void 0:x.crestUrl||x.iconUrl;return n.jsxs("div",{className:`${en.tile} ${R?en.disabled:""}`,title:R?`${x.name}: kein Mitglied`:`${x.name}  ${cw(v)}  ${sm(w)}${N?`   ${N.toFixed(1)}`:""}`,children:[n.jsxs("div",{className:en.crestWrap,children:[O?n.jsx("img",{className:en.crest,src:O,alt:x.name,onError:()=>i(j=>({...j,[x.id]:!0}))}):n.jsx("div",{className:en.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=x.fallback)!=null?y:""}),n.jsx(xO,{valuePct:w}),n.jsx("div",{className:en.badge,children:cw(v)})]}),n.jsxs("div",{className:en.meta,children:[n.jsxs("div",{className:en.nameRow,children:[n.jsx("div",{className:en.name,children:x.name}),n.jsx("div",{className:en.share,children:sm(w)})]}),n.jsxs("div",{className:en.sub,children:[N?` Lvl ${N.toFixed(1)}`:"",P?`  Top: ${P.name}${P.level?` (Lv ${P.level})`:""}`:""]})]}),!R&&s&&n.jsx("button",{className:en.tileButton,onClick:()=>s(x.id),"aria-label":`${x.name} filtern`})]},x.id)})})})},yO=({data:t,classMeta:e})=>{const s=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:o}=D.useMemo(()=>_3(s,r),[s,r]),c=D.useMemo(()=>Object.values(o).reduce((d,h)=>d+h,0),[o]);return n.jsxs("div",{className:en.donutCard,children:[n.jsxs("div",{className:en.donutHeader,children:[n.jsx("div",{children:"Klassen-Verteilung"}),n.jsxs("div",{className:en.legendRight,children:["Gesamt: ",c]})]}),n.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[n.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[n.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const x=Math.PI*2,v=r.map((N,P)=>{var R;return{id:N.id,pct:(R=i[N.id])!=null?R:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*P)} 60% 55%)`}});let w=0;return v.map(N=>{const P=(N.pct||0)/100;if(P<=0)return null;const R=w,O=w+x*P;w=O;const B=O-R>Math.PI?1:0,E=130+100*Math.cos(R),y=130+100*Math.sin(R),j=130+100*Math.cos(O),M=130+100*Math.sin(O),T=130+64*Math.cos(O),_=130+64*Math.sin(O),C=130+64*Math.cos(R),L=130+64*Math.sin(R),A=`M ${E} ${y} A 100 100 0 ${B} 1 ${j} ${M} L ${T} ${_} A 64 64 0 ${B} 0 ${C} ${L} Z`;return n.jsx("path",{d:A,fill:N.color,opacity:.95},N.id)})})()]}),n.jsx("div",{className:en.legend,children:r.map((d,h)=>{var x,v;const p=(x=i[d.id])!=null?x:0,m=(v=o[d.id])!=null?v:0;return n.jsxs("div",{className:en.legendItem,title:`${d.name}: ${m}  ${sm(p)}`,children:[n.jsx("span",{className:en.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),n.jsx("span",{children:d.name}),n.jsxs("span",{className:en.legendRight,children:[m,"  ",sm(p)]})]},d.id)})})]}),n.jsx("div",{className:en.centerLabel,children:"Anteile je Klasse"})]})},yn={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},bO=t=>{var e,s,r,i,o,c,d,h,p,m,x,v,w,N,P;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(s=t.class)!=null?s:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(o=t.lastActivityMs)!=null?o:null,server:null,baseStats:{main:(c=t.baseMain)!=null?c:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(h=t.sumBaseTotal)!=null?h:void 0},totalStats:(p=t.totalStats)!=null?p:void 0,values:{treasury:(m=t.treasury)!=null?m:void 0,mine:(x=t.mine)!=null?x:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(w=t.conTotal)!=null?w:void 0,lastScan:(N=t.lastScan)!=null?N:void 0,lastActivity:(P=t.lastActivity)!=null?P:void 0}}},cx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},_O=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function w3({title:t,right:e,children:s}){return n.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:yn.tile,border:`1px solid ${yn.line}`},children:[(t||e)&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:yn.line},children:[n.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:yn.soft},children:t}),e]}),n.jsx("div",{className:"p-4",children:s})]})}function gd({k:t,v:e}){return n.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[n.jsx("span",{className:"opacity-80",children:t}),n.jsx("span",{className:"font-semibold",style:{color:yn.title},children:e})]})}function wO({guild:t}){var s,r;const e=ou(t.name,800);return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:n.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?n.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):n.jsx("div",{className:"text-6xl",children:""})})}),n.jsx(w3,{title:"GILDEN INFO",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsx(gd,{k:"Mitglieder",v:(s=t.memberCount)!=null?s:""}),n.jsx(gd,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),n.jsx(gd,{k:"Server",v:(r=t.server)!=null?r:""}),n.jsx(gd,{k:"Inaktiv",v:"0"}),n.jsx(gd,{k:"Aktivitt",v:"100%"})]})})]})}function dx(){var R,O,B,E,y,j;const t=C0(),e=t.id||t.gid||t.guildId||t.guild||"",s=Ga(),[r,i]=D.useState(!0),[o,c]=D.useState(null),[d,h]=D.useState(null),[p,m]=D.useState(null),[x,v]=D.useState("grid"),w=D.useMemo(()=>(Array.isArray(Cn)?Cn:[]).map(gO).filter(Boolean),[]);D.useEffect(()=>{let M=!1;async function T(){var _,C,L,A,V,F,K,z,q,H,W,ne,re,G,Z,ue,ee,fe,Te,me,Ee,Ce,We,kt,Xe,At,$t,ys,bs,_s,Tr,ws,os,ls,Cr,rr,ir;i(!0),c(null);try{const jn=e.trim();if(!jn){c("Keine Gilde gewhlt."),i(!1);return}const Ht=ln(jt,`guilds/${jn}/latest/latest`),Vt=await tr(Ht);if(!Vt.exists()){c("Gilde nicht gefunden."),i(!1);return}const Ct=Vt.data(),ei=(L=(C=Ct.name)!=null?C:(_=Ct.values)==null?void 0:_.Name)!=null?L:jn,Bs=(F=(V=Ct.server)!=null?V:(A=Ct.values)==null?void 0:A.Server)!=null?F:null,ar=(W=cx((H=(z=Ct.memberCount)!=null?z:(K=Ct.values)==null?void 0:K["Guild Member Count"])!=null?H:(q=Ct.values)==null?void 0:q.GuildMemberCount))!=null?W:null,or=(me=cx((Te=(ee=(Z=(re=Ct.hofRank)!=null?re:(ne=Ct.values)==null?void 0:ne["Hall of Fame Rank"])!=null?Z:(G=Ct.values)==null?void 0:G.HoF)!=null?ee:(ue=Ct.values)==null?void 0:ue.Rank)!=null?Te:(fe=Ct.values)==null?void 0:fe["Guild Rank"]))!=null?me:null,ti=_O(cx(Ct.timestamp));M||h({id:jn,name:ei,server:Bs,memberCount:ar,hofRank:or,lastScanDays:ti});const ni=ln(jt,`guilds/${jn}/snapshots/members_summary`),Er=await tr(ni);if(Er.exists()&&!M){const Ot=Er.data(),lr={guildId:String((Ee=Ot.guildId)!=null?Ee:jn),updatedAt:String((kt=(We=Ot.updatedAt)!=null?We:(Ce=Ct.values)==null?void 0:Ce.Timestamp)!=null?kt:""),updatedAtMs:Number((At=(Xe=Ot.updatedAtMs)!=null?Xe:Ct.timestamp*1e3)!=null?At:0),count:Number(($t=Ot.count)!=null?$t:0),hash:String((ys=Ot.hash)!=null?ys:""),avgLevel:(bs=Ot.avgLevel)!=null?bs:null,avgTreasury:(_s=Ot.avgTreasury)!=null?_s:null,avgMine:(Tr=Ot.avgMine)!=null?Tr:null,avgBaseMain:(ws=Ot.avgBaseMain)!=null?ws:null,avgConBase:(os=Ot.avgConBase)!=null?os:null,avgSumBaseTotal:(ls=Ot.avgSumBaseTotal)!=null?ls:null,avgAttrTotal:(Cr=Ot.avgAttrTotal)!=null?Cr:null,avgConTotal:(rr=Ot.avgConTotal)!=null?rr:null,avgTotalStats:(ir=Ot.avgTotalStats)!=null?ir:null,members:Array.isArray(Ot.members)?Ot.members:[]};m(lr)}}catch(jn){M||c((jn==null?void 0:jn.message)||"Fehler beim Laden.")}finally{M||i(!1)}}return T(),()=>{M=!0}},[e]);const N=D.useMemo(()=>{var M;return((M=p==null?void 0:p.members)!=null?M:[]).map(T=>bO(T))},[p]);if(r)return n.jsx(St,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:n.jsx("div",{className:"text-sm",style:{color:yn.soft},children:"Lade Gildenprofil"})});if(!d)return n.jsx(St,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:n.jsxs("div",{className:"text-sm",style:{color:yn.soft},children:[o!=null?o:"Unbekannter Fehler.",n.jsx("div",{className:"mt-3",children:n.jsx("button",{onClick:()=>s("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const P=n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"px-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${yn.line}`,position:"relative",zIndex:2},children:[n.jsx("div",{className:"min-w-[120px]",children:n.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:yn.tile,border:`1px solid ${yn.line}`,color:yn.title},children:(R=d.server)!=null?R:"S?.EU"})}),n.jsx("div",{className:"flex-1 text-center",children:n.jsx("div",{className:"font-extrabold",style:{color:yn.title,fontSize:26,lineHeight:1.15},children:d.name})}),n.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:yn.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",n.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),n.jsx("div",{style:{height:1,background:yn.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return n.jsxs(St,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[P,n.jsx("div",{className:"px-6 pb-8",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[n.jsx("div",{className:"col-span-12 md:col-span-3",children:n.jsx(wO,{guild:d})}),n.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[n.jsx(HV,{guild:d,snapshot:p,emblemUrl:ou(d.name,512)||void 0,colors:yn}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-full max-w-[980px]",children:n.jsx(r$,{guildName:d.name,server:(O=d.server)!=null?O:"",emblemUrl:ou(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(B=d.memberCount)!=null?B:0,avgLevel:(E=p==null?void 0:p.avgLevel)!=null?E:0,totalPower:(y=p==null?void 0:p.avgTotalStats)!=null?y:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(j=d.memberCount)!=null?j:0}`]:void 0})})}),n.jsx(jO,{members:N,guildId:d.id,guildName:d.name,guildServer:d.server})]}),n.jsxs("div",{className:"col-span-12 md:col-span-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:n.jsx(Ua,{text:"Klassenbersicht",tone:x==="grid"?"accent":"default"})}),n.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:n.jsx(Ua,{text:"Klassenverteilung",tone:x==="donut"?"accent":"default"})})]}),x==="grid"?n.jsx(vO,{data:N,classMeta:w,onPickClass:M=>{const T=new URL(window.location.href);T.searchParams.set("tab","bersicht"),T.searchParams.set("class",M),window.location.href=T.toString()}}):n.jsx(yO,{data:N,classMeta:w})]})]})})]})}function jO({members:t,guildId:e,guildName:s,guildServer:r}){const[i,o]=D.useState("bersicht");return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:yn.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return n.jsx("button",{role:"tab","aria-selected":d,onClick:()=>o(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?yn.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:yn.title},children:c},c)})}),n.jsxs(w3,{children:[i==="bersicht"&&n.jsx(s$,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&n.jsxs("div",{className:"text-sm",style:{color:yn.soft},children:["Platzhalter ",n.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&n.jsx(eV,{guildId:e,guildName:s,guildServer:r}),i==="Historie"&&n.jsxs("div",{className:"text-sm",style:{color:yn.soft},children:["Platzhalter ",n.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function SO(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(uw,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),n.jsx(uw,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function uw({to:t,title:e,desc:s}){return n.jsxs(Et,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function kO(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers  Rankings"}),n.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function NO(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers  Stats"}),n.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Pn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function hw({children:t,style:e}){return n.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function TO({size:t=36}){return n.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:n.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function Ml({label:t,value:e}){return n.jsxs("div",{style:{background:Pn.tileAlt,border:`1px solid ${Pn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[n.jsx("div",{style:{fontSize:12,color:Pn.textSoft,marginBottom:4},children:t}),n.jsx("div",{style:{fontSize:22,color:Pn.title,fontWeight:700},children:e})]})}function CO(t){const e=t.trim(),s=e.toUpperCase(),r=e.toLowerCase(),i=s.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),o=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=s.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const h=d[1],p=String(parseInt(d[2],10)),m=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${p}.sfgame.${m}`}return Array.from(new Set([e,s,r,i,o,c].filter(Boolean)))}function ux(){var P,R,O,B;const t=C0(),e=Ga(),s=sr(),r=t.id||t.sid||t.serverId||t.server||"",[i,o]=D.useState(!0),[c,d]=D.useState(null),[h,p]=D.useState(null),[m,x]=D.useState(null);D.useEffect(()=>{let E=!1;async function y(){o(!0),d(null),p(null),x(null);try{const j=r.trim();if(!j)throw new Error("Kein Server gewhlt.");const M=ln(jt,`servers/${j}`),T=await tr(M);if(T.exists()){E||(p(T.id),x(T.data()));return}const _=km(jt,"servers"),C=CO(j),L=[];for(const K of C)L.push(Ms(Xs(_,nc("code","==",K),Ys(1)))),L.push(Ms(Xs(_,nc("displayName","==",K),Ys(1)))),L.push(Ms(Xs(_,nc("host","==",K),Ys(1))));const A=await Promise.allSettled(L);let V=null,F=null;for(const K of A){if(K.status!=="fulfilled")continue;const z=K.value;if(!z.empty){const q=z.docs[0];V=q.id,F=q.data();break}}if(!V||!F)throw new Error("Server nicht gefunden.");E||(p(V),x(F),V!==j&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:s.pathname}}))}catch(j){E||d((j==null?void 0:j.message)||"Fehler beim Laden.")}finally{E||o(!1)}}return y(),()=>{E=!0}},[r,e,s.pathname]);const v=D.useMemo(()=>n.jsxs("div",{style:{padding:24,color:Pn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",n.jsx("div",{style:{marginTop:12},children:n.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Pn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return n.jsx(St,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:n.jsx("div",{style:{padding:16,color:Pn.textSoft},children:"Lade Serverprofil"})});if(!m)return n.jsx(St,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const w=m.displayName||m.code||h||r,N=m.active===!0?"Aktiv":m.active===!1?"Inaktiv":"";return n.jsxs(St,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[n.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Pn.line}`},children:n.jsxs(hw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[n.jsx(TO,{size:36}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:18,color:Pn.title,fontWeight:700},children:w}),n.jsxs("div",{style:{fontSize:12,color:Pn.textSoft},children:[m.host||"","  ",m.region||"","  ",((P=m.type)==null?void 0:P.toUpperCase())||""]})]})]})}),n.jsxs(hw,{style:{paddingTop:12,paddingBottom:24},children:[n.jsxs("div",{style:{background:Pn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Pn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,color:Pn.title,fontSize:24,fontWeight:800},children:w}),n.jsxs("div",{style:{marginTop:6,color:Pn.textSoft,fontSize:13},children:[m.host||"","  ",m.region||"","  ",((R=m.type)==null?void 0:R.toUpperCase())||""]})]}),n.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[n.jsxs("span",{style:{color:Pn.textSoft},children:["Status: ",N]}),n.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:m.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[n.jsx(Ml,{label:"Code",value:m.code||""}),n.jsx(Ml,{label:"Host",value:m.host||""}),n.jsx(Ml,{label:"Region",value:m.region||""}),n.jsx(Ml,{label:"Typ",value:((O=m.type)==null?void 0:O.toUpperCase())||""}),n.jsx(Ml,{label:"Numeric ID",value:(B=m.numericId)!=null?B:""}),n.jsx(Ml,{label:"Status",value:N})]}),n.jsxs("div",{style:{marginTop:16,background:Pn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Pn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Pn.textSoft},children:["Platzhalter ",n.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const EO="_wrap_k6pqt_1",AO="_centerLogoWrap_k6pqt_21",IO="_centerLogoLink_k6pqt_37",RO="_centerLogo_k6pqt_21",PO="_arc_k6pqt_55",LO="_left_k6pqt_57",DO="_right_k6pqt_59",MO="_sub_k6pqt_61",FO="_full_k6pqt_63",BO="_arcItem_k6pqt_65",$O="_iconBtn_k6pqt_71",VO="_active_k6pqt_125",OO="_iconImg_k6pqt_135",UO="_placeholderIcon_k6pqt_139",zO="_placeholderText_k6pqt_157",GO="_iconLabel_k6pqt_161",Hn={wrap:EO,centerLogoWrap:AO,centerLogoLink:IO,centerLogo:RO,arc:PO,left:LO,right:DO,sub:MO,full:FO,arcItem:BO,iconBtn:$O,active:VO,iconImg:OO,placeholderIcon:UO,placeholderText:zO,iconLabel:GO},HO=({to:t,label:e,icon:s,variant:r="main"})=>{const{search:i}=sr();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),h=c.get("sub"),p=c.get("sub2"),m=new URL(t,window.location.origin).searchParams,x=m.get("tab"),v=m.get("sub"),w=m.get("sub2");r==="main"?o=d===x:r==="sub"?o=d===x&&!!v&&h===v:o=d===x&&!!v&&h===v&&!!w&&p===w}catch(c){o=!1}return n.jsxs(Et,{to:t,"aria-label":e,className:[Hn.iconBtn,o?Hn.active:""].join(" "),title:e,replace:!1,children:[s?n.jsx("img",{src:s,alt:"",className:Hn.iconImg}):n.jsx("div",{className:Hn.placeholderIcon,"aria-hidden":"true",children:n.jsx("span",{className:Hn.placeholderText,children:e.slice(0,2).toUpperCase()})}),n.jsx("div",{className:Hn.iconLabel,children:e})]})},pp=({items:t,side:e,anchorSide:s,compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!s)return null;const h=D.useMemo(()=>{const x=t.length;if(x===0)return[];let v=-90,w=90;e==="left"?(v=90,w=270):e==="sub"||e==="sub2"?s==="left"?(v=90,w=270):(v=-90,w=90):e==="full"&&(v=0,w=360);const N=(w-v)/(x+1),P=r?190:250;return t.map((R,O)=>{const E=(v+N*(O+1))*Math.PI/180;return{it:R,x:Math.cos(E)*P,y:Math.sin(E)*P}})},[t,e,s,r]),p=(()=>{const x={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?x.left=`calc(50% - ${o}px)`:e==="right"?x.left=`calc(50% + ${o}px)`:e==="sub"?x.left=s==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(x.left=s==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),x})(),m=e==="sub"?"sub":e==="sub2"?"sub2":"main";return n.jsx("div",{className:[Hn.arc,e==="left"?Hn.left:"",e==="right"?Hn.right:"",e==="sub"?Hn.sub:"",e==="sub2"?Hn.sub2:"",e==="full"?Hn.full:""].join(" "),style:p,children:h.map(({it:x,x:v,y:w})=>n.jsx("div",{className:Hn.arcItem,style:{transform:`translate(${v}px, ${w}px)`},children:n.jsx(HO,{to:x.to,label:x.label,icon:x.icon,variant:m})},x.key))})},WO=({logoSrc:t,categories:e})=>{const[s]=Go(),r=s.get("tab")||null,i=s.get("sub")||null;s.get("sub2");const o=D.useMemo(()=>e.find(E=>E.key===r)||null,[e,r]),c=(o==null?void 0:o.sub)||[],d=D.useMemo(()=>c.find(E=>E.key===i)||null,[c,i]),h=(d==null?void 0:d.sub2)||[],p=(o==null?void 0:o.side)==="left"||(o==null?void 0:o.side)==="right"?o.side:"right",m=D.useRef(null),[x,v]=D.useState(!1),[w,N]=D.useState(220),[P,R]=D.useState(440),[O,B]=D.useState(660);return D.useLayoutEffect(()=>{(()=>{var L,A;const j=((A=(L=m.current)==null?void 0:L.getBoundingClientRect().width)!=null?A:380)/2,T=Math.round(j+60),_=Math.round(T+220),C=Math.round(_+220);N(T),R(_),B(C),v(!0)})()},[]),D.useEffect(()=>{let E=0,y=null,j={main:w,out:P,sup:O};const M=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{E=requestAnimationFrame(()=>{var q,H;const _=((H=(q=m.current)==null?void 0:q.getBoundingClientRect().width)!=null?H:380)/2,L=Math.round(_+60),A=Math.round(L+220),V=Math.round(A+220),F=Math.abs(L-j.main),K=Math.abs(A-j.out),z=Math.abs(V-j.sup);F>1&&N(L),K>1&&R(A),z>1&&B(V),j={main:L,out:A,sup:V}})},120)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),y!=null&&window.clearTimeout(y),E&&cancelAnimationFrame(E)}},[w,P,O]),n.jsxs("div",{className:Hn.wrap,children:[n.jsx("div",{className:Hn.centerLogoWrap,children:n.jsx(Et,{to:"/guidehub",className:Hn.centerLogoLink,"aria-label":"Guide Hub Home",children:n.jsx("img",{ref:m,src:t,alt:"Guide Hub",className:Hn.centerLogo})})}),x&&n.jsxs(n.Fragment,{children:[n.jsx(pp,{items:e.filter(E=>E.side==="left").map(E=>({key:E.key,to:E.to,label:E.label,icon:E.icon})),side:"left",variant:"main",arcOffset:w}),n.jsx(pp,{items:e.filter(E=>E.side==="right").map(E=>({key:E.key,to:E.to,label:E.label,icon:E.icon})),side:"right",variant:"main",arcOffset:w}),p&&c.length>0&&n.jsx(pp,{items:c.map(E=>({key:E.key,to:E.to,label:E.label,icon:E.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:P,compact:!0}),p&&h.length>0&&n.jsx(pp,{items:h.map(E=>({key:E.key,to:E.to,label:E.label,icon:E.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:O,compact:!0})]})]})},pw=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],qO="_topWrap_1vr4p_1",KO="_divider_1vr4p_19",QO="_contentArea_1vr4p_53",XO="_placeholder_1vr4p_65",YO="_placeholderTitle_1vr4p_79",JO="_placeholderText_1vr4p_93",Fl={topWrap:qO,divider:KO,contentArea:QO,placeholder:XO,placeholderTitle:YO,placeholderText:JO},ZO="/test/assets/logo_guidehub-c4zKGdF-.png";function Qo({title:t}){return n.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[n.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const eU=()=>n.jsx(Qo,{title:"Game Features"});function Xt({title:t}){return n.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[n.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const tU=()=>n.jsx(Xt,{title:"Progression"}),nU=()=>n.jsx(Xt,{title:"Hellevator"}),sU=()=>n.jsx(Xt,{title:"Legendary Dungeon"}),rU=()=>n.jsx(Xt,{title:"Events"}),iU="_card_1rxdx_21",aU="_hoverLift_1rxdx_51",oU="_title_1rxdx_63",lU="_body_1rxdx_89",cU="_iconStack_1rxdx_99",xd={card:iU,hoverLift:aU,title:oU,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:lU,iconStack:cU};function dU({title:t,padding:e="md",hover:s=!0,className:r="",children:i}){return n.jsxs("div",{className:[xd.card,xd[`pad-${e}`],s?xd.hoverLift:"",r].join(" "),children:[t?n.jsx("div",{className:xd.title,children:t}):null,n.jsx("div",{className:xd.body,children:i})]})}const uU=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],hU="_grid_1amcc_3",pU="_tileBtn_1amcc_45",mU="_wrap_1amcc_87",fU="_headerBar_1amcc_99",gU="_title_1amcc_117",vd={grid:hU,tileBtn:pU,wrap:mU,headerBar:fU,title:gU};function xU(){const[t,e]=Go(),s=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return n.jsxs("div",{className:vd.wrap,children:[n.jsx("div",{className:vd.headerBar,children:n.jsx("h2",{className:vd.title,children:"Calculators"})}),n.jsx("div",{className:vd.grid,children:uU.map(r=>n.jsx("button",{className:vd.tileBtn,onClick:()=>s(r.slug),"aria-label":r.title,children:n.jsx(dU,{title:r.title,padding:"md",hover:!0,children:n.jsx(n.Fragment,{children:" "})})},r.slug))})]})}const vU=()=>n.jsx(Xt,{title:"Infographics (Dropdown inside page)"}),yU=()=>n.jsx(Xt,{title:"Class book"}),bU=()=>n.jsx(Xt,{title:"Dungeons"}),_U=()=>n.jsx(Qo,{title:"Fortress"}),wU=()=>n.jsx(Qo,{title:"Fortress Calculator"}),jU="_wrap_1skhh_7",SU="_headerBar_1skhh_21",kU="_title_1skhh_39",NU="_meta_1skhh_55",TU="_description_1skhh_67",CU="_contentWrapper_1skhh_83",EU="_tableSection_1skhh_97",AU="_table_1skhh_97",IU="_infoBox_1skhh_151",RU="_sectionTitle_1skhh_165",PU="_divider_1skhh_181",Ps={wrap:jU,headerBar:SU,title:kU,meta:NU,description:TU,contentWrapper:CU,tableSection:EU,table:AU,infoBox:IU,sectionTitle:RU,divider:PU};function LU(){return n.jsxs("div",{className:Ps.wrap,children:[n.jsxs("div",{className:Ps.headerBar,children:[n.jsx("h2",{className:Ps.title,children:"Fortress Package skip order"}),n.jsx("span",{className:Ps.meta,children:"Last updated: 21.02.2025"})]}),n.jsx("p",{className:Ps.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),n.jsxs("div",{className:Ps.contentWrapper,children:[n.jsxs("section",{className:Ps.tableSection,children:[n.jsx("h3",{className:Ps.sectionTitle,children:"Fortress Build Order"}),n.jsxs("table",{className:Ps.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Building"}),n.jsx("th",{children:"Level"}),n.jsx("th",{children:"Gold Cost"}),n.jsx("th",{children:"Shroom Cost"}),n.jsx("th",{children:"Wood Cost"}),n.jsx("th",{children:"Stone Cost"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"35"}),n.jsx("td",{children:"12"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"150"}),n.jsx("td",{children:"50"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"138"}),n.jsx("td",{children:"46"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"440"}),n.jsx("td",{children:"140"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"15"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"406"}),n.jsx("td",{children:"129"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"40"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"1,100"}),n.jsx("td",{children:"333"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"1,015"}),n.jsx("td",{children:"308"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"50"}),n.jsx("td",{children:"24"}),n.jsx("td",{children:"2,500"}),n.jsx("td",{children:"800"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"25"}),n.jsx("td",{children:"24"}),n.jsx("td",{children:"2,308"}),n.jsx("td",{children:"738"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"60"}),n.jsx("td",{children:"36"}),n.jsx("td",{children:"6,000"}),n.jsx("td",{children:"2,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"36"}),n.jsx("td",{children:"5,538"}),n.jsx("td",{children:"1,849"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"7"}),n.jsx("td",{children:"70"}),n.jsx("td",{children:"48"}),n.jsx("td",{children:"13,417"}),n.jsx("td",{children:"4,433"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"80"}),n.jsx("td",{children:"78"}),n.jsx("td",{children:"27,200"}),n.jsx("td",{children:"9,280"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"720"}),n.jsx("td",{children:"240"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"1,408"}),n.jsx("td",{children:"448"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"2,640"}),n.jsx("td",{children:"800"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Gem Mine"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"15"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"50"}),n.jsx("td",{children:"17"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Treasury"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"25"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"40"}),n.jsx("td",{children:"13"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"20"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"20"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"92"}),n.jsx("td",{children:"74"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"248"}),n.jsx("td",{children:"200"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"21"}),n.jsx("td",{children:"500"}),n.jsx("td",{children:"320"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"22"}),n.jsx("td",{children:"0"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"90"}),n.jsx("td",{children:"16"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"9"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"264"}),n.jsx("td",{children:"45"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"660"}),n.jsx("td",{children:"107"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Barracks"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"14"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Barracks"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"82"}),n.jsx("td",{children:"55"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Total cost"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"577"}),n.jsx("td",{children:"363"}),n.jsx("td",{children:"99,881"}),n.jsx("td",{children:"33,218"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress Pack ressources"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"300"}),n.jsx("td",{children:"100,000"}),n.jsx("td",{children:"50,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Left over"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"-577"}),n.jsx("td",{children:"-63"}),n.jsx("td",{children:"119"}),n.jsx("td",{children:"16,782"})]})]})]})]}),n.jsxs("section",{className:Ps.infoBox,children:[n.jsx("h3",{className:Ps.sectionTitle,children:"Important"}),n.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Archery Guild"}),n.jsx("li",{children:"Mage's Tower"}),n.jsx("li",{children:"Fortifications"})]}),n.jsx("div",{className:Ps.divider}),n.jsx("h3",{className:Ps.sectionTitle,children:"Total Costs"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total Gold:"})," 577 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Shrooms:"})," 363 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Wood:"})," 99,881 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Stone:"})," 33,218 ",n.jsx("br",{})]}),n.jsx("h3",{className:Ps.sectionTitle,children:"Remaining Resources"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Remaining Gold:"})," -577 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Wood:"})," 119 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const DU=()=>n.jsx(Qo,{title:"Fortress attack duplication guide"}),MU=()=>n.jsx(Qo,{title:"Underworld"}),FU=()=>n.jsx(Qo,{title:"Underworld Calculator"}),BU=()=>n.jsx(Qo,{title:"Underworld Pro Package skip order"}),$U=()=>n.jsx(Xt,{title:"Arena / AM"}),VU="_wrap_mm7x0_5",OU="_headerBar_mm7x0_19",UU="_title_mm7x0_37",zU="_meta_mm7x0_51",GU="_description_mm7x0_63",HU="_controls_mm7x0_79",WU="_search_mm7x0_83",qU="_tableWrap_mm7x0_119",KU="_table_mm7x0_119",QU="_thead_mm7x0_143",XU="_th_mm7x0_143",YU="_td_mm7x0_167",JU="_tierCell_mm7x0_179",ZU="_amountCell_mm7x0_181",ez="_bonusCell_mm7x0_183",tz="_tags_mm7x0_185",nz="_tierBox_mm7x0_191",sz="_tierIcon_mm7x0_193",rz="_tierTexts_mm7x0_203",iz="_tierName_mm7x0_205",az="_badge_mm7x0_211",oz="_badgeMax_mm7x0_231",lz="_badgeAchiev_mm7x0_233",cz="_badgeX2_mm7x0_235",dz="_badgeX12_mm7x0_237",uz="_badgeX60_mm7x0_239",hz="_iconHead_mm7x0_245",pz="_achiev_mm7x0_261",mz="_achievImg_mm7x0_263",fz="_dataRow_mm7x0_291",gz="_tierCellHover_mm7x0_311",Le={wrap:VU,headerBar:OU,title:UU,meta:zU,description:GU,controls:HU,search:WU,tableWrap:qU,table:KU,thead:QU,th:XU,td:YU,tierCell:JU,amountCell:ZU,bonusCell:ez,tags:tz,tierBox:nz,tierIcon:sz,tierTexts:rz,tierName:iz,badge:az,badgeMax:oz,badgeAchiev:lz,badgeX2:cz,badgeX12:dz,badgeX60:uz,iconHead:hz,achiev:pz,achievImg:mz,dataRow:fz,tierCellHover:gz};function j3(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function xz(t){const e=t.filter(Boolean).join(" ");return j3(e)}const vz={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function yz(t){var s;const e=Array.isArray(t)?xz(t):j3(t!=null?t:"");return(s=vz[e])!=null?s:null}function Um(t,e=512){var o,c;const s=yz(t);if(!s)return{id:null,url:null,thumb:null,fallback:""};const r=(o=Oo(s))!=null?o:null,i=r&&(c=Nr(r,e))!=null?c:null;return{id:s,url:r,thumb:i,fallback:""}}function Fo(t,e=512){return Um(t,e).thumb}const Ca={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},mw={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Ea({keyName:t,label:e}){const s=Um(t,36);return n.jsxs("div",{className:Le.iconHead,children:[s.thumb?n.jsx("img",{src:s.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):n.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(s.fallback||e).slice(0,1).toUpperCase()}),n.jsx("span",{children:e})]})}function bz({name:t}){const e=Object.keys(mw).find(r=>t.toLowerCase().includes(r.toLowerCase())),s=Um(e?mw[e]:"achiev_generic",16);return n.jsxs("div",{className:Le.achiev,children:[s.thumb?n.jsx("img",{src:s.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):n.jsx("div",{className:Le.achievImg}),n.jsx("span",{children:t})]})}const rm=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function hx(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const s=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(s)+r}function _z(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function wz(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const fw={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},jz="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function Sz(t){const e=t.trim().toLowerCase();return e?rm.filter(s=>{var r;return`${s.tier} ${s.amount} ${(r=s.note)!=null?r:""}`.toLowerCase().includes(e)}):rm}function kz(){const[t,e]=D.useState(""),[s,r]=D.useState(null),i=Sz(t),o=D.useMemo(()=>Math.max(...rm.map(d=>hx(d.amount))),[]),c=D.useMemo(()=>{const d=new Map;for(const p of i)d.has(p.tier)||d.set(p.tier,[]),d.get(p.tier).push(p);const h=Array.from(new Set(rm.map(p=>p.tier)));return Array.from(d.entries()).sort((p,m)=>h.indexOf(p[0])-h.indexOf(m[0]))},[i]);return n.jsxs("div",{className:Le.wrap,children:[n.jsxs("div",{className:Le.headerBar,children:[n.jsx("h2",{className:Le.title,children:"Arena Manager  Rune bonuses"}),n.jsx("span",{className:Le.meta,children:"last updated: 15.01.2025"})]}),n.jsx("p",{className:Le.description,children:jz}),n.jsx("div",{className:Le.controls,children:n.jsx("input",{className:Le.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),n.jsx("div",{className:Le.tableWrap,children:n.jsxs("table",{className:Le.table,children:[n.jsx("thead",{className:Le.thead,children:n.jsxs("tr",{className:Le.headRow,children:[n.jsx("th",{className:`${Le.th} ${Le.tierCell}`,children:"Tier"}),n.jsx("th",{className:`${Le.th} ${Le.amountCell}`,children:"Amount"}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.gold,label:"Gold Bonus"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.xp,label:"XP Bonus"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.hp,label:"HP Bonus"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.totalRes,label:"Total Resistance"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.singleRes,label:"Single Resistance"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.elem,label:"Elemental Damage"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.item,label:"Improved Item Quality"})}),n.jsx("th",{className:Le.th,children:n.jsx(Ea,{keyName:Ca.epics,label:"Chances of Epics"})}),n.jsx("th",{className:Le.th,children:"Tags"})]})}),n.jsx("tbody",{children:c.map(([d,h])=>{const p=Math.max(...h.map(m=>hx(m.amount)));return h.map((m,x)=>{var N,P,R,O,B,E,y,j;const v=Math.abs(hx(m.amount)-o)<1e-6,w=wz(m.note);return n.jsxs("tr",{className:Le.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[x===0&&n.jsx("td",{className:`${Le.td} ${Le.tierCell} ${Math.abs(p-o)<1e-6?Le.tierMax:""} ${s===d?Le.tierCellHover:""}`,rowSpan:h.length,children:n.jsxs("div",{className:Le.tierBox,children:[n.jsx("div",{className:Le.tierIcon,children:d.slice(0,1).toUpperCase()}),n.jsxs("div",{className:Le.tierTexts,children:[n.jsx("div",{className:Le.tierName,children:d}),fw[d]&&n.jsx(bz,{name:fw[d]})]})]})}),n.jsx("td",{className:`${Le.td} ${Le.amountCell}`,children:m.amount}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(N=m.gold)!=null?N:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(P=m.xp)!=null?P:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(R=m.hp)!=null?R:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(O=m.totalRes)!=null?O:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(B=m.singleRes)!=null?B:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(E=m.elemDmg)!=null?E:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(y=m.itemQuality)!=null?y:""}),n.jsx("td",{className:`${Le.td} ${Le.bonusCell}`,children:(j=m.epics)!=null?j:""}),n.jsxs("td",{className:`${Le.td} ${Le.tags}`,children:[v&&n.jsx("span",{className:`${Le.badge} ${Le.badgeMax}`,children:"MAX"}),_z(m.note)&&n.jsx("span",{className:`${Le.badge} ${Le.badgeAchiev}`,children:"Achievement"}),w==="x2"&&n.jsx("span",{className:`${Le.badge} ${Le.badgeX2}`,children:"x2"}),w==="x12"&&n.jsx("span",{className:`${Le.badge} ${Le.badgeX12}`,children:"x12"}),w==="x60"&&n.jsx("span",{className:`${Le.badge} ${Le.badgeX60}`,children:"x60"}),w==="x8"&&n.jsx("span",{className:Le.badge,children:"x8"})]})]},`${d}-${x}`)})})})]})})]})}const Nz="_wrap_zrza7_11",Tz="_headerBar_zrza7_15",Cz="_title_zrza7_31",Ez="_meta_zrza7_33",Az="_centerCol_zrza7_37",Iz="_text_zrza7_53",Rz="_imageBox_zrza7_55",Pz="_imageFallback_zrza7_57",Lz="_credit_zrza7_59",$i={wrap:Nz,headerBar:Tz,title:Cz,meta:Ez,centerCol:Az,text:Iz,imageBox:Rz,imageFallback:Pz,credit:Lz};function Dz(){const t=Um("ambuildorder"),e=D.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),s=D.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||s||r;return n.jsxs("div",{className:$i.wrap,children:[n.jsxs("div",{className:$i.headerBar,children:[n.jsx("h2",{className:$i.title,children:"Arena Manager  Build Order"}),n.jsx("span",{className:$i.meta,children:"Last updated: 30.11.2024"})]}),n.jsxs("div",{className:$i.centerCol,children:[n.jsxs("div",{className:$i.text,children:[n.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),n.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",n.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?n.jsx("div",{className:$i.imageBox,children:n.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):n.jsx("div",{className:$i.imageFallback,children:""}),n.jsxs("p",{className:$i.credit,children:["Credit to ",n.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const Mz=()=>n.jsx(Xt,{title:"Hellevator Guide"}),Fz=()=>n.jsx(Xt,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),Bz=()=>n.jsx(Xt,{title:"Event List"}),$z=()=>n.jsx(Xt,{title:"Event Cycle"}),Vz="_foCalc_18a5w_3",Oz="_panel_18a5w_211",Uz="_panelHead_18a5w_227",zz="_panelTitle_18a5w_241",Gz="_controls_18a5w_243",Hz="_ctrlLabel_18a5w_245",Wz="_ctrlSelect_18a5w_249",qz="_tableWrap_18a5w_291",Kz="_table_18a5w_291",Qz="_th_18a5w_305",Xz="_td_18a5w_321",Yz="_row_18a5w_333",Jz="_note_18a5w_335",Zt={foCalc:Vz,panel:Oz,panelHead:Uz,panelTitle:zz,controls:Gz,ctrlLabel:Hz,ctrlSelect:Wz,tableWrap:qz,table:Kz,th:Qz,td:Xz,row:Yz,note:Jz},S3={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},un=(t,e=0)=>t*3600+e*60,te=[un(0,15),un(0,31),un(1,6),un(2,20),un(5,0),un(8,0),un(11,25),un(18,27),un(40,0),un(87,16),un(190,46),un(320,0),un(480,0),un(615,33),un(800,0)],mt=[un(1054,17),un(1122,51),un(1245,42),un(1343,20),un(1440,0)],Zz={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:te[0]},{level:2,wood:150,stone:50,gold:20,timeSec:te[1]},{level:3,wood:440,stone:140,gold:30,timeSec:te[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:te[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:te[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:te[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:te[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:te[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:te[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:te[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:te[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:te[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:te[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:te[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:te[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:mt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:mt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:mt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:mt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:mt[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:te[0]},{level:2,wood:138,stone:46,gold:10,timeSec:te[1]},{level:3,wood:406,stone:129,gold:15,timeSec:te[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:te[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:te[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:te[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:te[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:te[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:te[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:te[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:te[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:te[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:te[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:te[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:te[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:te[0]},{level:2,wood:28,stone:37,gold:14,timeSec:te[1]},{level:3,wood:81,stone:103,gold:21,timeSec:te[2]},{level:4,wood:203,stone:246,gold:28,timeSec:te[3]},{level:5,wood:462,stone:591,gold:35,timeSec:te[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:te[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:te[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:te[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:te[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:te[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:te[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:te[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:te[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:te[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:te[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:mt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:mt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:mt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:mt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:mt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:te[0]},{level:2,wood:160,stone:53,gold:50,timeSec:te[1]},{level:3,wood:469,stone:149,gold:75,timeSec:te[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:te[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:te[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:te[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:te[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:te[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:te[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:te[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:te[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:te[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:te[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:te[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:te[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:te[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:te[0]},{level:2,wood:200,stone:67,gold:30,timeSec:te[1]},{level:3,wood:587,stone:187,gold:45,timeSec:te[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:te[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:te[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:te[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:te[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:te[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:te[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:te[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:te[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:te[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:te[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:te[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:te[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:mt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:mt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:mt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:mt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:mt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:un(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:te[0]},{level:2,wood:30,stone:20,gold:4,timeSec:te[1]},{level:3,wood:88,stone:56,gold:6,timeSec:te[2]},{level:4,wood:220,stone:133,gold:8,timeSec:te[3]},{level:5,wood:500,stone:320,gold:10,timeSec:te[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:te[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:te[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:te[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:te[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:te[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:te[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:te[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:te[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:te[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:te[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:mt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:mt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:mt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:mt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:mt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:te[0]},{level:2,wood:90,stone:16,gold:6,timeSec:te[1]},{level:3,wood:264,stone:45,gold:9,timeSec:te[2]},{level:4,wood:660,stone:107,gold:12,timeSec:te[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:te[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:te[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:te[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:te[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:te[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:te[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:te[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:te[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:te[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:te[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:te[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:mt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:mt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:mt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:mt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:mt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:te[0]},{level:2,wood:82,stone:55,gold:8,timeSec:te[1]},{level:3,wood:240,stone:153,gold:12,timeSec:te[2]},{level:4,wood:600,stone:364,gold:16,timeSec:te[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:te[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:te[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:te[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:te[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:te[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:te[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:te[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:te[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:te[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:te[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:te[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:te[0]},{level:2,wood:100,stone:33,gold:8,timeSec:te[1]},{level:3,wood:293,stone:93,gold:12,timeSec:te[2]},{level:4,wood:733,stone:222,gold:16,timeSec:te[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:te[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:te[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:te[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:te[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:te[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:te[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:te[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:te[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:te[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:te[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:te[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:mt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:mt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:mt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:mt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:mt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:te[0]},{level:2,wood:240,stone:61,gold:12,timeSec:te[1]},{level:3,wood:675,stone:205,gold:18,timeSec:te[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:te[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:te[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:te[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:te[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:te[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:te[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:te[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:te[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:te[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:te[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:te[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:te[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:te[0]},{level:2,wood:164,stone:27,gold:10,timeSec:te[1]},{level:3,wood:480,stone:76,gold:15,timeSec:te[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:te[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:te[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:te[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:te[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:te[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:te[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:te[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:te[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:te[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:te[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:te[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:te[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:te[0]},{level:2,wood:120,stone:53,gold:30,timeSec:te[1]},{level:3,wood:352,stone:149,gold:45,timeSec:te[2]},{level:4,wood:880,stone:356,gold:60,timeSec:te[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:te[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:te[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:te[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:te[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:te[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:te[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:te[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:te[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:te[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:te[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:te[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:mt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:mt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:mt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:mt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:mt[4]}]}},eG=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],tG="fortress",nG={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function sG(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function gw(t){const e=Math.max(0,Math.round(t)),s=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,o=c=>c.toString().padStart(2,"0");return`${o(s)}:${o(r)}:${o(i)}`}const rG=()=>{const[t,e]=D.useState(tG),[s,r]=D.useState(1),i=D.useMemo(()=>{var m;const d=nG[t],h=S3[d],p=(m=h==null?void 0:h.id)!=null?m:h;return Oo.gifProxy(p)||Oo.gif(p)||""},[t]),o=D.useMemo(()=>{var d,h;return(h=(d=Zz[t])==null?void 0:d.costs)!=null?h:[]},[t]),c=D.useMemo(()=>sG(s),[s]);return n.jsxs("div",{className:`${Zt.foCalc}`,children:[n.jsxs("div",{className:"tabs",children:[n.jsx("span",{className:"tabSelectLabel",children:"Select building"}),n.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:eG.map(d=>n.jsx("option",{value:d.key,children:d.label},d.key))})]}),n.jsxs("div",{className:"mediaRow",children:[n.jsx("div",{className:"media",children:i?n.jsx("img",{src:i,alt:t}):null}),n.jsxs("div",{className:Zt.panel,children:[n.jsxs("div",{className:Zt.panelHead,children:[n.jsxs("div",{className:Zt.panelTitle,children:["Fortress  ",t]}),n.jsxs("div",{className:Zt.controls,children:[n.jsx("span",{className:Zt.ctrlLabel,children:"L2 (Laborers)"}),n.jsx("select",{className:Zt.ctrlSelect,value:s,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,h)=>h).map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsx("div",{className:Zt.tableWrap,children:n.jsxs("table",{className:Zt.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:Zt.th,children:"Level"}),n.jsx("th",{className:Zt.th,children:"Wood"}),n.jsx("th",{className:Zt.th,children:"Stone"}),n.jsx("th",{className:Zt.th,children:"Build Time"}),n.jsx("th",{className:Zt.th,children:"Build Time (L2)"}),n.jsx("th",{className:Zt.th,children:"Skip (Mushr.)"})]})}),n.jsx("tbody",{children:o.map(d=>{var x,v,w,N,P,R,O;const h=(x=d.timeSec)!=null?x:0,p=Math.round(h*(1-c)),m=Math.ceil(Math.ceil(p/60)/10);return n.jsxs("tr",{className:Zt.row,children:[n.jsx("td",{className:Zt.td,children:d.level}),n.jsx("td",{className:Zt.td,children:(N=(w=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:w.call(v))!=null?N:d.wood}),n.jsx("td",{className:Zt.td,children:(O=(R=(P=d.stone)==null?void 0:P.toLocaleString)==null?void 0:R.call(P))!=null?O:d.stone}),n.jsx("td",{className:Zt.td,children:gw(h)}),n.jsx("td",{className:Zt.td,children:gw(p)}),n.jsx("td",{className:Zt.td,children:m.toLocaleString()})]},d.level)})})]})}),n.jsx("div",{className:Zt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},iG="_uwCalc_64lws_3",aG="_panel_64lws_211",oG="_panelHead_64lws_227",lG="_panelTitle_64lws_241",cG="_controls_64lws_243",dG="_ctrlLabel_64lws_245",uG="_ctrlSelect_64lws_251",hG="_tableWrap_64lws_295",pG="_table_64lws_295",mG="_th_64lws_309",fG="_td_64lws_325",gG="_row_64lws_337",xG="_note_64lws_339",Gt={uwCalc:iG,panel:aG,panelHead:oG,panelTitle:lG,controls:cG,ctrlLabel:dG,ctrlSelect:uG,tableWrap:hG,table:pG,th:mG,td:fG,row:gG,note:xG},vG={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},yG={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function bG(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function _G(t){const e=Math.max(0,t),s=Math.round(e),r=Math.floor(s/3600),i=Math.floor(s%3600/60),o=s%60;return{h:r,m:i,s:o}}function xw(t){const{h:e,m:s,s:r}=_G(t),i=o=>String(o).padStart(2,"0");return`${i(e)}:${i(s)}:${i(r)}`}function wG(t,e){var i,o;const s=bG(e);return((o=(i=yG[t])==null?void 0:i.costs)!=null?o:[]).map(c=>{const d=c.timeSec*(1-s),h=Math.ceil(Math.ceil(d/60)/10);return{...c,timeAdjSec:d,skipMushroomsAdj:h}})}const jG=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],SG=()=>{const[t,e]=D.useState("hearthofdarkngif"),[s,r]=D.useState(1),i=D.useMemo(()=>{var p;const d=S3[t],h=(p=d==null?void 0:d.id)!=null?p:d;return Oo.gifProxy(h)||Oo.gif(h)||""},[t]),o=D.useMemo(()=>{var d;return(d=vG[t])!=null?d:"hearthofdarkn"},[t]),c=D.useMemo(()=>wG(o,s),[o,s]);return n.jsxs("div",{className:Gt.uwCalc,children:[n.jsxs("div",{className:"tabs",children:[n.jsx("span",{className:"tabSelectLabel",children:"Select building"}),n.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:jG.map(d=>n.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),n.jsxs("div",{className:"mediaRow",children:[n.jsx("div",{className:"media",children:i?n.jsx("img",{src:i,alt:t}):null}),n.jsxs("div",{className:Gt.panel,children:[n.jsxs("div",{className:Gt.panelHead,children:[n.jsxs("div",{className:Gt.panelTitle,children:["Underworld  ",o]}),n.jsxs("div",{className:Gt.controls,children:[n.jsx("label",{htmlFor:"uw-l2",className:Gt.ctrlLabel,children:"L2 (Laborers)"}),n.jsx("select",{id:"uw-l2",className:Gt.ctrlSelect,value:s,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,h)=>h+1).map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsx("div",{className:Gt.tableWrap,children:n.jsxs("table",{className:Gt.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:Gt.th,children:"Level"}),n.jsx("th",{className:Gt.th,children:"Soul"}),n.jsx("th",{className:Gt.th,children:"Gold"}),n.jsx("th",{className:Gt.th,children:"Build Time"}),n.jsx("th",{className:Gt.th,children:"Build Time (L2)"}),n.jsx("th",{className:Gt.th,children:"Skip (Mushr.)"})]})}),n.jsx("tbody",{children:c.length===0?n.jsx("tr",{className:Gt.row,children:n.jsx("td",{className:Gt.td,colSpan:6,children:"No data for this building yet."})}):c.map(d=>n.jsxs("tr",{className:Gt.row,children:[n.jsx("td",{className:Gt.td,children:d.level}),n.jsx("td",{className:Gt.td,children:d.soul}),n.jsx("td",{className:Gt.td,children:d.gold}),n.jsx("td",{className:Gt.td,children:xw(d.timeSec)}),n.jsx("td",{className:Gt.td,children:xw(d.timeAdjSec)}),n.jsx("td",{className:Gt.td,children:d.skipMushroomsAdj})]},d.level))})]})}),n.jsx("p",{className:Gt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},kG=()=>n.jsx(Xt,{title:"Max Item Stats Calculator"}),NG="_wrap_1jk12_1",TG="_card_1jk12_7",CG="_title_1jk12_17",EG="_form_1jk12_23",AG="_field_1jk12_29",IG="_input_1jk12_36",RG="_gemsRow_1jk12_44",PG="_gemBox_1jk12_51",LG="_disabled_1jk12_64",DG="_gemImg_1jk12_68",MG="_gemFallback_1jk12_75",FG="_normalGem_1jk12_83",BG="_blackGem_1jk12_87",$G="_legendaryGem_1jk12_91",VG="_gemLabel_1jk12_95",OG="_gemValue_1jk12_100",UG="_hint_1jk12_106",vt={wrap:NG,card:TG,title:CG,form:EG,field:AG,input:IG,gemsRow:RG,gemBox:PG,disabled:LG,gemImg:DG,gemFallback:MG,normalGem:FG,blackGem:BG,legendaryGem:$G,gemLabel:VG,gemValue:OG,hint:UG},zG={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},GG=.25,im=t=>Math.round(Number.isFinite(t)?t:0);function HG(t){const e=Number(t.charLevel),s=Number(t.mineLevel),r=Number(t.guildHoK);if(s<25){const R=e*GG*(1+(s-1)*.25)+r/3;return im(R)}const{A:i,B:o,C:c,D:d,E:h,F:p,G:m,H:x,I:v,J:w}=zG,P=i+o*e+c/s+d*e**2+h/s**2+p*e/s+m*e**3+x/s**3+v*e/s**2+w*e**2/s+r/3;return im(P)}function WG(t){return im(t*(2/3))}function qG(t){return im(t)}const px={char:1e3,mine:100,hok:1e3},KG=()=>{const[t,e]=D.useState(""),[s,r]=D.useState(""),[i,o]=D.useState(""),c=D.useMemo(()=>t===""||s===""||i===""?null:HG({charLevel:Number(t),mineLevel:Number(s),guildHoK:Number(i)}),[t,s,i]),d=D.useMemo(()=>c==null?null:WG(c),[c]),h=D.useMemo(()=>c==null?null:qG(c),[c]),p=Fo("luckbig"),m=Fo("blackbig"),x=Fo("legendarybig");return n.jsx("div",{className:vt.wrap,children:n.jsxs("div",{className:vt.card,children:[n.jsx("h2",{className:vt.title,children:"Gem Calculator"}),n.jsxs("div",{className:vt.form,children:[n.jsxs("label",{className:vt.field,children:[n.jsx("span",{children:"Char Level"}),n.jsx("input",{type:"number",inputMode:"numeric",className:vt.input,placeholder:"e.g., 360",value:t,onChange:v=>{const w=v.currentTarget.value;if(w==="")return e("");const N=Number(w);e(Number.isFinite(N)?N:"")},max:px.char})]}),n.jsxs("label",{className:vt.field,children:[n.jsx("span",{children:"Mine Level"}),n.jsx("input",{type:"number",inputMode:"numeric",className:vt.input,placeholder:"e.g., 10",value:s,onChange:v=>{const w=v.currentTarget.value;if(w==="")return r("");const N=Number(w);r(Number.isFinite(N)?N:"")},max:px.mine})]}),n.jsxs("label",{className:vt.field,children:[n.jsx("span",{children:"Guild HoK"}),n.jsx("input",{type:"number",inputMode:"numeric",className:vt.input,placeholder:"e.g., 840",value:i,onChange:v=>{const w=v.currentTarget.value;if(w==="")return o("");const N=Number(w);o(Number.isFinite(N)?N:"")},max:px.hok})]})]}),n.jsxs("div",{className:vt.gemsRow,children:[n.jsxs("div",{className:`${vt.gemBox} ${c==null?vt.disabled:""}`,children:[p?n.jsx("img",{className:vt.gemImg,src:p,alt:"Normal Gem"}):n.jsx("div",{className:`${vt.gemFallback} ${vt.normalGem}`}),n.jsx("div",{className:vt.gemLabel,children:"Normal"}),n.jsx("div",{className:vt.gemValue,children:c!=null?c:""})]}),n.jsxs("div",{className:`${vt.gemBox} ${d==null?vt.disabled:""}`,children:[m?n.jsx("img",{className:vt.gemImg,src:m,alt:"Black Gem"}):n.jsx("div",{className:`${vt.gemFallback} ${vt.blackGem}`}),n.jsx("div",{className:vt.gemLabel,children:"Black"}),n.jsx("div",{className:vt.gemValue,children:d!=null?d:""})]}),n.jsxs("div",{className:`${vt.gemBox} ${h==null?vt.disabled:""}`,children:[x?n.jsx("img",{className:vt.gemImg,src:x,alt:"Legendary Gem"}):n.jsx("div",{className:`${vt.gemFallback} ${vt.legendaryGem}`}),n.jsx("div",{className:vt.gemLabel,children:"Legendary"}),n.jsx("div",{className:vt.gemValue,children:h!=null?h:""})]})]}),n.jsxs("p",{className:vt.hint,children:["The values are approximations and represent the ",n.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},QG="_container_14xll_1",XG="_headerBar_14xll_7",YG="_title_14xll_16",JG="_meta_14xll_24",ZG="_description_14xll_30",yd={container:QG,headerBar:XG,title:YG,meta:JG,description:ZG},k3=({title:t,meta:e,description:s})=>n.jsxs("header",{className:yd.container,children:[n.jsxs("div",{className:yd.headerBar,children:[n.jsx("h2",{className:yd.title,children:t}),e&&n.jsx("span",{className:yd.meta,children:e})]}),s&&n.jsx("p",{className:yd.description,children:s})]}),eH=()=>n.jsxs(n.Fragment,{children:[n.jsx(k3,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:n.jsxs(n.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",n.jsx("em",{children:"max possible"})," you can find."]})}),n.jsx(KG,{})]}),tH="_wrapper_8h2ge_1",nH="_panel_8h2ge_6",sH="_header_8h2ge_14",rH="_title_8h2ge_21",iH="_resetBtn_8h2ge_27",aH="_table_8h2ge_37",oH="_row_8h2ge_50",lH="_name_8h2ge_58",cH="_selectCell_8h2ge_63",dH="_sumCell_8h2ge_72",uH="_footer_8h2ge_78",hH="_footerLine_8h2ge_88",pH="_note_8h2ge_94",hn={wrapper:tH,panel:nH,header:sH,title:rH,resetBtn:iH,table:aH,row:oH,name:lH,selectCell:cH,sumCell:dH,footer:uH,footerLine:hH,note:pH};function Ud(t,e,s){var c;if(!Array.isArray(t)||e<=0||s<=0)return 0;const r=Math.min(e,s),i=Math.max(e,s);let o=0;for(let d=r;d<=i;d++)o+=(c=t[d])!=null?c:0;return o}function mH(t){const e=[0];for(let s=1;s<=t;s++)e.push(s);return e}function st(t,e){const s=[0,...t.map(r=>Number(r)||0)];if(e&&s.length<e+1)for(;s.length<e+1;)s.push(0);return s}const fH=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:st([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:st([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:st([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:st([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:st([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:st([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:st([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:st([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:st([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:st([0,0,0,0,0,0,0,0,0,0],10)}],gH=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:st([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:st([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:st([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:st([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:st([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:st([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:st([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:st([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:st([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:st([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:st([0,0,0,0,0,0,0,0,0,0],10)}],vw=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],xH=(()=>{const t=[0,...vw],e=1e3-vw.length;for(let s=0;s<e;s++)t.push(3e7);return t})(),vH=st([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),yH=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Wi={light:fH.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:gH.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:xH,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:vH,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:yH,specialType:"sandstorm"}]},am=t=>t.toLocaleString("en-US");function yw(){const t={},e={},s={};return Wi.light.forEach(r=>t[r.key]={from:0,to:0}),Wi.shadow.forEach(r=>e[r.key]={from:0,to:0}),Wi.special.forEach(r=>{r.specialType==="twister"?s[r.key]={from:486,to:1e3}:r.specialType==="cloi"?s[r.key]={from:2,to:11}:s[r.key]={from:0,to:0}}),{light:t,shadow:e,special:s}}function N3({row:t,range:e,onChange:s}){var d,h;const r=D.useMemo(()=>mH(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,o=(h=e.to)!=null?h:0,c=D.useMemo(()=>i===0||o===0?0:Ud(t.levels,i,o),[t.levels,i,o]);return n.jsxs("tr",{className:hn.row,children:[n.jsx("td",{className:hn.name,children:t.name}),n.jsx("td",{className:hn.selectCell,children:n.jsx("select",{value:i,onChange:p=>s({from:Number(p.target.value),to:o}),children:r.map(p=>n.jsx("option",{value:p,children:p===0?"":p},p))})}),n.jsx("td",{className:hn.selectCell,children:n.jsx("select",{value:o,onChange:p=>s({from:i,to:Number(p.target.value)}),children:r.map(p=>n.jsx("option",{value:p,children:p===0?"":p},p))})}),n.jsxs("td",{className:hn.sumCell,children:[am(c)," XP"]})]})}function bw({title:t,rows:e,ranges:s,setRanges:r}){const i=D.useMemo(()=>e.reduce((o,c)=>{const d=s[c.key]||{from:0,to:0};return o+Ud(c.levels,d.from,d.to)},0),[e,s]);return n.jsxs("div",{className:hn.panel,children:[n.jsx("div",{className:hn.header,children:n.jsx("div",{className:hn.title,children:t})}),n.jsxs("table",{className:hn.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Dungeon"}),n.jsx("th",{children:"From"}),n.jsx("th",{children:"To"}),n.jsx("th",{children:"Sum XP"})]})}),n.jsx("tbody",{children:e.map(o=>{var c;return n.jsx(N3,{row:o,range:(c=s[o.key])!=null?c:{from:0,to:0},onChange:d=>r(o.key,d)},o.key)})})]}),n.jsx("div",{className:hn.footer,children:n.jsxs("div",{className:hn.footerLine,children:[n.jsxs("span",{children:["Sum Total ",t]}),n.jsxs("span",{children:[am(i)," XP"]})]})})]})}function bH(){const t=yw(),[e,s]=D.useState(t.light),[r,i]=D.useState(t.shadow),[o,c]=D.useState(t.special),d=D.useMemo(()=>Wi.light.reduce((v,w)=>{const N=e[w.key];return v+(N?Ud(w.levels,N.from,N.to):0)},0),[e]),h=D.useMemo(()=>Wi.shadow.reduce((v,w)=>{const N=r[w.key];return v+(N?Ud(w.levels,N.from,N.to):0)},0),[r]),p=D.useMemo(()=>Wi.special.reduce((v,w)=>{const N=o[w.key];return v+(N?Ud(w.levels,N.from,N.to):0)},0),[o]),m=d+h+p,x=()=>{const v=yw();s(v.light),i(v.shadow),c(v.special)};return n.jsxs("div",{className:hn.wrapper,children:[n.jsx(bw,{title:"Light World",rows:Wi.light,ranges:e,setRanges:(v,w)=>s(N=>({...N,[v]:w}))}),n.jsx(bw,{title:"Shadow World",rows:Wi.shadow,ranges:r,setRanges:(v,w)=>i(N=>({...N,[v]:w}))}),n.jsxs("div",{className:hn.panel,children:[n.jsxs("div",{className:hn.header,children:[n.jsx("div",{className:hn.title,children:"Special Dungeons"}),n.jsx("button",{className:hn.resetBtn,onClick:x,children:"RESET"})]}),n.jsxs("table",{className:hn.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Dungeon"}),n.jsx("th",{children:"From"}),n.jsx("th",{children:"To"}),n.jsx("th",{children:"Sum"})]})}),n.jsx("tbody",{children:Wi.special.map(v=>{var w;return n.jsx(N3,{row:v,range:(w=o[v.key])!=null?w:{from:0,to:0},onChange:N=>c(P=>({...P,[v.key]:N}))},v.key)})})]}),n.jsxs("div",{className:hn.footer,children:[n.jsxs("div",{className:hn.footerLine,children:[n.jsx("span",{children:"Sum Total Special"}),n.jsxs("span",{children:[am(p)," XP"]})]}),n.jsxs("div",{className:hn.footerLine,children:[n.jsx("span",{children:"Total XP"}),n.jsxs("span",{children:[am(m)," XP"]})]}),n.jsxs("div",{className:hn.note,children:["Flle die XP-Arrays in ",n.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function _H(){return n.jsx("div",{style:{padding:12},children:n.jsx(bH,{})})}const wH=()=>n.jsx(Xt,{title:"Progression  Early Game"}),jH="_wrap_n2poq_31",SH="_title_n2poq_33",kH="_infoBox_n2poq_39",NH="_infoTitle_n2poq_63",TH="_infoList_n2poq_73",CH="_section_n2poq_89",EH="_h2_n2poq_101",AH="_h3_n2poq_103",IH="_intro_n2poq_105",RH="_ul_n2poq_107",PH="_img_n2poq_113",Rt={wrap:jH,title:SH,infoBox:kH,infoTitle:NH,infoList:TH,section:CH,h2:EH,h3:AH,intro:IH,ul:RH,img:PH},LH=()=>{Go();const t=[Fo("first-weekend-guide-day1",900),Fo("first-weekend-guide-day2",900),Fo("first-weekend-guide-day3",900)];return n.jsxs("div",{className:Rt.wrap,children:[n.jsx("h1",{className:Rt.title,children:"First Weekend Guide"}),n.jsxs("aside",{className:Rt.infoBox,role:"note","aria-label":"Important Level Tips",children:[n.jsx("div",{className:Rt.infoTitle,children:"Important Level Tips"}),n.jsxs("ul",{className:Rt.infoList,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),n.jsx("p",{className:Rt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),n.jsxs("div",{className:Rt.section,children:[n.jsx("h2",{className:Rt.h2,children:"Preparation before launch"}),n.jsxs("ul",{className:Rt.ul,children:[n.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),n.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),n.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),n.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),n.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),n.jsxs("div",{className:Rt.section,children:[n.jsx("h2",{className:Rt.h2,children:"Day 1"}),n.jsx("h3",{className:Rt.h3,children:"Level 13"}),n.jsxs("ul",{className:Rt.ul,children:[n.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),n.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&n.jsx("img",{className:Rt.img,src:t[0],alt:"Day 1 overview"})]}),n.jsxs("div",{className:Rt.section,children:[n.jsx("h3",{className:Rt.h3,children:"Level 410"}),n.jsxs("ul",{className:Rt.ul,children:[n.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),n.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),n.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),n.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),n.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),n.jsxs("div",{className:Rt.section,children:[n.jsx("h2",{className:Rt.h2,children:"Day 2"}),n.jsx("h3",{className:Rt.h3,children:"Level 1015"}),n.jsxs("ul",{className:Rt.ul,children:[n.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),n.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),n.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),n.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&n.jsx("img",{className:Rt.img,src:t[1],alt:"Day 2 overview"})]}),n.jsxs("div",{className:Rt.section,children:[n.jsx("h2",{className:Rt.h2,children:"Day 3"}),n.jsx("h3",{className:Rt.h3,children:"Level 1520"}),n.jsxs("ul",{className:Rt.ul,children:[n.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),n.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&n.jsx("img",{className:Rt.img,src:t[2],alt:"Day 3 overview"})]})]})},DH=()=>n.jsx(Xt,{title:"Max Item Stats Calculator"}),MH=()=>n.jsx(Xt,{title:"Fortress Package skip order (Early)"}),FH=()=>n.jsx(Xt,{title:"Underworld Pro Package skip order (Early)"}),BH=()=>n.jsx(Xt,{title:"Gem Calculator (Early)"}),$H=()=>n.jsx(Xt,{title:"Fortress attack duplication guide (Early)"}),VH=()=>n.jsx(Xt,{title:"Progression  Mid Game"}),OH="_wrap_1x7jo_31",UH="_header_1x7jo_35",zH="_titles_1x7jo_55",GH="_h1_1x7jo_57",HH="_lead_1x7jo_59",WH="_ctaRow_1x7jo_63",qH="_cta_1x7jo_63",KH="_section_1x7jo_85",QH="_sectionGrid_1x7jo_87",XH="_card_1x7jo_99",YH="_h2_1x7jo_103",JH="_h3_1x7jo_105",ZH="_p_1x7jo_107",eW="_ul_1x7jo_111",tW="_ol_1x7jo_111",nW="_figure_1x7jo_117",sW="_figureNarrow_1x7jo_139",rW="_img_1x7jo_149",iW="_fallbackImg_1x7jo_151",aW="_figCaption_1x7jo_159",oW="_tableWrap_1x7jo_163",lW="_table_1x7jo_163",cW="_footer_1x7jo_217",dW="_tools_1x7jo_219",uW="_toolBtn_1x7jo_221",dt={wrap:OH,header:UH,titles:zH,h1:GH,lead:HH,ctaRow:WH,cta:qH,section:KH,sectionGrid:QH,card:XH,h2:YH,h3:JH,p:ZH,ul:eW,ol:tW,figure:nW,figureNarrow:sW,img:rW,fallbackImg:iW,figCaption:aW,tableWrap:oW,table:lW,footer:cW,tools:dW,toolBtn:uW},hW=1400;function pW(){const t=D.useMemo(()=>Fo("goldxpcurve",hW),[]);return n.jsxs("div",{className:dt.wrap,children:[n.jsxs("header",{className:dt.header,children:[n.jsxs("div",{className:dt.titles,children:[n.jsx("h1",{className:dt.h1,children:"Dungeon Pause"}),n.jsx("p",{className:dt.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),n.jsxs("div",{className:dt.ctaRow,children:[n.jsx(Et,{className:dt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),n.jsx(Et,{className:dt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),n.jsxs("section",{className:dt.section,children:[n.jsx("h2",{className:dt.h2,children:"Worum gehts?"}),n.jsxs("p",{className:dt.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",n.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",n.jsx("strong",{children:"Level 370"})," und endet um ",n.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),n.jsxs("section",{className:dt.section,children:[n.jsx("h3",{className:dt.h3,children:"XP & Gold  Verlauf"}),n.jsxs("div",{className:`${dt.figure} ${dt.figureNarrow}`,children:[t?n.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:dt.img}):n.jsx("div",{className:dt.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),n.jsx("div",{className:dt.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),n.jsxs("section",{className:dt.sectionGrid,children:[n.jsxs("div",{className:dt.card,children:[n.jsx("h3",{className:dt.h3,children:"Start & Ende"}),n.jsxs("ul",{className:dt.ul,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",n.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",n.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),n.jsxs("div",{className:dt.card,children:[n.jsx("h3",{className:dt.h3,children:"Twister & Light/Shadow"}),n.jsxs("ul",{className:dt.ul,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Twister:"})," bei ca. ",n.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),n.jsxs("li",{children:["Whrend der Pause weiterhin ",n.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",n.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",n.jsx("em",{children:"Devilsatt"})," &"," ",n.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),n.jsxs("section",{className:dt.section,children:[n.jsx("h3",{className:dt.h3,children:"Vorgehen"}),n.jsxs("ol",{className:dt.ol,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",n.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",n.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",n.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),n.jsxs("section",{className:dt.section,children:[n.jsx("h3",{className:dt.h3,children:"Kompaktbersicht"}),n.jsx("div",{className:dt.tableWrap,children:n.jsxs("table",{className:dt.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Aspekt"}),n.jsx("th",{children:"Empfehlung"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Start (Faustregel)"}),n.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Ende (Faustregel)"}),n.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Open XP vor Eintritt"}),n.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Twister"}),n.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Light/Shadow"}),n.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Whrend der Pause"}),n.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Pets"}),n.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Optimaler Exit"}),n.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),n.jsx("footer",{className:dt.footer,children:n.jsxs("div",{className:dt.tools,children:[n.jsx(Et,{className:dt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),n.jsx(Et,{className:dt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const mW=()=>n.jsx(Xt,{title:"Dungeon Pause open XP Calculator"}),fW="_wrap_1uhww_3",gW="_headerBar_1uhww_15",xW="_title_1uhww_33",vW="_meta_1uhww_45",yW="_description_1uhww_55",bW="_section_1uhww_69",_W="_sectionTitle_1uhww_77",wW="_steps_1uhww_87",hi={wrap:fW,headerBar:gW,title:xW,meta:vW,description:yW,section:bW,sectionTitle:_W,steps:wW};function jW(){return n.jsxs("div",{className:hi.wrap,children:[n.jsxs("div",{className:hi.headerBar,children:[n.jsx("h2",{className:hi.title,children:"Dungeon Pause Exit"}),n.jsx("span",{className:hi.meta,children:"Last updated: 28.03.2025"})]}),n.jsx("p",{className:hi.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),n.jsxs("section",{className:hi.section,children:[n.jsx("h3",{className:hi.sectionTitle,children:"Sequence for the Exit"}),n.jsxs("ol",{className:hi.steps,children:[n.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),n.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),n.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),n.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),n.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),n.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),n.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),n.jsxs("section",{className:hi.section,children:[n.jsx("h3",{className:hi.sectionTitle,children:"Extra Tip"}),n.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const SW=()=>n.jsx(Xt,{title:"Gem Calculator (Mid)"}),kW=()=>n.jsx(Xt,{title:"Calendar Skip"}),NW=()=>n.jsx(Xt,{title:"Progression  Late Game"}),TW="_layout_13sgm_29",CW="_side_13sgm_49",EW="_sideHead_13sgm_61",AW="_search_13sgm_71",IW="_spotBtn_13sgm_89",RW="_sideList_13sgm_109",PW="_sideItem_13sgm_111",LW="_active_13sgm_119",DW="_sideTitle_13sgm_121",MW="_ico_13sgm_123",FW="_badge_13sgm_125",BW="_detail_13sgm_139",$W="_detailInner_13sgm_141",VW="_detailHead_13sgm_143",OW="_detailTitle_13sgm_145",UW="_empty_13sgm_147",zW="_grid_13sgm_151",GW="_card_13sgm_157",HW="_cardHead_13sgm_175",WW="_btnGrid_13sgm_177",qW="_itemBtn_13sgm_179",KW="_spotWrap_13sgm_203",QW="_spot_13sgm_89",XW="_spotHead_13sgm_227",YW="_spotSearch_13sgm_235",JW="_spotClose_13sgm_243",ZW="_spotList_13sgm_253",eq="_spotItem_13sgm_255",tq="_spotItemEmpty_13sgm_259",nq="_spotCat_13sgm_261",sq="_spotLabel_13sgm_263",rq="_mark_13sgm_267",at={layout:TW,side:CW,sideHead:EW,search:AW,spotBtn:IW,sideList:RW,sideItem:PW,active:LW,sideTitle:DW,ico:MW,badge:FW,detail:BW,detailInner:$W,detailHead:VW,detailTitle:OW,empty:UW,grid:zW,card:GW,cardHead:HW,btnGrid:WW,itemBtn:qW,spotWrap:KW,spot:QW,spotHead:XW,spotSearch:YW,spotClose:JW,spotList:ZW,spotItem:eq,spotItemEmpty:tq,spotCat:nq,spotLabel:sq,mark:rq};function iq(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bd(t,e){if(!e)return t;const s=new RegExp(`(${iq(e)})`,"ig");return t.replace(s,`<mark class="${at.mark}">$1</mark>`)}function _w(t){if(!t||!t.length)return 0;let e=0;for(const s of t)if(s.sub2&&s.sub2.length)if(s.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of s.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=s.sub2.length;else e+=1;return e}function aq(t){const e=[];for(const s of t){const r=s.label;if(!(!s.sub||!s.sub.length))for(const i of s.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of i.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${i.label}  ${c.label}  ${d.label}`,catKey:s.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:s.key,subKey:i.key,sub2Key:c.key});else for(const c of i.sub2)e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:s.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}`,catKey:s.key,subKey:i.key})}return e}function oq(t,e){var s;return e&&t.some(r=>r.key===e)?e:((s=t==null?void 0:t[0])==null?void 0:s.key)||""}const lq=({categories:t,onNavigate:e,autoFocusSearch:s})=>{const[r,i]=D.useState(()=>{var B;return((B=t==null?void 0:t[0])==null?void 0:B.key)||""}),[o,c]=D.useState(""),[d,h]=D.useState(!1),p=D.useRef(null),m=D.useMemo(()=>{const B=o.trim().toLowerCase();if(!B)return t;const E=y=>y.toLowerCase().includes(B);return t.map(y=>{const j=E(y.label),M=[];for(const T of y.sub||[]){const _=E(T.label);if(T.sub2&&T.sub2.length)if(T.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const A of T.sub2)if(A.sub2&&A.sub2.length){const V=A.sub2.filter(F=>E(F.label));V.length&&L.push({...A,sub2:V})}else E(A.label)&&L.push(A);(_||L.length)&&M.push({...T,sub2:L})}else{const L=T.sub2.filter(A=>E(A.label));(_||L.length)&&M.push({...T,sub2:L})}else _&&M.push(T)}return j||M.length?{...y,sub:M.length?M:y.sub}:null}).filter(Boolean)},[t,o]),x=D.useMemo(()=>{const B=m.length?m:t,E=oq(B,r);return B.find(y=>y.key===E)||B[0]||null},[m,t,r]),v=D.useMemo(()=>aq(t),[t]),[w,N]=D.useState(""),P=D.useMemo(()=>{const B=w.trim().toLowerCase();return B?v.filter(E=>E.full.toLowerCase().includes(B)):v},[v,w]);D.useEffect(()=>{const B=E=>{const y=E.key.toLowerCase()==="k";(E.metaKey||E.ctrlKey)&&y&&(E.preventDefault(),h(!0),setTimeout(()=>{var j;return(j=p.current)==null?void 0:j.focus()},0)),E.key==="Escape"&&h(!1)};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[]);const R=D.useRef(null);D.useEffect(()=>{var B;s&&((B=R.current)==null||B.focus())},[s]);const O=()=>{var M;const B=o.trim().toLowerCase(),E=(B?v.find(T=>T.full.toLowerCase().includes(B)):v[0])||null;if(E){e({tab:E.catKey,sub:E.subKey,sub2:E.sub2Key});return}const y=x,j=(M=y==null?void 0:y.sub)==null?void 0:M[0];if(!(!y||!j))if(j.sub2&&j.sub2.length)if(j.sub2.some(_=>_.sub2&&_.sub2.length)){const _=j.sub2[0];_.sub2&&_.sub2.length?e({tab:y.key,sub:j.key,sub2:_.sub2[0].key}):e({tab:y.key,sub:j.key,sub2:_.key})}else e({tab:y.key,sub:j.key,sub2:j.sub2[0].key});else e({tab:y.key,sub:j.key})};return n.jsxs("div",{className:at.layout,children:[n.jsxs("div",{className:at.side,children:[n.jsxs("div",{className:at.sideHead,children:[n.jsx("input",{ref:R,className:at.search,type:"search",placeholder:"Suche",value:o,onChange:B=>c(B.target.value),onKeyDown:B=>{B.key==="Enter"&&O()}}),n.jsx("button",{className:at.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var B;return(B=p.current)==null?void 0:B.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),n.jsx("div",{className:at.sideList,children:(m.length?m:t).map(B=>n.jsxs("div",{className:`${at.sideItem} ${(x==null?void 0:x.key)===B.key?at.active:""}`,onClick:()=>i(B.key),children:[n.jsxs("span",{className:at.sideTitle,children:[B.icon?n.jsx("span",{className:at.ico,"aria-hidden":!0,children:B.icon}):null,B.label]}),n.jsx("span",{className:at.badge,children:_w(B.sub)})]},B.key))})]}),n.jsx("div",{className:at.detail,children:x?n.jsxs("div",{className:at.detailInner,children:[n.jsxs("div",{className:at.detailHead,children:[n.jsxs("h3",{className:at.detailTitle,children:[x.icon?n.jsx("span",{className:at.ico,"aria-hidden":!0,children:x.icon}):null,x.label]}),n.jsxs("div",{className:at.badge,children:[_w(x.sub)," Eintrge"]})]}),n.jsx("div",{className:at.grid,children:(x.sub||[]).map(B=>{const E=B.sub2&&B.sub2.length>0,y=E&&B.sub2.some(j=>j.sub2&&j.sub2.length);return n.jsxs("div",{className:at.card,children:[n.jsx("div",{className:at.cardHead,dangerouslySetInnerHTML:{__html:bd(B.label,o)}}),E?n.jsx("div",{className:at.btnGrid,children:y?B.sub2.flatMap(j=>j.sub2&&j.sub2.length?j.sub2.map(M=>n.jsx("button",{className:at.itemBtn,onClick:()=>e({tab:x.key,sub:B.key,sub2:M.key}),dangerouslySetInnerHTML:{__html:bd(`${j.label}  ${M.label}`,o)}},`${j.key}__${M.key}`)):[n.jsx("button",{className:at.itemBtn,onClick:()=>e({tab:x.key,sub:B.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:bd(j.label,o)}},j.key)]):B.sub2.map(j=>n.jsx("button",{className:at.itemBtn,onClick:()=>e({tab:x.key,sub:B.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:bd(j.label,o)}},j.key))}):n.jsx("div",{className:at.btnGrid,children:n.jsx("button",{className:at.itemBtn,onClick:()=>e({tab:x.key,sub:B.key}),dangerouslySetInnerHTML:{__html:bd(B.label,o)}})})]},B.key)})}),o&&x.sub&&x.sub.length>0&&x.sub.every(B=>!B.sub2||!B.sub2.length?!B.label.toLowerCase().includes(o.trim().toLowerCase()):B.sub2.some(y=>y.sub2&&y.sub2.length)?B.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(j=>!j.label.toLowerCase().includes(o.trim().toLowerCase())):!y.label.toLowerCase().includes(o.trim().toLowerCase())):B.sub2.every(y=>!y.label.toLowerCase().includes(o.trim().toLowerCase())))?n.jsxs("div",{className:at.empty,children:["Keine Treffer in ",x.label,"."]}):null]}):n.jsx("div",{className:at.empty,children:"Keine Kategorie gefunden."})}),d&&n.jsx("div",{className:at.spotWrap,onClick:()=>h(!1),children:n.jsxs("div",{className:at.spot,onClick:B=>B.stopPropagation(),children:[n.jsxs("div",{className:at.spotHead,children:[n.jsx("input",{ref:p,className:at.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:w,onChange:B=>N(B.target.value)}),n.jsx("button",{className:at.spotClose,onClick:()=>h(!1),children:"Esc"})]}),n.jsx("div",{className:at.spotList,children:P.length===0?n.jsx("div",{className:at.spotItemEmpty,children:"Keine Treffer"}):P.map((B,E)=>n.jsxs("div",{className:at.spotItem,onClick:()=>{h(!1),e({tab:B.catKey,sub:B.subKey,sub2:B.sub2Key})},children:[n.jsx("div",{className:at.spotCat,children:B.catKey}),n.jsx("div",{className:at.spotLabel,children:B.full})]},E))})]})})]})},cq={gamefeatures:eU,progression:tU,hellevator:nU,"legendary-dungeon":sU,events:rU,calculators:xU,infographics:vU,"class-book":yU,dungeons:bU},ww={gamefeatures:{fortress:_U,underworld:MU,arenaam:$U},hellevator:{"hellevator-guide":Mz},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":Fz},events:{"event-list":Bz,"event-cycle":$z},calculators:{"fortress-calculator":rG,"underworld-calculator":SG,"max-item-stats-calculator":kG,"gem-calculator":eH,"dungeon-pause-open-xp-calculator":_H},progression:{early:wH,mid:VH,late:NW}},mx={gamefeatures:{arenaam:{"am-rune-bonuses":kz,"am-build-order":Dz},underworld:{"underworld-calculator":FU,"underworld-pro-package-skip-order":BU},fortress:{"fortress-calculator":wU,"fortress-package-skip-order":LU,"fortress-attack-duplication":DU}},progression:{early:{"first-weekend-guide":LH,"max-item-stats-calculator":DH,"fortress-package-skip-order":MH,"underworld-pro-package-skip-order":FH,"gem-calculator":BH,"fortress-attack-duplication":$H},mid:{"dungeon-pause":pW,"dungeon-pause-open-xp-calculator":mW,"dungeon-pause-exit":jW,"gem-calculator":SW,"calendar-skip":kW}}};function dq(){const[t,e]=Go(),s=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let o=null;s?s&&!r?o=cq[s]||null:s&&r&&!i?o=ww[s]&&ww[s][r]||null:s&&r&&i&&(o=mx[s]&&mx[s][r]&&mx[s][r][i]||null):o=null;const c=d=>{const h=new URLSearchParams(t);h.set("tab",d.tab),d.sub?h.set("sub",d.sub):h.delete("sub"),d.sub2?h.set("sub2",d.sub2):h.delete("sub2"),e(h,{replace:!1})};return n.jsxs(St,{children:[n.jsx("div",{className:Fl.topWrap,children:n.jsx(WO,{logoSrc:ZO,categories:pw,titleI18nKey:"guides.index.title"})}),n.jsx("div",{className:Fl.divider}),n.jsx("div",{className:Fl.contentArea,children:o?n.jsx(o,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Fl.placeholder,children:[n.jsx("h2",{className:Fl.placeholderTitle,children:"Guides"}),n.jsx("p",{className:Fl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),n.jsx(lq,{categories:pw,onNavigate:c,autoFocusSearch:!1})]})})]})}const uq="_wrap_1353r_1",hq="_centerLogoWrap_1353r_21",pq="_centerLogoLink_1353r_37",mq="_centerLogo_1353r_21",fq="_arc_1353r_71",gq="_left_1353r_73",xq="_right_1353r_75",vq="_sub_1353r_77",yq="_full_1353r_79",bq="_arcItem_1353r_81",_q="_iconBtn_1353r_87",wq="_active_1353r_141",jq="_iconImg_1353r_151",Sq="_placeholderIcon_1353r_155",kq="_placeholderText_1353r_173",Nq="_iconLabel_1353r_177",Wn={wrap:uq,centerLogoWrap:hq,centerLogoLink:pq,centerLogo:mq,arc:fq,left:gq,right:xq,sub:vq,full:yq,arcItem:bq,iconBtn:_q,active:wq,iconImg:jq,placeholderIcon:Sq,placeholderText:kq,iconLabel:Nq},Tq=({to:t,label:e,icon:s,variant:r="main"})=>{const{search:i}=sr();let o=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),h=c.get("sub"),m=new URL(t,window.location.origin).searchParams,x=m.get("tab"),v=m.get("sub");o=r==="sub"?d===x&&!!v&&h===v:d===x}catch(c){o=!1}return n.jsxs(Et,{to:t,"aria-label":e,className:[Wn.iconBtn,r==="sub"?Wn.muted:"",o?Wn.active:""].join(" "),title:e,replace:!1,children:[s?n.jsx("img",{src:s,alt:"",className:Wn.iconImg}):n.jsx("div",{className:Wn.placeholderIcon,"aria-hidden":"true",children:n.jsx("span",{className:Wn.placeholderText,children:e.slice(0,2).toUpperCase()})}),n.jsx("div",{className:Wn.iconLabel,children:e})]})},fx=({items:t,side:e,anchorSide:s="right",compact:r=!1,variant:i="main",arcOffset:o=220,outerOffset:c=440})=>{const d=D.useMemo(()=>{const p=t.length;if(p===0)return[];let m=-90,x=90;e==="left"?(m=90,x=270):e==="sub"?s==="left"?(m=90,x=270):(m=-90,x=90):e==="full"&&(m=0,x=360);const v=(x-m)/(p+1),w=r?190:250;return t.map((N,P)=>{const O=(m+v*(P+1))*Math.PI/180;return{it:N,x:Math.cos(O)*w,y:Math.sin(O)*w}})},[t,e,s,r]),h=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${o}px)`:e==="right"?p.left=`calc(50% + ${o}px)`:e==="sub"&&(p.left=s==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return n.jsx("div",{className:[Wn.arc,e==="left"?Wn.left:"",e==="right"?Wn.right:"",e==="sub"?Wn.sub:"",e==="full"?Wn.full:""].join(" "),style:h,children:d.map(({it:p,x:m,y:x})=>n.jsx("div",{className:Wn.arcItem,style:{transform:`translate(${m}px, ${x}px)`},children:n.jsx(Tq,{to:p.to,label:p.label,icon:p.icon,variant:i})},p.key))})},Cq=["creators","scans","predictions","news","records","feedback"],g0=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],Eq={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},Aq=new Set(Cq),Iq=g0.reduce((t,e)=>(t[e.key]=e,t),{}),Rq=t=>typeof t=="string"&&Aq.has(t),Pq=({logoSrc:t})=>{const[e]=Go(),s=e.get("tab")||null,r=D.useMemo(()=>g0.filter(w=>w.side==="left"),[]),i=D.useMemo(()=>g0.filter(w=>w.side==="right"),[]),o=Rq(s)?s:null,c=o?Eq[o]:[],d=o?Iq[o].side:"right",h=D.useRef(null),[p,m]=D.useState(220),[x,v]=D.useState(440);return D.useEffect(()=>{const w=()=>{var E,y;const P=((y=(E=h.current)==null?void 0:E.offsetWidth)!=null?y:380)/2,O=Math.round(P+60),B=Math.round(O+220);m(O),v(B)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),n.jsxs("div",{className:Wn.wrap,children:[n.jsx("div",{className:Wn.centerLogoWrap,children:n.jsx(Et,{to:"/community",className:Wn.centerLogoLink,"aria-label":"Community Hub Home",children:n.jsx("img",{ref:h,src:t,alt:"Community Hub",className:Wn.centerLogo})})}),n.jsx(fx,{items:r.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"left",variant:"main",arcOffset:p}),n.jsx(fx,{items:i.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"right",variant:"main",arcOffset:p}),c.length>0&&n.jsx(fx,{items:c.map(w=>({key:w.key,to:w.to,label:w.label,icon:w.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:x})]})},Lq="_topWrap_1rivx_1",Dq="_divider_1rivx_19",Mq="_contentArea_1rivx_53",Fq="_placeholder_1rivx_63",Bq="_placeholderTitle_1rivx_77",$q="_placeholderText_1rivx_91",Bl={topWrap:Lq,divider:Dq,contentArea:Mq,placeholder:Fq,placeholderTitle:Bq,placeholderText:$q},Vq="/test/assets/logo_communityhub-LVMLHRD6.png",Oq=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function T3(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function Uq(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,o]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o))return new Date(o,i-1,r).toISOString()}const s=new Date(t);return Number.isNaN(s.getTime())?new Date().toISOString():s.toISOString()}function gx(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function zq(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function Gq(t){return t.avatar?t.avatar:`/avatars/${T3(t.code||t.name||"creator")}.png`}function Hq(t){const e=T3(t.code||t.name||"creator"),s=[],r=gx(t.youtube);r&&s.push({type:"YouTube",url:r});const i=gx(t.twitch);i&&s.push({type:"Twitch",url:i});const o=gx(t.discord);return o&&s.push({type:"Discord",url:o}),{id:`sheet-${e}`,name:t.name,avatar:Gq(t),description:zq(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:Uq(t.latestActivity),platforms:s}}function Wq(t){var s,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(s=t==null?void 0:t.generatedAt)!=null?s:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function C3(t="/data/creators-live.json"){const[e,s]=D.useState(null),[r,i]=D.useState(""),[o,c]=D.useState(!1),[d,h]=D.useState(0);return D.useEffect(()=>{let p=!1;async function m(){c(!0),i("");try{const x=await fetch(t,{cache:"no-store"});if(!x.ok)throw new Error(`HTTP ${x.status}`);const v=await x.json();p||s(Wq(v))}catch(x){p||(i((x==null?void 0:x.message)||"Failed to load creator snapshot"),s(null))}finally{p||c(!1)}}return m(),()=>{p=!0}},[t,d]),{snapshot:e,error:r,loading:o,refresh:()=>h(p=>p+1)}}const qq=Oq,Kq=qq.map(Hq),Qq=[...Kq];function E3(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function La(t,e,s=E3){if(t<=0)return"";const r=s(t);return e?`${r} ${e}`:r}function lu(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function Xq(t,e){const s=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*s;case"views":return(r.totalViews-i.totalViews)*s;case"activity":return(lu(r.lastActive)-lu(i.lastActive))*s*-1;case"language":return r.language.localeCompare(i.language)*s;default:return 0}}}function Yq(t){const e={width:16,height:16};switch(t){case"YouTube":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[n.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),n.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[n.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),n.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),n.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[n.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),n.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),n.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[n.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),n.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),n.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function jw({c:t}){return n.jsxs("article",{className:"cc-card",children:[n.jsxs("header",{className:"cc-card-head",children:[n.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const s=e.currentTarget;s.onerror=null,s.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),n.jsxs("div",{className:"cc-card-title",children:[n.jsx("h3",{className:"cc-name",children:t.name}),n.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>n.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[Yq(e.type),n.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),n.jsx("p",{className:"cc-desc",children:t.description}),n.jsxs("div",{className:"cc-stats",children:[n.jsx("span",{title:"Subscribers",children:La(t.subscribers,"subs")}),n.jsx("span",{title:"Total views",children:La(t.totalViews,"views")}),n.jsx("span",{title:"Weekly views",children:La(t.weeklyViews,"/wk")}),n.jsx("span",{title:"Weekly posts",children:La(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),n.jsxs("footer",{className:"cc-meta",children:[n.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),n.jsxs("span",{className:"cc-meta-right",children:["active ",lu(t.lastActive),"d ago"]})]})]},t.id)}function Jq({data:t}){return n.jsx("div",{className:"cc-table-wrap",children:n.jsxs("table",{className:"cc-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Lang"}),n.jsx("th",{children:"Subs"}),n.jsx("th",{children:"Total Views"}),n.jsx("th",{children:"Weekly Views"}),n.jsx("th",{children:"Weekly Posts"}),n.jsx("th",{children:"Active"})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"cc-table-name",children:[n.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),n.jsx("span",{children:e.name})]})}),n.jsx("td",{children:e.language.toUpperCase()}),n.jsx("td",{children:La(e.subscribers)}),n.jsx("td",{children:La(e.totalViews)}),n.jsx("td",{children:La(e.weeklyViews)}),n.jsx("td",{children:La(e.weeklyPosts,void 0,s=>`${s}`)}),n.jsxs("td",{children:[lu(e.lastActive),"d"]})]},e.id))})]})})}function A3(){var Z,ue;const[t,e]=D.useState("static"),[s,r]=D.useState("cards"),[i,o]=D.useState("subs"),[c,d]=D.useState("desc"),[h,p]=D.useState("all"),[m,x]=D.useState("all"),[v,w]=D.useState(0),[N,P]=D.useState(365),[R,O]=D.useState(null),[B,E]=D.useState(""),[y,j]=D.useState(!1),[M,T]=D.useState(""),[_,C]=D.useState(null),{snapshot:L,error:A}=C3(),V=(Z=L==null?void 0:L.data)!=null&&Z.length?L.data:null,F=V!=null?V:Qq,K=t==="static"?F:(ue=_!=null?_:V)!=null?ue:[],z=D.useMemo(()=>{const ee=new Set(K.map(fe=>fe.language));return Array.from(ee).sort()},[K]),q=D.useMemo(()=>K.filter(ee=>h==="all"?!0:ee.language===h).filter(ee=>m==="all"?!0:ee.platforms.some(fe=>fe.type===m)).filter(ee=>ee.subscribers>=v).filter(ee=>lu(ee.lastActive)<=N).slice().sort(Xq(i,c)),[K,h,m,v,N,i,c]);D.useEffect(()=>{if(!R&&q.length){const ee=q[Math.floor(Math.random()*q.length)];O(ee.id)}},[q,R]);const H=D.useMemo(()=>q.find(ee=>ee.id===R)||null,[q,R]),W=D.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyViews-ee.weeklyViews).slice(0,5),[q]),ne=D.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyPosts-ee.weeklyPosts).slice(0,5),[q]);async function re(){T(""),j(!0);try{const ee=await fetch(B,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const fe=await ee.json(),Te=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.data)?fe.data:[];C(Te)}catch(ee){T((ee==null?void 0:ee.message)||"Fetch failed")}finally{j(!1)}}const G=q.length===0;return n.jsxs("section",{className:"cc-wrap",children:[n.jsxs("div",{className:"cc-heading",children:[n.jsx("h1",{children:"Content Creator Hub"}),n.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),L&&n.jsxs("p",{className:"cc-sync",children:[n.jsxs("span",{children:["Live stats synced ",new Date(L.generatedAt).toLocaleString()]}),n.jsxs("span",{children:[L.data.length," profiles"]})]}),A&&n.jsx("p",{className:"cc-sync-error",children:A})]}),n.jsxs("div",{className:"cc-toolbar",children:[n.jsxs("div",{className:"cc-toolbar-row",children:[n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Data"}),n.jsxs("select",{value:t,onChange:ee=>e(ee.target.value),children:[n.jsx("option",{value:"static",children:"Static"}),n.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"View"}),n.jsxs("select",{value:s,onChange:ee=>r(ee.target.value),children:[n.jsx("option",{value:"cards",children:"Cards"}),n.jsx("option",{value:"table",children:"Table"}),n.jsx("option",{value:"json",children:"JSON"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Sort by"}),n.jsxs("select",{value:i,onChange:ee=>o(ee.target.value),children:[n.jsx("option",{value:"subs",children:"Subs"}),n.jsx("option",{value:"views",children:"Views"}),n.jsx("option",{value:"activity",children:"Activity"}),n.jsx("option",{value:"language",children:"Language"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Dir"}),n.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]})]}),n.jsxs("div",{className:"cc-toolbar-row",children:[n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Language"}),n.jsxs("select",{value:h,onChange:ee=>p(ee.target.value),children:[n.jsx("option",{value:"all",children:"All"}),z.map(ee=>n.jsx("option",{value:ee,children:ee.toUpperCase()},ee))]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Platform"}),n.jsxs("select",{value:m,onChange:ee=>x(ee.target.value),children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"YouTube",children:"YouTube"}),n.jsx("option",{value:"Twitch",children:"Twitch"}),n.jsx("option",{value:"TikTok",children:"TikTok"}),n.jsx("option",{value:"Discord",children:"Discord"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Min subs"}),n.jsx("input",{type:"number",min:0,value:v,onChange:ee=>w(Number(ee.target.value||0)),placeholder:"0"})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Active within"}),n.jsxs("select",{value:N,onChange:ee=>P(Number(ee.target.value)),children:[n.jsx("option",{value:7,children:"7 days"}),n.jsx("option",{value:30,children:"30 days"}),n.jsx("option",{value:90,children:"90 days"}),n.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&n.jsxs("div",{className:"cc-api",children:[n.jsxs("div",{className:"cc-api-ctrls",children:[n.jsxs("label",{className:"cc-field cc-field-grow",children:[n.jsx("span",{children:"API URL"}),n.jsx("input",{type:"url",value:B,onChange:ee=>E(ee.target.value),placeholder:"https://api.example.com/creators"})]}),n.jsx("button",{className:"cc-btn",onClick:re,disabled:!B||y,children:y?"Loading":"Fetch"})]}),M&&n.jsx("div",{className:"cc-api-error",children:M}),n.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),H&&n.jsxs("div",{className:"cc-spotlight",children:[n.jsxs("div",{className:"cc-spot-head",children:[n.jsx("h2",{children:"Random CC Spotlight"}),n.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!q.length)return;const ee=q[Math.floor(Math.random()*q.length)];O(ee.id)},children:"Shuffle"})]}),n.jsx(jw,{c:H})]}),n.jsxs("div",{className:"cc-main",children:[n.jsxs("div",{className:"cc-main-left",children:[G&&n.jsxs("div",{className:"cc-empty",children:[n.jsx("h3",{children:"No creators match the filters"}),n.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!G&&s==="cards"&&n.jsx("div",{className:"cc-grid",children:q.map(ee=>n.jsx(jw,{c:ee},ee.id))}),!G&&s==="table"&&n.jsx(Jq,{data:q}),s==="json"&&n.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(q,null,2)})]}),n.jsxs("aside",{className:"cc-main-right",children:[n.jsxs("div",{className:"cc-side",children:[n.jsx("h3",{children:"Weekly Toplists"}),n.jsxs("div",{className:"cc-toplist",children:[n.jsxs("div",{children:[n.jsx("h4",{children:"By Weekly Views"}),n.jsx("ol",{children:W.map(ee=>n.jsxs("li",{children:[n.jsx("span",{children:ee.name}),n.jsx("span",{className:"cc-top-val",children:E3(ee.weeklyViews)})]},ee.id))})]}),n.jsxs("div",{children:[n.jsx("h4",{children:"By Weekly Posts"}),n.jsx("ol",{children:ne.map(ee=>n.jsxs("li",{children:[n.jsx("span",{children:ee.name}),n.jsx("span",{className:"cc-top-val",children:ee.weeklyPosts})]},ee.id))})]})]})]}),n.jsxs("div",{className:"cc-side cc-legal",children:[n.jsx("h3",{children:"Legal & Disclaimer"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Only public data; no embedding without permission."}),n.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),n.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function I3(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Scans"}),n.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function R3(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Predictions"}),n.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function P3(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  News"}),n.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function L3(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Feedback"}),n.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const Zq=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],xx=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],eK={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},tK=t=>eK[t],nK=(t,e=64)=>{var i;const s=tK(t),r=Oo(s);return r&&(i=Nr(r,e))!=null?i:null},sK="_recordsPage_brq13_1",rK="_navArea_brq13_8",iK="_tabList_brq13_14",aK="_tabButton_brq13_28",oK="_tabButtonActive_brq13_51",lK="_sectionContent_brq13_58",cK="_placeholderPanel_brq13_64",dK="_placeholderTitle_brq13_72",uK="_placeholderText_brq13_79",hK="_milestoneSection_brq13_86",pK="_sectionHeader_brq13_92",mK="_filterBar_brq13_99",fK="_filterButtons_brq13_116",gK="_filterButton_brq13_116",xK="_filterButtonActive_brq13_148",vK="_filterSelectWrapper_brq13_155",yK="_filterLabel_brq13_161",bK="_filterSelect_brq13_155",_K="_emptyFilterMessage_brq13_178",wK="_currentSection_brq13_185",jK="_currentGrid_brq13_191",SK="_currentCard_brq13_197",kK="_categoryLabel_brq13_210",NK="_recordTitle_brq13_217",TK="_currentDetails_brq13_223",CK="_notes_brq13_229",EK="_infoPanel_brq13_235",AK="_infoCard_brq13_241",IK="_disclaimerCard_brq13_242",RK="_infoHeader_brq13_263",PK="_infoAuthor_brq13_270",LK="_authorName_brq13_279",DK="_authorBadge_brq13_283",MK="_infoAuthorIcon_brq13_296",FK="_infoDate_brq13_312",BK="_infoBody_brq13_317",$K="_infoTitle_brq13_323",VK="_infoLink_brq13_333",OK="_milestoneGrid_brq13_360",UK="_milestoneCard_brq13_366",zK="_milestoneCategory_brq13_379",GK="_milestoneTitle_brq13_386",HK="_milestoneDetails_brq13_393",WK="_detailRow_brq13_399",qK="_detailLabel_brq13_405",KK="_detailValue_brq13_412",QK="_sourceLink_brq13_417",XK="_emptyState_brq13_428",Re={recordsPage:sK,navArea:rK,tabList:iK,tabButton:aK,tabButtonActive:oK,sectionContent:lK,placeholderPanel:cK,placeholderTitle:dK,placeholderText:uK,milestoneSection:hK,sectionHeader:pK,filterBar:mK,filterButtons:fK,filterButton:gK,filterButtonActive:xK,filterSelectWrapper:vK,filterLabel:yK,filterSelect:bK,emptyFilterMessage:_K,currentSection:wK,currentGrid:jK,currentCard:SK,categoryLabel:kK,recordTitle:NK,currentDetails:TK,notes:CK,infoPanel:EK,infoCard:AK,disclaimerCard:IK,infoHeader:RK,infoAuthor:PK,authorName:LK,authorBadge:DK,infoAuthorIcon:MK,infoDate:FK,infoBody:BK,infoTitle:$K,infoLink:VK,milestoneGrid:OK,milestoneCard:UK,milestoneCategory:zK,milestoneTitle:GK,milestoneDetails:HK,detailRow:WK,detailLabel:qK,detailValue:KK,sourceLink:QK,emptyState:XK},YK=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],JK={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},ZK=({title:t,description:e,hint:s})=>n.jsxs("article",{className:Re.placeholderPanel,children:[n.jsx("h2",{className:Re.placeholderTitle,children:t}),n.jsx("p",{className:Re.placeholderText,children:e}),s&&n.jsx("p",{className:Re.emptyState,children:s})]}),eQ=()=>{const[t,e]=D.useState("all"),s=D.useMemo(()=>{const o=new Set,c=[];for(const d of xx)o.has(d.category)||(o.add(d.category),c.push(d.category));return["all",...c]},[]),r=t==="all"?xx:xx.filter(o=>o.category===t),i=o=>{e(o)};return n.jsxs("section",{className:Re.milestoneSection,"aria-label":"Records milestones",children:[n.jsxs("div",{className:Re.sectionHeader,children:[n.jsx("p",{children:"Milestones"}),n.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),n.jsxs("div",{className:Re.filterBar,children:[n.jsx("div",{className:Re.filterButtons,children:s.map(o=>n.jsx("button",{type:"button",className:[Re.filterButton,t===o&&Re.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(o),"aria-pressed":t===o,children:o==="all"?"All Categories":o},o))}),n.jsxs("label",{className:Re.filterSelectWrapper,children:[n.jsx("span",{className:Re.filterLabel,children:"Category"}),n.jsx("select",{value:t,onChange:o=>i(o.target.value),className:Re.filterSelect,children:s.map(o=>n.jsx("option",{value:o,children:o==="all"?"All Categories":o},o))})]})]}),r.length===0?n.jsx("p",{className:Re.emptyFilterMessage,children:"No milestones fall into this category yet."}):n.jsx("div",{className:Re.milestoneGrid,children:r.map(o=>n.jsxs("article",{className:Re.milestoneCard,children:[n.jsx("span",{className:Re.milestoneCategory,children:o.category}),n.jsx("h3",{className:Re.milestoneTitle,children:o.achievement}),n.jsxs("div",{className:Re.milestoneDetails,children:[n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Name"}),n.jsx("span",{className:Re.detailValue,children:o.name})]}),n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Server"}),n.jsx("span",{className:Re.detailValue,children:o.server})]}),n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Date"}),n.jsx("span",{className:Re.detailValue,children:o.date})]}),o.notes&&n.jsx("p",{className:Re.notes,children:o.notes}),o.source&&n.jsx("a",{href:o.source,target:"_blank",rel:"noreferrer",className:Re.sourceLink,children:"Source"})]})]},`${o.achievement}-${o.name}`))})]})},tQ=()=>n.jsxs("section",{className:Re.currentSection,"aria-label":"Current community records",children:[n.jsxs("div",{className:Re.sectionHeader,children:[n.jsx("p",{children:"Current Records"}),n.jsx("h2",{children:"The latest verified achievements"})]}),n.jsx("div",{className:Re.currentGrid,children:Zq.map((t,e)=>n.jsxs("article",{className:Re.currentCard,children:[n.jsx("span",{className:Re.categoryLabel,children:t.category}),n.jsx("h3",{className:Re.recordTitle,children:t.record}),n.jsxs("div",{className:Re.currentDetails,children:[n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Class"}),n.jsx("span",{className:Re.detailValue,children:t.classType})]}),n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Player"}),n.jsx("span",{className:Re.detailValue,children:t.playerName})]}),n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Server"}),n.jsx("span",{className:Re.detailValue,children:t.server})]}),n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Days"}),n.jsx("span",{className:Re.detailValue,children:t.days})]}),t.release&&n.jsxs("div",{className:Re.detailRow,children:[n.jsx("span",{className:Re.detailLabel,children:"Release"}),n.jsx("span",{className:Re.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&n.jsxs("p",{className:Re.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&n.jsx("p",{className:Re.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),_d={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function D3(){const[t,e]=D.useState("current"),s=nK("infoCard",32),r=()=>{if(t==="current")return n.jsx(tQ,{});if(t==="milestones")return n.jsx(eQ,{});const i=JK[t];return n.jsx(ZK,{title:i.title,description:i.description,hint:i.hint})};return n.jsxs("section",{className:Re.recordsPage,children:[n.jsx(k3,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),n.jsxs("div",{className:Re.infoPanel,children:[n.jsxs("div",{className:Re.infoCard,children:[n.jsxs("div",{className:Re.infoHeader,children:[n.jsxs("div",{className:Re.infoAuthor,children:[s?n.jsx("img",{src:s,alt:"Community Data",className:Re.infoAuthorIcon}):null,n.jsx("span",{className:Re.authorName,children:"S&F Tavern Info"}),n.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Re.authorBadge,children:"Discord"})]}),n.jsx("span",{className:Re.infoDate,children:"11.12.2020 14:08"})]}),n.jsxs("div",{className:Re.infoBody,children:[n.jsx("h3",{className:Re.infoTitle,children:_d.title}),_d.paragraphs.map(i=>n.jsx("p",{children:i},i))]}),n.jsxs("div",{className:Re.infoLink,children:[n.jsx("span",{children:_d.linkLabel}),n.jsx("a",{href:_d.linkUrl,target:"_blank",rel:"noreferrer",children:_d.linkUrl})]})]}),n.jsxs("div",{className:Re.disclaimerCard,children:[n.jsx("h3",{className:Re.infoTitle,children:"Disclaimer"}),n.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),n.jsx("div",{className:Re.navArea,children:n.jsx("nav",{className:Re.tabList,"aria-label":"Records navigation",children:YK.map(i=>n.jsx("button",{type:"button",className:`${Re.tabButton} ${t===i.key?Re.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),n.jsx("div",{className:Re.sectionContent,children:r()})]})}const nQ={creators:A3,scans:I3,predictions:R3,news:P3,records:D3,feedback:L3};function sQ(){const[t]=Go(),e=t.get("tab")||"",s=nQ[e];return n.jsxs(St,{children:[n.jsx("div",{className:Bl.topWrap,children:n.jsx(Pq,{logoSrc:Vq})}),n.jsx("div",{className:Bl.divider}),n.jsx("div",{className:Bl.contentArea,children:s?n.jsx(s,{}):n.jsxs("div",{className:Bl.placeholder,children:[n.jsx("h2",{className:Bl.placeholderTitle,children:"Community"}),n.jsx("p",{className:Bl.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function rQ(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsxs(Et,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),n.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),n.jsxs(Et,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),n.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function iQ(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans  Letzter Scan"}),n.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function aQ(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans  Archiv"}),n.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function oQ(){return n.jsx(St,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:n.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:n.jsx(lQ,{}),right:n.jsx(cQ,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[n.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),n.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(Et,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),n.jsx(Et,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(mp,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),n.jsx(mp,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),n.jsx(mp,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),n.jsx(mp,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function lQ(){return n.jsxs("nav",{className:"space-y-2 text-sm",children:[n.jsx(wd,{to:"/guild-hub/planner",children:"Planner"}),n.jsx(wd,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),n.jsx(wd,{to:"/guild-hub/fusion",children:"Fusion"}),n.jsx(wd,{to:"/guild-hub/waitlist",children:"Waitlist"}),n.jsx(wd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function cQ(){return n.jsxs("aside",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),n.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function mp({to:t,title:e,desc:s}){return n.jsxs(Et,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),s?n.jsx("div",{className:"mt-1 text-sm opacity-75",children:s}):null]})}function wd({to:t,children:e}){return n.jsx(an,{to:t,className:({isActive:s})=>`block rounded-lg border px-3 py-2 no-underline ${s?"font-semibold":""}`,style:({isActive:s})=>({borderColor:s?"#2B6DE0":"#2B4C73",background:s?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:s?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}function cu(t){const e=se.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[s,r]=se.useState(()=>e());return se.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),o=c=>r(c.matches);return r(i.matches),i.addEventListener("change",o),()=>i.removeEventListener("change",o)},[t]),s}function du(t,e=300){const[s,r]=se.useState(t);return se.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),s}const dQ='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function uu(t,e){se.useEffect(()=>{var c;if(!e)return;const s=t.current;if(!s)return;const r=()=>s.querySelectorAll(dQ);(c=r()[0])==null||c.focus();const o=d=>{if(d.key!=="Tab")return;const h=r();if(h.length===0)return;const p=h[0],m=h[h.length-1];d.shiftKey?document.activeElement===p&&(d.preventDefault(),m.focus()):document.activeElement===m&&(d.preventDefault(),p.focus())};return s.addEventListener("keydown",o),()=>s.removeEventListener("keydown",o)},[t,e])}const uQ="_page_1etjv_1",hQ="_header_1etjv_7",pQ="_headerStack_1etjv_13",mQ="_kicker_1etjv_19",fQ="_title_1etjv_27",gQ="_headerActions_1etjv_33",xQ="_primaryAction_1etjv_39",vQ="_secondaryAction_1etjv_40",yQ="_infoStrip_1etjv_64",bQ="_infoBlock_1etjv_74",_Q="_infoLabel_1etjv_81",wQ="_freshnessWrapper_1etjv_91",jQ="_freshnessBadge_1etjv_95",SQ="_badge_f0_1etjv_107",kQ="_badge_f1_1etjv_108",NQ="_badge_f2_1etjv_109",TQ="_badge_f3_1etjv_110",CQ="_badge_f4_1etjv_111",EQ="_badge_f5_1etjv_112",AQ="_badge_f6_1etjv_113",IQ="_badge_f7_1etjv_114",RQ="_badge_unknown_1etjv_115",PQ="_popover_1etjv_117",LQ="_popoverLabel_1etjv_133",DQ="_filterToolbar_1etjv_138",MQ="_filterSheetButton_1etjv_143",FQ="_inlineFilters_1etjv_152",BQ="_searchInput_1etjv_158",$Q="_select_1etjv_159",VQ="_ownerGroup_1etjv_168",OQ="_ownerChip_1etjv_174",UQ="_ownerChipActive_1etjv_183",zQ="_sortGroup_1etjv_188",GQ="_sortLabel_1etjv_194",HQ="_directionButton_1etjv_199",WQ="_listBody_1etjv_208",qQ="_tableWrapper_1etjv_214",KQ="_table_1etjv_214",QQ="_stickyColumn_1etjv_241",XQ="_rowTitleButton_1etjv_248",YQ="_tableStatus_1etjv_257",JQ="_cardList_1etjv_267",ZQ="_card_1etjv_267",eX="_cardHeader_1etjv_283",tX="_cardTitle_1etjv_289",nX="_cardMeta_1etjv_298",sX="_cardDescription_1etjv_306",rX="_cardFooter_1etjv_312",iX="_cardLabel_1etjv_320",aX="_scanBadge_1etjv_325",oX="_emptyState_1etjv_333",lX="_sheetBackdrop_1etjv_341",cX="_sheet_1etjv_341",dX="_sheetHandle_1etjv_361",uX="_sheetBody_1etjv_370",hX="_sheetLabel_1etjv_378",pX="_sheetActions_1etjv_397",mX="_overlay_1etjv_404",fX="_panel_1etjv_413",gX="_modal_1etjv_426",xX="_drawer_1etjv_431",vX="_panelHeader_1etjv_435",yX="_panelControls_1etjv_442",bX="_panelDescription_1etjv_457",_X="_detailGrid_1etjv_463",wX="_panelFooter_1etjv_479",jX="_formOverlay_1etjv_485",SX="_formPanel_1etjv_496",kX="_formGrid_1etjv_509",NX="_menuWrapper_1etjv_515",TX="_dotsButton_1etjv_519",CX="_menu_1etjv_515",EX="_pagination_1etjv_555",ve={page:uQ,header:hQ,headerStack:pQ,kicker:mQ,title:fQ,headerActions:gQ,primaryAction:xQ,secondaryAction:vQ,infoStrip:yQ,infoBlock:bQ,infoLabel:_Q,freshnessWrapper:wQ,freshnessBadge:jQ,badge_f0:SQ,badge_f1:kQ,badge_f2:NQ,badge_f3:TQ,badge_f4:CQ,badge_f5:EQ,badge_f6:AQ,badge_f7:IQ,badge_unknown:RQ,popover:PQ,popoverLabel:LQ,filterToolbar:DQ,filterSheetButton:MQ,inlineFilters:FQ,searchInput:BQ,select:$Q,ownerGroup:VQ,ownerChip:OQ,ownerChipActive:UQ,sortGroup:zQ,sortLabel:GQ,directionButton:HQ,listBody:WQ,tableWrapper:qQ,table:KQ,stickyColumn:QQ,rowTitleButton:XQ,tableStatus:YQ,cardList:JQ,card:ZQ,cardHeader:eX,cardTitle:tX,cardMeta:nX,cardDescription:sX,cardFooter:rX,cardLabel:iX,scanBadge:aX,emptyState:oX,sheetBackdrop:lX,sheet:cX,sheetHandle:dX,sheetBody:uX,sheetLabel:hX,sheetActions:pX,overlay:mX,panel:fX,modal:gX,drawer:xX,panelHeader:vX,panelControls:yX,panelDescription:bX,detailGrid:_X,panelFooter:wX,formOverlay:jX,formPanel:SX,formGrid:kX,menuWrapper:NX,dotsButton:TX,menu:CX,pagination:EX},M3=["Ari","Borin","Celeste","Doran","Lena","Nix"],AX={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},ay={raid:"Raid",event:"Event",task:"Task"},F3={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},Sw={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},kw={urgent:4,high:3,medium:2,low:1},IX={"7d":7,"30d":30,"90d":90,all:null},vx={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},RX=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:So(5,20),createdAt:ms(2,14),updatedAt:ms(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:gp(3),nextUpdateAt:fp(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:So(2,12),createdAt:ms(4,9),updatedAt:ms(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:gp(8),nextUpdateAt:fp(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:So(7,17),createdAt:ms(1,10),updatedAt:ms(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:gp(22),nextUpdateAt:fp(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:ms(1,19),createdAt:ms(9,10),updatedAt:ms(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:ms(1,19),nextUpdateAt:So(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:So(12,18),createdAt:ms(6,15),updatedAt:ms(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:gp(1),nextUpdateAt:fp(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:So(18,13),createdAt:ms(12,18),updatedAt:ms(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:ms(2,16),nextUpdateAt:So(4,9)}];function So(t,e=12){const s=new Date;return s.setDate(s.getDate()+t),s.setHours(e,0,0,0),s.toISOString()}function fp(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function ms(t,e=12){const s=new Date;return s.setDate(s.getDate()-t),s.setHours(e,0,0,0),s.toISOString()}function gp(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function Nw(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function PX(t,e,s){const r=Date.now(),i=IX[e.range];return t.filter(o=>{const c=s===""||o.title.toLowerCase().includes(s.toLowerCase())||o.description.toLowerCase().includes(s.toLowerCase()),d=e.type==="all"||o.type===e.type,h=e.status==="all"||o.status===e.status,p=e.owner.length===0||e.owner.includes(o.owner)||o.assignees.some(x=>e.owner.includes(x));let m=!0;if(i!==null){const x=new Date(o.dueAt).getTime(),v=r+i*24*60*60*1e3;m=x<=v}return c&&d&&h&&p&&m})}function LX(t,e,s){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"dueAt":c=new Date(i.dueAt).getTime()-new Date(o.dueAt).getTime();break;case"updatedAt":c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break;case"priority":c=kw[i.priority]-kw[o.priority];break;case"title":c=i.title.localeCompare(o.title);break;default:c=0}return s==="asc"?c:-c}),r}function DX(t,e,s){const r=(e-1)*s;return t.slice(r,r+s)}function za(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function zm(t){const e=Date.now()-new Date(t).getTime(),s=Math.round(e/6e4);if(s<60)return`${s} min`;const r=Math.round(s/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function x0(t,e){const s=new Date(t).getTime()-e;if(s<=0)return"faellig";const r=Math.floor(s/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function MX(t){return t.length===0?null:t.reduce((e,s)=>e?Sw[s.freshness]>Sw[e.freshness]?s:e:s,null)}function FX(){var re;const[t,e]=se.useState(RX),[s,r]=se.useState(vx),[i,o]=se.useState(vx),c=du(s.q,300),d=se.useMemo(()=>{const G=PX(t,s,c);return LX(G,s.sort,s.dir)},[t,s,c]),h=se.useMemo(()=>DX(d,s.page,s.pageSize),[d,s.page,s.pageSize]),p=Math.max(1,Math.ceil(d.length/s.pageSize)),m=se.useMemo(()=>Array.from(new Set(t.map(G=>G.owner))),[t]),x=cu("(min-width: 768px)"),v=cu("(min-width: 1024px)"),[w,N]=se.useState(!1),[P,R]=se.useState(null),O=(re=t.find(G=>G.id===P))!=null?re:null,B=se.useRef(null);uu(B,!!O&&!v);const[E,y]=se.useState(null),[j,M]=se.useState(!1),T=se.useRef(null);uu(T,j);const _=se.useMemo(()=>MX(t),[t]),C=se.useMemo(()=>_?x0(_.nextUpdateAt,Date.now()):"",[_]),L=x,A=v,V=n.jsxs("div",{className:ve.headerActions,children:[n.jsx("button",{type:"button",className:ve.primaryAction,onClick:()=>{y(null),M(!0)},children:"Neuer Eintrag"}),!x&&n.jsx("button",{type:"button",className:ve.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>N(!0),children:"Filter"})]}),F=G=>{const Z=Nw(G);r(Z),o(Z)},K=(G,Z)=>{const ue=Nw({...s,[G]:Z,page:G==="page"||G==="pageSize"?Z:1});F(ue)},z=()=>{F(i),N(!1)},q=()=>{F(vx),N(!1)},H=(G,Z=!1)=>{if(Z)o(ue=>{const fe=ue.owner.includes(G)?ue.owner.filter(Te=>Te!==G):[...ue.owner,G];return{...ue,owner:fe}});else{const ee=s.owner.includes(G)?s.owner.filter(fe=>fe!==G):[...s.owner,G];K("owner",ee)}},W=(G,Z)=>{e(ue=>ue.map(ee=>ee.id===G?{...ee,status:Z,updatedAt:new Date().toISOString()}:ee))},ne=G=>{e(Z=>Z.some(ee=>ee.id===G.id)?Z.map(ee=>ee.id===G.id?G:ee):[G,...Z]),M(!1)};return n.jsxs(St,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[n.jsxs("div",{className:ve.page,children:[n.jsxs("header",{className:ve.header,children:[n.jsxs("div",{className:ve.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ve.kicker,children:"Deployment"}),n.jsx("h1",{className:ve.title,children:"Planer"})]}),V]}),n.jsxs("div",{className:ve.infoStrip,children:[n.jsxs("div",{className:ve.infoBlock,children:[n.jsx("span",{className:ve.infoLabel,children:"Offen"}),n.jsx("strong",{children:d.filter(G=>G.status==="open").length})]}),n.jsxs("div",{className:ve.infoBlock,children:[n.jsx("span",{className:ve.infoLabel,children:"In Arbeit"}),n.jsx("strong",{children:d.filter(G=>G.status==="in_progress").length})]}),_&&n.jsx(BX,{code:_.freshness,label:F3[_.freshness],updatedAt:_.lastScanAt,nextUpdateAt:_.nextUpdateAt,countdown:C})]})]}),n.jsx("section",{className:ve.filterToolbar,children:x?n.jsx($X,{filters:s,owners:m,onChange:K,onOwnerToggle:G=>H(G,!1)}):n.jsx("button",{type:"button",className:ve.filterSheetButton,onClick:()=>N(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),n.jsx("section",{className:ve.listBody,children:L?n.jsx(VX,{items:h,sort:s.sort,dir:s.dir,onSortChange:G=>{const Z=s.sort===G&&s.dir==="asc"?"desc":"asc";K("sort",G),K("dir",Z)},onSelect:G=>R(G.id),onStatusChange:W,onEdit:G=>{y(G),M(!0)}}):n.jsx(OX,{items:h,onSelect:G=>R(G.id),onStatusChange:W,onEdit:G=>{y(G),M(!0)}})}),n.jsx(zX,{page:s.page,totalPages:p,onChange:G=>K("page",G)})]}),w&&n.jsx(UX,{filters:i,owners:m,onChange:o,onOwnerToggle:G=>H(G,!0),onClose:()=>N(!1),onApply:z,onReset:q}),O&&n.jsx($3,{ref:B,item:O,mode:A?"drawer":"modal",onClose:()=>R(null),onEdit:()=>{y(O),M(!0),R(null)},onStatusChange:W}),j&&n.jsx(V3,{ref:T,owners:m.length?m:M3,item:E,onClose:()=>M(!1),onSubmit:ne})]})}function BX({code:t,label:e,updatedAt:s,nextUpdateAt:r,countdown:i}){var d;const[o,c]=se.useState(!1);return n.jsxs("div",{className:ve.freshnessWrapper,children:[n.jsx("button",{type:"button",className:`${ve.freshnessBadge} ${(d=ve[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>c(h=>!h),children:e}),o&&n.jsxs("div",{className:ve.popover,role:"dialog","aria-label":"Freshness Details",children:[n.jsxs("div",{children:[n.jsx("span",{className:ve.popoverLabel,children:"Zuletzt gescannt"}),n.jsx("strong",{children:za(s)})]}),n.jsxs("div",{children:[n.jsx("span",{className:ve.popoverLabel,children:"Naechster Scan"}),n.jsx("strong",{children:za(r)})]}),n.jsxs("div",{children:[n.jsx("span",{className:ve.popoverLabel,children:"Countdown"}),n.jsx("strong",{children:i})]})]})]})}function $X({filters:t,owners:e,onChange:s,onOwnerToggle:r}){return n.jsxs("div",{className:ve.inlineFilters,children:[n.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:ve.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>s("q",i.target.value)}),n.jsxs("select",{className:ve.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>s("type",i.target.value),children:[n.jsx("option",{value:"all",children:"Typ (alle)"}),n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]}),n.jsxs("select",{className:ve.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>s("status",i.target.value),children:[n.jsx("option",{value:"all",children:"Status (alle)"}),n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),n.jsxs("select",{className:ve.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>s("range",i.target.value),children:[n.jsx("option",{value:"7d",children:"7 Tage"}),n.jsx("option",{value:"30d",children:"30 Tage"}),n.jsx("option",{value:"90d",children:"90 Tage"}),n.jsx("option",{value:"all",children:"Alle"})]}),n.jsx("div",{className:ve.ownerGroup,children:e.map(i=>{const o=t.owner.includes(i);return n.jsx("button",{type:"button",className:`${ve.ownerChip} ${o?ve.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),n.jsxs("div",{className:ve.sortGroup,children:[n.jsx("label",{htmlFor:"planner-sort",className:ve.sortLabel,children:"Sortieren"}),n.jsxs("select",{id:"planner-sort",name:"plannerSort",className:ve.select,value:t.sort,onChange:i=>s("sort",i.target.value),children:[n.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),n.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),n.jsx("option",{value:"priority",children:"Prioritaet"}),n.jsx("option",{value:"title",children:"Titel"})]}),n.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:ve.directionButton,onClick:()=>s("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function VX({items:t,sort:e,dir:s,onSortChange:r,onSelect:i,onStatusChange:o,onEdit:c}){const d=h=>e===h?s==="asc"?" ":" ":"";return t.length===0?n.jsx(B3,{}):n.jsx("div",{className:ve.tableWrapper,children:n.jsxs("table",{className:ve.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{className:ve.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),n.jsx("th",{children:"Typ"}),n.jsx("th",{children:"Owner"}),n.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),n.jsx("th",{children:"Status"}),n.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),n.jsx("th",{})]})}),n.jsx("tbody",{children:t.map(h=>n.jsxs("tr",{children:[n.jsx("td",{className:ve.stickyColumn,children:n.jsx("button",{type:"button",className:ve.rowTitleButton,onClick:()=>i(h),children:h.title})}),n.jsx("td",{children:ay[h.type]}),n.jsx("td",{children:h.owner}),n.jsx("td",{children:za(h.dueAt)}),n.jsx("td",{children:n.jsxs("select",{name:`plannerStatus-${h.id}`,"aria-label":`Status fuer ${h.title}`,className:ve.tableStatus,value:h.status,onChange:p=>o(h.id,p.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),n.jsx("td",{children:zm(h.updatedAt)}),n.jsx("td",{children:n.jsx(O3,{onEdit:()=>c(h),onComplete:()=>o(h.id,"done")})})]},h.id))})]})})}function OX({items:t,onSelect:e,onStatusChange:s,onEdit:r}){return t.length===0?n.jsx(B3,{}):n.jsx("div",{className:ve.cardList,children:t.map(i=>n.jsxs("article",{className:ve.card,children:[n.jsxs("div",{className:ve.cardHeader,children:[n.jsxs("div",{children:[n.jsx("button",{type:"button",className:ve.cardTitle,onClick:()=>e(i),children:i.title}),n.jsxs("div",{className:ve.cardMeta,children:[n.jsx("span",{children:ay[i.type]}),n.jsx("span",{children:AX[i.status]}),n.jsxs("span",{children:["Due ",za(i.dueAt)]})]})]}),n.jsx(O3,{onEdit:()=>r(i),onComplete:()=>s(i.id,"done")})]}),n.jsx("p",{className:ve.cardDescription,children:i.description}),n.jsxs("div",{className:ve.cardFooter,children:[n.jsxs("div",{children:[n.jsx("span",{className:ve.cardLabel,children:"Owner"}),n.jsx("strong",{children:i.owner})]}),n.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:ve.tableStatus,value:i.status,onChange:o=>s(i.id,o.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),n.jsxs("span",{className:ve.scanBadge,children:["Letzter Scan ",zm(i.lastScanAt)]})]})]},i.id))})}function B3(){return n.jsx("div",{className:ve.emptyState,children:n.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function UX({filters:t,owners:e,onChange:s,onOwnerToggle:r,onClose:i,onApply:o,onReset:c}){return n.jsx("div",{className:ve.sheetBackdrop,role:"presentation",onClick:i,children:n.jsxs("div",{className:ve.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[n.jsx("div",{className:ve.sheetHandle}),n.jsxs("div",{className:ve.sheetBody,children:[n.jsx("h2",{children:"Filter"}),n.jsxs("label",{className:ve.sheetLabel,children:["Suche",n.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>s(h=>({...h,q:d.target.value}))})]}),n.jsxs("label",{className:ve.sheetLabel,children:["Typ",n.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>s(h=>({...h,type:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]})]}),n.jsxs("label",{className:ve.sheetLabel,children:["Status",n.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>s(h=>({...h,status:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{className:ve.sheetLabel,children:["Zeitraum",n.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>s(h=>({...h,range:d.target.value})),children:[n.jsx("option",{value:"7d",children:"7 Tage"}),n.jsx("option",{value:"30d",children:"30 Tage"}),n.jsx("option",{value:"90d",children:"90 Tage"}),n.jsx("option",{value:"all",children:"Alle"})]})]}),n.jsxs("div",{className:ve.sheetLabel,children:["Owner",n.jsx("div",{className:ve.ownerGroup,children:e.map(d=>{const h=t.owner.includes(d);return n.jsx("button",{type:"button",className:`${ve.ownerChip} ${h?ve.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),n.jsxs("div",{className:ve.sheetActions,children:[n.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),n.jsx("button",{type:"button",className:ve.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const $3=se.forwardRef(({item:t,mode:e,onClose:s,onEdit:r,onStatusChange:i},o)=>n.jsx("div",{className:ve.overlay,children:n.jsxs("div",{ref:o,className:`${ve.panel} ${e==="drawer"?ve.drawer:ve.modal}`,children:[n.jsxs("header",{className:ve.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ve.cardLabel,children:ay[t.type]}),n.jsx("h2",{children:t.title})]}),n.jsx("button",{type:"button",className:ve.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("div",{className:ve.panelControls,children:[n.jsxs("label",{children:["Status",n.jsxs("select",{value:t.status,onChange:c=>i(t.id,c.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{children:["Prioritaet",n.jsxs("select",{disabled:!0,value:t.priority,children:[n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Hoch"}),n.jsx("option",{value:"medium",children:"Mittel"}),n.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),n.jsx("p",{className:ve.panelDescription,children:t.description}),n.jsxs("dl",{className:ve.detailGrid,children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Owner"}),n.jsx("dd",{children:t.owner})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Assignees"}),n.jsx("dd",{children:t.assignees.join(", ")})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Termin"}),n.jsx("dd",{children:za(t.dueAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt aktualisiert"}),n.jsx("dd",{children:zm(t.updatedAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Erstellt"}),n.jsx("dd",{children:za(t.createdAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Tags"}),n.jsx("dd",{children:t.tags.join(", ")})]})]}),n.jsxs("div",{className:ve.panelFooter,children:[n.jsx("button",{type:"button",className:ve.secondaryAction,onClick:r,children:"Bearbeiten"}),n.jsx("button",{type:"button",className:ve.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));$3.displayName="DetailPanel";const V3=se.forwardRef(({owners:t,item:e,onClose:s,onSubmit:r},i)=>{const[o,c]=se.useState(()=>{var p;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(p=t[0])!=null?p:M3[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});se.useEffect(()=>{e&&c(e)},[JSON.stringify(e)]);const d=p=>{p.preventDefault(),o.title.trim()&&r({...o,updatedAt:new Date().toISOString()})},h=p=>{c(m=>{const v=m.tags.includes(p)?m.tags.filter(w=>w!==p):[...m.tags,p];return{...m,tags:v}})};return n.jsx("div",{className:ve.formOverlay,children:n.jsxs("form",{ref:i,className:ve.formPanel,onSubmit:d,children:[n.jsxs("header",{className:ve.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ve.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),n.jsx("h2",{children:e?e.title:"Planner Task"})]}),n.jsx("button",{type:"button",className:ve.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("label",{className:ve.sheetLabel,children:["Titel",n.jsx("input",{name:"plannerFormTitle",value:o.title,onChange:p=>c(m=>({...m,title:p.target.value})),required:!0})]}),n.jsxs("label",{className:ve.sheetLabel,children:["Beschreibung",n.jsx("textarea",{name:"plannerFormDescription",value:o.description,onChange:p=>c(m=>({...m,description:p.target.value})),rows:4})]}),n.jsxs("div",{className:ve.formGrid,children:[n.jsxs("label",{children:["Typ",n.jsxs("select",{name:"plannerFormType",value:o.type,onChange:p=>c(m=>({...m,type:p.target.value})),children:[n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]})]}),n.jsxs("label",{children:["Status",n.jsxs("select",{name:"plannerFormStatus",value:o.status,onChange:p=>c(m=>({...m,status:p.target.value})),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{children:["Owner",n.jsx("select",{name:"plannerFormOwner",value:o.owner,onChange:p=>c(m=>({...m,owner:p.target.value})),children:t.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("label",{children:["Prioritaet",n.jsxs("select",{name:"plannerFormPriority",value:o.priority,onChange:p=>c(m=>({...m,priority:p.target.value})),children:[n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Hoch"}),n.jsx("option",{value:"medium",children:"Mittel"}),n.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),n.jsxs("label",{className:ve.sheetLabel,children:["Termin",n.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:o.dueAt.slice(0,16),onChange:p=>c(m=>({...m,dueAt:new Date(p.target.value).toISOString()}))})]}),n.jsxs("div",{className:ve.sheetLabel,children:["Tags",n.jsx("div",{className:ve.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(p=>{const m=o.tags.includes(p);return n.jsx("button",{type:"button",className:`${ve.ownerChip} ${m?ve.ownerChipActive:""}`,onClick:()=>h(p),children:p},p)})})]}),n.jsxs("footer",{className:ve.panelFooter,children:[n.jsx("button",{type:"button",className:ve.secondaryAction,onClick:s,children:"Abbrechen"}),n.jsx("button",{type:"submit",className:ve.primaryAction,children:"Speichern"})]})]})})});V3.displayName="PlannerFormOverlay";function O3({onEdit:t,onComplete:e}){const[s,r]=se.useState(!1),i=se.useRef(null);return se.useEffect(()=>{if(!s)return;const o=c=>{var d;(d=i.current)!=null&&d.contains(c.target)||r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[s]),n.jsxs("div",{className:ve.menuWrapper,ref:i,children:[n.jsx("button",{type:"button",className:ve.dotsButton,"aria-haspopup":"menu","aria-expanded":s,onClick:()=>r(o=>!o),children:"..."}),s&&n.jsxs("div",{className:ve.menu,role:"menu",children:[n.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),n.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),n.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function zX({page:t,totalPages:e,onChange:s}){return n.jsxs("div",{className:ve.pagination,children:[n.jsx("button",{type:"button",className:ve.secondaryAction,onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),n.jsxs("span",{children:["Seite ",t," / ",e]}),n.jsx("button",{type:"button",className:ve.secondaryAction,onClick:()=>s(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const GX="_page_17frs_1",HX="_header_17frs_7",WX="_headerLeading_17frs_15",qX="_backLink_17frs_21",KX="_headerStack_17frs_39",QX="_kicker_17frs_45",XX="_title_17frs_53",YX="_subtitle_17frs_59",JX="_headerActions_17frs_65",ZX="_plannerNotice_17frs_71",eY="_noticeItem_17frs_82",tY="_noticeWarning_17frs_93",nY="_noticeDot_17frs_99",sY="_tabSection_17frs_107",rY="_tabBar_17frs_113",iY="_tabItem_17frs_120",aY="_tabItemActive_17frs_140",oY="_tabLabel_17frs_146",lY="_tabHelper_17frs_151",cY="_tabPanel_17frs_156",dY="_tabBadge_17frs_166",uY="_primaryAction_17frs_666",hY="_secondaryAction_17frs_667",pY="_infoStrip_17frs_692",mY="_infoBlock_17frs_702",fY="_infoLabel_17frs_708",gY="_infoHint_17frs_721",xY="_stageGrid_17frs_727",vY="_panel_17frs_733",yY="_panelHeader_17frs_744",bY="_panelKicker_17frs_751",_Y="_panelTitle_17frs_759",wY="_panelLead_17frs_765",jY="_badge_17frs_771",SY="_panelBody_17frs_782",kY="_placeholderGrid_17frs_788",NY="_placeholderCard_17frs_794",TY="_placeholderTitle_17frs_805",CY="_placeholderText_17frs_810",EY="_helperSection_17frs_816",AY="_helperCard_17frs_820",IY="_helperKicker_17frs_831",RY="_helperTitle_17frs_839",PY="_helperText_17frs_845",LY="_helperActions_17frs_851",Ue={page:GX,header:HX,headerLeading:WX,backLink:qX,headerStack:KX,kicker:QX,title:XX,subtitle:YX,headerActions:JX,plannerNotice:ZX,noticeItem:eY,noticeWarning:tY,noticeDot:nY,tabSection:sY,tabBar:rY,tabItem:iY,tabItemActive:aY,tabLabel:oY,tabHelper:lY,tabPanel:cY,tabBadge:dY,primaryAction:uY,secondaryAction:hY,infoStrip:pY,infoBlock:mY,infoLabel:fY,infoHint:gY,stageGrid:xY,panel:vY,panelHeader:yY,panelKicker:bY,panelTitle:_Y,panelLead:wY,badge:jY,panelBody:SY,placeholderGrid:kY,placeholderCard:NY,placeholderTitle:TY,placeholderText:CY,helperSection:EY,helperCard:AY,helperKicker:IY,helperTitle:RY,helperText:PY,helperActions:LY},DY="_setupGrid_5qwtc_1",MY="_setupLeft_5qwtc_7",FY="_setupRight_5qwtc_8",BY="_card_5qwtc_14",$Y="_cardHeader_5qwtc_25",VY="_cardKicker_5qwtc_31",OY="_cardTitle_5qwtc_39",UY="_cardText_5qwtc_45",zY="_toggleGroup_5qwtc_51",GY="_toggleButton_5qwtc_57",HY="_toggleButtonActive_5qwtc_72",WY="_modeHint_5qwtc_78",qY="_formGrid_5qwtc_84",KY="_formField_5qwtc_90",QY="_formLabel_5qwtc_96",XY="_input_5qwtc_101",YY="_suggestions_5qwtc_116",JY="_suggestionBtn_5qwtc_129",ZY="_suggestionName_5qwtc_149",eJ="_suggestionMeta_5qwtc_153",tJ="_partnerActions_5qwtc_158",nJ="_primaryAction_5qwtc_165",sJ="_secondaryAction_5qwtc_166",rJ="_partnerList_5qwtc_191",iJ="_partnerRow_5qwtc_197",aJ="_partnerName_5qwtc_207",oJ="_partnerMeta_5qwtc_212",lJ="_removeButton_5qwtc_217",cJ="_emptyState_5qwtc_232",dJ="_previewBlock_5qwtc_237",uJ="_previewLabel_5qwtc_243",hJ="_previewValue_5qwtc_250",pJ="_previewCard_5qwtc_255",mJ="_previewTitle_5qwtc_262",fJ="_previewMeta_5qwtc_267",gJ="_previewList_5qwtc_272",xJ="_previewItem_5qwtc_278",vJ="_setupInfo_5qwtc_285",yJ="_setupWarning_5qwtc_297",bJ="_setupInfoIcon_5qwtc_303",_J="_setupInfoTitle_5qwtc_315",wJ="_setupInfoText_5qwtc_320",Se={setupGrid:DY,setupLeft:MY,setupRight:FY,card:BY,cardHeader:$Y,cardKicker:VY,cardTitle:OY,cardText:UY,toggleGroup:zY,toggleButton:GY,toggleButtonActive:HY,modeHint:WY,formGrid:qY,formField:KY,formLabel:QY,input:XY,suggestions:YY,suggestionBtn:JY,suggestionName:ZY,suggestionMeta:eJ,partnerActions:tJ,primaryAction:nJ,secondaryAction:sJ,partnerList:rJ,partnerRow:iJ,partnerName:aJ,partnerMeta:oJ,removeButton:lJ,emptyState:cJ,previewBlock:dJ,previewLabel:uJ,previewValue:hJ,previewCard:pJ,previewTitle:mJ,previewMeta:fJ,previewList:gJ,previewItem:xJ,setupInfo:vJ,setupWarning:yJ,setupInfoIcon:bJ,setupInfoTitle:_J,setupInfoText:wJ};function jJ({setupState:t,onChangeMode:e,onChangeBaseGuild:s,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var R,O,B,E,y,j,M,T,_,C;const[o,c]=se.useState(()=>{var L,A,V,F;return{name:(A=(L=t.baseGuild)==null?void 0:L.name)!=null?A:"",server:(F=(V=t.baseGuild)==null?void 0:V.server)!=null?F:""}}),[d,h]=se.useState({id:void 0,name:"",server:""}),p=du(o.name,250),m=du(d.name,250),x=Tw(p,o.server||"all"),v=Tw(m,d.server||"all"),w=!!((O=(R=t.baseGuild)==null?void 0:R.name)!=null&&O.trim()&&((E=(B=t.baseGuild)==null?void 0:B.server)!=null&&E.trim())),N=t.partnerGuilds.length>0;se.useEffect(()=>{var A,V,F,K;const L={name:(V=(A=t.baseGuild)==null?void 0:A.name)!=null?V:"",server:(K=(F=t.baseGuild)==null?void 0:F.server)!=null?K:""};(L.name!==o.name||L.server!==o.server)&&c(L)},[(y=t.baseGuild)==null?void 0:y.name,(j=t.baseGuild)==null?void 0:j.server]);const P=()=>{!d.name.trim()||!d.server.trim()||(r(d),h({id:void 0,name:"",server:""}))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Se.setupGrid,children:[n.jsxs("div",{className:Se.setupLeft,children:[n.jsxs("div",{className:Se.card,children:[n.jsx("div",{className:Se.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Se.cardKicker,children:"Modus"}),n.jsx("h3",{className:Se.cardTitle,children:"Scan-based oder manuell"}),n.jsx("p",{className:Se.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),n.jsxs("div",{className:Se.toggleGroup,role:"group","aria-label":"Setup Modus",children:[n.jsx("button",{type:"button",className:`${Se.toggleButton} ${t.mode==="scan"?Se.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),n.jsx("button",{type:"button",className:`${Se.toggleButton} ${t.mode==="manual"?Se.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),n.jsx("p",{className:Se.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),n.jsxs("div",{className:Se.card,children:[n.jsx("div",{className:Se.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Se.cardKicker,children:"Base Guild"}),n.jsx("h3",{className:Se.cardTitle,children:"Stammdaten"}),n.jsx("p",{className:Se.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),n.jsxs("div",{className:Se.formGrid,children:[n.jsxs("label",{className:Se.formField,children:[n.jsx("span",{className:Se.formLabel,children:"Guild name"}),n.jsx("input",{type:"text",className:Se.input,value:o.name,onChange:L=>{const A=L.target.value;c(V=>({...V,name:A}))},onBlur:()=>s({name:o.name}),placeholder:"z.B. Solaris"}),x.length>0&&n.jsx("div",{className:Se.suggestions,children:x.map(L=>n.jsxs("button",{type:"button",className:Se.suggestionBtn,onClick:()=>{c({name:L.name,server:L.server}),s({id:L.id,name:L.name,server:L.server})},children:[n.jsx("span",{className:Se.suggestionName,children:L.name}),n.jsx("span",{className:Se.suggestionMeta,children:L.server})]},L.id))})]}),n.jsxs("label",{className:Se.formField,children:[n.jsx("span",{className:Se.formLabel,children:"Server"}),n.jsx("input",{type:"text",className:Se.input,value:o.server,onChange:L=>{const A=L.target.value;c(V=>({...V,server:A}))},onBlur:()=>s({server:o.server}),placeholder:"z.B. EU-01"})]})]})]}),n.jsxs("div",{className:Se.card,children:[n.jsx("div",{className:Se.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Se.cardKicker,children:"Partner Guilds"}),n.jsx("h3",{className:Se.cardTitle,children:"Partner hinzufuegen"}),n.jsx("p",{className:Se.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),n.jsxs("div",{className:Se.formGrid,children:[n.jsxs("label",{className:Se.formField,children:[n.jsx("span",{className:Se.formLabel,children:"Name"}),n.jsx("input",{type:"text",className:Se.input,value:d.name,onChange:L=>h(A=>({...A,name:L.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&n.jsx("div",{className:Se.suggestions,children:v.map(L=>n.jsxs("button",{type:"button",className:Se.suggestionBtn,onClick:()=>h({id:L.id,name:L.name,server:L.server}),children:[n.jsx("span",{className:Se.suggestionName,children:L.name}),n.jsx("span",{className:Se.suggestionMeta,children:L.server})]},L.id))})]}),n.jsxs("label",{className:Se.formField,children:[n.jsx("span",{className:Se.formLabel,children:"Server"}),n.jsx("input",{type:"text",className:Se.input,value:d.server,onChange:L=>h(A=>({...A,server:L.target.value})),placeholder:"z.B. EU-02"})]})]}),n.jsxs("div",{className:Se.partnerActions,children:[n.jsx("button",{type:"button",className:Se.primaryAction,onClick:P,children:"Add partner guild"}),n.jsx("button",{type:"button",className:Se.secondaryAction,onClick:()=>h({name:"",server:""}),children:"Reset fields"})]}),n.jsx("div",{className:Se.partnerList,children:t.partnerGuilds.length===0?n.jsx("div",{className:Se.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>n.jsxs("div",{className:Se.partnerRow,children:[n.jsxs("div",{children:[n.jsx("div",{className:Se.partnerName,children:L.name||"Unbenannt"}),n.jsx("div",{className:Se.partnerMeta,children:L.server||"Server n/a"})]}),n.jsx("button",{type:"button",className:Se.removeButton,onClick:()=>i(L.id),children:"Remove"})]},L.id))})]})]}),n.jsx("aside",{className:Se.setupRight,children:n.jsxs("div",{className:Se.card,children:[n.jsx("div",{className:Se.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Se.cardKicker,children:"Preview"}),n.jsx("h3",{className:Se.cardTitle,children:"Uebersicht"}),n.jsx("p",{className:Se.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),n.jsxs("div",{className:Se.previewBlock,children:[n.jsx("div",{className:Se.previewLabel,children:"Modus"}),n.jsx("div",{className:Se.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),n.jsxs("div",{className:Se.previewBlock,children:[n.jsx("div",{className:Se.previewLabel,children:"Base Guild"}),n.jsx("div",{className:Se.previewCard,children:(M=t.baseGuild)!=null&&M.name||(T=t.baseGuild)!=null&&T.server?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Se.previewTitle,children:((_=t.baseGuild)==null?void 0:_.name)||"Unbenannt"}),n.jsx("div",{className:Se.previewMeta,children:((C=t.baseGuild)==null?void 0:C.server)||"Server n/a"})]}):n.jsx("div",{className:Se.emptyState,children:"No base guild selected yet."})})]}),n.jsxs("div",{className:Se.previewBlock,children:[n.jsx("div",{className:Se.previewLabel,children:"Partner Guilds"}),n.jsx("div",{className:Se.previewList,children:t.partnerGuilds.length===0?n.jsx("div",{className:Se.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>n.jsxs("div",{className:Se.previewItem,children:[n.jsx("div",{className:Se.previewTitle,children:L.name||"Unbenannt"}),n.jsx("div",{className:Se.previewMeta,children:L.server||"Server n/a"})]},L.id))})]})]})})]}),w?N?null:n.jsxs("div",{className:Se.setupInfo,role:"status","aria-live":"polite",children:[n.jsx("span",{className:Se.setupInfoIcon,"aria-hidden":!0,children:"i"}),n.jsxs("div",{children:[n.jsx("div",{className:Se.setupInfoTitle,children:"Optional: add partner guilds."}),n.jsx("p",{className:Se.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):n.jsxs("div",{className:`${Se.setupInfo} ${Se.setupWarning}`,role:"status","aria-live":"polite",children:[n.jsx("span",{className:Se.setupInfoIcon,"aria-hidden":!0,children:"i"}),n.jsxs("div",{children:[n.jsx("div",{className:Se.setupInfoTitle,children:"No base guild selected yet."}),n.jsx("p",{className:Se.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function Tw(t,e){const[s,r]=se.useState([]);return se.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let o=!1;async function c(){try{const d=lv(jt,"latest"),h=await Ms(Xs(d,Po("nameFold"),Gl(i),Hl(i+""),Ys(12))),p=await Ms(Xs(d,nc("nameNgrams","array-contains",i),Ys(12))),m=new Set,x=[],v=w=>{var j,M,T,_,C,L,A,V,F,K;const N=w.data(),R=(j=w.ref.parent)==null?void 0:j.parent;if(((M=R==null?void 0:R.parent)==null?void 0:M.id)!=="guilds")return;const B=(_=(T=R==null?void 0:R.id)!=null?T:N.guildIdentifier)!=null?_:w.id;if(!B||m.has(B))return;const E=(A=(L=N.server)!=null?L:(C=N.values)==null?void 0:C.Server)!=null?A:"Unknown";if(e!=="all"&&E!==e)return;const y=(K=(F=N.name)!=null?F:(V=N.values)==null?void 0:V.Name)!=null?K:"Unbekannte Gilde";m.add(B),x.push({id:B,name:y,server:E})};h.forEach(v),p.forEach(v),o||(x.sort((w,N)=>w.name.localeCompare(N.name)),r(x))}catch(d){console.error("[FusionPlanner] guild search failed",d),o||r([])}}return c(),()=>{o=!0}},[t,e]),s}const SJ="_membersContainer_1i8xd_1",kJ="_scenarioSwitcher_1i8xd_7",NJ="_scenarioButton_1i8xd_13",TJ="_scenarioButtonActive_1i8xd_32",CJ="_scenarioButtonName_1i8xd_38",EJ="_scenarioButtonDesc_1i8xd_42",AJ="_setupInfo_1i8xd_47",IJ="_setupInfoHeader_1i8xd_57",RJ="_setupInfoTitle_1i8xd_64",PJ="_setupInfoMode_1i8xd_70",LJ="_setupInfoRow_1i8xd_82",DJ="_setupInfoLabel_1i8xd_88",MJ="_setupInfoValue_1i8xd_95",FJ="_setupInfoMeta_1i8xd_100",BJ="_setupInfoPartners_1i8xd_105",$J="_setupInfoBadge_1i8xd_111",VJ="_setupInfoEmpty_1i8xd_123",OJ="_membersSummary_1i8xd_128",UJ="_membersSummaryItem_1i8xd_138",zJ="_membersSummaryLabel_1i8xd_144",GJ="_membersSummaryValue_1i8xd_151",HJ="_maxSlotsInput_1i8xd_157",WJ="_membersTable_1i8xd_166",qJ="_membersRow_1i8xd_175",KJ="_membersHead_1i8xd_188",QJ="_membersCell_1i8xd_193",XJ="_memberName_1i8xd_198",YJ="_memberBadge_1i8xd_202",JJ="_assignmentCell_1i8xd_214",ZJ="_assignmentBadge_1i8xd_220",eZ="_assignmentBadgeMain_1i8xd_232",tZ="_assignmentBadgePartner_1i8xd_238",nZ="_assignmentBadgeWatch_1i8xd_244",sZ="_assignmentBadgeIdle_1i8xd_250",rZ="_assignmentActions_1i8xd_254",iZ="_assignmentButton_1i8xd_260",aZ="_assignmentButtonActive_1i8xd_276",oZ="_decisionGroup_1i8xd_282",lZ="_decisionButton_1i8xd_288",cZ="_decisionButtonActive_1i8xd_304",dZ="_emptyWrap_1i8xd_310",uZ="_emptyTitle_1i8xd_317",hZ="_emptyText_1i8xd_321",pZ="_contextMenuBackdrop_1i8xd_326",mZ="_contextMenu_1i8xd_326",fZ="_contextMenuItem_1i8xd_347",gZ="_partnerPickerCell_1i8xd_363",xZ="_partnerLabel_1i8xd_369",vZ="_partnerSelect_1i8xd_376",we={membersContainer:SJ,scenarioSwitcher:kJ,scenarioButton:NJ,scenarioButtonActive:TJ,scenarioButtonName:CJ,scenarioButtonDesc:EJ,setupInfo:AJ,setupInfoHeader:IJ,setupInfoTitle:RJ,setupInfoMode:PJ,setupInfoRow:LJ,setupInfoLabel:DJ,setupInfoValue:MJ,setupInfoMeta:FJ,setupInfoPartners:BJ,setupInfoBadge:$J,setupInfoEmpty:VJ,membersSummary:OJ,membersSummaryItem:UJ,membersSummaryLabel:zJ,membersSummaryValue:GJ,maxSlotsInput:HJ,membersTable:WJ,membersRow:qJ,membersHead:KJ,membersCell:QJ,memberName:XJ,memberBadge:YJ,assignmentCell:JJ,assignmentBadge:ZJ,assignmentBadgeMain:eZ,assignmentBadgePartner:tZ,assignmentBadgeWatch:nZ,assignmentBadgeIdle:sZ,assignmentActions:rZ,assignmentButton:iZ,assignmentButtonActive:aZ,decisionGroup:oZ,decisionButton:lZ,decisionButtonActive:cZ,emptyWrap:dZ,emptyTitle:uZ,emptyText:hZ,contextMenuBackdrop:pZ,contextMenu:mZ,contextMenuItem:fZ,partnerPickerCell:gZ,partnerLabel:xZ,partnerSelect:vZ};function yZ({members:t,scenario:e,onChangeScenarioDecision:s,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:o}){var T,_,C,L,A,V;const[c,d]=se.useState(null),h=se.useRef(null),p=o.partnerGuilds.length>0?o.partnerGuilds.map((F,K)=>({id:F.id,label:F.name||`Partner ${K+1}`})):[{id:"partner-default",label:"Partner guild"}],m=se.useCallback((F,K)=>{d({memberId:F,...K})},[]),x=se.useCallback(()=>{d(null)},[]),v=se.useCallback(()=>{h.current!==null&&(window.clearTimeout(h.current),h.current=null)},[]),w=se.useCallback((F,K,z)=>{v(),h.current=window.setTimeout(()=>{m(F,{x:K,y:z})},550)},[v,m]);se.useEffect(()=>()=>v(),[v]);const N=se.useCallback((F,K,z)=>{if(K==="main")s(F,"take"),r(F,"main");else if(K==="partner"){const q=z?`partner:${z}`:"partner";s(F,"take"),r(F,q)}else s(F,"bench"),r(F,"none");x()},[x,s,r]),P=se.useCallback((F,K)=>{s(F,K),K==="take"?r(F,"main"):r(F,"none")},[s,r]);if(!!!((_=(T=o.baseGuild)==null?void 0:T.name)!=null&&_.trim()&&((L=(C=o.baseGuild)==null?void 0:C.server)!=null&&L.trim())))return n.jsxs("div",{className:we.emptyWrap,children:[n.jsx("h3",{className:we.emptyTitle,children:"No base guild configured"}),n.jsx("p",{className:we.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return n.jsxs("div",{className:we.emptyWrap,children:[n.jsx("h3",{className:we.emptyTitle,children:"Members & Slots"}),n.jsx("p",{className:we.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return n.jsxs("div",{className:we.emptyWrap,children:[n.jsx("h3",{className:we.emptyTitle,children:"No members found"}),n.jsx("p",{className:we.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const O=(A=e.decisions)!=null?A:{},B=(V=e.targetGuildAssignments)!=null?V:{},E=t.filter(F=>O[F.id]==="take").length,y=t.filter(F=>O[F.id]==="bench").length,j=t.filter(F=>O[F.id]==="drop").length,M=Math.max(0,e.maxSlots-e.reservedSlots-E);return n.jsxs("div",{className:we.membersContainer,children:[n.jsx("div",{className:we.scenarioSwitcher,children:n.jsxs("div",{className:`${we.scenarioButton} ${we.scenarioButtonActive}`,children:[n.jsx("span",{className:we.scenarioButtonName,children:e.name}),e.description?n.jsx("span",{className:we.scenarioButtonDesc,children:e.description}):null]})}),n.jsxs("div",{className:we.setupInfo,children:[n.jsxs("div",{className:we.setupInfoHeader,children:[n.jsx("div",{className:we.setupInfoTitle,children:"Planning for"}),n.jsx("span",{className:we.setupInfoMode,children:o.mode==="scan"?"Scan":"Manual"})]}),o.baseGuild?n.jsxs("div",{className:we.setupInfoRow,children:[n.jsx("span",{className:we.setupInfoLabel,children:"Base Guild"}),n.jsxs("span",{className:we.setupInfoValue,children:[o.baseGuild.name||"Unbenannt"," ",n.jsxs("span",{className:we.setupInfoMeta,children:["(",o.baseGuild.server||"Server n/a",")"]})]})]}):n.jsx("div",{className:we.setupInfoEmpty,children:"No base guild selected in Setup tab."}),n.jsxs("div",{className:we.setupInfoRow,children:[n.jsx("span",{className:we.setupInfoLabel,children:"Partner Guilds"}),o.partnerGuilds.length?n.jsx("div",{className:we.setupInfoPartners,children:o.partnerGuilds.map(F=>n.jsxs("span",{className:we.setupInfoBadge,children:[F.name||"Unbenannt",n.jsxs("span",{className:we.setupInfoMeta,children:[" (",F.server||"Server n/a",")"]})]},F.id))}):n.jsx("span",{className:we.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),n.jsxs("div",{className:we.membersSummary,children:[n.jsxs("div",{className:we.membersSummaryItem,children:[n.jsx("div",{className:we.membersSummaryLabel,children:"Selected"}),n.jsxs("div",{className:we.membersSummaryValue,children:[E," / ",e.maxSlots]})]}),n.jsxs("div",{className:we.membersSummaryItem,children:[n.jsx("div",{className:we.membersSummaryLabel,children:"Free slots"}),n.jsx("div",{className:we.membersSummaryValue,children:M})]}),n.jsxs("div",{className:we.membersSummaryItem,children:[n.jsx("div",{className:we.membersSummaryLabel,children:"Bench"}),n.jsx("div",{className:we.membersSummaryValue,children:y})]}),n.jsxs("div",{className:we.membersSummaryItem,children:[n.jsx("div",{className:we.membersSummaryLabel,children:"Drop"}),n.jsx("div",{className:we.membersSummaryValue,children:j})]}),n.jsxs("div",{className:we.membersSummaryItem,children:[n.jsx("div",{className:we.membersSummaryLabel,children:"Reserved"}),n.jsx("div",{className:we.membersSummaryValue,children:e.reservedSlots})]}),n.jsxs("div",{className:we.membersSummaryItem,children:[n.jsx("div",{className:we.membersSummaryLabel,children:"Max slots"}),n.jsx("input",{type:"number",className:we.maxSlotsInput,value:e.maxSlots,min:0,onChange:F=>i(Number(F.target.value))})]})]}),n.jsxs("div",{className:we.membersTable,children:[n.jsxs("div",{className:`${we.membersRow} ${we.membersHead}`,children:[n.jsx("div",{className:we.membersCell,children:"Name"}),n.jsx("div",{className:we.membersCell,children:"Level"}),n.jsx("div",{className:we.membersCell,children:"Guild"}),n.jsx("div",{className:we.membersCell,children:"Class"}),n.jsx("div",{className:we.membersCell,children:"Plan"}),n.jsx("div",{className:we.membersCell,children:"Decision"}),n.jsx("div",{className:we.membersCell,children:"Partner"})]}),t.map(F=>{var re,G,Z,ue,ee,fe,Te,me,Ee;const K=(re=O[F.id])!=null?re:"undecided",z=(G=B[F.id])!=null?G:"none",q=z&&z.toString().startsWith("partner:")?z.split(":")[1]:null,H=(fe=(Z=p.find(Ce=>Ce.id===q))==null?void 0:Z.label)!=null?fe:z==="partner"?(ee=(ue=p[0])==null?void 0:ue.label)!=null?ee:"Partner guild":null,W=K==="take"&&z==="main"?"main":K==="take"&&(z==="partner"||q)?"partner":K==="bench"?"watch":"unassigned",ne=W==="main"?"Main guild":W==="partner"?H||"Partner guild":W==="watch"?"Watchlist":"Not planned";return n.jsxs("div",{className:we.membersRow,onContextMenu:Ce=>{Ce.preventDefault(),m(F.id,{x:Ce.clientX,y:Ce.clientY})},onTouchStart:Ce=>{const We=Ce.touches[0];We&&w(F.id,We.clientX,We.clientY)},onTouchEnd:v,onTouchCancel:v,children:[n.jsx("div",{className:we.membersCell,children:n.jsx("div",{className:we.memberName,children:F.name})}),n.jsx("div",{className:we.membersCell,children:n.jsxs("span",{className:we.memberBadge,children:["Lvl ",F.level]})}),n.jsx("div",{className:we.membersCell,children:F.guildName}),n.jsx("div",{className:we.membersCell,children:(me=(Te=F.className)!=null?Te:F.class)!=null?me:"?"}),n.jsxs("div",{className:`${we.membersCell} ${we.assignmentCell}`,children:[n.jsx("span",{className:`${we.assignmentBadge} ${W==="main"?we.assignmentBadgeMain:W==="partner"?we.assignmentBadgePartner:W==="watch"?we.assignmentBadgeWatch:we.assignmentBadgeIdle}`,children:ne}),n.jsxs("div",{className:we.assignmentActions,role:"group","aria-label":"Target guild selection",children:[n.jsx("button",{type:"button",className:`${we.assignmentButton} ${W==="main"?we.assignmentButtonActive:""}`,onClick:()=>N(F.id,"main"),children:"Main"}),n.jsx("button",{type:"button",className:`${we.assignmentButton} ${W==="watch"?we.assignmentButtonActive:""}`,onClick:()=>N(F.id,"watch"),children:"Watch"}),n.jsx("button",{type:"button",className:`${we.assignmentButton} ${W==="partner"?we.assignmentButtonActive:""}`,onClick:()=>N(F.id,"partner"),children:"Partner"})]})]}),n.jsx("div",{className:we.membersCell,children:n.jsx("div",{className:we.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(Ce=>n.jsx("button",{type:"button",className:`${we.decisionButton} ${K===Ce?we.decisionButtonActive:""}`,onClick:()=>P(F.id,Ce),children:Ce==="take"?"Take":Ce==="bench"?"Bench":Ce==="drop"?"Drop":"?"},Ce))})}),n.jsxs("div",{className:`${we.membersCell} ${we.partnerPickerCell}`,children:[n.jsx("label",{className:we.partnerLabel,htmlFor:`partner-select-${F.id}`,children:"Partner"}),n.jsx("select",{id:`partner-select-${F.id}`,className:we.partnerSelect,value:q!=null?q:(Ee=p[0])==null?void 0:Ee.id,onChange:Ce=>N(F.id,"partner",Ce.target.value),children:p.map(Ce=>n.jsx("option",{value:Ce.id,children:Ce.label},Ce.id))})]})]},F.id)})]}),c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:we.contextMenuBackdrop,onClick:x}),n.jsxs("div",{className:we.contextMenu,style:{top:c.y,left:c.x},children:[n.jsx("button",{type:"button",className:we.contextMenuItem,onClick:()=>N(c.memberId,"main"),children:"Move to Main guild"}),n.jsx("button",{type:"button",className:we.contextMenuItem,onClick:()=>N(c.memberId,"watch"),children:"Move to Watchlist"}),p.map(F=>n.jsxs("button",{type:"button",className:we.contextMenuItem,onClick:()=>N(c.memberId,"partner",F.id),children:["Move to ",F.label]},F.id))]})]}):null]})}const bZ="_overview_18426_1",_Z="_contextBox_18426_8",wZ="_contextKicker_18426_18",jZ="_contextTitle_18426_26",SZ="_contextText_18426_31",kZ="_contextDetails_18426_36",NZ="_detailItem_18426_43",TZ="_detailLabel_18426_50",CZ="_detailValue_18426_57",EZ="_kpiGrid_18426_61",AZ="_kpiCard_18426_67",IZ="_kpiLabel_18426_77",RZ="_kpiValue_18426_84",PZ="_columnsWrapper_18426_89",LZ="_column_18426_89",DZ="_columnDropTarget_18426_107",MZ="_columnHeader_18426_112",FZ="_columnKicker_18426_118",BZ="_columnTitle_18426_126",$Z="_columnCount_18426_130",VZ="_columnBody_18426_141",OZ="_memberCard_18426_147",UZ="_memberTop_18426_169",zZ="_memberName_18426_175",GZ="_memberMeta_18426_179",HZ="_memberBadge_18426_185",WZ="_memberBottom_18426_198",qZ="_memberGuild_18426_205",KZ="_memberServer_18426_210",QZ="_memberActions_18426_214",XZ="_emptyList_18426_235",YZ="_emptyWrap_18426_244",JZ="_emptyTitle_18426_251",ZZ="_emptyText_18426_255",eee="_addPartnerCard_18426_260",tee="_contextMenuBackdrop_18426_280",nee="_contextMenu_18426_280",see="_contextMenuItem_18426_301",$e={overview:bZ,contextBox:_Z,contextKicker:wZ,contextTitle:jZ,contextText:SZ,contextDetails:kZ,detailItem:NZ,detailLabel:TZ,detailValue:CZ,kpiGrid:EZ,kpiCard:AZ,kpiLabel:IZ,kpiValue:RZ,columnsWrapper:PZ,column:LZ,columnDropTarget:DZ,columnHeader:MZ,columnKicker:FZ,columnTitle:BZ,columnCount:$Z,columnBody:VZ,memberCard:OZ,memberTop:UZ,memberName:zZ,memberMeta:GZ,memberBadge:HZ,memberBottom:WZ,memberGuild:qZ,memberServer:KZ,memberActions:QZ,emptyList:XZ,emptyWrap:YZ,emptyTitle:JZ,emptyText:ZZ,addPartnerCard:eee,contextMenuBackdrop:tee,contextMenu:nee,contextMenuItem:see};function ree({members:t,scenario:e,setupState:s,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i}){var K,z,q;const o=(K=e==null?void 0:e.decisions)!=null?K:{},c=(z=e==null?void 0:e.targetGuildAssignments)!=null?z:{},d=s.partnerGuilds.length>0?s.partnerGuilds.map((H,W)=>({id:H.id,label:H.name||`Partner ${W+1}`})):[{id:"partner-default",label:"Partner guild"}],h=t.filter(H=>o[H.id]==="take"&&c[H.id]==="main"),p=t.filter(H=>o[H.id]==="bench"),m=d.reduce((H,W)=>(H[W.id]=t.filter(ne=>{const re=c[ne.id];return o[ne.id]==="take"&&(re===`partner:${W.id}`||re==="partner")}),H),{}),x=t.filter(H=>!h.includes(H)&&!p.includes(H)&&!Object.values(m).some(W=>W.includes(H))),[v,w]=se.useState(null),[N,P]=se.useState(null),R=se.useRef(null),O=t.length,B=h.length,E=p.length,y=Object.values(m).reduce((H,W)=>H+W.length,0),j=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-B-y):0,M=se.useCallback((H,W,ne)=>{H&&(W==="main"?(r(H,"take"),i(H,"main")):W==="partner"?(r(H,"take"),i(H,ne?`partner:${ne}`:"partner")):W==="unassigned"?(r(H,"undecided"),i(H,"none")):(r(H,"bench"),i(H,"none")),P(null))},[r,i]),T=se.useCallback((H,W)=>ne=>{ne.preventDefault();const re=ne.dataTransfer.getData("text/plain");re&&M(re,H,W),w(null)},[M]),_=se.useCallback(H=>W=>{W.preventDefault(),w(H)},[]),C=se.useCallback(()=>w(null),[]),L=se.useCallback((H,W)=>{P({memberId:H,...W})},[]),A=se.useCallback(()=>{R.current!==null&&(window.clearTimeout(R.current),R.current=null)},[]),V=se.useCallback((H,W,ne)=>{A(),R.current=window.setTimeout(()=>{L(H,{x:W,y:ne})},550)},[A,L]);if(se.useEffect(()=>()=>A(),[A]),!e)return n.jsxs("div",{className:$e.emptyWrap,children:[n.jsx("h3",{className:$e.emptyTitle,children:"Overview"}),n.jsx("p",{className:$e.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return n.jsxs("div",{className:$e.emptyWrap,children:[n.jsx("h3",{className:$e.emptyTitle,children:"No members loaded"}),n.jsx("p",{className:$e.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const F=(H,W,ne,re,G)=>n.jsxs("div",{className:`${$e.column} ${v===H?$e.columnDropTarget:""}`,onDragOver:_(H),onDragEnter:_(H),onDragLeave:C,onDrop:T(H,G),children:[n.jsxs("div",{className:$e.columnHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:$e.columnKicker,children:ne}),n.jsx("h4",{className:$e.columnTitle,children:W})]}),n.jsx("span",{className:$e.columnCount,children:re.length})]}),n.jsx("div",{className:$e.columnBody,children:re.length?re.map(Z=>{var ue,ee,fe,Te;return n.jsxs("div",{className:$e.memberCard,draggable:!0,onDragStart:me=>me.dataTransfer.setData("text/plain",Z.id),onContextMenu:me=>{me.preventDefault(),L(Z.id,{x:me.clientX,y:me.clientY})},onTouchStart:me=>{const Ee=me.touches[0];Ee&&V(Z.id,Ee.clientX,Ee.clientY)},onTouchEnd:A,onTouchCancel:A,children:[n.jsxs("div",{className:$e.memberTop,children:[n.jsxs("div",{children:[n.jsx("div",{className:$e.memberName,children:Z.name}),n.jsxs("p",{className:$e.memberMeta,children:[(ee=(ue=Z.className)!=null?ue:Z.class)!=null?ee:"Unknown","  ",(fe=Z.role)!=null?fe:"Unknown"]})]}),n.jsxs("span",{className:$e.memberBadge,children:["Lvl ",(Te=Z.level)!=null?Te:"?"]})]}),n.jsxs("div",{className:$e.memberBottom,children:[n.jsxs("span",{className:$e.memberGuild,children:[Z.guildName," ",n.jsxs("span",{className:$e.memberServer,children:["(",Z.server||"Server n/a",")"]})]}),n.jsxs("div",{className:$e.memberActions,children:[n.jsx("button",{type:"button",onClick:()=>M(Z.id,"main"),children:"Main"}),n.jsx("button",{type:"button",onClick:()=>M(Z.id,"watch"),children:"Watch"}),n.jsx("button",{type:"button",onClick:()=>M(Z.id,"partner"),children:"Partner"})]})]})]},Z.id)}):n.jsx("div",{className:$e.emptyList,children:"No players in this list yet."})})]});return n.jsxs("div",{className:$e.overview,children:[n.jsxs("div",{className:$e.contextBox,children:[n.jsxs("div",{children:[n.jsx("p",{className:$e.contextKicker,children:"Setup"}),n.jsx("h3",{className:$e.contextTitle,children:"Fusion Overview"}),n.jsx("p",{className:$e.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),n.jsxs("div",{className:$e.contextDetails,children:[n.jsxs("div",{className:$e.detailItem,children:[n.jsx("span",{className:$e.detailLabel,children:"Base Guild"}),n.jsx("strong",{className:$e.detailValue,children:((q=s.baseGuild)==null?void 0:q.name)||"Unbenannt"})]}),n.jsxs("div",{className:$e.detailItem,children:[n.jsx("span",{className:$e.detailLabel,children:"Partner Guilds"}),n.jsx("strong",{className:$e.detailValue,children:s.partnerGuilds.length})]}),n.jsxs("div",{className:$e.detailItem,children:[n.jsx("span",{className:$e.detailLabel,children:"Max Slots"}),n.jsx("strong",{className:$e.detailValue,children:e.maxSlots})]})]})]}),n.jsxs("div",{className:$e.kpiGrid,children:[n.jsxs("div",{className:$e.kpiCard,children:[n.jsx("span",{className:$e.kpiLabel,children:"Total players"}),n.jsx("strong",{className:$e.kpiValue,children:O})]}),n.jsxs("div",{className:$e.kpiCard,children:[n.jsx("span",{className:$e.kpiLabel,children:"Main guild"}),n.jsx("strong",{className:$e.kpiValue,children:B})]}),n.jsxs("div",{className:$e.kpiCard,children:[n.jsx("span",{className:$e.kpiLabel,children:"Watchlist"}),n.jsx("strong",{className:$e.kpiValue,children:E})]}),n.jsxs("div",{className:$e.kpiCard,children:[n.jsx("span",{className:$e.kpiLabel,children:"Partner guild"}),n.jsx("strong",{className:$e.kpiValue,children:y})]}),n.jsxs("div",{className:$e.kpiCard,children:[n.jsx("span",{className:$e.kpiLabel,children:"Free slots"}),n.jsx("strong",{className:$e.kpiValue,children:j})]})]}),n.jsxs("div",{className:$e.columnsWrapper,children:[F("unassigned","Unassigned","Noch ohne Planung",x),F("main","Main guild","Take & Assign main",h),F("watch","Watchlist","Bench for review",p),d.map(H=>{var W;return F("partner",H.label,"Take & Assign partner",(W=m[H.id])!=null?W:[],H.id)}),n.jsx("button",{type:"button",className:$e.addPartnerCard,onClick:()=>onAddPartnerGuild(`Partner ${d.length+1}`),children:"+ Partner guild"})]}),N?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:$e.contextMenuBackdrop,onClick:()=>P(null)}),n.jsxs("div",{className:$e.contextMenu,style:{top:N.y,left:N.x},children:[n.jsx("button",{type:"button",className:$e.contextMenuItem,onClick:()=>M(N.memberId,"main"),children:"Move to Main guild"}),n.jsx("button",{type:"button",className:$e.contextMenuItem,onClick:()=>M(N.memberId,"watch"),children:"Move to Watchlist"}),d.map(H=>n.jsxs("button",{type:"button",className:$e.contextMenuItem,onClick:()=>M(N.memberId,"partner",H.id),children:["Move to ",H.label]},H.id))]})]}):null]})}const iee="_scenariosTab_apcjh_1",aee="_scenariosHeader_apcjh_7",oee="_scenariosTitle_apcjh_18",lee="_scenariosText_apcjh_23",cee="_scenarioInfo_apcjh_29",dee="_headerActions_apcjh_36",uee="_createButton_apcjh_41",hee="_scenarioList_apcjh_58",pee="_scenarioCard_apcjh_64",mee="_scenarioCardActive_apcjh_74",fee="_scenarioCardTop_apcjh_79",gee="_cardKicker_apcjh_85",xee="_cardTitle_apcjh_93",vee="_cardText_apcjh_99",yee="_scenarioActiveBadge_apcjh_105",bee="_scenarioMeta_apcjh_116",_ee="_scenarioMetaLabel_apcjh_122",wee="_scenarioMetaValue_apcjh_130",jee="_scenarioStats_apcjh_135",See="_scenarioStatItem_apcjh_141",kee="_scenarioStatLabel_apcjh_148",Nee="_scenarioStatValue_apcjh_156",Tee="_scenarioActions_apcjh_161",Cee="_scenarioActionButton_apcjh_169",Eee="_scenarioActionActive_apcjh_184",Aee="_scenarioActionGroup_apcjh_189",Iee="_secondaryActionButton_apcjh_195",Ree="_deleteActionButton_apcjh_196",Pee="_deleteActionDisabled_apcjh_222",rt={scenariosTab:iee,scenariosHeader:aee,scenariosTitle:oee,scenariosText:lee,scenarioInfo:cee,headerActions:dee,createButton:uee,scenarioList:hee,scenarioCard:pee,scenarioCardActive:mee,scenarioCardTop:fee,cardKicker:gee,cardTitle:xee,cardText:vee,scenarioActiveBadge:yee,scenarioMeta:bee,scenarioMetaLabel:_ee,scenarioMetaValue:wee,scenarioStats:jee,scenarioStatItem:See,scenarioStatLabel:kee,scenarioStatValue:Nee,scenarioActions:Tee,scenarioActionButton:Cee,scenarioActionActive:Eee,scenarioActionGroup:Aee,secondaryActionButton:Iee,deleteActionButton:Ree,deleteActionDisabled:Pee};function Lee({scenarios:t,activeScenarioId:e,onSetActiveScenario:s,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:o,onDeleteScenario:c}){const d=se.useCallback(m=>{const x=Object.values(m.decisions),v=x.filter(R=>R==="take").length,w=x.filter(R=>R==="bench").length,N=x.filter(R=>R==="drop").length,P=Math.max(0,m.maxSlots-m.reservedSlots-v);return{selected:v,bench:w,drop:N,free:P}},[]),h=m=>{const x=window.prompt("Neuer Szenario-Name",m.name);x!==null&&o(m.id,x)},p=m=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&c(m.id)};return n.jsxs("div",{className:rt.scenariosTab,children:[n.jsxs("div",{className:rt.scenariosHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:rt.cardKicker,children:"Scenarios"}),n.jsx("h3",{className:rt.scenariosTitle,children:"Fusion Plans verwalten"}),n.jsx("p",{className:rt.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),n.jsx("div",{className:rt.headerActions,children:n.jsx("button",{type:"button",className:rt.createButton,onClick:r,children:"Neues Szenario"})})]}),n.jsx("p",{className:rt.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),n.jsx("div",{className:rt.scenarioList,children:t.map(m=>{const x=d(m),v=m.id===e,w=t.length<=1;return n.jsxs("article",{className:`${rt.scenarioCard} ${v?rt.scenarioCardActive:""}`,children:[n.jsxs("div",{className:rt.scenarioCardTop,children:[n.jsxs("div",{children:[n.jsx("p",{className:rt.cardKicker,children:"Scenario"}),n.jsx("h3",{className:rt.cardTitle,children:m.name}),m.description?n.jsx("p",{className:rt.cardText,children:m.description}):null]}),v?n.jsx("span",{className:rt.scenarioActiveBadge,children:"Active"}):null]}),n.jsxs("div",{className:rt.scenarioMeta,children:[n.jsxs("div",{children:[n.jsx("span",{className:rt.scenarioMetaLabel,children:"Max slots"}),n.jsx("span",{className:rt.scenarioMetaValue,children:m.maxSlots})]}),n.jsxs("div",{children:[n.jsx("span",{className:rt.scenarioMetaLabel,children:"Reserved"}),n.jsx("span",{className:rt.scenarioMetaValue,children:m.reservedSlots})]})]}),n.jsxs("div",{className:rt.scenarioStats,children:[n.jsxs("div",{className:rt.scenarioStatItem,children:[n.jsx("span",{className:rt.scenarioStatLabel,children:"Selected"}),n.jsx("strong",{className:rt.scenarioStatValue,children:x.selected})]}),n.jsxs("div",{className:rt.scenarioStatItem,children:[n.jsx("span",{className:rt.scenarioStatLabel,children:"Free"}),n.jsx("strong",{className:rt.scenarioStatValue,children:x.free})]}),n.jsxs("div",{className:rt.scenarioStatItem,children:[n.jsx("span",{className:rt.scenarioStatLabel,children:"Bench"}),n.jsx("strong",{className:rt.scenarioStatValue,children:x.bench})]}),n.jsxs("div",{className:rt.scenarioStatItem,children:[n.jsx("span",{className:rt.scenarioStatLabel,children:"Drop"}),n.jsx("strong",{className:rt.scenarioStatValue,children:x.drop})]})]}),n.jsxs("div",{className:rt.scenarioActions,children:[n.jsx("button",{type:"button",className:`${rt.scenarioActionButton} ${v?rt.scenarioActionActive:""}`,onClick:()=>s(m.id),children:"Set active"}),n.jsxs("div",{className:rt.scenarioActionGroup,children:[n.jsx("button",{type:"button",className:rt.secondaryActionButton,onClick:()=>i(m.id),children:"Duplicate"}),n.jsx("button",{type:"button",className:rt.secondaryActionButton,onClick:()=>h(m),children:"Rename"}),n.jsx("button",{type:"button",className:`${rt.deleteActionButton} ${w?rt.deleteActionDisabled:""}`,onClick:()=>p(m),disabled:w,children:"Delete"})]})]})]},m.id)})})]})}const Dee="_resultWrap_1cgq6_1",Mee="_emptyState_1cgq6_7",Fee="_emptyTitle_1cgq6_18",Bee="_emptyText_1cgq6_22",$ee="_resultHeader_1cgq6_28",Vee="_resultKicker_1cgq6_40",Oee="_resultTitle_1cgq6_48",Uee="_resultText_1cgq6_54",zee="_emptyNote_1cgq6_60",Gee="_setupSummary_1cgq6_66",Hee="_setupSummaryTitle_1cgq6_75",Wee="_setupSummaryRow_1cgq6_80",qee="_setupSummaryLabel_1cgq6_86",Kee="_setupSummaryValue_1cgq6_93",Qee="_setupSummaryMeta_1cgq6_98",Xee="_setupSummaryTags_1cgq6_103",Yee="_setupSummaryTag_1cgq6_103",Jee="_classDistribution_1cgq6_121",Zee="_resultStats_1cgq6_127",ete="_resultStatBadge_1cgq6_134",tte="_resultStatBadgeMuted_1cgq6_135",nte="_group_1cgq6_154",ste="_groupHeader_1cgq6_164",rte="_groupTitle_1cgq6_171",ite="_groupHint_1cgq6_176",ate="_groupBadge_1cgq6_181",ote="_badgeSuccess_1cgq6_194",lte="_badgeMuted_1cgq6_200",cte="_badgeDanger_1cgq6_205",dte="_groupEmpty_1cgq6_211",ute="_groupTable_1cgq6_219",hte="_groupRow_1cgq6_228",pte="_groupHead_1cgq6_164",mte="_groupCell_1cgq6_246",fte="_memberName_1cgq6_251",gte="_memberBadge_1cgq6_255",Oe={resultWrap:Dee,emptyState:Mee,emptyTitle:Fee,emptyText:Bee,resultHeader:$ee,resultKicker:Vee,resultTitle:Oee,resultText:Uee,emptyNote:zee,setupSummary:Gee,setupSummaryTitle:Hee,setupSummaryRow:Wee,setupSummaryLabel:qee,setupSummaryValue:Kee,setupSummaryMeta:Qee,setupSummaryTags:Xee,setupSummaryTag:Yee,classDistribution:Jee,resultStats:Zee,resultStatBadge:ete,resultStatBadgeMuted:tte,group:nte,groupHeader:ste,groupTitle:rte,groupHint:ite,groupBadge:ate,badgeSuccess:ote,badgeMuted:lte,badgeDanger:cte,groupEmpty:dte,groupTable:ute,groupRow:hte,groupHead:pte,groupCell:mte,memberName:fte,memberBadge:gte};function xte({members:t,scenario:e,setupState:s}){var N;if(!e)return n.jsxs("div",{className:Oe.emptyState,children:[n.jsx("h3",{className:Oe.emptyTitle,children:"No scenario selected"}),n.jsx("p",{className:Oe.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return n.jsxs("div",{className:Oe.emptyState,children:[n.jsx("h3",{className:Oe.emptyTitle,children:"No members available"}),n.jsx("p",{className:Oe.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:o,undecidedMembers:c}=se.useMemo(()=>{const P=[],R=[],O=[],B=[];return t.forEach(E=>{var j;const y=(j=e.decisions[E.id])!=null?j:"undecided";y==="take"?P.push(E):y==="bench"?R.push(E):y==="drop"?O.push(E):B.push(E)}),{takeMembers:P,benchMembers:R,dropMembers:O,undecidedMembers:B}},[t,e.decisions]),d=r.length,h=i.length,p=o.length,m=Math.max(0,e.maxSlots-d),x=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=se.useMemo(()=>{const P=r.reduce((O,B)=>{var y,j;const E=(y=B.className)!=null?y:B.class;return E&&(O[E]=((j=O[E])!=null?j:0)+1),O},{});return Object.entries(P).map(([O,B])=>`${O}: ${B}`).join(" | ")},[r]),w=(P,R,O,B)=>n.jsxs("div",{className:Oe.group,children:[n.jsxs("div",{className:Oe.groupHeader,children:[n.jsxs("div",{children:[n.jsx("h4",{className:Oe.groupTitle,children:P}),n.jsx("span",{className:Oe.groupHint,children:R})]}),n.jsx("span",{className:`${Oe.groupBadge} ${B}`,children:O.length})]}),O.length===0?n.jsx("div",{className:Oe.groupEmpty,children:"No players in this group."}):n.jsxs("div",{className:Oe.groupTable,role:"table",children:[n.jsxs("div",{className:`${Oe.groupRow} ${Oe.groupHead}`,role:"row",children:[n.jsx("div",{className:Oe.groupCell,role:"columnheader",children:"Name"}),n.jsx("div",{className:Oe.groupCell,role:"columnheader",children:"Level"}),n.jsx("div",{className:Oe.groupCell,role:"columnheader",children:"Guild"}),n.jsx("div",{className:Oe.groupCell,role:"columnheader",children:"Class"})]}),O.map(E=>{var y,j;return n.jsxs("div",{className:Oe.groupRow,role:"row",children:[n.jsx("div",{className:Oe.groupCell,role:"cell",children:n.jsx("span",{className:Oe.memberName,children:E.name})}),n.jsx("div",{className:Oe.groupCell,role:"cell",children:n.jsxs("span",{className:Oe.memberBadge,children:["Lvl ",E.level]})}),n.jsx("div",{className:Oe.groupCell,role:"cell",children:E.guildName}),n.jsx("div",{className:Oe.groupCell,role:"cell",children:(j=(y=E.className)!=null?y:E.class)!=null?j:"-"})]},E.id)})]})]});return n.jsxs("div",{className:Oe.resultWrap,children:[n.jsxs("div",{className:Oe.resultHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Oe.resultKicker,children:"Final Plan"}),n.jsx("h3",{className:Oe.resultTitle,children:e.name}),n.jsx("p",{className:Oe.resultText,children:(N=e.description)!=null?N:"Zusammenfassung des aktuellen Plans."}),r.length===0?n.jsx("p",{className:Oe.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?n.jsxs("p",{className:Oe.classDistribution,children:["Class distribution: ",v]}):null,n.jsxs("div",{className:Oe.setupSummary,children:[n.jsx("div",{className:Oe.setupSummaryTitle,children:"Fusion plan between"}),s.baseGuild?n.jsxs("div",{className:Oe.setupSummaryRow,children:[n.jsx("span",{className:Oe.setupSummaryLabel,children:"Base"}),n.jsxs("span",{className:Oe.setupSummaryValue,children:[s.baseGuild.name||"Unbenannt"," ",n.jsxs("span",{className:Oe.setupSummaryMeta,children:["(",s.baseGuild.server||"Server n/a",")"]})]})]}):n.jsxs("div",{className:Oe.setupSummaryRow,children:[n.jsx("span",{className:Oe.setupSummaryLabel,children:"Base"}),n.jsx("span",{className:Oe.setupSummaryMeta,children:"No base guild selected."})]}),n.jsxs("div",{className:Oe.setupSummaryRow,children:[n.jsx("span",{className:Oe.setupSummaryLabel,children:"Partners"}),s.partnerGuilds.length?n.jsx("div",{className:Oe.setupSummaryTags,children:s.partnerGuilds.map(P=>n.jsxs("span",{className:Oe.setupSummaryTag,children:[P.name||"Unbenannt"," ",n.jsxs("span",{className:Oe.setupSummaryMeta,children:["(",P.server||"Server n/a",")"]})]},P.id))}):n.jsx("span",{className:Oe.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),n.jsxs("div",{className:Oe.resultStats,children:[n.jsxs("span",{className:Oe.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),n.jsxs("span",{className:Oe.resultStatBadge,children:["Bench: ",h]}),n.jsxs("span",{className:Oe.resultStatBadge,children:["Drop: ",p]}),n.jsxs("span",{className:Oe.resultStatBadge,children:["Free slots: ",m]}),n.jsxs("span",{className:Oe.resultStatBadge,children:["Utilization: ",x,"%"]}),c.length>0?n.jsxs("span",{className:Oe.resultStatBadgeMuted,children:["Undecided: ",c.length]}):null]})]}),w("Final roster (selected)","Take",r,Oe.badgeSuccess),w("Bench (waiting list)","Bench",i,Oe.badgeMuted),w("Not included","Drop",o,Oe.badgeDanger)]})}const xp=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],Cw=t=>t.reduce((e,s)=>(e[s.id]="undecided",e),{}),Ew=t=>t.reduce((e,s)=>(e[s.id]="none",e),{}),vte=(t,e,s)=>{var r,i,o,c,d,h,p,m,x,v,w,N,P,R,O,B;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(o=t.class)!=null?o:void 0,role:(c=t.role)!=null?c:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:s,scrapbook:void 0,lastOnline:(h=t.lastActivityMs)!=null?h:null,baseStats:{main:(p=t.baseMain)!=null?p:void 0,con:(m=t.conBase)!=null?m:void 0,sumBaseTotal:(x=t.sumBaseTotal)!=null?x:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(w=t.treasury)!=null?w:void 0,mine:(N=t.mine)!=null?N:void 0,attrTotal:(P=t.attrTotal)!=null?P:void 0,conTotal:(R=t.conTotal)!=null?R:void 0,lastScan:(O=t.lastScan)!=null?O:void 0,lastActivity:(B=t.lastActivity)!=null?B:void 0}}},yte=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const s=(i=t.name)==null?void 0:i.trim();return s||null},Aw=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,Iw=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],bte=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function _te(){var F;const[t,e]=se.useState("setup"),[s,r]=se.useState(xp),[i,o]=se.useState(!1),[c,d]=se.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[h,p]=se.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:Cw(xp),targetGuildAssignments:Ew(xp),isDefault:!0}]),[m,x]=se.useState("plan-a"),v=se.useMemo(()=>{var K,z;return(z=(K=h.find(q=>q.id===m))!=null?K:h[0])!=null?z:null},[m,h]),w=se.useMemo(()=>{var H,W;const K=c.baseGuild,z=(H=K==null?void 0:K.name)==null?void 0:H.trim(),q=(W=K==null?void 0:K.server)==null?void 0:W.trim();return!!(z&&q)},[c.baseGuild]),N=se.useMemo(()=>s.length>0,[s.length]),P=se.useMemo(()=>h.length>0,[h.length]),R=se.useMemo(()=>{const K=[];return w||K.push("Setup incomplete - no base guild selected."),w&&!N&&K.push("No members loaded yet. Check scans or setup."),P||K.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),K},[w,N,P]),O=(K,z)=>{p(q=>q.map(H=>H.id===m?{...H,decisions:{...H.decisions,[K]:z}}:H))},B=(K,z)=>{p(q=>q.map(H=>{var W;return H.id===m?{...H,targetGuildAssignments:{...(W=H.targetGuildAssignments)!=null?W:{},[K]:z}}:H}))},E=K=>{const z=Number(K)||0;p(q=>q.map(H=>H.id===m?{...H,maxSlots:Math.max(0,z)}:H))},y=()=>{p(K=>{const z={id:Aw(),name:`Plan ${K.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:Cw(s),targetGuildAssignments:Ew(s)};return x(z.id),[...K,z]})},j=K=>{p(z=>{var W;const q=z.find(ne=>ne.id===K);if(!q)return z;const H={...q,id:Aw(),name:`${q.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...q.decisions},targetGuildAssignments:{...(W=q.targetGuildAssignments)!=null?W:{}}};return x(H.id),[...z,H]})},M=(K,z)=>{const q=z.trim();q&&p(H=>H.map(W=>W.id===K?{...W,name:q}:W))},T=K=>{p(z=>{if(z.length<=1)return z;const q=z.filter(H=>H.id!==K);return q.length?(m===K&&x(q[0].id),q):z})};se.useEffect(()=>{if(c.mode!=="scan"){o(!1),r(xp);return}const K=[c.baseGuild,...c.partnerGuilds].filter(Boolean);if(K.length===0){o(!1),r([]);return}let z=!1;async function q(){var H,W,ne,re,G,Z,ue,ee,fe,Te;o(!0);try{const me=[];for(const Ee of K){const Ce=yte(Ee);if(!Ce)continue;const We=ln(jt,`guilds/${Ce}/latest/latest`),kt=await tr(We),Xe=kt.exists()?kt.data():null,At=(G=(re=(W=(H=Ee.name)==null?void 0:H.trim())!=null?W:Xe==null?void 0:Xe.name)!=null?re:(ne=Xe==null?void 0:Xe.values)==null?void 0:ne.Name)!=null?G:Ce,$t=(Te=(fe=(ue=(Z=Ee.server)==null?void 0:Z.trim())!=null?ue:Xe==null?void 0:Xe.server)!=null?fe:(ee=Xe==null?void 0:Xe.values)==null?void 0:ee.Server)!=null?Te:null,ys=ln(jt,`guilds/${Ce}/snapshots/members_summary`),bs=await tr(ys);if(!bs.exists())continue;const _s=bs.data();(Array.isArray(_s.members)?_s.members:[]).forEach(ws=>{me.push(vte(ws,At,$t))})}z||r(me)}catch(me){console.error("[FusionPlanner] Failed to load members",me),z||r([])}finally{z||o(!1)}}return r([]),q(),()=>{z=!0}},[c.baseGuild,c.partnerGuilds,c.mode]),se.useEffect(()=>{i||p(K=>K.map(z=>{var ne;const q=new Set(s.map(re=>re.id)),H={...z.decisions},W={...(ne=z.targetGuildAssignments)!=null?ne:{}};return s.forEach(re=>{H[re.id]||(H[re.id]="undecided"),W[re.id]||(W[re.id]="none")}),Object.keys(H).forEach(re=>{q.has(re)||delete H[re]}),Object.keys(W).forEach(re=>{q.has(re)||delete W[re]}),{...z,decisions:H,targetGuildAssignments:W}}))},[s,i]);const _=K=>{d(z=>({...z,mode:K}))},C=K=>{d(z=>{var H,W,ne;const q=(H=z.baseGuild)!=null?H:{id:"base-1",kind:"base",name:"",server:""};return{...z,baseGuild:{...q,...K.id?{id:K.id}:{},name:(W=K.name)!=null?W:q.name,server:(ne=K.server)!=null?ne:q.server}}})},L=K=>{var W;if(!K.name.trim()||!K.server.trim())return;const z=K.name.trim(),q=K.server.trim(),H=(W=K.id)==null?void 0:W.trim();d(ne=>({...ne,partnerGuilds:[...ne.partnerGuilds,{id:H&&!H.startsWith("partner-")?H:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:z,server:q,kind:"partner"}]}))},A=K=>{d(z=>({...z,partnerGuilds:z.partnerGuilds.filter(q=>q.id!==K)}))},V=()=>{switch(t){case"setup":return n.jsx(jJ,{setupState:c,onChangeMode:_,onChangeBaseGuild:C,onAddPartnerGuild:L,onRemovePartnerGuild:A});case"members":return n.jsx(yZ,{members:s,scenario:v,onChangeScenarioDecision:O,onChangeScenarioTargetGuild:B,onChangeScenarioMaxSlots:E,setupState:c});case"overview":return n.jsx(ree,{members:s,scenario:v,setupState:c,onChangeScenarioDecision:O,onChangeScenarioTargetGuild:B,onAddPartnerGuild:K=>L({name:K,server:"tbd"})});case"scenarios":return n.jsx(Lee,{scenarios:h,activeScenarioId:m,onSetActiveScenario:x,onCreateScenario:y,onDuplicateScenario:j,onRenameScenario:M,onDeleteScenario:T});case"result":return n.jsx(xte,{members:s,scenario:v,setupState:c});default:return null}};return n.jsx(St,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:n.jsxs("div",{className:Ue.page,children:[n.jsxs("header",{className:Ue.header,children:[n.jsxs("div",{className:Ue.headerLeading,children:[n.jsx(Et,{to:"/guild-hub",className:Ue.backLink,children:"Back to Guild Hub"}),n.jsxs("div",{className:Ue.headerStack,children:[n.jsx("p",{className:Ue.kicker,children:"Guild Hub"}),n.jsx("h1",{className:Ue.title,children:"Fusion Planner"}),n.jsx("p",{className:Ue.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),n.jsxs("div",{className:Ue.headerActions,children:[n.jsx("button",{type:"button",className:Ue.primaryAction,children:"Neues Setup"}),n.jsx("button",{type:"button",className:Ue.secondaryAction,children:"Checkliste"})]})]}),R.length?n.jsx("div",{className:Ue.plannerNotice,role:"status","aria-live":"polite",children:R.map(K=>n.jsxs("div",{className:`${Ue.noticeItem} ${K.toLowerCase().includes("no base guild")?Ue.noticeWarning:""}`,children:[n.jsx("span",{className:Ue.noticeDot,"aria-hidden":!0}),n.jsx("span",{children:K})]},K))}):null,n.jsxs("section",{className:Ue.tabSection,"aria-label":"Fusion Planner Tabs",children:[n.jsx("div",{className:Ue.tabBar,children:Iw.map(K=>{const z=K.key===t;return n.jsxs("button",{type:"button",className:`${Ue.tabItem} ${z?Ue.tabItemActive:""}`,onClick:()=>e(K.key),"aria-pressed":z,children:[n.jsx("span",{className:Ue.tabLabel,children:K.label}),n.jsx("span",{className:Ue.tabHelper,children:K.helper})]},K.key)})}),n.jsxs("div",{className:Ue.tabPanel,children:[n.jsx("span",{className:Ue.tabBadge,children:(F=Iw.find(K=>K.key===t))==null?void 0:F.label}),V()]})]}),n.jsxs("section",{className:Ue.infoStrip,children:[n.jsxs("div",{className:Ue.infoBlock,children:[n.jsx("span",{className:Ue.infoLabel,children:"Status"}),n.jsx("strong",{children:"Entwurf"}),n.jsx("p",{className:Ue.infoHint,children:"Bereit fuer weitere Eingaben."})]}),n.jsxs("div",{className:Ue.infoBlock,children:[n.jsx("span",{className:Ue.infoLabel,children:"Slots geplant"}),n.jsx("strong",{children:"0 / 40"}),n.jsx("p",{className:Ue.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),n.jsxs("div",{className:Ue.infoBlock,children:[n.jsx("span",{className:Ue.infoLabel,children:"Szenarien"}),n.jsx("strong",{children:"3"}),n.jsx("p",{className:Ue.infoHint,children:"Baseline, Optimistic, Risiko."})]}),n.jsxs("div",{className:Ue.infoBlock,children:[n.jsx("span",{className:Ue.infoLabel,children:"Letztes Update"}),n.jsx("strong",{children:"vor wenigen Minuten"}),n.jsx("p",{className:Ue.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),n.jsx("section",{className:Ue.stageGrid,children:bte.map(K=>n.jsxs("article",{className:Ue.panel,children:[n.jsxs("div",{className:Ue.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ue.panelKicker,children:K.step}),n.jsx("h2",{className:Ue.panelTitle,children:K.title}),n.jsx("p",{className:Ue.panelLead,children:K.description})]}),K.badge?n.jsx("span",{className:Ue.badge,children:K.badge}):null]}),n.jsx("div",{className:Ue.panelBody,children:n.jsx("div",{className:Ue.placeholderGrid,children:K.placeholders.map(z=>n.jsxs("div",{className:Ue.placeholderCard,children:[n.jsx("div",{className:Ue.placeholderTitle,children:z}),n.jsx("p",{className:Ue.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},z))})})]},K.key))}),n.jsx("section",{className:Ue.helperSection,children:n.jsxs("div",{className:Ue.helperCard,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ue.helperKicker,children:"Result"}),n.jsx("h3",{className:Ue.helperTitle,children:"Finaler Merge-Plan"}),n.jsx("p",{className:Ue.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),n.jsxs("div",{className:Ue.helperActions,children:[n.jsx("button",{type:"button",className:Ue.secondaryAction,children:"Teilen"}),n.jsx("button",{type:"button",className:Ue.primaryAction,children:"Review starten"})]})]})})]})})}const wte="_page_18qex_1",jte="_header_18qex_7",Ste="_headerStack_18qex_13",kte="_kicker_18qex_19",Nte="_title_18qex_27",Tte="_subtitle_18qex_33",Cte="_headerActions_18qex_40",Ete="_secondaryAction_18qex_45",Ate="_infoStrip_18qex_66",Ite="_infoCard_18qex_72",Rte="_infoLabel_18qex_82",Pte="_inlineFilters_18qex_89",Lte="_filterField_18qex_99",Dte="_select_18qex_114",Mte="_searchInput_18qex_115",Fte="_layout_18qex_125",Bte="_selectionColumn_18qex_131",$te="_selectionCard_18qex_137",Vte="_slotHeader_18qex_147",Ote="_slotLabel_18qex_154",Ute="_slotStatus_18qex_162",zte="_clearButton_18qex_168",Gte="_slotBody_18qex_178",Hte="_resultList_18qex_184",Wte="_emptyResult_18qex_193",qte="_resultItem_18qex_199",Kte="_resultName_18qex_211",Qte="_resultMeta_18qex_217",Xte="_selectButton_18qex_223",Yte="_selectedCard_18qex_233",Jte="_selectedName_18qex_240",Zte="_selectedMeta_18qex_245",ene="_selectedTagline_18qex_246",tne="_comparisonColumn_18qex_252",nne="_comparisonCard_18qex_258",sne="_comparisonHeader_18qex_268",rne="_sectionTitle_18qex_276",ine="_diffBadge_18qex_281",ane="_metricGrid_18qex_290",one="_metricCard_18qex_296",lne="_metricLabel_18qex_306",cne="_metricValues_18qex_314",dne="_metricDivider_18qex_322",une="_metricDelta_18qex_327",hne="_freshnessRow_18qex_333",pne="_freshnessItem_18qex_339",mne="_freshnessBadge_18qex_343",fne="_freshnessPopover_18qex_367",gne="_popoverTitle_18qex_379",xne="_classCard_18qex_404",vne="_classGrid_18qex_414",yne="_classColumn_18qex_419",bne="_classBar_18qex_429",_ne="_classSlice_18qex_437",wne="_classLegend_18qex_454",jne="_emptyState_18qex_466",Sne="_supportPanels_18qex_474",kne="_checklistCard_18qex_480",Nne="_infoCardExtended_18qex_481",Tne="_checklist_18qex_480",Cne="_infoNote_18qex_517",Ene="_sheetOverlay_18qex_523",Ane="_sheetOpen_18qex_537",Ine="_sheet_18qex_523",Rne="_sheetHeader_18qex_553",Pne="_sheetBody_18qex_560",ke={page:wte,header:jte,headerStack:Ste,kicker:kte,title:Nte,subtitle:Tte,headerActions:Cte,secondaryAction:Ete,infoStrip:Ate,infoCard:Ite,infoLabel:Rte,inlineFilters:Pte,filterField:Lte,select:Dte,searchInput:Mte,layout:Fte,selectionColumn:Bte,selectionCard:$te,slotHeader:Vte,slotLabel:Ote,slotStatus:Ute,clearButton:zte,slotBody:Gte,resultList:Hte,emptyResult:Wte,resultItem:qte,resultName:Kte,resultMeta:Qte,selectButton:Xte,selectedCard:Yte,selectedName:Jte,selectedMeta:Zte,selectedTagline:ene,comparisonColumn:tne,comparisonCard:nne,comparisonHeader:sne,sectionTitle:rne,diffBadge:ine,metricGrid:ane,metricCard:one,metricLabel:lne,metricValues:cne,metricDivider:dne,metricDelta:une,freshnessRow:hne,freshnessItem:pne,freshnessBadge:mne,freshnessPopover:fne,popoverTitle:gne,classCard:xne,classGrid:vne,classColumn:yne,classBar:bne,classSlice:_ne,classLegend:wne,emptyState:jne,supportPanels:Sne,checklistCard:kne,infoCardExtended:Nne,checklist:Tne,infoNote:Cne,sheetOverlay:Ene,sheetOpen:Ane,sheet:Ine,sheetHeader:Rne,sheetBody:Pne},v0=["EU-01","EU-02","US-01","US-02","ASIA-01"],zd=new Intl.NumberFormat("de-DE");function Lne(){const t=cu("(min-width: 768px)"),[e,s]=se.useState("all"),[r,i]=se.useState(null),[o,c]=se.useState(null),[d,h]=se.useState(null),[p,m]=se.useState(null),x=[r,o].filter(Boolean).length,v=se.useMemo(()=>{const A=[d,p].filter(Boolean);if(!A.length)return 0;const V=A.reduce((F,K)=>{var z;return F+((z=K.members)!=null?z:0)},0);return Math.round(V/A.length)},[d,p]),[w,N]=se.useState(null),[P,R]=se.useState(!1),O=se.useRef(null);uu(O,P&&!t),se.useEffect(()=>{t&&R(!1)},[t]),se.useEffect(()=>{if(!w)return;const A=F=>{const K=F.target;K&&(K.closest(`.${ke.freshnessBadge}`)||K.closest(`.${ke.freshnessPopover}`)||N(null))},V=F=>{F.key==="Escape"&&N(null)};return document.addEventListener("pointerdown",A),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",A),document.removeEventListener("keydown",V)}},[w]);const B=se.useMemo(()=>d?x0(d.nextUpdateAt,Date.now()):"",[d]),E=se.useMemo(()=>p?x0(p.nextUpdateAt,Date.now()):"",[p]),y=()=>R(!0),j=()=>R(!1),M=A=>{s(A)},T=(A,V)=>{A==="guildA"?(i(V.id),h(V)):(c(V.id),m(V))},_=A=>{A==="guildA"?(i(null),h(null)):(c(null),m(null))},C=A=>{N(V=>V===A?null:A)},L=d&&p;return n.jsxs(St,{title:"Guild Hub",subtitle:"Fusion",centerFramed:!1,children:[n.jsxs("div",{className:ke.page,children:[n.jsxs("header",{className:ke.header,children:[n.jsxs("div",{className:ke.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ke.kicker,children:"Guild Hub"}),n.jsx("h1",{className:ke.title,children:"Fusion vorbereiten"}),n.jsx("p",{className:ke.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken bevor du eine Fusion bestaetigst."})]}),n.jsx("div",{className:ke.headerActions,children:!t&&n.jsx("button",{type:"button",className:ke.secondaryAction,onClick:y,children:"Filter"})})]}),n.jsxs("div",{className:ke.infoStrip,children:[n.jsxs("div",{className:ke.infoCard,children:[n.jsx("span",{className:ke.infoLabel,children:"Pool"}),n.jsxs("strong",{children:[zd.format(x)," Gilden"]})]}),n.jsxs("div",{className:ke.infoCard,children:[n.jsx("span",{className:ke.infoLabel,children:"Durchschnitt Mitglieder"}),n.jsx("strong",{children:zd.format(v)})]}),n.jsxs("div",{className:ke.infoCard,children:[n.jsx("span",{className:ke.infoLabel,children:"Serverfilter"}),n.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&n.jsx("div",{className:ke.inlineFilters,children:n.jsxs("label",{className:ke.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ke.select,value:e,onChange:A=>M(A.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),v0.map(A=>n.jsx("option",{value:A,children:A},A))]})]})})]}),n.jsxs("div",{className:ke.layout,children:[n.jsxs("section",{className:ke.selectionColumn,children:[n.jsx(Rw,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:o,onSelect:T,onClear:_,serverFilter:e,onServerChange:M}),n.jsx(Rw,{title:"Gilde B",slot:"guildB",selectedGuild:p,excludeId:r,onSelect:T,onClear:_,serverFilter:e,onServerChange:M})]}),n.jsxs("section",{className:ke.comparisonColumn,children:[n.jsxs("div",{className:ke.comparisonCard,children:[n.jsxs("div",{className:ke.comparisonHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ke.kicker,children:"Vergleich"}),n.jsx("h2",{className:ke.sectionTitle,children:"Kennzahlen"})]}),L&&n.jsxs("span",{className:ke.diffBadge,children:["Delta Mitglieder:"," ",zd.format(d.members-p.members)]})]}),L?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:ke.metricGrid,children:[n.jsx(Pw,{label:"Mitglieder",aValue:d.members,bValue:p.members}),n.jsx(Pw,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:p.avgLevel,isDecimal:!0}),n.jsx(Dne,{guildA:d,guildB:p,countdownA:B,countdownB:E,activePopover:w,onToggle:C})]}),n.jsx(Mne,{guildA:d,guildB:p})]}):n.jsx("div",{className:ke.emptyState,children:n.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),n.jsxs("div",{className:ke.supportPanels,children:[n.jsx(Fne,{}),n.jsx(Bne,{})]})]})]})]}),!t&&n.jsx("div",{className:`${ke.sheetOverlay} ${P?ke.sheetOpen:""}`,children:n.jsxs("div",{className:ke.sheet,role:"dialog","aria-modal":"true",ref:O,children:[n.jsxs("header",{className:ke.sheetHeader,children:[n.jsx("h3",{children:"Filter"}),n.jsx("button",{type:"button",className:ke.clearButton,onClick:j,children:"Schliessen"})]}),n.jsx("div",{className:ke.sheetBody,children:n.jsxs("label",{className:ke.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ke.select,value:e,onChange:A=>M(A.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),v0.map(A=>n.jsx("option",{value:A,children:A},A))]})]})})]})})]})}function Rw({title:t,slot:e,selectedGuild:s,excludeId:r,onSelect:i,onClear:o,serverFilter:c,onServerChange:d}){const[h,p]=se.useState(""),m=du(h,300);se.useEffect(()=>{p("")},[s,c]);const{results:x,loading:v}=$ne(m,c,r);return n.jsxs("article",{className:ke.selectionCard,children:[n.jsxs("div",{className:ke.slotHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ke.slotLabel,children:t}),n.jsx("p",{className:ke.slotStatus,children:s?"Ausgewaehlt":"Noch keine Auswahl"})]}),s&&n.jsx("button",{type:"button",className:ke.clearButton,onClick:()=>o(e),children:"Reset"})]}),n.jsxs("div",{className:ke.slotBody,children:[n.jsxs("label",{className:ke.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ke.select,value:c,onChange:w=>d(w.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),v0.map(w=>n.jsx("option",{value:w,children:w},w))]})]}),n.jsxs("label",{className:ke.filterField,children:[n.jsx("span",{children:"Suchen"}),n.jsx("input",{className:ke.searchInput,placeholder:"Gildennamen eingeben",value:h,onChange:w=>p(w.target.value)})]}),n.jsxs("div",{className:ke.resultList,role:"list",children:[v&&n.jsx("div",{className:ke.emptyResult,children:"Lade..."}),!v&&x.length===0&&n.jsx("div",{className:ke.emptyResult,children:"Keine Gilde gefunden."}),!v&&x.map(w=>n.jsxs("div",{className:ke.resultItem,children:[n.jsxs("div",{children:[n.jsx("p",{className:ke.resultName,children:w.name}),n.jsxs("p",{className:ke.resultMeta,children:[w.server," - ",w.members," Mitglieder"]})]}),n.jsx("button",{type:"button",className:ke.selectButton,onClick:()=>i(e,w),children:"Waehlen"})]},w.id))]}),s&&n.jsxs("div",{className:ke.selectedCard,children:[n.jsx("p",{className:ke.selectedName,children:s.name}),n.jsxs("p",{className:ke.selectedMeta,children:[s.server," - ",s.members," Mitglieder - Durchschnittslevel"," ",s.avgLevel.toFixed(1)]}),n.jsx("p",{className:ke.selectedTagline,children:s.tagline})]})]})]})}function Pw({label:t,aValue:e,bValue:s,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):zd.format(d),o=e-s;let c="gleich";if(o!==0){const d=r?Math.abs(o).toFixed(1).replace(".",","):zd.format(Math.abs(o));c=o>0?`+${d}`:`-${d}`}return n.jsxs("div",{className:ke.metricCard,children:[n.jsx("p",{className:ke.metricLabel,children:t}),n.jsxs("div",{className:ke.metricValues,children:[n.jsx("span",{"aria-label":"Gilde A",children:i(e)}),n.jsx("span",{className:ke.metricDivider,children:"vs"}),n.jsx("span",{"aria-label":"Gilde B",children:i(s)})]}),n.jsx("p",{className:ke.metricDelta,children:c})]})}function Dne({guildA:t,guildB:e,countdownA:s,countdownB:r,activePopover:i,onToggle:o}){return n.jsxs("div",{className:ke.metricCard,children:[n.jsx("p",{className:ke.metricLabel,children:"Freshness"}),n.jsx("div",{className:ke.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?s:r,h=`fresh-${c.id}`,p=i===h;return n.jsxs("div",{className:ke.freshnessItem,children:[n.jsxs("button",{type:"button",className:ke.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":p,onClick:()=>o(h),children:[n.jsx("span",{children:c.freshness.toUpperCase()}),n.jsx("small",{children:zm(c.lastScanAt)})]}),p&&n.jsxs("div",{className:ke.freshnessPopover,role:"dialog",children:[n.jsx("p",{className:ke.popoverTitle,children:c.name}),n.jsxs("dl",{children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Status"}),n.jsx("dd",{children:F3[c.freshness]})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt gescannt"}),n.jsx("dd",{children:za(c.lastScanAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Naechstes Update"}),n.jsxs("dd",{children:[za(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function Mne({guildA:t,guildB:e}){const s=se.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return n.jsxs("div",{className:ke.classCard,children:[n.jsx("p",{className:ke.metricLabel,children:"Klassenverteilung"}),n.jsx("div",{className:ke.classGrid,children:[t,e].map(r=>n.jsxs("div",{className:ke.classColumn,children:[n.jsx("h3",{children:r.name}),n.jsx("div",{className:ke.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>n.jsxs("span",{style:{width:`${i.percent}%`},className:ke.classSlice,children:[n.jsx("small",{children:i.label}),n.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),n.jsx("ul",{className:ke.classLegend,children:s.map(r=>n.jsx("li",{children:r},r))})]})}function Fne(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return n.jsxs("section",{className:ke.checklistCard,children:[n.jsx("h3",{children:"Vor der Fusion pruefen"}),n.jsx("ul",{className:ke.checklist,children:t.map(e=>n.jsx("li",{children:e},e))})]})}function Bne(){return n.jsxs("section",{className:ke.infoCardExtended,children:[n.jsx("h3",{children:"Transfers-Diff"}),n.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",n.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),n.jsx("p",{className:ke.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),n.jsx("button",{type:"button",className:ke.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function $ne(t,e,s){const[r,i]=se.useState([]),[o,c]=se.useState(!1);return se.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let h=!1;async function p(){c(!0);try{const m=d.toLowerCase(),x=lv(jt,"latest"),v=await Ms(Xs(x,Po("nameFold"),Gl(m),Hl(m+""),Ys(15))),w=await Ms(Xs(x,nc("nameNgrams","array-contains",m),Ys(15))),N=new Set,P=[],R=O=>{var V,F,K,z,q,H,W,ne,re,G,Z,ue,ee,fe,Te,me,Ee,Ce,We,kt,Xe;const B=O.data(),y=(V=O.ref.parent)==null?void 0:V.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="guilds")return;const T=(K=(F=y==null?void 0:y.id)!=null?F:B.guildIdentifier)!=null?K:O.id;if(!T||N.has(T)||s&&T===s)return;const _=(H=(q=B.name)!=null?q:(z=B.values)==null?void 0:z.Name)!=null?H:"Unbekannte Gilde",C=(re=(ne=B.server)!=null?ne:(W=B.values)==null?void 0:W.Server)!=null?re:"Unknown";if(e!=="all"&&C!==e)return;const L=(fe=(ee=(Z=B.memberCount)!=null?Z:(G=B.values)==null?void 0:G["Guild Member Count"])!=null?ee:(ue=B.values)==null?void 0:ue.GuildMemberCount)!=null?fe:0,A=(Ee=(me=B.updatedAt)!=null?me:(Te=B.values)==null?void 0:Te.UpdatedAt)!=null?Ee:B.timestamp?new Date(B.timestamp*1e3).toISOString():new Date().toISOString();N.add(T),P.push({id:T,name:_,tagline:(Ce=B.tagline)!=null?Ce:"",server:C,members:L,avgLevel:(Xe=(kt=B.avgLevel)!=null?kt:(We=B.values)==null?void 0:We.AvgLevel)!=null?Xe:0,lastScanAt:A,updatedAt:A,nextUpdateAt:A,freshness:"unknown",classes:[]})};v.forEach(R),w.forEach(R),h||(P.sort((O,B)=>O.name.localeCompare(B.name)),i(P))}catch(m){console.error("[GuildHub Fusion] guild search failed",m),h||i([])}finally{h||c(!1)}}return p(),()=>{h=!0}},[t,e,s]),{results:r,loading:o}}const Vne="_page_12946_1",One="_header_12946_7",Une="_headerStack_12946_13",zne="_kicker_12946_19",Gne="_title_12946_27",Hne="_headerActions_12946_33",Wne="_primaryAction_12946_39",qne="_secondaryAction_12946_40",Kne="_infoStrip_12946_55",Qne="_infoPill_12946_65",Xne="_freshnessWrapper_12946_82",Yne="_freshnessBadge_12946_86",Jne="_popover_12946_96",Zne="_popoverLabel_12946_111",ese="_filterToolbar_12946_116",tse="_filterSheetButton_12946_121",nse="_inlineFilters_12946_130",sse="_searchInput_12946_136",rse="_select_12946_137",ise="_chipGroup_12946_148",ase="_chip_12946_148",ose="_chipActive_12946_163",lse="_levelRow_12946_168",cse="_sortControls_12946_182",dse="_sortLabel_12946_188",use="_directionButton_12946_193",hse="_listBody_12946_202",pse="_tableWrapper_12946_208",mse="_table_12946_208",fse="_cardFooter_12946_230",gse="_panel_12946_231",xse="_formPanel_12946_232",vse="_statusSelect_12946_241",yse="_stickyColumn_12946_258",bse="_rowButton_12946_265",_se="_scanBadge_12946_273",wse="_cardList_12946_281",jse="_card_12946_230",Sse="_cardHeader_12946_297",kse="_cardTitle_12946_303",Nse="_cardMeta_12946_312",Tse="_cardNotes_12946_318",Cse="_emptyState_12946_330",Ese="_sheetBackdrop_12946_338",Ase="_sheet_12946_338",Ise="_sheetHandle_12946_359",Rse="_sheetBody_12946_367",Pse="_sheetLabel_12946_375",Lse="_sheetActions_12946_393",Dse="_overlay_12946_399",Mse="_drawer_12946_419",Fse="_modal_12946_423",Bse="_panelHeader_12946_427",$se="_section_12946_434",Vse="_tagRow_12946_450",Ose="_historyList_12946_457",Use="_panelFooter_12946_472",zse="_formOverlay_12946_478",Gse="_formGrid_12946_502",Hse="_warning_12946_508",Wse="_pagination_12946_517",ye={page:Vne,header:One,headerStack:Une,kicker:zne,title:Gne,headerActions:Hne,primaryAction:Wne,secondaryAction:qne,infoStrip:Kne,infoPill:Qne,freshnessWrapper:Xne,freshnessBadge:Yne,popover:Jne,popoverLabel:Zne,filterToolbar:ese,filterSheetButton:tse,inlineFilters:nse,searchInput:sse,select:rse,chipGroup:ise,chip:ase,chipActive:ose,levelRow:lse,sortControls:cse,sortLabel:dse,directionButton:use,listBody:hse,tableWrapper:pse,table:mse,cardFooter:fse,panel:gse,formPanel:xse,statusSelect:vse,stickyColumn:yse,rowButton:bse,scanBadge:_se,cardList:wse,card:jse,cardHeader:Sse,cardTitle:kse,cardMeta:Nse,cardNotes:Tse,emptyState:Cse,sheetBackdrop:Ese,sheet:Ase,sheetHandle:Ise,sheetBody:Rse,sheetLabel:Pse,sheetActions:Lse,overlay:Dse,drawer:Mse,modal:Fse,panelHeader:Bse,section:$se,tagRow:Vse,historyList:Ose,panelFooter:Use,formOverlay:zse,formGrid:Gse,warning:Hse,pagination:Wse},om=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],lm=["EU-01","EU-02","US-01","US-02","ASIA-01"],oy={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},Lw={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},yx={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},qse=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Aa(2),updatedAt:Aa(3),freshness:"f1",history:[{date:Qs(1),message:"Interview abgeschlossen"},{date:Qs(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Aa(10),updatedAt:Aa(11),freshness:"f3",history:[{date:Qs(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Aa(20),updatedAt:Aa(5),freshness:"f4",history:[{date:Qs(4),message:"Probe erfolgreich"},{date:Qs(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:Qs(2),updatedAt:Qs(2),freshness:"f5",history:[{date:Qs(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:Qs(3),updatedAt:Qs(1),freshness:"f6",history:[{date:Qs(1),message:"Bewerbung zurueckgezogen"},{date:Qs(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Aa(5),updatedAt:Aa(5),freshness:"f2",history:[{date:Qs(1),message:"Profil verifiziert"}]}];function Dw(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function Kse(t,e,s){const r=s.toLowerCase();return t.filter(i=>{const o=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),c=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),h=e.servers.length===0||e.servers.includes(i.server),p=i.level>=e.lvMin&&i.level<=e.lvMax;return o&&c&&d&&h&&p})}function Qse(t,e,s){const r=[...t];return r.sort((i,o)=>{let c=0;switch(e){case"name":c=i.name.localeCompare(o.name);break;case"level":c=i.level-o.level;break;case"status":c=i.status.localeCompare(o.status);break;case"lastScan":c=new Date(i.lastScanAt).getTime()-new Date(o.lastScanAt).getTime();break;case"updatedAt":default:c=new Date(i.updatedAt).getTime()-new Date(o.updatedAt).getTime();break}return s==="asc"?c:-c}),r}function Xse(t,e,s){const r=(e-1)*s;return t.slice(r,r+s)}function Rp(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Yse(t){const e=Date.now()-new Date(t).getTime(),s=Math.round(e/6e4);if(s<60)return`${s} min`;const r=Math.round(s/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Jse(t){return t.length?t.reduce((e,s)=>e?Lw[s.freshness]>Lw[e.freshness]?s:e:s,null):null}function Qs(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Aa(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function Zse(){var z;const[t,e]=se.useState(qse),[s,r]=se.useState(yx),[i,o]=se.useState(yx),c=du(s.q,300),d=se.useMemo(()=>{const q=Kse(t,s,c);return Qse(q,s.sort,s.dir)},[t,s,c]),h=se.useMemo(()=>Xse(d,s.page,s.pageSize),[d,s.page,s.pageSize]),p=Math.max(1,Math.ceil(d.length/s.pageSize)),m=cu("(min-width: 768px)"),x=cu("(min-width: 1024px)"),[v,w]=se.useState(!1),[N,P]=se.useState(null),R=(z=t.find(q=>q.id===N))!=null?z:null,O=se.useRef(null);uu(O,!!R&&!x);const[B,E]=se.useState(null),[y,j]=se.useState(!1),M=se.useRef(null);uu(M,y);const T=se.useMemo(()=>Jse(t),[t]),_=T&&T.lastScanAt?Yse(T.lastScanAt):"unbekannt",C=q=>{const H=Dw(q);r(H),o(H)},L=(q,H)=>{const W=Dw({...s,[q]:H,page:q==="page"?H:1});C(W)},A=()=>{C(i),w(!1)},V=()=>{C(yx),w(!1)},F=(q,H)=>{e(W=>W.map(ne=>ne.id===q?{...ne,status:H,updatedAt:new Date().toISOString()}:ne))},K=q=>{e(H=>H.some(ne=>ne.id===q.id)?H.map(ne=>ne.id===q.id?q:ne):[q,...H]),j(!1)};return n.jsxs(St,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[n.jsxs("div",{className:ye.page,children:[n.jsxs("header",{className:ye.header,children:[n.jsxs("div",{className:ye.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ye.kicker,children:"Recruiting"}),n.jsx("h1",{className:ye.title,children:"Waitlist"})]}),n.jsxs("div",{className:ye.headerActions,children:[n.jsx("button",{type:"button",className:ye.primaryAction,onClick:()=>{E(null),j(!0)},children:"Neuer Eintrag"}),!m&&n.jsx("button",{type:"button",className:ye.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>w(!0),children:"Filter"})]})]}),n.jsxs("div",{className:ye.infoStrip,children:[n.jsx(bx,{label:"Neu",value:d.filter(q=>q.status==="new").length}),n.jsx(bx,{label:"In Review",value:d.filter(q=>q.status==="in_review").length}),n.jsx(bx,{label:"Zugesagt",value:d.filter(q=>q.status==="accepted").length}),T&&n.jsx(ere,{label:oy[T.freshness],updatedAt:T.lastScanAt,countdown:_})]})]}),n.jsx("section",{className:ye.filterToolbar,children:m?n.jsx(tre,{filters:s,onChange:L,onToggleClass:q=>{const H=s.classes.includes(q)?s.classes.filter(W=>W!==q):[...s.classes,q];L("classes",H)},onToggleServer:q=>{const H=s.servers.includes(q)?s.servers.filter(W=>W!==q):[...s.servers,q];L("servers",H)}}):n.jsx("button",{type:"button",className:ye.filterSheetButton,onClick:()=>w(!0),children:"Filter & Sortierung"})}),n.jsx("section",{className:ye.listBody,children:m?n.jsx(nre,{items:h,sort:s.sort,dir:s.dir,onSortChange:q=>{const H=s.sort===q&&s.dir==="asc"?"desc":"asc";L("sort",q),L("dir",H)},onSelect:P,onStatusChange:F}):n.jsx(sre,{items:h,onSelect:P,onStatusChange:F})}),n.jsx(ire,{page:s.page,totalPages:p,onChange:q=>L("page",q)})]}),v&&n.jsx(rre,{filters:i,onChange:o,onToggleClass:q=>o(H=>({...H,classes:H.classes.includes(q)?H.classes.filter(W=>W!==q):[...H.classes,q]})),onToggleServer:q=>o(H=>({...H,servers:H.servers.includes(q)?H.servers.filter(W=>W!==q):[...H.servers,q]})),onClose:()=>w(!1),onApply:A,onReset:V}),R&&n.jsx(z3,{ref:O,item:R,mode:x?"drawer":"modal",onClose:()=>P(null),onEdit:()=>{E(R),j(!0),P(null)}}),y&&n.jsx(G3,{ref:M,item:B,entries:t,onClose:()=>j(!1),onSubmit:K})]})}function bx({label:t,value:e}){return n.jsxs("div",{className:ye.infoPill,children:[n.jsx("span",{children:t}),n.jsx("strong",{children:e})]})}function ere({label:t,updatedAt:e,countdown:s}){const[r,i]=se.useState(!1);return n.jsxs("div",{className:ye.freshnessWrapper,children:[n.jsx("button",{type:"button",className:ye.freshnessBadge,onClick:()=>i(o=>!o),"aria-expanded":r,children:t}),r&&n.jsxs("div",{className:ye.popover,children:[n.jsxs("div",{children:[n.jsx("span",{className:ye.popoverLabel,children:"Letzter Scan"}),n.jsx("strong",{children:Rp(e)})]}),n.jsxs("div",{children:[n.jsx("span",{className:ye.popoverLabel,children:"Aktualisiert"}),n.jsx("strong",{children:s})]})]})]})}function tre({filters:t,onChange:e,onToggleClass:s,onToggleServer:r}){return n.jsxs("div",{className:ye.inlineFilters,children:[n.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:ye.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),n.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:ye.select,value:t.status,onChange:i=>e("status",i.target.value),children:[n.jsx("option",{value:"all",children:"Status (alle)"}),n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),n.jsx("div",{className:ye.chipGroup,children:om.map(i=>{const o=t.classes.includes(i);return n.jsx("button",{type:"button",className:`${ye.chip} ${o?ye.chipActive:""}`,onClick:()=>s(i),children:i},i)})}),n.jsx("div",{className:ye.chipGroup,children:lm.map(i=>{const o=t.servers.includes(i);return n.jsx("button",{type:"button",className:`${ye.chip} ${o?ye.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),n.jsxs("div",{className:ye.levelRow,children:[n.jsxs("label",{children:["Lv min",n.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),n.jsxs("label",{children:["Lv max",n.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),n.jsxs("div",{className:ye.sortControls,children:[n.jsx("label",{className:ye.sortLabel,children:"Sortieren"}),n.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[n.jsx("option",{value:"name",children:"Name"}),n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"lastScan",children:"Letzter Scan"}),n.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),n.jsx("button",{type:"button",className:ye.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function nre({items:t,sort:e,dir:s,onSortChange:r,onSelect:i,onStatusChange:o}){const c=d=>e===d?s==="asc"?" ":" ":"";return t.length?n.jsx("div",{className:ye.tableWrapper,children:n.jsxs("table",{className:ye.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{className:ye.stickyColumn,onClick:()=>r("name"),children:["Name",c("name")]}),n.jsx("th",{children:"Klasse"}),n.jsxs("th",{onClick:()=>r("level"),children:["Level",c("level")]}),n.jsx("th",{children:"Server"}),n.jsxs("th",{onClick:()=>r("status"),children:["Status",c("status")]}),n.jsx("th",{children:"Notizen"}),n.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",c("lastScan")]})]})}),n.jsx("tbody",{children:t.map(d=>n.jsxs("tr",{children:[n.jsx("td",{className:ye.stickyColumn,children:n.jsx("button",{type:"button",className:ye.rowButton,onClick:()=>i(d.id),children:d.name})}),n.jsx("td",{children:d.classRole}),n.jsx("td",{children:d.level}),n.jsx("td",{children:d.server}),n.jsx("td",{children:n.jsxs("select",{className:ye.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:h=>o(d.id,h.target.value),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),n.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),n.jsx("td",{children:n.jsx("span",{className:ye.scanBadge,children:oy[d.freshness]})})]},d.id))})]})}):n.jsx(U3,{})}function sre({items:t,onSelect:e,onStatusChange:s}){return t.length?n.jsx("div",{className:ye.cardList,children:t.map(r=>n.jsxs("article",{className:ye.card,children:[n.jsxs("div",{className:ye.cardHeader,children:[n.jsxs("div",{children:[n.jsx("button",{type:"button",className:ye.cardTitle,onClick:()=>e(r.id),children:r.name}),n.jsxs("p",{className:ye.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),n.jsx("span",{className:ye.scanBadge,children:oy[r.freshness]})]}),n.jsxs("p",{className:ye.cardNotes,children:[r.notes.slice(0,160),"..."]}),n.jsxs("div",{className:ye.cardFooter,children:[n.jsxs("select",{className:ye.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>s(r.id,i.target.value),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):n.jsx(U3,{})}function U3(){return n.jsx("div",{className:ye.emptyState,children:n.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function rre({filters:t,onChange:e,onToggleClass:s,onToggleServer:r,onClose:i,onApply:o,onReset:c}){return n.jsx("div",{className:ye.sheetBackdrop,onClick:i,children:n.jsxs("div",{className:ye.sheet,onClick:d=>d.stopPropagation(),children:[n.jsx("div",{className:ye.sheetHandle}),n.jsxs("div",{className:ye.sheetBody,children:[n.jsx("h2",{children:"Filter"}),n.jsxs("label",{className:ye.sheetLabel,children:["Suche",n.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(h=>({...h,q:d.target.value}))})]}),n.jsxs("label",{className:ye.sheetLabel,children:["Status",n.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(h=>({...h,status:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),n.jsxs("div",{className:ye.sheetLabel,children:["Klassen",n.jsx("div",{className:ye.chipGroup,children:om.map(d=>{const h=t.classes.includes(d);return n.jsx("button",{type:"button",className:`${ye.chip} ${h?ye.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>s(d),children:d},d)})})]}),n.jsxs("div",{className:ye.sheetLabel,children:["Server",n.jsx("div",{className:ye.chipGroup,children:lm.map(d=>{const h=t.servers.includes(d);return n.jsx("button",{type:"button",className:`${ye.chip} ${h?ye.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),n.jsxs("div",{className:ye.levelRow,children:[n.jsxs("label",{children:["Lv min",n.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(h=>({...h,lvMin:Number(d.target.value)}))})]}),n.jsxs("label",{children:["Lv max",n.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(h=>({...h,lvMax:Number(d.target.value)}))})]})]})]}),n.jsxs("div",{className:ye.sheetActions,children:[n.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),n.jsx("button",{type:"button",className:ye.primaryAction,onClick:o,children:"Anwenden"})]})]})})}const z3=se.forwardRef(({item:t,mode:e,onClose:s,onEdit:r},i)=>n.jsx("div",{className:ye.overlay,children:n.jsxs("div",{ref:i,className:`${ye.panel} ${e==="drawer"?ye.drawer:ye.modal}`,children:[n.jsxs("header",{className:ye.panelHeader,children:[n.jsxs("div",{children:[n.jsxs("p",{className:ye.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),n.jsx("h2",{children:t.name})]}),n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("section",{className:ye.section,children:[n.jsx("h3",{children:"Kontakt"}),n.jsx("p",{children:t.contact}),n.jsxs("p",{children:["Quelle: ",t.source]})]}),n.jsxs("section",{className:ye.section,children:[n.jsx("h3",{children:"Notizen"}),n.jsx("p",{children:t.notes})]}),n.jsxs("section",{className:ye.section,children:[n.jsx("h3",{children:"Tags"}),n.jsx("div",{className:ye.tagRow,children:t.tags.length?t.tags.map(o=>n.jsx("span",{children:o},o)):n.jsx("span",{children:"Keine"})})]}),n.jsxs("section",{className:ye.section,children:[n.jsx("h3",{children:"Historie"}),n.jsx("ul",{className:ye.historyList,children:t.history.map(o=>n.jsxs("li",{children:[n.jsx("span",{children:Rp(o.date)}),n.jsx("p",{children:o.message})]},`${o.date}-${o.message}`))})]}),n.jsxs("section",{className:ye.section,children:[n.jsx("h3",{children:"Scan-Infos"}),n.jsxs("p",{children:["Letzter Scan: ",Rp(t.lastScanAt)]}),n.jsxs("p",{children:["Aktualisiert: ",Rp(t.updatedAt)]})]}),n.jsxs("footer",{className:ye.panelFooter,children:[n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:r,children:"Bearbeiten"}),n.jsx("button",{type:"button",className:ye.primaryAction,onClick:s,children:"Schliessen"})]})]})}));z3.displayName="DetailPanel";const G3=se.forwardRef(({item:t,entries:e,onClose:s,onSubmit:r},i)=>{const[o,c]=se.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:om[0],level:1,server:lm[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});se.useEffect(()=>{t&&c(t)},[JSON.stringify(t)]);const d=p=>{p.preventDefault(),r({...o,updatedAt:new Date().toISOString()})},h=e.some(p=>p.id!==o.id&&p.name.toLowerCase()===o.name.toLowerCase()&&p.server===o.server);return n.jsx("div",{className:ye.formOverlay,children:n.jsxs("form",{ref:i,className:ye.formPanel,onSubmit:d,children:[n.jsxs("header",{className:ye.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ye.cardMeta,children:t?"Bearbeiten":"Neu"}),n.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:s,children:"Schliessen"})]}),h&&n.jsx("div",{className:ye.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),n.jsxs("label",{className:ye.sheetLabel,children:["Name",n.jsx("input",{name:"waitlistFormName",value:o.name,onChange:p=>c(m=>({...m,name:p.target.value}))})]}),n.jsxs("div",{className:ye.formGrid,children:[n.jsxs("label",{children:["Klasse",n.jsx("select",{name:"waitlistFormClass",value:o.classRole,onChange:p=>c(m=>({...m,classRole:p.target.value})),children:om.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("label",{children:["Level",n.jsx("input",{type:"number",name:"waitlistFormLevel",value:o.level,min:1,max:200,onChange:p=>c(m=>({...m,level:Number(p.target.value)}))})]}),n.jsxs("label",{children:["Server",n.jsx("select",{name:"waitlistFormServer",value:o.server,onChange:p=>c(m=>({...m,server:p.target.value})),children:lm.map(p=>n.jsx("option",{value:p,children:p},p))})]}),n.jsxs("label",{children:["Status",n.jsxs("select",{name:"waitlistFormStatus",value:o.status,onChange:p=>c(m=>({...m,status:p.target.value})),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),n.jsxs("label",{className:ye.sheetLabel,children:["Kontakt",n.jsx("input",{name:"waitlistFormContact",value:o.contact,onChange:p=>c(m=>({...m,contact:p.target.value}))})]}),n.jsxs("label",{className:ye.sheetLabel,children:["Quelle",n.jsx("input",{name:"waitlistFormSource",value:o.source,onChange:p=>c(m=>({...m,source:p.target.value}))})]}),n.jsxs("label",{className:ye.sheetLabel,children:["Notizen",n.jsx("textarea",{name:"waitlistFormNotes",value:o.notes,onChange:p=>c(m=>({...m,notes:p.target.value})),rows:4})]}),n.jsxs("footer",{className:ye.panelFooter,children:[n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:s,children:"Abbrechen"}),n.jsx("button",{type:"submit",className:ye.primaryAction,children:"Speichern"})]})]})})});G3.displayName="WaitlistForm";function ire({page:t,totalPages:e,onChange:s}){return n.jsxs("div",{className:ye.pagination,children:[n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),n.jsxs("span",{children:["Seite ",t," / ",e]}),n.jsx("button",{type:"button",className:ye.secondaryAction,onClick:()=>s(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const are=["tab","sub","sub2","q","sort","dir","page","pageSize"];function Sc(t=[]){const[e,s]=Go(),r=se.useMemo(()=>[...t].sort().join("|"),[t]),i=se.useMemo(()=>{const m=new Set([...are]);return t.forEach(x=>m.add(x)),Array.from(m)},[r]),o=se.useMemo(()=>{const m={};return i.forEach(x=>{const v=e.get(x);v!==null&&(m[x]=v)}),m},[e,i]),c=se.useCallback((m,x)=>{var w;const v=new URLSearchParams(e);Object.entries(m).forEach(([N,P])=>{P==null||P===""?v.delete(N):v.set(N,String(P))}),s(v,{replace:(w=x==null?void 0:x.replace)!=null?w:!1})},[e,s]),d=se.useCallback(m=>{const x=new URLSearchParams(e);(m&&m.length>0?m:i).forEach(w=>x.delete(w)),s(x,{replace:!0})},[e,s,i]),h=se.useCallback((m,x="")=>{var v;return(v=o[m])!=null?v:x},[o]),p=se.useCallback((m,x=0)=>{const v=o[m],w=v?Number(v):NaN;return Number.isFinite(w)?w:x},[o]);return{params:o,getParam:h,getNumberParam:p,writeParams:c,resetParams:d}}function ore(){return Sc(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Activity"})})}function lre(){return Sc(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Imports"})})}function cre(){return Sc(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Announcements"})})}function dre(){return Sc(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Events"})})}function ure(){return Sc(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Roles"})})}function hre(){return Sc(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Settings"})})}const pre=[{icon:n.jsx(L0,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:n.jsx(FC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:n.jsx(CC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],mre=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],fre=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function gre(){return n.jsx(St,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Et,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),n.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:n.jsx(xre,{}),right:n.jsx(vre,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:pre.map(t=>n.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),n.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),n.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),n.jsx(Et,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),n.jsx("ul",{className:"space-y-3",children:mre.map(t=>n.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[n.jsx(P0,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),n.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),n.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function xre(){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),n.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[n.jsx(Et,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),n.jsx(Et,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),n.jsx(Et,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),n.jsx(Et,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[n.jsx("li",{children:" Pager rotation: Ops Team"}),n.jsx("li",{children:" Slack channel: #sf-alerts"}),n.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function vre(){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),n.jsx("ul",{className:"mt-3 space-y-2",children:fre.map(t=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),n.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),n.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),n.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const yre=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function bre(){return n.jsx(St,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:n.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[n.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[n.jsx("span",{children:"ID"}),n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Service"}),n.jsx("span",{className:"text-right",children:"Severity"})]}),n.jsx("ul",{children:yre.map(t=>n.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),n.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:_re(t.severity)},children:t.severity})]},t.id))})]})})}function _re(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const Qr={background:"#152A42",borderColor:"#2B4C73"},Yl={background:"#1A2F4A",borderColor:"#2B4C73"},_x=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function wre(){const{data:t,loading:e,refreshing:s,error:r,refresh:i}=Nre(),o=se.useMemo(()=>[{label:"Total uploads",value:_r(t.metrics.totalUploads),hint:`${_r(t.metrics.last24h)} in the last 24h`,icon:n.jsx(ZT,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:hu(t.metrics.successRate),hint:`${_r(t.metrics.failed)} failed`,icon:n.jsx(WT,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?wx(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${wx(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:n.jsx(YT,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:Mw(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:n.jsx(sC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:_r(t.metrics.uniqueUploaders),hint:`${_r(t.metrics.uniqueGuilds)} guilds represented`,icon:n.jsx(L0,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:_r(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:n.jsx(Ij,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return n.jsx(St,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:n.jsx(jre,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:s}),right:n.jsx(Sre,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:o.map(c=>n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),n.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),n.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),n.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsx("header",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),n.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Yl,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Jl(c.status)},"aria-hidden":"true"}),ly(c.status)]}),n.jsx("span",{className:"font-semibold",children:_r(c.count)})]}),n.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:n.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:Jl(c.status)}})}),n.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[hu(c.share)," of window"]})]},c.status))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsx("header",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),n.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Yl,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{className:"font-semibold",children:c.hourLabel}),n.jsxs("span",{children:[_r(c.total)," uploads"]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Jl("success")},"aria-hidden":"true"}),"Success ",_r(c.success)]}),n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Jl("failed")},"aria-hidden":"true"}),"Failed ",_r(c.failed)]})]})]},c.hourLabel))})]})]}),n.jsxs("section",{className:"rounded-2xl border",style:Qr,children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Ej,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?n.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[n.jsx(P0,{className:"h-3.5 w-3.5"}),r]}):n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(VT,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),n.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[n.jsx("span",{children:"ID"}),n.jsx("span",{children:"Status"}),n.jsx("span",{children:"Uploader"}),n.jsx("span",{children:"Guild"}),n.jsx("span",{className:"text-right",children:"Processing"}),n.jsx("span",{className:"text-right",children:"File size"})]}),n.jsx("ul",{children:t.recentUploads.map(c=>{var d,h,p,m;return n.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),n.jsx("span",{children:n.jsx(kre,{status:c.status})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(h=(d=c.uploaderName)!=null?d:c.uploaderId)!=null?h:""}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(m=(p=c.guildName)!=null?p:c.guildId)!=null?m:""}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),n.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?wx(c.processingMs):"Pending"}),n.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?Mw(c.fileSizeBytes):""})]},c.id)})})]})]})})}function jre({breakdown:t,onRefresh:e,loading:s,refreshing:r}){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[n.jsx("span",{children:"Controls"}),n.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[n.jsx(NC,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),n.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),n.jsxs("div",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>n.jsxs("li",{className:"flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Jl(i.status)},"aria-hidden":"true"}),ly(i.status)]}),n.jsx("span",{children:hu(i.share)})]},i.status))}),s&&n.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[n.jsx(Ej,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),n.jsxs("div",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(_p,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(_p,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(_p,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function Sre({issues:t,failures:e,uploaders:s,guilds:r}){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(Ij,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),n.jsx("span",{children:"Top failure signatures"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?n.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>n.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Yl,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{children:i.code}),n.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),n.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(P0,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),n.jsx("span",{children:"Latest failed uploads"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?n.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var o;return n.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Yl,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),n.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(o=i.errorCode)!=null?o:"No error code provided"})]},i.id)})})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(L0,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Uploader leaderboard"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.map(i=>n.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Yl,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),n.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",hu(i.successRate)]})]}),n.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:_r(i.count)})]},i.id))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:Qr,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(aC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Guild spotlight"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>n.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Yl,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),n.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",hu(i.successRate)]})]}),n.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:_r(i.count)})]},i.id))})]})]})}function kre({status:t}){const e=Jl(t);return n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[n.jsx(_p,{className:"h-3 w-3","aria-hidden":"true"}),ly(t)]})}function Nre(){const[t,e]=se.useState(_x),[s,r]=se.useState(!0),[i,o]=se.useState(!1),[c,d]=se.useState(null),h=se.useCallback(async(m=!1)=>{m?o(!0):r(!0);try{const x=km(jt,"scanUploads"),v=Xs(x,Po("uploadedAt","desc"),Ys(100)),N=(await Ms(v)).docs.map(P=>Tre(P.id,P.data()));N.length>0?(e(N),d(null)):(e(_x),d("No uploads in window  showing fallback snapshot"))}catch(x){console.error("[ScansUploaded] Failed to load Firestore data",x),d("Live data unavailable  fallback snapshot active"),e(_x)}finally{m?o(!1):r(!1)}},[]);se.useEffect(()=>{h(!1)},[h]);const p=se.useMemo(()=>Ere(t),[t]);return{loading:s,refreshing:i,error:c,data:p,refresh:se.useCallback(()=>h(!0),[h])}}function Tre(t,e){const s=Cre(e.status);return{id:t,status:s,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof wn?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function Cre(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function Ere(t){var C,L;const e=new Map,s=new Map,r=new Map,i=new Map,o=[];let c=0,d=0;const p=Date.now()-1440*60*1e3,m=new Map;t.forEach(A=>{var z,q,H,W,ne,re,G,Z,ue,ee,fe,Te,me,Ee,Ce,We,kt;const V=(z=e.get(A.status))!=null?z:0;if(e.set(A.status,V+1),A.uploadedAt&&A.uploadedAt.getTime()>=p&&(d+=1),A.processingMs!=null&&o.push(A.processingMs),A.fileSizeBytes!=null&&(c+=A.fileSizeBytes),A.status==="failed"&&A.errorCode){const Xe=(q=s.get(A.errorCode))!=null?q:{count:0,lastSeen:null};s.set(A.errorCode,{count:Xe.count+1,lastSeen:!Xe.lastSeen||A.uploadedAt&&Xe.lastSeen<A.uploadedAt?A.uploadedAt:Xe.lastSeen})}const F=(W=(H=A.uploaderId)!=null?H:A.uploaderName)!=null?W:`anon-${A.id}`,K=(G=r.get(F))!=null?G:{name:(re=(ne=A.uploaderName)!=null?ne:A.uploaderId)!=null?re:"Unknown",success:0,total:0};if(r.set(F,{name:(ue=(Z=A.uploaderName)!=null?Z:A.uploaderId)!=null?ue:"Unknown",success:K.success+(A.status==="success"?1:0),total:K.total+1}),A.guildId||A.guildName){const Xe=(fe=(ee=A.guildId)!=null?ee:A.guildName)!=null?fe:`guild-${A.id}`,At=(Ee=i.get(Xe))!=null?Ee:{name:(me=(Te=A.guildName)!=null?Te:A.guildId)!=null?me:"Unknown",success:0,total:0};i.set(Xe,{name:(We=(Ce=A.guildName)!=null?Ce:A.guildId)!=null?We:"Unknown",success:At.success+(A.status==="success"?1:0),total:At.total+1})}if(A.uploadedAt){const Xe=new Date(A.uploadedAt);Xe.setMinutes(0,0,0);const At=Xe.toISOString(),$t=(kt=m.get(At))!=null?kt:{hourLabel:Ire(Xe),timestamp:Xe,total:0,success:0,failed:0};m.set(At,{hourLabel:$t.hourLabel,timestamp:$t.timestamp,total:$t.total+1,success:$t.success+(A.status==="success"?1:0),failed:$t.failed+(A.status==="failed"?1:0)})}});const x=t.length,v=(C=e.get("success"))!=null?C:0,w=(L=e.get("failed"))!=null?L:0,N=o.length?o.reduce((A,V)=>A+V,0)/o.length:null,P=o.length?Are(o,95):null,R=r.size,O=i.size,B=Array.from(e.entries()).map(([A,V])=>({status:A,count:V,share:x?V/x:0})).sort((A,V)=>V.count-A.count),E=Array.from(m.values()).sort((A,V)=>V.timestamp.getTime()-A.timestamp.getTime()).slice(0,12),y=Array.from(s.entries()).map(([A,V])=>({code:A,...V})).sort((A,V)=>V.count-A.count).slice(0,6),j=[...t].sort((A,V)=>{var F,K,z,q;return((K=(F=V.uploadedAt)==null?void 0:F.getTime())!=null?K:0)-((q=(z=A.uploadedAt)==null?void 0:z.getTime())!=null?q:0)}).slice(0,12),M=t.filter(A=>A.status==="failed").sort((A,V)=>{var F,K,z,q;return((K=(F=V.uploadedAt)==null?void 0:F.getTime())!=null?K:0)-((q=(z=A.uploadedAt)==null?void 0:z.getTime())!=null?q:0)}),T=Array.from(r.entries()).map(([A,V])=>({id:A,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((A,V)=>V.count-A.count).slice(0,5),_=Array.from(i.entries()).map(([A,V])=>({id:A,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((A,V)=>V.count-A.count).slice(0,5);return{metrics:{totalUploads:x,last24h:d,successRate:x?v/x:0,failed:w,avgProcessingMs:N,p95ProcessingMs:P,uniqueUploaders:R,uniqueGuilds:O,totalFileSizeBytes:c},statusBreakdown:B,timeline:E,issues:y,recentFailures:M,recentUploads:j,topUploaders:T,topGuilds:_}}function Are(t,e){const s=[...t].sort((d,h)=>d-h);if(s.length===0)return 0;const r=e/100*(s.length-1),i=Math.floor(r),o=Math.ceil(r);if(i===o)return s[i];const c=r-i;return s[i]*(1-c)+s[o]*c}function _r(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function hu(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function wx(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function Mw(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let s=t,r=0;for(;s>=1024&&r<e.length-1;)s/=1024,r+=1;return`${s.toFixed(s>=10?0:1)} ${e[r]}`}function Jl(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function ly(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Ire(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function jx({label:t,value:e,hint:s}){return n.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),n.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),s&&n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s})]})}function Rre(){var d,h,p,m,x,v;const{snapshot:t,error:e,loading:s,refresh:r}=C3(),i=(d=t==null?void 0:t.warnings)!=null?d:[],o=(p=(h=t==null?void 0:t.data)==null?void 0:h.length)!=null?p:0,c=(m=t==null?void 0:t.stats)!=null?m:{};return n.jsx(St,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:s,children:s?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(jx,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),n.jsx(jx,{label:"Creators tracked",value:o?o.toString():"0"}),n.jsx(jx,{label:"API lookups",value:`${(x=c.youtubeLookups)!=null?x:0}  ${(v=c.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?n.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):n.jsx("ul",{className:"space-y-2",children:i.map((w,N)=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[n.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[w.creator,"  ",w.scope]}),n.jsx("div",{className:"text-xs text-[#B0C4D9]",children:w.message}),w.source&&n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:w.source})]},`${w.scope}-${N}`))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),n.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[n.jsxs("li",{children:["Add the following environment variables (e.g. in ",n.jsx("code",{children:".env.local"}),"):",n.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),n.jsxs("li",{children:["Execute the sync script:",n.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),n.jsxs("li",{children:["Commit/deploy the generated ",n.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&n.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}function Pre(){return n.jsx(St,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:n.jsx("div",{className:"space-y-4",children:n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[n.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",n.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),n.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",n.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const lt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function Lre(){return n.jsx("div",{style:lt.wrap,children:n.jsxs("div",{style:lt.grid,children:[n.jsxs("aside",{style:lt.tile,children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),n.jsx("p",{style:lt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),n.jsxs("nav",{children:[n.jsx("div",{style:lt.groupLabel,children:"Allgemein"}),n.jsx(an,{to:"list-views",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"List-View Switcher"}),n.jsx(an,{to:"rescan-widget",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Rescan Widget (auto)"}),n.jsx(an,{to:"upload-sim",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Upload Simulator"}),n.jsx(an,{to:"hud/game-buttons",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"HUD  Game Buttons"}),n.jsx(an,{to:"theme-maker",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Theme / Template Maker"}),n.jsx(an,{to:"theme-maker-pro",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Theme / Template Maker  Pro"}),n.jsx("div",{style:lt.groupLabel,children:"Templates"}),n.jsx(an,{to:"templates/content-shell",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"ContentShell Template"}),n.jsx(an,{to:"templates/blank",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Leere Vorlage"}),n.jsx(an,{to:"templates/blank-alt",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Leere Vorlage (Neu)"}),n.jsx(an,{to:"templates/blank-layout-2",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Leere Vorlage  Layout 2"}),n.jsx(an,{to:"templates/blank-layout-3",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Leere Vorlage  Layout 3"}),n.jsx(an,{to:"templates/blank-layout-4",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"Leere Vorlage  Layout 4"}),n.jsx("div",{style:lt.groupLabel,children:"Guide Hub Demos"}),n.jsx(an,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),n.jsx("div",{style:lt.groupLabel,children:"Graphics / Portraits"}),n.jsx(an,{to:"portrait-maker",style:({isActive:t})=>({...lt.link,...t?lt.active:{}}),children:"PortraitMaker Demo"})]})]}),n.jsx("section",{style:lt.tile,children:n.jsx(bj,{})})]})})}const Dre="_page_1kokx_1",Mre="_topBar_1kokx_17",Fre="_tabs_1kokx_31",Bre="_tab_1kokx_31",$re="_tabActive_1kokx_63",Vre="_searchWrap_1kokx_73",Ore="_input_1kokx_85",Ure="_stickyIcons_1kokx_105",zre="_iconBtn_1kokx_129",Gre="_tableWrap_1kokx_161",Hre="_table_1kokx_161",Wre="_th_1kokx_181",qre="_td_1kokx_181",Kre="_row_1kokx_201",Qre="_chips_1kokx_219",Xre="_chip_1kokx_219",Yre="_badges_1kokx_249",Jre="_badge_1kokx_249",Zre="_badgeMax_1kokx_275",eie="_badgeAchiev_1kokx_277",tie="_badgeX2_1kokx_279",nie="_badgeX12_1kokx_281",sie="_badgeX60_1kokx_283",rie="_section_1kokx_289",iie="_sectionHeader_1kokx_297",aie="_cardList_1kokx_315",oie="_card_1kokx_315",lie="_cardMax_1kokx_353",cie="_iconXL_1kokx_355",die="_split_1kokx_369",uie="_left_1kokx_379",hie="_leftBtn_1kokx_399",pie="_leftBtnActive_1kokx_411",mie="_detail_1kokx_413",fie="_grid_1kokx_433",gie="_tile_1kokx_443",xie="_drawer_1kokx_457",vie="_timeline_1kokx_487",yie="_node_1kokx_493",bie="_dot_1kokx_501",Ke={page:Dre,topBar:Mre,tabs:Fre,tab:Bre,tabActive:$re,searchWrap:Vre,input:Ore,stickyIcons:Ure,iconBtn:zre,tableWrap:Gre,table:Hre,th:Wre,td:qre,row:Kre,chips:Qre,chip:Xre,badges:Yre,badge:Jre,badgeMax:Zre,badgeAchiev:eie,badgeX2:tie,badgeX12:nie,badgeX60:sie,section:rie,sectionHeader:iie,cardList:aie,card:oie,cardMax:lie,iconXL:cie,split:die,left:uie,leftBtn:hie,leftBtnActive:pie,detail:mie,grid:fie,tile:gie,drawer:xie,timeline:vie,node:yie,dot:bie},Fw=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function jr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const s=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(s)+r}function _ie(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function wie(t){var s,r;const e=(r=(s=t.note)==null?void 0:s.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function cm({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return n.jsx("div",{className:Ke.iconBtn,title:t||"Rune",children:e})}function cy({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return n.jsx("div",{className:Ke.iconXL,title:t||"Rune",children:e})}function jie(t){const e=new Map;for(const s of t){const r=s.tier&&s.tier.trim()!==""?s.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(s)}return Array.from(e.entries())}function Iu({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),n.jsx("div",{className:Ke.chips,children:e.map((s,r)=>n.jsx("span",{className:Ke.chip,children:s},r))})}function Ru({r:t,isMax:e}){const s=[];e&&s.push({label:"MAX",cls:Ke.badgeMax}),_ie(t)&&s.push({label:"Achievement",cls:Ke.badgeAchiev});const r=wie(t);return r==="x2"&&s.push({label:"x2",cls:Ke.badgeX2}),r==="x12"&&s.push({label:"x12",cls:Ke.badgeX12}),r==="x60"&&s.push({label:"x60",cls:Ke.badgeX60}),s.length===0?null:n.jsx("div",{className:Ke.badges,children:s.map((i,o)=>{var c;return n.jsx("span",{className:`${Ke.badge} ${(c=i.cls)!=null?c:""}`,children:i.label},o)})})}function Sie(t){const e=t.trim().toLowerCase();return e?Fw.filter(s=>{var r;return`${s.tier} ${s.amount} ${(r=s.note)!=null?r:""}`.toLowerCase().includes(e)}):Fw}function kie({data:t}){const e=Math.max(...t.map(i=>jr(i.amount))),s=D.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const o=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ke.stickyIcons,children:s.map((i,o)=>n.jsx("div",{onClick:()=>r(i),children:n.jsx(cm,{label:i||"(no tier)"})},o))}),n.jsx("div",{className:Ke.tableWrap,children:n.jsxs("table",{className:Ke.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:Ke.th,style:{width:42}}),n.jsx("th",{className:Ke.th,style:{width:120},children:"Amount"}),n.jsx("th",{className:Ke.th,children:"Bonuses"}),n.jsx("th",{className:Ke.th,style:{width:220},children:"Tags"})]})}),n.jsx("tbody",{children:t.map((i,o)=>{const c=Math.abs(jr(i.amount)-e)<1e-6;return n.jsxs("tr",{className:Ke.row,"data-tier":i.tier||"(no tier)",children:[n.jsx("td",{className:Ke.td,children:n.jsx(cm,{label:i.tier||""})}),n.jsx("td",{className:Ke.td,children:i.amount}),n.jsx("td",{className:Ke.td,children:n.jsx(Iu,{r:i})}),n.jsx("td",{className:Ke.td,children:n.jsx(Ru,{r:i,isMax:c})})]},o)})})]})})]})}function Nie({data:t}){const e=jie(t),s=Math.max(...t.map(r=>jr(r.amount)));return n.jsx(n.Fragment,{children:e.map(([r,i])=>n.jsxs("section",{className:Ke.section,children:[n.jsx("div",{className:Ke.sectionHeader,children:r}),n.jsx("div",{className:Ke.cardList,children:i.map((o,c)=>{const d=Math.abs(jr(o.amount)-s)<1e-6;return n.jsxs("div",{className:`${Ke.card} ${d?Ke.cardMax:""}`,children:[n.jsx(cy,{label:r}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("strong",{children:o.amount}),n.jsx(Ru,{r:o,isMax:d})]}),n.jsx(Iu,{r:o})]}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function Tie({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[s,r]=D.useState((c=e[0])!=null?c:""),i=t.filter(d=>(d.tier||"(no tier)")===s),o=Math.max(...t.map(d=>jr(d.amount)));return n.jsxs("div",{className:Ke.split,children:[n.jsx("div",{className:Ke.left,children:e.map(d=>n.jsxs("button",{className:`${Ke.leftBtn} ${d===s?Ke.leftBtnActive:""}`,onClick:()=>r(d),children:[n.jsx(cm,{label:d}),n.jsx("span",{children:d})]},d))}),n.jsxs("div",{className:Ke.detail,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx(cy,{label:s}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700},children:s}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,h)=>{const p=Math.abs(jr(d.amount)-o)<1e-6;return n.jsxs("div",{className:Ke.card,style:{gridTemplateColumns:"1fr auto"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("strong",{children:d.amount}),n.jsx(Ru,{r:d,isMax:p})]}),n.jsx(Iu,{r:d})]}),n.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function Cie({data:t}){const[e,s]=D.useState(null),r=Math.max(...t.map(i=>jr(i.amount)));return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ke.grid,children:t.map((i,o)=>n.jsx("div",{className:Ke.tile,onClick:()=>s(i),title:i.tier||"",children:n.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[n.jsx(cm,{label:i.tier||""}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},o))}),e&&n.jsxs("div",{className:Ke.drawer,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx(cy,{label:e.tier||""}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700},children:e.amount}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),n.jsx("button",{className:Ke.tab,onClick:()=>s(null),children:"Close"})]}),n.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:n.jsx(Ru,{r:e,isMax:Math.abs(jr(e.amount)-r)<1e-6})}),n.jsx(Iu,{r:e})]})]})}function Eie({data:t}){const e=Math.max(...t.map(r=>jr(r.amount))),s=[...t].sort((r,i)=>jr(r.amount)-jr(i.amount));return n.jsx("div",{className:Ke.timeline,children:s.map((r,i)=>{const o=Math.abs(jr(r.amount)-e)<1e-6;return n.jsxs("div",{className:Ke.node,children:[n.jsx("div",{className:Ke.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("strong",{children:r.amount}),n.jsx(Ru,{r,isMax:o})]}),n.jsx(Iu,{r})]}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const Aie=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function Iie(){const[t,e]=D.useState("A: Compact Table"),[s,r]=D.useState(""),i=Sie(s);return n.jsxs("div",{className:Ke.page,children:[n.jsxs("div",{className:Ke.topBar,children:[n.jsx("div",{className:Ke.tabs,children:Aie.map(o=>n.jsx("button",{onClick:()=>e(o),className:`${Ke.tab} ${t===o?Ke.tabActive:""}`,children:o},o))}),n.jsx("div",{className:Ke.searchWrap,children:n.jsx("input",{className:Ke.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:s,onChange:o=>r(o.target.value)})})]}),t==="A: Compact Table"&&n.jsx(kie,{data:i}),t==="B: Card Track"&&n.jsx(Nie,{data:i}),t==="C: Two-Pane"&&n.jsx(Tie,{data:i}),t==="D: Icon Grid + Drawer"&&n.jsx(Cie,{data:i}),t==="E: Timeline"&&n.jsx(Eie,{data:i})]})}function Rie(){return n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),n.jsx("div",{className:"mt-4 grid gap-3",children:n.jsx(an,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const pe={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},Pie=()=>n.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Io={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function Lie(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function kc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",Lie(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function H3(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",s={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},o={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},m={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},x={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},w={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:s,crystal:r,carbon:i,chrome:o,gold:c,obsidian:d,neon:h,plasma:p,aurora:m,satin:x,matte:v,holo:w}[t.material]}function qa(t){const e={color:pe.title,borderColor:pe.border,...H3(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Pu=({children:t})=>n.jsx("span",{className:"relative z-10",children:t});function Nc({fx:t,clip:e}){return n.jsxs(n.Fragment,{children:[t.shine&&n.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:n.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&n.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&n.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&n.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&n.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((s,r)=>n.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function Die({fx:t,children:e}){const s=kc(t),r=qa(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),n.jsx(Nc,{fx:t,clip:i}),t.withIcon&&n.jsx(Tj,{size:16,className:"relative z-10"}),n.jsx(Pu,{children:e})]})}function Mie({fx:t,children:e}){const s=kc(t),r=qa(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),n.jsx(Nc,{fx:t,clip:i}),t.withIcon&&n.jsx(Cj,{size:16,className:"relative z-10"}),n.jsx(Pu,{children:e})]})}function Fie({fx:t,children:e}){const s=kc(t),r=qa(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),n.jsx(Nc,{fx:t,clip:i}),t.withIcon&&n.jsx(fu,{size:16,className:"relative z-10"}),n.jsx(Pu,{children:e})]})}function Bie({fx:t,children:e}){const s=kc(t),r=qa(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${pe.tile}, ${pe.active})`}}),n.jsx(Nc,{fx:t,clip:i}),t.withIcon&&n.jsx(Aj,{size:16,className:"relative z-10"}),n.jsx(Pu,{children:e})]})}function $ie({fx:t,children:e}){const s=kc(t),r=qa(t);return n.jsxs("button",{disabled:t.disabled,className:`${s} rounded-full overflow-hidden`,style:r,children:[n.jsx(Nc,{fx:t}),t.withIcon&&n.jsx(pm,{size:16,className:"relative z-10"}),n.jsx(Pu,{children:e})]})}function Vie({fx:t,tabs:e}){const[s,r]=D.useState(0);return n.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:pe.tile,border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:e.map((i,o)=>n.jsxs("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm transition-colors ${o===s?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:o===s?pe.active:"transparent",border:o===s&&t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:[t.withIcon&&o===s&&n.jsx(pm,{size:14,className:"inline mr-1"}),i]},o))})}function Oie({fx:t}){const e=kc(t),s=qa(t);return n.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:s,"aria-label":"Icon action",children:n.jsx(Rj,{})})}const y0={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function Uie({fx:t,setFx:e}){const s=(d,h)=>e(p=>({...p,[d]:h})),r=d=>e(h=>({...h,[d]:!h[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],o=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return n.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:pe.tile,border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:[n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${pe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:pe.title},children:"Presets"}),Object.keys(y0).map(d=>n.jsx("button",{onClick:()=>e(h=>y0[d](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:pe.btn,borderColor:pe.border,color:pe.title},children:d},d))]}),n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${pe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:pe.title},children:"Material"}),i.map(d=>n.jsx("button",{onClick:()=>s("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?pe.active:pe.btn,borderColor:pe.border,color:pe.title},children:d},d)),n.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:pe.title},children:"Size"}),["sm","md","lg"].map(d=>n.jsx("button",{onClick:()=>s("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?pe.active:pe.btn,borderColor:pe.border,color:pe.title},children:d.toUpperCase()},d)),n.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?pe.active:pe.btn,borderColor:pe.border,color:pe.title},children:"Icon"}),n.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?pe.active:pe.btn,borderColor:pe.border,color:pe.title},children:"Disabled"})]}),n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${pe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:pe.title},children:"Core FX"}),o.map(([d,h])=>n.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?pe.active:pe.btn,borderColor:pe.border,color:pe.title},children:h},d))]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:pe.title},children:"Advanced"}),c.map(([d,h])=>n.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?pe.active:pe.btn,borderColor:pe.border,color:pe.title},children:h},d))]}),n.jsx("button",{onClick:()=>e(Io),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:pe.btn,borderColor:pe.border,color:pe.title},children:"Reset"})]})}function Ft({fx:t,className:e="",style:s={},children:r,clip:i}){const o=qa(t);return n.jsxs("div",{className:`relative ${e}`,style:{...o,...s},children:[n.jsx(Nc,{fx:t,clip:i}),n.jsx("div",{className:"relative z-10",children:r})]})}function vs({fx:t,className:e="",children:s}){return n.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:pe.tile,border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:s})}function zie({fx:t}){const[e,s]=D.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Toggle Chips"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const o=e.includes(i);return n.jsx(Ft,{fx:t,className:`rounded-full border ${o?"":"opacity-80"}`,style:{borderColor:pe.border},children:n.jsx("button",{onClick:()=>s(c=>o?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function Gie({fx:t}){return n.jsxs(vs,{fx:t,className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",style:{color:pe.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>n.jsx(Ft,{fx:t,className:"rounded-xl border p-2",style:{borderColor:pe.border},children:n.jsxs("button",{className:"relative",children:[n.jsx(Rj,{size:16}),e===3&&n.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function Hie({fx:t}){return n.jsxs(Ft,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Breadcrumb HUD"}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>n.jsx(Ft,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:pe.border},children:e},e))})]})}function Wie({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Stat Tiles"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(s=>n.jsxs(Ft,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:pe.border},children:[n.jsx("div",{className:"text-[10px] opacity-80",children:s.k}),n.jsx("div",{className:"text-sm",children:s.v}),n.jsx("div",{className:"text-[11px] opacity-80",children:s.d})]},s.k))})]})}function qie({fx:t}){const[e,s]=D.useState(.66);return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Meter / Energy Bar"}),n.jsx(Ft,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:pe.border},children:n.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),n.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsxs("button",{onClick:()=>s(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function Kie({fx:t}){return n.jsxs(vs,{fx:t,className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-sm",style:{color:pe.title},children:"Badge / Medal"}),n.jsxs(Ft,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:pe.border},children:[n.jsx(fu,{size:16}),n.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function Qie({fx:t}){const[e,s]=D.useState(!1);return n.jsxs(vs,{fx:t,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:pe.title},children:"Toast / Notification"}),n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&n.jsxs(Ft,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:pe.border},children:[n.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),n.jsx("button",{onClick:()=>s(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function Xie({fx:t}){const[e,s]=D.useState(!0);return n.jsxs(vs,{fx:t,className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:pe.title},children:"Toggle Switch"}),n.jsxs(Ft,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:pe.border},children:[n.jsx("button",{onClick:()=>s(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),n.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function Yie({fx:t}){const[e,s]=D.useState(!1),r=["Overview","Stats","Activity","Hydra"];return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Dropdown HUD"}),n.jsx(Ft,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:pe.border},children:n.jsx("button",{onClick:()=>s(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&n.jsx(Ft,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:pe.border},children:r.map(i=>n.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function Jie({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Radial Menu (Preview)"}),n.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[n.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"}}),e.map((s,r)=>{const i=r/e.length*Math.PI*2,o=56,c=56+Math.cos(i)*o,d=56+Math.sin(i)*o;return n.jsx(Ft,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:pe.border},children:s},s)}),n.jsx(Ft,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:pe.border},children:"Menu"})]})]})}function Zie({fx:t}){const e=[1,2,3,4,5],[s,r]=D.useState(2);return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Pagination HUD"}),n.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>n.jsx(Ft,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===s?"":"opacity-80"}`,style:{borderColor:pe.border},children:n.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function eae({fx:t}){const[e,s]=D.useState(!1);return n.jsxs(vs,{fx:t,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:pe.title},children:"Modal HUD"}),n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&n.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:n.jsxs(Ft,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:pe.border},children:[n.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),n.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>s(!1),children:"Cancel"})}),n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function tae({fx:t}){const[e,s]=D.useState("");return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Search HUD"}),n.jsx(Ft,{fx:t,className:"rounded-lg border p-2",style:{borderColor:pe.border},children:n.jsx("input",{value:e,onChange:r=>s(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function nae({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[s,r]=D.useState("Bravo");return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"List Selectable"}),n.jsx("div",{className:"space-y-2",children:e.map(i=>n.jsx(Ft,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${s===i?"":"opacity-80"}`,style:{borderColor:pe.border},children:n.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function sae({fx:t}){const e=["Init","Scan","Verify","Done"],[s,r]=D.useState(1);return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Steps"}),n.jsx("div",{className:"flex items-center gap-3",children:e.map((i,o)=>n.jsxs(se.Fragment,{children:[n.jsx(Ft,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${o<=s?"":"opacity-70"}`,style:{borderColor:pe.border},children:o+1}),o<e.length-1&&n.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,s-1)),children:"Back"})}),n.jsx(Ft,{fx:t,className:"rounded-md border",style:{borderColor:pe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,s+1)),children:"Next"})})]})]})}function rae({fx:t}){const e=["","","","","",""];return n.jsxs(vs,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:pe.title},children:"Dock Bar"}),n.jsx("div",{className:"flex items-center gap-2",children:e.map((s,r)=>n.jsx(Ft,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:pe.border},children:s},r))})]})}function iae(){const[t,e]=D.useState(Io);return n.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:pe.bg,color:pe.txt},children:[n.jsx(Pie,{}),n.jsxs("header",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fC,{}),n.jsx("h1",{className:"text-xl font-bold",style:{color:pe.title},children:"Game Buttons Playground"}),n.jsx("span",{className:"text-xs",style:{color:pe.txt2},children:"(Materials + FX extended + Presets)"})]})}),n.jsx(Uie,{fx:t,setFx:e})]}),n.jsxs("section",{className:"grid gap-4",children:[n.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:pe.tile,border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold mb-3",style:{color:pe.title},children:"Shapes"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(Die,{fx:t,children:[n.jsx(Tj,{size:16})," Diamond"]}),n.jsxs(Mie,{fx:t,children:[n.jsx(Cj,{size:16})," Hex"]}),n.jsxs(Fie,{fx:t,children:[n.jsx(fu,{size:16})," Octagon/Shield"]}),n.jsxs(Bie,{fx:t,children:[n.jsx(Aj,{size:16})," Shard"]}),n.jsxs($ie,{fx:t,children:[n.jsx(pm,{size:16})," Pill/Chip"]}),n.jsx(Oie,{fx:t})]})]}),n.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:pe.tile,border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold",style:{color:pe.title},children:"Tabs"}),n.jsx(Vie,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),n.jsx("section",{className:"grid gap-4",children:n.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:pe.tile,border:t.baseBorder?`1px solid ${pe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold mb-3",style:{color:pe.title},children:"More HUD Patterns"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[n.jsx(zie,{fx:t}),n.jsx(Gie,{fx:t}),n.jsx(Hie,{fx:t}),n.jsx(Wie,{fx:t}),n.jsx(qie,{fx:t}),n.jsx(Kie,{fx:t}),n.jsx(Qie,{fx:t}),n.jsx(Xie,{fx:t}),n.jsx(Yie,{fx:t}),n.jsx(Jie,{fx:t}),n.jsx(Zie,{fx:t}),n.jsx(eae,{fx:t}),n.jsx(tae,{fx:t}),n.jsx(nae,{fx:t}),n.jsx(sae,{fx:t}),n.jsx(rae,{fx:t})]})]})}),n.jsx(aae,{}),n.jsx("footer",{className:"text-center text-xs",style:{color:pe.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function aae(){return D.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Io.material),"Material type present");const e=qa(Io);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=H3({...Io,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Io[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(y0).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const o=i({...Io});console.assert(o&&typeof o=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Gd={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},Bw={Arcade:{...Gd,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Gd,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},$l={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},W3={display:"grid",gap:8,alignItems:"center"};function Vi({label:t,value:e,onChange:s}){return n.jsxs("label",{style:{...W3,gridTemplateColumns:"120px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"color",value:e,onChange:r=>s(r.target.value)})]})}function Sx({label:t,value:e,min:s,max:r,onChange:i}){return n.jsxs("label",{style:{...W3,gridTemplateColumns:"120px 1fr 70px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"range",min:s,max:r,value:e,onChange:o=>i(parseInt(o.target.value))}),n.jsx("input",{type:"number",min:s,max:r,value:e,onChange:o=>i(parseInt(o.target.value||"0"))})]})}function $w(){const[t,e]=se.useState(Gd),s=se.useRef(null),r=h=>{const p=s.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${h.gap}px`))};se.useEffect(()=>{r(t)},[t]);const i=h=>e(Bw[h]),o=()=>e(Gd),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme.json",p.click()},d=async h=>{const p=await h.text();e({...Gd,...JSON.parse(p)})};return n.jsxs("div",{ref:s,style:{color:"var(--text, #FFFFFF)"},children:[n.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Bw).map(h=>n.jsx("button",{style:$l,onClick:()=>i(h),children:h},h)),n.jsx("button",{style:$l,onClick:o,children:"Default"}),n.jsx("button",{style:$l,onClick:c,children:"Export JSON"}),n.jsxs("label",{style:{...$l,display:"inline-block"},children:["Import JSON",n.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&d(h.target.files[0]),style:{display:"none"}})]})]}),n.jsx(Vi,{label:"Page",value:t.page,onChange:h=>e(p=>({...p,page:h}))}),n.jsx(Vi,{label:"Tile",value:t.tile,onChange:h=>e(p=>({...p,tile:h}))}),n.jsx(Vi,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(p=>({...p,tileHover:h}))}),n.jsx(Vi,{label:"Nav",value:t.nav,onChange:h=>e(p=>({...p,nav:h}))}),n.jsx(Vi,{label:"Active",value:t.active,onChange:h=>e(p=>({...p,active:h}))}),n.jsx(Vi,{label:"Text",value:t.text,onChange:h=>e(p=>({...p,text:h}))}),n.jsx(Vi,{label:"Text Soft",value:t.textSoft,onChange:h=>e(p=>({...p,textSoft:h}))}),n.jsx(Vi,{label:"Title",value:t.title,onChange:h=>e(p=>({...p,title:h}))}),n.jsx(Vi,{label:"Line",value:t.line,onChange:h=>e(p=>({...p,line:h}))}),n.jsx(Sx,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(p=>({...p,radius:h}))}),n.jsx(Sx,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(p=>({...p,shadow:h}))}),n.jsx(Sx,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(p=>({...p,gap:h}))})]}),n.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),n.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[n.jsx("button",{style:{...$l,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),n.jsx("button",{style:$l,children:"Secondary"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,p)=>n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[n.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),n.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const b0={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},Vw={"SFDataHub (Default)":{...b0},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Gm={display:"grid",gap:8,alignItems:"center"},ko={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},No={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function yr({label:t,value:e,onChange:s}){return n.jsxs("label",{style:{...Gm,gridTemplateColumns:"140px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"color",value:e,onChange:r=>s(r.target.value)})]})}function Oi({label:t,value:e,min:s,max:r,step:i=1,onChange:o,suffix:c}){return n.jsxs("label",{style:{...Gm,gridTemplateColumns:"140px 1fr 70px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"range",min:s,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value))}),n.jsx("input",{type:"number",min:s,max:r,step:i,value:e,onChange:d=>o(parseFloat(d.target.value||"0"))})]})}function oae({label:t,checked:e,onChange:s}){return n.jsxs("label",{style:{...Gm,gridTemplateColumns:"1fr 46px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"checkbox",checked:e,onChange:r=>s(r.target.checked)})]})}function Ow(){const[t,e]=se.useState(b0),s=se.useRef(null),r=p=>{const m=s.current;m&&(m.style.setProperty("--page",p.page),m.style.setProperty("--tile",p.tile),m.style.setProperty("--tile-hover",p.tileHover),m.style.setProperty("--nav",p.nav),m.style.setProperty("--active",p.active),m.style.setProperty("--text",p.text),m.style.setProperty("--text-soft",p.textSoft),m.style.setProperty("--title",p.title),m.style.setProperty("--line",p.line),m.style.setProperty("--accent",p.accent),m.style.setProperty("--success",p.success),m.style.setProperty("--warning",p.warning),m.style.setProperty("--danger",p.danger),m.style.setProperty("--radius",`${p.radius}px`),m.style.setProperty("--border",`${p.border}px`),m.style.setProperty("--gap",`${p.gap}px`),m.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),m.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),m.style.setProperty("--noise",`${p.noise}%`),m.style.setProperty("--font",p.fontFamily),m.style.setProperty("--font-size",`${p.fontSize}px`),m.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),m.style.setProperty("--glow",`${p.glow}`),m.style.setProperty("--scanlines",`${p.scanlines}`))};se.useEffect(()=>{r(t)},[t]);const i=(p,m)=>e(x=>({...x,[p]:m})),o=p=>e(m=>({...m,...Vw[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(p),m.download="sfdatahub-theme-pro.json",m.click()},d=async p=>{try{const m=await p.text(),x=JSON.parse(m);e({...t,...x})}catch(m){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return n.jsxs("div",{ref:s,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[n.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Vw).map(p=>n.jsx("button",{style:ko,onClick:()=>o(p),children:p},p)),n.jsx("button",{style:ko,onClick:()=>e(b0),children:"Reset"}),n.jsx("button",{style:ko,onClick:c,children:"Export"}),n.jsxs("label",{style:{...ko,display:"inline-block"},children:["Import",n.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(yr,{label:"Page",value:t.page,onChange:p=>i("page",p)}),n.jsx(yr,{label:"Tile",value:t.tile,onChange:p=>i("tile",p)}),n.jsx(yr,{label:"Tile Hover",value:t.tileHover,onChange:p=>i("tileHover",p)}),n.jsx(yr,{label:"Active",value:t.active,onChange:p=>i("active",p)}),n.jsx(yr,{label:"Text",value:t.text,onChange:p=>i("text",p)}),n.jsx(yr,{label:"Text Soft",value:t.textSoft,onChange:p=>i("textSoft",p)}),n.jsx(yr,{label:"Title",value:t.title,onChange:p=>i("title",p)}),n.jsx(yr,{label:"Line",value:t.line,onChange:p=>i("line",p)}),n.jsx(yr,{label:"Accent",value:t.accent,onChange:p=>i("accent",p)}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[n.jsx(yr,{label:"Success",value:t.success,onChange:p=>i("success",p)}),n.jsx(yr,{label:"Warning",value:t.warning,onChange:p=>i("warning",p)}),n.jsx(yr,{label:"Danger",value:t.danger,onChange:p=>i("danger",p)})]})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(Oi,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>i("radius",p)}),n.jsx(Oi,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>i("border",p)}),n.jsx(Oi,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>i("gap",p)}),n.jsx(Oi,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>i("shadow",p)}),n.jsx(Oi,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>i("surfaceOpacity",p),suffix:"%"}),n.jsx(Oi,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>i("noise",p),suffix:"%"})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsxs("label",{style:{...Gm,gridTemplateColumns:"140px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),n.jsx("input",{value:t.fontFamily,onChange:p=>i("fontFamily",p.target.value)})]}),n.jsx(Oi,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>i("fontSize",p)}),n.jsx(oae,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>i("headingsTight",p)})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(Oi,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>i("glow",p)}),n.jsx(Oi,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>i("scanlines",p)})]})]})]}),n.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[n.jsxs("span",{style:No,children:[n.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),n.jsx("span",{style:{...No,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),n.jsx("span",{style:{...No,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),n.jsx("span",{style:{...No,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),n.jsxs("span",{style:No,children:["Radius: ",t.radius]}),n.jsxs("span",{style:No,children:["Shadow: ",t.shadow]}),n.jsxs("span",{style:No,children:["Noise: ",t.noise,"%"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),n.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",n.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),n.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((p,m)=>n.jsxs("div",{style:{display:"grid",gap:4},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[n.jsx("span",{children:p.label}),n.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),n.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:n.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},m))}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[n.jsx("button",{style:{...ko,background:"var(--tile-hover)"},children:"Open Profile"}),n.jsx("button",{style:{...ko,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,m)=>n.jsx("button",{style:{...ko,background:m===0?"var(--tile-hover)":"transparent",borderColor:m===0?"var(--active)":"var(--line)",boxShadow:m===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,m)=>n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),n.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),n.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},m))}),n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[n.jsx("div",{style:{padding:10},children:"Attribute"}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,m)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:m%2?"rgba(255,255,255,.025)":"transparent"},children:[n.jsx("div",{style:{padding:10},children:p[0]}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),n.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},m))]})]})]}),n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Uw=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function lae(t=120){const e=[];for(let s=1;s<=t;s++)e.push({id:String(s),name:`Player ${s}`,className:Uw[s%Uw.length],level:200+s%50,guild:s%3===0?`Guild ${s%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const kx={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function zw(){const[t,e]=D.useState("rows"),[s,r]=D.useState(0),[i,o]=D.useState(""),[c,d]=D.useState(60),h=D.useMemo(()=>lae(240),[]),p=D.useMemo(()=>h.filter(m=>m.level>=s).filter(m=>m.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[h,s,i,c]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),n.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[n.jsxs("select",{value:t,onChange:m=>e(m.target.value),children:[n.jsx("option",{value:"rows",children:"Compact Rows"}),n.jsx("option",{value:"cards",children:"Card Grid"}),n.jsx("option",{value:"masonry",children:"Masonry"})]}),n.jsx("input",{placeholder:"Search",value:i,onChange:m=>o(m.target.value)}),n.jsxs("label",{children:["Min Level ",n.jsx("input",{type:"number",value:s,onChange:m=>r(parseInt(m.target.value||"0")),style:{marginLeft:8,width:90}})]}),n.jsxs("label",{children:["Limit ",n.jsx("input",{type:"number",value:c,onChange:m=>d(parseInt(m.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&n.jsx("div",{style:{...kx,padding:0,overflow:"hidden"},children:p.map(m=>{var x;return n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:700},children:[m.name," ",n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:m.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),n.jsx("div",{style:{fontSize:24,fontWeight:700},children:(x=m.kpi)==null?void 0:x.toFixed(1)})]})]},m.id)})}),t==="cards"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(m=>{var x;return n.jsxs("div",{style:kx,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:m.name}),n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:m.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]}),n.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[n.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),n.jsx("span",{style:{fontSize:24,fontWeight:700},children:(x=m.kpi)==null?void 0:x.toFixed(1)})]})]},m.id)})}),t==="masonry"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(m=>n.jsxs("div",{style:{...kx,height:140+parseInt(m.id)%3*40},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:m.name}),n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:m.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]}),n.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},m.id))})]})}function Gw(t=24){const e=[];for(let s=1;s<=t;s++)e.push({id:String(s),name:`Player ${s}`,server:`EU${1+s%3}`,lastScanMinsAgo:60+s*7%240});return e}function Hw(){const[t,e]=D.useState(120),[s,r]=D.useState(()=>Gw(24));D.useEffect(()=>{const o=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),h=[...c];return h[d]={...h[d],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(o)},[]),D.useEffect(()=>{const o=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(o)},[]);const i=D.useMemo(()=>s.filter(o=>o.lastScanMinsAgo>t),[s,t]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),n.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[n.jsxs("label",{children:["Freshness TTL (min) ",n.jsx("input",{type:"number",value:t,onChange:o=>e(parseInt(o.target.value||"0")),style:{marginLeft:8,width:100}})]}),n.jsx("button",{onClick:()=>r(Gw(24)),children:"Reset Demo Data"})]}),n.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),n.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[n.jsx("div",{children:"Player"}),n.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(o=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[n.jsxs("div",{children:[o.name," ",n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:o.server})]}),n.jsxs("div",{style:{width:180,textAlign:"right"},children:[o.lastScanMinsAgo," min ago"]})]},o.id)),i.length===0&&n.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function cae(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),s=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:s}}function Ww(){const[t,e]=D.useState("idle"),[s,r]=D.useState(null),[i,o]=D.useState(!1),c=D.useCallback(async d=>{var p;d.preventDefault(),o(!1);const h=(p=d.dataTransfer.files)==null?void 0:p[0];if(h){e("validating");try{const m=await h.text(),{isHar:x,isSf:v}=cae(m);if(e("parsing"),await new Promise(w=>setTimeout(w,600)),!x&&!v){e("error"),r({isHar:x,isSf:v,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:x,isSf:v,sizeKB:Math.round(h.size/1024),summary:`Detected: ${x?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(m.length/2500)} (rough).`})}catch(m){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(m==null?void 0:m.message)||"Parse failed"})}}},[]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),n.jsx("div",{onDragOver:d=>{d.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),n.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),n.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",t]}),s?n.jsxs("ul",{children:[n.jsxs("li",{children:["isHar: ",String(s.isHar)]}),n.jsxs("li",{children:["isSf: ",String(s.isSf)]}),n.jsxs("li",{children:["sizeKB: ",s.sizeKB]}),s.error&&n.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",s.error]}),s.summary&&n.jsxs("li",{children:["summary: ",s.summary]})]}):n.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const dae="_wrap_hxkkn_3",uae="_left_hxkkn_17",hae="_right_hxkkn_25",pae="_canvasCard_hxkkn_33",mae="_hint_hxkkn_83",fae="_panel_hxkkn_95",gae="_panelTitle_hxkkn_109",xae="_panelBody_hxkkn_121",Ui={wrap:dae,left:uae,right:hae,canvasCard:pae,hint:mae,panel:fae,panelTitle:gae,panelBody:xae},vae=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],yae=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function bae(){const[t,e]=D.useState("Canvas ist vorbereitet (526526)."),s=D.useRef(null),[r,i]=D.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[o,c]=D.useState(!0);D.useEffect(()=>{const m=document.getElementById("PortraitCanvas");if(!m){e("Fehler: Canvas nicht gefunden.");return}try{s.current&&typeof s.current.dispose=="function"&&s.current.dispose()}catch(w){}let x=console.error;o&&(console.error=(...w)=>{var P;const N=String((P=w==null?void 0:w[0])!=null?P:"");N.includes("Failed to load URL")&&N.includes("PortraitMaker-res/portraits/")||x(...w)});let v=null;try{v=new cj(m,{...r}),s.current=v,e("Rendering")}catch(w){o&&(console.error=x),x("Error initializing PortraitMaker:",w),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{o&&(console.error=x),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{o&&(console.error=x)}}},[r,o]);const d=()=>{const m=document.getElementById("PortraitCanvas");if(!m)return;const x=m.toDataURL("image/png"),v=document.createElement("a");v.href=x,v.download="portrait.png",v.click()},h=m=>{i(x=>({...x,genderName:m,beard:m==="female"?0:x.beard}))},p=r.special!==0;return n.jsxs("div",{className:Ui.wrap,children:[n.jsx("div",{className:Ui.left,children:n.jsxs("div",{className:Ui.canvasCard,children:[n.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),n.jsx("div",{className:Ui.hint,children:t})]})}),n.jsx("div",{className:Ui.right,children:n.jsxs("div",{className:Ui.panel,children:[n.jsx("h2",{className:Ui.panelTitle,children:"Controls"}),n.jsx("div",{className:Ui.panelBody,children:n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",n.jsx("input",{type:"number",value:r.special,onChange:m=>i(x=>({...x,special:Number(m.target.value||0)})),style:{width:100}})]}),n.jsxs("fieldset",{disabled:p,style:{border:0,padding:0,margin:0},children:[n.jsxs("label",{children:["Gender:",n.jsxs("select",{value:r.genderName,onChange:m=>h(m.target.value),children:[n.jsx("option",{value:"male",children:"male"}),n.jsx("option",{value:"female",children:"female"})]})]}),n.jsxs("label",{children:["Class:",n.jsx("input",{type:"number",min:1,value:r.class,onChange:m=>i(x=>({...x,class:Number(m.target.value||0)})),style:{width:80}})]}),n.jsxs("label",{children:["Race:",n.jsx("input",{type:"number",min:1,value:r.race,onChange:m=>i(x=>({...x,race:Number(m.target.value||0)})),style:{width:80}})]})]}),n.jsxs("label",{children:["Background:",n.jsx("select",{value:r.background,onChange:m=>i(x=>({...x,background:m.target.value})),children:vae.map(m=>n.jsx("option",{value:m,children:m===""?"transparent":m},m))})]}),n.jsxs("label",{children:["Frame:",n.jsx("select",{value:r.frame,onChange:m=>i(x=>({...x,frame:m.target.value})),children:yae.map(m=>n.jsx("option",{value:m,children:m===""?"none":m},m))})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:m=>i(x=>({...x,showBorder:m.target.checked}))}),"showBorder"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:o,onChange:m=>c(m.target.checked)}),"Mute 404 logs (Playground)"]}),n.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:n.jsx("button",{onClick:d,children:"Export PNG"})}),p&&n.jsxs("div",{className:Ui.hint,children:["Hinweis: Bei ",n.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const _ae=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],wae=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],jae=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function Sae(){return n.jsx(St,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:n.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),n.jsx("ul",{className:"mt-2 space-y-2",children:_ae.map(t=>n.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[n.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),n.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[n.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),n.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),n.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:n.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),n.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:wae.map(t=>n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),n.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),n.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),n.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:jae.map(t=>n.jsx("li",{children:t},t))})]})]}),children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),n.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),n.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),n.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>n.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),n.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),n.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>n.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),n.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),n.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),n.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const kae={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function Nae(){return n.jsx(St,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:n.jsx("div",{className:"flex w-full justify-center pt-10",children:n.jsx(v3,{config:kae,label:"Playground Avatar"})})})}const Tae=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function Cae(){return n.jsx(St,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:n.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:Tae.map(t=>n.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),n.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),n.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const Eae="_avatarFrameMask_1pzs8_5",Aae="_avatarFrameOverlay_1pzs8_7",qw={avatarFrameMask:Eae,avatarFrameOverlay:Aae},Iae=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function Rae(){return n.jsx(St,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:n.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[n.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:Iae.map(t=>n.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),n.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),n.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),n.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:qw.avatarFrameMask,children:n.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:qw.avatarFrameOverlay,children:n.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const Pae=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function Lae(){return n.jsx(St,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:n.jsx("div",{className:"flex w-full flex-col gap-4",children:Pae.map(t=>n.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,n.jsx("span",{children:"Leer"})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),n.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function Dae(){return n.jsx(St,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),n.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),n.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),n.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},Mae={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Fae={maxWidth:1200,margin:"0 auto"},Bae={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function $ae(){return n.jsx("div",{style:Mae,children:n.jsxs("div",{style:Fae,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Bae,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),n.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",n.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),n.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const Vae={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Oae={maxWidth:1200,margin:"0 auto"},Uae={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function zae(){return n.jsx("div",{style:Vae,children:n.jsxs("div",{style:Oae,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Uae,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("label",{children:["Upload JSON ",n.jsx("input",{type:"file",accept:".json"})]}),n.jsxs("label",{children:["Upload CSV ",n.jsx("input",{type:"file",accept:".csv"})]})]}),n.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const Gae={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hae={maxWidth:1200,margin:"0 auto"},Wae={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function qae(){return n.jsx("div",{style:Gae,children:n.jsxs("div",{style:Hae,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Wae,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const Kae={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Qae={maxWidth:1200,margin:"0 auto"},Xae={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Yae(){return n.jsx("div",{style:Kae,children:n.jsxs("div",{style:Qae,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Xae,children:[n.jsxs("div",{style:{display:"flex",gap:12},children:[n.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Jae={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Zae={maxWidth:1200,margin:"0 auto"},eoe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function toe(){return n.jsx("div",{style:Jae,children:n.jsxs("div",{style:Zae,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:eoe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[n.jsx("b",{style:{color:Y.title},children:"Ravens"}),n.jsx("span",{children:"Avg Lvl 465"}),n.jsx("span",{children:"Fresh scans 82%"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[n.jsx("b",{style:{color:Y.title},children:"Arcana"}),n.jsx("span",{children:"Avg Lvl 458"}),n.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const noe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},soe={maxWidth:1200,margin:"0 auto"},roe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ioe(){return n.jsx("div",{style:noe,children:n.jsxs("div",{style:soe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:roe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const aoe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ooe={maxWidth:1200,margin:"0 auto"},loe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function coe(){return n.jsx("div",{style:aoe,children:n.jsxs("div",{style:ooe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:loe,children:[n.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>n.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),n.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[n.jsx("b",{style:{color:Y.title},children:t.name}),n.jsx("span",{children:t.delta}),n.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const doe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},uoe={maxWidth:1200,margin:"0 auto"},hoe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function poe(){return n.jsx("div",{style:doe,children:n.jsxs("div",{style:uoe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsx("div",{style:hoe,children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const moe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},foe={maxWidth:1200,margin:"0 auto"},goe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function xoe(){return n.jsx("div",{style:moe,children:n.jsxs("div",{style:foe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:goe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),n.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const voe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},yoe={maxWidth:1200,margin:"0 auto"},boe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function _oe(){return n.jsx("div",{style:voe,children:n.jsxs("div",{style:yoe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsx("div",{style:boe,children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Shadow Bow "}),n.jsx("li",{children:"Mythic Ring "})]})]}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"Pets"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Firewolf 4/5"}),n.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const woe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},joe={maxWidth:1200,margin:"0 auto"},Soe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function koe(){return n.jsx("div",{style:woe,children:n.jsxs("div",{style:joe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Soe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Noe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Toe={maxWidth:1200,margin:"0 auto"},Coe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Eoe(){return n.jsx("div",{style:Noe,children:n.jsxs("div",{style:Toe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Coe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const Aoe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ioe={maxWidth:1200,margin:"0 auto"},Roe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Poe(){return n.jsx("div",{style:Aoe,children:n.jsxs("div",{style:Ioe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Roe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),n.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[n.jsx("span",{children:"Category"}),n.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[n.jsx("option",{children:"UI"}),n.jsx("option",{children:"Data"}),n.jsx("option",{children:"Bug"})]})]}),n.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[n.jsx("span",{children:"Message"}),n.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),n.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const Loe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Doe={maxWidth:1200,margin:"0 auto"},Moe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Foe(){return n.jsx("div",{style:Loe,children:n.jsxs("div",{style:Doe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Moe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),n.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("span",{children:t}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),n.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const Boe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},$oe={maxWidth:1200,margin:"0 auto"},Voe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ooe(){return n.jsx("div",{style:Boe,children:n.jsxs("div",{style:$oe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Voe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Step highlights"}),n.jsx("li",{children:"Progress bar"}),n.jsx("li",{children:"Badges"})]})]})})]})})}const Uoe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},zoe={maxWidth:1200,margin:"0 auto"},Goe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Hoe(){return n.jsx("div",{style:Uoe,children:n.jsxs("div",{style:zoe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Goe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),n.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"How to import HAR?"}),n.jsx("li",{children:"What data is stored?"})]})]})})]})})}const Woe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},qoe={maxWidth:1200,margin:"0 auto"},Koe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Qoe(){return n.jsx("div",{style:Woe,children:n.jsxs("div",{style:qoe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Koe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[n.jsxs("label",{children:["Language",n.jsxs("select",{style:{marginLeft:8},children:[n.jsx("option",{children:"EN"}),n.jsx("option",{children:"DE"})]})]}),n.jsxs("label",{children:["Theme",n.jsxs("select",{style:{marginLeft:8},children:[n.jsx("option",{children:"Dark"}),n.jsx("option",{children:"Custom"})]})]}),n.jsxs("label",{children:["Notifications",n.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),n.jsxs("label",{children:["Privacy",n.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const Xoe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Yoe={maxWidth:1200,margin:"0 auto"},Joe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Zoe(){return n.jsx("div",{style:Xoe,children:n.jsxs("div",{style:Yoe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Joe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),n.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:n.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),n.jsxs("label",{style:{marginTop:8},children:[n.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const ele={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},tle={maxWidth:1200,margin:"0 auto"},nle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function sle(){return n.jsx("div",{style:ele,children:n.jsxs("div",{style:tle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:nle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),n.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const rle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ile={maxWidth:1200,margin:"0 auto"},ale={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ole(){return n.jsx("div",{style:rle,children:n.jsxs("div",{style:ile,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:ale,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[n.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),n.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const lle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},cle={maxWidth:1200,margin:"0 auto"},dle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ule(){return n.jsx("div",{style:lle,children:n.jsxs("div",{style:cle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:dle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[n.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),n.jsxs("div",{children:[n.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),n.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),n.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const hle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ple={maxWidth:1200,margin:"0 auto"},mle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function fle(){return n.jsx("div",{style:hle,children:n.jsxs("div",{style:ple,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:mle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[n.jsx("b",{style:{color:Y.title},children:"View source"}),n.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const gle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},xle={maxWidth:1200,margin:"0 auto"},vle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function yle(){return n.jsx("div",{style:gle,children:n.jsxs("div",{style:xle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:vle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx("div",{children:"Install/Enable check"}),n.jsx("div",{children:"Events preview"})]})]})})]})})}const ble={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},_le={maxWidth:1200,margin:"0 auto"},wle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function jle(){return n.jsx("div",{style:ble,children:n.jsxs("div",{style:_le,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:wle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),n.jsx("div",{children:"Tabs, widths, locales"})]}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"JSON API"}),n.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Sle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},kle={maxWidth:1200,margin:"0 auto"},Nle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Tle(){return n.jsx("div",{style:Sle,children:n.jsxs("div",{style:kle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Nle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),n.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Cle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ele={maxWidth:1200,margin:"0 auto"},Ale={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ile(){return n.jsx("div",{style:Cle,children:n.jsxs("div",{style:Ele,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Ale,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[n.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),n.jsxs("select",{children:[n.jsx("option",{children:"Active"}),n.jsx("option",{children:"Disabled"})]}),n.jsx("button",{children:"Add"})]})]})})]})})}const Rle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ple={maxWidth:1200,margin:"0 auto"},Lle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Dle(){return n.jsx("div",{style:Rle,children:n.jsxs("div",{style:Ple,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Lle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),n.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const Mle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Fle={maxWidth:1200,margin:"0 auto"},Ble={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function $le(){return n.jsx("div",{style:Mle,children:n.jsxs("div",{style:Fle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Ble,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[n.jsx("span",{children:"Beta: New Rankings"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox",defaultChecked:!0})}),n.jsx("span",{children:"Widgets v2"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox"})})]})]})})]})})}const Vle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ole={maxWidth:1200,margin:"0 auto"},Ule={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function zle(){return n.jsx("div",{style:Vle,children:n.jsxs("div",{style:Ole,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Ule,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),n.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Gle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hle={maxWidth:1200,margin:"0 auto"},Wle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function qle(){return n.jsx("div",{style:Gle,children:n.jsxs("div",{style:Hle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Wle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),n.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const Kle={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Qle={maxWidth:1200,margin:"0 auto"},Xle={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Yle(){return n.jsx("div",{style:Kle,children:n.jsxs("div",{style:Qle,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Xle,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"Focus ring visible"}),n.jsx("li",{children:"Skip links"}),n.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Jle="_backdrop_19xh2_1",Zle="_panel_19xh2_19",ece="_header_19xh2_43",tce="_tabs_19xh2_63",nce="_tabBtn_19xh2_75",sce="_tabActive_19xh2_97",rce="_closeBtn_19xh2_101",ice="_content_19xh2_123",pi={backdrop:Jle,panel:Zle,header:ece,tabs:tce,tabBtn:nce,tabActive:sce,closeBtn:rce,content:ice},Pp=t=>String(t!=null?t:"").trim(),Ia=t=>Pp(t).toUpperCase(),Mt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Lp=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),Kw=t=>{const e=Lp(t);if(!e)return[];const s=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(s))},Qw=t=>{const e=new Set;for(const s of t)for(let r=1;r<=s.length;r++)e.add(s.slice(0,r));return Array.from(e)},Nx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},it={PLAYERS:{IDENTIFIER:Mt("Identifier"),PID:Mt("ID"),GUILD_IDENTIFIER:Mt("Guild Identifier"),SERVER:Mt("Server"),NAME:Mt("Name"),TIMESTAMP:Mt("Timestamp"),LEVEL:Mt("Level"),CLASS:Mt("Class"),GUILD:Mt("Guild")},GUILDS:{GUILD_IDENTIFIER:Mt("Guild Identifier"),SERVER:Mt("Server"),NAME:Mt("Name"),MEMBER_COUNT:Mt("Guild Member Count"),TIMESTAMP:Mt("Timestamp"),HOF:Mt("Hall of Fame Rank"),HOF_ALT:Mt("HoF"),RANK:Mt("Rank"),GUILD_RANK:Mt("Guild Rank")}},ace=new Set([Mt("Strength"),Mt("Dexterity"),Mt("Intelligence"),Mt("Constitution"),Mt("Luck"),Mt("Attribute")]),oce=["equipment"],lce=t=>ace.has(t)||oce.some(e=>t.includes(e)),ut=(t,e)=>{for(const s of Object.keys(t))if(Mt(s)===e)return t[s]},cce=(t,e)=>e.map(s=>ut(t,s)).find(s=>s!=null&&String(s)!=="");function dm(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(s){const i=Number(s[1]),o=Number(s[2])-1,c=Number(s[3]),d=Number(s[4]),h=Number(s[5]),p=s[6]?Number(s[6]):0,m=new Date(c,o,i,d,h,p);if(!Number.isNaN(m.getTime()))return Math.floor(m.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function Xw(t){const e=new Date(t*1e3),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-r);const i=new Date(Date.UTC(s.getUTCFullYear(),0,1)),o=Math.ceil(((+s-+i)/864e5+1)/7),c=s.getUTCFullYear(),d=o.toString().padStart(2,"0");return`${c}-W${d}`}function Yw(t){const e=new Date(t*1e3),s=new Date(e),r=(s.getDay()+6)%7;s.setHours(0,0,0,0),s.setDate(s.getDate()-r);const i=Math.floor(s.getTime()/1e3),o=i+7*86400-1;return{start:i,end:o}}function Jw(t){const e=new Date(t*1e3),s=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${s}-${r}`}function Zw(t){const e=new Date(t*1e3),s=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(s.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function dce(t){const e=[",",";","	","|"];let s=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(s=i,r=o)}return s}function uce(t){var h;const s=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!s.length)return{headers:[],rows:[]};const r=dce((h=s[0])!=null?h:""),i=p=>{const m=[];let x="",v=!1;for(let w=0;w<p.length;w++){const N=p[w];N==='"'?v&&p[w+1]==='"'?(x+='"',w++):v=!v:N===r&&!v?(m.push(x),x=""):x+=N}return m.push(x),m},c=(s[0]?i(s[0]).map(Pp):[]).map((p,m)=>p||`col${m}`),d=[];for(let p=1;p<s.length;p++){if(!s[p])continue;const m=i(s[p]);if(m.every(v=>Pp(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=m[v]!=null?Pp(m[v]):"";d.push(x)}return{headers:c,rows:d}}const ej=120,tj=40,nj=120;async function Vl(t,e,s,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:s});for(let i=0;i<t.length;i+=e){const o=FI(jt),c=t.slice(i,i+e);for(const d of c)d(o);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:s}),await o.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:s})}function vp(t,e){const s={};for(const r of e){const i=Mt(r);if(lce(i)){let o=null,c;for(const d of t){const h=d.row[r];if(h==null||h==="")continue;const p=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(o==null||p>o)&&(o=p,c=h)}s[r]=c!=null?c:""}else{let o="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){o=d;break}}s[r]=o}}return s}async function sj(t){var i;const e=await tr(t);if(!e.exists())return 0;const s=e.data();if(((i=s==null?void 0:s.values)==null?void 0:i.Timestamp)!=null){const o=dm(s.values.Timestamp);if(o!=null)return o}if((s==null?void 0:s.timestampRaw)!=null){const o=dm(s.timestampRaw);if(o!=null)return o}if(typeof(s==null?void 0:s.ts)=="number")return s.ts;const r=s==null?void 0:s.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const o=Date.parse(r);return Number.isFinite(o)?Math.floor(o/1e3):0}return 0}async function rj(t,e){var m,x,v,w,N;const s=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],o={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=uce(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const P of c)Object.keys(P).forEach(R=>d.add(R));const h=Array.from(d);if(e.kind==="players"){const P=[],R=[],O=[],B=new Map;for(const E of c){const y=(m=ut(E,it.PLAYERS.PID))!=null?m:ut(E,it.PLAYERS.IDENTIFIER),j=String(y!=null?y:"").trim();if(!j){o.skippedMissingIdentifier++;continue}const M=dm(ut(E,it.PLAYERS.TIMESTAMP));if(M==null){o.skippedBadTs++;continue}const T=(()=>{const _=ut(E,it.PLAYERS.SERVER);return _&&String(_).trim()!==""?Ia(_):void 0})();if(!T){o.skippedMissingServer++;continue}P.push(_=>{const C=ln(jt,`players/${j}/scans/${M}`);_.set(C,{playerId:j,server:T,timestamp:M,timestampRaw:ut(E,it.PLAYERS.TIMESTAMP),name:ut(E,it.PLAYERS.NAME)||null,values:E,createdAt:Hi()},{merge:!0})}),o.writtenScanPlayers++,B.has(j)||B.set(j,[]),B.get(j).push({row:E,ts:M})}for(const[E,y]of B){y.sort((W,ne)=>W.ts-ne.ts);const j=y[y.length-1],M=Ia(ut(j.row,it.PLAYERS.SERVER)||""),T=ut(j.row,it.PLAYERS.NAME)||null,_=ut(j.row,it.PLAYERS.LEVEL),C=ut(j.row,it.PLAYERS.CLASS),L=ut(j.row,it.PLAYERS.GUILD),A=(v=(x=ut(j.row,it.PLAYERS.NAME))!=null?x:T)!=null?v:"",V=Kw(A),F=Qw(V),K=ln(jt,`players/${E}/latest/latest`),z=await sj(K);j.ts>z&&(R.push(W=>{W.set(K,{playerId:E,server:M,timestamp:j.ts,timestampRaw:ut(j.row,it.PLAYERS.TIMESTAMP),name:T,values:j.row,updatedAt:Hi(),nameFold:Lp(A),nameTokens:V,nameNgrams:F,level:Nx(_),className:C!=null&&String(C).trim()!==""?String(C):null,guildName:L!=null&&String(L).trim()!==""?String(L):null,guildNameFold:L?Lp(L):null},{merge:!0})}),o.writtenLatestPlayers++);const q=new Map,H=new Map;for(const W of y){const ne=Xw(W.ts),re=Jw(W.ts);q.has(ne)||q.set(ne,[]),H.has(re)||H.set(re,[]),q.get(ne).push(W),H.get(re).push(W)}for(const[W,ne]of q){ne.sort((ue,ee)=>ue.ts-ee.ts);const re=vp(ne,h),G=Yw(ne[ne.length-1].ts),Z=ne[ne.length-1];O.push(ue=>{const ee=ln(jt,`players/${E}/history_weekly/${W}`);ue.set(ee,{playerId:E,weekId:W,periodStartSec:G.start,periodEndSec:G.end,lastTs:Z.ts,lastTimestampRaw:ut(Z.row,it.PLAYERS.TIMESTAMP),server:Ia(ut(Z.row,it.PLAYERS.SERVER)||""),name:ut(Z.row,it.PLAYERS.NAME)||null,values:re,updatedAt:Hi()},{merge:!0})}),o.writtenWeeklyPlayers++}for(const[W,ne]of H){ne.sort((ue,ee)=>ue.ts-ee.ts);const re=vp(ne,h),G=Zw(ne[ne.length-1].ts),Z=ne[ne.length-1];O.push(ue=>{const ee=ln(jt,`players/${E}/history_monthly/${W}`);ue.set(ee,{playerId:E,monthId:W,periodStartSec:G.start,periodEndSec:G.end,lastTs:Z.ts,lastTimestampRaw:ut(Z.row,it.PLAYERS.TIMESTAMP),server:Ia(ut(Z.row,it.PLAYERS.SERVER)||""),name:ut(Z.row,it.PLAYERS.NAME)||null,values:re,updatedAt:Hi()},{merge:!0})}),o.writtenMonthlyPlayers++}}await Vl(P,ej,"scans",e.onProgress),await Vl(R,tj,"latest",e.onProgress),await Vl(O,nj,"history",e.onProgress)}if(e.kind==="guilds"){const P=[],R=[],O=[],B=new Map;for(const E of c){const y=String((w=ut(E,it.GUILDS.GUILD_IDENTIFIER))!=null?w:"").trim();if(!y){o.skippedMissingGuildIdentifier++;continue}const j=dm(ut(E,it.GUILDS.TIMESTAMP));if(j==null){o.skippedBadTsGuild++;continue}const M=(()=>{const T=ut(E,it.GUILDS.SERVER);return T&&String(T).trim()!==""?Ia(T):void 0})();if(!M){o.skippedMissingServer++;continue}P.push(T=>{const _=ln(jt,`guilds/${y}/scans/${j}`);T.set(_,{guildIdentifier:y,server:M,timestamp:j,timestampRaw:ut(E,it.GUILDS.TIMESTAMP),name:ut(E,it.GUILDS.NAME)||null,values:E,createdAt:Hi()},{merge:!0})}),o.writtenScanGuilds++,B.has(y)||B.set(y,[]),B.get(y).push({row:E,ts:j})}for(const[E,y]of B){y.sort((z,q)=>z.ts-q.ts);const j=y[y.length-1],M=(N=ut(j.row,it.GUILDS.NAME))!=null?N:"",T=Kw(M),_=Qw(T),C=Nx(ut(j.row,it.GUILDS.MEMBER_COUNT)),L=Nx(cce(j.row,[it.GUILDS.HOF,it.GUILDS.HOF_ALT,it.GUILDS.RANK,it.GUILDS.GUILD_RANK])),A=ln(jt,`guilds/${E}/latest/latest`),V=await sj(A);j.ts>V&&(R.push(z=>{z.set(A,{guildIdentifier:E,server:Ia(ut(j.row,it.GUILDS.SERVER)||""),timestamp:j.ts,timestampRaw:ut(j.row,it.GUILDS.TIMESTAMP),name:ut(j.row,it.GUILDS.NAME)||null,values:j.row,updatedAt:Hi(),nameFold:Lp(M),nameTokens:T,nameNgrams:_,memberCount:C,hofRank:L},{merge:!0})}),o.writtenLatestGuilds++);const F=new Map,K=new Map;for(const z of y){const q=Xw(z.ts),H=Jw(z.ts);F.has(q)||F.set(q,[]),K.has(H)||K.set(H,[]),F.get(q).push(z),K.get(H).push(z)}for(const[z,q]of F){q.sort((re,G)=>re.ts-G.ts);const H=vp(q,h),W=Yw(q[q.length-1].ts),ne=q[q.length-1];O.push(re=>{const G=ln(jt,`guilds/${E}/history_weekly/${z}`);re.set(G,{guildIdentifier:E,weekId:z,periodStartSec:W.start,periodEndSec:W.end,lastTs:ne.ts,lastTimestampRaw:ut(ne.row,it.GUILDS.TIMESTAMP),server:Ia(ut(ne.row,it.GUILDS.SERVER)||""),name:ut(ne.row,it.GUILDS.NAME)||null,values:H,updatedAt:Hi()},{merge:!0})}),o.writtenWeeklyGuilds++}for(const[z,q]of K){q.sort((re,G)=>re.ts-G.ts);const H=vp(q,h),W=Zw(q[q.length-1].ts),ne=q[q.length-1];O.push(re=>{const G=ln(jt,`guilds/${E}/history_monthly/${z}`);re.set(G,{guildIdentifier:E,monthId:z,periodStartSec:W.start,periodEndSec:W.end,lastTs:ne.ts,lastTimestampRaw:ut(ne.row,it.GUILDS.TIMESTAMP),server:Ia(ut(ne.row,it.GUILDS.SERVER)||""),name:ut(ne.row,it.GUILDS.NAME)||null,values:H,updatedAt:Hi()},{merge:!0})}),o.writtenMonthlyGuilds++}}await Vl(P,ej,"scans",e.onProgress),await Vl(R,tj,"latest",e.onProgress),await Vl(O,nj,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:o,errors:r,warnings:i,durationMs:p-s}}const Ze=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),hce=t=>String(t!=null?t:"").trim(),_0=t=>hce(t).toUpperCase(),w0=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function is(t,e){for(const s of Object.keys(t))if(Ze(s)===e)return t[s]}function zi(t,e){for(const s of e){const r=is(t,s);if(r!=null&&String(r)!=="")return r}}function To(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function sc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(s){const i=Number(s[1]),o=Number(s[2])-1,c=Number(s[3]),d=Number(s[4]),h=Number(s[5]),p=s[6]?Number(s[6]):0,m=new Date(c,o,i,d,h,p);if(!Number.isNaN(m.getTime()))return Math.floor(m.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const vn={GUILD_IDENTIFIER:Ze("Guild Identifier"),SERVER:Ze("Server"),NAME:Ze("Name"),TIMESTAMP:Ze("Timestamp"),LEVEL:Ze("Level"),CLASS:Ze("Class"),GUILD:Ze("Guild"),GUILD_ROLE:[Ze("Role"),Ze("Guild Role")],TREASURY:[Ze("Treasury"),Ze("Fortress Treasury"),Ze("Treasury Level"),Ze("Festungsschatzkammer")],MINE:[Ze("Mine"),Ze("Gem Mine"),Ze("Mine Level"),Ze("Festungsmine")],BASE_MAIN:[Ze("Base"),Ze("Base Attribute"),Ze("BaseMain"),Ze("Basis Attribut")],CON_BASE:[Ze("Con Base"),Ze("Constitution Base"),Ze("Base Constitution"),Ze("Basis Konstitution"),Ze("conbase")],ATTR_TOT:[Ze("Attribute"),Ze("Attr Total"),Ze("Attribut"),Ze("Attribut Gesamt")],CON_TOT:[Ze("Constitution"),Ze("Constitution Total"),Ze("Konstitution"),Ze("Konstitution Gesamt")],LAST_ACTIVE:[Ze("Last Active"),Ze("LastActivity"),Ze("Letzte Aktivitt")],GUILD_JOINED:[Ze("Guild Joined"),Ze("Joined Guild"),Ze("Gildenbeitritt")]},Dp={GUILD_IDENTIFIER:Ze("Guild Identifier"),SERVER:Ze("Server"),NAME:Ze("Name")};function ij(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function pce(t){let e=5381;for(let s=0;s<t.length;s++)e=e*33^t.charCodeAt(s);return(e>>>0).toString(36)}function mce(t){var s;const e=new Map;for(const r of t){const i=String((s=is(r,Dp.GUILD_IDENTIFIER))!=null?s:"").trim(),o=is(r,Dp.SERVER),c=is(r,Dp.NAME);if(!i||!o||!c)continue;const d=`${_0(o)}__${w0(String(c))}`;e.set(d,i)}return e}function fce(t){var E,y;const e=is(t,vn.TIMESTAMP),s=sc(e),r=zi(t,vn.LAST_ACTIVE),i=sc(r),o=zi(t,vn.GUILD_JOINED),c=sc(o),d=To(is(t,vn.LEVEL)),h=(()=>{const j=is(t,vn.CLASS);return j!=null&&String(j).trim()!==""?String(j):null})(),p=(()=>{const j=zi(t,vn.GUILD_ROLE);return j!=null&&String(j).trim()!==""?String(j):null})(),m=To(zi(t,vn.TREASURY)),x=To(zi(t,vn.MINE)),v=To(zi(t,vn.BASE_MAIN)),w=To(zi(t,vn.CON_BASE)),N=To(zi(t,vn.ATTR_TOT)),P=To(zi(t,vn.CON_TOT)),R=v!=null&&w!=null?v+w:null,O=N!=null&&P!=null?N+P:null,B=(()=>{const j=is(t,vn.NAME);return j!=null&&String(j).trim()!==""?String(j):null})();return{id:String((y=(E=t==null?void 0:t.ID)!=null?E:t==null?void 0:t.Identifier)!=null?y:""),name:B,class:h,role:p,level:d,treasury:m,mine:x,baseMain:v,conBase:w,sumBaseTotal:R,attrTotal:N,conTotal:P,totalStats:O,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:s!=null?s*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:o!=null?String(o):null,guildJoinedMs:c!=null?c*1e3:null}}function Gi(t,e){const s=t.map(r=>r[e]).filter(r=>typeof r=="number");return s.length?s.reduce((r,i)=>r+i,0)/s.length:null}async function gce(t){var c,d,h;const e=ln(jt,`guilds/${t}/latest/latest`),s=await tr(e);if(!s.exists())return{sec:null,raw:null};const r=s.data()||{},i=(h=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let o=null;return typeof r.timestamp=="number"?o=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(o=sc(i)),{sec:o,raw:i}}async function xce(t){const e=ln(jt,`guilds/${t}/snapshots/members_summary`),s=await tr(e);if(!s.exists())return 0;const r=s.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=sc(r.updatedAt);if(i!=null)return i}return 0}async function vce(t,e){var o,c,d,h,p,m,x;const s=mce(e||[]),r=new Set;for(const v of e||[]){const w=String((o=is(v,Dp.GUILD_IDENTIFIER))!=null?o:"").trim();w&&r.add(w)}for(const v of t||[]){const w=is(v,vn.SERVER);let N=String((c=is(v,vn.GUILD_IDENTIFIER))!=null?c:"").trim();if(!N){const P=(d=is(v,vn.GUILD))!=null?d:v.Guild;if(P&&w){const R=`${_0(w)}__${w0(String(P))}`,O=s.get(R);O&&(N=O)}}N&&r.add(N)}let i=0;for(const v of r){const{sec:w,raw:N}=await gce(v);if(w==null)continue;const P=await xce(v);if(w<=P)continue;const R=new Map;for(const z of t||[]){const q=is(z,vn.SERVER);let H=String((h=is(z,vn.GUILD_IDENTIFIER))!=null?h:"").trim();if(!H){const re=(p=is(z,vn.GUILD))!=null?p:z.Guild;if(re&&q){const G=`${_0(q)}__${w0(String(re))}`,Z=s.get(G);Z&&(H=Z)}}if(H!==v)continue;const W=sc(is(z,vn.TIMESTAMP));if(W==null||W!==w)continue;const ne=String((x=(m=z==null?void 0:z.ID)!=null?m:z==null?void 0:z.Identifier)!=null?x:"").trim();ne&&(R.has(ne)||R.set(ne,z))}const O=Array.from(R.values()),B=[];for(const z of O)B.push(fce(z));B.sort((z,q)=>{var ne,re;const H=ij(z.role),W=ij(q.role);return H!==W?H-W:((ne=z.name)!=null?ne:"").toLowerCase().localeCompare(((re=q.name)!=null?re:"").toLowerCase())});const E=Gi(B,"level"),y=Gi(B,"treasury"),j=Gi(B,"mine"),M=Gi(B,"baseMain"),T=Gi(B,"conBase"),_=Gi(B,"sumBaseTotal"),C=Gi(B,"attrTotal"),L=Gi(B,"conTotal"),A=Gi(B,"totalStats"),V=JSON.stringify({gid:v,tsSec:w,members:B.map(z=>{var q,H,W,ne,re,G,Z,ue,ee,fe,Te,me,Ee;return{id:z.id,name:(q=z.name)!=null?q:"",class:(H=z.class)!=null?H:"",role:(W=z.role)!=null?W:"",level:(ne=z.level)!=null?ne:null,treasury:(re=z.treasury)!=null?re:null,mine:(G=z.mine)!=null?G:null,baseMain:(Z=z.baseMain)!=null?Z:null,conBase:(ue=z.conBase)!=null?ue:null,sumBaseTotal:(ee=z.sumBaseTotal)!=null?ee:null,attrTotal:(fe=z.attrTotal)!=null?fe:null,conTotal:(Te=z.conTotal)!=null?Te:null,totalStats:(me=z.totalStats)!=null?me:null,guildJoinedMs:(Ee=z.guildJoinedMs)!=null?Ee:null}})}),F=pce(V),K=ln(jt,`guilds/${v}/snapshots/members_summary`);await qp(K,{guildId:v,count:B.length,updatedAt:N!=null?N:String(w),updatedAtMs:w*1e3,hash:F,avgLevel:E,avgTreasury:y,avgMine:j,avgBaseMain:M,avgConBase:T,avgSumBaseTotal:_,avgAttrTotal:C,avgConTotal:L,avgTotalStats:A,members:B,updatedAtServer:Hi()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function yce(t){const e=new Date(t),s=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${s}-${r}`}async function bce(t,e,s,r){var h,p,m;const i=ln(jt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),o=await tr(i);if(!o.exists())return await qp(i,s,{merge:!1}),{first:s,firstTsMs:(h=s.updatedAtMs)!=null?h:s.timestamp?s.timestamp*1e3:r};const c=o.data(),d=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<d?(await qp(i,s,{merge:!1}),{first:s,firstTsMs:(m=s.updatedAtMs)!=null?m:s.timestamp?s.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function _ce(t,e,s){const r=ln(jt,`guilds/${t}/history_monthly/${e}`);await qp(r,s,{merge:!0})}function wce(t){var B,E,y,j,M,T,_,C,L,A,V,F,K;const{guildId:e,monthKey:s,server:r,first:i,firstTsMs:o,latest:c,latestTsMs:d}=t,h=o!=null?Math.floor((d-o)/864e5):null,p=h!=null&&h<=40,m={available:p};p||(m.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const x={meta:{monthKey:s,label:new Date(`${s}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:o?new Date(o).toISOString():null,toISO:new Date(d).toISOString(),fromTs:o?Math.floor(o/1e3):null,toTs:Math.floor(d/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:m};if(!p||!i)return x;const v=new Map;for(const z of i.members||[])z.playerId&&v.set(z.playerId,z);const w=[],N=[],P=[],R=[],O=[];for(const z of c.members||[]){if(!z.playerId)continue;const q=v.get(z.playerId)||null,H=(B=z.sumBaseTotal)!=null?B:null,W=(E=q==null?void 0:q.sumBaseTotal)!=null?E:null,ne=H!=null&&W!=null?H-W:0,re=(y=z.totalStats)!=null?y:null,G=(j=q==null?void 0:q.totalStats)!=null?j:null,Z=re!=null&&G!=null?re-G:0;w.push({playerId:z.playerId,name:(M=z.name)!=null?M:null,class:(T=z.class)!=null?T:null,levelLatest:(_=z.level)!=null?_:null,baseLatest:H,baseDelta:ne}),N.push({playerId:z.playerId,name:(C=z.name)!=null?C:null,base:H,stamDelta:null,shoDelta:null}),P.push({playerId:z.playerId,name:(L=z.name)!=null?L:null,stats:H,delta:ne}),R.push({playerId:z.playerId,name:(A=z.name)!=null?A:null,total:re,delta:Z}),O.push({playerId:z.playerId,name:(V=z.name)!=null?V:null,class:(F=z.class)!=null?F:null,stats:(K=z.baseMain)!=null?K:null,delta:(q==null?void 0:q.baseMain)!=null&&z.baseMain!=null?z.baseMain-q.baseMain:0})}return w.sort((z,q)=>{var H,W;return((H=q.baseDelta)!=null?H:-1/0)-((W=z.baseDelta)!=null?W:-1/0)}),P.sort((z,q)=>{var H,W;return((H=q.stats)!=null?H:-1/0)-((W=z.stats)!=null?W:-1/0)}),R.sort((z,q)=>{var H,W;return((H=q.total)!=null?H:-1/0)-((W=z.total)!=null?W:-1/0)}),N.sort((z,q)=>{var H,W;return((H=q.base)!=null?H:-1/0)-((W=z.base)!=null?W:-1/0)}),O.sort((z,q)=>{var H,W;return((H=q.stats)!=null?H:-1/0)-((W=z.stats)!=null?W:-1/0)}),{...x,mostBaseGained:w.slice(0,50),sumBaseStats:N.slice(0,50),highestBaseStats:P.slice(0,50),highestTotalStats:R.slice(0,50),mainAndCon:O.slice(0,50)}}const Tx=t=>String(t!=null?t:"").trim(),xs=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function jce(t){const e=[",",";","	","|"];let s=",",r=-1;for(const i of e){const o=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;o>r&&(s=i,r=o)}return s}function aj(t){var h;const s=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!s.length)return{headers:[],rows:[],delimiter:","};const r=jce((h=s[0])!=null?h:""),i=p=>{const m=[];let x="",v=!1;for(let w=0;w<p.length;w++){const N=p[w];N==='"'?v&&p[w+1]==='"'?(x+='"',w++):v=!v:N===r&&!v?(m.push(x),x=""):x+=N}return m.push(x),m},c=(s[0]?i(s[0]).map(Tx):[]).map((p,m)=>p||`col${m}`),d=[];for(let p=1;p<s.length;p++){if(!s[p])continue;const m=i(s[p]);if(m.every(v=>Tx(v)===""))continue;const x={};for(let v=0;v<c.length;v++)x[c[v]]=m[v]!=null?Tx(m[v]):"";d.push(x)}return{headers:c,rows:d,delimiter:r}}const bn={PLAYERS:{IDENTIFIER:xs("Identifier"),GUILD_IDENTIFIER:xs("Guild Identifier"),TIMESTAMP:xs("Timestamp"),NAME:xs("Name"),SERVER:xs("Server"),OWN:xs("Own")},GUILDS:{GUILD_IDENTIFIER:xs("Guild Identifier"),GUILD_MEMBER_COUNT:xs("Guild Member Count"),NAME:xs("Name"),TIMESTAMP:xs("Timestamp")}},q3=(t,e)=>{const s=new Set(t.map(xs));return e.every(r=>s.has(r))},wr=(t,e)=>{for(const s of Object.keys(t))if(xs(s)===e)return t[s]};function Sce(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function oj(t){const e=t.map(xs),s=o=>e.includes(o);let r=0,i=0;return s(bn.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),s(bn.PLAYERS.IDENTIFIER)&&(r+=2),s(bn.PLAYERS.TIMESTAMP)&&(r+=1),s(bn.GUILDS.GUILD_IDENTIFIER)&&(i+=2),s(bn.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),s(bn.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||s(bn.PLAYERS.IDENTIFIER)?"players":"guilds"}function lj(t,e){const s=Sce(t);if(s!=="unknown"){const i=oj(e);return i!=="unknown"&&i!==s?{kind:s,via:"filename",warn:`Per Dateiname als "${s}" klassifiziert, Header deuten auf "${i}".`}:{kind:s,via:"filename"}}const r=oj(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function K3(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=Date.parse(e);return Number.isFinite(s)?Math.floor(s/1e3):null}function kce(t,e){var r;const s=[];if(!q3(e,[bn.PLAYERS.GUILD_IDENTIFIER]))return s;for(const i of t){const o=wr(i,bn.PLAYERS.GUILD_IDENTIFIER);if(!o)continue;const c=wr(i,bn.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;s.push({guildIdentifier:String(o),id:wr(i,bn.PLAYERS.IDENTIFIER)||void 0,name:wr(i,bn.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(wr(i,bn.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=K3(wr(i,bn.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return s}function Nce(t,e){const s=[];if(!q3(e,[bn.GUILDS.GUILD_IDENTIFIER,bn.GUILDS.GUILD_MEMBER_COUNT]))return s;for(const r of t){const i=wr(r,bn.GUILDS.GUILD_IDENTIFIER),o=Number(wr(r,bn.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(o))continue;const c=K3(wr(r,bn.GUILDS.TIMESTAMP));s.push({guildIdentifier:String(i),name:wr(r,bn.GUILDS.NAME)||void 0,memberCount:o,tsSec:c!=null?c:void 0})}return s}function Tce(t,e){var R,O,B,E,y,j;const s=[],r=new Map;for(const M of t){const T=M.id||"",_=(R=M.server)==null?void 0:R.toUpperCase();if(T){const C=`${_!=null?_:"NO"}::${T}`;r.has(C)||r.set(C,{server:_,id:T,name:M.name||"",own:!!M.own})}}const i=r.size,o=t.length,c=Array.from(r.values()).filter(M=>M.own).length,d=new Map;for(const M of r.values())M.server&&d.set(M.server,((O=d.get(M.server))!=null?O:0)+1);const h=Array.from(d.entries()).map(([M,T])=>({server:M,players:T})).sort((M,T)=>T.players-M.players),p=h.length,m=new Map;for(const M of t)m.set(M.guildIdentifier,((B=m.get(M.guildIdentifier))!=null?B:0)+1);const x=new Set,v=new Map;for(const M of e)x.add(M.guildIdentifier),v.set(M.guildIdentifier,{name:M.name||"",declared:M.memberCount});for(const M of m.keys())x.add(M);let w=0;const N=[];for(const M of x){const T=(E=v.get(M))==null?void 0:E.declared,_=(y=m.get(M))!=null?y:0,C=T!=null&&_===T;C&&w++,N.push({id:M,name:((j=v.get(M))==null?void 0:j.name)||"",declaredCount:T!=null?T:0,playersCount:_,full:C})}[...v.values()].some(M=>Number.isFinite(M.declared))||s.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),N.sort((M,T)=>M.name?M.name.localeCompare(T.name):M.id.localeCompare(T.id));const P=Array.from(r.values()).sort((M,T)=>(M.server||"")===(T.server||"")?M.name.localeCompare(T.name):(M.server||"").localeCompare(T.server||""));return{totalPlayers:o,uniquePlayerIds:i,ownPlayers:c,servers:p,perServer:h,guildsRepresented:x.size,fullyScannedGuilds:w,notes:s,playersList:P,guildsList:N}}function Cce(){const[t,e]=D.useState([]),[s,r]=D.useState(null),[i,o]=D.useState(!1),[c,d]=D.useState(null),[h,p]=D.useState(!1),[m,x]=D.useState(null),[v,w]=D.useState([]),[N,P]=D.useState(null);D.useEffect(()=>{const T=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=T}},[]);const R=D.useCallback(async T=>{var _;o(!0),d(null),r(null),w([]),x(null);try{const C=Array.from(T).slice(0,2),L=[];let A=[],V=[];for(const F of C){const K=F,z=await K.text(),q=aj(z),{kind:H,warn:W}=lj(K.name,q.headers);L.push({name:K.name,size:K.size||z.length,rows:q.rows.length,delimiter:q.delimiter,text:z,kind:H,warn:W}),H==="players"?A=A.concat(kce(q.rows,q.headers)):H==="guilds"&&(V=V.concat(Nce(q.rows,q.headers)))}e(L),r(Tce(A,V))}catch(C){d(String((_=C==null?void 0:C.message)!=null?_:C))}finally{o(!1)}},[]),O=D.useCallback(async T=>{!T||T.length===0||await R(T)},[R]),B=D.useCallback(async T=>{T.preventDefault();const _=T.dataTransfer.files;!_||!_.length||await R(_)},[R]);async function E(){var T,_,C;if(t.length){p(!0),P({phase:"prepare",current:0,total:0}),x(null),w([]);try{let L=[],A=[];for(const z of t){const q=aj(z.text),{kind:H}=lj(z.name,q.headers);H==="players"&&(L=L.concat(q.rows)),H==="guilds"&&(A=A.concat(q.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!L.length,hasGuildsCsv:!!A.length,playersRows:L.length,guildsRows:A.length}),!A.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!L.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await rj(null,{kind:"guilds",rows:A,onProgress:z=>P(z)});console.info("[Import Report] guilds",V);const F=await rj(null,{kind:"players",rows:L,onProgress:z=>P(z)});console.info("[Import Report] players",F),await vce(L,A);const K=new Set;for(const z of A){const q=wr(z,xs("Guild Identifier"));q&&K.add(String(q))}for(const z of L){const q=wr(z,xs("Guild Identifier"));q&&K.add(String(q))}for(const z of K){const q=ln(jt,`guilds/${z}/snapshots/members_summary`),H=await tr(q);if(!H.exists())continue;const W=H.data(),ne=Number((T=W.updatedAtMs)!=null?T:W.timestamp?W.timestamp*1e3:Date.now()),re=yce(ne),{first:G,firstTsMs:Z}=await bce(z,re,W,ne),ue=wce({guildId:z,monthKey:re,server:(_=W.server)!=null?_:null,first:G,firstTsMs:Z,latest:W,latestTsMs:ne});await _ce(z,re,ue)}P({phase:"done",current:1,total:1}),w([V,F]),x("Import abgeschlossen.")}catch(L){console.error("[UploadCenter] Import error:",L),x(`Fehler beim Import: ${(C=L==null?void 0:L.message)!=null?C:L}`)}finally{p(!1),setTimeout(()=>P(null),1200)}}}const y=D.useMemo(()=>t.map(T=>`${T.name} (${T.rows} rows, ${T.delimiter}, ${T.kind}${T.warn?" ":""})`),[t]),j=D.useMemo(()=>t.reduce((T,_)=>T+_.rows,0),[t]),M=N?Math.floor(100*N.current/Math.max(1,N.total||1)):0;return n.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[n.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),n.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((T,_)=>n.jsx("span",{className:"uc-chip",title:t[_].warn||"",children:T},_)),t.length>0&&n.jsxs("span",{className:"uc-chip",children:["Total: ",j," rows"]})]}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[N&&n.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[n.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:n.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),n.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),n.jsx("button",{onClick:E,disabled:!t.length||!s||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),m&&n.jsx("span",{style:{color:m.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:m})]})]}),n.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[n.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),n.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:T=>O(T.target.files),disabled:i})]}),n.jsx("div",{onDragOver:T=>T.preventDefault(),onDrop:B,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&n.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&n.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[n.jsx("b",{children:"Fehler:"})," ",c]}),s&&n.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[n.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:n.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),n.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[n.jsx(jd,{label:"Eigene Charaktere (unique IDs)",value:s.ownPlayers}),n.jsx(jd,{label:"Spieler in Datei (eindeutige IDs)",value:s.uniquePlayerIds,hint:`Total (mit ID): ${s.totalPlayers}`}),n.jsx(jd,{label:"Vertretene Gilden (mit ID)",value:s.guildsRepresented}),n.jsx(jd,{label:"Vollstndig gescannte Gilden",value:s.fullyScannedGuilds}),n.jsx(jd,{label:"Verschiedene Server",value:s.servers})]}),n.jsxs("div",{style:{marginTop:12},children:[n.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Server"}),n.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),n.jsx("tbody",{children:s.perServer.map(T=>n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:T.server}),n.jsx("td",{style:{textAlign:"right"},children:T.players})]},T.server))})]})]}),n.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[n.jsxs("details",{children:[n.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",s.playersList.length,")"]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Server"}),n.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),n.jsx("th",{style:{textAlign:"left"},children:"Name"}),n.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),n.jsx("tbody",{children:s.playersList.map((T,_)=>{var C,L;return n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:(C=T.server)!=null?C:""}),n.jsx("td",{children:T.id}),n.jsx("td",{children:T.name||""}),n.jsx("td",{children:T.own?"":""})]},`${(L=T.server)!=null?L:"NO"}-${T.id}-${_}`)})})]})})]}),n.jsxs("details",{open:!0,children:[n.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",s.guildsList.length,")"]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),n.jsx("th",{style:{textAlign:"left"},children:"Name"}),n.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),n.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),n.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),n.jsx("tbody",{children:s.guildsList.map((T,_)=>n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:T.id}),n.jsx("td",{children:T.name||""}),n.jsx("td",{style:{textAlign:"right"},children:T.declaredCount||0}),n.jsx("td",{style:{textAlign:"right"},children:T.playersCount}),n.jsx("td",{style:{textAlign:"center"},children:T.full?"":""})]},`${T.id}-${_}`))})]})})]})]}),!!s.notes.length&&n.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",n.jsx("ul",{children:s.notes.map((T,_)=>n.jsx("li",{children:T},_))})]})]})]})}function jd({label:t,value:e,hint:s}){return n.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[n.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),n.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),s&&n.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:s})]})}function Ece(){return n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),n.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",n.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function Ace(){const{isOpen:t,close:e,activeTab:s,setTab:r,canUse:i}=Lj();return!t||!i?null:n.jsx("div",{className:pi.backdrop,onClick:e,children:n.jsxs("div",{className:pi.panel,onClick:o=>o.stopPropagation(),children:[n.jsxs("div",{className:pi.header,children:[n.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),n.jsxs("div",{className:pi.tabs,children:[n.jsx("button",{type:"button",className:`${pi.tabBtn} ${s==="csv"?pi.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),n.jsx("button",{type:"button",className:`${pi.tabBtn} ${s==="json"?pi.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),n.jsx("button",{type:"button",className:pi.closeBtn,onClick:e,children:"Schlieen"})]}),n.jsx("div",{className:pi.content,children:s==="csv"?n.jsx(Cce,{}):n.jsx(Ece,{})})]})})}const Ice=t=>()=>n.jsx("div",{style:{padding:16},children:n.jsx("h2",{style:{color:"var(--title)"},children:t})}),Un=Ice("Diese Unterseite existiert in der neuen Struktur nicht mehr.");a4.createRoot(document.getElementById("root")).render(n.jsx(se.StrictMode,{children:n.jsxs(iE,{role:"admin",children:[n.jsx(wT,{children:n.jsx(J4,{children:n.jsxs(de,{element:n.jsx(LR,{}),children:[n.jsx(de,{path:"/",element:n.jsx(E7,{})}),n.jsx(de,{path:"/dashboard",element:n.jsx(A7,{})}),n.jsx(de,{path:"/dashboard/kpis",element:n.jsx(P7,{})}),n.jsx(de,{path:"/dashboard/activity",element:n.jsx(L7,{})}),n.jsx(de,{path:"/dashboard/progression",element:n.jsx(D7,{})}),n.jsx(de,{path:"/discover",element:n.jsx(M7,{})}),n.jsx(de,{path:"/toplists",element:n.jsx(pB,{})}),n.jsx(de,{path:"/sfmagazine",element:n.jsx(O7,{})}),n.jsx(de,{path:"/sfmagazine/historybook",element:n.jsx(xF,{})}),n.jsx(de,{path:"/players",element:n.jsx(mB,{})}),n.jsx(de,{path:"/players/rankings",element:n.jsx(fB,{})}),n.jsx(de,{path:"/players/stats",element:n.jsx(gB,{})}),n.jsx(de,{path:"/players/profile",element:n.jsx(ax,{})}),n.jsx(de,{path:"/players/profile/:playerId",element:n.jsx(ax,{})}),n.jsx(de,{path:"/player/:playerId",element:n.jsx(ax,{})}),n.jsx(de,{path:"/guilds",element:n.jsx(DB,{})}),n.jsx(de,{path:"/guilds/rankings",element:n.jsx(MB,{})}),n.jsx(de,{path:"/guilds/stats",element:n.jsx(FB,{})}),n.jsx(de,{path:"/guilds/profile",element:n.jsx(dx,{})}),n.jsx(de,{path:"/guilds/profile/:guildId",element:n.jsx(dx,{})}),n.jsx(de,{path:"/guild/:guildId",element:n.jsx(dx,{})}),n.jsx(de,{path:"/servers",element:n.jsx(SO,{})}),n.jsx(de,{path:"/servers/rankings",element:n.jsx(kO,{})}),n.jsx(de,{path:"/servers/stats",element:n.jsx(NO,{})}),n.jsx(de,{path:"/servers/profile",element:n.jsx(ux,{})}),"               ",n.jsx(de,{path:"/servers/profile/:serverId",element:n.jsx(ux,{})}),"     ",n.jsx(de,{path:"/server/:serverId",element:n.jsx(ux,{})}),"              ",n.jsx(de,{path:"/guidehub/*",element:n.jsx(dq,{})}),n.jsx(de,{path:"/community",element:n.jsx(sQ,{})}),n.jsx(de,{path:"/community/scans",element:n.jsx(I3,{})}),n.jsx(de,{path:"/community/predictions",element:n.jsx(R3,{})}),n.jsx(de,{path:"/community/creators",element:n.jsx(A3,{})}),n.jsx(de,{path:"/community/feedback",element:n.jsx(L3,{})}),n.jsx(de,{path:"/community/news",element:n.jsx(P3,{})}),n.jsx(de,{path:"/community/records",element:n.jsx(D3,{})}),n.jsx(de,{path:"/scans",element:n.jsx(rQ,{})}),n.jsx(de,{path:"/scans/latest",element:n.jsx(iQ,{})}),n.jsx(de,{path:"/scans/archive",element:n.jsx(aQ,{})}),n.jsx(de,{path:"/guild-hub",element:n.jsx(oQ,{})}),n.jsx(de,{path:"/guild-hub/planner",element:n.jsx(FX,{})}),n.jsx(de,{path:"/guild-hub/fusion-planner",element:n.jsx(_te,{})}),n.jsx(de,{path:"/guild-hub/fusion",element:n.jsx(Lne,{})}),n.jsx(de,{path:"/guild-hub/waitlist",element:n.jsx(Zse,{})}),n.jsx(de,{path:"/guild-hub/activity",element:n.jsx(ore,{})}),n.jsx(de,{path:"/guild-hub/imports",element:n.jsx(lre,{})}),n.jsx(de,{path:"/guild-hub/announcements",element:n.jsx(cre,{})}),n.jsx(de,{path:"/guild-hub/events",element:n.jsx(dre,{})}),n.jsx(de,{path:"/guild-hub/roles",element:n.jsx(ure,{})}),n.jsx(de,{path:"/guild-hub/settings",element:n.jsx(hre,{})}),n.jsx(de,{path:"/admin",element:n.jsx(gre,{})}),n.jsx(de,{path:"/admin/errors",element:n.jsx(bre,{})}),n.jsx(de,{path:"/admin/scans-uploaded",element:n.jsx(wre,{})}),n.jsx(de,{path:"/admin/creators-api",element:n.jsx(Rre,{})}),n.jsx(de,{path:"/settings",element:n.jsx(Pre,{})}),n.jsxs(de,{path:"/playground",element:n.jsx(Lre,{}),children:[n.jsx(de,{index:!0,element:n.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),n.jsx(de,{path:"list-views",element:n.jsx(zw,{})}),n.jsx(de,{path:"rescan-widget",element:n.jsx(Hw,{})}),n.jsx(de,{path:"upload-sim",element:n.jsx(Ww,{})}),n.jsx(de,{path:"theme-maker",element:n.jsx($w,{})}),n.jsx(de,{path:"theme-maker-pro",element:n.jsx(Ow,{})}),n.jsx(de,{path:"am-rune-bonuses-demos",element:n.jsx(Iie,{})}),n.jsx(de,{path:"templates/content-shell",element:n.jsx(Sae,{})}),n.jsx(de,{path:"templates/blank",element:n.jsx(Nae,{})}),n.jsx(de,{path:"templates/blank-alt",element:n.jsx(Cae,{})}),n.jsx(de,{path:"templates/blank-layout-2",element:n.jsx(Rae,{})}),n.jsx(de,{path:"templates/blank-layout-3",element:n.jsx(Lae,{})}),n.jsx(de,{path:"templates/blank-layout-4",element:n.jsx(Dae,{})}),n.jsx(de,{path:"portrait-maker",element:n.jsx(bae,{})}),n.jsx(de,{path:"hud",element:n.jsx(Rie,{})}),n.jsx(de,{path:"hud/game-buttons",element:n.jsx(iae,{})}),n.jsx(de,{path:"core-ui/theme-maker",element:n.jsx($w,{})}),n.jsx(de,{path:"core-ui/theme-maker-pro",element:n.jsx(Ow,{})}),n.jsx(de,{path:"core-ui/list-views",element:n.jsx(zw,{})}),n.jsx(de,{path:"sync/rescan",element:n.jsx(Hw,{})}),n.jsx(de,{path:"upload/sim",element:n.jsx(Ww,{})}),n.jsx(de,{path:"import/har",element:n.jsx($ae,{})}),n.jsx(de,{path:"import/json-csv",element:n.jsx(zae,{})}),n.jsx(de,{path:"import/schema",element:n.jsx(qae,{})}),n.jsx(de,{path:"hubs/player-contained",element:n.jsx(Yae,{})}),n.jsx(de,{path:"hubs/guilds",element:n.jsx(toe,{})}),n.jsx(de,{path:"hubs/servers",element:n.jsx(ioe,{})}),n.jsx(de,{path:"rankings/views",element:n.jsx(coe,{})}),n.jsx(de,{path:"analytics/kpi",element:n.jsx(poe,{})}),n.jsx(de,{path:"analytics/progression",element:n.jsx(xoe,{})}),n.jsx(de,{path:"analytics/legendary-pets",element:n.jsx(_oe,{})}),n.jsx(de,{path:"community/scans",element:n.jsx(koe,{})}),n.jsx(de,{path:"community/creators",element:n.jsx(Eoe,{})}),n.jsx(de,{path:"feedback/form",element:n.jsx(Poe,{})}),n.jsx(de,{path:"feedback/admin",element:n.jsx(Foe,{})}),n.jsx(de,{path:"help/tutorials",element:n.jsx(Ooe,{})}),n.jsx(de,{path:"help/wiki",element:n.jsx(Hoe,{})}),n.jsx(de,{path:"legal/tos",element:n.jsx(Zoe,{})}),n.jsx(de,{path:"legal/transparency",element:n.jsx(sle,{})}),n.jsx(de,{path:"settings",element:n.jsx(Qoe,{})}),n.jsx(de,{path:"pwa/update",element:n.jsx(ole,{})}),n.jsx(de,{path:"pwa/install",element:n.jsx(ule,{})}),n.jsx(de,{path:"connect/manual",element:n.jsx(fle,{})}),n.jsx(de,{path:"connect/userscript",element:n.jsx(yle,{})}),n.jsx(de,{path:"interop/exports",element:n.jsx(jle,{})}),n.jsx(de,{path:"interop/deeplinks",element:n.jsx(Tle,{})}),n.jsx(de,{path:"admin/servers",element:n.jsx(Ile,{})}),n.jsx(de,{path:"admin/jobs",element:n.jsx(Dle,{})}),n.jsx(de,{path:"admin/flags",element:n.jsx($le,{})}),n.jsx(de,{path:"perf/table-lab",element:n.jsx(zle,{})}),n.jsx(de,{path:"mobile/filters",element:n.jsx(qle,{})}),n.jsx(de,{path:"qa/a11y",element:n.jsx(Yle,{})})]}),n.jsx(de,{path:"/latest-scan",element:n.jsx(Sg,{to:"/scans/latest",replace:!0})}),n.jsx(de,{path:"/old-scans",element:n.jsx(Sg,{to:"/scans/archive",replace:!0})}),n.jsx(de,{path:"/favorites",element:Un()}),n.jsx(de,{path:"/notifications",element:Un()}),n.jsx(de,{path:"/guilds/planner",element:Un()}),n.jsx(de,{path:"/guilds/fusion",element:Un()}),n.jsx(de,{path:"/guilds/academy",element:Un()}),n.jsx(de,{path:"/toplists/players",element:Un()}),n.jsx(de,{path:"/toplists/guilds",element:Un()}),n.jsx(de,{path:"/toplists/servers",element:Un()}),n.jsx(de,{path:"/settings/profile",element:Un()}),n.jsx(de,{path:"/settings/account",element:Un()}),n.jsx(de,{path:"/settings/appearance",element:Un()}),n.jsx(de,{path:"/players/search",element:Un()}),n.jsx(de,{path:"/players/compare",element:Un()}),n.jsx(de,{path:"/servers/list",element:Un()}),n.jsx(de,{path:"/servers/trend",element:Un()}),n.jsx(de,{path:"/scans/upload",element:Un()}),n.jsx(de,{path:"/scans/history",element:Un()}),n.jsx(de,{path:"*",element:n.jsx(Sg,{to:"/",replace:!0})})]})})}),n.jsx(Ace,{})]})}));
