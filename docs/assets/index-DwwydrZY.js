(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $p={exports:{}},cc={},Up={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function rj(){if(T0)return He;T0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function C(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||S}C.prototype.isReactComponent={},C.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function F(){}F.prototype=C.prototype;function B(G,ee,ye){this.props=G,this.context=ee,this.refs=A,this.updater=ye||S}var N=B.prototype=new F;N.constructor=B,j(N,C.prototype),N.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,W={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(G,ee,ye){var we,je={},me=null,ke=null;if(ee!=null)for(we in ee.ref!==void 0&&(ke=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)$.call(ee,we)&&!E.hasOwnProperty(we)&&(je[we]=ee[we]);var Ae=arguments.length-2;if(Ae===1)je.children=ye;else if(1<Ae){for(var Pe=Array(Ae),nt=0;nt<Ae;nt++)Pe[nt]=arguments[nt+2];je.children=Pe}if(G&&G.defaultProps)for(we in Ae=G.defaultProps,Ae)je[we]===void 0&&(je[we]=Ae[we]);return{$$typeof:t,type:G,key:me,ref:ke,props:je,_owner:W.current}}function I(G,ee){return{$$typeof:t,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function M(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var V=/\/+/g;function L(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?M(""+G.key):ee.toString(36)}function fe(G,ee,ye,we,je){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var ke=!1;if(G===null)ke=!0;else switch(me){case"string":case"number":ke=!0;break;case"object":switch(G.$$typeof){case t:case e:ke=!0}}if(ke)return ke=G,je=je(ke),G=we===""?"."+L(ke,0):we,U(je)?(ye="",G!=null&&(ye=G.replace(V,"$&/")+"/"),fe(je,ee,ye,"",function(nt){return nt})):je!=null&&(D(je)&&(je=I(je,ye+(!je.key||ke&&ke.key===je.key?"":(""+je.key).replace(V,"$&/")+"/")+G)),ee.push(je)),1;if(ke=0,we=we===""?".":we+":",U(G))for(var Ae=0;Ae<G.length;Ae++){me=G[Ae];var Pe=we+L(me,Ae);ke+=fe(me,ee,ye,Pe,je)}else if(Pe=_(G),typeof Pe=="function")for(G=Pe.call(G),Ae=0;!(me=G.next()).done;)me=me.value,Pe=we+L(me,Ae++),ke+=fe(me,ee,ye,Pe,je);else if(me==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ke}function K(G,ee,ye){if(G==null)return G;var we=[],je=0;return fe(G,we,"","",function(me){return ee.call(ye,me,je++)}),we}function re(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},Q={transition:null},oe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:W};function ie(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:K,forEach:function(G,ee,ye){K(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return K(G,function(){ee++}),ee},toArray:function(G){return K(G,function(ee){return ee})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},He.Component=C,He.Fragment=n,He.Profiler=i,He.PureComponent=B,He.StrictMode=r,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,He.act=ie,He.cloneElement=function(G,ee,ye){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var we=j({},G.props),je=G.key,me=G.ref,ke=G._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,ke=W.current),ee.key!==void 0&&(je=""+ee.key),G.type&&G.type.defaultProps)var Ae=G.type.defaultProps;for(Pe in ee)$.call(ee,Pe)&&!E.hasOwnProperty(Pe)&&(we[Pe]=ee[Pe]===void 0&&Ae!==void 0?Ae[Pe]:ee[Pe])}var Pe=arguments.length-2;if(Pe===1)we.children=ye;else if(1<Pe){Ae=Array(Pe);for(var nt=0;nt<Pe;nt++)Ae[nt]=arguments[nt+2];we.children=Ae}return{$$typeof:t,type:G.type,key:je,ref:me,props:we,_owner:ke}},He.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:l,_context:G},G.Consumer=G},He.createElement=T,He.createFactory=function(G){var ee=T.bind(null,G);return ee.type=G,ee},He.createRef=function(){return{current:null}},He.forwardRef=function(G){return{$$typeof:d,render:G}},He.isValidElement=D,He.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:re}},He.memo=function(G,ee){return{$$typeof:p,type:G,compare:ee===void 0?null:ee}},He.startTransition=function(G){var ee=Q.transition;Q.transition={};try{G()}finally{Q.transition=ee}},He.unstable_act=ie,He.useCallback=function(G,ee){return ne.current.useCallback(G,ee)},He.useContext=function(G){return ne.current.useContext(G)},He.useDebugValue=function(){},He.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},He.useEffect=function(G,ee){return ne.current.useEffect(G,ee)},He.useId=function(){return ne.current.useId()},He.useImperativeHandle=function(G,ee,ye){return ne.current.useImperativeHandle(G,ee,ye)},He.useInsertionEffect=function(G,ee){return ne.current.useInsertionEffect(G,ee)},He.useLayoutEffect=function(G,ee){return ne.current.useLayoutEffect(G,ee)},He.useMemo=function(G,ee){return ne.current.useMemo(G,ee)},He.useReducer=function(G,ee,ye){return ne.current.useReducer(G,ee,ye)},He.useRef=function(G){return ne.current.useRef(G)},He.useState=function(G){return ne.current.useState(G)},He.useSyncExternalStore=function(G,ee,ye){return ne.current.useSyncExternalStore(G,ee,ye)},He.useTransition=function(){return ne.current.useTransition()},He.version="18.3.1",He}var E0;function Lg(){return E0||(E0=1,Up.exports=rj()),Up.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function sj(){if(j0)return cc;j0=1;var t=Lg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var g,v={},_=null,S=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:_,ref:S,props:v,_owner:i.current}}return cc.Fragment=n,cc.jsx=c,cc.jsxs=c,cc}var k0;function ij(){return k0||(k0=1,$p.exports=sj()),$p.exports}var o=ij(),R=Lg();const Le=Mg(R);var Rd={},zp={exports:{}},sr={},Hp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function oj(){return C0||(C0=1,(function(t){function e(Q,oe){var ie=Q.length;Q.push(oe);e:for(;0<ie;){var G=ie-1>>>1,ee=Q[G];if(0<i(ee,oe))Q[G]=oe,Q[ie]=ee,ie=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ie=Q.pop();if(ie!==oe){Q[0]=ie;e:for(var G=0,ee=Q.length,ye=ee>>>1;G<ye;){var we=2*(G+1)-1,je=Q[we],me=we+1,ke=Q[me];if(0>i(je,ie))me<ee&&0>i(ke,je)?(Q[G]=ke,Q[me]=ie,G=me):(Q[G]=je,Q[we]=ie,G=we);else if(me<ee&&0>i(ke,ie))Q[G]=ke,Q[me]=ie,G=me;else break e}}return oe}function i(Q,oe){var ie=Q.sortIndex-oe.sortIndex;return ie!==0?ie:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],g=1,v=null,_=3,S=!1,j=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Q)r(p),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(p)}}function U(Q){if(A=!1,N(Q),!j)if(n(f)!==null)j=!0,re($);else{var oe=n(p);oe!==null&&ne(U,oe.startTime-Q)}}function $(Q,oe){j=!1,A&&(A=!1,F(T),T=-1),S=!0;var ie=_;try{for(N(oe),v=n(f);v!==null&&(!(v.expirationTime>oe)||Q&&!M());){var G=v.callback;if(typeof G=="function"){v.callback=null,_=v.priorityLevel;var ee=G(v.expirationTime<=oe);oe=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(f)&&r(f),N(oe)}else r(f);v=n(f)}if(v!==null)var ye=!0;else{var we=n(p);we!==null&&ne(U,we.startTime-oe),ye=!1}return ye}finally{v=null,_=ie,S=!1}}var W=!1,E=null,T=-1,I=5,D=-1;function M(){return!(t.unstable_now()-D<I)}function V(){if(E!==null){var Q=t.unstable_now();D=Q;var oe=!0;try{oe=E(!0,Q)}finally{oe?L():(W=!1,E=null)}}else W=!1}var L;if(typeof B=="function")L=function(){B(V)};else if(typeof MessageChannel!="undefined"){var fe=new MessageChannel,K=fe.port2;fe.port1.onmessage=V,L=function(){K.postMessage(null)}}else L=function(){C(V,0)};function re(Q){E=Q,W||(W=!0,L())}function ne(Q,oe){T=C(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){j||S||(j=!0,re($))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var ie=_;_=oe;try{return Q()}finally{_=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=_;_=Q;try{return oe()}finally{_=ie}},t.unstable_scheduleCallback=function(Q,oe,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,Q={id:g++,callback:oe,priorityLevel:Q,startTime:ie,expirationTime:ee,sortIndex:-1},ie>G?(Q.sortIndex=ie,e(p,Q),n(f)===null&&Q===n(p)&&(A?(F(T),T=-1):A=!0,ne(U,ie-G))):(Q.sortIndex=ee,e(f,Q),j||S||(j=!0,re($))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var oe=_;return function(){var ie=_;_=oe;try{return Q.apply(this,arguments)}finally{_=ie}}}})(Gp)),Gp}var A0;function aj(){return A0||(A0=1,Hp.exports=oj()),Hp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function lj(){if(I0)return sr;I0=1;var t=Lg(),e=aj();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(s){return f.call(v,s)?!0:f.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function S(s,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,a,u,m){if(a===null||typeof a=="undefined"||S(s,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,u,m,y,b,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=b,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];C[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(F,B);C[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(F,B);C[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(F,B);C[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,a,u,m){var y=C.hasOwnProperty(a)?C[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,u,y,m)&&(u=null),m||y===null?_(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?s.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?s.setAttributeNS(m,a,u):s.setAttribute(a,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),W=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,G;function ee(s){if(G===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+s}var ye=!1;function we(s,a){if(!s||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){m=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}s()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),b=m.stack.split(`
`),k=y.length-1,O=b.length-1;1<=k&&0<=O&&y[k]!==b[O];)O--;for(;1<=k&&0<=O;k--,O--)if(y[k]!==b[O]){if(k!==1||O!==1)do if(k--,O--,0>O||y[k]!==b[O]){var z=`
`+y[k].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=k&&0<=O);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function je(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case W:return"Portal";case I:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:me(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return me(s(a))}catch(u){}}return null}function ke(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nt(s){var a=Pe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(k){m=""+k,b.call(this,k)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Dt(s){s._valueTracker||(s._valueTracker=nt(s))}function Jt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return s&&(m=Pe(s)?s.checked?"true":"false":s.value),s=m,s!==u?(a.setValue(s),!0):!1}function Vt(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(a){return s.body}}function At(s,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:s._wrapperState.initialChecked})}function Gn(s,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ae(a.value!=null?a.value:u),s._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Wn(s,a){a=a.checked,a!=null&&N(s,"checked",a,!1)}function ot(s,a){Wn(s,a);var u=Ae(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?qn(s,a.type,u):a.hasOwnProperty("defaultValue")&&qn(s,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function jr(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function qn(s,a,u){(a!=="number"||Vt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ln=Array.isArray;function cn(s,a,u,m){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&m&&(s[u].defaultSelected=!0)}else{for(u=""+Ae(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function cr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Kn(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(ln(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Ae(u)}}function Qn(s,a){var u=Ae(a.value),m=Ae(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),m!=null&&(s.defaultValue=""+m)}function ur(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ut(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ut(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Yn,Hr=(function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return s(a,u,m,y)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Yn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function at(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cr=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(s){Cr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),kr[a]=kr[s]})});function ms(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||kr.hasOwnProperty(s)&&kr[s]?(""+a).trim():a+"px"}function gs(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=ms(u,a[u],m);u==="float"&&(u="cssFloat"),m?s.setProperty(u,y):s[u]=y}}var ys=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bs(s,a){if(a){if(ys[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function vs(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dr=null;function dt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gr=null,Mn=null,hr=null;function Os(s){if(s=Kl(s)){if(typeof Gr!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Wu(a),Gr(s.stateNode,s.type,a))}}function xs(s){Mn?hr?hr.push(s):hr=[s]:Mn=s}function El(){if(Mn){var s=Mn,a=hr;if(hr=Mn=null,Os(s),a)for(s=0;s<a.length;s++)Os(a[s])}}function so(s,a){return s(a)}function jl(){}var $s=!1;function kl(s,a,u){if($s)return s(a,u);$s=!0;try{return so(s,a,u)}finally{$s=!1,(Mn!==null||hr!==null)&&(jl(),El())}}function Mt(s,a){var u=s.stateNode;if(u===null)return null;var m=Wu(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var ea=!1;if(d)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){ea=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch(s){ea=!1}function io(s,a,u,m,y,b,k,O,z){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(ue){this.onError(ue)}}var oo=!1,ta=null,qr=!1,Cl=null,mf={onError:function(s){oo=!0,ta=s}};function na(s,a,u,m,y,b,k,O,z){oo=!1,ta=null,io.apply(mf,arguments)}function yu(s,a,u,m,y,b,k,O,z){if(na.apply(this,arguments),oo){if(oo){var Z=ta;oo=!1,ta=null}else throw Error(n(198));qr||(qr=!0,Cl=Z)}}function Kr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function ao(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Qr(s){if(Kr(s)!==s)throw Error(n(188))}function vu(s){var a=s.alternate;if(!a){if(a=Kr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,m=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return Qr(y),s;if(b===m)return Qr(y),a;b=b.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=b;else{for(var k=!1,O=y.child;O;){if(O===u){k=!0,u=y,m=b;break}if(O===m){k=!0,m=y,u=b;break}O=O.sibling}if(!k){for(O=b.child;O;){if(O===u){k=!0,u=b,m=y;break}if(O===m){k=!0,m=b,u=y;break}O=O.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function Al(s){return s=vu(s),s!==null?ra(s):null}function ra(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ra(s);if(a!==null)return a;s=s.sibling}return null}var sa=e.unstable_scheduleCallback,Il=e.unstable_cancelCallback,xu=e.unstable_shouldYield,gf=e.unstable_requestPaint,ht=e.unstable_now,bu=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Ar=e.unstable_NormalPriority,Rl=e.unstable_LowPriority,_u=e.unstable_IdlePriority,co=null,fr=null;function wu(s){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(co,s,void 0,(s.current.flags&128)===128)}catch(a){}}var Ln=Math.clz32?Math.clz32:Tu,Pl=Math.log,Su=Math.LN2;function Tu(s){return s>>>=0,s===0?32:31-(Pl(s)/Su|0)|0}var ia=64,oa=4194304;function xi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uo(s,a){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,b=s.pingedLanes,k=u&268435455;if(k!==0){var O=k&~y;O!==0?m=xi(O):(b&=k,b!==0&&(m=xi(b)))}else k=u&~y,k!==0?m=xi(k):b!==0&&(m=xi(b));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,b=a&-a,y>=b||y===16&&(b&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)u=31-Ln(a),y=1<<u,m|=s[u],a&=~y;return m}function yf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(s,a){for(var u=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes;0<b;){var k=31-Ln(b),O=1<<k,z=y[k];z===-1?((O&u)===0||(O&m)!==0)&&(y[k]=yf(O,a)):z<=a&&(s.expiredLanes|=O),b&=~O}}function pr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ho(){var s=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),s}function bi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function _i(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Ln(a),s[a]=u}function lt(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-Ln(u),b=1<<y;a[y]=0,m[y]=-1,s[y]=-1,u&=~b}}function wi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var m=31-Ln(u),y=1<<m;y&a|s[m]&a&&(s[m]|=a),u&=~y}}var qe=0;function Si(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Eu,aa,ju,ku,Cu,Nl=!1,bs=[],un=null,Yr=null,Xr=null,Ti=new Map,Ir=new Map,_s=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(s,a){switch(s){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ti.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(a.pointerId)}}function Xn(s,a,u,m,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Kl(a),a!==null&&aa(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function xf(s,a,u,m,y){switch(a){case"focusin":return un=Xn(un,s,a,u,m,y),!0;case"dragenter":return Yr=Xn(Yr,s,a,u,m,y),!0;case"mouseover":return Xr=Xn(Xr,s,a,u,m,y),!0;case"pointerover":var b=y.pointerId;return Ti.set(b,Xn(Ti.get(b)||null,s,a,u,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Ir.set(b,Xn(Ir.get(b)||null,s,a,u,m,y)),!0}return!1}function Iu(s){var a=yo(s.target);if(a!==null){var u=Kr(a);if(u!==null){if(a=u.tag,a===13){if(a=ao(u),a!==null){s.blockedOn=a,Cu(s.priority,function(){ju(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=la(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);dr=m,u.target.dispatchEvent(m),dr=null}else return a=Kl(u),a!==null&&aa(a),s.blockedOn=u,!1;a.shift()}return!0}function fo(s,a,u){zs(s)&&u.delete(a)}function Ru(){Nl=!1,un!==null&&zs(un)&&(un=null),Yr!==null&&zs(Yr)&&(Yr=null),Xr!==null&&zs(Xr)&&(Xr=null),Ti.forEach(fo),Ir.forEach(fo)}function Jr(s,a){s.blockedOn===a&&(s.blockedOn=null,Nl||(Nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function Zr(s){function a(y){return Jr(y,s)}if(0<bs.length){Jr(bs[0],s);for(var u=1;u<bs.length;u++){var m=bs[u];m.blockedOn===s&&(m.blockedOn=null)}}for(un!==null&&Jr(un,s),Yr!==null&&Jr(Yr,s),Xr!==null&&Jr(Xr,s),Ti.forEach(a),Ir.forEach(a),u=0;u<_s.length;u++)m=_s[u],m.blockedOn===s&&(m.blockedOn=null);for(;0<_s.length&&(u=_s[0],u.blockedOn===null);)Iu(u),u.blockedOn===null&&_s.shift()}var Hs=U.ReactCurrentBatchConfig,Ei=!0;function bt(s,a,u,m){var y=qe,b=Hs.transition;Hs.transition=null;try{qe=1,Dl(s,a,u,m)}finally{qe=y,Hs.transition=b}}function bf(s,a,u,m){var y=qe,b=Hs.transition;Hs.transition=null;try{qe=4,Dl(s,a,u,m)}finally{qe=y,Hs.transition=b}}function Dl(s,a,u,m){if(Ei){var y=la(s,a,u,m);if(y===null)Rf(s,a,m,po,u),Au(s,m);else if(xf(y,s,a,u,m))m.stopPropagation();else if(Au(s,m),a&4&&-1<vf.indexOf(s)){for(;y!==null;){var b=Kl(y);if(b!==null&&Eu(b),b=la(s,a,u,m),b===null&&Rf(s,a,m,po,u),b===y)break;y=b}y!==null&&m.stopPropagation()}else Rf(s,a,m,null,u)}}var po=null;function la(s,a,u,m){if(po=null,s=dt(m),s=yo(s),s!==null)if(a=Kr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=ao(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return po=s,null}function Ml(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bu()){case lo:return 1;case vi:return 4;case Ar:case Rl:return 16;case _u:return 536870912;default:return 16}default:return 16}}var mr=null,ca=null,Jn=null;function Ll(){if(Jn)return Jn;var s,a=ca,u=a.length,m,y="value"in mr?mr.value:mr.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var k=u-s;for(m=1;m<=k&&a[u-m]===y[b-m];m++);return Jn=y.slice(s,1<m?1-m:void 0)}function ua(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ws(){return!0}function Fl(){return!1}function dn(s){function a(u,m,y,b,k){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ws:Fl,this.isPropagationStopped=Fl,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),a}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=dn(es),Ss=ie({},es,{view:0,detail:0}),_f=dn(Ss),ha,Gs,ji,mo=ie({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ji&&(ji&&s.type==="mousemove"?(ha=s.screenX-ji.screenX,Gs=s.screenY-ji.screenY):Gs=ha=0,ji=s),ha)},movementY:function(s){return"movementY"in s?s.movementY:Gs}}),fa=dn(mo),Vl=ie({},mo,{dataTransfer:0}),Pu=dn(Vl),pa=ie({},Ss,{relatedTarget:0}),ma=dn(pa),Nu=ie({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=dn(Nu),Du=ie({},es,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mu=dn(Du),Lu=ie({},es,{data:0}),Bl=dn(Lu),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Fu[s])?!!a[s]:!1}function Ts(){return Vu}var h=ie({},Ss,{key:function(s){if(s.key){var a=ga[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=dn(h),w=ie({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=dn(w),Y=ie({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),te=dn(Y),ge=ie({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=dn(ge),qt=ie({},mo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=dn(qt),Zt=[9,13,27,32],Bt=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var gr=d&&"TextEvent"in window&&!Rr,go=d&&(!Bt||Rr&&8<Rr&&11>=Rr),ya=" ",vv=!1;function xv(s,a){switch(s){case"keyup":return Zt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function eE(s,a){switch(s){case"compositionend":return bv(a);case"keypress":return a.which!==32?null:(vv=!0,ya);case"textInput":return s=a.data,s===ya&&vv?null:s;default:return null}}function tE(s,a){if(va)return s==="compositionend"||!Bt&&xv(s,a)?(s=Ll(),Jn=ca=mr=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return go&&a.locale!=="ko"?null:a.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!nE[s.type]:a==="textarea"}function wv(s,a,u,m){xs(m),a=zu(a,"onChange"),0<a.length&&(u=new da("onChange","change",null,u,m),s.push({event:u,listeners:a}))}var Ol=null,$l=null;function rE(s){Ov(s,0)}function Bu(s){var a=Sa(s);if(Jt(a))return s}function sE(s,a){if(s==="change")return a}var Sv=!1;if(d){var wf;if(d){var Sf="oninput"in document;if(!Sf){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Sf=typeof Tv.oninput=="function"}wf=Sf}else wf=!1;Sv=wf&&(!document.documentMode||9<document.documentMode)}function Ev(){Ol&&(Ol.detachEvent("onpropertychange",jv),$l=Ol=null)}function jv(s){if(s.propertyName==="value"&&Bu($l)){var a=[];wv(a,$l,s,dt(s)),kl(rE,a)}}function iE(s,a,u){s==="focusin"?(Ev(),Ol=a,$l=u,Ol.attachEvent("onpropertychange",jv)):s==="focusout"&&Ev()}function oE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bu($l)}function aE(s,a){if(s==="click")return Bu(a)}function lE(s,a){if(s==="input"||s==="change")return Bu(a)}function cE(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ts=typeof Object.is=="function"?Object.is:cE;function Ul(s,a){if(ts(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!f.call(a,y)||!ts(s[y],a[y]))return!1}return!0}function kv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cv(s,a){var u=kv(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=a&&m>=a)return{node:u,offset:a-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=kv(u)}}function Av(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Av(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Iv(){for(var s=window,a=Vt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(m){u=!1}if(u)s=a.contentWindow;else break;a=Vt(s.document)}return a}function Tf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function uE(s){var a=Iv(),u=s.focusedElem,m=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Av(u.ownerDocument.documentElement,u)){if(m!==null&&Tf(u)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,b=Math.min(m.start,y);m=m.end===void 0?b:Math.min(m.end,y),!s.extend&&b>m&&(y=m,m=b,b=y),y=Cv(u,b);var k=Cv(u,m);y&&k&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),b>m?(s.addRange(a),s.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var dE=d&&"documentMode"in document&&11>=document.documentMode,xa=null,Ef=null,zl=null,jf=!1;function Rv(s,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;jf||xa==null||xa!==Vt(m)||(m=xa,"selectionStart"in m&&Tf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zl&&Ul(zl,m)||(zl=m,m=zu(Ef,"onSelect"),0<m.length&&(a=new da("onSelect","select",null,a,u),s.push({event:a,listeners:m}),a.target=xa)))}function Ou(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ba={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},kf={},Pv={};d&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function $u(s){if(kf[s])return kf[s];if(!ba[s])return s;var a=ba[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Pv)return kf[s]=a[u];return s}var Nv=$u("animationend"),Dv=$u("animationiteration"),Mv=$u("animationstart"),Lv=$u("transitionend"),Fv=new Map,Vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(s,a){Fv.set(s,a),l(a,[s])}for(var Cf=0;Cf<Vv.length;Cf++){var Af=Vv[Cf],hE=Af.toLowerCase(),fE=Af[0].toUpperCase()+Af.slice(1);ki(hE,"on"+fE)}ki(Nv,"onAnimationEnd"),ki(Dv,"onAnimationIteration"),ki(Mv,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Lv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Bv(s,a,u){var m=s.type||"unknown-event";s.currentTarget=u,yu(m,a,void 0,s),s.currentTarget=null}function Ov(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],y=m.event;m=m.listeners;e:{var b=void 0;if(a)for(var k=m.length-1;0<=k;k--){var O=m[k],z=O.instance,Z=O.currentTarget;if(O=O.listener,z!==b&&y.isPropagationStopped())break e;Bv(y,O,Z),b=z}else for(k=0;k<m.length;k++){if(O=m[k],z=O.instance,Z=O.currentTarget,O=O.listener,z!==b&&y.isPropagationStopped())break e;Bv(y,O,Z),b=z}}}if(qr)throw s=Cl,qr=!1,Cl=null,s}function vt(s,a){var u=a[Ff];u===void 0&&(u=a[Ff]=new Set);var m=s+"__bubble";u.has(m)||($v(a,s,2,!1),u.add(m))}function If(s,a,u){var m=0;a&&(m|=4),$v(u,s,m,a)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Gl(s){if(!s[Uu]){s[Uu]=!0,r.forEach(function(u){u!=="selectionchange"&&(pE.has(u)||If(u,!1,s),If(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Uu]||(a[Uu]=!0,If("selectionchange",!1,a))}}function $v(s,a,u,m){switch(Ml(a)){case 1:var y=bt;break;case 4:y=bf;break;default:y=Dl}u=y.bind(null,a,u,s),y=void 0,!ea||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function Rf(s,a,u,m,y){var b=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var O=m.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(k===4)for(k=m.return;k!==null;){var z=k.tag;if((z===3||z===4)&&(z=k.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;k=k.return}for(;O!==null;){if(k=yo(O),k===null)return;if(z=k.tag,z===5||z===6){m=b=k;continue e}O=O.parentNode}}m=m.return}kl(function(){var Z=b,ue=dt(u),he=[];e:{var ce=Fv.get(s);if(ce!==void 0){var xe=da,_e=s;switch(s){case"keypress":if(ua(u)===0)break e;case"keydown":case"keyup":xe=x;break;case"focusin":_e="focus",xe=ma;break;case"focusout":_e="blur",xe=ma;break;case"beforeblur":case"afterblur":xe=ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=te;break;case Nv:case Dv:case Mv:xe=Ws;break;case Lv:xe=rt;break;case"scroll":xe=_f;break;case"wheel":xe=Ke;break;case"copy":case"cut":case"paste":xe=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=P}var Se=(a&4)!==0,Lt=!Se&&s==="scroll",X=Se?ce!==null?ce+"Capture":null:ce;Se=[];for(var q=Z,J;q!==null;){J=q;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,X!==null&&(pe=Mt(q,X),pe!=null&&Se.push(Wl(q,pe,J)))),Lt)break;q=q.return}0<Se.length&&(ce=new xe(ce,_e,null,u,ue),he.push({event:ce,listeners:Se}))}}if((a&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ce&&u!==dr&&(_e=u.relatedTarget||u.fromElement)&&(yo(_e)||_e[qs]))break e;if((xe||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,xe?(_e=u.relatedTarget||u.toElement,xe=Z,_e=_e?yo(_e):null,_e!==null&&(Lt=Kr(_e),_e!==Lt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(xe=null,_e=Z),xe!==_e)){if(Se=fa,pe="onMouseLeave",X="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Se=P,pe="onPointerLeave",X="onPointerEnter",q="pointer"),Lt=xe==null?ce:Sa(xe),J=_e==null?ce:Sa(_e),ce=new Se(pe,q+"leave",xe,u,ue),ce.target=Lt,ce.relatedTarget=J,pe=null,yo(ue)===Z&&(Se=new Se(X,q+"enter",_e,u,ue),Se.target=J,Se.relatedTarget=Lt,pe=Se),Lt=pe,xe&&_e)t:{for(Se=xe,X=_e,q=0,J=Se;J;J=_a(J))q++;for(J=0,pe=X;pe;pe=_a(pe))J++;for(;0<q-J;)Se=_a(Se),q--;for(;0<J-q;)X=_a(X),J--;for(;q--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=_a(Se),X=_a(X)}Se=null}else Se=null;xe!==null&&Uv(he,ce,xe,Se,!1),_e!==null&&Lt!==null&&Uv(he,Lt,_e,Se,!0)}}e:{if(ce=Z?Sa(Z):window,xe=ce.nodeName&&ce.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ce.type==="file")var Ee=sE;else if(_v(ce))if(Sv)Ee=lE;else{Ee=oE;var Ie=iE}else(xe=ce.nodeName)&&xe.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ee=aE);if(Ee&&(Ee=Ee(s,Z))){wv(he,Ee,u,ue);break e}Ie&&Ie(s,ce,Z),s==="focusout"&&(Ie=ce._wrapperState)&&Ie.controlled&&ce.type==="number"&&qn(ce,"number",ce.value)}switch(Ie=Z?Sa(Z):window,s){case"focusin":(_v(Ie)||Ie.contentEditable==="true")&&(xa=Ie,Ef=Z,zl=null);break;case"focusout":zl=Ef=xa=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Rv(he,u,ue);break;case"selectionchange":if(dE)break;case"keydown":case"keyup":Rv(he,u,ue)}var Re;if(Bt)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else va?xv(s,u)&&(De="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(go&&u.locale!=="ko"&&(va||De!=="onCompositionStart"?De==="onCompositionEnd"&&va&&(Re=Ll()):(mr=ue,ca="value"in mr?mr.value:mr.textContent,va=!0)),Ie=zu(Z,De),0<Ie.length&&(De=new Bl(De,s,null,u,ue),he.push({event:De,listeners:Ie}),Re?De.data=Re:(Re=bv(u),Re!==null&&(De.data=Re)))),(Re=gr?eE(s,u):tE(s,u))&&(Z=zu(Z,"onBeforeInput"),0<Z.length&&(ue=new Bl("onBeforeInput","beforeinput",null,u,ue),he.push({event:ue,listeners:Z}),ue.data=Re))}Ov(he,a)})}function Wl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function zu(s,a){for(var u=a+"Capture",m=[];s!==null;){var y=s,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=Mt(s,u),b!=null&&m.unshift(Wl(s,b,y)),b=Mt(s,a),b!=null&&m.push(Wl(s,b,y))),s=s.return}return m}function _a(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uv(s,a,u,m,y){for(var b=a._reactName,k=[];u!==null&&u!==m;){var O=u,z=O.alternate,Z=O.stateNode;if(z!==null&&z===m)break;O.tag===5&&Z!==null&&(O=Z,y?(z=Mt(u,b),z!=null&&k.unshift(Wl(u,z,O))):y||(z=Mt(u,b),z!=null&&k.push(Wl(u,z,O)))),u=u.return}k.length!==0&&s.push({event:a,listeners:k})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function zv(s){return(typeof s=="string"?s:""+s).replace(mE,`
`).replace(gE,"")}function Hu(s,a,u){if(a=zv(a),zv(s)!==a&&u)throw Error(n(425))}function Gu(){}var Pf=null,Nf=null;function Df(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mf=typeof setTimeout=="function"?setTimeout:void 0,yE=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv!="undefined"?function(s){return Hv.resolve(null).then(s).catch(xE)}:Mf;function xE(s){setTimeout(function(){throw s})}function Lf(s,a){var u=a,m=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){s.removeChild(y),Zr(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);Zr(a)}function Ci(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Gv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Es="__reactFiber$"+wa,ql="__reactProps$"+wa,qs="__reactContainer$"+wa,Ff="__reactEvents$"+wa,bE="__reactListeners$"+wa,_E="__reactHandles$"+wa;function yo(s){var a=s[Es];if(a)return a;for(var u=s.parentNode;u;){if(a=u[qs]||u[Es]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Gv(s);s!==null;){if(u=s[Es])return u;s=Gv(s)}return a}s=u,u=s.parentNode}return null}function Kl(s){return s=s[Es]||s[qs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Sa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Wu(s){return s[ql]||null}var Vf=[],Ta=-1;function Ai(s){return{current:s}}function xt(s){0>Ta||(s.current=Vf[Ta],Vf[Ta]=null,Ta--)}function ft(s,a){Ta++,Vf[Ta]=s.current,s.current=a}var Ii={},En=Ai(Ii),Zn=Ai(!1),vo=Ii;function Ea(s,a){var u=s.type.contextTypes;if(!u)return Ii;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in u)y[b]=a[b];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function er(s){return s=s.childContextTypes,s!=null}function qu(){xt(Zn),xt(En)}function Wv(s,a,u){if(En.current!==Ii)throw Error(n(168));ft(En,a),ft(Zn,u)}function qv(s,a,u){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,ke(s)||"Unknown",y));return ie({},u,m)}function Ku(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ii,vo=En.current,ft(En,s),ft(Zn,Zn.current),!0}function Kv(s,a,u){var m=s.stateNode;if(!m)throw Error(n(169));u?(s=qv(s,a,vo),m.__reactInternalMemoizedMergedChildContext=s,xt(Zn),xt(En),ft(En,s)):xt(Zn),ft(Zn,u)}var Ks=null,Qu=!1,Bf=!1;function Qv(s){Ks===null?Ks=[s]:Ks.push(s)}function wE(s){Qu=!0,Qv(s)}function Ri(){if(!Bf&&Ks!==null){Bf=!0;var s=0,a=qe;try{var u=Ks;for(qe=1;s<u.length;s++){var m=u[s];do m=m(!0);while(m!==null)}Ks=null,Qu=!1}catch(y){throw Ks!==null&&(Ks=Ks.slice(s+1)),sa(lo,Ri),y}finally{qe=a,Bf=!1}}return null}var ja=[],ka=0,Yu=null,Xu=0,Pr=[],Nr=0,xo=null,Qs=1,Ys="";function bo(s,a){ja[ka++]=Xu,ja[ka++]=Yu,Yu=s,Xu=a}function Yv(s,a,u){Pr[Nr++]=Qs,Pr[Nr++]=Ys,Pr[Nr++]=xo,xo=s;var m=Qs;s=Ys;var y=32-Ln(m)-1;m&=~(1<<y),u+=1;var b=32-Ln(a)+y;if(30<b){var k=y-y%5;b=(m&(1<<k)-1).toString(32),m>>=k,y-=k,Qs=1<<32-Ln(a)+y|u<<y|m,Ys=b+s}else Qs=1<<b|u<<y|m,Ys=s}function Of(s){s.return!==null&&(bo(s,1),Yv(s,1,0))}function $f(s){for(;s===Yu;)Yu=ja[--ka],ja[ka]=null,Xu=ja[--ka],ja[ka]=null;for(;s===xo;)xo=Pr[--Nr],Pr[Nr]=null,Ys=Pr[--Nr],Pr[Nr]=null,Qs=Pr[--Nr],Pr[Nr]=null}var yr=null,vr=null,_t=!1,ns=null;function Xv(s,a){var u=Fr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Jv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,yr=s,vr=Ci(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,yr=s,vr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=xo!==null?{id:Qs,overflow:Ys}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Fr(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,yr=s,vr=null,!0):!1;default:return!1}}function Uf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zf(s){if(_t){var a=vr;if(a){var u=a;if(!Jv(s,a)){if(Uf(s))throw Error(n(418));a=Ci(u.nextSibling);var m=yr;a&&Jv(s,a)?Xv(m,u):(s.flags=s.flags&-4097|2,_t=!1,yr=s)}}else{if(Uf(s))throw Error(n(418));s.flags=s.flags&-4097|2,_t=!1,yr=s}}}function Zv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yr=s}function Ju(s){if(s!==yr)return!1;if(!_t)return Zv(s),_t=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Df(s.type,s.memoizedProps)),a&&(a=vr)){if(Uf(s))throw ex(),Error(n(418));for(;a;)Xv(s,a),a=Ci(a.nextSibling)}if(Zv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){vr=Ci(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}vr=null}}else vr=yr?Ci(s.stateNode.nextSibling):null;return!0}function ex(){for(var s=vr;s;)s=Ci(s.nextSibling)}function Ca(){vr=yr=null,_t=!1}function Hf(s){ns===null?ns=[s]:ns.push(s)}var SE=U.ReactCurrentBatchConfig;function Ql(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,s));var y=m,b=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(k){var O=y.refs;k===null?delete O[b]:O[b]=k},a._stringRef=b,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Zu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function tx(s){var a=s._init;return a(s._payload)}function nx(s){function a(X,q){if(s){var J=X.deletions;J===null?(X.deletions=[q],X.flags|=16):J.push(q)}}function u(X,q){if(!s)return null;for(;q!==null;)a(X,q),q=q.sibling;return null}function m(X,q){for(X=new Map;q!==null;)q.key!==null?X.set(q.key,q):X.set(q.index,q),q=q.sibling;return X}function y(X,q){return X=Bi(X,q),X.index=0,X.sibling=null,X}function b(X,q,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<q?(X.flags|=2,q):J):(X.flags|=2,q)):(X.flags|=1048576,q)}function k(X){return s&&X.alternate===null&&(X.flags|=2),X}function O(X,q,J,pe){return q===null||q.tag!==6?(q=Mp(J,X.mode,pe),q.return=X,q):(q=y(q,J),q.return=X,q)}function z(X,q,J,pe){var Ee=J.type;return Ee===E?ue(X,q,J.props.children,pe,J.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&tx(Ee)===q.type)?(pe=y(q,J.props),pe.ref=Ql(X,q,J),pe.return=X,pe):(pe=Sd(J.type,J.key,J.props,null,X.mode,pe),pe.ref=Ql(X,q,J),pe.return=X,pe)}function Z(X,q,J,pe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Lp(J,X.mode,pe),q.return=X,q):(q=y(q,J.children||[]),q.return=X,q)}function ue(X,q,J,pe,Ee){return q===null||q.tag!==7?(q=Co(J,X.mode,pe,Ee),q.return=X,q):(q=y(q,J),q.return=X,q)}function he(X,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Mp(""+q,X.mode,J),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return J=Sd(q.type,q.key,q.props,null,X.mode,J),J.ref=Ql(X,null,q),J.return=X,J;case W:return q=Lp(q,X.mode,J),q.return=X,q;case re:var pe=q._init;return he(X,pe(q._payload),J)}if(ln(q)||oe(q))return q=Co(q,X.mode,J,null),q.return=X,q;Zu(X,q)}return null}function ce(X,q,J,pe){var Ee=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ee!==null?null:O(X,q,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===Ee?z(X,q,J,pe):null;case W:return J.key===Ee?Z(X,q,J,pe):null;case re:return Ee=J._init,ce(X,q,Ee(J._payload),pe)}if(ln(J)||oe(J))return Ee!==null?null:ue(X,q,J,pe,null);Zu(X,J)}return null}function xe(X,q,J,pe,Ee){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return X=X.get(J)||null,O(q,X,""+pe,Ee);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case $:return X=X.get(pe.key===null?J:pe.key)||null,z(q,X,pe,Ee);case W:return X=X.get(pe.key===null?J:pe.key)||null,Z(q,X,pe,Ee);case re:var Ie=pe._init;return xe(X,q,J,Ie(pe._payload),Ee)}if(ln(pe)||oe(pe))return X=X.get(J)||null,ue(q,X,pe,Ee,null);Zu(q,pe)}return null}function _e(X,q,J,pe){for(var Ee=null,Ie=null,Re=q,De=q=0,nn=null;Re!==null&&De<J.length;De++){Re.index>De?(nn=Re,Re=null):nn=Re.sibling;var Ze=ce(X,Re,J[De],pe);if(Ze===null){Re===null&&(Re=nn);break}s&&Re&&Ze.alternate===null&&a(X,Re),q=b(Ze,q,De),Ie===null?Ee=Ze:Ie.sibling=Ze,Ie=Ze,Re=nn}if(De===J.length)return u(X,Re),_t&&bo(X,De),Ee;if(Re===null){for(;De<J.length;De++)Re=he(X,J[De],pe),Re!==null&&(q=b(Re,q,De),Ie===null?Ee=Re:Ie.sibling=Re,Ie=Re);return _t&&bo(X,De),Ee}for(Re=m(X,Re);De<J.length;De++)nn=xe(Re,X,De,J[De],pe),nn!==null&&(s&&nn.alternate!==null&&Re.delete(nn.key===null?De:nn.key),q=b(nn,q,De),Ie===null?Ee=nn:Ie.sibling=nn,Ie=nn);return s&&Re.forEach(function(Oi){return a(X,Oi)}),_t&&bo(X,De),Ee}function Se(X,q,J,pe){var Ee=oe(J);if(typeof Ee!="function")throw Error(n(150));if(J=Ee.call(J),J==null)throw Error(n(151));for(var Ie=Ee=null,Re=q,De=q=0,nn=null,Ze=J.next();Re!==null&&!Ze.done;De++,Ze=J.next()){Re.index>De?(nn=Re,Re=null):nn=Re.sibling;var Oi=ce(X,Re,Ze.value,pe);if(Oi===null){Re===null&&(Re=nn);break}s&&Re&&Oi.alternate===null&&a(X,Re),q=b(Oi,q,De),Ie===null?Ee=Oi:Ie.sibling=Oi,Ie=Oi,Re=nn}if(Ze.done)return u(X,Re),_t&&bo(X,De),Ee;if(Re===null){for(;!Ze.done;De++,Ze=J.next())Ze=he(X,Ze.value,pe),Ze!==null&&(q=b(Ze,q,De),Ie===null?Ee=Ze:Ie.sibling=Ze,Ie=Ze);return _t&&bo(X,De),Ee}for(Re=m(X,Re);!Ze.done;De++,Ze=J.next())Ze=xe(Re,X,De,Ze.value,pe),Ze!==null&&(s&&Ze.alternate!==null&&Re.delete(Ze.key===null?De:Ze.key),q=b(Ze,q,De),Ie===null?Ee=Ze:Ie.sibling=Ze,Ie=Ze);return s&&Re.forEach(function(nj){return a(X,nj)}),_t&&bo(X,De),Ee}function Lt(X,q,J,pe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var Ee=J.key,Ie=q;Ie!==null;){if(Ie.key===Ee){if(Ee=J.type,Ee===E){if(Ie.tag===7){u(X,Ie.sibling),q=y(Ie,J.props.children),q.return=X,X=q;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&tx(Ee)===Ie.type){u(X,Ie.sibling),q=y(Ie,J.props),q.ref=Ql(X,Ie,J),q.return=X,X=q;break e}u(X,Ie);break}else a(X,Ie);Ie=Ie.sibling}J.type===E?(q=Co(J.props.children,X.mode,pe,J.key),q.return=X,X=q):(pe=Sd(J.type,J.key,J.props,null,X.mode,pe),pe.ref=Ql(X,q,J),pe.return=X,X=pe)}return k(X);case W:e:{for(Ie=J.key;q!==null;){if(q.key===Ie)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){u(X,q.sibling),q=y(q,J.children||[]),q.return=X,X=q;break e}else{u(X,q);break}else a(X,q);q=q.sibling}q=Lp(J,X.mode,pe),q.return=X,X=q}return k(X);case re:return Ie=J._init,Lt(X,q,Ie(J._payload),pe)}if(ln(J))return _e(X,q,J,pe);if(oe(J))return Se(X,q,J,pe);Zu(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(u(X,q.sibling),q=y(q,J),q.return=X,X=q):(u(X,q),q=Mp(J,X.mode,pe),q.return=X,X=q),k(X)):u(X,q)}return Lt}var Aa=nx(!0),rx=nx(!1),ed=Ai(null),td=null,Ia=null,Gf=null;function Wf(){Gf=Ia=td=null}function qf(s){var a=ed.current;xt(ed),s._currentValue=a}function Kf(s,a,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===u)break;s=s.return}}function Ra(s,a){td=s,Gf=Ia=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(tr=!0),s.firstContext=null)}function Dr(s){var a=s._currentValue;if(Gf!==s)if(s={context:s,memoizedValue:a,next:null},Ia===null){if(td===null)throw Error(n(308));Ia=s,td.dependencies={lanes:0,firstContext:s}}else Ia=Ia.next=s;return a}var _o=null;function Qf(s){_o===null?_o=[s]:_o.push(s)}function sx(s,a,u,m){var y=a.interleaved;return y===null?(u.next=u,Qf(a)):(u.next=y.next,y.next=u),a.interleaved=u,Xs(s,m)}function Xs(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Pi=!1;function Yf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ix(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Js(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ni(s,a,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Xe&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,Xs(s,u)}return y=m.interleaved,y===null?(a.next=a,Qf(m)):(a.next=y.next,y.next=a),m.interleaved=a,Xs(s,u)}function nd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,wi(s,u)}}function ox(s,a){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?y=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,effects:m.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function rd(s,a,u,m){var y=s.updateQueue;Pi=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var z=O,Z=z.next;z.next=null,k===null?b=Z:k.next=Z,k=z;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==k&&(O===null?ue.firstBaseUpdate=Z:O.next=Z,ue.lastBaseUpdate=z))}if(b!==null){var he=y.baseState;k=0,ue=Z=z=null,O=b;do{var ce=O.lane,xe=O.eventTime;if((m&ce)===ce){ue!==null&&(ue=ue.next={eventTime:xe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var _e=s,Se=O;switch(ce=a,xe=u,Se.tag){case 1:if(_e=Se.payload,typeof _e=="function"){he=_e.call(xe,he,ce);break e}he=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Se.payload,ce=typeof _e=="function"?_e.call(xe,he,ce):_e,ce==null)break e;he=ie({},he,ce);break e;case 2:Pi=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,ce=y.effects,ce===null?y.effects=[O]:ce.push(O))}else xe={eventTime:xe,lane:ce,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(Z=ue=xe,z=he):ue=ue.next=xe,k|=ce;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ce=O,O=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);if(ue===null&&(z=he),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ue,a=y.shared.interleaved,a!==null){y=a;do k|=y.lane,y=y.next;while(y!==a)}else b===null&&(y.shared.lanes=0);To|=k,s.lanes=k,s.memoizedState=he}}function ax(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Yl={},js=Ai(Yl),Xl=Ai(Yl),Jl=Ai(Yl);function wo(s){if(s===Yl)throw Error(n(174));return s}function Xf(s,a){switch(ft(Jl,a),ft(Xl,s),ft(js,Yl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ye(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ye(a,s)}xt(js),ft(js,a)}function Pa(){xt(js),xt(Xl),xt(Jl)}function lx(s){wo(Jl.current);var a=wo(js.current),u=Ye(a,s.type);a!==u&&(ft(Xl,s),ft(js,u))}function Jf(s){Xl.current===s&&(xt(js),xt(Xl))}var Tt=Ai(0);function sd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zf=[];function ep(){for(var s=0;s<Zf.length;s++)Zf[s]._workInProgressVersionPrimary=null;Zf.length=0}var id=U.ReactCurrentDispatcher,tp=U.ReactCurrentBatchConfig,So=0,Et=null,Kt=null,en=null,od=!1,Zl=!1,ec=0,TE=0;function jn(){throw Error(n(321))}function np(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!ts(s[u],a[u]))return!1;return!0}function rp(s,a,u,m,y,b){if(So=b,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,id.current=s===null||s.memoizedState===null?CE:AE,s=u(m,y),Zl){b=0;do{if(Zl=!1,ec=0,25<=b)throw Error(n(301));b+=1,en=Kt=null,a.updateQueue=null,id.current=IE,s=u(m,y)}while(Zl)}if(id.current=cd,a=Kt!==null&&Kt.next!==null,So=0,en=Kt=Et=null,od=!1,a)throw Error(n(300));return s}function sp(){var s=ec!==0;return ec=0,s}function ks(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Et.memoizedState=en=s:en=en.next=s,en}function Mr(){if(Kt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Kt.next;var a=en===null?Et.memoizedState:en.next;if(a!==null)en=a,Kt=s;else{if(s===null)throw Error(n(310));Kt=s,s={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Et.memoizedState=en=s:en=en.next=s}return en}function tc(s,a){return typeof a=="function"?a(s):a}function ip(s){var a=Mr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=Kt,y=m.baseQueue,b=u.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}m.baseQueue=y=b,u.pending=null}if(y!==null){b=y.next,m=m.baseState;var O=k=null,z=null,Z=b;do{var ue=Z.lane;if((So&ue)===ue)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:s(m,Z.action);else{var he={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(O=z=he,k=m):z=z.next=he,Et.lanes|=ue,To|=ue}Z=Z.next}while(Z!==null&&Z!==b);z===null?k=m:z.next=O,ts(m,a.memoizedState)||(tr=!0),a.memoizedState=m,a.baseState=k,a.baseQueue=z,u.lastRenderedState=m}if(s=u.interleaved,s!==null){y=s;do b=y.lane,Et.lanes|=b,To|=b,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function op(s){var a=Mr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do b=s(b,k.action),k=k.next;while(k!==y);ts(b,a.memoizedState)||(tr=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,m]}function cx(){}function ux(s,a){var u=Et,m=Mr(),y=a(),b=!ts(m.memoizedState,y);if(b&&(m.memoizedState=y,tr=!0),m=m.queue,ap(fx.bind(null,u,m,s),[s]),m.getSnapshot!==a||b||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,nc(9,hx.bind(null,u,m,y,a),void 0,null),tn===null)throw Error(n(349));(So&30)!==0||dx(u,a,y)}return y}function dx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function hx(s,a,u,m){a.value=u,a.getSnapshot=m,px(a)&&mx(s)}function fx(s,a,u){return u(function(){px(a)&&mx(s)})}function px(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!ts(s,u)}catch(m){return!0}}function mx(s){var a=Xs(s,1);a!==null&&os(a,s,1,-1)}function gx(s){var a=ks();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:s},a.queue=s,s=s.dispatch=kE.bind(null,Et,s),[a.memoizedState,s]}function nc(s,a,u,m){return s={tag:s,create:a,destroy:u,deps:m,next:null},a=Et.updateQueue,a===null?(a={lastEffect:null,stores:null},Et.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,a.lastEffect=s)),s}function yx(){return Mr().memoizedState}function ad(s,a,u,m){var y=ks();Et.flags|=s,y.memoizedState=nc(1|a,u,void 0,m===void 0?null:m)}function ld(s,a,u,m){var y=Mr();m=m===void 0?null:m;var b=void 0;if(Kt!==null){var k=Kt.memoizedState;if(b=k.destroy,m!==null&&np(m,k.deps)){y.memoizedState=nc(a,u,b,m);return}}Et.flags|=s,y.memoizedState=nc(1|a,u,b,m)}function vx(s,a){return ad(8390656,8,s,a)}function ap(s,a){return ld(2048,8,s,a)}function xx(s,a){return ld(4,2,s,a)}function bx(s,a){return ld(4,4,s,a)}function _x(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function wx(s,a,u){return u=u!=null?u.concat([s]):null,ld(4,4,_x.bind(null,a,s),u)}function lp(){}function Sx(s,a){var u=Mr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&np(a,m[1])?m[0]:(u.memoizedState=[s,a],s)}function Tx(s,a){var u=Mr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&np(a,m[1])?m[0]:(s=s(),u.memoizedState=[s,a],s)}function Ex(s,a,u){return(So&21)===0?(s.baseState&&(s.baseState=!1,tr=!0),s.memoizedState=u):(ts(u,a)||(u=ho(),Et.lanes|=u,To|=u,s.baseState=!0),a)}function EE(s,a){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var m=tp.transition;tp.transition={};try{s(!1),a()}finally{qe=u,tp.transition=m}}function jx(){return Mr().memoizedState}function jE(s,a,u){var m=Fi(s);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},kx(s))Cx(a,u);else if(u=sx(s,a,u,m),u!==null){var y=Bn();os(u,s,m,y),Ax(u,a,m)}}function kE(s,a,u){var m=Fi(s),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(kx(s))Cx(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var k=a.lastRenderedState,O=b(k,u);if(y.hasEagerState=!0,y.eagerState=O,ts(O,k)){var z=a.interleaved;z===null?(y.next=y,Qf(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch(Z){}finally{}u=sx(s,a,y,m),u!==null&&(y=Bn(),os(u,s,m,y),Ax(u,a,m))}}function kx(s){var a=s.alternate;return s===Et||a!==null&&a===Et}function Cx(s,a){Zl=od=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Ax(s,a,u){if((u&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,wi(s,u)}}var cd={readContext:Dr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},CE={readContext:Dr,useCallback:function(s,a){return ks().memoizedState=[s,a===void 0?null:a],s},useContext:Dr,useEffect:vx,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,ad(4194308,4,_x.bind(null,a,s),u)},useLayoutEffect:function(s,a){return ad(4194308,4,s,a)},useInsertionEffect:function(s,a){return ad(4,2,s,a)},useMemo:function(s,a){var u=ks();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var m=ks();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=jE.bind(null,Et,s),[m.memoizedState,s]},useRef:function(s){var a=ks();return s={current:s},a.memoizedState=s},useState:gx,useDebugValue:lp,useDeferredValue:function(s){return ks().memoizedState=s},useTransition:function(){var s=gx(!1),a=s[0];return s=EE.bind(null,s[1]),ks().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var m=Et,y=ks();if(_t){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),tn===null)throw Error(n(349));(So&30)!==0||dx(m,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,vx(fx.bind(null,m,b,s),[s]),m.flags|=2048,nc(9,hx.bind(null,m,b,u,a),void 0,null),u},useId:function(){var s=ks(),a=tn.identifierPrefix;if(_t){var u=Ys,m=Qs;u=(m&~(1<<32-Ln(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=ec++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=TE++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},AE={readContext:Dr,useCallback:Sx,useContext:Dr,useEffect:ap,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:bx,useMemo:Tx,useReducer:ip,useRef:yx,useState:function(){return ip(tc)},useDebugValue:lp,useDeferredValue:function(s){var a=Mr();return Ex(a,Kt.memoizedState,s)},useTransition:function(){var s=ip(tc)[0],a=Mr().memoizedState;return[s,a]},useMutableSource:cx,useSyncExternalStore:ux,useId:jx,unstable_isNewReconciler:!1},IE={readContext:Dr,useCallback:Sx,useContext:Dr,useEffect:ap,useImperativeHandle:wx,useInsertionEffect:xx,useLayoutEffect:bx,useMemo:Tx,useReducer:op,useRef:yx,useState:function(){return op(tc)},useDebugValue:lp,useDeferredValue:function(s){var a=Mr();return Kt===null?a.memoizedState=s:Ex(a,Kt.memoizedState,s)},useTransition:function(){var s=op(tc)[0],a=Mr().memoizedState;return[s,a]},useMutableSource:cx,useSyncExternalStore:ux,useId:jx,unstable_isNewReconciler:!1};function rs(s,a){if(s&&s.defaultProps){a=ie({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function cp(s,a,u,m){a=s.memoizedState,u=u(m,a),u=u==null?a:ie({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var ud={isMounted:function(s){return(s=s._reactInternals)?Kr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var m=Bn(),y=Fi(s),b=Js(m,y);b.payload=a,u!=null&&(b.callback=u),a=Ni(s,b,y),a!==null&&(os(a,s,y,m),nd(a,s,y))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var m=Bn(),y=Fi(s),b=Js(m,y);b.tag=1,b.payload=a,u!=null&&(b.callback=u),a=Ni(s,b,y),a!==null&&(os(a,s,y,m),nd(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Bn(),m=Fi(s),y=Js(u,m);y.tag=2,a!=null&&(y.callback=a),a=Ni(s,y,m),a!==null&&(os(a,s,m,u),nd(a,s,m))}};function Ix(s,a,u,m,y,b,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,k):a.prototype&&a.prototype.isPureReactComponent?!Ul(u,m)||!Ul(y,b):!0}function Rx(s,a,u){var m=!1,y=Ii,b=a.contextType;return typeof b=="object"&&b!==null?b=Dr(b):(y=er(a)?vo:En.current,m=a.contextTypes,b=(m=m!=null)?Ea(s,y):Ii),a=new a(u,b),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ud,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=b),a}function Px(s,a,u,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==s&&ud.enqueueReplaceState(a,a.state,null)}function up(s,a,u,m){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},Yf(s);var b=a.contextType;typeof b=="object"&&b!==null?y.context=Dr(b):(b=er(a)?vo:En.current,y.context=Ea(s,b)),y.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(cp(s,a,b,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&ud.enqueueReplaceState(y,y.state,null),rd(s,u,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Na(s,a){try{var u="",m=a;do u+=je(m),m=m.return;while(m);var y=u}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:s,source:a,stack:y,digest:null}}function dp(s,a,u){return{value:s,source:null,stack:u!=null?u:null,digest:a!=null?a:null}}function hp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var RE=typeof WeakMap=="function"?WeakMap:Map;function Nx(s,a,u){u=Js(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){yd||(yd=!0,kp=m),hp(s,a)},u}function Dx(s,a,u){u=Js(-1,u),u.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){hp(s,a)}}var b=s.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){hp(s,a),typeof m!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),u}function Mx(s,a,u){var m=s.pingCache;if(m===null){m=s.pingCache=new RE;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),s=GE.bind(null,s,a,u),a.then(s,s))}function Lx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Fx(s,a,u,m,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Js(-1,1),a.tag=2,Ni(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var PE=U.ReactCurrentOwner,tr=!1;function Vn(s,a,u,m){a.child=s===null?rx(a,null,u,m):Aa(a,s.child,u,m)}function Vx(s,a,u,m,y){u=u.render;var b=a.ref;return Ra(a,y),m=rp(s,a,u,m,b,y),u=sp(),s!==null&&!tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Zs(s,a,y)):(_t&&u&&Of(a),a.flags|=1,Vn(s,a,m,y),a.child)}function Bx(s,a,u,m,y){if(s===null){var b=u.type;return typeof b=="function"&&!Dp(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=b,Ox(s,a,b,m,y)):(s=Sd(u.type,null,m,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,(s.lanes&y)===0){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:Ul,u(k,m)&&s.ref===a.ref)return Zs(s,a,y)}return a.flags|=1,s=Bi(b,m),s.ref=a.ref,s.return=a,a.child=s}function Ox(s,a,u,m,y){if(s!==null){var b=s.memoizedProps;if(Ul(b,m)&&s.ref===a.ref)if(tr=!1,a.pendingProps=m=b,(s.lanes&y)!==0)(s.flags&131072)!==0&&(tr=!0);else return a.lanes=s.lanes,Zs(s,a,y)}return fp(s,a,u,m,y)}function $x(s,a,u){var m=a.pendingProps,y=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ma,xr),xr|=u;else{if((u&1073741824)===0)return s=b!==null?b.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Ma,xr),xr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:u,ft(Ma,xr),xr|=m}else b!==null?(m=b.baseLanes|u,a.memoizedState=null):m=u,ft(Ma,xr),xr|=m;return Vn(s,a,y,u),a.child}function Ux(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function fp(s,a,u,m,y){var b=er(u)?vo:En.current;return b=Ea(a,b),Ra(a,y),u=rp(s,a,u,m,b,y),m=sp(),s!==null&&!tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Zs(s,a,y)):(_t&&m&&Of(a),a.flags|=1,Vn(s,a,u,y),a.child)}function zx(s,a,u,m,y){if(er(u)){var b=!0;Ku(a)}else b=!1;if(Ra(a,y),a.stateNode===null)hd(s,a),Rx(a,u,m),up(a,u,m,y),m=!0;else if(s===null){var k=a.stateNode,O=a.memoizedProps;k.props=O;var z=k.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Dr(Z):(Z=er(u)?vo:En.current,Z=Ea(a,Z));var ue=u.getDerivedStateFromProps,he=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function";he||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==m||z!==Z)&&Px(a,k,m,Z),Pi=!1;var ce=a.memoizedState;k.state=ce,rd(a,m,k,y),z=a.memoizedState,O!==m||ce!==z||Zn.current||Pi?(typeof ue=="function"&&(cp(a,u,ue,m),z=a.memoizedState),(O=Pi||Ix(a,u,O,m,ce,z,Z))?(he||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=z),k.props=m,k.state=z,k.context=Z,m=O):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{k=a.stateNode,ix(s,a),O=a.memoizedProps,Z=a.type===a.elementType?O:rs(a.type,O),k.props=Z,he=a.pendingProps,ce=k.context,z=u.contextType,typeof z=="object"&&z!==null?z=Dr(z):(z=er(u)?vo:En.current,z=Ea(a,z));var xe=u.getDerivedStateFromProps;(ue=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==he||ce!==z)&&Px(a,k,m,z),Pi=!1,ce=a.memoizedState,k.state=ce,rd(a,m,k,y);var _e=a.memoizedState;O!==he||ce!==_e||Zn.current||Pi?(typeof xe=="function"&&(cp(a,u,xe,m),_e=a.memoizedState),(Z=Pi||Ix(a,u,Z,m,ce,_e,z)||!1)?(ue||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,_e,z),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,_e,z)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=_e),k.props=m,k.state=_e,k.context=z,m=Z):(typeof k.componentDidUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),m=!1)}return pp(s,a,u,m,b,y)}function pp(s,a,u,m,y,b){Ux(s,a);var k=(a.flags&128)!==0;if(!m&&!k)return y&&Kv(a,u,!1),Zs(s,a,b);m=a.stateNode,PE.current=a;var O=k&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&k?(a.child=Aa(a,s.child,null,b),a.child=Aa(a,null,O,b)):Vn(s,a,O,b),a.memoizedState=m.state,y&&Kv(a,u,!0),a.child}function Hx(s){var a=s.stateNode;a.pendingContext?Wv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Wv(s,a.context,!1),Xf(s,a.containerInfo)}function Gx(s,a,u,m,y){return Ca(),Hf(y),a.flags|=256,Vn(s,a,u,m),a.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Wx(s,a,u){var m=a.pendingProps,y=Tt.current,b=!1,k=(a.flags&128)!==0,O;if((O=k)||(O=s!==null&&s.memoizedState===null?!1:(y&2)!==0),O?(b=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ft(Tt,y&1),s===null)return zf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=m.children,s=m.fallback,b?(m=a.mode,b=a.child,k={mode:"hidden",children:k},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=k):b=Td(k,m,0,null),s=Co(s,m,u,null),b.return=a,s.return=a,b.sibling=s,a.child=b,a.child.memoizedState=gp(u),a.memoizedState=mp,s):yp(a,k));if(y=s.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return NE(s,a,k,m,O,y,u);if(b){b=m.fallback,k=a.mode,y=s.child,O=y.sibling;var z={mode:"hidden",children:m.children};return(k&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=z,a.deletions=null):(m=Bi(y,z),m.subtreeFlags=y.subtreeFlags&14680064),O!==null?b=Bi(O,b):(b=Co(b,k,u,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,k=s.child.memoizedState,k=k===null?gp(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},b.memoizedState=k,b.childLanes=s.childLanes&~u,a.memoizedState=mp,m}return b=s.child,s=b.sibling,m=Bi(b,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=m,a.memoizedState=null,m}function yp(s,a){return a=Td({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function dd(s,a,u,m){return m!==null&&Hf(m),Aa(a,s.child,null,u),s=yp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function NE(s,a,u,m,y,b,k){if(u)return a.flags&256?(a.flags&=-257,m=dp(Error(n(422))),dd(s,a,k,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(b=m.fallback,y=a.mode,m=Td({mode:"visible",children:m.children},y,0,null),b=Co(b,y,k,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,(a.mode&1)!==0&&Aa(a,s.child,null,k),a.child.memoizedState=gp(k),a.memoizedState=mp,b);if((a.mode&1)===0)return dd(s,a,k,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;return m=O,b=Error(n(419)),m=dp(b,m,void 0),dd(s,a,k,m)}if(O=(k&s.childLanes)!==0,tr||O){if(m=tn,m!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|k))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,Xs(s,y),os(m,s,y,-1))}return Np(),m=dp(Error(n(421))),dd(s,a,k,m)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=WE.bind(null,s),y._reactRetry=a,null):(s=b.treeContext,vr=Ci(y.nextSibling),yr=a,_t=!0,ns=null,s!==null&&(Pr[Nr++]=Qs,Pr[Nr++]=Ys,Pr[Nr++]=xo,Qs=s.id,Ys=s.overflow,xo=a),a=yp(a,m.children),a.flags|=4096,a)}function qx(s,a,u){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),Kf(s.return,a,u)}function vp(s,a,u,m,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=u,b.tailMode=y)}function Kx(s,a,u){var m=a.pendingProps,y=m.revealOrder,b=m.tail;if(Vn(s,a,m.children,u),m=Tt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qx(s,u,a);else if(s.tag===19)qx(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(ft(Tt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&sd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),vp(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&sd(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}vp(a,!0,u,null,b);break;case"together":vp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Zs(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),To|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Bi(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Bi(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function DE(s,a,u){switch(a.tag){case 3:Hx(a),Ca();break;case 5:lx(a);break;case 1:er(a.type)&&Ku(a);break;case 4:Xf(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;ft(ed,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(ft(Tt,Tt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Wx(s,a,u):(ft(Tt,Tt.current&1),s=Zs(s,a,u),s!==null?s.sibling:null);ft(Tt,Tt.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(s.flags&128)!==0){if(m)return Kx(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(Tt,Tt.current),m)break;return null;case 22:case 23:return a.lanes=0,$x(s,a,u)}return Zs(s,a,u)}var Qx,xp,Yx,Xx;Qx=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},xp=function(){},Yx=function(s,a,u,m){var y=s.memoizedProps;if(y!==m){s=a.stateNode,wo(js.current);var b=null;switch(u){case"input":y=At(s,y),m=At(s,m),b=[];break;case"select":y=ie({},y,{value:void 0}),m=ie({},m,{value:void 0}),b=[];break;case"textarea":y=cr(s,y),m=cr(s,m),b=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Gu)}Bs(u,m);var k;u=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var O=y[Z];for(k in O)O.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?b||(b=[]):(b=b||[]).push(Z,null));for(Z in m){var z=m[Z];if(O=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&z!==O&&(z!=null||O!=null))if(Z==="style")if(O){for(k in O)!O.hasOwnProperty(k)||z&&z.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in z)z.hasOwnProperty(k)&&O[k]!==z[k]&&(u||(u={}),u[k]=z[k])}else u||(b||(b=[]),b.push(Z,u)),u=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,O=O?O.__html:void 0,z!=null&&O!==z&&(b=b||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&vt("scroll",s),b||O===z||(b=[])):(b=b||[]).push(Z,z))}u&&(b=b||[]).push("style",u);var Z=b;(a.updateQueue=Z)&&(a.flags|=4)}},Xx=function(s,a,u,m){u!==m&&(a.flags|=4)};function rc(s,a){if(!_t)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function kn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=u,a}function ME(s,a,u){var m=a.pendingProps;switch($f(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(a),null;case 1:return er(a.type)&&qu(),kn(a),null;case 3:return m=a.stateNode,Pa(),xt(Zn),xt(En),ep(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ju(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ns!==null&&(Ip(ns),ns=null))),xp(s,a),kn(a),null;case 5:Jf(a);var y=wo(Jl.current);if(u=a.type,s!==null&&a.stateNode!=null)Yx(s,a,u,m,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return kn(a),null}if(s=wo(js.current),Ju(a)){m=a.stateNode,u=a.type;var b=a.memoizedProps;switch(m[Es]=a,m[ql]=b,s=(a.mode&1)!==0,u){case"dialog":vt("cancel",m),vt("close",m);break;case"iframe":case"object":case"embed":vt("load",m);break;case"video":case"audio":for(y=0;y<Hl.length;y++)vt(Hl[y],m);break;case"source":vt("error",m);break;case"img":case"image":case"link":vt("error",m),vt("load",m);break;case"details":vt("toggle",m);break;case"input":Gn(m,b),vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},vt("invalid",m);break;case"textarea":Kn(m,b),vt("invalid",m)}Bs(u,b),y=null;for(var k in b)if(b.hasOwnProperty(k)){var O=b[k];k==="children"?typeof O=="string"?m.textContent!==O&&(b.suppressHydrationWarning!==!0&&Hu(m.textContent,O,s),y=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(b.suppressHydrationWarning!==!0&&Hu(m.textContent,O,s),y=["children",""+O]):i.hasOwnProperty(k)&&O!=null&&k==="onScroll"&&vt("scroll",m)}switch(u){case"input":Dt(m),jr(m,b,!0);break;case"textarea":Dt(m),ur(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Gu)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ut(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=k.createElement(u,{is:m.is}):(s=k.createElement(u),u==="select"&&(k=s,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):s=k.createElementNS(s,u),s[Es]=a,s[ql]=m,Qx(s,a,!1,!1),a.stateNode=s;e:{switch(k=vs(u,m),u){case"dialog":vt("cancel",s),vt("close",s),y=m;break;case"iframe":case"object":case"embed":vt("load",s),y=m;break;case"video":case"audio":for(y=0;y<Hl.length;y++)vt(Hl[y],s);y=m;break;case"source":vt("error",s),y=m;break;case"img":case"image":case"link":vt("error",s),vt("load",s),y=m;break;case"details":vt("toggle",s),y=m;break;case"input":Gn(s,m),y=At(s,m),vt("invalid",s);break;case"option":y=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},y=ie({},m,{value:void 0}),vt("invalid",s);break;case"textarea":Kn(s,m),y=cr(s,m),vt("invalid",s);break;default:y=m}Bs(u,y),O=y;for(b in O)if(O.hasOwnProperty(b)){var z=O[b];b==="style"?gs(s,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Hr(s,z)):b==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&at(s,z):typeof z=="number"&&at(s,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?z!=null&&b==="onScroll"&&vt("scroll",s):z!=null&&N(s,b,z,k))}switch(u){case"input":Dt(s),jr(s,m,!1);break;case"textarea":Dt(s),ur(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ae(m.value));break;case"select":s.multiple=!!m.multiple,b=m.value,b!=null?cn(s,!!m.multiple,b,!1):m.defaultValue!=null&&cn(s,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Gu)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kn(a),null;case 6:if(s&&a.stateNode!=null)Xx(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=wo(Jl.current),wo(js.current),Ju(a)){if(m=a.stateNode,u=a.memoizedProps,m[Es]=a,(b=m.nodeValue!==u)&&(s=yr,s!==null))switch(s.tag){case 3:Hu(m.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Hu(m.nodeValue,u,(s.mode&1)!==0)}b&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Es]=a,a.stateNode=m}return kn(a),null;case 13:if(xt(Tt),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&vr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ex(),Ca(),a.flags|=98560,b=!1;else if(b=Ju(a),m!==null&&m.dehydrated!==null){if(s===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Es]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kn(a),b=!1}else ns!==null&&(Ip(ns),ns=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Tt.current&1)!==0?Qt===0&&(Qt=3):Np())),a.updateQueue!==null&&(a.flags|=4),kn(a),null);case 4:return Pa(),xp(s,a),s===null&&Gl(a.stateNode.containerInfo),kn(a),null;case 10:return qf(a.type._context),kn(a),null;case 17:return er(a.type)&&qu(),kn(a),null;case 19:if(xt(Tt),b=a.memoizedState,b===null)return kn(a),null;if(m=(a.flags&128)!==0,k=b.rendering,k===null)if(m)rc(b,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(k=sd(s),k!==null){for(a.flags|=128,rc(b,!1),m=k.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)b=u,s=m,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=s,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,s=k.dependencies,b.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return ft(Tt,Tt.current&1|2),a.child}s=s.sibling}b.tail!==null&&ht()>La&&(a.flags|=128,m=!0,rc(b,!1),a.lanes=4194304)}else{if(!m)if(s=sd(k),s!==null){if(a.flags|=128,m=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),rc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!_t)return kn(a),null}else 2*ht()-b.renderingStartTime>La&&u!==1073741824&&(a.flags|=128,m=!0,rc(b,!1),a.lanes=4194304);b.isBackwards?(k.sibling=a.child,a.child=k):(u=b.last,u!==null?u.sibling=k:a.child=k,b.last=k)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=ht(),a.sibling=null,u=Tt.current,ft(Tt,m?u&1|2:u&1),a):(kn(a),null);case 22:case 23:return Pp(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(xr&1073741824)!==0&&(kn(a),a.subtreeFlags&6&&(a.flags|=8192)):kn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function LE(s,a){switch($f(a),a.tag){case 1:return er(a.type)&&qu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Pa(),xt(Zn),xt(En),ep(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Jf(a),null;case 13:if(xt(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return xt(Tt),null;case 4:return Pa(),null;case 10:return qf(a.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var fd=!1,Cn=!1,FE=typeof WeakSet=="function"?WeakSet:Set,be=null;function Da(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){It(s,a,m)}else u.current=null}function bp(s,a,u){try{u()}catch(m){It(s,a,m)}}var Jx=!1;function VE(s,a){if(Pf=Ei,s=Iv(),Tf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch(pe){u=null;break e}var k=0,O=-1,z=-1,Z=0,ue=0,he=s,ce=null;t:for(;;){for(var xe;he!==u||y!==0&&he.nodeType!==3||(O=k+y),he!==b||m!==0&&he.nodeType!==3||(z=k+m),he.nodeType===3&&(k+=he.nodeValue.length),(xe=he.firstChild)!==null;)ce=he,he=xe;for(;;){if(he===s)break t;if(ce===u&&++Z===y&&(O=k),ce===b&&++ue===m&&(z=k),(xe=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=xe}u=O===-1||z===-1?null:{start:O,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Nf={focusedElem:s,selectionRange:u},Ei=!1,be=a;be!==null;)if(a=be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,be=s;else for(;be!==null;){a=be;try{var _e=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Se=_e.memoizedProps,Lt=_e.memoizedState,X=a.stateNode,q=X.getSnapshotBeforeUpdate(a.elementType===a.type?Se:rs(a.type,Se),Lt);X.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){It(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,be=s;break}be=a.return}return _e=Jx,Jx=!1,_e}function sc(s,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&s)===s){var b=y.destroy;y.destroy=void 0,b!==void 0&&bp(a,u,b)}y=y.next}while(y!==m)}}function pd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function _p(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function Zx(s){var a=s.alternate;a!==null&&(s.alternate=null,Zx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Es],delete a[ql],delete a[Ff],delete a[bE],delete a[_E])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function e0(s){return s.tag===5||s.tag===3||s.tag===4}function t0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Gu));else if(m!==4&&(s=s.child,s!==null))for(wp(s,a,u),s=s.sibling;s!==null;)wp(s,a,u),s=s.sibling}function Sp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Sp(s,a,u),s=s.sibling;s!==null;)Sp(s,a,u),s=s.sibling}var hn=null,ss=!1;function Di(s,a,u){for(u=u.child;u!==null;)n0(s,a,u),u=u.sibling}function n0(s,a,u){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(co,u)}catch(O){}switch(u.tag){case 5:Cn||Da(u,a);case 6:var m=hn,y=ss;hn=null,Di(s,a,u),hn=m,ss=y,hn!==null&&(ss?(s=hn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):hn.removeChild(u.stateNode));break;case 18:hn!==null&&(ss?(s=hn,u=u.stateNode,s.nodeType===8?Lf(s.parentNode,u):s.nodeType===1&&Lf(s,u),Zr(s)):Lf(hn,u.stateNode));break;case 4:m=hn,y=ss,hn=u.stateNode.containerInfo,ss=!0,Di(s,a,u),hn=m,ss=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var b=y,k=b.destroy;b=b.tag,k!==void 0&&((b&2)!==0||(b&4)!==0)&&bp(u,a,k),y=y.next}while(y!==m)}Di(s,a,u);break;case 1:if(!Cn&&(Da(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(O){It(u,a,O)}Di(s,a,u);break;case 21:Di(s,a,u);break;case 22:u.mode&1?(Cn=(m=Cn)||u.memoizedState!==null,Di(s,a,u),Cn=m):Di(s,a,u);break;default:Di(s,a,u)}}function r0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new FE),a.forEach(function(m){var y=qE.bind(null,s,m);u.has(m)||(u.add(m),m.then(y,y))})}}function is(s,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var b=s,k=a,O=k;e:for(;O!==null;){switch(O.tag){case 5:hn=O.stateNode,ss=!1;break e;case 3:hn=O.stateNode.containerInfo,ss=!0;break e;case 4:hn=O.stateNode.containerInfo,ss=!0;break e}O=O.return}if(hn===null)throw Error(n(160));n0(b,k,y),hn=null,ss=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){It(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)s0(a,s),a=a.sibling}function s0(s,a){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(is(a,s),Cs(s),m&4){try{sc(3,s,s.return),pd(3,s)}catch(Se){It(s,s.return,Se)}try{sc(5,s,s.return)}catch(Se){It(s,s.return,Se)}}break;case 1:is(a,s),Cs(s),m&512&&u!==null&&Da(u,u.return);break;case 5:if(is(a,s),Cs(s),m&512&&u!==null&&Da(u,u.return),s.flags&32){var y=s.stateNode;try{at(y,"")}catch(Se){It(s,s.return,Se)}}if(m&4&&(y=s.stateNode,y!=null)){var b=s.memoizedProps,k=u!==null?u.memoizedProps:b,O=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{O==="input"&&b.type==="radio"&&b.name!=null&&Wn(y,b),vs(O,k);var Z=vs(O,b);for(k=0;k<z.length;k+=2){var ue=z[k],he=z[k+1];ue==="style"?gs(y,he):ue==="dangerouslySetInnerHTML"?Hr(y,he):ue==="children"?at(y,he):N(y,ue,he,Z)}switch(O){case"input":ot(y,b);break;case"textarea":Qn(y,b);break;case"select":var ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var xe=b.value;xe!=null?cn(y,!!b.multiple,xe,!1):ce!==!!b.multiple&&(b.defaultValue!=null?cn(y,!!b.multiple,b.defaultValue,!0):cn(y,!!b.multiple,b.multiple?[]:"",!1))}y[ql]=b}catch(Se){It(s,s.return,Se)}}break;case 6:if(is(a,s),Cs(s),m&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,b=s.memoizedProps;try{y.nodeValue=b}catch(Se){It(s,s.return,Se)}}break;case 3:if(is(a,s),Cs(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Zr(a.containerInfo)}catch(Se){It(s,s.return,Se)}break;case 4:is(a,s),Cs(s);break;case 13:is(a,s),Cs(s),y=s.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(jp=ht())),m&4&&r0(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(Cn=(Z=Cn)||ue,is(a,s),Cn=Z):is(a,s),Cs(s),m&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ue&&(s.mode&1)!==0)for(be=s,ue=s.child;ue!==null;){for(he=be=ue;be!==null;){switch(ce=be,xe=ce.child,ce.tag){case 0:case 11:case 14:case 15:sc(4,ce,ce.return);break;case 1:Da(ce,ce.return);var _e=ce.stateNode;if(typeof _e.componentWillUnmount=="function"){m=ce,u=ce.return;try{a=m,_e.props=a.memoizedProps,_e.state=a.memoizedState,_e.componentWillUnmount()}catch(Se){It(m,u,Se)}}break;case 5:Da(ce,ce.return);break;case 22:if(ce.memoizedState!==null){a0(he);continue}}xe!==null?(xe.return=ce,be=xe):a0(he)}ue=ue.sibling}e:for(ue=null,he=s;;){if(he.tag===5){if(ue===null){ue=he;try{y=he.stateNode,Z?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(O=he.stateNode,z=he.memoizedProps.style,k=z!=null&&z.hasOwnProperty("display")?z.display:null,O.style.display=ms("display",k))}catch(Se){It(s,s.return,Se)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(Se){It(s,s.return,Se)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:is(a,s),Cs(s),m&4&&r0(s);break;case 21:break;default:is(a,s),Cs(s)}}function Cs(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(e0(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(at(y,""),m.flags&=-33);var b=t0(s);Sp(s,b,y);break;case 3:case 4:var k=m.stateNode.containerInfo,O=t0(s);wp(s,O,k);break;default:throw Error(n(161))}}catch(z){It(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function BE(s,a,u){be=s,i0(s)}function i0(s,a,u){for(var m=(s.mode&1)!==0;be!==null;){var y=be,b=y.child;if(y.tag===22&&m){var k=y.memoizedState!==null||fd;if(!k){var O=y.alternate,z=O!==null&&O.memoizedState!==null||Cn;O=fd;var Z=Cn;if(fd=k,(Cn=z)&&!Z)for(be=y;be!==null;)k=be,z=k.child,k.tag===22&&k.memoizedState!==null?l0(y):z!==null?(z.return=k,be=z):l0(y);for(;b!==null;)be=b,i0(b),b=b.sibling;be=y,fd=O,Cn=Z}o0(s)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,be=b):o0(s)}}function o0(s){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||pd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Cn)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:rs(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&ax(a,b,m);break;case 3:var k=a.updateQueue;if(k!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}ax(a,k,u)}break;case 5:var O=a.stateNode;if(u===null&&a.flags&4){u=O;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&Zr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Cn||a.flags&512&&_p(a)}catch(ce){It(a,a.return,ce)}}if(a===s){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function a0(s){for(;be!==null;){var a=be;if(a===s){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function l0(s){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{pd(4,a)}catch(z){It(a,u,z)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(z){It(a,y,z)}}var b=a.return;try{_p(a)}catch(z){It(a,b,z)}break;case 5:var k=a.return;try{_p(a)}catch(z){It(a,k,z)}}}catch(z){It(a,a.return,z)}if(a===s){be=null;break}var O=a.sibling;if(O!==null){O.return=a.return,be=O;break}be=a.return}}var OE=Math.ceil,md=U.ReactCurrentDispatcher,Tp=U.ReactCurrentOwner,Lr=U.ReactCurrentBatchConfig,Xe=0,tn=null,Ot=null,fn=0,xr=0,Ma=Ai(0),Qt=0,ic=null,To=0,gd=0,Ep=0,oc=null,nr=null,jp=0,La=1/0,ei=null,yd=!1,kp=null,Mi=null,vd=!1,Li=null,xd=0,ac=0,Cp=null,bd=-1,_d=0;function Bn(){return(Xe&6)!==0?ht():bd!==-1?bd:bd=ht()}function Fi(s){return(s.mode&1)===0?1:(Xe&2)!==0&&fn!==0?fn&-fn:SE.transition!==null?(_d===0&&(_d=ho()),_d):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Ml(s.type)),s)}function os(s,a,u,m){if(50<ac)throw ac=0,Cp=null,Error(n(185));_i(s,u,m),((Xe&2)===0||s!==tn)&&(s===tn&&((Xe&2)===0&&(gd|=u),Qt===4&&Vi(s,fn)),rr(s,m),u===1&&Xe===0&&(a.mode&1)===0&&(La=ht()+500,Qu&&Ri()))}function rr(s,a){var u=s.callbackNode;Us(s,a);var m=uo(s,s===tn?fn:0);if(m===0)u!==null&&Il(u),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(u!=null&&Il(u),a===1)s.tag===0?wE(u0.bind(null,s)):Qv(u0.bind(null,s)),vE(function(){(Xe&6)===0&&Ri()}),u=null;else{switch(Si(m)){case 1:u=lo;break;case 4:u=vi;break;case 16:u=Ar;break;case 536870912:u=_u;break;default:u=Ar}u=v0(u,c0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function c0(s,a){if(bd=-1,_d=0,(Xe&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Fa()&&s.callbackNode!==u)return null;var m=uo(s,s===tn?fn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=wd(s,m);else{a=m;var y=Xe;Xe|=2;var b=h0();(tn!==s||fn!==a)&&(ei=null,La=ht()+500,jo(s,a));do try{zE();break}catch(O){d0(s,O)}while(!0);Wf(),md.current=b,Xe=y,Ot!==null?a=0:(tn=null,fn=0,a=Qt)}if(a!==0){if(a===2&&(y=pr(s),y!==0&&(m=y,a=Ap(s,y))),a===1)throw u=ic,jo(s,0),Vi(s,m),rr(s,ht()),u;if(a===6)Vi(s,m);else{if(y=s.current.alternate,(m&30)===0&&!$E(y)&&(a=wd(s,m),a===2&&(b=pr(s),b!==0&&(m=b,a=Ap(s,b))),a===1))throw u=ic,jo(s,0),Vi(s,m),rr(s,ht()),u;switch(s.finishedWork=y,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:ko(s,nr,ei);break;case 3:if(Vi(s,m),(m&130023424)===m&&(a=jp+500-ht(),10<a)){if(uo(s,0)!==0)break;if(y=s.suspendedLanes,(y&m)!==m){Bn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Mf(ko.bind(null,s,nr,ei),a);break}ko(s,nr,ei);break;case 4:if(Vi(s,m),(m&4194240)===m)break;for(a=s.eventTimes,y=-1;0<m;){var k=31-Ln(m);b=1<<k,k=a[k],k>y&&(y=k),m&=~b}if(m=y,m=ht()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*OE(m/1960))-m,10<m){s.timeoutHandle=Mf(ko.bind(null,s,nr,ei),m);break}ko(s,nr,ei);break;case 5:ko(s,nr,ei);break;default:throw Error(n(329))}}}return rr(s,ht()),s.callbackNode===u?c0.bind(null,s):null}function Ap(s,a){var u=oc;return s.current.memoizedState.isDehydrated&&(jo(s,a).flags|=256),s=wd(s,a),s!==2&&(a=nr,nr=u,a!==null&&Ip(a)),s}function Ip(s){nr===null?nr=s:nr.push.apply(nr,s)}function $E(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],b=y.getSnapshot;y=y.value;try{if(!ts(b(),y))return!1}catch(k){return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vi(s,a){for(a&=~Ep,a&=~gd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Ln(a),m=1<<u;s[u]=-1,a&=~m}}function u0(s){if((Xe&6)!==0)throw Error(n(327));Fa();var a=uo(s,0);if((a&1)===0)return rr(s,ht()),null;var u=wd(s,a);if(s.tag!==0&&u===2){var m=pr(s);m!==0&&(a=m,u=Ap(s,m))}if(u===1)throw u=ic,jo(s,0),Vi(s,a),rr(s,ht()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ko(s,nr,ei),rr(s,ht()),null}function Rp(s,a){var u=Xe;Xe|=1;try{return s(a)}finally{Xe=u,Xe===0&&(La=ht()+500,Qu&&Ri())}}function Eo(s){Li!==null&&Li.tag===0&&(Xe&6)===0&&Fa();var a=Xe;Xe|=1;var u=Lr.transition,m=qe;try{if(Lr.transition=null,qe=1,s)return s()}finally{qe=m,Lr.transition=u,Xe=a,(Xe&6)===0&&Ri()}}function Pp(){xr=Ma.current,xt(Ma)}function jo(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,yE(u)),Ot!==null)for(u=Ot.return;u!==null;){var m=u;switch($f(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&qu();break;case 3:Pa(),xt(Zn),xt(En),ep();break;case 5:Jf(m);break;case 4:Pa();break;case 13:xt(Tt);break;case 19:xt(Tt);break;case 10:qf(m.type._context);break;case 22:case 23:Pp()}u=u.return}if(tn=s,Ot=s=Bi(s.current,null),fn=xr=a,Qt=0,ic=null,Ep=gd=To=0,nr=oc=null,_o!==null){for(a=0;a<_o.length;a++)if(u=_o[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,b=u.pending;if(b!==null){var k=b.next;b.next=y,m.next=k}u.pending=m}_o=null}return s}function d0(s,a){do{var u=Ot;try{if(Wf(),id.current=cd,od){for(var m=Et.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}od=!1}if(So=0,en=Kt=Et=null,Zl=!1,ec=0,Tp.current=null,u===null||u.return===null){Qt=1,ic=a,Ot=null;break}e:{var b=s,k=u.return,O=u,z=a;if(a=fn,O.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ue=O,he=ue.tag;if((ue.mode&1)===0&&(he===0||he===11||he===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var xe=Lx(k);if(xe!==null){xe.flags&=-257,Fx(xe,k,O,b,a),xe.mode&1&&Mx(b,Z,a),a=xe,z=Z;var _e=a.updateQueue;if(_e===null){var Se=new Set;Se.add(z),a.updateQueue=Se}else _e.add(z);break e}else{if((a&1)===0){Mx(b,Z,a),Np();break e}z=Error(n(426))}}else if(_t&&O.mode&1){var Lt=Lx(k);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Fx(Lt,k,O,b,a),Hf(Na(z,O));break e}}b=z=Na(z,O),Qt!==4&&(Qt=2),oc===null?oc=[b]:oc.push(b),b=k;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var X=Nx(b,z,a);ox(b,X);break e;case 1:O=z;var q=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Mi===null||!Mi.has(J)))){b.flags|=65536,a&=-a,b.lanes|=a;var pe=Dx(b,O,a);ox(b,pe);break e}}b=b.return}while(b!==null)}p0(u)}catch(Ee){a=Ee,Ot===u&&u!==null&&(Ot=u=u.return);continue}break}while(!0)}function h0(){var s=md.current;return md.current=cd,s===null?cd:s}function Np(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),tn===null||(To&268435455)===0&&(gd&268435455)===0||Vi(tn,fn)}function wd(s,a){var u=Xe;Xe|=2;var m=h0();(tn!==s||fn!==a)&&(ei=null,jo(s,a));do try{UE();break}catch(y){d0(s,y)}while(!0);if(Wf(),Xe=u,md.current=m,Ot!==null)throw Error(n(261));return tn=null,fn=0,Qt}function UE(){for(;Ot!==null;)f0(Ot)}function zE(){for(;Ot!==null&&!xu();)f0(Ot)}function f0(s){var a=y0(s.alternate,s,xr);s.memoizedProps=s.pendingProps,a===null?p0(s):Ot=a,Tp.current=null}function p0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=ME(u,a,xr),u!==null){Ot=u;return}}else{if(u=LE(u,a),u!==null){u.flags&=32767,Ot=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Qt=6,Ot=null;return}}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);Qt===0&&(Qt=5)}function ko(s,a,u){var m=qe,y=Lr.transition;try{Lr.transition=null,qe=1,HE(s,a,u,m)}finally{Lr.transition=y,qe=m}return null}function HE(s,a,u,m){do Fa();while(Li!==null);if((Xe&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var b=u.lanes|u.childLanes;if(lt(s,b),s===tn&&(Ot=tn=null,fn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||vd||(vd=!0,v0(Ar,function(){return Fa(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=Lr.transition,Lr.transition=null;var k=qe;qe=1;var O=Xe;Xe|=4,Tp.current=null,VE(s,u),s0(u,s),uE(Nf),Ei=!!Pf,Nf=Pf=null,s.current=u,BE(u),gf(),Xe=O,qe=k,Lr.transition=b}else s.current=u;if(vd&&(vd=!1,Li=s,xd=y),b=s.pendingLanes,b===0&&(Mi=null),wu(u.stateNode),rr(s,ht()),a!==null)for(m=s.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(yd)throw yd=!1,s=kp,kp=null,s;return(xd&1)!==0&&s.tag!==0&&Fa(),b=s.pendingLanes,(b&1)!==0?s===Cp?ac++:(ac=0,Cp=s):ac=0,Ri(),null}function Fa(){if(Li!==null){var s=Si(xd),a=Lr.transition,u=qe;try{if(Lr.transition=null,qe=16>s?16:s,Li===null)var m=!1;else{if(s=Li,Li=null,xd=0,(Xe&6)!==0)throw Error(n(331));var y=Xe;for(Xe|=4,be=s.current;be!==null;){var b=be,k=b.child;if((be.flags&16)!==0){var O=b.deletions;if(O!==null){for(var z=0;z<O.length;z++){var Z=O[z];for(be=Z;be!==null;){var ue=be;switch(ue.tag){case 0:case 11:case 15:sc(8,ue,b)}var he=ue.child;if(he!==null)he.return=ue,be=he;else for(;be!==null;){ue=be;var ce=ue.sibling,xe=ue.return;if(Zx(ue),ue===Z){be=null;break}if(ce!==null){ce.return=xe,be=ce;break}be=xe}}}var _e=b.alternate;if(_e!==null){var Se=_e.child;if(Se!==null){_e.child=null;do{var Lt=Se.sibling;Se.sibling=null,Se=Lt}while(Se!==null)}}be=b}}if((b.subtreeFlags&2064)!==0&&k!==null)k.return=b,be=k;else e:for(;be!==null;){if(b=be,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:sc(9,b,b.return)}var X=b.sibling;if(X!==null){X.return=b.return,be=X;break e}be=b.return}}var q=s.current;for(be=q;be!==null;){k=be;var J=k.child;if((k.subtreeFlags&2064)!==0&&J!==null)J.return=k,be=J;else e:for(k=q;be!==null;){if(O=be,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:pd(9,O)}}catch(Ee){It(O,O.return,Ee)}if(O===k){be=null;break e}var pe=O.sibling;if(pe!==null){pe.return=O.return,be=pe;break e}be=O.return}}if(Xe=y,Ri(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(co,s)}catch(Ee){}m=!0}return m}finally{qe=u,Lr.transition=a}}return!1}function m0(s,a,u){a=Na(u,a),a=Nx(s,a,1),s=Ni(s,a,1),a=Bn(),s!==null&&(_i(s,1,a),rr(s,a))}function It(s,a,u){if(s.tag===3)m0(s,s,u);else for(;a!==null;){if(a.tag===3){m0(a,s,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))){s=Na(u,s),s=Dx(a,s,1),a=Ni(a,s,1),s=Bn(),a!==null&&(_i(a,1,s),rr(a,s));break}}a=a.return}}function GE(s,a,u){var m=s.pingCache;m!==null&&m.delete(a),a=Bn(),s.pingedLanes|=s.suspendedLanes&u,tn===s&&(fn&u)===u&&(Qt===4||Qt===3&&(fn&130023424)===fn&&500>ht()-jp?jo(s,0):Ep|=u),rr(s,a)}function g0(s,a){a===0&&((s.mode&1)===0?a=1:(a=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var u=Bn();s=Xs(s,a),s!==null&&(_i(s,a,u),rr(s,u))}function WE(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),g0(s,u)}function qE(s,a){var u=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),g0(s,u)}var y0;y0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Zn.current)tr=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return tr=!1,DE(s,a,u);tr=(s.flags&131072)!==0}else tr=!1,_t&&(a.flags&1048576)!==0&&Yv(a,Xu,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;hd(s,a),s=a.pendingProps;var y=Ea(a,En.current);Ra(a,u),y=rp(null,a,m,s,y,u);var b=sp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,er(m)?(b=!0,Ku(a)):b=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Yf(a),y.updater=ud,a.stateNode=y,y._reactInternals=a,up(a,m,s,u),a=pp(null,a,m,!0,b,u)):(a.tag=0,_t&&b&&Of(a),Vn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(hd(s,a),s=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=QE(m),s=rs(m,s),y){case 0:a=fp(null,a,m,s,u);break e;case 1:a=zx(null,a,m,s,u);break e;case 11:a=Vx(null,a,m,s,u);break e;case 14:a=Bx(null,a,m,rs(m.type,s),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:rs(m,y),fp(s,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:rs(m,y),zx(s,a,m,y,u);case 3:e:{if(Hx(a),s===null)throw Error(n(387));m=a.pendingProps,b=a.memoizedState,y=b.element,ix(s,a),rd(a,m,null,u);var k=a.memoizedState;if(m=k.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){y=Na(Error(n(423)),a),a=Gx(s,a,m,u,y);break e}else if(m!==y){y=Na(Error(n(424)),a),a=Gx(s,a,m,u,y);break e}else for(vr=Ci(a.stateNode.containerInfo.firstChild),yr=a,_t=!0,ns=null,u=rx(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),m===y){a=Zs(s,a,u);break e}Vn(s,a,m,u)}a=a.child}return a;case 5:return lx(a),s===null&&zf(a),m=a.type,y=a.pendingProps,b=s!==null?s.memoizedProps:null,k=y.children,Df(m,y)?k=null:b!==null&&Df(m,b)&&(a.flags|=32),Ux(s,a),Vn(s,a,k,u),a.child;case 6:return s===null&&zf(a),null;case 13:return Wx(s,a,u);case 4:return Xf(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Aa(a,null,m,u):Vn(s,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:rs(m,y),Vx(s,a,m,y,u);case 7:return Vn(s,a,a.pendingProps,u),a.child;case 8:return Vn(s,a,a.pendingProps.children,u),a.child;case 12:return Vn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,b=a.memoizedProps,k=y.value,ft(ed,m._currentValue),m._currentValue=k,b!==null)if(ts(b.value,k)){if(b.children===y.children&&!Zn.current){a=Zs(s,a,u);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var O=b.dependencies;if(O!==null){k=b.child;for(var z=O.firstContext;z!==null;){if(z.context===m){if(b.tag===1){z=Js(-1,u&-u),z.tag=2;var Z=b.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?z.next=z:(z.next=ue.next,ue.next=z),Z.pending=z}}b.lanes|=u,z=b.alternate,z!==null&&(z.lanes|=u),Kf(b.return,u,a),O.lanes|=u;break}z=z.next}}else if(b.tag===10)k=b.type===a.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=u,O=k.alternate,O!==null&&(O.lanes|=u),Kf(k,u,a),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===a){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}Vn(s,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Ra(a,u),y=Dr(y),m=m(y),a.flags|=1,Vn(s,a,m,u),a.child;case 14:return m=a.type,y=rs(m,a.pendingProps),y=rs(m.type,y),Bx(s,a,m,y,u);case 15:return Ox(s,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:rs(m,y),hd(s,a),a.tag=1,er(m)?(s=!0,Ku(a)):s=!1,Ra(a,u),Rx(a,m,y),up(a,m,y,u),pp(null,a,m,!0,s,u);case 19:return Kx(s,a,u);case 22:return $x(s,a,u)}throw Error(n(156,a.tag))};function v0(s,a){return sa(s,a)}function KE(s,a,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,a,u,m){return new KE(s,a,u,m)}function Dp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function QE(s){if(typeof s=="function")return Dp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===K)return 14}return 2}function Bi(s,a){var u=s.alternate;return u===null?(u=Fr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Sd(s,a,u,m,y,b){var k=2;if(m=s,typeof s=="function")Dp(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case E:return Co(u.children,y,b,a);case T:k=8,y|=8;break;case I:return s=Fr(12,u,a,y|2),s.elementType=I,s.lanes=b,s;case L:return s=Fr(13,u,a,y),s.elementType=L,s.lanes=b,s;case fe:return s=Fr(19,u,a,y),s.elementType=fe,s.lanes=b,s;case ne:return Td(u,y,b,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:k=10;break e;case M:k=9;break e;case V:k=11;break e;case K:k=14;break e;case re:k=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Fr(k,u,a,y),a.elementType=s,a.type=m,a.lanes=b,a}function Co(s,a,u,m){return s=Fr(7,s,m,a),s.lanes=u,s}function Td(s,a,u,m){return s=Fr(22,s,m,a),s.elementType=ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Mp(s,a,u){return s=Fr(6,s,null,a),s.lanes=u,s}function Lp(s,a,u){return a=Fr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function YE(s,a,u,m,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bi(0),this.expirationTimes=bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Fp(s,a,u,m,y,b,k,O,z){return s=new YE(s,a,u,O,z),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Fr(3,null,null,a),s.current=b,b.stateNode=s,b.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(b),s}function XE(s,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:s,containerInfo:a,implementation:u}}function x0(s){if(!s)return Ii;s=s._reactInternals;e:{if(Kr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(er(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(er(u))return qv(s,u,a)}return a}function b0(s,a,u,m,y,b,k,O,z){return s=Fp(u,m,!0,s,y,b,k,O,z),s.context=x0(null),u=s.current,m=Bn(),y=Fi(u),b=Js(m,y),b.callback=a!=null?a:null,Ni(u,b,y),s.current.lanes=y,_i(s,y,m),rr(s,m),s}function Ed(s,a,u,m){var y=a.current,b=Bn(),k=Fi(y);return u=x0(u),a.context===null?a.context=u:a.pendingContext=u,a=Js(b,k),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Ni(y,a,k),s!==null&&(os(s,y,k,b),nd(s,y,k)),k}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Vp(s,a){_0(s,a),(s=s.alternate)&&_0(s,a)}function JE(){return null}var w0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Bp(s){this._internalRoot=s}kd.prototype.render=Bp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Ed(s,a,null,null)},kd.prototype.unmount=Bp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Eo(function(){Ed(null,s,null,null)}),a[qs]=null}};function kd(s){this._internalRoot=s}kd.prototype.unstable_scheduleHydration=function(s){if(s){var a=ku();s={blockedOn:null,target:s,priority:a};for(var u=0;u<_s.length&&a!==0&&a<_s[u].priority;u++);_s.splice(u,0,s),u===0&&Iu(s)}};function Op(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function S0(){}function ZE(s,a,u,m,y){if(y){if(typeof m=="function"){var b=m;m=function(){var Z=jd(k);b.call(Z)}}var k=b0(a,m,s,0,null,!1,!1,"",S0);return s._reactRootContainer=k,s[qs]=k.current,Gl(s.nodeType===8?s.parentNode:s),Eo(),k}for(;y=s.lastChild;)s.removeChild(y);if(typeof m=="function"){var O=m;m=function(){var Z=jd(z);O.call(Z)}}var z=Fp(s,0,!1,null,null,!1,!1,"",S0);return s._reactRootContainer=z,s[qs]=z.current,Gl(s.nodeType===8?s.parentNode:s),Eo(function(){Ed(a,z,u,m)}),z}function Ad(s,a,u,m,y){var b=u._reactRootContainer;if(b){var k=b;if(typeof y=="function"){var O=y;y=function(){var z=jd(k);O.call(z)}}Ed(a,k,s,y)}else k=ZE(u,a,s,y,m);return jd(k)}Eu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=xi(a.pendingLanes);u!==0&&(wi(a,u|1),rr(a,ht()),(Xe&6)===0&&(La=ht()+500,Ri()))}break;case 13:Eo(function(){var m=Xs(s,1);if(m!==null){var y=Bn();os(m,s,1,y)}}),Vp(s,1)}},aa=function(s){if(s.tag===13){var a=Xs(s,134217728);if(a!==null){var u=Bn();os(a,s,134217728,u)}Vp(s,134217728)}},ju=function(s){if(s.tag===13){var a=Fi(s),u=Xs(s,a);if(u!==null){var m=Bn();os(u,s,a,m)}Vp(s,a)}},ku=function(){return qe},Cu=function(s,a){var u=qe;try{return qe=s,a()}finally{qe=u}},Gr=function(s,a,u){switch(a){case"input":if(ot(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==s&&m.form===s.form){var y=Wu(m);if(!y)throw Error(n(90));Jt(m),ot(m,y)}}}break;case"textarea":Qn(s,u);break;case"select":a=u.value,a!=null&&cn(s,!!u.multiple,a,!1)}},so=Rp,jl=Eo;var ej={usingClientEntryPoint:!1,Events:[Kl,Sa,Wu,xs,El,Rp]},lc={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tj={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Al(s),s===null?null:s.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||JE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{co=Id.inject(tj),fr=Id}catch(s){}}return sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej,sr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(a))throw Error(n(200));return XE(s,a,null,u)},sr.createRoot=function(s,a){if(!Op(s))throw Error(n(299));var u=!1,m="",y=w0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Fp(s,1,!1,null,null,u,!1,m,y),s[qs]=a.current,Gl(s.nodeType===8?s.parentNode:s),new Bp(a)},sr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Al(a),s=s===null?null:s.stateNode,s},sr.flushSync=function(s){return Eo(s)},sr.hydrate=function(s,a,u){if(!Cd(a))throw Error(n(200));return Ad(null,s,a,!0,u)},sr.hydrateRoot=function(s,a,u){if(!Op(s))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,b="",k=w0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),a=b0(a,null,s,1,u!=null?u:null,y,!1,b,k),s[qs]=a.current,Gl(s),m)for(s=0;s<m.length;s++)u=m[s],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new kd(a)},sr.render=function(s,a,u){if(!Cd(a))throw Error(n(200));return Ad(null,s,a,!1,u)},sr.unmountComponentAtNode=function(s){if(!Cd(s))throw Error(n(40));return s._reactRootContainer?(Eo(function(){Ad(null,null,s,!1,function(){s._reactRootContainer=null,s[qs]=null})}),!0):!1},sr.unstable_batchedUpdates=Rp,sr.unstable_renderSubtreeIntoContainer=function(s,a,u,m){if(!Cd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ad(s,a,u,!1,m)},sr.version="18.3.1-next-f1338f8080-20240426",sr}var R0;function $_(){if(R0)return zp.exports;R0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=lj(),zp.exports}var P0;function cj(){if(P0)return Rd;P0=1;var t=$_();return Rd.createRoot=t.createRoot,Rd.hydrateRoot=t.hydrateRoot,Rd}var uj=cj();const dj=Mg(uj);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function hj(t={}){function e(i,l){let{pathname:c="/",search:d="",hash:f=""}=Qo(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$m("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:Mc(l))}function r(i,l){Sr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return pj(e,n,r,t)}function St(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Sr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function fj(){return Math.random().toString(36).substring(2,10)}function D0(t,e){return{usr:t.state,key:t.key,idx:e}}function $m(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:n,key:e&&e.key||r||fj()}}function Mc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pj(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,d="POP",f=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let C=g(),F=C==null?null:C-p;p=C,f&&f({action:d,location:A.location,delta:F})}function _(C,F){d="PUSH";let B=$m(A.location,C,F);n&&n(B,C),p=g()+1;let N=D0(B,p),U=A.createHref(B);try{c.pushState(N,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}l&&f&&f({action:d,location:A.location,delta:1})}function S(C,F){d="REPLACE";let B=$m(A.location,C,F);n&&n(B,C),p=g();let N=D0(B,p),U=A.createHref(B);c.replaceState(N,"",U),l&&f&&f({action:d,location:A.location,delta:0})}function j(C){return mj(C)}let A={get action(){return d},get location(){return t(i,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(N0,v),f=C,()=>{i.removeEventListener(N0,v),f=null}},createHref(C){return e(i,C)},createURL:j,encodeLocation(C){let F=j(C);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:_,replace:S,go(C){return c.go(C)}};return A}function mj(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Mc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function U_(t,e,n="/"){return gj(t,e,n,!1)}function gj(t,e,n,r){let i=typeof e=="string"?Qo(e):e,l=ui(i.pathname||"/",n);if(l==null)return null;let c=z_(t);yj(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=Cj(l);d=jj(c[f],p,r)}return d}function z_(t,e=[],n=[],r="",i=!1){let l=(c,d,f=i,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;St(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=li([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),z_(c.children,e,_,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:Tj(v,c.index),routesMeta:_})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of H_(c.path))l(c,d,!0,p)}),e}function H_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=H_(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function yj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ej(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vj=/^:[\w-]+$/,xj=3,bj=2,_j=1,wj=10,Sj=-2,M0=t=>t==="*";function Tj(t,e){let n=t.split("/"),r=n.length;return n.some(M0)&&(r+=Sj),e&&(r+=bj),n.filter(i=>!M0(i)).reduce((i,l)=>i+(vj.test(l)?xj:l===""?_j:wj),r)}function Ej(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jj(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:li([l,v.pathname]),pathnameBase:Pj(li([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=li([l,v.pathnameBase]))}return c}function ph(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let j=d[_]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const S=d[_];return v&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function kj(t,e=!1,n=!0){Sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Cj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Aj(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:Ij(n,e):e,search:Nj(r),hash:Dj(i)}}function Ij(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fg(t){let e=Rj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vg(t,e,n,r=!1){let i;typeof t=="string"?i=Qo(t):(i={...t},St(!i.pathname||!i.pathname.includes("?"),Wp("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Wp("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Wp("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}d=v>=0?e[v]:"/"}let f=Aj(i,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var li=t=>t.join("/").replace(/\/\/+/g,"/"),Pj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var G_=["POST","PUT","PATCH","DELETE"];new Set(G_);var Lj=["GET",...G_];new Set(Lj);var ml=R.createContext(null);ml.displayName="DataRouter";var Fh=R.createContext(null);Fh.displayName="DataRouterState";R.createContext(!1);var W_=R.createContext({isTransitioning:!1});W_.displayName="ViewTransition";var Fj=R.createContext(new Map);Fj.displayName="Fetchers";var Vj=R.createContext(null);Vj.displayName="Await";var fs=R.createContext(null);fs.displayName="Navigation";var Jc=R.createContext(null);Jc.displayName="Location";var zr=R.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Bg=R.createContext(null);Bg.displayName="RouteError";function Bj(t,{relative:e}={}){St(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(fs),{hash:i,pathname:l,search:c}=Zc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:li([n,l])),r.createHref({pathname:d,search:c,hash:i})}function gl(){return R.useContext(Jc)!=null}function Er(){return St(gl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Jc).location}var q_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(t){R.useContext(fs).static||R.useLayoutEffect(t)}function eo(){let{isDataRoute:t}=R.useContext(zr);return t?ek():Oj()}function Oj(){St(gl(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(ml),{basename:e,navigator:n}=R.useContext(fs),{matches:r}=R.useContext(zr),{pathname:i}=Er(),l=JSON.stringify(Fg(r)),c=R.useRef(!1);return K_(()=>{c.current=!0}),R.useCallback((f,p={})=>{if(Sr(c.current,q_),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=Vg(f,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:li([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,i,t])}var $j=R.createContext(null);function Uj(t){let e=R.useContext(zr).outlet;return e&&R.createElement($j.Provider,{value:t},e)}function Og(){let{matches:t}=R.useContext(zr),e=t[t.length-1];return e?e.params:{}}function Zc(t,{relative:e}={}){let{matches:n}=R.useContext(zr),{pathname:r}=Er(),i=JSON.stringify(Fg(n));return R.useMemo(()=>Vg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function zj(t,e){return Q_(t,e)}function Q_(t,e,n,r,i){var B;St(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(fs),{matches:c}=R.useContext(zr),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let N=v&&v.path||"";Y_(p,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=Er(),S;if(e){let N=typeof e=="string"?Qo(e):e;St(g==="/"||((B=N.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=_;let j=S.pathname||"/",A=j;if(g!=="/"){let N=g.replace(/^\//,"").split("/");A="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=U_(t,{pathname:A});Sr(v||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Sr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Kj(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:li([g,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:li([g,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,n,r,i);return e&&F?R.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function Hj(){let t=Zj(),e=Mj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,c)}var Gj=R.createElement(Hj,null),Wj=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(zr.Provider,{value:this.props.routeContext},R.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qj({routeContext:t,match:e,children:n}){let r=R.useContext(ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(zr.Provider,{value:t},n)}function Kj(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);St(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:_}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let _,S=!1,j=null,A=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||Gj,d&&(f<0&&v===0?(Y_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):f===v&&(S=!0,A=g.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,v+1)),F=()=>{let B;return _?B=j:S?B=A:g.route.Component?B=R.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,R.createElement(qj,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?R.createElement(Wj,{location:n.location,revalidation:n.revalidation,component:j,error:_,children:F(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):F()},null)}function $g(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qj(t){let e=R.useContext(ml);return St(e,$g(t)),e}function Yj(t){let e=R.useContext(Fh);return St(e,$g(t)),e}function Xj(t){let e=R.useContext(zr);return St(e,$g(t)),e}function Ug(t){let e=Xj(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Jj(){return Ug("useRouteId")}function Zj(){var r;let t=R.useContext(Bg),e=Yj("useRouteError"),n=Ug("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ek(){let{router:t}=Qj("useNavigate"),e=Ug("useNavigate"),n=R.useRef(!1);return K_(()=>{n.current=!0}),R.useCallback(async(i,l={})=>{Sr(n.current,q_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var L0={};function Y_(t,e,n){!e&&!L0[t]&&(L0[t]=!0,Sr(!1,n))}R.memo(tk);function tk({routes:t,future:e,state:n,unstable_onError:r}){return Q_(t,void 0,n,r,e)}function qp({to:t,replace:e,state:n,relative:r}){St(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(fs);Sr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(zr),{pathname:c}=Er(),d=eo(),f=Vg(t,Fg(l),c,r==="path"),p=JSON.stringify(f);return R.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function X_(t){return Uj(t.context)}function ae(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){St(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof n=="string"&&(n=Qo(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,S=R.useMemo(()=>{let j=ui(f,c);return j==null?null:{location:{pathname:j,search:p,hash:g,state:v,key:_},navigationType:r}},[c,f,p,g,v,_,r]);return Sr(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(fs.Provider,{value:d},R.createElement(Jc.Provider,{children:e,value:S}))}function rk({children:t,location:e}){return zj(Um(t),e)}function Um(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let l=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Um(r.props.children,l));return}St(r.type===ae,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Um(r.props.children,l)),n.push(c)}),n}var eh="get",th="application/x-www-form-urlencoded";function Vh(t){return t!=null&&typeof t.tagName=="string"}function sk(t){return Vh(t)&&t.tagName.toLowerCase()==="button"}function ik(t){return Vh(t)&&t.tagName.toLowerCase()==="form"}function ok(t){return Vh(t)&&t.tagName.toLowerCase()==="input"}function ak(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lk(t,e){return t.button===0&&(!e||e==="_self")&&!ak(t)}function zm(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function ck(t,e){let n=zm(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var Pd=null;function uk(){if(Pd===null)try{new FormData(document.createElement("form"),0),Pd=!1}catch(t){Pd=!0}return Pd}var dk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(t){return t!=null&&!dk.has(t)?(Sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):t}function hk(t,e){let n,r,i,l,c;if(ik(t)){let d=t.getAttribute("action");r=d?ui(d,e):null,n=t.getAttribute("method")||eh,i=Kp(t.getAttribute("enctype"))||th,l=new FormData(t)}else if(sk(t)||ok(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ui(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||eh,i=Kp(t.getAttribute("formenctype"))||Kp(d.getAttribute("enctype"))||th,l=new FormData(d,t),!uk()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,v)}}else{if(Vh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,r=null,i=th,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zg(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function fk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ui(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function pk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gk(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await pk(l,n);return c.links?c.links():[]}return[]}));return bk(r.flat(1).filter(mk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function F0(t,e,n,r,i,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function yk(t,e,{includeHydrateFallback:n}={}){return vk(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function vk(t){return[...new Set(t)]}function xk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function bk(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(xk(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function J_(){let t=R.useContext(ml);return zg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _k(){let t=R.useContext(Fh);return zg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hg=R.createContext(void 0);Hg.displayName="FrameworkContext";function Z_(){let t=R.useContext(Hg);return zg(t,"You must render this element inside a <HydratedRouter> element"),t}function wk(t,e){let n=R.useContext(Hg),[r,i]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=F=>{F.forEach(B=>{c(B.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[t]),R.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{i(!0)},j=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:uc(d,S),onBlur:uc(f,j),onMouseEnter:uc(p,S),onMouseLeave:uc(g,j),onTouchStart:uc(v,S)}]:[!1,_,{}]}function uc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Sk({page:t,...e}){let{router:n}=J_(),r=R.useMemo(()=>U_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(Ek,{page:t,matches:r,...e}):null}function Tk(t){let{manifest:e,routeModules:n}=Z_(),[r,i]=R.useState([]);return R.useEffect(()=>{let l=!1;return gk(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),r}function Ek({page:t,matches:e,...n}){let r=Er(),{manifest:i,routeModules:l}=Z_(),{basename:c}=J_(),{loaderData:d,matches:f}=_k(),p=R.useMemo(()=>F0(t,e,f,i,r,"data"),[t,e,f,i,r]),g=R.useMemo(()=>F0(t,e,f,i,r,"assets"),[t,e,f,i,r]),v=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,A=!1;if(e.forEach(F=>{var N;let B=i.routes[F.route.id];!B||!B.hasLoader||(!p.some(U=>U.route.id===F.route.id)&&F.route.id in d&&((N=l[F.route.id])!=null&&N.shouldRevalidate)||B.hasClientLoader?A=!0:j.add(F.route.id))}),j.size===0)return[];let C=fk(t,c,"data");return A&&j.size>0&&C.searchParams.set("_routes",e.filter(F=>j.has(F.route.id)).map(F=>F.route.id).join(",")),[C.pathname+C.search]},[c,d,r,i,p,e,t,l]),_=R.useMemo(()=>yk(g,i),[g,i]),S=Tk(g);return R.createElement(R.Fragment,null,v.map(j=>R.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),_.map(j=>R.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),S.map(({key:j,link:A})=>R.createElement("link",{key:j,nonce:n.nonce,...A})))}function jk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ew=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{ew&&(window.__reactRouterVersion="7.9.1")}catch(t){}function kk({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=hj({window:n,v5Compat:!0}));let i=r.current,[l,c]=R.useState({action:i.action,location:i.location}),d=R.useCallback(f=>{R.startTransition(()=>c(f))},[c]);return R.useLayoutEffect(()=>i.listen(d),[i,d]),R.createElement(nk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:g,viewTransition:v,..._},S){let{basename:j}=R.useContext(fs),A=typeof p=="string"&&tw.test(p),C,F=!1;if(typeof p=="string"&&A&&(C=p,ew))try{let I=new URL(window.location.href),D=p.startsWith("//")?new URL(I.protocol+p):new URL(p),M=ui(D.pathname,j);D.origin===I.origin&&M!=null?p=M+D.search+D.hash:F=!0}catch(I){Sr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Bj(p,{relative:i}),[N,U,$]=wk(r,_),W=Ik(p,{replace:c,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:v});function E(I){e&&e(I),I.defaultPrevented||W(I)}let T=R.createElement("a",{..._,...$,href:C||B,onClick:F||l?e:E,ref:jk(S,U),target:f,"data-discover":!A&&n==="render"?"true":void 0});return N&&!A?R.createElement(R.Fragment,null,T,R.createElement(Sk,{page:B})):T});zn.displayName="Link";var br=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:d,children:f,...p},g){let v=Zc(c,{relative:p.relative}),_=Er(),S=R.useContext(Fh),{navigator:j,basename:A}=R.useContext(fs),C=S!=null&&Mk(v)&&d===!0,F=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,B=_.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),N=N?N.toLowerCase():null,F=F.toLowerCase()),N&&A&&(N=ui(N,A)||N);const U=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let $=B===F||!i&&B.startsWith(F)&&B.charAt(U)==="/",W=N!=null&&(N===F||!i&&N.startsWith(F)&&N.charAt(F.length)==="/"),E={isActive:$,isPending:W,isTransitioning:C},T=$?e:void 0,I;typeof r=="function"?I=r(E):I=[r,$?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(E):l;return R.createElement(zn,{...p,"aria-current":T,className:I,ref:g,style:D,to:c,viewTransition:d},typeof f=="function"?f(E):f)});br.displayName="NavLink";var Ck=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:c=eh,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,..._},S)=>{let j=Nk(),A=Dk(d,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&tw.test(d),B=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let U=N.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||c;j(U||N.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return R.createElement("form",{ref:S,method:C,action:A,onSubmit:r?f:B,..._,"data-discover":!F&&t==="render"?"true":void 0})});Ck.displayName="Form";function Ak(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(t){let e=R.useContext(ml);return St(e,Ak(t)),e}function Ik(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}={}){let d=eo(),f=Er(),p=Zc(t,{relative:l});return R.useCallback(g=>{if(lk(g,e)){g.preventDefault();let v=n!==void 0?n:Mc(f)===Mc(p);d(t,{replace:v,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[f,d,p,n,r,e,t,i,l,c])}function Bh(t){Sr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(zm(t)),n=R.useRef(!1),r=Er(),i=R.useMemo(()=>ck(r.search,n.current?null:e.current),[r.search]),l=eo(),c=R.useCallback((d,f)=>{const p=zm(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,l("?"+p,f)},[l,i]);return[i,c]}var Rk=0,Pk=()=>`__${String(++Rk)}__`;function Nk(){let{router:t}=nw("useSubmit"),{basename:e}=R.useContext(fs),n=Jj();return R.useCallback(async(r,i={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=hk(r,e);if(i.navigate===!1){let g=i.fetcherKey||Pk();await t.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Dk(t,{relative:e}={}){let{basename:n}=R.useContext(fs),r=R.useContext(zr);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Zc(t||".",{relative:e})},c=Er();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:li([n,l.pathname])),Mc(l)}function Mk(t,{relative:e}={}){let n=R.useContext(W_);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nw("useViewTransitionState"),i=Zc(t,{relative:e});if(!n.isTransitioning)return!1;let l=ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ph(i.pathname,c)!=null||ph(i.pathname,l)!=null}var Lk=$_();const Fk=Mg(Lk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),V0=t=>{const e=Bk(t);return e.charAt(0).toUpperCase()+e.slice(1)},rw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Ok=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...d},f)=>R.createElement("svg",{ref:f,...$k,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:rw("lucide",i),...!l&&!Ok(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>R.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(t,e)=>{const n=R.forwardRef(({className:r,...i},l)=>R.createElement(Uk,{ref:l,iconNode:e,className:rw(`lucide-${Vk(V0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=V0(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Oh=Nt("aperture",zk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gk=Nt("bell",Hk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qk=Nt("book-open",Wk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qk=Nt("chevron-right",Kk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xk=Nt("compass",Yk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],sw=Nt("diamond",Jk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],eC=Nt("folder-search",Zk);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nC=Nt("globe",tC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],iw=Nt("hexagon",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],iC=Nt("house",sC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],aC=Nt("layers",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cC=Nt("layout-dashboard",lC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],dC=Nt("messages-square",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],fC=Nt("pin-off",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],mC=Nt("pin",pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yC=Nt("settings",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],ow=Nt("shapes",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eu=Nt("shield",xC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_C=Nt("star",bC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],SC=Nt("trophy",wC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],EC=Nt("upload",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aw=Nt("zap",jC),kC="_topbar_1rfl9_3",CC="_topbarLeft_1rfl9_39",AC="_searchWrap_1rfl9_55",IC="_topbarRight_1rfl9_109",RC="_ico_1rfl9_125",PC="_btnIco_1rfl9_139",NC="_pill_1rfl9_173",DC="_onlyExpanded_1rfl9_195",MC="_upload_1rfl9_201",LC="_label_1rfl9_231",FC="_avatarBtn_1rfl9_237",VC="_avatar_1rfl9_237",An={topbar:kC,topbarLeft:CC,searchWrap:AC,topbarRight:IC,ico:RC,btnIco:PC,pill:NC,onlyExpanded:DC,upload:MC,label:LC,avatarBtn:FC,avatar:VC},lw=R.createContext(null);function BC({children:t,role:e}){const[n,r]=R.useState(!1),[i,l]=R.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=R.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),f=R.useCallback(()=>r(!1),[]),p=R.useMemo(()=>({isOpen:n,open:d,close:f,activeTab:i,setTab:l,canUse:c}),[n,d,f,i,c]);return o.jsx(lw.Provider,{value:p,children:t})}function cw(){const t=R.useContext(lw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,S=p&63;f||(S=64,c||(_=64)),r.push(n[g],n[v],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||d==null||p==null||v==null)throw new $C;const _=l<<2|d>>4;if(r.push(_),p!==64){const S=d<<4&240|p>>2;if(r.push(S),v!==64){const j=p<<6&192|v;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UC=function(t){const e=uw(t);return dw.encodeByteArray(e,!0)},mh=function(t){return UC(t).replace(/\./g,"")},zC=function(t){try{return dw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=()=>HC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process=="undefined"||typeof B0=="undefined")return;const t=B0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qC=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&zC(t[1]);return e&&JSON.parse(e)},Gg=()=>{try{return GC()||WC()||qC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=Gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QC=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hw=()=>{var t;return(t=Gg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mh(JSON.stringify(n)),mh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZC(){var t;const e=(t=Gg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function eA(){return!ZC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch(t){return!1}}function nA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class yl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rA,Object.setPrototypeOf(this,yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fw.prototype.create)}}class fw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?sA(l,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new yl(i,d,r)}}function sA(t,e){return t.replace(iA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iA=/\{\$([^}]+)}/g;function Hm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],c=e[i];if(O0(l)&&O0(c)){if(!Hm(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t){return t&&t._delegate?t._delegate:t}class Lc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch(l){}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(t){return t===Fo?void 0:t}function lA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const uA={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},dA=Je.INFO,hA={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},fA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pw{constructor(e){this.name=e,this._logLevel=dA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const pA=(t,e)=>e.some(n=>t instanceof n);let $0,U0;function mA(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mw=new WeakMap,Gm=new WeakMap,gw=new WeakMap,Qp=new WeakMap,Wg=new WeakMap;function yA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Wi(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&mw.set(n,t)}).catch(()=>{}),Wg.set(e,t),e}function vA(t){if(Gm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Gm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xA(t){Wm=t(Wm)}function bA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yp(this),e,...n);return gw.set(r,e.sort?e.sort():[e]),Wi(r)}:gA().includes(t)?function(...e){return t.apply(Yp(this),e),Wi(mw.get(this))}:function(...e){return Wi(t.apply(Yp(this),e))}}function _A(t){return typeof t=="function"?bA(t):(t instanceof IDBTransaction&&vA(t),pA(t,mA())?new Proxy(t,Wm):t)}function Wi(t){if(t instanceof IDBRequest)return yA(t);if(Qp.has(t))return Qp.get(t);const e=_A(t);return e!==t&&(Qp.set(t,e),Wg.set(e,t)),e}const Yp=t=>Wg.get(t);function wA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(t,e),d=Wi(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Wi(c.result),f.oldVersion,f.newVersion,Wi(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const SA=["get","getKey","getAll","getAllKeys","count"],TA=["put","add","delete","clear"],Xp=new Map;function z0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SA.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return Xp.set(e,l),l}xA(t=>({...t,get:(e,n,r)=>z0(e,n)||t.get(e,n,r),has:(e,n)=>!!z0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",H0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new pw("@firebase/app"),kA="@firebase/app-compat",CA="@firebase/analytics-compat",AA="@firebase/analytics",IA="@firebase/app-check-compat",RA="@firebase/app-check",PA="@firebase/auth",NA="@firebase/auth-compat",DA="@firebase/database",MA="@firebase/data-connect",LA="@firebase/database-compat",FA="@firebase/functions",VA="@firebase/functions-compat",BA="@firebase/installations",OA="@firebase/installations-compat",$A="@firebase/messaging",UA="@firebase/messaging-compat",zA="@firebase/performance",HA="@firebase/performance-compat",GA="@firebase/remote-config",WA="@firebase/remote-config-compat",qA="@firebase/storage",KA="@firebase/storage-compat",QA="@firebase/firestore",YA="@firebase/vertexai-preview",XA="@firebase/firestore-compat",JA="firebase",ZA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",eI={[qm]:"fire-core",[kA]:"fire-core-compat",[AA]:"fire-analytics",[CA]:"fire-analytics-compat",[RA]:"fire-app-check",[IA]:"fire-app-check-compat",[PA]:"fire-auth",[NA]:"fire-auth-compat",[DA]:"fire-rtdb",[MA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[FA]:"fire-fn",[VA]:"fire-fn-compat",[BA]:"fire-iid",[OA]:"fire-iid-compat",[$A]:"fire-fcm",[UA]:"fire-fcm-compat",[zA]:"fire-perf",[HA]:"fire-perf-compat",[GA]:"fire-rc",[WA]:"fire-rc-compat",[qA]:"fire-gcs",[KA]:"fire-gcs-compat",[QA]:"fire-fst",[XA]:"fire-fst-compat",[YA]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,tI=new Map,Qm=new Map;function G0(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gh(t){const e=t.name;if(Qm.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of Fc.values())G0(n,t);for(const n of tI.values())G0(n,t);return!0}function nI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new fw("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=ZA;function yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Km,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=hw()),!n)throw qi.create("no-options");const l=Fc.get(i);if(l){if(Hm(n,l.options)&&Hm(r,l.config))return l;throw qi.create("duplicate-app",{appName:i})}const c=new cA(i);for(const f of Qm.values())c.addComponent(f);const d=new sI(n,r,c);return Fc.set(i,d),d}function vw(t=Km){const e=Fc.get(t);if(!e&&t===Km&&hw())return yw();if(!e)throw qi.create("no-app",{appName:t});return e}function oI(){return Array.from(Fc.values())}function Za(t,e,n){var r;let i=(r=eI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${i}" with version "${e}":`];l&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(d.join(" "));return}gh(new Lc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",lI=1,Vc="firebase-heartbeat-store";let Jp=null;function xw(){return Jp||(Jp=wA(aI,lI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function cI(t){try{const n=(await xw()).transaction(Vc),r=await n.objectStore(Vc).get(bw(t));return await n.done,r}catch(e){if(e instanceof yl)di.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function W0(t,e){try{const r=(await xw()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,bw(t)),await r.done}catch(n){if(n instanceof yl)di.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,dI=720*60*60*1e3;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=q0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=dI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q0(),{heartbeatsToSend:r,unsentEntries:i}=fI(this._heartbeatsCache.heartbeats),l=mh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return di.warn(n),""}}}function q0(){return new Date().toISOString().substring(0,10)}function fI(t,e=uI){const n=[];let r=t.slice();for(const i of t){const l=n.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),K0(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function K0(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){gh(new Lc("platform-logger",e=>new EA(e),"PRIVATE")),gh(new Lc("heartbeat",e=>new hI(e),"PRIVATE")),Za(qm,H0,t),Za(qm,H0,"esm2017"),Za("fire-js","")}mI("");var Q0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,_w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function I(){}I.prototype=T.prototype,E.D=T.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(D,M,V){for(var L=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)L[fe-2]=arguments[fe];return T.prototype[M].apply(D,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,I){I||(I=0);var D=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)D[M]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(M=0;16>M;++M)D[M]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=E.g[0],I=E.g[1],M=E.g[2];var V=E.g[3],L=T+(V^I&(M^V))+D[0]+3614090360&4294967295;T=I+(L<<7&4294967295|L>>>25),L=V+(M^T&(I^M))+D[1]+3905402710&4294967295,V=T+(L<<12&4294967295|L>>>20),L=M+(I^V&(T^I))+D[2]+606105819&4294967295,M=V+(L<<17&4294967295|L>>>15),L=I+(T^M&(V^T))+D[3]+3250441966&4294967295,I=M+(L<<22&4294967295|L>>>10),L=T+(V^I&(M^V))+D[4]+4118548399&4294967295,T=I+(L<<7&4294967295|L>>>25),L=V+(M^T&(I^M))+D[5]+1200080426&4294967295,V=T+(L<<12&4294967295|L>>>20),L=M+(I^V&(T^I))+D[6]+2821735955&4294967295,M=V+(L<<17&4294967295|L>>>15),L=I+(T^M&(V^T))+D[7]+4249261313&4294967295,I=M+(L<<22&4294967295|L>>>10),L=T+(V^I&(M^V))+D[8]+1770035416&4294967295,T=I+(L<<7&4294967295|L>>>25),L=V+(M^T&(I^M))+D[9]+2336552879&4294967295,V=T+(L<<12&4294967295|L>>>20),L=M+(I^V&(T^I))+D[10]+4294925233&4294967295,M=V+(L<<17&4294967295|L>>>15),L=I+(T^M&(V^T))+D[11]+2304563134&4294967295,I=M+(L<<22&4294967295|L>>>10),L=T+(V^I&(M^V))+D[12]+1804603682&4294967295,T=I+(L<<7&4294967295|L>>>25),L=V+(M^T&(I^M))+D[13]+4254626195&4294967295,V=T+(L<<12&4294967295|L>>>20),L=M+(I^V&(T^I))+D[14]+2792965006&4294967295,M=V+(L<<17&4294967295|L>>>15),L=I+(T^M&(V^T))+D[15]+1236535329&4294967295,I=M+(L<<22&4294967295|L>>>10),L=T+(M^V&(I^M))+D[1]+4129170786&4294967295,T=I+(L<<5&4294967295|L>>>27),L=V+(I^M&(T^I))+D[6]+3225465664&4294967295,V=T+(L<<9&4294967295|L>>>23),L=M+(T^I&(V^T))+D[11]+643717713&4294967295,M=V+(L<<14&4294967295|L>>>18),L=I+(V^T&(M^V))+D[0]+3921069994&4294967295,I=M+(L<<20&4294967295|L>>>12),L=T+(M^V&(I^M))+D[5]+3593408605&4294967295,T=I+(L<<5&4294967295|L>>>27),L=V+(I^M&(T^I))+D[10]+38016083&4294967295,V=T+(L<<9&4294967295|L>>>23),L=M+(T^I&(V^T))+D[15]+3634488961&4294967295,M=V+(L<<14&4294967295|L>>>18),L=I+(V^T&(M^V))+D[4]+3889429448&4294967295,I=M+(L<<20&4294967295|L>>>12),L=T+(M^V&(I^M))+D[9]+568446438&4294967295,T=I+(L<<5&4294967295|L>>>27),L=V+(I^M&(T^I))+D[14]+3275163606&4294967295,V=T+(L<<9&4294967295|L>>>23),L=M+(T^I&(V^T))+D[3]+4107603335&4294967295,M=V+(L<<14&4294967295|L>>>18),L=I+(V^T&(M^V))+D[8]+1163531501&4294967295,I=M+(L<<20&4294967295|L>>>12),L=T+(M^V&(I^M))+D[13]+2850285829&4294967295,T=I+(L<<5&4294967295|L>>>27),L=V+(I^M&(T^I))+D[2]+4243563512&4294967295,V=T+(L<<9&4294967295|L>>>23),L=M+(T^I&(V^T))+D[7]+1735328473&4294967295,M=V+(L<<14&4294967295|L>>>18),L=I+(V^T&(M^V))+D[12]+2368359562&4294967295,I=M+(L<<20&4294967295|L>>>12),L=T+(I^M^V)+D[5]+4294588738&4294967295,T=I+(L<<4&4294967295|L>>>28),L=V+(T^I^M)+D[8]+2272392833&4294967295,V=T+(L<<11&4294967295|L>>>21),L=M+(V^T^I)+D[11]+1839030562&4294967295,M=V+(L<<16&4294967295|L>>>16),L=I+(M^V^T)+D[14]+4259657740&4294967295,I=M+(L<<23&4294967295|L>>>9),L=T+(I^M^V)+D[1]+2763975236&4294967295,T=I+(L<<4&4294967295|L>>>28),L=V+(T^I^M)+D[4]+1272893353&4294967295,V=T+(L<<11&4294967295|L>>>21),L=M+(V^T^I)+D[7]+4139469664&4294967295,M=V+(L<<16&4294967295|L>>>16),L=I+(M^V^T)+D[10]+3200236656&4294967295,I=M+(L<<23&4294967295|L>>>9),L=T+(I^M^V)+D[13]+681279174&4294967295,T=I+(L<<4&4294967295|L>>>28),L=V+(T^I^M)+D[0]+3936430074&4294967295,V=T+(L<<11&4294967295|L>>>21),L=M+(V^T^I)+D[3]+3572445317&4294967295,M=V+(L<<16&4294967295|L>>>16),L=I+(M^V^T)+D[6]+76029189&4294967295,I=M+(L<<23&4294967295|L>>>9),L=T+(I^M^V)+D[9]+3654602809&4294967295,T=I+(L<<4&4294967295|L>>>28),L=V+(T^I^M)+D[12]+3873151461&4294967295,V=T+(L<<11&4294967295|L>>>21),L=M+(V^T^I)+D[15]+530742520&4294967295,M=V+(L<<16&4294967295|L>>>16),L=I+(M^V^T)+D[2]+3299628645&4294967295,I=M+(L<<23&4294967295|L>>>9),L=T+(M^(I|~V))+D[0]+4096336452&4294967295,T=I+(L<<6&4294967295|L>>>26),L=V+(I^(T|~M))+D[7]+1126891415&4294967295,V=T+(L<<10&4294967295|L>>>22),L=M+(T^(V|~I))+D[14]+2878612391&4294967295,M=V+(L<<15&4294967295|L>>>17),L=I+(V^(M|~T))+D[5]+4237533241&4294967295,I=M+(L<<21&4294967295|L>>>11),L=T+(M^(I|~V))+D[12]+1700485571&4294967295,T=I+(L<<6&4294967295|L>>>26),L=V+(I^(T|~M))+D[3]+2399980690&4294967295,V=T+(L<<10&4294967295|L>>>22),L=M+(T^(V|~I))+D[10]+4293915773&4294967295,M=V+(L<<15&4294967295|L>>>17),L=I+(V^(M|~T))+D[1]+2240044497&4294967295,I=M+(L<<21&4294967295|L>>>11),L=T+(M^(I|~V))+D[8]+1873313359&4294967295,T=I+(L<<6&4294967295|L>>>26),L=V+(I^(T|~M))+D[15]+4264355552&4294967295,V=T+(L<<10&4294967295|L>>>22),L=M+(T^(V|~I))+D[6]+2734768916&4294967295,M=V+(L<<15&4294967295|L>>>17),L=I+(V^(M|~T))+D[13]+1309151649&4294967295,I=M+(L<<21&4294967295|L>>>11),L=T+(M^(I|~V))+D[4]+4149444226&4294967295,T=I+(L<<6&4294967295|L>>>26),L=V+(I^(T|~M))+D[11]+3174756917&4294967295,V=T+(L<<10&4294967295|L>>>22),L=M+(T^(V|~I))+D[2]+718787259&4294967295,M=V+(L<<15&4294967295|L>>>17),L=I+(V^(M|~T))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(M+(L<<21&4294967295|L>>>11))&4294967295,E.g[2]=E.g[2]+M&4294967295,E.g[3]=E.g[3]+V&4294967295}r.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var I=T-this.blockSize,D=this.B,M=this.h,V=0;V<T;){if(M==0)for(;V<=I;)i(this,E,V),V+=this.blockSize;if(typeof E=="string"){for(;V<T;)if(D[M++]=E.charCodeAt(V++),M==this.blockSize){i(this,D),M=0;break}}else for(;V<T;)if(D[M++]=E[V++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var I=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=I&255,I/=256;for(this.u(E),E=Array(16),T=I=0;4>T;++T)for(var D=0;32>D;D+=8)E[I++]=this.g[T]>>>D&255;return E};function l(E,T){var I=d;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=T(E)}function c(E,T){this.h=T;for(var I=[],D=!0,M=E.length-1;0<=M;M--){var V=E[M]|0;D&&V==T||(I[M]=V,D=!1)}this.g=I}var d={};function f(E){return-128<=E&&128>E?l(E,function(T){return new c([T|0],0>T?-1:0)}):new c([E|0],0>E?-1:0)}function p(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return C(p(-E));for(var T=[],I=1,D=0;E>=I;D++)T[D]=E/I|0,I*=4294967296;return new c(T,0)}function g(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return C(g(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(T,8)),D=v,M=0;M<E.length;M+=8){var V=Math.min(8,E.length-M),L=parseInt(E.substring(M,M+V),T);8>V?(V=p(Math.pow(T,V)),D=D.j(V).add(p(L))):(D=D.j(I),D=D.add(p(L)))}return D}var v=f(0),_=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(A(this))return-C(this).m();for(var E=0,T=1,I=0;I<this.g.length;I++){var D=this.i(I);E+=(0<=D?D:4294967296+D)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(j(this))return"0";if(A(this))return"-"+C(this).toString(E);for(var T=p(Math.pow(E,6)),I=this,D="";;){var M=U(I,T).g;I=F(I,M.j(T));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=M,j(I))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function j(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function A(E){return E.h==-1}t.l=function(E){return E=F(this,E),A(E)?-1:j(E)?0:1};function C(E){for(var T=E.g.length,I=[],D=0;D<T;D++)I[D]=~E.g[D];return new c(I,~E.h).add(_)}t.abs=function(){return A(this)?C(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],D=0,M=0;M<=T;M++){var V=D+(this.i(M)&65535)+(E.i(M)&65535),L=(V>>>16)+(this.i(M)>>>16)+(E.i(M)>>>16);D=L>>>16,V&=65535,L&=65535,I[M]=L<<16|V}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(E,T){return E.add(C(T))}t.j=function(E){if(j(this)||j(E))return v;if(A(this))return A(E)?C(this).j(C(E)):C(C(this).j(E));if(A(E))return C(this.j(C(E)));if(0>this.l(S)&&0>E.l(S))return p(this.m()*E.m());for(var T=this.g.length+E.g.length,I=[],D=0;D<2*T;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<E.g.length;M++){var V=this.i(D)>>>16,L=this.i(D)&65535,fe=E.i(M)>>>16,K=E.i(M)&65535;I[2*D+2*M]+=L*K,B(I,2*D+2*M),I[2*D+2*M+1]+=V*K,B(I,2*D+2*M+1),I[2*D+2*M+1]+=L*fe,B(I,2*D+2*M+1),I[2*D+2*M+2]+=V*fe,B(I,2*D+2*M+2)}for(D=0;D<T;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=T;D<2*T;D++)I[D]=0;return new c(I,0)};function B(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function N(E,T){this.g=E,this.h=T}function U(E,T){if(j(T))throw Error("division by zero");if(j(E))return new N(v,v);if(A(E))return T=U(C(E),T),new N(C(T.g),C(T.h));if(A(T))return T=U(E,C(T)),new N(C(T.g),T.h);if(30<E.g.length){if(A(E)||A(T))throw Error("slowDivide_ only works with positive integers.");for(var I=_,D=T;0>=D.l(E);)I=$(I),D=$(D);var M=W(I,1),V=W(D,1);for(D=W(D,2),I=W(I,2);!j(D);){var L=V.add(D);0>=L.l(E)&&(M=M.add(I),V=L),D=W(D,1),I=W(I,1)}return T=F(E,M.j(T)),new N(M,T)}for(M=v;0<=E.l(T);){for(I=Math.max(1,Math.floor(E.m()/T.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=p(I),L=V.j(T);A(L)||0<L.l(E);)I-=D,V=p(I),L=V.j(T);j(V)&&(V=_),M=M.add(V),E=F(E,L)}return new N(M,E)}t.A=function(E){return U(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],D=0;D<T;D++)I[D]=this.i(D)&E.i(D);return new c(I,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],D=0;D<T;D++)I[D]=this.i(D)|E.i(D);return new c(I,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),I=[],D=0;D<T;D++)I[D]=this.i(D)^E.i(D);return new c(I,this.h^E.h)};function $(E){for(var T=E.g.length+1,I=[],D=0;D<T;D++)I[D]=E.i(D)<<1|E.i(D-1)>>>31;return new c(I,E.h)}function W(E,T){var I=T>>5;T%=32;for(var D=E.g.length-I,M=[],V=0;V<D;V++)M[V]=0<T?E.i(V+I)>>>T|E.i(V+I+1)<<32-T:E.i(V+I);return new c(M,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_w=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,zo=c}).apply(typeof Q0!="undefined"?Q0:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Nd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,vc,Sw,nh,Ym,Tw,Ew,jw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(h,x){if(x)e:{var w=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var Y=h[P];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],P=w[h],x=x(P),x!=P&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function l(h,x){h instanceof String&&(h+="");var w=0,P=!1,Y={next:function(){if(!P&&w<h.length){var te=w++;return{value:x(te,h[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(h){return h||function(){return l(this,function(x,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function g(h,x,w){return h.call.apply(h.bind,arguments)}function v(h,x,w){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),h.apply(x,Y)}}return function(){return h.apply(x,arguments)}}function _(h,x,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function S(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function j(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(P,Y,te){for(var ge=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ge[rt-2]=arguments[rt];return x.prototype[Y].apply(P,ge)}}function A(h){const x=h.length;if(0<x){const w=Array(x);for(let P=0;P<x;P++)w[P]=h[P];return w}return[]}function C(h,x){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(f(P)){const Y=h.length||0,te=P.length||0;h.length=Y+te;for(let ge=0;ge<te;ge++)h[Y+ge]=P[ge]}else h.push(P)}}class F{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(h){return/^[\s\xa0]*$/.test(h)}function N(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function U(h){return U[" "](h),h}U[" "]=function(){};var $=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function W(h,x,w){for(const P in h)x.call(w,h[P],P,h)}function E(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function T(h){const x={};for(const w in h)x[w]=h[w];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,x){let w,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(w in P)h[w]=P[w];for(let te=0;te<I.length;te++)w=I[te],Object.prototype.hasOwnProperty.call(P,w)&&(h[w]=P[w])}}function M(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function V(h){d.setTimeout(()=>{throw h},0)}function L(){var h=oe;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class fe{constructor(){this.h=this.g=null}add(x,w){const P=K.get();P.set(x,w),this.h?this.h.next=P:this.g=P,this.h=P}}var K=new F(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,oe=new fe,ie=()=>{const h=d.Promise.resolve(void 0);ne=()=>{h.then(G)}};var G=()=>{for(var h;h=L();){try{h.h.call(h.g)}catch(w){V(w)}var x=K;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};d.addEventListener("test",w,x),d.removeEventListener("test",w,x)}catch(w){}return h})();function je(h,x){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if($){e:{try{U(x.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}j(je,ye);var me={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Pe(h,x,w,P,Y){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!P,this.ha=Y,this.key=++Ae,this.da=this.fa=!1}function nt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h){this.src=h,this.g={},this.h=0}Dt.prototype.add=function(h,x,w,P,Y){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var ge=Vt(h,x,P,Y);return-1<ge?(x=h[ge],w||(x.fa=!1)):(x=new Pe(x,this.src,te,!!P,Y),x.fa=w,h.push(x)),x};function Jt(h,x){var w=x.type;if(w in h.g){var P=h.g[w],Y=Array.prototype.indexOf.call(P,x,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(P,Y,1),te&&(nt(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Vt(h,x,w,P){for(var Y=0;Y<h.length;++Y){var te=h[Y];if(!te.da&&te.listener==x&&te.capture==!!w&&te.ha==P)return Y}return-1}var At="closure_lm_"+(1e6*Math.random()|0),Gn={};function Wn(h,x,w,P,Y){if(Array.isArray(x)){for(var te=0;te<x.length;te++)Wn(h,x[te],w,P,Y);return null}return w=ur(w),h&&h[ke]?h.K(x,w,p(P)?!!P.capture:!1,Y):ot(h,x,w,!1,P,Y)}function ot(h,x,w,P,Y,te){if(!x)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,rt=Kn(h);if(rt||(h[At]=rt=new Dt(h)),w=rt.add(x,w,P,ge,te),w.proxy)return w;if(P=jr(),w.proxy=P,P.src=h,P.listener=w,h.addEventListener)we||(Y=ge),Y===void 0&&(Y=!1),h.addEventListener(x.toString(),P,Y);else if(h.attachEvent)h.attachEvent(cn(x.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function jr(){function h(w){return x.call(h.src,h.listener,w)}const x=cr;return h}function qn(h,x,w,P,Y){if(Array.isArray(x))for(var te=0;te<x.length;te++)qn(h,x[te],w,P,Y);else P=p(P)?!!P.capture:!!P,w=ur(w),h&&h[ke]?(h=h.i,x=String(x).toString(),x in h.g&&(te=h.g[x],w=Vt(te,w,P,Y),-1<w&&(nt(te[w]),Array.prototype.splice.call(te,w,1),te.length==0&&(delete h.g[x],h.h--)))):h&&(h=Kn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Vt(x,w,P,Y)),(w=-1<h?x[h]:null)&&ln(w))}function ln(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[ke])Jt(x.i,h);else{var w=h.type,P=h.proxy;x.removeEventListener?x.removeEventListener(w,P,h.capture):x.detachEvent?x.detachEvent(cn(w),P):x.addListener&&x.removeListener&&x.removeListener(P),(w=Kn(x))?(Jt(w,h),w.h==0&&(w.src=null,x[At]=null)):nt(h)}}}function cn(h){return h in Gn?Gn[h]:Gn[h]="on"+h}function cr(h,x){if(h.da)h=!0;else{x=new je(x,this);var w=h.listener,P=h.ha||h.src;h.fa&&ln(h),h=w.call(P,x)}return h}function Kn(h){return h=h[At],h instanceof Dt?h:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(h){return typeof h=="function"?h:(h[Qn]||(h[Qn]=function(x){return h.handleEvent(x)}),h[Qn])}function ut(){ee.call(this),this.i=new Dt(this),this.M=this,this.F=null}j(ut,ee),ut.prototype[ke]=!0,ut.prototype.removeEventListener=function(h,x,w,P){qn(this,h,x,w,P)};function Ye(h,x){var w,P=h.F;if(P)for(w=[];P;P=P.F)w.push(P);if(h=h.M,P=x.type||x,typeof x=="string")x=new ye(x,h);else if(x instanceof ye)x.target=x.target||h;else{var Y=x;x=new ye(P,h),D(x,Y)}if(Y=!0,w)for(var te=w.length-1;0<=te;te--){var ge=x.g=w[te];Y=Yn(ge,P,!0,x)&&Y}if(ge=x.g=h,Y=Yn(ge,P,!0,x)&&Y,Y=Yn(ge,P,!1,x)&&Y,w)for(te=0;te<w.length;te++)ge=x.g=w[te],Y=Yn(ge,P,!1,x)&&Y}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],P=0;P<w.length;P++)nt(w[P]);delete h.g[x],h.h--}}this.F=null},ut.prototype.K=function(h,x,w,P){return this.i.add(String(h),x,!1,w,P)},ut.prototype.L=function(h,x,w,P){return this.i.add(String(h),x,!0,w,P)};function Yn(h,x,w,P){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,te=0;te<x.length;++te){var ge=x[te];if(ge&&!ge.da&&ge.capture==w){var rt=ge.listener,qt=ge.ha||ge.src;ge.fa&&Jt(h.i,ge),Y=rt.call(qt,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function Hr(h,x,w){if(typeof h=="function")w&&(h=_(h,w));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(h,x||0)}function at(h){h.g=Hr(()=>{h.g=null,h.i&&(h.i=!1,at(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class kr extends ee{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(h){ee.call(this),this.h=h,this.g={}}j(Cr,ee);var ms=[];function gs(h){W(h.g,function(x,w){this.g.hasOwnProperty(w)&&ln(x)},h),h.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),gs(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=d.JSON.stringify,Bs=d.JSON.parse,vs=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function dr(){}dr.prototype.h=null;function dt(h){return h.h||(h.h=h.i())}function Gr(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){ye.call(this,"d")}j(hr,ye);function Os(){ye.call(this,"c")}j(Os,ye);var xs={},El=null;function so(){return El=El||new ut}xs.La="serverreachability";function jl(h){ye.call(this,xs.La,h)}j(jl,ye);function $s(h){const x=so();Ye(x,new jl(x))}xs.STAT_EVENT="statevent";function kl(h,x){ye.call(this,xs.STAT_EVENT,h),this.stat=x}j(kl,ye);function Mt(h){const x=so();Ye(x,new kl(x,h))}xs.Ma="timingevent";function ea(h,x){ye.call(this,xs.Ma,h),this.size=x}j(ea,ye);function Wr(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function oo(h,x,w,P,Y,te){h.info(function(){if(h.g)if(te)for(var ge="",rt=te.split("&"),qt=0;qt<rt.length;qt++){var Ke=rt[qt].split("=");if(1<Ke.length){var Zt=Ke[0];Ke=Ke[1];var Bt=Zt.split("_");ge=2<=Bt.length&&Bt[1]=="type"?ge+(Zt+"="+Ke+"&"):ge+(Zt+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+x+`
`+w+`
`+ge})}function ta(h,x,w,P,Y,te,ge){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+x+`
`+w+`
`+te+" "+ge})}function qr(h,x,w,P){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+mf(h,w)+(P?" "+P:"")})}function Cl(h,x){h.info(function(){return"TIMEOUT: "+x})}io.prototype.info=function(){};function mf(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var P=w[h];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return ys(w)}catch(rt){return x}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function ao(){}j(ao,dr),ao.prototype.g=function(){return new XMLHttpRequest},ao.prototype.i=function(){return{}},Kr=new ao;function Qr(h,x,w,P){this.j=h,this.i=x,this.l=w,this.R=P||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Al={},ra={};function sa(h,x,w){h.L=1,h.v=wi(pr(x)),h.m=w,h.P=!0,Il(h,null)}function Il(h,x){h.F=Date.now(),ht(h),h.A=pr(h.v);var w=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),Ti(w.i,"t",P),h.C=0,w=h.j.J,h.h=new vu,h.g=Lu(h.j,w?x:null,!h.m),0<h.O&&(h.M=new kr(_(h.Y,h,h.g),h.O)),x=h.U,w=h.g,P=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ms[0]=Y.toString()),Y=ms);for(var te=0;te<Y.length;te++){var ge=Wn(w,Y[te],P||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),$s(),oo(h.i,h.u,h.A,h.l,h.R,h.m)}Qr.prototype.ca=function(h){h=h.target;const x=this.M;x&&Jn(h)==3?x.j():this.Y(h)},Qr.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=Jn(this.g);var x=this.g.Ba();const Rr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Ll(this.g)))){this.J||Bt!=4||x==7||(x==8||0>=Rr?$s(3):$s(2)),lo(this);var w=this.g.Z();this.X=w;t:if(xu(this)){var P=Ll(this.g);h="";var Y=P.length,te=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Ar(this),vi(this);var ge="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,h+=this.h.i.decode(P[x],{stream:!(te&&x==Y-1)});P.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=w==200,ta(this.i,this.u,this.A,this.l,this.R,Bt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,qt=this.g;if((rt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(rt)){var Ke=rt;break t}}Ke=null}if(w=Ke)qr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rl(this,w);else{this.o=!1,this.s=3,Mt(12),Ar(this),vi(this);break e}}if(this.P){w=!0;let gr;for(;!this.J&&this.C<ge.length;)if(gr=gf(this,ge),gr==ra){Bt==4&&(this.s=4,Mt(14),w=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==Al){this.s=4,Mt(15),qr(this.i,this.l,ge,"[Invalid Chunk]"),w=!1;break}else qr(this.i,this.l,gr,null),Rl(this,gr);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ge.length!=0||this.h.h||(this.s=1,Mt(16),w=!1),this.o=this.o&&w,!w)qr(this.i,this.l,ge,"[Invalid Chunked Response]"),Ar(this),vi(this);else if(0<ge.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Vl(Zt),Zt.M=!0,Mt(11))}}else qr(this.i,this.l,ge,null),Rl(this,ge);Bt==4&&Ar(this),this.o&&!this.J&&(Bt==4?ma(this.j,this):(this.o=!1,ht(this)))}else ua(this.g),w==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ar(this),vi(this)}}}catch(Bt){}finally{}};function xu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function gf(h,x){var w=h.C,P=x.indexOf(`
`,w);return P==-1?ra:(w=Number(x.substring(w,P)),isNaN(w)?Al:(P+=1,P+w>x.length?ra:(x=x.slice(P,P+w),h.C=P+w,x)))}Qr.prototype.cancel=function(){this.J=!0,Ar(this)};function ht(h){h.S=Date.now()+h.I,bu(h,h.I)}function bu(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Wr(_(h.ba,h),x)}function lo(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Qr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cl(this.i,this.A),this.L!=2&&($s(),Mt(17)),Ar(this),this.s=2,vi(this)):bu(this,this.S-h)};function vi(h){h.j.G==0||h.J||ma(h.j,h)}function Ar(h){lo(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,gs(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Rl(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||Ln(w.h,h))){if(!h.K&&Ln(w.h,h)&&w.G==3){try{var P=w.Da.g.parse(x)}catch(Ke){P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)pa(w),es(w);else break e;fa(w),Mt(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=Wr(_(w.Za,w),6e3));if(1>=wu(w.h)&&w.ca){try{w.ca()}catch(Ke){}w.ca=void 0}}else Ws(w,11)}else if((h.K||w.g==h)&&pa(w),!B(x))for(Y=w.Da.g.parse(x),x=0;x<Y.length;x++){let Ke=Y[x];if(w.T=Ke[0],Ke=Ke[1],w.G==2)if(Ke[0]=="c"){w.K=Ke[1],w.ia=Ke[2];const Zt=Ke[3];Zt!=null&&(w.la=Zt,w.j.info("VER="+w.la));const Bt=Ke[4];Bt!=null&&(w.Aa=Bt,w.j.info("SVER="+w.Aa));const Rr=Ke[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(P=1.5*Rr,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const gr=h.g;if(gr){const go=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var te=P.h;te.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Pl(te,te.h),te.h=null))}if(P.D){const ya=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(P.ya=ya,lt(P.I,P.D,ya))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var ge=h;if(P.qa=Mu(P,P.J?P.ia:null,P.W),ge.K){Su(P.h,ge);var rt=ge,qt=P.L;qt&&(rt.I=qt),rt.B&&(lo(rt),ht(rt)),P.g=ge}else mo(P);0<w.i.length&&Ss(w)}else Ke[0]!="stop"&&Ke[0]!="close"||Ws(w,7);else w.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ws(w,7):dn(w):Ke[0]!="noop"&&w.l&&w.l.ta(Ke),w.v=0)}}$s(4)}catch(Ke){}}var _u=class{constructor(h,x){this.g=h,this.map=x}};function co(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wu(h){return h.h?1:h.g?h.g.size:0}function Ln(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Pl(h,x){h.g?h.g.add(x):h.h=x}function Su(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}co.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Tu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return A(h.i)}function ia(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map!="undefined"&&h instanceof Map||typeof Set!="undefined"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var x=[],w=h.length,P=0;P<w;P++)x.push(h[P]);return x}x=[],w=0;for(P in h)x[w++]=h[P];return x}function oa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map!="undefined"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set!="undefined"&&h instanceof Set)){if(f(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const P in h)x[w++]=P;return x}}}function xi(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=oa(h),P=ia(h),Y=P.length,te=0;te<Y;te++)x.call(void 0,P[te],w&&w[te],h)}var uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yf(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var P=h[w].indexOf("="),Y=null;if(0<=P){var te=h[w].substring(0,P);Y=h[w].substring(P+1)}else te=h[w];x(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Us(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Us){this.h=h.h,ho(this,h.j),this.o=h.o,this.g=h.g,bi(this,h.s),this.l=h.l;var x=h.i,w=new bs;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),_i(this,w),this.m=h.m}else h&&(x=String(h).match(uo))?(this.h=!1,ho(this,x[1]||"",!0),this.o=qe(x[2]||""),this.g=qe(x[3]||"",!0),bi(this,x[4]),this.l=qe(x[5]||"",!0),_i(this,x[6]||"",!0),this.m=qe(x[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}Us.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Si(x,aa,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Si(x,aa,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Si(w,w.charAt(0)=="/"?ku:ju,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Si(w,Nl)),h.join("")};function pr(h){return new Us(h)}function ho(h,x,w){h.j=w?qe(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function bi(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function _i(h,x,w){x instanceof bs?(h.i=x,_s(h.i,h.h)):(w||(x=Si(x,Cu)),h.i=new bs(x,h.h))}function lt(h,x,w){h.i.set(x,w)}function wi(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qe(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Si(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,Eu),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Eu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var aa=/[#\/\?@]/g,ju=/[#\?:]/g,ku=/[#\?]/g,Cu=/[#\?@]/g,Nl=/#/g;function bs(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&yf(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=bs.prototype,t.add=function(h,x){un(this),this.i=null,h=Ir(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Yr(h,x){un(h),x=Ir(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Xr(h,x){return un(h),x=Ir(h,x),h.g.has(x)}t.forEach=function(h,x){un(this),this.g.forEach(function(w,P){w.forEach(function(Y){h.call(x,Y,P,this)},this)},this)},t.na=function(){un(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let P=0;P<x.length;P++){const Y=h[P];for(let te=0;te<Y.length;te++)w.push(x[P])}return w},t.V=function(h){un(this);let x=[];if(typeof h=="string")Xr(this,h)&&(x=x.concat(this.g.get(Ir(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},t.set=function(h,x){return un(this),this.i=null,h=Ir(this,h),Xr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Ti(h,x,w){Yr(h,x),0<w.length&&(h.i=null,h.g.set(Ir(h,x),A(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var P=x[w];const te=encodeURIComponent(String(P)),ge=this.V(P);for(P=0;P<ge.length;P++){var Y=te;ge[P]!==""&&(Y+="="+encodeURIComponent(String(ge[P]))),h.push(Y)}}return this.i=h.join("&")};function Ir(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function _s(h,x){x&&!h.j&&(un(h),h.i=null,h.g.forEach(function(w,P){var Y=P.toLowerCase();P!=Y&&(Yr(this,P),Ti(this,Y,w))},h)),h.j=x}function vf(h,x){const w=new io;if(d.Image){const P=new Image;P.onload=S(Xn,w,"TestLoadImage: loaded",!0,x,P),P.onerror=S(Xn,w,"TestLoadImage: error",!1,x,P),P.onabort=S(Xn,w,"TestLoadImage: abort",!1,x,P),P.ontimeout=S(Xn,w,"TestLoadImage: timeout",!1,x,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else x(!1)}function Au(h,x){const w=new io,P=new AbortController,Y=setTimeout(()=>{P.abort(),Xn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:P.signal}).then(te=>{clearTimeout(Y),te.ok?Xn(w,"TestPingServer: ok",!0,x):Xn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),Xn(w,"TestPingServer: error",!1,x)})}function Xn(h,x,w,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(w)}catch(te){}}function xf(){this.g=new vs}function Iu(h,x,w){const P=w||"";try{xi(h,function(Y,te){let ge=Y;p(Y)&&(ge=ys(Y)),x.push(P+te+"="+encodeURIComponent(ge))})}catch(Y){throw x.push(P+"type="+encodeURIComponent("_badmap")),Y}}function zs(h){this.l=h.Ub||null,this.j=h.eb||!1}j(zs,dr),zs.prototype.g=function(){return new fo(this.l,this.j)},zs.prototype.i=(function(h){return function(){return h}})({});function fo(h,x){ut.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(fo,ut),t=fo.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Zr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Jr(this):Zr(this),this.readyState==3&&Ru(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Jr(this))},t.Qa=function(h){this.g&&(this.response=h,Jr(this))},t.ga=function(){this.g&&Jr(this)};function Jr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zr(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function Zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hs(h){let x="";return W(h,function(w,P){x+=P,x+=":",x+=w,x+=`\r
`}),x}function Ei(h,x,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=Hs(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):lt(h,x,w))}function bt(h){ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(bt,ut);var bf=/^https?$/i,Dl=["POST","PUT"];t=bt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?dt(this.o):dt(Kr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(te){po(this,te);return}if(h=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)w.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())w.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Dl,x,void 0))||P||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of w)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){po(this,te)}};function po(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,la(h),mr(h)}function la(h){h.A||(h.A=!0,Ye(h,"complete"),Ye(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ye(this,"complete"),Ye(this,"abort"),mr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},t.bb=function(){Ml(this)};function Ml(h){if(h.h&&typeof c!="undefined"&&(!h.v[1]||Jn(h)!=4||h.Z()!=2)){if(h.u&&Jn(h)==4)Hr(h.Ea,0,h);else if(Ye(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var P;if(P=ge===0){var Y=String(h.D).match(uo)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),P=!bf.test(Y?Y.toLowerCase():"")}w=P}if(w)Ye(h,"complete"),Ye(h,"success");else{h.m=6;try{var te=2<Jn(h)?h.g.statusText:""}catch(rt){te=""}h.l=te+" ["+h.Z()+"]",la(h)}}finally{mr(h)}}}}function mr(h,x){if(h.g){ca(h);const w=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Ye(h,"ready");try{w.onreadystatechange=P}catch(Y){}}}function ca(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch(h){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(h){return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Bs(x)}};function Ll(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch(x){return null}}function ua(h){const x={};h=(h.g&&2<=Jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(B(h[P]))continue;var w=M(h[P]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=x[Y]||[];x[Y]=te,te.push(w)}E(x,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function Fl(h){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,h),this.cb=ws("retryDelaySeedMs",1e4,h),this.Wa=ws("forwardChannelMaxRetries",2,h),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new co(h&&h.concurrentRequestLimit),this.Da=new xf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fl.prototype,t.la=8,t.G=1,t.connect=function(h,x,w,P){Mt(0),this.W=h,this.H=x||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=Mu(this,null,this.W),Ss(this)};function dn(h){if(da(h),h.G==3){var x=h.U++,w=pr(h.I);if(lt(w,"SID",h.K),lt(w,"RID",x),lt(w,"TYPE","terminate"),Gs(h,w),x=new Qr(h,h.j,x),x.L=2,x.v=wi(pr(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(x.v.toString(),"")}catch(P){}!w&&d.Image&&(new Image().src=x.v,w=!0),w||(x.g=Lu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),ht(x)}Du(h)}function es(h){h.g&&(Vl(h),h.g.cancel(),h.g=null)}function da(h){es(h),h.u&&(d.clearTimeout(h.u),h.u=null),pa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ss(h){if(!fr(h.h)&&!h.s){h.s=!0;var x=h.Ga;ne||ie(),Q||(ne(),Q=!0),oe.add(x,h),h.B=0}}function _f(h,x){return wu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Wr(_(h.Ga,h,x),Nu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Qr(this,this.j,h);let te=this.o;if(this.S&&(te?(te=T(te),D(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=ji(this,Y,x),w=pr(this.I),lt(w,"RID",h),lt(w,"CVER",22),this.D&&lt(w,"X-HTTP-Session-Id",this.D),Gs(this,w),te&&(this.O?x="headers="+encodeURIComponent(String(Hs(te)))+"&"+x:this.m&&Ei(w,this.m,te)),Pl(this.h,Y),this.Ua&&lt(w,"TYPE","init"),this.P?(lt(w,"$req",x),lt(w,"SID","null"),Y.T=!0,sa(Y,w,null)):sa(Y,w,x),this.G=2}}else this.G==3&&(h?ha(this,h):this.i.length==0||fr(this.h)||ha(this))};function ha(h,x){var w;x?w=x.l:w=h.U++;const P=pr(h.I);lt(P,"SID",h.K),lt(P,"RID",w),lt(P,"AID",h.T),Gs(h,P),h.m&&h.o&&Ei(P,h.m,h.o),w=new Qr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=ji(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Pl(h.h,w),sa(w,P,x)}function Gs(h,x){h.H&&W(h.H,function(w,P){lt(x,P,w)}),h.l&&xi({},function(w,P){lt(x,P,w)})}function ji(h,x,w){w=Math.min(h.i.length,w);var P=h.l?_(h.l.Na,h.l,h):null;e:{var Y=h.i;let te=-1;for(;;){const ge=["count="+w];te==-1?0<w?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let rt=!0;for(let qt=0;qt<w;qt++){let Ke=Y[qt].g;const Zt=Y[qt].map;if(Ke-=te,0>Ke)te=Math.max(0,Y[qt].g-100),rt=!1;else try{Iu(Zt,ge,"req"+Ke+"_")}catch(Bt){P&&P(Zt)}}if(rt){P=ge.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,P}function mo(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ne||ie(),Q||(ne(),Q=!0),oe.add(x,h),h.v=0}}function fa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Wr(_(h.Fa,h),Nu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Wr(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),es(this),Pu(this))};function Vl(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Pu(h){h.g=new Qr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=pr(h.qa);lt(x,"RID","rpc"),lt(x,"SID",h.K),lt(x,"AID",h.T),lt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(x,"TO",h.ja),lt(x,"TYPE","xmlhttp"),Gs(h,x),h.m&&h.o&&Ei(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=wi(pr(x)),w.m=null,w.P=!0,Il(w,h)}t.Za=function(){this.C!=null&&(this.C=null,es(this),fa(this),Mt(19))};function pa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ma(h,x){var w=null;if(h.g==x){pa(h),Vl(h),h.g=null;var P=2}else if(Ln(h.h,x))w=x.D,Su(h.h,x),P=1;else return;if(h.G!=0){if(x.o)if(P==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var Y=h.B;P=so(),Ye(P,new ea(P,w)),Ss(h)}else mo(h);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(P==1&&_f(h,x)||P==2&&fa(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),Y){case 1:Ws(h,5);break;case 4:Ws(h,10);break;case 3:Ws(h,6);break;default:Ws(h,2)}}}function Nu(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function Ws(h,x){if(h.j.info("Error code "+x),x==2){var w=_(h.fb,h),P=h.Xa;const Y=!P;P=new Us(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ho(P,"https"),wi(P),Y?vf(P.toString(),w):Au(P.toString(),w)}else Mt(2);h.G=0,h.l&&h.l.sa(x),Du(h),da(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Du(h){if(h.G=0,h.ka=[],h.l){const x=Tu(h.h);(x.length!=0||h.i.length!=0)&&(C(h.ka,x),C(h.ka,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.ra()}}function Mu(h,x,w){var P=w instanceof Us?pr(w):new Us(w);if(P.g!="")x&&(P.g=x+"."+P.g),bi(P,P.s);else{var Y=d.location;P=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new Us(null);P&&ho(te,P),x&&(te.g=x),Y&&bi(te,Y),w&&(te.l=w),P=te}return w=h.D,x=h.ya,w&&x&&lt(P,w,x),lt(P,"VER",h.la),Gs(h,P),P}function Lu(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new bt(new zs({eb:w})):new bt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bl(){}t=Bl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ga(){}ga.prototype.g=function(h,x){return new Fn(h,x)};function Fn(h,x){ut.call(this),this.g=new Fl(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!B(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ts(this)}j(Fn,ut),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){dn(this.g)},Fn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=ys(h),h=w);x.i.push(new _u(x.Ya++,h)),x.G==3&&Ss(x)},Fn.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Fn.aa.N.call(this)};function Fu(h){hr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}j(Fu,hr);function Vu(){Os.call(this),this.status=1}j(Vu,Os);function Ts(h){this.g=h}j(Ts,Bl),Ts.prototype.ua=function(){Ye(this.g,"a")},Ts.prototype.ta=function(h){Ye(this.g,new Fu(h))},Ts.prototype.sa=function(h){Ye(this.g,new Vu)},Ts.prototype.ra=function(){Ye(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,jw=function(){return new ga},Ew=function(){return so()},Tw=xs,Ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,nh=na,yu.COMPLETE="complete",Sw=yu,Gr.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,vc=Gr,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,ww=bt}).apply(typeof Nd!="undefined"?Nd:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new pw("@firebase/firestore");function dc(){return Go.logLevel}function Te(t,...e){if(Go.logLevel<=Je.DEBUG){const n=e.map(qg);Go.debug(`Firestore (${vl}): ${t}`,...n)}}function hi(t,...e){if(Go.logLevel<=Je.ERROR){const n=e.map(qg);Go.error(`Firestore (${vl}): ${t}`,...n)}}function rl(t,...e){if(Go.logLevel<=Je.WARN){const n=e.map(qg);Go.warn(`Firestore (${vl}): ${t}`,...n)}}function qg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function it(t,e){t||Me()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends yl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pn.UNAUTHENTICATED)))}shutdown(){}}class yI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vI{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let l=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ci,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ci)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new kw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Pn(e)}}class xI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){it(this.o===void 0);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?i(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string"),this.R=n.token,new _I(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SI(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<n&&(r+=e.charAt(i[l]%e.length))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function sl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Yt(0,0))}static max(){return new Be(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const l=e.get(i),c=n.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends Bc{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Bc{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const l=()=>{if(r.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(l(),i++)}if(l(),c)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ct.fromString(e))}static fromName(e){return new Ce(ct.fromString(e).popFirst(5))}static empty(){return new Ce(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ct(e.slice()))}}function EI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new Qi(i,Ce.empty(),e)}function jI(t){return new Qi(t.readTime,t.key,-1)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(Be.min(),Ce.empty(),-1)}static max(){return new Qi(Be.max(),Ce.empty(),-1)}}function kI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==CI)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,l=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++l,c&&l===i&&n()}),(f=>r(f)))})),c=!0,l===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,l)=>{r.push(n.call(this,i,l))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((g=>{c[p]=g,++d,d===l&&r(c)}),(g=>i(g)))}}))}static doWhile(e,n){return new de(((r,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):r()};l()}))}}function II(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kg.oe=-1;function $h(t){return t==null}function yh(t){return t===0&&1/t==-1/0}function RI(t){return typeof t=="number"&&Number.isInteger(t)&&!yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Aw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dd(this.root,e,this.comparator,!0)}}class Dd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,i,l){this.key=e,this.value=n,this.color=r!=null?r:vn.RED,this.left=i!=null?i:vn.EMPTY,this.right=l!=null?l:vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,l){return new vn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,r),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,i,l){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new _r([])}unionWith(e){let n=new Sn(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Iw("Invalid base64 string: "+l):l}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(it(!!t),typeof t=="string"){let e=0;const n=PI.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wo(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qg(t){const e=t.mapValue.fields.__previous_value__;return Uh(e)?Qg(e):e}function Oc(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,i,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class $c{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md={mapValue:{}};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uh(t)?4:MI(t)?9007199254740991:DI(t)?10:11:Me()}function Fs(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=Yi(i.timestampValue),d=Yi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return Wo(i.bytesValue).isEqual(Wo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Ft(i.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Ft(i.integerValue)===Ft(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=Ft(i.doubleValue),d=Ft(l.doubleValue);return c===d?yh(c)===yh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},d=l.mapValue.fields||{};if(X0(c)!==X0(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Fs(c[f],d[f])))return!1;return!0})(t,e);default:return Me()}}function Uc(t,e){return(t.values||[]).find((n=>Fs(n,e)))!==void 0}function il(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Ft(l.integerValue||l.doubleValue),f=Ft(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return Z0(t.timestampValue,e.timestampValue);case 4:return Z0(Oc(t),Oc(e));case 5:return tt(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Wo(l),f=Wo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=tt(d[p],f[p]);if(g!==0)return g}return tt(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=tt(Ft(l.latitude),Ft(c.latitude));return d!==0?d:tt(Ft(l.longitude),Ft(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return e1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,f,p,g;const v=l.fields||{},_=c.fields||{},S=(d=v.value)===null||d===void 0?void 0:d.arrayValue,j=(f=_.value)===null||f===void 0?void 0:f.arrayValue,A=tt(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=j==null?void 0:j.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:e1(S,j)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Md.mapValue&&c===Md.mapValue)return 0;if(l===Md.mapValue)return 1;if(c===Md.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=tt(f[v],g[v]);if(_!==0)return _;const S=il(d[f[v]],p[g[v]]);if(S!==0)return S}return tt(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Me()}}function Z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Yi(t),r=Yi(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function e1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const l=il(n[i],r[i]);if(l)return l}return tt(n.length,r.length)}function ol(t){return Xm(t)}function Xm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Yi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const l of n.values||[])i?i=!1:r+=",",r+=Xm(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${Xm(n.fields[c])}`;return i+"}"})(t.mapValue):Me()}function vh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jm(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function DI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=jc(c):i.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,i)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new or(jc(this.value))}}function Rw(t){const e=[];return Yo(t.fields,((n,r)=>{const i=new _n([n]);if(rh(r)){const l=Rw(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,i,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,Be.min(),Be.min(),Be.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new Dn(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new Dn(e,2,n,Be.min(),Be.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Be.min(),Be.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.position=e,this.inclusive=n}}function r1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const l=e[i],c=t.position[i];if(l.field.isKeyField()?r=Ce.comparator(Ce.fromName(c.referenceValue),n.key):r=il(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function LI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{}class Wt extends Pw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VI(e,n,r):n==="array-contains"?new $I(e,r):n==="in"?new UI(e,r):n==="not-in"?new zI(e,r):n==="array-contains-any"?new HI(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BI(e,r):new OI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(il(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ds extends Pw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ds(e,n)}matches(e){return Nw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nw(t){return t.op==="and"}function Dw(t){return FI(t)&&Nw(t)}function FI(t){for(const e of t.filters)if(e instanceof ds)return!1;return!0}function Zm(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(Dw(t))return t.filters.map((e=>Zm(e))).join(",");{const e=t.filters.map((n=>Zm(n))).join(",");return`${t.op}(${e})`}}function Mw(t,e){return t instanceof Wt?(function(r,i){return i instanceof Wt&&r.op===i.op&&r.field.isEqual(i.field)&&Fs(r.value,i.value)})(t,e):t instanceof ds?(function(r,i){return i instanceof ds&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,d)=>l&&Mw(c,i.filters[d])),!0):!1})(t,e):void Me()}function Lw(t){return t instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`})(t):t instanceof ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(Lw).join(" ,")+"}"})(t):"Filter"}class VI extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class BI extends Wt{constructor(e,n){super(e,"in",n),this.keys=Fw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OI extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=Fw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Fw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ce.fromName(r.referenceValue)))}class $I extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yg(n)&&Uc(n.arrayValue,this.value)}}class UI extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class zI extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uc(this.value.arrayValue,n)}}class HI extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Uc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n=null,r=[],i=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function i1(t,e=null,n=[],r=[],i=null,l=null,c=null){return new GI(t,e,n,r,i,l,c)}function Xg(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Zm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ol(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ol(r))).join(",")),e.ue=n}return e.ue}function Jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function eg(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n=null,r=[],i=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WI(t,e,n,r,i,l,c,d){return new yi(t,e,n,r,i,l,c,d)}function Zg(t){return new yi(t)}function o1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ey(t){return t.collectionGroup!==null}function el(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Sn(_n.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new zc(l,r))})),n.has(_n.keyField().canonicalString())||e.ce.push(new zc(_n.keyField(),r))}return e.ce}function Rs(t){const e=Oe(t);return e.le||(e.le=qI(e,el(t))),e.le}function qI(t,e){if(t.limitType==="F")return i1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new zc(i.field,l)}));const n=t.endAt?new al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new al(t.startAt.position,t.startAt.inclusive):null;return i1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tg(t,e){const n=t.filters.concat([e]);return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xh(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return Jg(Rs(t),Rs(e))&&t.limitType===e.limitType}function Vw(t){return`${Xg(Rs(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Lw(i))).join(", ")}]`),$h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ol(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ol(i))).join(",")),`Target(${r})`})(Rs(t))}; limitType=${t.limitType})`}function Hh(t,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ce.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,i){for(const l of el(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,f){const p=r1(c,d,f);return c.inclusive?p<=0:p<0})(r.startAt,el(r),i)||r.endAt&&!(function(c,d,f){const p=r1(c,d,f);return c.inclusive?p>=0:p>0})(r.endAt,el(r),i))})(t,e)}function KI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bw(t){return(e,n)=>{let r=!1;for(const i of el(t)){const l=QI(i,e,n);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function QI(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?il(f,p):Me()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((n,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new kt(Ce.comparator);function fi(){return YI}const Ow=new kt(Ce.comparator);function xc(...t){let e=Ow;for(const n of t)e=e.insert(n.key,n);return e}function $w(t){let e=Ow;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $o(){return kc()}function Uw(){return kc()}function kc(){return new xl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const XI=new kt(Ce.comparator),JI=new Sn(Ce.comparator);function We(...t){let e=JI;for(const n of t)e=e.add(n);return e}const ZI=new Sn(tt);function eR(){return ZI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function zw(t){return{integerValue:""+t}}function tR(t,e){return RI(e)?zw(e):ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function nR(t,e,n){return t instanceof Hc?(function(i,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&Uh(l)&&(l=Qg(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Gc?Gw(t,e):t instanceof Wc?Ww(t,e):(function(i,l){const c=Hw(i,l),d=a1(c)+a1(i.Pe);return Jm(c)&&Jm(i.Pe)?zw(d):ty(i.serializer,d)})(t,e)}function rR(t,e,n){return t instanceof Gc?Gw(t,e):t instanceof Wc?Ww(t,e):n}function Hw(t,e){return t instanceof bh?(function(r){return Jm(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Hc extends Gh{}class Gc extends Gh{constructor(e){super(),this.elements=e}}function Gw(t,e){const n=qw(e);for(const r of t.elements)n.some((i=>Fs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Wc extends Gh{constructor(e){super(),this.elements=e}}function Ww(t,e){let n=qw(e);for(const r of t.elements)n=n.filter((i=>!Fs(i,r)));return{arrayValue:{values:n}}}class bh extends Gh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function a1(t){return Ft(t.integerValue||t.doubleValue)}function qw(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.field=e,this.transform=n}}function iR(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gc&&i instanceof Gc||r instanceof Wc&&i instanceof Wc?sl(r.elements,i.elements,Fs):r instanceof bh&&i instanceof bh?Fs(r.Pe,i.Pe):r instanceof Hc&&i instanceof Hc})(t.transform,e.transform)}class oR{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wh{}function Kw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ny(t.key,Ur.none()):new ru(t.key,t.data,Ur.none());{const n=t.data,r=or.empty();let i=new Sn(_n.comparator);for(let l of e.fields)if(!i.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new to(t.key,r,new _r(i.toArray()),Ur.none())}}function aR(t,e,n){t instanceof ru?(function(i,l,c){const d=i.value.clone(),f=c1(i.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof to?(function(i,l,c){if(!sh(i.precondition,l))return void l.convertToUnknownDocument(c.version);const d=c1(i.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(Qw(i)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Cc(t,e,n,r){return t instanceof ru?(function(l,c,d,f){if(!sh(l.precondition,c))return d;const p=l.value.clone(),g=u1(l.fieldTransforms,f,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof to?(function(l,c,d,f){if(!sh(l.precondition,c))return d;const p=u1(l.fieldTransforms,f,c),g=c.data;return g.setAll(Qw(l)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,d){return sh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function lR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),l=Hw(r.transform,i||null);l!=null&&(n===null&&(n=or.empty()),n.set(r.field,l))}return n||null}function l1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sl(r,i,((l,c)=>iR(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ru extends Wh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Wh{constructor(e,n,r,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Qw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function c1(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const l=t[i],c=l.transform,d=e.data.field(l.field);r.set(l.field,rR(c,d,n[i]))}return r}function u1(t,e,n){const r=new Map;for(const i of t){const l=i.transform,c=n.data.field(i.field);r.set(i.field,nR(l,c,e))}return r}class ny extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&aR(l,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Uw();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(i.key)?null:d;const f=Kw(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((n,r)=>l1(n,r)))&&sl(this.baseMutations,e.baseMutations,((n,r)=>l1(n,r)))}}class ry{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=(function(){return XI})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new ry(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Qe;function fR(t){switch(t){default:return Me();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function Yw(t){if(t===void 0)return hi("GRPC error has no .code"),se.UNKNOWN;switch(t){case $t.OK:return se.OK;case $t.CANCELLED:return se.CANCELLED;case $t.UNKNOWN:return se.UNKNOWN;case $t.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case $t.INTERNAL:return se.INTERNAL;case $t.UNAVAILABLE:return se.UNAVAILABLE;case $t.UNAUTHENTICATED:return se.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case $t.NOT_FOUND:return se.NOT_FOUND;case $t.ALREADY_EXISTS:return se.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return se.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case $t.ABORTED:return se.ABORTED;case $t.OUT_OF_RANGE:return se.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return se.UNIMPLEMENTED;case $t.DATA_LOSS:return se.DATA_LOSS;default:return Me()}}(Qe=$t||($t={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new zo([4294967295,4294967295],0);function d1(t){const e=pR().encode(t),n=new _w;return n.update(e),new Uint8Array(n.digest())}function h1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zo([n,r],0),new zo([i,l],0)]}class sy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(r<0)throw new bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zo.fromNumber(r)));return i.compare(mR)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=d1(e),[r,i]=h1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,i,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new sy(l,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=d1(e),[r,i]=h1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,i,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(Be.min(),i,new kt(tt),fi(),We())}}class su{constructor(e,n,r,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Xw{constructor(e,n){this.targetId=e,this.me=n}}class Jw{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f1{constructor(){this.fe=0,this.ge=m1(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),n=We(),r=We();return this.ge.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me()}})),new su(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=m1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gR{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=p1(),this.Qe=new kt(tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Me()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const l=i.target;if(eg(l))if(r===0){const c=new Ce(l.path);this.Ue(n,c,Dn.newNoDocument(c,Be.min()))}else it(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),f=d?this.Xe(d,e,c):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=n;let c,d;try{c=Wo(r).toUint8Array()}catch(f){if(f instanceof Iw)return rl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new sy(c,i,l)}catch(f){return rl(f instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&eg(d.target)){const f=new Ce(d.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Dn.newNoDocument(f,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=We();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const i=new qh(e,n,this.Qe,this.ke,r);return this.ke=fi(),this.qe=p1(),this.Qe=new kt(tt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new f1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Sn(tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new f1),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function p1(){return new kt(Ce.comparator)}function m1(){return new kt(Ce.comparator)}const yR={asc:"ASCENDING",desc:"DESCENDING"},vR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xR={and:"AND",or:"OR"};class bR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||$h(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _R(t,e){return _h(t,e.toTimestamp())}function Ps(t){return it(!!t),Be.fromTimestamp((function(n){const r=Yi(n);return new Yt(r.seconds,r.nanos)})(t))}function iy(t,e){return rg(t,e).canonicalString()}function rg(t,e){const n=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function eS(t){const e=ct.fromString(t);return it(iS(e)),e}function sg(t,e){return iy(t.databaseId,e.path)}function Zp(t,e){const n=eS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(nS(n))}function tS(t,e){return iy(t.databaseId,e)}function wR(t){const e=eS(t);return e.length===4?ct.emptyPath():nS(e)}function ig(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nS(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g1(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function SR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(it(g===void 0||typeof g=="string"),Tn.fromBase64String(g||"")):(it(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Tn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?se.UNKNOWN:Yw(p.code);return new ve(g,p.message||"")})(c);n=new Jw(r,i,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zp(t,r.document.name),l=Ps(r.document.updateTime),c=r.document.createTime?Ps(r.document.createTime):Be.min(),d=new or({mapValue:{fields:r.document.fields}}),f=Dn.newFoundDocument(i,l,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new ih(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zp(t,r.document),l=r.readTime?Ps(r.readTime):Be.min(),c=Dn.newNoDocument(i,l),d=r.removedTargetIds||[];n=new ih([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zp(t,r.document),l=r.removedTargetIds||[];n=new ih([],l,i,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new hR(i,l),d=r.targetId;n=new Xw(d,c)}}return n}function TR(t,e){let n;if(e instanceof ru)n={update:g1(t,e.key,e.value)};else if(e instanceof ny)n={delete:sg(t,e.key)};else if(e instanceof to)n={update:g1(t,e.key,e.data),updateMask:NR(e.fieldMask)};else{if(!(e instanceof cR))return Me();n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Hc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Me()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:_R(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me()})(t,e.precondition)),n}function ER(t,e){return t&&t.length>0?(it(e!==void 0),t.map((n=>(function(i,l){let c=i.updateTime?Ps(i.updateTime):Ps(l);return c.isEqual(Be.min())&&(c=Ps(l)),new oR(c,i.transformResults||[])})(n,e)))):[]}function jR(t,e){return{documents:[tS(t,e.path)]}}function kR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tS(t,i);const l=(function(p){if(p.length!==0)return sS(ds.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((g=>(function(_){return{field:Wa(_.field),direction:IR(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ng(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:i}}function CR(t){let e=wR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=rS(v);return _ instanceof ds&&Dw(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(j){return new zc(qa(j.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let _;return _=typeof v=="object"?v.value:v,$h(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(v){const _=!!v.before,S=v.values||[];return new al(S,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const _=!v.before,S=v.values||[];return new al(S,_)})(n.endAt)),WI(e,i,c,l,d,"F",f,p)}function AR(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(n.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qa(n.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=qa(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Me()}})(t):t.fieldFilter!==void 0?(function(n){return Wt.create(qa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ds.create(n.compositeFilter.filters.map((r=>rS(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me()}})(n.compositeFilter.op))})(t):Me()}function IR(t){return yR[t]}function RR(t){return vR[t]}function PR(t){return xR[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function qa(t){return _n.fromServerFormat(t.fieldPath)}function sS(t){return t instanceof Wt?(function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:RR(n.op),value:n.value}}})(t):t instanceof ds?(function(n){const r=n.getFilters().map((i=>sS(i)));return r.length===1?r[0]:{compositeFilter:{op:PR(n.op),filters:r}}})(t):Me()}function NR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,l=Be.min(),c=Be.min(),d=Tn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.ct=e}}function MR(t){const e=CR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.un=new FR}addToCollectionParentIndex(e,n){return this.un.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Qi.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class FR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Sn(ct.comparator),l=!i.has(r);return this.index[n]=i.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Sn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ll(0)}static kn(){return new ll(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.changes=new xl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Cc(r.mutation,i,_r.empty(),Yt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const i=$o();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((l=>{let c=xc();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const i=[];return r.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let l=fi();const c=kc(),d=(function(){return kc()})();return n.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof to)?l=l.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Cc(g.mutation,p,g.mutation.getFieldMask(),Yt.now())):c.set(p.key,_r.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>{var v;return d.set(p,new BR(g,(v=c.get(p))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=kc();let i=new kt(((c,d)=>c-d)),l=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||_r.empty();g=d.applyToLocalView(p,g),r.set(f,g);const v=(i.get(d.batchId)||We()).add(f);i=i.insert(d.batchId,v)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,v=Uw();g.forEach((_=>{if(!l.has(_)){const S=Kw(n.get(_),r.get(_));S!==null&&v.set(_,S),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ey(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-l.size):de.resolve($o());let d=-1,f=l;return c.next((p=>de.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,We()))).next((g=>({batchId:d,changes:$w(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let i=xc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const l=n.collectionGroup;let c=xc();return this.indexManager.getCollectionParents(e,l).next((d=>de.forEach(d,(f=>{const p=(function(v,_){return new yi(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,i)))).next((c=>{l.forEach(((f,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Dn.newInvalidDocument(g)))}));let d=xc();return c.forEach(((f,p)=>{const g=l.get(f);g!==void 0&&Cc(g.mutation,p,_r.empty(),Yt.now()),Hh(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return de.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ps(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:MR(i.bundledQuery),readTime:Ps(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.overlays=new kt(Ce.comparator),this.Ir=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return de.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,l)=>{this.ht(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=$o(),l=n.length+1,c=new Ce(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>r&&i.set(f.getKey(),f)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let l=new kt(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=$o(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=$o(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=i)););return de.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new dR(n,r));let l=this.Ir.get(n);l===void 0&&(l=We(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Tr=new Sn(sn.Er),this.dr=new Sn(sn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new sn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ce(new ct([])),r=new sn(n,e),i=new sn(n,e+1),l=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ce(new ct([])),r=new sn(n,e),i=new sn(n,e+1);let l=We();return this.dr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new sn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ce.comparator(e.key,n.key)||tt(e.wr,n.wr)}static Ar(e,n){return tt(e.wr,n.wr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Sn(sn.Er)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uR(l,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new sn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),l=i<0?0:i;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);l.push(d)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(tt);return n.forEach((i=>{const l=new sn(i,0),c=new sn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{r=r.add(d.wr)}))})),de.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let l=r;Ce.isDocumentKey(l)||(l=l.child(""));const c=new sn(new Ce(l),0);let d=new Sn(tt);return this.br.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.wr)),!0)}),c),de.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return de.forEach(n.mutations,(i=>{const l=new sn(i.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new sn(n,0),i=this.br.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.Mr=e,this.docs=(function(){return new kt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),l=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Dn.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let l=fi();const c=n.path,d=new Ce(c.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||kI(jI(g),r)<=0||(i.has(g.key)||Hh(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,i){Me()}Or(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new WR(this)}getSize(e){return de.resolve(this.size)}}class WR extends VR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.persistence=e,this.Nr=new xl((n=>Xg(n)),Jg),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oy,this.targetCount=0,this.kr=ll.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),de.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ll(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Kn(n),de.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),de.waitFor(l).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kg(0),this.Kr=!1,this.Kr=!0,this.$r=new zR,this.referenceDelegate=e(this),this.Ur=new qR(this),this.indexManager=new LR,this.remoteDocumentCache=(function(i){return new GR(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new DR(n),this.Gr=new $R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new QR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((l=>this.referenceDelegate.jr(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Hr(e,n){return de.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class QR extends AI{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Jr=new oy,this.Yr=null}static Zr(e){return new ay(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),de.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,(r=>{const i=Ce.fromPath(r);return this.ei(e,i).next((l=>{l||n.removeEntry(i,Be.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return de.or([()=>de.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=We(),i=We();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new ly(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return eA()?8:II(JC())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new YR;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(dc()<=Je.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(dc()<=Je.DEBUG&&Te("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dc()<=Je.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):de.resolve())}Yi(e,n){if(o1(n))return de.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=xh(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=We(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.ts(n,d);return this.ns(n,p,c,f.readTime)?this.Yi(e,xh(n,null,"F")):this.rs(e,p,n,f)}))))})))))}Zi(e,n,r,i){return o1(n)||i.isEqual(Be.min())?de.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,i)?de.resolve(null):(dc()<=Je.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(n)),this.rs(e,c,n,EI(i,-1)).next((d=>d)))}))}ts(e,n){let r=new Sn(Bw(e));return n.forEach(((i,l)=>{Hh(e,l)&&(r=r.add(l))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Xi(e,n,r){return dc()<=Je.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new kt(tt),this._s=new xl((l=>Xg(l)),Jg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function ZR(t,e,n,r){return new JR(t,e,n,r)}async function oS(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let f=We();for(const p of i){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function eP(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const v=p.batch,_=v.keys();let S=de.resolve();return _.forEach((j=>{S=S.next((()=>g.getEntry(f,j))).next((A=>{const C=p.docVersions.get(j);it(C!==null),A.version.compareTo(C)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=We();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function aS(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function tP(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((g,v)=>{const _=i.get(v);if(!_)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,v))));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Tn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(v,S),(function(A,C,F){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(_,S,g)&&d.push(n.Ur.updateTargetData(l,S))}));let f=fi(),p=We();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(nP(l,c,e.documentUpdates).next((g=>{f=g.Ps,p=g.Is}))),!r.isEqual(Be.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((v=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return de.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.os=i,l)))}function nP(t,e,n){let r=We(),i=We();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=fi();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Te("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Ps:c,Is:i}}))}function rP(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sP(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((l=>l?(i=l,de.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new Gi(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function og(t,e,n){const r=Oe(t),i=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!nu(c))throw c;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function y1(t,e,n){const r=Oe(t);let i=Be.min(),l=We();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,g){const v=Oe(f),_=v._s.get(g);return _!==void 0?de.resolve(v.os.get(_)):v.Ur.getTargetData(p,g)})(r,c,Rs(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:Be.min(),n?l:We()))).next((d=>(iP(r,KI(e),d),{documents:d,Ts:l})))))}function iP(t,e,n){let r=t.us.get(e)||Be.min();n.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class v1{constructor(){this.activeTargetIds=eR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oP{constructor(){this.so=new v1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new v1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function em(){return Ld===null?Ld=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class uP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${l}`}get Fo(){return!1}Mo(n,r,i,l,c){const d=em(),f=this.xo(n,r.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${d}:`,f,i);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,f,p,i).then((g=>(Te("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw rl("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",f,"request:",i),g}))}Lo(n,r,i,l,c,d){return this.Mo(n,r,i,l,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),i&&i.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const i=lP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const l=em();return new Promise(((c,d)=>{const f=new ww;f.setWithCredentials(!0),f.listenOnce(Sw.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case nh.NO_ERROR:const g=f.getResponseJson();Te(In,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case nh.TIMEOUT:Te(In,`RPC '${e}' ${l} timed out`),d(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const v=f.getStatus();if(Te(In,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const j=(function(C){const F=C.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(S.status);d(new ve(j,S.message))}else d(new ve(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ve(se.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Te(In,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Te(In,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}Bo(e,n,r){const i=em(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jw(),d=Ew(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=l.join("");Te(In,`Creating RPC '${e}' stream ${i}: ${g}`,f);const v=c.createWebChannel(g,f);let _=!1,S=!1;const j=new cP({Io:C=>{S?Te(In,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(Te(In,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),Te(In,`RPC '${e}' stream ${i} sending:`,C),v.send(C))},To:()=>v.close()}),A=(C,F,B)=>{C.listen(F,(N=>{try{B(N)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(v,vc.EventType.OPEN,(()=>{S||(Te(In,`RPC '${e}' stream ${i} transport opened.`),j.yo())})),A(v,vc.EventType.CLOSE,(()=>{S||(S=!0,Te(In,`RPC '${e}' stream ${i} transport closed`),j.So())})),A(v,vc.EventType.ERROR,(C=>{S||(S=!0,rl(In,`RPC '${e}' stream ${i} transport errored:`,C),j.So(new ve(se.UNAVAILABLE,"The operation could not be completed")))})),A(v,vc.EventType.MESSAGE,(C=>{var F;if(!S){const B=C.data[0];it(!!B);const N=B,U=N.error||((F=N[0])===null||F===void 0?void 0:F.error);if(U){Te(In,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let W=(function(I){const D=$t[I];if(D!==void 0)return Yw(D)})($),E=U.message;W===void 0&&(W=se.INTERNAL,E="Unknown error status: "+$+" with message "+U.message),S=!0,j.So(new ve(W,E)),v.close()}else Te(In,`RPC '${e}' stream ${i} received:`,B),j.bo(B)}})),A(d,Tw.STAT_EVENT,(C=>{C.stat===Ym.PROXY?Te(In,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Ym.NOPROXY&&Te(In,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}}function tm(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return new bR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r=1e3,i=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r,i,l,c,d,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new ve(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dP extends cS{constructor(e,n,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=SR(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?Ps(c.readTime):Be.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ig(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=eg(f)?{documents:jR(l,f)}:{query:kR(l,f)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Zw(l,c.resumeToken);const p=ng(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=_h(l,c.snapshotVersion.toTimestamp());const p=ng(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=AR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.a_(n)}}class hP extends cS{constructor(e,n,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ER(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ig(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TR(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,rg(n,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(se.UNKNOWN,l.toString())}))}Lo(e,n,r,i,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,rg(n,r),i,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(se.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class pP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(hi(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{Xo(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const p=Oe(f);p.L_.add(4),await iu(p),p.q_.set("Unknown"),p.L_.delete(4),await Qh(p)})(this))}))})),this.q_=new pP(r,i)}}async function Qh(t){if(Xo(t))for(const e of t.B_)await e(!0)}async function iu(t){for(const e of t.B_)await e(!1)}function uS(t,e){const n=Oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hy(n)?dy(n):bl(n).r_()&&uy(n,e))}function cy(t,e){const n=Oe(t),r=bl(n);n.N_.delete(e),r.r_()&&dS(n,e),n.N_.size===0&&(r.r_()?r.o_():Xo(n)&&n.q_.set("Unknown"))}function uy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).A_(e)}function dS(t,e){t.Q_.xe(e),bl(t).R_(e)}function dy(t){t.Q_=new gR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.q_.v_()}function hy(t){return Xo(t)&&!bl(t).n_()&&t.N_.size>0}function Xo(t){return Oe(t).L_.size===0}function hS(t){t.Q_=void 0}async function gP(t){t.q_.set("Online")}async function yP(t){t.N_.forEach(((e,n)=>{uy(t,e)}))}async function vP(t,e){hS(t),hy(t)?(t.q_.M_(e),dy(t)):t.q_.set("Unknown")}async function xP(t,e,n){if(t.q_.set("Online"),e instanceof Jw&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const d of l.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(t,r)}else if(e instanceof ih?t.Q_.Ke(e):e instanceof Xw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const r=await aS(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=l.N_.get(p);g&&l.N_.set(p,g.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const g=l.N_.get(f);if(!g)return;l.N_.set(f,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),dS(l,f);const v=new Gi(g.target,f,p,g.sequenceNumber);uy(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),await wh(t,r)}}async function wh(t,e,n){if(!nu(e))throw e;t.L_.add(1),await iu(t),t.q_.set("Offline"),n||(n=()=>aS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qh(t)}))}function fS(t,e){return e().catch((n=>wh(t,n,e)))}async function Yh(t){const e=Oe(t),n=Xi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bP(e);)try{const i=await rP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,_P(e,i)}catch(i){await wh(e,i)}pS(e)&&mS(e)}function bP(t){return Xo(t)&&t.O_.length<10}function _P(t,e){t.O_.push(e);const n=Xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function pS(t){return Xo(t)&&!Xi(t).n_()&&t.O_.length>0}function mS(t){Xi(t).start()}async function wP(t){Xi(t).p_()}async function SP(t){const e=Xi(t);for(const n of t.O_)e.m_(n.mutations)}async function TP(t,e,n){const r=t.O_.shift(),i=ry.from(r,e,n);await fS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Yh(t)}async function EP(t,e){e&&Xi(t).V_&&await(async function(r,i){if((function(c){return fR(c)&&c!==se.ABORTED})(i.code)){const l=r.O_.shift();Xi(r).s_(),await fS(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Yh(r)}})(t,e),pS(t)&&mS(t)}async function b1(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=Xo(n);n.L_.add(3),await iu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qh(n)}async function jP(t,e){const n=Oe(t);e?(n.L_.delete(2),await Qh(n)):e||(n.L_.add(2),await iu(n),n.q_.set("Unknown"))}function bl(t){return t.K_||(t.K_=(function(n,r,i){const l=Oe(n);return l.w_(),new dP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:gP.bind(null,t),Ro:yP.bind(null,t),mo:vP.bind(null,t),d_:xP.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),hy(t)?dy(t):t.q_.set("Unknown")):(await t.K_.stop(),hS(t))}))),t.K_}function Xi(t){return t.U_||(t.U_=(function(n,r,i){const l=Oe(n);return l.w_(),new hP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wP.bind(null,t),mo:EP.bind(null,t),f_:SP.bind(null,t),g_:TP.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Yh(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,l){const c=Date.now()+r,d=new fy(e,n,c,i,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(t,e){if(hi("AsyncQueue",`${e}: ${t}`),nu(t))return new ve(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=xc(),this.sortedSet=new kt(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.W_=new kt(Ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class cl{constructor(e,n,r,i,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new cl(e,n,tl.emptySet(n),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class CP{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Oe(n),l=i.queries;i.queries=w1(),l.forEach(((c,d)=>{for(const f of d.j_)f.onError(r)}))})(this,new ve(se.ABORTED,"Firestore shutting down"))}}function w1(){return new xl((t=>Vw(t)),zh)}async function gS(t,e){const n=Oe(t);let r=3;const i=e.query;let l=n.queries.get(i);l?!l.H_()&&e.J_()&&(r=2):(l=new kP,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(i,!0);break;case 1:l.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=py(c,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&my(n)}async function yS(t,e){const n=Oe(t),r=e.query;let i=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?i=e.J_()?0:1:!l.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AP(t,e){const n=Oe(t);let r=!1;for(const i of e){const l=i.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&my(n)}function IP(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const l of i.j_)l.onError(n);r.queries.delete(e)}function my(t){t.Y_.forEach((e=>{e.next()}))}var ag,S1;(S1=ag||(ag={})).ea="default",S1.Cache="cache";class vS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class RP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=We(),this.mutatedKeys=We(),this.Aa=Bw(e),this.Ra=new tl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new _1,i=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,v)=>{const _=i.get(g),S=Hh(this.query,v)?v:null,j=!!_&&this.mutatedKeys.has(_.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;_&&S?_.data.isEqual(S.data)?j!==A&&(r.track({type:3,doc:S}),C=!0):this.ga(_,S)||(r.track({type:2,doc:S}),C=!0,(f&&this.Aa(S,f)>0||p&&this.Aa(S,p)<0)&&(d=!0)):!_&&S?(r.track({type:0,doc:S}),C=!0):_&&!S&&(r.track({type:1,doc:_}),C=!0,(f||p)&&(d=!0)),C&&(S?(c=c.add(S),l=A?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,v)=>(function(S,j){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return A(S)-A(j)})(g.type,v.type)||this.Aa(g.doc,v.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,p=f!==this.Ea;return this.Ea=f,c.length!==0||p?{snapshot:new cl(this.query,e.Ra,l,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=We(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new bS(r))})),this.da.forEach((r=>{e.has(r)||n.push(new xS(r))})),n}ba(e){this.Ta=e.Ts,this.da=We();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return cl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class PP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NP{constructor(e){this.key=e,this.va=!1}}class DP{constructor(e,n,r,i,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new xl((d=>Vw(d)),zh),this.Ma=new Map,this.xa=new Set,this.Oa=new kt(Ce.comparator),this.Na=new Map,this.La=new oy,this.Ba={},this.ka=new Map,this.qa=ll.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MP(t,e,n=!0){const r=jS(t);let i;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.Da()):i=await _S(r,e,n,!0),i}async function LP(t,e){const n=jS(t);await _S(n,e,!0,!1)}async function _S(t,e,n,r){const i=await sP(t.localStore,Rs(e)),l=i.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await FP(t,e,l,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&uS(t.remoteStore,i),d}async function FP(t,e,n,r,i){t.Ka=(v,_,S)=>(async function(A,C,F,B){let N=C.view.ma(F);N.ns&&(N=await y1(A.localStore,C.query,!1).then((({documents:E})=>C.view.ma(E,N))));const U=B&&B.targetChanges.get(C.targetId),$=B&&B.targetMismatches.get(C.targetId)!=null,W=C.view.applyChanges(N,A.isPrimaryClient,U,$);return E1(A,C.targetId,W.wa),W.snapshot})(t,v,_,S);const l=await y1(t.localStore,e,!0),c=new RP(e,l.Ts),d=c.ma(l.documents),f=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=c.applyChanges(d,t.isPrimaryClient,f);E1(t,n,p.wa);const g=new PP(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function VP(t,e,n){const r=Oe(t),i=r.Fa.get(e),l=r.Ma.get(i.targetId);if(l.length>1)return r.Ma.set(i.targetId,l.filter((c=>!zh(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await og(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cy(r.remoteStore,i.targetId),lg(r,i.targetId)})).catch(tu)):(lg(r,i.targetId),await og(r.localStore,i.targetId,!0))}async function BP(t,e){const n=Oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cy(n.remoteStore,r.targetId))}async function OP(t,e,n){const r=qP(t);try{const i=await(function(c,d){const f=Oe(c),p=Yt.now(),g=d.reduce(((S,j)=>S.add(j.key)),We());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let j=fi(),A=We();return f.cs.getEntries(S,g).next((C=>{j=C,j.forEach(((F,B)=>{B.isValidDocument()||(A=A.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,j))).next((C=>{v=C;const F=[];for(const B of d){const N=lR(B,v.get(B.key).overlayedDocument);N!=null&&F.push(new to(B.key,N,Rw(N.value.mapValue),Ur.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,F,d)})).next((C=>{_=C;const F=C.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(S,C.batchId,F)}))})).then((()=>({batchId:_.batchId,changes:$w(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,f){let p=c.Ba[c.currentUser.toKey()];p||(p=new kt(tt)),p=p.insert(d,f),c.Ba[c.currentUser.toKey()]=p})(r,i.batchId,n),await ou(r,i.changes),await Yh(r.remoteStore)}catch(i){const l=py(i,"Failed to persist write");n.reject(l)}}async function wS(t,e){const n=Oe(t);try{const r=await tP(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=n.Na.get(l);c&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?it(c.va):i.removedDocuments.size>0&&(it(c.va),c.va=!1))})),await ou(n,r,e)}catch(r){await tu(r)}}function T1(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const f=Oe(c);f.onlineState=d;let p=!1;f.queries.forEach(((g,v)=>{for(const _ of v.j_)_.Z_(d)&&(p=!0)})),p&&my(f)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $P(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),l=i&&i.key;if(l){let c=new kt(Ce.comparator);c=c.insert(l,Dn.newNoDocument(l,Be.min()));const d=We().add(l),f=new qh(Be.min(),new Map,new kt(tt),c,d);await wS(r,f),r.Oa=r.Oa.remove(l),r.Na.delete(e),gy(r)}else await og(r.localStore,e,!1).then((()=>lg(r,e,n))).catch(tu)}async function UP(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await eP(n.localStore,e);TS(n,r,null),SS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,i)}catch(i){await tu(i)}}async function zP(t,e,n){const r=Oe(t);try{const i=await(function(c,d){const f=Oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((v=>(it(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);TS(r,e,n),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,i)}catch(i){await tu(i)}}function SS(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function TS(t,e,n){const r=Oe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||ES(t,r)}))}function ES(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(cy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gy(t))}function E1(t,e,n){for(const r of n)r instanceof xS?(t.La.addReference(r.key,e),HP(t,r)):r instanceof bS?(Te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ES(t,r.key)):Me()}function HP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Te("SyncEngine","New document in limbo: "+n),t.xa.add(r),gy(t))}function gy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ce(ct.fromString(e)),r=t.qa.next();t.Na.set(r,new NP(n)),t.Oa=t.Oa.insert(n,r),uS(t.remoteStore,new Gi(Rs(Zg(n.path)),r,"TargetPurposeLimboResolution",Kg.oe))}}async function ou(t,e,n){const r=Oe(t),i=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,f)=>{c.push(r.Ka(f,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){i.push(p);const v=ly.Wi(f.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(f,p){const g=Oe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(p,(_=>de.forEach(_.$i,(S=>g.persistence.referenceDelegate.addReference(v,_.targetId,S))).next((()=>de.forEach(_.Ui,(S=>g.persistence.referenceDelegate.removeReference(v,_.targetId,S)))))))))}catch(v){if(!nu(v))throw v;Te("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const S=g.os.get(_),j=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(j);g.os=g.os.insert(_,A)}}})(r.localStore,l))}async function GP(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=await oS(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((f=>{f.reject(new ve(se.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.hs)}}function WP(t,e){const n=Oe(t),r=n.Na.get(e);if(r&&r.va)return We().add(r.key);{let i=We();const l=n.Ma.get(e);if(!l)return i;for(const c of l){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function jS(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.Ca.d_=AP.bind(null,e.eventManager),e.Ca.$a=IP.bind(null,e.eventManager),e}function qP(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zP.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return ZR(this.persistence,new XR,e.initialUser,this.serializer)}Ga(e){return new KR(ay.Zr,this.serializer)}Wa(e){return new oP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await jP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CP})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),r=(function(l){return new uP(l)})(e.databaseInfo);return(function(l,c,d,f){return new fP(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,l,c,d){return new mP(r,i,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>T1(this.syncEngine,n,0)),(function(){return x1.D()?new x1:new aP})())}createSyncEngine(e,n){return(function(i,l,c,d,f,p,g){const v=new DP(i,l,c,d,f,p);return g&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const l=Oe(i);Te("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await iu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=Cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Te("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nm(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await oS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function j1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QP(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>b1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>b1(e.remoteStore,i))),t._onlineComponents=e}async function QP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),await nm(t,new Sh)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await nm(t,new Sh);return t._offlineComponents}async function CS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await j1(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await j1(t,new cg))),t._onlineComponents}function YP(t){return CS(t).then((e=>e.syncEngine))}async function AS(t){const e=await CS(t),n=e.eventManager;return n.onListen=MP.bind(null,e.syncEngine),n.onUnlisten=VP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BP.bind(null,e.syncEngine),n}function XP(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const g=new kS({next:_=>{g.Za(),c.enqueueAndForget((()=>yS(l,v)));const S=_.docs.has(d);!S&&_.fromCache?p.reject(new ve(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?p.reject(new ve(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new vS(Zg(d.path),g,{includeMetadataChanges:!0,_a:!0});return gS(l,v)})(await AS(t),t.asyncQueue,e,n,r))),r.promise}function JP(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,p){const g=new kS({next:_=>{g.Za(),c.enqueueAndForget((()=>yS(l,v))),_.fromCache&&f.source==="server"?p.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new vS(d,g,{includeMetadataChanges:!0,_a:!0});return gS(l,v)})(await AS(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,n){if(!n)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZP(t,e,n,r){if(e===!0&&r===!0)throw new ve(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!Ce.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A1(t){if(Ce.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(t);throw new ve(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function eN(t,e){if(e<=0)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class au{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gI;switch(r.type){case"firstParty":return new bI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=k1.get(n);r&&(Te("ComponentProvider","Removing Datastore"),k1.delete(n),r.terminate())})(this),Promise.resolve()}}function tN(t,e,n,r={}){var i;const l=(t=pi(t,au))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Pn.MOCK_USER;else{d=XC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pn(p)}t._authCredentials=new yI(new kw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class Ki extends ps{constructor(e,n,r){super(e,n,Zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Ce(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function vy(t,e,...n){if(t=us(t),yy("collection","path",e),t instanceof au){const r=ct.fromString(e,...n);return A1(r),new Ki(t,null,r)}{if(!(t instanceof ar||t instanceof Ki))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return A1(r),new Ki(t.firestore,null,r)}}function nN(t,e){if(t=pi(t,au),yy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(t,null,(function(r){return new yi(ct.emptyPath(),r)})(e))}function Ht(t,e,...n){if(t=us(t),arguments.length===1&&(e=Cw.newId()),yy("doc","path",e),t instanceof au){const r=ct.fromString(e,...n);return C1(r),new ar(t,null,new Ce(r))}{if(!(t instanceof ar||t instanceof Ki))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return C1(r),new ar(t.firestore,t instanceof Ki?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lS(this,"async_queue_retry"),this.Vu=()=>{const r=tm();r&&Te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ci;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nu(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw hi("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fy.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(i),i}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class lu extends au{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}}function rN(t,e){const n=typeof t=="object"?t:vw(),r=typeof t=="string"?t:"(default)",i=nI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=QC("firestore");l&&tN(i,...l)}return i}function Jh(t){if(t._terminated)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sN(t),t._firestoreClient}function sN(t){var e,n,r;const i=t._freezeSettings(),l=(function(d,f,p,g){return new NI(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,IS(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KP(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(Tn.fromBase64String(e))}catch(n){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ul(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^__.*__$/;class oN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class RS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new to(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class _y{constructor(e,n,r,i,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(PS(this.Cu)&&iN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class aN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kh(e)}Qu(e,n,r,i=!1){return new _y({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(t){const e=t._freezeSettings(),n=Kh(t._databaseId);return new aN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NS(t,e,n,r,i,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",c,r);const d=MS(r,c);let f,p;if(l.merge)f=new _r(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=ug(e,v,n);if(!c.contains(_))throw new ve(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);FS(g,_)||g.push(_)}f=new _r(g),p=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=c.fieldTransforms;return new oN(new or(d),f,p)}class nf extends ef{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class wy extends ef{_toFieldTransform(e){return new sR(e.path,new Hc)}isEqual(e){return e instanceof wy}}function lN(t,e,n,r){const i=t.Qu(1,e,n);Sy("Data must be an object, but it was:",i,r);const l=[],c=or.empty();Yo(r,((f,p)=>{const g=Ty(e,f,n);p=us(p);const v=i.Nu(g);if(p instanceof nf)l.push(g);else{const _=cu(p,v);_!=null&&(l.push(g),c.set(g,_))}}));const d=new _r(l);return new RS(c,d,i.fieldTransforms)}function cN(t,e,n,r,i,l){const c=t.Qu(1,e,n),d=[ug(e,r,n)],f=[i];if(l.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(ug(e,l[_])),f.push(l[_+1]);const p=[],g=or.empty();for(let _=d.length-1;_>=0;--_)if(!FS(p,d[_])){const S=d[_];let j=f[_];j=us(j);const A=c.Nu(S);if(j instanceof nf)p.push(S);else{const C=cu(j,A);C!=null&&(p.push(S),g.set(S,C))}}const v=new _r(p);return new RS(g,v,c.fieldTransforms)}function DS(t,e,n,r=!1){return cu(n,t.Qu(r?4:3,e))}function cu(t,e){if(LS(t=us(t)))return Sy("Unsupported field value:",e,t),MS(t,e);if(t instanceof ef)return(function(r,i){if(!PS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const d of r){let f=cu(d,i.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,i){if((r=us(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Yt.fromDate(r);return{timestampValue:_h(i.serializer,l)}}if(r instanceof Yt){const l=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,l)}}if(r instanceof xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ul)return{bytesValue:Zw(i.serializer,r._byteString)};if(r instanceof ar){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:iy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof by)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return ty(d.serializer,f)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Xh(r)}`)})(t,e)}function MS(t,e){const n={};return Aw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,((r,i)=>{const l=cu(i,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function LS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof xy||t instanceof ul||t instanceof ar||t instanceof ef||t instanceof by)}function Sy(t,e,n){if(!LS(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Xh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ug(t,e,n){if((e=us(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Ty(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const uN=new RegExp("[~\\*/\\[\\]]");function Ty(t,e,n){if(e.search(uN)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch(r){throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new ve(se.INVALID_ARGUMENT,d+t+f)}function FS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dN extends Ey{data(){return super.data()}}function rf(t,e){return typeof e=="string"?Ty(t,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class uu extends jy{}function zi(t,e,...n){let r=[];e instanceof jy&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((f=>f instanceof ky)).length,d=l.filter((f=>f instanceof sf)).length;if(c>1||c>0&&d>0)throw new ve(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class sf extends uu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sf(e,n,r)}_apply(e){const n=this._parse(e);return BS(e._query,n),new ps(e.firestore,e.converter,tg(e._query,n))}_parse(e){const n=tf(e.firestore);return(function(l,c,d,f,p,g,v){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){N1(v,g);const S=[];for(const j of v)S.push(P1(f,l,j));_={arrayValue:{values:S}}}else _=P1(f,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||N1(v,g),_=DS(d,c,v,g==="in"||g==="not-in");return Wt.create(p,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oh(t,e,n){const r=e,i=rf("where",t);return sf._create(i,r,n)}class ky extends jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ky(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let c=i;const d=l.getFlattenedFilters();for(const f of d)BS(c,f),c=tg(c,f)})(e._query,n),new ps(e.firestore,e.converter,tg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends uu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cy(e,n)}_apply(e){const n=(function(i,l,c){if(i.startAt!==null)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(l,c)})(e._query,this._field,this._direction);return new ps(e.firestore,e.converter,(function(i,l){const c=i.explicitOrderBy.concat([l]);return new yi(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Fd(t,e="asc"){const n=e,r=rf("orderBy",t);return Cy._create(r,n)}class Ay extends uu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ay(e,n,r)}_apply(e){return new ps(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function Hi(t){return eN("limit",t),Ay._create("limit",t,"F")}class Iy extends uu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Iy(e,n,r)}_apply(e){const n=VS(e,this.type,this._docOrFields,this._inclusive);return new ps(e.firestore,e.converter,(function(i,l){return new yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)})(e._query,n))}}function Vd(...t){return Iy._create("startAt",t,!0)}class Ry extends uu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ry(e,n,r)}_apply(e){const n=VS(e,this.type,this._docOrFields,this._inclusive);return new ps(e.firestore,e.converter,(function(i,l){return new yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,l)})(e._query,n))}}function Bd(...t){return Ry._create("endAt",t,!0)}function VS(t,e,n,r){if(n[0]=us(n[0]),n[0]instanceof Ey)return(function(l,c,d,f,p){if(!f)throw new ve(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of el(l))if(v.field.isKeyField())g.push(vh(c,f.key));else{const _=f.data.field(v.field);if(Uh(_))throw new ve(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const S=v.field.canonicalString();throw new ve(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(_)}return new al(g,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=tf(t.firestore);return(function(c,d,f,p,g,v){const _=c.explicitOrderBy;if(g.length>_.length)throw new ve(se.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let j=0;j<g.length;j++){const A=g[j];if(_[j].field.isKeyField()){if(typeof A!="string")throw new ve(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof A}`);if(!ey(c)&&A.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${A}' contains a slash.`);const C=c.path.child(ct.fromString(A));if(!Ce.isDocumentKey(C))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const F=new Ce(C);S.push(vh(d,F))}else{const C=DS(f,p,A);S.push(C)}}return new al(S,v)})(t._query,t.firestore._databaseId,i,e,n,r)}}function P1(t,e,n){if(typeof(n=us(n))=="string"){if(n==="")throw new ve(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ey(e)&&n.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!Ce.isDocumentKey(r))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vh(t,new Ce(r))}if(n instanceof ar)return vh(t,n._key);throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function N1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BS(t,e){const n=(function(i,l){for(const c of i)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fN{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yo(e,((i,l)=>{r[i]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,i;const l=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>Ft(c.doubleValue)));return new by(l)}convertGeoPoint(e){return new xy(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);it(iS(r));const i=new $c(r.get(1),r.get(3)),l=new Ce(r.popFirst(5));return i.isEqual(n)||hi(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $S extends Ey{constructor(e,n,r,i,l,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ah extends $S{data(e={}){return super.data(e)}}class pN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _c(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const f=new ah(i._firestore,i._userDataWriter,d.doc.key,d.doc,new _c(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new ah(i._firestore,i._userDataWriter,d.doc.key,d.doc,new _c(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:mN(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){t=pi(t,ar);const e=pi(t.firestore,lu);return XP(Jh(e),t._key).then((n=>gN(e,t,n)))}class US extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function oi(t){t=pi(t,ps);const e=pi(t.firestore,lu),n=Jh(e),r=new US(e);return hN(t._query),JP(n,t._query).then((i=>new pN(e,r,t,i)))}function Eh(t,e,n){t=pi(t,ar);const r=pi(t.firestore,lu),i=OS(t.converter,e,n);return zS(r,[NS(tf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function zS(t,e){return(function(r,i){const l=new ci;return r.asyncQueue.enqueueAndForget((async()=>OP(await YP(r),i,l))),l.promise})(Jh(t),e)}function gN(t,e,n){const r=n.docs.get(e._key),i=new US(t);return new $S(t,i,e._key,r,new _c(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tf(e)}set(e,n,r){this._verifyNotCommitted();const i=rm(e,this._firestore),l=OS(i.converter,n,r),c=NS(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Ur.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const l=rm(e,this._firestore);let c;return c=typeof(n=us(n))=="string"||n instanceof Zh?cN(this._dataReader,"WriteBatch.update",l._key,n,r,i):lN(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rm(e,this._firestore);return this._mutations=this._mutations.concat(new ny(n._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rm(t,e){if((t=us(t)).firestore!==e)throw new ve(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ii(){return new wy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){return Jh(t=pi(t,lu)),new yN(t,(e=>zS(t,e)))}(function(e,n=!0){(function(i){vl=i})(iI),gh(new Lc("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new lu(new vI(r.getProvider("auth-internal")),new wI(r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(p.options.projectId,g)})(c,i),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Za(Y0,"4.7.3",e),Za(Y0,"4.7.3","esm2017")})();var xN="firebase",bN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(xN,bN,"app");const Py={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Py.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const _N=oI().length?vw():yw(Py),mt=rN(_N);console.log("[FB] projectId =",Py.projectId);const as={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},ls=t=>`https://drive.google.com/uc?export=view&id=${t}`,HS=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Xt=[{key:"warrior",label:"Warrior",iconUrl:ls(as.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:ls(as.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:ls(as.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:ls(as.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:ls(as["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:ls(as.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:ls(as["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:ls(as.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:ls(as.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:ls(as.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:ls(as.paladin),fallback:""}],dg=Object.fromEntries(Xt.map(t=>[t.key,t])),hg=new Map;function Ct(t,e){hg.set(HS(t),e)}for(const t of Xt)Ct(t.key,t.key),Ct(t.label,t.key);Ct("war","warrior");Ct("krieger","warrior");Ct("magier","mage");Ct("jaeger","scout");Ct("jger","scout");Ct("assa","assassin");Ct("meuchelmoerder","assassin");Ct("meuchelmrder","assassin");Ct("demonhunter","demon-hunter");Ct("dh","demon-hunter");Ct("daemonenjaeger","demon-hunter");Ct("dmonenjger","demon-hunter");Ct("zerker","berserker");Ct("battlemage","battle-mage");Ct("kampfmagier","battle-mage");Ct("bm","battle-mage");Ct("druide","druid");Ct("barde","bard");Ct("necro","necromancer");Ct("nekromant","necromancer");Ct("pala","paladin");function wN(t){const e=HS(t);if(!e)return{};const n=hg.get(e);if(n){const r=dg[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of hg.entries())if(r.startsWith(e)||e.startsWith(r)){const l=dg[i];return{url:l.iconUrl,fallback:l.fallback}}return{}}const SN=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Xt,CLASS_BY_KEY:dg,iconForClassName:wN},Symbol.toStringTag,{value:"Module"}));function Ny(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function fg(t){if(!t)return;const e=Ny(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function GS(t,e=64){if(!t)return;const n=Ny(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function WS(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function qS(t,e,n,r){const i=fg(t);return i?WS(i,{w:e,h:n,fit:r}):void 0}function Vs(t,e=64){const n=GS(t,e);return n?WS(n,{w:e,h:e,fit:"contain"}):void 0}const TN=Object.assign(t=>fg(t),{id:Ny,direct:fg,thumb:GS,proxy:qS,thumbProxy:Vs}),sm=t=>Number.isFinite(t),Va=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},EN=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function jN(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Xt.find(l=>n(l.label)===r);if(i||(i=Xt.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!i)return Vs(i.iconUrl,e)}function kN(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function CN({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=eo(),[r,i]=Le.useState(""),[l,c]=Le.useState(""),[d,f]=Le.useState(!1),[p,g]=Le.useState(null),[v,_]=Le.useState([]),[S,j]=Le.useState([]),[A,C]=Le.useState([]),[F,B]=Le.useState(-1),N=Le.useRef(null);Le.useEffect(()=>{const E=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(E)},[r]),Le.useEffect(()=>{async function E(){g(null);const T=l;if(T.length<1){_([]),j([]),C([]),B(-1);return}f(!0);try{let I=function(je){var nt,Dt,Jt,Vt,At,Gn,Wn,ot,jr,qn,ln,cn,cr,Kn,Qn,ur,ut,Ye,Yn,Hr,at,kr,Cr,ms,gs,ys,Bs,vs,dr,dt,Gr,Mn,hr,Os;const me=je.data(),{root:ke,id:Ae}=kN(je),Pe=Ae||me.playerId||me.guildIdentifier||"";if(ke==="players"||me.playerId&&!me.guildIdentifier){if(!Pe||fe.has(Pe))return;fe.add(Pe),re.push({kind:"player",id:Pe,name:(Jt=(Dt=me.name)!=null?Dt:(nt=me.values)==null?void 0:nt.Name)!=null?Jt:null,nameFold:(Vt=me.nameFold)!=null?Vt:null,server:(Wn=(Gn=me.server)!=null?Gn:(At=me.values)==null?void 0:At.Server)!=null?Wn:null,guildName:(qn=(jr=me.guildName)!=null?jr:(ot=me.values)==null?void 0:ot.Guild)!=null?qn:null,className:(cr=(cn=me.className)!=null?cn:(ln=me.values)==null?void 0:ln.Class)!=null?cr:null,level:Va((Qn=me.level)!=null?Qn:(Kn=me.values)==null?void 0:Kn.Level),ts:Va(me.timestamp)});return}if(ke==="guilds"||me.guildIdentifier&&!me.playerId){if(!Pe||K.has(Pe))return;K.add(Pe),ne.push({kind:"guild",id:Pe,name:(Ye=(ut=me.name)!=null?ut:(ur=me.values)==null?void 0:ur.Name)!=null?Ye:null,nameFold:(Yn=me.nameFold)!=null?Yn:null,server:(kr=(at=me.server)!=null?at:(Hr=me.values)==null?void 0:Hr.Server)!=null?kr:null,memberCount:Va((ys=(ms=me.memberCount)!=null?ms:(Cr=me.values)==null?void 0:Cr["Guild Member Count"])!=null?ys:(gs=me.values)==null?void 0:gs.GuildMemberCount),hofRank:Va((Os=(Mn=(dt=(vs=me.hofRank)!=null?vs:(Bs=me.values)==null?void 0:Bs["Hall of Fame Rank"])!=null?dt:(dr=me.values)==null?void 0:dr.HoF)!=null?Mn:(Gr=me.values)==null?void 0:Gr.Rank)!=null?Os:(hr=me.values)==null?void 0:hr["Guild Rank"]),ts:Va(me.timestamp)});return}};const D=EN(T),M=nN(mt,"latest"),V=await oi(zi(M,Fd("nameFold"),Vd(D),Bd(D+""),Hi(e*6))),L=await oi(zi(M,oh("nameNgrams","array-contains",D),Hi(e*6))),fe=new Set,K=new Set,re=[],ne=[];V.forEach(I),L.forEach(I);const Q=vy(mt,"servers"),oe=T.toLowerCase(),ie=T.toUpperCase(),G=[oi(zi(Q,Fd("displayName"),Vd(T),Bd(T+""),Hi(e*4))),oi(zi(Q,Fd("code"),Vd(ie),Bd(ie+""),Hi(e*4))),oi(zi(Q,Fd("host"),Vd(oe),Bd(oe+""),Hi(e*4)))],ee=await Promise.allSettled(G),ye=new Set,we=[];for(const je of ee)je.status==="fulfilled"&&je.value.forEach(me=>{var Pe,nt,Dt,Jt,Vt;const ke=me.data(),Ae=me.id;!Ae||ye.has(Ae)||(ye.add(Ae),we.push({kind:"server",id:Ae,displayName:(Pe=ke.displayName)!=null?Pe:null,code:(nt=ke.code)!=null?nt:null,host:(Dt=ke.host)!=null?Dt:null,region:(Jt=ke.region)!=null?Jt:null,type:(Vt=ke.type)!=null?Vt:null,numericId:Va(ke.numericId),active:typeof ke.active=="boolean"?ke.active:null}))});_(re.slice(0,e)),j(ne.slice(0,e)),C(we.slice(0,e)),B(re.length+ne.length+we.length?0:-1)}catch(I){g((I==null?void 0:I.message)||"Unbekannter Fehler bei der Suche."),_([]),j([]),C([]),B(-1)}finally{f(!1)}}return E(),()=>{}},[l,e]),Le.useEffect(()=>{const E=T=>{N.current&&(N.current.contains(T.target)||(_([]),j([]),C([]),B(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const U=[...v,...S,...A],$=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),_([]),j([]),C([]),B(-1),i("")},W=E=>{if(U.length)if(E.key==="ArrowDown")E.preventDefault(),B(T=>(T+1)%U.length);else if(E.key==="ArrowUp")E.preventDefault(),B(T=>(T-1+U.length)%U.length);else if(E.key==="Enter"){E.preventDefault();const T=U[F>=0?F:0];T&&$(T)}else E.key==="Escape"&&(_([]),j([]),C([]),B(-1))};return o.jsxs("div",{ref:N,style:$e.wrap,children:[o.jsx("input",{style:$e.input,placeholder:t,value:r,onChange:E=>i(E.target.value),onKeyDown:W,"aria-label":"Spieler, Gilden und Server suchen"}),(d||p||v.length||S.length||A.length)&&o.jsxs("div",{style:$e.dropdown,children:[d&&o.jsx("div",{style:$e.hint,children:"Suche"}),p&&!d&&o.jsxs("div",{style:$e.err,children:[" ",p]}),!d&&!p&&(v.length>0||S.length>0||A.length>0)&&o.jsxs(o.Fragment,{children:[v.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Spieler"}),v.map((E,T)=>{var M,V,L;const I=T===F,D=jN(E.className,64);return o.jsxs("button",{onClick:()=>$(E),style:I?$e.itemActive:$e.item,title:E.name||"",onMouseEnter:()=>B(T),children:[o.jsx("div",{style:$e.iconBoxPlain,children:D?o.jsx("img",{src:D,alt:"",style:$e.iconImgShadow,onError:fe=>{const K=fe.currentTarget.parentElement;K&&(K.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):o.jsx("div",{style:$e.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(M=E.name)!=null?M:"Unbekannt"}),sm(E.level)&&o.jsxs("span",{style:$e.badge,children:["Lvl ",E.level]})]}),o.jsxs("div",{style:$e.line2,children:[E.guildName?o.jsxs("span",{children:["",E.guildName,""]}):o.jsx("span",{style:$e.muted,children:""}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(V=E.className)!=null?V:"Klasse ?"}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(L=E.server)!=null?L:"Server ?"})]})]})]},`p-${E.id}-${T}`)})]}),S.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Gilden"}),S.map((E,T)=>{var M,V;const I=v.length+T,D=I===F;return o.jsxs("button",{onClick:()=>$(E),style:D?$e.itemActive:$e.item,title:E.name||"",onMouseEnter:()=>B(I),children:[o.jsx("div",{style:$e.iconBox,children:""}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(M=E.name)!=null?M:"Unbekannt"}),sm(E.hofRank)&&o.jsxs("span",{style:$e.badge,children:["HoF #",E.hofRank]})]}),o.jsxs("div",{style:$e.line2,children:[o.jsx("span",{children:(V=E.server)!=null?V:"Server ?"}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:sm(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${T}`)})]}),A.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:$e.sectionHdr,children:"Server"}),A.map((E,T)=>{var M,V,L,fe,K,re;const I=v.length+S.length+T,D=I===F;return o.jsxs("button",{onClick:()=>$(E),style:D?$e.itemActive:$e.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>B(I),children:[o.jsx("div",{style:$e.iconBoxPlain,children:o.jsx("div",{style:$e.serverGlyph,children:""})}),o.jsxs("div",{style:$e.meta,children:[o.jsxs("div",{style:$e.line1,children:[o.jsx("span",{style:$e.name,children:(L=(V=(M=E.displayName)!=null?M:E.code)!=null?V:E.host)!=null?L:E.id}),E.active!=null&&o.jsx("span",{style:$e.badge,children:E.active?"Aktiv":"Inaktiv"})]}),o.jsxs("div",{style:$e.line2,children:[o.jsx("span",{children:(fe=E.code)!=null?fe:""}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(K=E.host)!=null?K:""}),o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:(re=E.region)!=null?re:""}),E.type?o.jsxs(o.Fragment,{children:[o.jsx("span",{style:$e.sep,children:""}),o.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${T}`)})]})]}),!d&&!p&&v.length===0&&S.length===0&&A.length===0&&l.length>=1&&o.jsx("div",{style:$e.hint,children:"Keine Treffer"})]})]})}const $e={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function AN(t){var d,f,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,SN];for(const g of c){if(!g)continue;const v=(p=(f=(d=g[n])!=null?d:g[r])!=null?f:g[i])!=null?p:g[l];if(typeof v=="string")return v}}function IN({user:t}){var i;const{open:e,canUse:n}=cw(),r=()=>{e({tab:"json"})};return o.jsxs("header",{className:An.topbar,children:[o.jsxs("div",{className:An.topbarLeft,children:[o.jsx("button",{className:An.btnIco,"aria-label":"Benachrichtigungen",children:o.jsx(Gk,{className:An.ico})}),o.jsx("button",{className:An.btnIco,"aria-label":"Favoriten",children:o.jsx(_C,{className:An.ico})})]}),o.jsx("div",{className:An.searchWrap,children:o.jsx(CN,{placeholder:"Suchen (Spieler)",getClassIcon:AN,maxResults:10})}),o.jsxs("div",{className:An.topbarRight,children:[o.jsxs("a",{className:`${An.pill} ${An.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[o.jsx(nC,{className:An.ico}),"www.sfgame.net"]}),o.jsxs("button",{className:An.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[o.jsx(EC,{className:An.ico}),o.jsx("span",{className:An.label,children:"Scan hochladen"})]}),o.jsx("button",{className:An.avatarBtn,"aria-label":(i=t==null?void 0:t.name)!=null?i:"Gast",children:o.jsx("img",{className:An.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const RN="_root_xd4sk_3",PN="_expanded_xd4sk_45",NN="_headRow_xd4sk_55",DN="_headTitle_xd4sk_63",MN="_headDot_xd4sk_65",LN="_headLabel_xd4sk_67",FN="_pinBtn_xd4sk_69",VN="_navScroll_xd4sk_81",BN="_pad_xd4sk_83",ON="_segCard_xd4sk_89",$N="_segTitle_xd4sk_121",UN="_navCol_xd4sk_139",zN="_navItemWrap_xd4sk_141",HN="_navBtn_xd4sk_147",GN="_navBtnActive_xd4sk_171",WN="_label_xd4sk_175",qN="_trailing_xd4sk_205",KN="_isOpen_xd4sk_253",QN="_footer_xd4sk_279",YN="_login_xd4sk_281",XN="_legal_xd4sk_303",JN="_labelText_xd4sk_327",ZN="_char_xd4sk_337",eD="_mainNavCard_xd4sk_405",et={root:RN,expanded:PN,headRow:NN,headTitle:DN,headDot:MN,headLabel:LN,pinBtn:FN,navScroll:VN,pad:BN,segCard:ON,segTitle:$N,navCol:UN,navItemWrap:zN,navBtn:HN,navBtnActive:GN,label:WN,trailing:qN,isOpen:KN,footer:QN,login:YN,legal:XN,labelText:JN,char:ZN,mainNavCard:eD},tD="_panel_90cjk_1",nD="_open_90cjk_31",rD="_col_90cjk_43",im={panel:tD,open:nD,col:rD};function sD(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function iD({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:l}){const[c,d]=Le.useState({left:0,top:0});return Le.useEffect(()=>{if(!e||!t)return;const f=()=>d(sD(t));f();const p=new ResizeObserver(f);return p.observe(document.documentElement),window.addEventListener("scroll",f,!0),window.addEventListener("resize",f),()=>{p.disconnect(),window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",f)}},[e,t]),typeof document=="undefined"?null:Fk.createPortal(o.jsx("div",{className:`${im.panel} ${e?im.open:""}`,style:{left:c.left,top:c.top},onMouseEnter:i,onMouseLeave:l,role:"menu",children:o.jsx("div",{className:im.col,children:n.map(f=>r(f))})}),document.body)}const oD=[{to:"/",label:"Home",icon:o.jsx(iC,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:o.jsx(cC,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:o.jsx(eu,{className:"ico"})},{to:"/playground",label:"Playground",icon:o.jsx(Oh,{className:"ico"})}],aD=[{to:"/discover",label:"Discover",icon:o.jsx(Xk,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:o.jsx(SC,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:o.jsx(qk,{className:"ico"})},{to:"/community",label:"Community",icon:o.jsx(dC,{className:"ico"})},{to:"/scans",label:"Scans",icon:o.jsx(eC,{className:"ico"})},{to:"/settings",label:"Settings",icon:o.jsx(yC,{className:"ico"})}],pg={"/discover":[{to:"/players",label:"Players"},{to:"/SFMagazine",label:"SFMagazine"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},lD=220;function cD(t=lD){const[e,n]=Le.useState(!1),r=Le.useRef(null),i=Le.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Le.useCallback(()=>{i(),n(!0)},[i]),c=Le.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return Le.useEffect(()=>()=>i(),[i]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function Dy({text:t,isOpen:e,duration:n=1,step:r=45}){const i=Le.useMemo(()=>Array.from(t),[t]);return o.jsx("span",{className:et.label,children:o.jsx("span",{className:et.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((l,c)=>o.jsx("span",{className:et.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function uD({it:t,collapsed:e,allowSubmenus:n}){var g,v;const r=((v=(g=pg[t.to])==null?void 0:g.length)!=null?v:0)>0,{open:i,onEnter:l,onLeave:c,setOpen:d}=cD(),f=Le.useRef(null),p=Le.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return o.jsxs("div",{ref:f,className:`${et.navItemWrap} ${i?et.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[o.jsxs(br,{to:t.to,end:!!t.end,className:({isActive:_})=>`${et.navBtn} ${_?et.navBtnActive:""}`,children:[t.icon,o.jsx(Dy,{text:t.label,isOpen:!e}),r&&!e&&o.jsx("span",{className:et.trailing,"aria-hidden":"true",children:o.jsx(Qk,{className:"ico"})})]}),r&&o.jsx(iD,{anchorEl:f.current,open:i,items:pg[t.to],renderLink:_=>o.jsx(br,{to:_.to,className:({isActive:S})=>`link ${S?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function D1({title:t,items:e,collapsed:n,allowSubmenus:r}){return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:`${et.navTitle} ${et.segTitle}`,children:t}),o.jsx("div",{className:et.navCol,children:e.map(i=>pg[i.to]?o.jsx(uD,{it:i,collapsed:n,allowSubmenus:r},i.to):o.jsxs(br,{to:i.to,end:!!i.end,className:({isActive:l})=>`${et.navBtn} ${l?et.navBtnActive:""}`,children:[i.icon,o.jsx(Dy,{text:i.label,isOpen:!n})]},i.to))})]})}const dD=90,hD=180;function fD({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){const l=Le.useRef(null),c=Le.useRef(null),[d,f]=Le.useState(!1),p=Le.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=Le.useCallback(()=>{!i||n||(p(),f(!1),l.current=window.setTimeout(()=>e(!0),dD))},[i,n,p,e]),v=Le.useCallback(()=>{!i||n||(p(),c.current=window.setTimeout(()=>{e(!1),f(!1)},hD))},[i,n,p,e]);Le.useEffect(()=>()=>p(),[p]),Le.useEffect(()=>{n&&f(!0)},[n]);const _=A=>{A.propertyName==="width"&&t&&!n&&f(!0)};Le.useEffect(()=>{if(t&&!n){const A=window.setTimeout(()=>f(!0),250);return()=>window.clearTimeout(A)}},[t,n]);const S=!t,j=n||t&&d;return o.jsxs("aside",{id:"sidebar-root",className:`${et.root} ${t?et.expanded:""}`,"data-collapsed":S?"true":"false",onMouseEnter:g,onMouseLeave:v,onTransitionEnd:_,"aria-label":"Navigation",children:[o.jsxs("div",{className:et.headRow,children:[o.jsxs("div",{className:et.headTitle,children:[o.jsx("span",{className:et.headDot})," ",o.jsx("span",{className:et.headLabel,children:"Navigation"})]}),o.jsx("button",{className:et.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?o.jsx(mC,{className:"ico"}):o.jsx(fC,{className:"ico"})})]}),o.jsx("div",{className:et.navScroll,children:o.jsxs("div",{className:et.pad,children:[o.jsx("div",{className:`${et.segCard} ${et.mainNavCard}`,children:o.jsx(D1,{items:oD,collapsed:S,allowSubmenus:j})}),o.jsx("div",{className:et.segTitle,children:"Kategorien"}),o.jsx("div",{className:`${et.segCard} ${et.mainNavCard}`,children:o.jsx(D1,{items:aD,collapsed:S,allowSubmenus:j})})]})}),o.jsxs("div",{className:`${et.footer} ${et.segCard} ${et.mainNavCard}`,children:[o.jsxs("button",{className:et.login,type:"button",children:[o.jsx(eu,{className:"ico"}),o.jsx(Dy,{text:"Logout",isOpen:!S})]}),o.jsx("div",{className:et.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const om="/test/assets/logo-sfdatahub-CUdhlsEb.png";function pD({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:l="async"}){const c=t!=null?t:om;return o.jsxs("div",{className:"logo-dock",children:[o.jsx(br,{to:r,"aria-label":"Go to home",children:o.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:l,onError:d=>{const f=d.currentTarget;f.src!==om&&(f.src=om)}})}),n]})}function mD(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),i=n||t,l=R.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return o.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[o.jsx(pD,{src:"/logo.png"}),o.jsx(IN,{}),o.jsx("div",{className:"logo-fill"}),o.jsx(fD,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),o.jsx("div",{className:"content",children:o.jsx("div",{className:"content-inner",children:o.jsx("div",{className:"content-body",children:o.jsx(X_,{})})})})]})}function gD(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Home"})})}const KS=R.createContext({});function My(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ly=R.createContext(null),Fy=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function yD(t=!0){const e=R.useContext(Ly);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,l=R.useId();R.useEffect(()=>{t&&i(l)},[t]);const c=R.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Vy=typeof window!="undefined",QS=Vy?R.useLayoutEffect:R.useEffect,wr=t=>t;let YS=wr;function By(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ko=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ns=t=>t*1e3,Ds=t=>t/1e3,vD={useManualTiming:!1};function xD(t){let e=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,g=!1,v=!1)=>{const S=v&&r?e:n;return g&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,f.process(p))}};return f}const Od=["read","resolveKeyframes","update","preRender","render","postRender"],bD=40;function XS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Od.reduce((F,B)=>(F[B]=xD(l),F),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:v,postRender:_}=c,S=()=>{const F=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,bD),1),i.timestamp=F,i.isProcessing=!0,d.process(i),f.process(i),p.process(i),g.process(i),v.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},j=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Od.reduce((F,B)=>{const N=c[B];return F[B]=(U,$=!1,W=!1)=>(n||j(),N.schedule(U,$,W)),F},{}),cancel:F=>{for(let B=0;B<Od.length;B++)c[Od[B]].cancel(F)},state:i,steps:c}}const{schedule:yt,cancel:mi,state:yn,steps:am}=XS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:wr,!0),JS=R.createContext({strict:!1}),M1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const t in M1)dl[t]={isEnabled:e=>M1[t].some(n=>!!e[n])};function _D(t){for(const e in t)dl[e]={...dl[e],...t[e]}}const wD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wD.has(t)}let ZS=t=>!jh(t);function SD(t){t&&(ZS=e=>e.startsWith("on")?!jh(e):t(e))}try{SD(require("@emotion/is-prop-valid").default)}catch(t){}function TD(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZS(i)||n===!0&&jh(i)||!e&&!jh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function ED(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const of=R.createContext({});function qc(t){return typeof t=="string"||Array.isArray(t)}function af(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$y=["initial",...Oy];function lf(t){return af(t.animate)||$y.some(e=>qc(t[e]))}function e2(t){return!!(lf(t)||t.variants)}function jD(t,e){if(lf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qc(n)?n:void 0,animate:qc(r)?r:void 0}}return t.inherit!==!1?e:{}}function kD(t){const{initial:e,animate:n}=jD(t,R.useContext(of));return R.useMemo(()=>({initial:e,animate:n}),[L1(e),L1(n)])}function L1(t){return Array.isArray(t)?t.join(" "):t}const CD=Symbol.for("motionComponentSymbol");function Ka(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AD(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ka(n)&&(n.current=r))},[e])}const Uy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ID="framerAppearId",t2="data-"+Uy(ID),{schedule:zy}=XS(queueMicrotask,!1),n2=R.createContext({});function RD(t,e,n,r,i){var l,c;const{visualElement:d}=R.useContext(of),f=R.useContext(JS),p=R.useContext(Ly),g=R.useContext(Fy).reducedMotion,v=R.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const _=v.current,S=R.useContext(n2);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&PD(v.current,n,i,S);const j=R.useRef(!1);R.useInsertionEffect(()=>{_&&j.current&&_.update(n,p)});const A=n[t2],C=R.useRef(!!A&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,A))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,A)));return QS(()=>{_&&(j.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),zy.render(_.render),C.current&&_.animationState&&_.animationState.animateChanges())}),R.useEffect(()=>{_&&(!C.current&&_.animationState&&_.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,A)}),C.current=!1))}),_}function PD(t,e,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:r2(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||d&&Ka(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function r2(t){if(t)return t.options.allowProjection!==!1?t.projection:r2(t.parent)}function ND({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var l,c;t&&_D(t);function d(p,g){let v;const _={...R.useContext(Fy),...p,layoutId:DD(p)},{isStatic:S}=_,j=kD(p),A=r(p,S);if(!S&&Vy){MD();const C=LD(_);v=C.MeasureLayout,j.visualElement=RD(i,A,_,e,C.ProjectionNode)}return o.jsxs(of.Provider,{value:j,children:[v&&j.visualElement?o.jsx(v,{visualElement:j.visualElement,..._}):null,n(i,p,AD(A,j.visualElement,g),A,S,j.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const f=R.forwardRef(d);return f[CD]=i,f}function DD({layoutId:t}){const e=R.useContext(KS).id;return e&&t!==void 0?e+"-"+t:t}function MD(t,e){R.useContext(JS).strict}function LD(t){const{drag:e,layout:n}=dl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const FD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hy(t){return typeof t!="string"||t.includes("-")?!1:!!(FD.indexOf(t)>-1||/[A-Z]/u.test(t))}function F1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Gy(t,e,n,r){if(typeof e=="function"){const[i,l]=F1(r);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=F1(r);e=e(n!==void 0?n:t.custom,i,l)}return e}const mg=t=>Array.isArray(t),VD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),BD=t=>mg(t)?t[t.length-1]||0:t,on=t=>!!(t&&t.getVelocity);function lh(t){const e=on(t)?t.get():t;return VD(e)?e.toValue():e}function OD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,l){const c={latestValues:$D(r,i,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const s2=t=>(e,n)=>{const r=R.useContext(of),i=R.useContext(Ly),l=()=>OD(t,e,r,i);return n?l():My(l)};function $D(t,e,n,r){const i={},l=r(t,{});for(const _ in l)i[_]=lh(l[_]);let{initial:c,animate:d}=t;const f=lf(t),p=e2(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!af(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const j=Gy(t,_[S]);if(j){const{transitionEnd:A,transition:C,...F}=j;for(const B in F){let N=F[B];if(Array.isArray(N)){const U=g?N.length-1:0;N=N[U]}N!==null&&(i[B]=N)}for(const B in A)i[B]=A[B]}}}return i}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(_l),i2=t=>e=>typeof e=="string"&&e.startsWith(t),o2=i2("--"),UD=i2("var(--"),Wy=t=>UD(t)?zD.test(t.split("/*")[0].trim()):!1,zD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,a2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gi=(t,e,n)=>n>e?e:n<t?t:n,wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kc={...wl,transform:t=>gi(0,1,t)},$d={...wl,default:1},du=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ui=du("deg"),Ms=du("%"),Ne=du("px"),HD=du("vh"),GD=du("vw"),V1={...Ms,parse:t=>Ms.parse(t)/100,transform:t=>Ms.transform(t*100)},WD={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne},qD={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:$d,scaleX:$d,scaleY:$d,scaleZ:$d,skew:Ui,skewX:Ui,skewY:Ui,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Kc,originX:V1,originY:V1,originZ:Ne},B1={...wl,transform:Math.round},qy={...WD,...qD,zIndex:B1,size:Ne,fillOpacity:Kc,strokeOpacity:Kc,numOctaves:B1},KD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QD=_l.length;function YD(t,e,n){let r="",i=!0;for(let l=0;l<QD;l++){const c=_l[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=a2(d,qy[c]);if(!f){i=!1;const g=KD[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Ky(t,e,n){const{style:r,vars:i,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Jo.has(f)){c=!0;continue}else if(o2(f)){i[f]=p;continue}else{const g=a2(p,qy[f]);f.startsWith("origin")?(d=!0,l[f]=g):r[f]=g}}if(e.transform||(c||n?r.transform=YD(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${f} ${p} ${g}`}}const XD={offset:"stroke-dashoffset",array:"stroke-dasharray"},JD={offset:"strokeDashoffset",array:"strokeDasharray"};function ZD(t,e,n=1,r=0,i=!0){t.pathLength=1;const l=i?XD:JD;t[l.offset]=Ne.transform(-r);const c=Ne.transform(e),d=Ne.transform(n);t[l.array]=`${c} ${d}`}function O1(t,e,n){return typeof t=="string"?t:Ne.transform(e+n*t)}function e5(t,e,n){const r=O1(e,t.x,t.width),i=O1(n,t.y,t.height);return`${r} ${i}`}function Qy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...p},g,v){if(Ky(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S,dimensions:j}=t;_.transform&&(j&&(S.transform=_.transform),delete _.transform),j&&(i!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=e5(j,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),c!==void 0&&ZD(_,c,d,f,!1)}const Yy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),l2=()=>({...Yy(),attrs:{}}),Xy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const u2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d2(t,e,n,r){c2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(u2.has(i)?i:Uy(i),e.attrs[i])}const kh={};function t5(t){Object.assign(kh,t)}function h2(t,{layout:e,layoutId:n}){return Jo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kh[t]||t==="opacity")}function Jy(t,e,n){var r;const{style:i}=t,l={};for(const c in i)(on(i[c])||e.style&&on(e.style[c])||h2(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function f2(t,e,n){const r=Jy(t,e,n);for(const i in t)if(on(t[i])||on(e[i])){const l=_l.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=t[i]}return r}function n5(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const $1=["x","y","width","height","cx","cy","r"],r5={useVisualState:s2({scrapeMotionValuesFromProps:f2,createRenderState:l2,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in i)if(Jo.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<$1.length;d++){const f=$1[d];t[f]!==e[f]&&(c=!0)}c&&yt.read(()=>{n5(n,r),yt.render(()=>{Qy(r,i,Xy(n.tagName),t.transformTemplate),d2(n,r)})})}})},s5={useVisualState:s2({scrapeMotionValuesFromProps:Jy,createRenderState:Yy})};function p2(t,e,n){for(const r in e)!on(e[r])&&!h2(r,n)&&(t[r]=e[r])}function i5({transformTemplate:t},e){return R.useMemo(()=>{const n=Yy();return Ky(n,e,t),Object.assign({},n.vars,n.style)},[e])}function o5(t,e){const n=t.style||{},r={};return p2(r,n,t),Object.assign(r,i5(t,e)),r}function a5(t,e){const n={},r=o5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function l5(t,e,n,r){const i=R.useMemo(()=>{const l=l2();return Qy(l,e,Xy(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};p2(l,t.style,t),i.style={...l,...i.style}}return i}function c5(t=!1){return(n,r,i,{latestValues:l},c)=>{const f=(Hy(n)?l5:a5)(r,l,c,n),p=TD(r,typeof n=="string",t),g=n!==R.Fragment?{...p,...f,ref:i}:{},{children:v}=r,_=R.useMemo(()=>on(v)?v.get():v,[v]);return R.createElement(n,{...g,children:_})}}function u5(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Hy(r)?r5:s5,preloadedFeatures:t,useRender:c5(i),createVisualElement:e,Component:r};return ND(c)}}function m2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function cf(t,e,n){const r=t.getProps();return Gy(r,e,n!==void 0?n:r.custom,t)}const d5=By(()=>window.ScrollTimeline!==void 0);class h5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(d5()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class g2 extends h5{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Zy(t,e){return t?t[e]||t.default||t:void 0}const Ch=2e4;function ev(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ch;)e+=n,r=t.next(e);return e>=Ch?1/0:e}function f5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ev(r),Ch);return{type:"keyframes",ease:l=>r.next(i*l).value/e,duration:Ds(i)}}function uf(t){return typeof t=="function"}function U1(t,e){t.timeline=e,t.onfinish=null}const tv=t=>Array.isArray(t)&&typeof t[0]=="number",p5={linearEasing:void 0};function m5(t,e){const n=By(t);return()=>{var r;return(r=p5[e])!==null&&r!==void 0?r:n()}}const Ah=m5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),y2=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)r+=t(Ko(0,i-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function v2(t){return!!(typeof t=="function"&&Ah()||!t||typeof t=="string"&&(t in gg||Ah())||tv(t)||Array.isArray(t)&&t.every(v2))}const wc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,gg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wc([0,.65,.55,1]),circOut:wc([.55,0,1,.45]),backIn:wc([.31,.01,.66,-.59]),backOut:wc([.33,1.53,.69,.99])};function x2(t,e){if(t)return typeof t=="function"&&Ah()?y2(t,e):tv(t)?wc(t):Array.isArray(t)?t.map(n=>x2(n,e)||gg.easeOut):gg[t]}const cs={x:!1,y:!1};function b2(){return cs.x||cs.y}function _2(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function w2(t,e){const n=_2(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function z1(t){return e=>{e.pointerType==="touch"||b2()||t(e)}}function g5(t,e,n={}){const[r,i,l]=w2(t,n),c=z1(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const g=z1(v=>{p(v),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),l}const S2=(t,e)=>e?t===e?!0:S2(t,e.parentElement):!1,nv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v5(t){return y5.has(t.tagName)||t.tabIndex!==-1}const Sc=new WeakSet;function H1(t){return e=>{e.key==="Enter"&&t(e)}}function lm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const x5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=H1(()=>{if(Sc.has(n))return;lm(n,"down");const i=H1(()=>{lm(n,"up")}),l=()=>lm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function G1(t){return nv(t)&&!b2()}function b5(t,e,n={}){const[r,i,l]=w2(t,n),c=d=>{const f=d.currentTarget;if(!G1(d)||Sc.has(f))return;Sc.add(f);const p=e(d),g=(S,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),!(!G1(S)||!Sc.has(f))&&(Sc.delete(f),typeof p=="function"&&p(S,{success:j}))},v=S=>{g(S,n.useGlobalTarget||S2(f,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",_,i)};return r.forEach(d=>{!v5(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",p=>x5(p,i),i)}),l}function _5(t){return t==="x"||t==="y"?cs[t]?null:(cs[t]=!0,()=>{cs[t]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}const T2=new Set(["width","height","top","left","right","bottom",..._l]);let ch;function w5(){ch=void 0}const Ls={now:()=>(ch===void 0&&Ls.set(yn.isProcessing||vD.useManualTiming?yn.timestamp:performance.now()),ch),set:t=>{ch=t,queueMicrotask(w5)}};function rv(t,e){t.indexOf(e)===-1&&t.push(e)}function df(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sv{constructor(){this.subscriptions=[]}add(e){return rv(this.subscriptions,e),()=>df(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function E2(t,e){return e?t*(1e3/e):0}const W1=30,S5=t=>!isNaN(parseFloat(t)),Ac={current:void 0};class T5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const l=Ls.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=S5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sv);const r=this.events[e].add(n);return e==="change"?()=>{r(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ac.current&&Ac.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>W1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W1);return E2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(t,e){return new T5(t,e)}function E5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hl(n))}function j5(t,e){const n=cf(t,e);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const d=BD(l[c]);E5(t,c,d)}}function k5(t){return!!(on(t)&&t.add)}function yg(t,e){const n=t.getValue("willChange");if(k5(n))return n.add(e)}function j2(t){return t.props[t2]}const k2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C5=1e-7,A5=12;function I5(t,e,n,r,i){let l,c,d=0;do c=e+(n-e)/2,l=k2(c,r,i)-t,l>0?n=c:e=c;while(Math.abs(l)>C5&&++d<A5);return c}function hu(t,e,n,r){if(t===e&&n===r)return wr;const i=l=>I5(l,0,1,t,n);return l=>l===0||l===1?l:k2(i(l),e,r)}const C2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,A2=t=>e=>1-t(1-e),I2=hu(.33,1.53,.69,.99),iv=A2(I2),R2=C2(iv),P2=t=>(t*=2)<1?.5*iv(t):.5*(2-Math.pow(2,-10*(t-1))),ov=t=>1-Math.sin(Math.acos(t)),N2=A2(ov),D2=C2(ov),M2=t=>/^0[^.\s]+$/u.test(t);function R5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||M2(t):!0}const Ic=t=>Math.round(t*1e5)/1e5,av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function P5(t){return t==null}const N5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lv=(t,e)=>n=>!!(typeof n=="string"&&N5.test(n)&&n.startsWith(t)||e&&!P5(n)&&Object.prototype.hasOwnProperty.call(n,e)),L2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,d]=r.match(av);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},D5=t=>gi(0,255,t),cm={...wl,transform:t=>Math.round(D5(t))},Uo={test:lv("rgb","red"),parse:L2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cm.transform(t)+", "+cm.transform(e)+", "+cm.transform(n)+", "+Ic(Kc.transform(r))+")"};function M5(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vg={test:lv("#"),parse:M5,transform:Uo.transform},Qa={test:lv("hsl","hue"),parse:L2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ms.transform(Ic(e))+", "+Ms.transform(Ic(n))+", "+Ic(Kc.transform(r))+")"},Rn={test:t=>Uo.test(t)||vg.test(t)||Qa.test(t),parse:t=>Uo.test(t)?Uo.parse(t):Qa.test(t)?Qa.parse(t):vg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Uo.transform(t):Qa.transform(t)},L5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function F5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(av))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(L5))===null||n===void 0?void 0:n.length)||0)>0}const F2="number",V2="color",V5="var",B5="var(",q1="${}",O5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const d=e.replace(O5,f=>(Rn.test(f)?(r.color.push(l),i.push(V2),n.push(Rn.parse(f))):f.startsWith(B5)?(r.var.push(l),i.push(V5),n.push(f)):(r.number.push(l),i.push(F2),n.push(parseFloat(f))),++l,q1)).split(q1);return{values:n,split:d,indexes:r,types:i}}function B2(t){return Qc(t).values}function O2(t){const{split:e,types:n}=Qc(t),r=e.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],i[c]!==void 0){const d=n[c];d===F2?l+=Ic(i[c]):d===V2?l+=Rn.transform(i[c]):l+=i[c]}return l}}const $5=t=>typeof t=="number"?0:t;function U5(t){const e=B2(t);return O2(t)(e.map($5))}const Ji={test:F5,parse:B2,createTransformer:O2,getAnimatableNone:U5},z5=new Set(["brightness","contrast","saturate","opacity"]);function H5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(av)||[];if(!r)return t;const i=n.replace(r,"");let l=z5.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+i+")"}const G5=/\b([a-z-]*)\(.*?\)/gu,xg={...Ji,getAnimatableNone:t=>{const e=t.match(G5);return e?e.map(H5).join(" "):t}},W5={...qy,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:xg,WebkitFilter:xg},cv=t=>W5[t];function $2(t,e){let n=cv(t);return n!==xg&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q5=new Set(["auto","none","0"]);function K5(t,e,n){let r=0,i;for(;r<t.length&&!i;){const l=t[r];typeof l=="string"&&!q5.has(l)&&Qc(l).values.length&&(i=t[r]),r++}if(i&&n)for(const l of e)t[l]=$2(n,i)}const K1=t=>t===wl||t===Ne,Q1=(t,e)=>parseFloat(t.split(", ")[e]),Y1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Q1(i[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?Q1(l[1],t):0}},Q5=new Set(["x","y","z"]),Y5=_l.filter(t=>!Q5.has(t));function X5(t){const e=[];return Y5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Y1(4,13),y:Y1(5,14)};fl.translateX=fl.x;fl.translateY=fl.y;const Ho=new Set;let bg=!1,_g=!1;function U2(){if(_g){const t=Array.from(Ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=X5(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_g=!1,bg=!1,Ho.forEach(t=>t.complete()),Ho.clear()}function z2(){Ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_g=!0)})}function J5(){z2(),U2()}class uv{constructor(e,n,r,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ho.add(this),bg||(bg=!0,yt.read(z2),yt.resolveKeyframes(U2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const H2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Z5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eM(t){const e=Z5.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function G2(t,e,n=1){const[r,i]=eM(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return H2(c)?parseFloat(c):c}return Wy(i)?G2(i,e,n+1):i}const W2=t=>e=>e.test(t),tM={test:t=>t==="auto",parse:t=>t},q2=[wl,Ne,Ms,Ui,GD,HD,tM],X1=t=>q2.find(W2(t));class K2 extends uv{constructor(e,n,r,i,l){super(e,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Wy(p))){const g=G2(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!T2.has(r)||e.length!==2)return;const[i,l]=e,c=X1(i),d=X1(l);if(c!==d)if(K1(c)&&K1(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)R5(e[i])&&r.push(i);r.length&&K5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=fl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const J1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ji.test(t)||t==="0")&&!t.startsWith("url("));function nM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=J1(i,e),d=J1(l,e);return!c||!d?!1:nM(t)||(n==="spring"||uf(n))&&r}const sM=t=>t!==null;function hf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(sM),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const iM=40;class Q2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ls.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&J5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ls.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:l,delay:c,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!rM(e,r,i,l))if(c)this.options.duration=0;else{f&&f(hf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const wt=(t,e,n)=>t+(e-t)*n;function um(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,l=0,c=0;if(!e)i=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=um(f,d,t+1/3),l=um(f,d,t),c=um(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Ih(t,e){return n=>n>0?e:t}const dm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},aM=[vg,Uo,Qa],lM=t=>aM.find(e=>e.test(t));function Z1(t){const e=lM(t);if(!e)return!1;let n=e.parse(t);return e===Qa&&(n=oM(n)),n}const eb=(t,e)=>{const n=Z1(t),r=Z1(e);if(!n||!r)return Ih(t,e);const i={...n};return l=>(i.red=dm(n.red,r.red,l),i.green=dm(n.green,r.green,l),i.blue=dm(n.blue,r.blue,l),i.alpha=wt(n.alpha,r.alpha,l),Uo.transform(i))},cM=(t,e)=>n=>e(t(n)),fu=(...t)=>t.reduce(cM),wg=new Set(["none","hidden"]);function uM(t,e){return wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dM(t,e){return n=>wt(t,e,n)}function dv(t){return typeof t=="number"?dM:typeof t=="string"?Wy(t)?Ih:Rn.test(t)?eb:pM:Array.isArray(t)?Y2:typeof t=="object"?Rn.test(t)?eb:hM:Ih}function Y2(t,e){const n=[...t],r=n.length,i=t.map((l,c)=>dv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function hM(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dv(t[i])(t[i],e[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function fM(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=f,i[c]++}return r}const pM=(t,e)=>{const n=Ji.createTransformer(e),r=Qc(t),i=Qc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wg.has(t)&&!i.values.length||wg.has(e)&&!r.values.length?uM(t,e):fu(Y2(fM(r,i),i.values),n):Ih(t,e)};function X2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):dv(t)(t,e)}const mM=5;function J2(t,e,n){const r=Math.max(e-mM,0);return E2(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hm=.001;function gM({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,l,c=1-e;c=gi(Pt.minDamping,Pt.maxDamping,c),t=gi(Pt.minDuration,Pt.maxDuration,Ds(t)),c<1?(i=p=>{const g=p*c,v=g*t,_=g-n,S=Sg(p,c),j=Math.exp(-v);return hm-_/S*j},l=p=>{const v=p*c*t,_=v*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,j=Math.exp(-v),A=Sg(Math.pow(p,2),c);return(-i(p)+hm>0?-1:1)*((_-S)*j)/A}):(i=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-hm+g*v},l=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const d=5/t,f=vM(i,l,d);if(t=Ns(t),isNaN(f))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const yM=12;function vM(t,e,n){let r=n;for(let i=1;i<yM;i++)r=r-t(r)/e(r);return r}function Sg(t,e){return t*Math.sqrt(1-e*e)}const xM=["duration","bounce"],bM=["stiffness","damping","mass"];function tb(t,e){return e.some(n=>t[n]!==void 0)}function _M(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!tb(t,bM)&&tb(t,xM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*gi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pt.mass,stiffness:i,damping:l}}else{const n=gM(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function hv(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=_M({...n,velocity:-Ds(n.velocity||0)}),j=_||0,A=p/(2*Math.sqrt(f*g)),C=c-l,F=Ds(Math.sqrt(f/g)),B=Math.abs(C)<5;r||(r=B?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=B?Pt.restDelta.granular:Pt.restDelta.default);let N;if(A<1){const $=Sg(F,A);N=W=>{const E=Math.exp(-A*F*W);return c-E*((j+A*F*C)/$*Math.sin($*W)+C*Math.cos($*W))}}else if(A===1)N=$=>c-Math.exp(-F*$)*(C+(j+F*C)*$);else{const $=F*Math.sqrt(A*A-1);N=W=>{const E=Math.exp(-A*F*W),T=Math.min($*W,300);return c-E*((j+A*F*C)*Math.sinh(T)+$*C*Math.cosh(T))/$}}const U={calculatedDuration:S&&v||null,next:$=>{const W=N($);if(S)d.done=$>=v;else{let E=0;A<1&&(E=$===0?Ns(j):J2(N,$,W));const T=Math.abs(E)<=r,I=Math.abs(c-W)<=i;d.done=T&&I}return d.value=d.done?c:W,d},toString:()=>{const $=Math.min(ev(U),Ch),W=y2(E=>U.next($*E).value,$,30);return $+"ms "+W}};return U}function nb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},S=T=>d!==void 0&&T<d||f!==void 0&&T>f,j=T=>d===void 0?f:f===void 0||Math.abs(d-T)<Math.abs(f-T)?d:f;let A=n*e;const C=v+A,F=c===void 0?C:c(C);F!==C&&(A=F-v);const B=T=>-A*Math.exp(-T/r),N=T=>F+B(T),U=T=>{const I=B(T),D=N(T);_.done=Math.abs(I)<=p,_.value=_.done?F:D};let $,W;const E=T=>{S(_.value)&&($=T,W=hv({keyframes:[_.value,j(_.value)],velocity:J2(N,T,_.value),damping:i,stiffness:l,restDelta:p,restSpeed:g}))};return E(0),{calculatedDuration:null,next:T=>{let I=!1;return!W&&$===void 0&&(I=!0,U(T),E(T)),$!==void 0&&T>=$?W.next(T-$):(!I&&U(T),_)}}}const wM=hu(.42,0,1,1),SM=hu(0,0,.58,1),Z2=hu(.42,0,.58,1),eT=t=>Array.isArray(t)&&typeof t[0]!="number",TM={linear:wr,easeIn:wM,easeInOut:Z2,easeOut:SM,circIn:ov,circInOut:D2,circOut:N2,backIn:iv,backInOut:R2,backOut:I2,anticipate:P2},rb=t=>{if(tv(t)){YS(t.length===4);const[e,n,r,i]=t;return hu(e,n,r,i)}else if(typeof t=="string")return TM[t];return t};function EM(t,e,n){const r=[],i=n||X2,l=t.length-1;for(let c=0;c<l;c++){let d=i(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||wr:e;d=fu(f,d)}r.push(d)}return r}function tT(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const l=t.length;if(YS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=EM(e,r,i),f=d.length,p=g=>{if(c&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=Ko(t[v],t[v+1],g);return d[v](_)};return n?g=>p(gi(t[0],t[l-1],g)):p}function nT(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ko(0,e,r);t.push(wt(n,1,i))}}function rT(t){const e=[0];return nT(e,t.length-1),e}function jM(t,e){return t.map(n=>n*e)}function kM(t,e){return t.map(()=>e||Z2).splice(0,t.length-1)}function Rh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=eT(r)?r.map(rb):rb(r),l={done:!1,value:e[0]},c=jM(n&&n.length===e.length?n:rT(e),t),d=tT(c,e,{ease:Array.isArray(i)?i:kM(e,i)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const CM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>yt.update(e,!0),stop:()=>mi(e),now:()=>yn.isProcessing?yn.timestamp:Ls.now()}},AM={decay:nb,inertia:nb,tween:Rh,keyframes:Rh,spring:hv},IM=t=>t/100;class fv extends Q2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:l}=this.options,c=(i==null?void 0:i.KeyframeResolver)||uv,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new c(l,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,d=uf(n)?n:AM[n]||Rh;let f,p;d!==Rh&&typeof e[0]!="number"&&(f=fu(IM,X2(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=ev(g));const{calculatedDuration:v}=g,_=v+i,S=_*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:_,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:_,repeat:S,repeatType:j,repeatDelay:A,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-_*(this.speed>=0?1:-1),B=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let N=this.currentTime,U=l;if(S){const T=Math.min(this.currentTime,g)/v;let I=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&I--,I=Math.min(I,S+1),!!(I%2)&&(j==="reverse"?(D=1-D,A&&(D-=A/v)):j==="mirror"&&(U=c)),N=gi(0,1,D)*v}const $=B?{done:!1,value:f[0]}:U.next(N);d&&($.value=d($.value));let{done:W}=$;!B&&p!==null&&(W=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return E&&i!==void 0&&($.value=hf(f,this.options,i)),C&&C($.value),E&&this.finish(),$}get duration(){const{resolved:e}=this;return e?Ds(e.calculatedDuration):0}get time(){return Ds(this.currentTime)}set time(e){e=Ns(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=CM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const RM=new Set(["opacity","clipPath","filter","transform"]);function PM(t,e,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=x2(d,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const NM=By(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ph=10,DM=2e4;function MM(t){return uf(t.type)||t.type==="spring"||!v2(t.ease)}function LM(t,e){const n=new fv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let l=0;for(;!r.done&&l<DM;)r=n.sample(l),i.push(r.value),l+=Ph;return{times:void 0,keyframes:i,duration:l-Ph,ease:"linear"}}const sT={anticipate:P2,backInOut:R2,circInOut:D2};function FM(t){return t in sT}class sb extends Q2{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:l}=this.options;this.resolver=new K2(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:l,type:c,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Ah()&&FM(l)&&(l=sT[l]),MM(this.options)){const{onComplete:v,onUpdate:_,motionValue:S,element:j,...A}=this.options,C=LM(e,A);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,i=C.times,l=C.ease,c="keyframes"}const g=PM(d.owner.current,f,e,{...this.options,duration:r,times:i,ease:l});return g.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(U1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(hf(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ds(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ds(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ns(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return wr;const{animation:r}=n;U1(r,e)}return wr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:_,...S}=this.options,j=new fv({...S,keyframes:r,duration:i,type:l,ease:c,times:d,isGenerator:!0}),A=Ns(this.time);p.setWithVelocity(j.sample(A-Ph).value,j.sample(A).value,Ph)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return NM()&&r&&RM.has(r)&&!f&&!p&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}}const VM={type:"spring",stiffness:500,damping:25,restSpeed:10},BM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OM={type:"keyframes",duration:.8},$M={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UM=(t,{keyframes:e})=>e.length>2?OM:Jo.has(t)?t.startsWith("scale")?BM(e[1]):VM:$M;function zM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const pv=(t,e,n,r={},i,l)=>c=>{const d=Zy(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ns(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:i};zM(d)||(g={...g,...UM(t,g)}),g.duration&&(g.duration=Ns(g.duration)),g.repeatDelay&&(g.repeatDelay=Ns(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const _=hf(g.keyframes,d);if(_!==void 0)return yt.update(()=>{g.onUpdate(_),g.onComplete()}),new g2([])}return!l&&sb.supports(g)?new sb(g):new fv(g)};function HM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mv(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(c=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const v in f){const _=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),S=f[v];if(S===void 0||g&&HM(g,v))continue;const j={delay:n,...Zy(c||{},v)};let A=!1;if(window.MotionHandoffAnimation){const F=j2(t);if(F){const B=window.MotionHandoffAnimation(F,v,yt);B!==null&&(j.startTime=B,A=!0)}}yg(t,v),_.start(pv(v,_,S,t.shouldReduceMotion&&T2.has(v)?{type:!1}:j,t,A));const C=_.animation;C&&p.push(C)}return d&&Promise.all(p).then(()=>{yt.update(()=>{d&&j5(t,d)})}),p}function Tg(t,e,n={}){var r;const i=cf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const c=i?()=>Promise.all(mv(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=l;return GM(t,e,g+p,v,_,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,g]=f==="beforeChildren"?[c,d]:[d,c];return p().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function GM(t,e,n=0,r=0,i=1,l){const c=[],d=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(WM).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(Tg(p,e,{...l,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function WM(t,e){return t.sortNodePosition(e)}function qM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(l=>Tg(t,l,n));r=Promise.all(i)}else if(typeof e=="string")r=Tg(t,e,n);else{const i=typeof e=="function"?cf(t,e,n.custom):e;r=Promise.all(mv(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const KM=$y.length;function iT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<KM;n++){const r=$y[n],i=t.props[r];(qc(i)||i===!1)&&(e[r]=i)}return e}const QM=[...Oy].reverse(),YM=Oy.length;function XM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qM(t,n,r)))}function JM(t){let e=XM(t),n=ib(),r=!0;const i=f=>(p,g)=>{var v;const _=cf(t,g,f==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(_){const{transition:S,transitionEnd:j,...A}=_;p={...p,...A,...j}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,g=iT(t.parent)||{},v=[],_=new Set;let S={},j=1/0;for(let C=0;C<YM;C++){const F=QM[C],B=n[F],N=p[F]!==void 0?p[F]:g[F],U=qc(N),$=F===f?B.isActive:null;$===!1&&(j=C);let W=N===g[F]&&N!==p[F]&&U;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),B.protectedKeys={...S},!B.isActive&&$===null||!N&&!B.prevProp||af(N)||typeof N=="boolean")continue;const E=ZM(B.prevProp,N);let T=E||F===f&&B.isActive&&!W&&U||C>j&&U,I=!1;const D=Array.isArray(N)?N:[N];let M=D.reduce(i(F),{});$===!1&&(M={});const{prevResolvedValues:V={}}=B,L={...V,...M},fe=ne=>{T=!0,_.has(ne)&&(I=!0,_.delete(ne)),B.needsAnimating[ne]=!0;const Q=t.getValue(ne);Q&&(Q.liveStyle=!1)};for(const ne in L){const Q=M[ne],oe=V[ne];if(S.hasOwnProperty(ne))continue;let ie=!1;mg(Q)&&mg(oe)?ie=!m2(Q,oe):ie=Q!==oe,ie?Q!=null?fe(ne):_.add(ne):Q!==void 0&&_.has(ne)?fe(ne):B.protectedKeys[ne]=!0}B.prevProp=N,B.prevResolvedValues=M,B.isActive&&(S={...S,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(W&&E)||I)&&v.push(...D.map(ne=>({animation:ne,options:{type:F}})))}if(_.size){const C={};_.forEach(F=>{const B=t.getBaseTarget(F),N=t.getValue(F);N&&(N.liveStyle=!0),C[F]=B!=null?B:null}),v.push({animation:C})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const v=c(f);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ib(),r=!0}}}function ZM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!m2(e,t):!1}function Ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ib(){return{animate:Ao(!0),whileInView:Ao(),whileHover:Ao(),whileTap:Ao(),whileDrag:Ao(),whileFocus:Ao(),exit:Ao()}}class no{constructor(e){this.isMounted=!1,this.node=e}update(){}}class eL extends no{constructor(e){super(e),e.animationState||(e.animationState=JM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();af(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let tL=0;class nL extends no{constructor(){super(...arguments),this.id=tL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rL={animation:{Feature:eL},exit:{Feature:nL}};function Yc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function pu(t){return{point:{x:t.pageX,y:t.pageY}}}const sL=t=>e=>nv(e)&&t(e,pu(e));function Rc(t,e,n,r){return Yc(t,e,sL(n),r)}const ob=(t,e)=>Math.abs(t-e);function iL(t,e){const n=ob(t.x,e.x),r=ob(t.y,e.y);return Math.sqrt(n**2+r**2)}class oT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=iL(v.offset,{x:0,y:0})>=3;if(!_&&!S)return;const{point:j}=v,{timestamp:A}=yn;this.history.push({...j,timestamp:A});const{onStart:C,onMove:F}=this.handlers;_||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=fm(_,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:S,onSessionEnd:j,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=pm(v.type==="pointercancel"?this.lastMoveEventInfo:fm(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,C),j&&j(v,C)},!nv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=pu(e),d=fm(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=yn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,pm(d,this.history)),this.removeListeners=fu(Rc(this.contextWindow,"pointermove",this.handlePointerMove),Rc(this.contextWindow,"pointerup",this.handlePointerUp),Rc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mi(this.updatePoint)}}function fm(t,e){return e?{point:e(t.point)}:t}function ab(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pm({point:t},e){return{point:t,delta:ab(t,aT(e)),offset:ab(t,oL(e)),velocity:aL(e,.1)}}function oL(t){return t[0]}function aT(t){return t[t.length-1]}function aL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=aT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ns(e)));)n--;if(!r)return{x:0,y:0};const l=Ds(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const lT=1e-4,lL=1-lT,cL=1+lT,cT=.01,uL=0-cT,dL=0+cT;function Tr(t){return t.max-t.min}function hL(t,e,n){return Math.abs(t-e)<=n}function lb(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lL&&t.scale<=cL||isNaN(t.scale))&&(t.scale=1),(t.translate>=uL&&t.translate<=dL||isNaN(t.translate))&&(t.translate=0)}function Pc(t,e,n,r){lb(t.x,e.x,n.x,r?r.originX:void 0),lb(t.y,e.y,n.y,r?r.originY:void 0)}function cb(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function fL(t,e,n){cb(t.x,e.x,n.x),cb(t.y,e.y,n.y)}function ub(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function Nc(t,e,n){ub(t.x,e.x,n.x),ub(t.y,e.y,n.y)}function pL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function db(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mL(t,{top:e,left:n,bottom:r,right:i}){return{x:db(t.x,n,i),y:db(t.y,e,r)}}function hb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gL(t,e){return{x:hb(t.x,e.x),y:hb(t.y,e.y)}}function yL(t,e){let n=.5;const r=Tr(t),i=Tr(e);return i>r?n=Ko(e.min,e.max-r,t.min):r>i&&(n=Ko(t.min,t.max-i,e.min)),gi(0,1,n)}function vL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Eg=.35;function xL(t=Eg){return t===!1?t=0:t===!0&&(t=Eg),{x:fb(t,"left","right"),y:fb(t,"top","bottom")}}function fb(t,e,n){return{min:pb(t,e),max:pb(t,n)}}function pb(t,e){return typeof t=="number"?t:t[e]||0}const mb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ya=()=>({x:mb(),y:mb()}),gb=()=>({min:0,max:0}),Rt=()=>({x:gb(),y:gb()});function Or(t){return[t("x"),t("y")]}function uT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _L(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mm(t){return t===void 0||t===1}function jg({scale:t,scaleX:e,scaleY:n}){return!mm(t)||!mm(e)||!mm(n)}function Vo(t){return jg(t)||dT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dT(t){return yb(t.x)||yb(t.y)}function yb(t){return t&&t!=="0%"}function Nh(t,e,n){const r=t-n,i=e*r;return n+i}function vb(t,e,n,r,i){return i!==void 0&&(t=Nh(t,i,r)),Nh(t,n,r)+e}function kg(t,e=0,n=1,r,i){t.min=vb(t.min,e,n,r,i),t.max=vb(t.max,e,n,r,i)}function hT(t,{x:e,y:n}){kg(t.x,e.translate,e.scale,e.originPoint),kg(t.y,n.translate,n.scale,n.originPoint)}const xb=.999999999999,bb=1.0000000000001;function wL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,c;for(let d=0;d<i;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ja(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,hT(t,c)),r&&Vo(l.latestValues)&&Ja(t,l.latestValues))}e.x<bb&&e.x>xb&&(e.x=1),e.y<bb&&e.y>xb&&(e.y=1)}function Xa(t,e){t.min=t.min+e,t.max=t.max+e}function _b(t,e,n,r,i=.5){const l=wt(t.min,t.max,i);kg(t,e,n,l,r)}function Ja(t,e){_b(t.x,e.x,e.scaleX,e.scale,e.originX),_b(t.y,e.y,e.scaleY,e.scale,e.originY)}function fT(t,e){return uT(_L(t.getBoundingClientRect(),e))}function SL(t,e,n){const r=fT(t,n),{scroll:i}=e;return i&&(Xa(r.x,i.offset.x),Xa(r.y,i.offset.y)),r}const pT=({current:t})=>t?t.ownerDocument.defaultView:null,TL=new WeakMap;class EL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pu(g).point)},l=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:j}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Or(C=>{let F=this.getAxisMotionValue(C).get()||0;if(Ms.test(F)){const{projection:B}=this.visualElement;if(B&&B.layout){const N=B.layout.layoutBox[C];N&&(F=Tr(N)*(parseFloat(F)/100))}}this.originPoint[C]=F}),j&&yt.postRender(()=>j(g,v)),yg(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:j,onDrag:A}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=v;if(S&&this.currentDirection===null){this.currentDirection=jL(C),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),A&&A(g,v)},d=(g,v)=>this.stop(g,v),f=()=>Or(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new oT(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:pT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&yt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ud(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=pL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Ka(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=mL(i.layoutBox,n):this.constraints=!1,this.elastic=xL(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Or(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=vL(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ka(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=SL(r,i.root,this.visualElement.getTransformPagePoint());let c=gL(i.layout.layoutBox,l);if(n){const d=n(bL(c));this.hasMutatedConstraints=!!d,d&&(c=uT(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Or(g=>{if(!Ud(g,n,this.currentDirection))return;let v=f&&f[g]||{};c&&(v={min:0,max:0});const _=i?200:1e6,S=i?40:1e7,j={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,j)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yg(this.visualElement,e),r.start(pv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Or(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Or(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Or(n=>{const{drag:r}=this.getProps();if(!Ud(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];l.set(e[n]-wt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ka(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Or(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();i[c]=yL({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Or(c=>{if(!Ud(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(wt(f,p,i[c]))})}addListeners(){if(!this.visualElement.current)return;TL.set(this.visualElement,this);const e=this.visualElement.current,n=Rc(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ka(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yt.read(r);const c=Yc(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Or(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=Eg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kL extends no{constructor(e){super(e),this.removeGroupControls=wr,this.removeListeners=wr,this.controls=new EL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const wb=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class CL extends no{constructor(){super(...arguments),this.removePointerDownListener=wr}onPointerDown(e){this.session=new oT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:wb(e),onStart:wb(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&yt.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=Rc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=Sb(t,e.target.x),r=Sb(t,e.target.y);return`${n}% ${r}%`}},AL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ji.parse(t);if(i.length>5)return r;const l=Ji.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=f;const p=wt(d,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=p),typeof i[3+c]=="number"&&(i[3+c]/=p),l(i)}};class IL extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=e;t5(RL),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),uh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||yt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mT(t){const[e,n]=yD(),r=R.useContext(KS);return o.jsx(IL,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(n2),isPresent:e,safeToRemove:n})}const RL={borderRadius:{...hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hc,borderTopRightRadius:hc,borderBottomLeftRadius:hc,borderBottomRightRadius:hc,boxShadow:AL};function gT(t,e,n){const r=on(t)?t:hl(t);return r.start(pv("",r,e,n)),r.animation}function yT(t){return t instanceof SVGElement&&t.tagName!=="svg"}const PL=(t,e)=>t.depth-e.depth;class NL{constructor(){this.children=[],this.isDirty=!1}add(e){rv(this.children,e),this.isDirty=!0}remove(e){df(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PL),this.isDirty=!1,this.children.forEach(e)}}function DL(t,e){const n=Ls.now(),r=({timestamp:i})=>{const l=i-n;l>=e&&(mi(r),t(l-e))};return yt.read(r,!0),()=>mi(r)}const vT=["TopLeft","TopRight","BottomLeft","BottomRight"],ML=vT.length,Tb=t=>typeof t=="string"?parseFloat(t):t,Eb=t=>typeof t=="number"||Ne.test(t);function LL(t,e,n,r,i,l){i?(t.opacity=wt(0,n.opacity!==void 0?n.opacity:1,FL(r)),t.opacityExit=wt(e.opacity!==void 0?e.opacity:1,0,VL(r))):l&&(t.opacity=wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<ML;c++){const d=`border${vT[c]}Radius`;let f=jb(e,d),p=jb(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Eb(f)===Eb(p)?(t[d]=Math.max(wt(Tb(f),Tb(p),r),0),(Ms.test(p)||Ms.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function jb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const FL=xT(0,.5,N2),VL=xT(.5,.95,wr);function xT(t,e,n){return r=>r<t?0:r>e?1:n(Ko(t,e,r))}function kb(t,e){t.min=e.min,t.max=e.max}function Vr(t,e){kb(t.x,e.x),kb(t.y,e.y)}function Cb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ab(t,e,n,r,i){return t-=e,t=Nh(t,1/n,r),i!==void 0&&(t=Nh(t,1/i,r)),t}function BL(t,e=0,n=1,r=.5,i,l=t,c=t){if(Ms.test(e)&&(e=parseFloat(e),e=wt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=wt(l.min,l.max,r);t===l&&(d-=e),t.min=Ab(t.min,e,n,d,i),t.max=Ab(t.max,e,n,d,i)}function Ib(t,e,[n,r,i],l,c){BL(t,e[n],e[r],e[i],e.scale,l,c)}const OL=["x","scaleX","originX"],$L=["y","scaleY","originY"];function Rb(t,e,n,r){Ib(t.x,e,OL,n?n.x:void 0,r?r.x:void 0),Ib(t.y,e,$L,n?n.y:void 0,r?r.y:void 0)}function Pb(t){return t.translate===0&&t.scale===1}function bT(t){return Pb(t.x)&&Pb(t.y)}function Nb(t,e){return t.min===e.min&&t.max===e.max}function UL(t,e){return Nb(t.x,e.x)&&Nb(t.y,e.y)}function Db(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _T(t,e){return Db(t.x,e.x)&&Db(t.y,e.y)}function Mb(t){return Tr(t.x)/Tr(t.y)}function Lb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zL{constructor(){this.members=[]}add(e){rv(this.members,e),e.scheduleRender()}remove(e){if(df(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HL(t,e,n){let r="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:j}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Bo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tc=typeof window!="undefined"&&window.MotionDebug!==void 0,gm=["","X","Y","Z"],GL={visibility:"hidden"},Fb=1e3;let WL=0;function ym(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=j2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(i||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wT(r)}function ST({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=WL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tc&&(Bo.totalNodes=Bo.resolvedTargetDeltas=Bo.recalculatedProjection=0),this.nodes.forEach(QL),this.nodes.forEach(e4),this.nodes.forEach(t4),this.nodes.forEach(YL),Tc&&window.MotionDebug.record(Bo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new NL)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yT(c),this.instance=c;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=DL(_,250),uh.hasAnimatedSinceResize&&(uh.hasAnimatedSinceResize=!1,this.nodes.forEach(Bb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:S,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||o4,{onLayoutAnimationStart:C,onLayoutAnimationComplete:F}=g.getProps(),B=!this.targetLayout||!_T(this.targetLayout,j)||S,N=!_&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,N);const U={...Zy(A,"layout"),onPlay:C,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else _||Bb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vb);return}this.isUpdating||this.nodes.forEach(JL),this.isUpdating=!1,this.nodes.forEach(ZL),this.nodes.forEach(qL),this.nodes.forEach(KL),this.clearAllSnapshots();const d=Ls.now();yn.delta=gi(0,1e3/60,d-yn.timestamp),yn.timestamp=d,yn.isProcessing=!0,am.update.process(yn),am.preRender.process(yn),am.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XL),this.sharedNodes.forEach(r4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!bT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(d||Vo(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),a4(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Rt();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(l4))){const{scroll:g}=this.root;g&&(Xa(f.x,g.offset.x),Xa(f.y,g.offset.y))}return f}removeElementScroll(c){var d;const f=Rt();if(Vr(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Vr(f,c),Xa(f.x,v.offset.x),Xa(f.y,v.offset.y))}return f}applyTransform(c,d=!1){const f=Rt();Vr(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ja(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vo(g.latestValues)&&Ja(f,g.latestValues)}return Vo(this.latestValues)&&Ja(f,this.latestValues),f}removeTransform(c){const d=Rt();Vr(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Vo(p.latestValues))continue;jg(p.latestValues)&&p.updateSnapshot();const g=Rt(),v=p.measurePageBox();Vr(g,v),Rb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Vo(this.latestValues)&&Rb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Nc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),hT(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Nc(this.relativeTargetOrigin,this.target,S.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tc&&Bo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jg(this.parent.latestValues)||dT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Vr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;wL(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Rt());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cb(this.prevProjectionDelta.x,this.projectionDelta.x),Cb(this.prevProjectionDelta.y,this.projectionDelta.y)),Pc(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!Lb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Tc&&Bo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ya(),this.projectionDelta=Ya(),this.projectionDeltaWithTransform=Ya()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=Ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Rt(),S=f?f.source:void 0,j=this.layout?this.layout.source:void 0,A=S!==j,C=this.getStack(),F=!C||C.members.length<=1,B=!!(A&&!F&&this.options.crossfade===!0&&!this.path.some(i4));this.animationProgress=0;let N;this.mixTargetDelta=U=>{const $=U/1e3;Ob(v.x,c.x,$),Ob(v.y,c.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s4(this.relativeTarget,this.relativeTargetOrigin,_,$),N&&UL(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Rt()),Vr(N,this.relativeTarget)),A&&(this.animationValues=g,LL(g,p,this.latestValues,$,B,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{uh.hasAnimatedSinceResize=!0,this.currentAnimation=gT(0,Fb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&TT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Rt();const v=Tr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const _=Tr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+_}Vr(d,f),Ja(d,g),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new zL),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&ym("z",c,p,this.animationValues);for(let g=0;g<gm.length;g++)ym(`rotate${gm[g]}`,c,p,this.animationValues),ym(`skew${gm[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GL;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=lh(c==null?void 0:c.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=lh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Vo(this.latestValues)&&(A.transform=g?g({},""):"none",this.hasProjected=!1),A}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=HL(this.projectionDeltaWithTransform,this.treeScale,_),g&&(p.transform=g(_,p.transform));const{x:S,y:j}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${j.origin*100}% 0`,v.animationValues?p.opacity=v===this?(f=(d=_.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const A in kh){if(_[A]===void 0)continue;const{correct:C,applyTo:F}=kh[A],B=p.transform==="none"?_[A]:C(_[A],v);if(F){const N=F.length;for(let U=0;U<N;U++)p[F[U]]=B}else p[A]=B}return this.options.layoutId&&(p.pointerEvents=v===this?lh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Vb),this.root.sharedNodes.clear()}}}function qL(t){t.updateLayout()}function KL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Or(v=>{const _=c?n.measuredBox[v]:n.layoutBox[v],S=Tr(_);_.min=r[v].min,_.max=_.min+S}):TT(l,n.layoutBox,r)&&Or(v=>{const _=c?n.measuredBox[v]:n.layoutBox[v],S=Tr(r[v]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const d=Ya();Pc(d,r,n.layoutBox);const f=Ya();c?Pc(f,t.applyTransform(i,!0),n.measuredBox):Pc(f,r,n.layoutBox);const p=!bT(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const j=Rt();Nc(j,n.layoutBox,_.layoutBox);const A=Rt();Nc(A,r,S.layoutBox),_T(j,A)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=j,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function QL(t){Tc&&Bo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XL(t){t.clearSnapshot()}function Vb(t){t.clearMeasurements()}function JL(t){t.isLayoutDirty=!1}function ZL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function e4(t){t.resolveTargetDelta()}function t4(t){t.calcProjection()}function n4(t){t.resetSkewAndRotation()}function r4(t){t.removeLeadSnapshot()}function Ob(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $b(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function s4(t,e,n,r){$b(t.x,e.x,n.x,r),$b(t.y,e.y,n.y,r)}function i4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const o4={duration:.45,ease:[.4,0,.1,1]},Ub=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zb=Ub("applewebkit/")&&!Ub("chrome/")?Math.round:wr;function Hb(t){t.min=zb(t.min),t.max=zb(t.max)}function a4(t){Hb(t.x),Hb(t.y)}function TT(t,e,n){return t==="position"||t==="preserve-aspect"&&!hL(Mb(e),Mb(n),.2)}function l4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const c4=ST({attachResizeListener:(t,e)=>Yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},ET=ST({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vm.current){const t=new c4({});t.mount(window),t.setOptions({layoutScroll:!0}),vm.current=t}return vm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u4={pan:{Feature:CL},drag:{Feature:kL,ProjectionNode:ET,MeasureLayout:mT}};function Gb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&yt.postRender(()=>l(e,pu(e)))}class d4 extends no{mount(){const{current:e}=this.node;e&&(this.unmount=g5(e,n=>(Gb(this.node,n,"Start"),r=>Gb(this.node,r,"End"))))}unmount(){}}class h4 extends no{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fu(Yc(this.node.current,"focus",()=>this.onFocus()),Yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&yt.postRender(()=>l(e,pu(e)))}class f4 extends no{mount(){const{current:e}=this.node;e&&(this.unmount=b5(e,n=>(Wb(this.node,n,"Start"),(r,{success:i})=>Wb(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cg=new WeakMap,xm=new WeakMap,p4=t=>{const e=Cg.get(t.target);e&&e(t)},m4=t=>{t.forEach(p4)};function g4({root:t,...e}){const n=t||document;xm.has(n)||xm.set(n,{});const r=xm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(m4,{root:t,...e})),r[i]}function y4(t,e,n){const r=g4(e);return Cg.set(t,n),r.observe(t),()=>{Cg.delete(t),r.unobserve(t)}}const v4={some:0,all:1};class x4 extends no{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:v4[i]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(f)};return y4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(b4(e,n))&&this.startObserver()}unmount(){}}function b4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _4={inView:{Feature:x4},tap:{Feature:f4},focus:{Feature:h4},hover:{Feature:d4}},w4={layout:{ProjectionNode:ET,MeasureLayout:mT}},Dh={current:null},gv={current:!1};function jT(){if(gv.current=!0,!!Vy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dh.current=t.matches;t.addListener(e),e()}else Dh.current=!1}const S4=[...q2,Rn,Ji],T4=t=>S4.find(W2(t)),pl=new WeakMap;function E4(t,e,n){for(const r in e){const i=e[r],l=n[r];if(on(i))t.addValue(r,i);else if(on(l))t.addValue(r,hl(i,{owner:t}));else if(l!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,hl(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kT{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Ls.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,yt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=c;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=lf(n),this.isVariantNode=e2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const j=_[S];f[S]!==void 0&&on(j)&&j.set(f[S],!1)}}mount(e){this.current=e,pl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gv.current||jT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pl.delete(this.current),this.projection&&this.projection.unmount(),mi(this.notifyUpdate),mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Jo.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dl){const n=dl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qb.length;r++){const i=qb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=E4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=hl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(H2(i)||M2(i))?i=parseFloat(i):!T4(i)&&Ji.test(n)&&(i=$2(e,n)),this.setBaseTarget(e,on(i)?i.get():i)),on(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=Gy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!on(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class CT extends kT{constructor(){super(...arguments),this.KeyframeResolver=K2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j4(t){return window.getComputedStyle(t)}class AT extends CT{constructor(){super(...arguments),this.type="html",this.renderInstance=c2}readValueFromInstance(e,n){if(Jo.has(n)){const r=cv(n);return r&&r.default||0}else{const r=j4(e),i=(o2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fT(e,n)}build(e,n,r){Ky(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jy(e,n,r)}}class IT extends CT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jo.has(n)){const r=cv(n);return r&&r.default||0}return n=u2.has(n)?n:Uy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return f2(e,n,r)}build(e,n,r){Qy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){d2(e,n,r,i)}mount(e){this.isSVGTag=Xy(e.tagName),super.mount(e)}}const k4=(t,e)=>Hy(t)?new IT(e):new AT(e,{allowProjection:t!==R.Fragment}),C4=u5({...rL,..._4,...u4,...w4},k4),RT=ED(C4);function Ec(t){const e=My(()=>hl(t)),{isStatic:n}=R.useContext(Fy);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function PT(t,e){const n=Ec(e()),r=()=>n.set(e());return r(),QS(()=>{const i=()=>yt.preRender(r,!1,!0),l=t.map(c=>c.on("change",i));return()=>{l.forEach(c=>c()),mi(r)}}),n}const A4=t=>t&&typeof t=="object"&&t.mix,I4=t=>A4(t)?t.mix:void 0;function R4(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],l=t[2+n],c=t[3+n],d=tT(i,l,{mixer:I4(l[0]),...c});return e?d(r):d}function P4(t){Ac.current=[],t();const e=PT(Ac.current,t);return Ac.current=void 0,e}function zd(t,e,n,r){if(typeof t=="function")return P4(t);const i=typeof e=="function"?e:R4(e,n,r);return Array.isArray(t)?Kb(t,i):Kb([t],([l])=>i(l))}function Kb(t,e){const n=My(()=>[]);return PT(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function NT(){!gv.current&&jT();const[t]=R.useState(Dh.current);return t}const N4=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function DT(t,e){return eT(t)?t[N4(0,t.length,e)]:t}function yv(t){return typeof t=="object"&&!Array.isArray(t)}function MT(t,e,n,r){return typeof t=="string"&&yv(e)?_2(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function D4(t,e,n){return t*(e+1)}function Qb(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function M4(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(df(t,i),r--)}}function L4(t,e,n,r,i,l){M4(t,i,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:wt(i,l,r[c]),easing:DT(n,c)})}function F4(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function V4(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const B4="easeInOut";function O4(t,{defaultTransition:e={},...n}={},r,i){const l=e.duration||.3,c=new Map,d=new Map,f={},p=new Map;let g=0,v=0,_=0;for(let S=0;S<t.length;S++){const j=t[S];if(typeof j=="string"){p.set(j,v);continue}else if(!Array.isArray(j)){p.set(j.name,Qb(v,j.at,g,p));continue}let[A,C,F={}]=j;F.at!==void 0&&(v=Qb(v,F.at,g,p));let B=0;const N=(U,$,W,E=0,T=0)=>{const I=$4(U),{delay:D=0,times:M=rT(I),type:V="keyframes",repeat:L,repeatType:fe,repeatDelay:K=0,...re}=$;let{ease:ne=e.ease||"easeOut",duration:Q}=$;const oe=typeof D=="function"?D(E,T):D,ie=I.length,G=uf(V)?V:i==null?void 0:i[V];if(ie<=2&&G){let je=100;if(ie===2&&H4(I)){const Ae=I[1]-I[0];je=Math.abs(Ae)}const me={...re};Q!==void 0&&(me.duration=Ns(Q));const ke=f5(me,je,G);ne=ke.ease,Q=ke.duration}Q!=null||(Q=l);const ee=v+oe;M.length===1&&M[0]===0&&(M[1]=1);const ye=M.length-I.length;if(ye>0&&nT(M,ye),I.length===1&&I.unshift(null),L){Q=D4(Q,L);const je=[...I],me=[...M];ne=Array.isArray(ne)?[...ne]:[ne];const ke=[...ne];for(let Ae=0;Ae<L;Ae++){I.push(...je);for(let Pe=0;Pe<je.length;Pe++)M.push(me[Pe]+(Ae+1)),ne.push(Pe===0?"linear":DT(ke,Pe-1))}F4(M,L)}const we=ee+Q;L4(W,I,ne,M,ee,we),B=Math.max(oe+Q,B),_=Math.max(we,_)};if(on(A)){const U=Yb(A,d);N(C,F,Xb("default",U))}else{const U=MT(A,C,r,f),$=U.length;for(let W=0;W<$;W++){C=C,F=F;const E=U[W],T=Yb(E,d);for(const I in C)N(C[I],U4(F,I),Xb(I,T),W,$)}}g=v,v+=B}return d.forEach((S,j)=>{for(const A in S){const C=S[A];C.sort(V4);const F=[],B=[],N=[];for(let $=0;$<C.length;$++){const{at:W,value:E,easing:T}=C[$];F.push(E),B.push(Ko(0,_,W)),N.push(T||"easeOut")}B[0]!==0&&(B.unshift(0),F.unshift(F[0]),N.unshift(B4)),B[B.length-1]!==1&&(B.push(1),F.push(null)),c.has(j)||c.set(j,{keyframes:{},transition:{}});const U=c.get(j);U.keyframes[A]=F,U.transition[A]={...e,duration:_,ease:N,times:B,...n}}}),c}function Yb(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Xb(t,e){return e[t]||(e[t]=[]),e[t]}function $4(t){return Array.isArray(t)?t:[t]}function U4(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const z4=t=>typeof t=="number",H4=t=>t.every(z4);function G4(t,e){return t in e}class W4 extends kT{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(G4(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Rt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function q4(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=yT(t)?new IT(e):new AT(e);n.mount(t),pl.set(t,n)}function K4(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new W4(e);n.mount(t),pl.set(t,n)}function Q4(t,e){return on(t)||typeof t=="number"||typeof t=="string"&&!yv(e)}function LT(t,e,n,r){const i=[];if(Q4(t,e))i.push(gT(t,yv(e)&&e.default||e,n&&(n.default||n)));else{const l=MT(t,e,r),c=l.length;for(let d=0;d<c;d++){const f=l[d],p=f instanceof Element?q4:K4;pl.has(f)||p(f);const g=pl.get(f),v={...n};"delay"in v&&typeof v.delay=="function"&&(v.delay=v.delay(d,c)),i.push(...mv(g,{...e,transition:v},{}))}}return i}function Y4(t,e,n){const r=[];return O4(t,e,n,{spring:hv}).forEach(({keyframes:l,transition:c},d)=>{r.push(...LT(d,l,c))}),r}function X4(t){return Array.isArray(t)&&t.some(Array.isArray)}function J4(t){function e(n,r,i){let l=[];return X4(n)?l=Y4(n,r,t):l=LT(n,r,i,t),new g2(l)}return e}const Hd=J4(),ai={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function Z4(){return o.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+ai.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function eF(){return o.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[o.jsxs("defs",{children:[o.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[o.jsx("stop",{offset:"0%",stopColor:ai.icon,stopOpacity:"0.42"}),o.jsx("stop",{offset:"70%",stopColor:ai.icon,stopOpacity:"0"})]}),o.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[o.jsx("stop",{offset:"0%",stopColor:ai.icon,stopOpacity:"0.20"}),o.jsx("stop",{offset:"70%",stopColor:ai.icon,stopOpacity:"0"})]})]}),o.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),o.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function Jb({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=NT();return o.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:ai.border,background:"var(--nav, "+ai.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[o.jsx(Z4,{}),o.jsx(RT.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),o.jsx(eF,{}),o.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const bm={borderColor:"#2B4C73",background:"#1A2F4A"},Gd={borderColor:"#2B4C73",background:"#152A42"};function lr({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:l,right:c,children:d,rounded:f="rounded-3xl",padded:p=!0,centerFramed:g=!1,leftWidth:v=0,rightWidth:_=0,stickyRails:S=!0,mode:j="card",outerPadding:A="px-4 py-3",leftPlacement:C="inside",stickyTopbar:F=!0,stickySubheader:B=!0,shellViewportOffset:N="var(--app-topbar-h,72px)",topbarHeight:U=56}){const $={"--left":typeof v=="number"?`${v}px`:v,"--right":typeof _=="number"?`${_}px`:_},W=o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:bm,children:t}),(e||n||r)&&o.jsxs("div",{className:[F?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:bm,children:[o.jsxs("div",{className:"min-w-0",children:[e&&o.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&o.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?o.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&o.jsx("div",{className:[B?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...B?{top:F?`${U}px`:0}:{},...bm},children:i})]}),E=j==="card"?({children:I})=>o.jsx(Jb,{rounded:f,padded:p,children:I}):({children:I})=>o.jsx("div",{className:`w-full ${A}`,children:I}),T=o.jsx("div",{className:"relative min-h-0 h-full",style:$,children:o.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Gd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"}),g?o.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Gd,children:d}):o.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Gd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"})]})});return C==="bleed"&&j==="card"?o.jsx("div",{className:`w-full ${A}`,children:o.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[W,o.jsx("div",{className:"flex-1 min-h-0",style:$,children:o.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?o.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Gd,position:S?"sticky":"static",top:S?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?o.jsx("div",{}):o.jsx("div",{className:"hidden md:block"}),o.jsx(Jb,{rounded:f,padded:p,children:o.jsx("div",{className:"flex-1 min-h-0 h-full",children:T})})]})})]})}):o.jsx(E,{children:o.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${N})`},children:[W,o.jsx("div",{className:"flex-1 min-h-0",children:T})]})})}function tF(){return o.jsx(lr,{hex:o.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:o.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:o.jsx(nF,{}),right:o.jsx(rF,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsx(_m,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),o.jsx(_m,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),o.jsx(_m,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function nF(){return o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(wm,{to:"/dashboard/kpis",children:"KPIs"}),o.jsx(wm,{to:"/dashboard/activity",children:"Activity"}),o.jsx(wm,{to:"/dashboard/progression",children:"Progression"})]})]})}function rF(){return o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),o.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),o.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),o.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function _m({to:t,title:e,desc:n}){return o.jsxs(zn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[o.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?o.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function wm({to:t,children:e}){return o.jsx(zn,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function sF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard  KPIs"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Sm,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),o.jsx(Sm,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),o.jsx(Sm,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Sm({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),o.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function iF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard  Activity"}),o.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),o.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[o.jsx("li",{children:" Neues Scan-File hochgeladen"}),o.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),o.jsx("li",{children:" Gilden-Event geplant"})]})]})}function oF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Dashboard  Progression"}),o.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Tm,{title:"Scrapbook 100%",progress:72}),o.jsx(Tm,{title:"Fortress Ausbaustufe",progress:48}),o.jsx(Tm,{title:"Underworld Boss",progress:35})]})]})}function Tm({title:t,progress:e}){return o.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),o.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:o.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),o.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function aF(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Discover"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(Ba,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),o.jsx(Ba,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),o.jsx(Ba,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),o.jsx(Ba,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),o.jsx(Ba,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),o.jsx(Ba,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Ba({to:t,title:e,desc:n}){return o.jsxs(zn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function lF({children:t,framed:e=!0}){return e?o.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:ai.border,backgroundColor:ai.tile},children:t}):o.jsx("main",{className:"min-w-0",children:t})}function cF(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const uF=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:l,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:f=0,tryTransparentBg:p=!0})=>{const[g,v]=R.useState(!1),_=R.useMemo(()=>cF(t,p),[t,p]),S=i?"lazy":"eager",j={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},A={position:"relative",width:"100%",padding:f?`${f}px`:0,boxSizing:"border-box",background:"transparent"},C=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},F={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return o.jsx("div",{className:l,style:j,children:o.jsx("div",{style:A,children:o.jsxs("div",{style:C,children:[o.jsx("iframe",{src:_,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:S,scrolling:"no",title:"Heyzine Flipbook"}),c&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button","aria-label":"Info",onClick:()=>v(B=>!B),style:F,title:"Info",children:"i"}),g&&o.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",o.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},dF="#0C1C2E",hF=()=>o.jsx(lr,{children:o.jsx(lF,{children:o.jsxs("div",{style:{position:"relative",width:"100%"},children:[o.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:dF,borderRadius:16,pointerEvents:"none",zIndex:0}}),o.jsx("div",{style:{position:"relative",zIndex:1},children:o.jsx(uF,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),Ag=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(Ag.map(t=>[t.id,t]));const FT="TL_FILTERS_V2",Is={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function fF(){var t;try{const e=localStorage.getItem(FT);if(!e)return Is;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:Is.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:Is.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Is.filterMode;return{...Is,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:i,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Is.sortBy}}catch(e){return Is}}function pF(t){try{localStorage.setItem(FT,JSON.stringify(t))}catch(e){}}const VT=R.createContext(null);function mF({children:t}){const[e,n]=R.useState(()=>fF());R.useEffect(()=>{pF(e)},[e]);const r=U=>n($=>({...$,servers:Array.from(new Set(U))})),i=U=>n($=>{const W=new Set($.servers);return W.has(U)?W.delete(U):W.add(U),{...$,servers:Array.from(W)}}),l=()=>n(U=>({...U,servers:[]})),c=U=>n($=>({...$,classes:Array.from(new Set(U))})),d=U=>n($=>{const W=new Set($.classes);return W.has(U)?W.delete(U):W.add(U),{...$,classes:Array.from(W)}}),f=()=>n(U=>({...U,classes:[]})),p=U=>n($=>({...$,days:U})),g=U=>p(U),v=U=>n($=>({...$,sortBy:U||"level"})),_=U=>n($=>({...$,favoritesOnly:!!U})),S=U=>n($=>({...$,activeOnly:!!U})),j=U=>n($=>({...$,filterMode:U})),A=U=>n($=>({...$,listView:U})),C=U=>n($=>({...$,bottomFilterOpen:!!U})),F=U=>n($=>({...$,serverSheetOpen:!!U})),B=()=>n(Is),N=R.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:l,setClasses:c,toggleClass:d,clearClasses:f,setDays:p,setRange:g,setSortBy:v,setFavoritesOnly:_,setActiveOnly:S,setFilterMode:j,setListView:A,setBottomFilterOpen:C,setServerSheetOpen:F,resetFilters:B}),[e]);return o.jsx(VT.Provider,{value:N,children:t})}function mu(){const t=R.useContext(VT);return t||{...Is,range:Is.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const gF="_hudWrap_107o7_9",yF="_hudBtn_107o7_11",vF="_hudSubBtn_107o7_15",xF="_iconRow_107o7_19",bF="_segmented_107o7_21",_F="_sortLabel_107o7_27",wF="_sortSelect_107o7_29",SF="_chip_107o7_31",TF="_isActive_107o7_33",ir={hudWrap:gF,hudBtn:yF,hudSubBtn:vF,iconRow:xF,segmented:bF,sortLabel:_F,sortSelect:wF,chip:SF,isActive:TF};function EF({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:l}){const c=Math.round(i*.7),d=Le.useMemo(()=>{const F=[],B=qS(n,c*2,c*2,"contain");B&&F.push(B);const N=Vs(n,c*2);return N&&N!==B&&F.push(N),!F.length&&n&&F.push(n),F},[n,c]),[f,p]=Le.useState(0),[g,v]=Le.useState(!1),[_,S]=Le.useState(!1);Le.useEffect(()=>p(0),[d]);const j=d[f]||"",A={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(A.background="rgba(255,255,255,.04)"),t&&(A.outline="2px solid #5C8BC6");const C={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return o.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>S(!0),onBlur:()=>S(!1),style:A,children:j?o.jsx("img",{src:j,alt:e||"class",width:c,height:c,loading:"lazy",style:C,onError:()=>{p(F=>F+1<d.length?F+1:F)}}):o.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}function jF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:l,setSortBy:c,quickFav:d,setQuickFav:f,quickActive:p,setQuickActive:g,filterMode:v,setBottomFilterOpen:_,serverSheetOpen:S,setServerSheetOpen:j,resetAll:A}=mu();return o.jsxs("div",{className:ir.hudWrap,children:[o.jsxs("button",{type:"button",className:ir.hudBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),j(!0)},"aria-haspopup":"dialog","aria-expanded":S||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),o.jsxs("div",{className:ir.iconRow,children:[Xt.map(C=>o.jsx(EF,{active:e.includes(C.key),title:C.label,iconUrl:C.iconUrl,fallback:C.fallback,size:40,onClick:()=>n(F=>F.includes(C.key)?F.filter(B=>B!==C.key):[...F,C.key])},C.key)),o.jsx("button",{type:"button",className:ir.hudSubBtn,onClick:()=>n(Xt.map(C=>C.key)),children:"All"}),o.jsx("button",{type:"button",className:ir.hudSubBtn,onClick:()=>n([]),children:"None"})]}),o.jsx("div",{className:ir.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(C=>o.jsx("button",{type:"button","aria-pressed":r===C,onClick:()=>i(C),children:C},C))}),o.jsx("label",{className:ir.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),o.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:C=>c(C.target.value),className:ir.sortSelect,"aria-label":"Sort",children:[o.jsx("option",{value:"level",children:"Level"}),o.jsx("option",{value:"scrapbook",children:"Scrapbook"}),o.jsx("option",{value:"activity",children:"Activity"}),o.jsx("option",{value:"lastScan",children:"Last scan"})]}),o.jsx("button",{type:"button",className:`${ir.chip} ${d?ir.isActive:""}`,onClick:()=>f(C=>!C),children:" Favorites"}),o.jsx("button",{type:"button",className:`${ir.chip} ${p?ir.isActive:""}`,onClick:()=>g(C=>!C),children:" Active"}),o.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[o.jsx("button",{type:"button",className:ir.hudSubBtn,onClick:A,children:"Reset"}),v==="sheet"&&o.jsx("button",{type:"button",className:ir.hudBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const an={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function kF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:l,onSelectAllInRegion:c,onClearAll:d}){const[f,p]=R.useState(""),g=R.useRef(null),[v,_]=R.useState(null),[S,j]=R.useState(!1);R.useEffect(()=>{if(!t)return;const N=U=>{U.key==="Escape"&&e()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[t,e]),R.useEffect(()=>{if(t&&g.current){const N=g.current.querySelector("#sheet-serversearch");N==null||N.focus()}},[t]);const A=R.useMemo(()=>["EU","US","INT","Fusion"].every(U=>{var $;return!(($=r==null?void 0:r[U])!=null&&$.length)}),[r]);R.useEffect(()=>{if(!t||!A)return;let N=!0;return(async()=>{try{j(!0);const U=await hs(Ht(mt,"stats_public","toplists_bundle_v1"));if(!N)return;const $=U.data()||{},W=Array.isArray($.servers)?$.servers:JSON.parse($.servers||"[]");_(CF(W))}catch(U){_(null)}finally{N&&j(!1)}})(),()=>{N=!1}},[t,A]);const C=R.useMemo(()=>A?v!=null?v:{EU:[],US:[],INT:[],Fusion:[]}:r,[A,r,v]),F=R.useMemo(()=>Object.keys(C),[C]),B=N=>{const U=f.trim().toLowerCase();return U?N.toLowerCase().includes(U):!0};return t?o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:IF,onClick:N=>{N.target===N.currentTarget&&e()},children:o.jsxs("div",{ref:g,style:n==="modal"?BT:RF,className:"sf-server-sheet",children:[o.jsxs("div",{style:PF,children:[o.jsx("h2",{id:"server-dialog-title",style:NF,children:"Select servers"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{type:"button",onClick:d,style:Zb,children:"Clear"}),o.jsx("button",{type:"button",onClick:e,style:OF,children:"Done"})]})]}),o.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[o.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),o.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:f,onChange:N=>p(N.target.value),"aria-label":"Search servers",autoComplete:"off",style:MF})]}),o.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:F.map(N=>{const U=(C[N]||[]).filter(B);return o.jsxs("section",{"aria-labelledby":`region-${N}`,children:[o.jsxs("div",{style:LF,children:[o.jsxs("h3",{id:`region-${N}`,style:DF,children:[N," ",S&&A?o.jsx("span",{style:{marginLeft:6,fontSize:12,color:an.text2},children:"(loading)"}):null]}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{type:"button",style:Zb,onClick:()=>{c?c(N):U.filter(W=>!i.includes(W)).forEach(l)},children:"Select all"})})]}),o.jsxs("div",{style:FF,children:[U.map($=>{const W=i.includes($);return o.jsx("button",{type:"button",onClick:()=>l($),"aria-pressed":W,title:$,style:{...VF,...W?BF:null},children:$},$)}),U.length===0&&o.jsx("div",{style:{color:an.text2,fontSize:13,padding:"4px 2px"},children:S&&A?"Loading":"No servers found"})]})]},N)})})]})}):null}function CF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(AF)),e}function AF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const IF={position:"fixed",inset:0,background:an.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},BT={width:"min(900px, 100%)",background:an.tile,border:`1px solid ${an.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:an.text},RF={...BT,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},PF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},NF={fontSize:18,margin:0},DF={fontSize:14,margin:0,color:an.text2},MF={width:"100%",background:an.input,color:an.text,border:`1px solid ${an.line}`,borderRadius:12,padding:"10px 12px"},LF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},FF={display:"flex",flexWrap:"wrap",gap:8},VF={background:an.chip,border:`1px solid ${an.line}`,padding:"6px 10px",borderRadius:999,color:an.text},BF={outline:`2px solid ${an.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},OF={background:"#25456B",color:an.text,border:`1px solid ${an.accent}`,borderRadius:10,padding:"8px 12px"},Zb={background:"transparent",color:an.text,border:`1px solid ${an.line}`,borderRadius:10,padding:"8px 12px"},$F=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=$F,document.head.appendChild(e)}}const wn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function UF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:l,sortBy:c,setSortBy:d,quickFav:f,setQuickFav:p,quickActive:g,setQuickActive:v}=mu(),_=R.useRef(null);return R.useEffect(()=>{if(!t)return;const S=j=>{j.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),R.useEffect(()=>{if(t&&_.current){const S=_.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),t?o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:zF,onClick:S=>{S.target===S.currentTarget&&e()},children:o.jsxs("div",{ref:_,style:HF,children:[o.jsxs("div",{style:GF,children:[o.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:wn.text},children:"Filters"}),o.jsx("button",{type:"button",onClick:e,style:qF,children:"Done"})]}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),o.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:OT})]}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[o.jsx("span",{style:{color:wn.text2,fontSize:12},children:"Range"}),o.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(S=>o.jsx("button",{type:"button","aria-pressed":i===S,onClick:()=>l(S),style:{...Em,...i===S?jm:null},children:S},S))})]}),o.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[o.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:wn.text2,fontSize:12},children:"Sort"}),o.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:WF,children:[o.jsx("option",{value:"sum",children:"Base Sum"}),o.jsx("option",{value:"main",children:"Main Base Stat"}),o.jsx("option",{value:"constitution",children:"Constitution"}),o.jsx("option",{value:"level",children:"Level"}),o.jsx("option",{value:"delta",children:" Rank"}),o.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[o.jsx("button",{type:"button",onClick:()=>p(S=>!S),"aria-pressed":f,style:{...Em,...f?jm:null},children:" Favorites"}),o.jsx("button",{type:"button",onClick:()=>v(S=>!S),"aria-pressed":g,style:{...Em,...g?jm:null},children:" Active"})]})]})}):null}const zF={position:"fixed",inset:0,background:wn.backdrop,zIndex:60,display:"grid",alignItems:"end"},HF={background:wn.tile,borderTop:`1px solid ${wn.line}`,borderLeft:`1px solid ${wn.line}`,borderRight:`1px solid ${wn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:wn.text,maxHeight:"80vh",overflow:"auto"},GF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},OT={width:"100%",background:wn.input,color:wn.text,border:`1px solid ${wn.line}`,borderRadius:12,padding:"10px 12px"},WF={...OT,appearance:"none"},Em={background:"#14273E",border:`1px solid ${wn.line}`,padding:"6px 10px",borderRadius:999,color:wn.text},jm={outline:`2px solid ${wn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},qF={background:"#25456B",color:wn.text,border:`1px solid ${wn.accent}`,borderRadius:10,padding:"8px 12px"},KF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=KF,document.head.appendChild(e)}}function QF(){var i;const t=mu(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:o.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:o.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,d,f,p,g,v,_;return o.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[o.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),o.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),o.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",o.jsx("span",{style:{textTransform:"uppercase"},children:(f=l.class)!=null?f:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[o.jsx(km,{children:l.active?"Active":"Idle"}),l.favorite&&o.jsx(km,{children:" Fav"}),o.jsx(km,{children:`Scan ${(v=l.lastScanDays)!=null?v:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,d,f,p;return o.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",o.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:"","  Lv ",(f=l.level)!=null?f:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function km({children:t}){return o.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const $T=R.createContext(null),e_=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function YF(t,e){return t.timeRange===e.timeRange&&e_(t.servers,e.servers)&&e_(t.classes,e.classes)}function XF(t,e){return t.field===e.field&&t.dir===e.dir}function JF({children:t}){const[e,n]=R.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=R.useState({field:"Level",dir:"desc"}),[l,c]=R.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=R.useCallback(v=>{n(_=>{const S=typeof v=="function"?v(_):{..._,...v};return YF(_,S)?_:S})},[]),f=R.useCallback(v=>{i(_=>{const S=typeof v=="function"?v(_):v;return XF(_,S)?_:S})},[]),p=R.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);R.useEffect(()=>{let v=!1;return v||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{v=!0}},[p]);const g=R.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:f}),[l,e,r,d,f]);return o.jsx($T.Provider,{value:g,children:t})}function ZF(){const t=R.useContext($T);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function eV(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function tV(){const t=mu(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:f,servers:p,setServers:g,classes:v,range:_,sortBy:S}=t;return o.jsxs(o.Fragment,{children:[o.jsxs(lr,{mode:"card",title:"Top Lists",actions:o.jsx(rV,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?o.jsx(jF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[o.jsx(QF,{}),r==="table"&&o.jsx(JF,{db:mt,children:o.jsx(nV,{servers:p!=null?p:[],classes:v!=null?v:[],range:_!=null?_:"all",sortKey:S!=null?S:"level"})})]}),o.jsx(kF,{mode:"modal",open:d,onClose:()=>f(!1),serversByRegion:Ag,selected:p,onToggle:j=>g(A=>A.includes(j)?A.filter(C=>C!==j):[...A,j]),onSelectAllInRegion:j=>g(Ag[j]),onClearAll:()=>g([])}),o.jsx(UF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function nV({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:l,setSort:c}=ZF(),{loading:d,error:f,data:p,lastUpdated:g}=i;R.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),R.useEffect(()=>{const _=eV(r);c(_)},[r,c]);const v=_=>_==null?"":new Intl.NumberFormat("en").format(_);return o.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[o.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[o.jsxs("div",{children:[d?"Loading":f?"Error":"Ready","  ",p.length," rows"]}),o.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),f&&o.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[o.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),o.jsx("div",{style:{wordBreak:"break-all"},children:f}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{padding:"8px 6px"},children:"#"}),o.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),o.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),o.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),o.jsxs("tbody",{children:[p.map((_,S)=>{var j,A,C;return o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),o.jsx("td",{style:{padding:"8px 6px"},children:_[" Rank"]}),o.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),o.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),o.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Level)}),o.jsx("td",{style:{padding:"8px 6px"},children:(j=_.Guild)!=null?j:""}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Main)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Con)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_["Sum Base Stats"])}),o.jsx("td",{style:{padding:"8px 6px"},children:(A=_.Ratio)!=null?A:""}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Mine)}),o.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Treasury)}),o.jsx("td",{style:{padding:"8px 6px"},children:(C=_["Last Scan"])!=null?C:""}),o.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${S}`)}),d&&p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!f&&p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function rV(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:l}=mu();return o.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[o.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[o.jsx(t_,{to:"/toplists/players",label:"Players"}),o.jsx(t_,{to:"/toplists/guilds",label:"Guilds"})]}),o.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),o.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[o.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),o.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),o.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),o.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),o.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[o.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),o.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),o.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function t_({to:t,label:e}){return o.jsx(br,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const sV=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function iV(){return o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),sV.map(t=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[o.jsxs("div",{children:["#",t.rank]}),o.jsxs("div",{children:[t.name,"  ",t.server]}),o.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),o.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function oV(t="players"){const e=eo(),{search:n,pathname:r}=Er();return[new URLSearchParams(n).get("tab")||t,d=>{const f=new URLSearchParams(n);f.set("tab",d),e(`${r}?${f.toString()}`,{replace:!1})}]}function aV(){const[t,e]=oV("players");return o.jsx(mF,{children:t==="players"?o.jsx(tV,{tab:t,setTab:e}):o.jsx(iV,{tab:t,setTab:e})})}function lV(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players  Browse"})})}function cV(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players  Rankings"})})}function uV(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Players  Stats"})})}const st={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function n_({children:t,style:e}){return o.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function dV({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return o.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${st.tileAlt}, ${st.active})`,color:st.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${st.line}`},"aria-hidden":!0,children:n||"?"})}function hV({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||"");let l=Xt.find(p=>r(p.label)===i)||Xt.find(p=>r(p.label).startsWith(i)||i.startsWith(r(p.label)));const c=l?Vs(l.iconUrl,n*2):void 0,[d,f]=R.useState(!1);return!c||d?o.jsx(dV,{label:e,size:n}):o.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:o.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>f(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function Cm({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:st.tileAlt,border:`1px solid ${st.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{style:{fontSize:12,color:st.textSoft,marginBottom:4},children:t}),o.jsx("div",{style:{fontSize:22,color:st.title,fontWeight:700},children:e}),n?o.jsx("div",{style:{fontSize:12,color:st.textSoft,marginTop:4},children:n}):null]})}function fc({children:t}){return o.jsx("div",{style:{background:st.tileAlt,padding:15,borderRadius:12,border:`1px solid ${st.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Wd=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},fV=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},pV=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Am(){var C,F,B,N,U,$,W,E;const t=Og(),e=t.id||t.pid||t.playerId||t.player||"",n=eo(),[r,i]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState(null),[p,g]=R.useState("Statistiken");R.useEffect(()=>{let T=!1;async function I(){var D,M,V,L,fe,K,re,ne,Q,oe,ie,G,ee,ye,we,je,me,ke,Ae,Pe,nt,Dt,Jt,Vt;i(!0),c(null);try{const At=(e||"").trim();if(!At){c("Kein Spieler gewhlt."),i(!1);return}const Gn=Ht(mt,`players/${At}/latest/latest`),Wn=await hs(Gn);if(!Wn.exists()){c("Spieler nicht gefunden."),i(!1);return}const ot=Wn.data(),jr=(V=Wd((M=ot.level)!=null?M:(D=ot.values)==null?void 0:D.Level))!=null?V:null,qn=((K=(fe=ot.className)!=null?fe:(L=ot.values)==null?void 0:L.Class)!=null?K:null)||null,ln=((Q=(ne=ot.guildName)!=null?ne:(re=ot.values)==null?void 0:re.Guild)!=null?Q:null)||null,cn=(G=(ie=ot.name)!=null?ie:(oe=ot.values)==null?void 0:oe.Name)!=null?G:At,cr=(we=(ye=ot.server)!=null?ye:(ee=ot.values)==null?void 0:ee.Server)!=null?we:null,Kn=(ke=Wd((me=ot.totalStats)!=null?me:(je=ot.values)==null?void 0:je["Total Stats"]))!=null?ke:null,Qn=(Vt=Wd((Jt=(nt=(Ae=ot.values)==null?void 0:Ae.Album)!=null?nt:(Pe=ot.values)==null?void 0:Pe["Album %"])!=null?Jt:(Dt=ot.values)==null?void 0:Dt.AlbumPct))!=null?Vt:null,ur=fV(Wd(ot.timestamp));T||f({id:At,name:cn,className:qn,level:jr,guild:ln,server:cr,scrapbookPct:Qn,totalStats:Kn,lastScanDays:ur})}catch(At){T||c((At==null?void 0:At.message)||"Fehler beim Laden.")}finally{T||i(!1)}}return I(),()=>{T=!0}},[e]);const v=R.useMemo(()=>o.jsxs("div",{style:{padding:24,color:st.textSoft},children:[l!=null?l:"Unbekannter Fehler.",o.jsx("div",{style:{marginTop:12},children:o.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:st.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),_=o.jsx("div",{style:{padding:16,color:st.textSoft},children:"Lade Spielerprofil"}),S=o.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${st.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:pV.map(T=>{const I=T===p;return o.jsx("button",{role:"tab","aria-selected":I,onClick:()=>g(T),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${I?st.active:"transparent"}`,background:I?"rgba(45,78,120,0.35)":"transparent",color:st.title,cursor:"pointer"},children:T},T)})}),j=o.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&o.jsx(fc,{children:o.jsxs("div",{style:{color:st.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&o.jsx(fc,{children:o.jsxs("div",{style:{color:st.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),p==="Fortschritt"&&o.jsx(fc,{children:o.jsxs("div",{style:{color:st.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),p==="Vergleich"&&o.jsx(fc,{children:o.jsxs("div",{style:{color:st.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),p==="Historie"&&o.jsx(fc,{children:o.jsxs("div",{style:{color:st.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),A=r?_:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${st.line}`},children:o.jsxs(n_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[o.jsx(hV,{className:(C=d.className)!=null?C:void 0,label:d.name,size:36}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:18,color:st.title,fontWeight:700},children:d.name}),o.jsxs("div",{style:{fontSize:12,color:st.textSoft},children:[(F=d.className)!=null?F:"Klasse ?","  ",(B=d.guild)!=null?B:"","  ",(N=d.server)!=null?N:""]})]})]})}),o.jsxs(n_,{style:{paddingTop:12,paddingBottom:24},children:[o.jsxs("div",{style:{background:st.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${st.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{children:o.jsx("h2",{style:{margin:0,color:st.title,fontSize:24,fontWeight:800},children:d.name})}),o.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[o.jsxs("span",{style:{color:st.textSoft},children:["Zuletzt aktualisiert: ",(U=d.lastScanDays)!=null?U:0," Tag(e) her"]}),o.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[o.jsx(Cm,{label:"Level",value:($=d.level)!=null?$:"?"}),o.jsx(Cm,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),o.jsx(Cm,{label:"Gilde",value:(W=d.guild)!=null?W:"",hint:(E=d.server)!=null?E:""})]}),S,j]})]}):v;return o.jsx(lr,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:A})}function mV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(r_,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),o.jsx(r_,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function r_({to:t,title:e,desc:n}){return o.jsxs(zn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function gV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds  Rankings"}),o.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function yV(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Guilds  Stats"}),o.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function vV(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const xV={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function bV(t){var n;const e=vV(t);return(n=xV[e])!=null?n:null}function _V(t,e=128){const n=bV(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=TN(n),i=Vs(r,e);return{id:n,url:r,thumb:i,fallback:""}}function Xc(t,e=128){return _V(t,e).thumb}const Zo={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},ff=(t,e)=>({...t||{},...e||{}}),s_=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},wV=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),pn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function SV(t){var _,S,j,A,C,F,B,N;const e=pn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=pn(t==null?void 0:t.baseMain),r=pn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},l=pn(i==null?void 0:i.sumBaseTotal);if(l!=null)return l;const c=pn(i==null?void 0:i.main),d=pn(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const f=(t==null?void 0:t.values)||{},p=(S=(_=pn(f==null?void 0:f.SumBaseTotal))!=null?_:pn(f==null?void 0:f.sumBaseTotal))!=null?S:pn(f==null?void 0:f["Sum Base Total"]);if(p!=null)return p;const g=(C=(A=(j=pn(f==null?void 0:f.Main))!=null?j:pn(f==null?void 0:f.main))!=null?A:pn(f==null?void 0:f.BaseMain))!=null?C:pn(f==null?void 0:f.baseMain),v=(N=(B=(F=pn(f==null?void 0:f.Con))!=null?F:pn(f==null?void 0:f.con))!=null?B:pn(f==null?void 0:f.ConBase))!=null?N:pn(f==null?void 0:f.conBase);return g!=null&&v!=null?g+v:null}function Io(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function TV(t,e=56){if(!t)return;const n=Io(t),r=Xt.find(i=>Io(i.label)===n||Io(i.key)===n)||Xt.find(i=>Io(i.label).startsWith(n)||n.startsWith(Io(i.label))||Io(i.key).startsWith(n)||n.startsWith(Io(i.key)));return r?Vs(r.iconUrl,e):void 0}function EV({name:t,memberClass:e,online:n,theme:r=Zo}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=TV(e,56);return o.jsxs("div",{className:"relative",children:[l?o.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&o.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const jV={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},kV=({role:t})=>o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(jV[t]||""),children:t});function i_(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function CV(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function qd({label:t,value:e,theme:n=Zo}){return o.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[o.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),o.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function AV({member:t,theme:e,actions:n,extraKPIs:r}){var g,v,_,S,j,A,C,F,B;if(!t)return null;const i=ff(Zo,e),l=t,c=i_((v=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?v:null,(_=l.guildJoinedMs)!=null?_:null),d=i_((S=l.lastActivity)!=null?S:null,(j=l.lastActivityMs)!=null?j:typeof l.lastOnline=="number"?l.lastOnline:null),f=CV(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return o.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[o.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),o.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[o.jsx("div",{className:"shrink-0",children:o.jsx(EV,{name:t.name,memberClass:(F=(C=l.class)!=null?C:(A=l.values)==null?void 0:A.Class)!=null?F:null,online:l.online,theme:i})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),l.role&&o.jsx(kV,{role:l.role})]}),o.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",d]})]}),o.jsx("div",{className:"ml-auto",children:n})]}),o.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[o.jsx(qd,{label:"Level",value:(B=l.level)!=null?B:"",theme:i}),typeof l.scrapbook=="number"&&o.jsx(qd,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:i}),o.jsx(qd,{label:"Sum Base",value:f,theme:i}),o.jsx(qd,{label:"Total Stats",value:p,theme:i}),r]})]})}function Ro(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function IV(t,e=40){if(!t)return;const n=Ro(t);let r=Xt.find(i=>Ro(i.label)===n||Ro(i.key)===n)||Xt.find(i=>Ro(i.label).startsWith(n)||n.startsWith(Ro(i.label))||Ro(i.key).startsWith(n)||n.startsWith(Ro(i.key)));return r?Vs(r.iconUrl,e):void 0}function RV({name:t,memberClass:e,online:n,theme:r=Zo}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=IV(e,40);return o.jsxs("div",{className:"relative",children:[l?o.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&o.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const PV=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function NV({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const l=ff(Zo,i);return o.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[o.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),o.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[o.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,d)=>{var f,p,g;return o.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[o.jsx(RV,{name:c.name,memberClass:(g=(p=c.class)!=null?p:(f=c.values)==null?void 0:f.Class)!=null?g:null,online:c.online,theme:l}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),o.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),o.jsx("div",{className:"justify-self-end",children:o.jsx(PV,{role:c.role})}),r(c)]},c.id)})]})]})}function Po(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function DV(t,e=40){if(!t)return;const n=Po(t);let r=Xt.find(i=>Po(i.label)===n||Po(i.key)===n)||Xt.find(i=>Po(i.label).startsWith(n)||n.startsWith(Po(i.label))||Po(i.key).startsWith(n)||n.startsWith(Po(i.key)));return r?Vs(r.iconUrl,e):void 0}function MV({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const l=ff(Zo,i);return o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var _,S,j,A,C,F,B,N,U;const d=c,f=c.name.slice(0,2).toUpperCase(),p=DV((j=(S=d.class)!=null?S:(_=d.values)==null?void 0:_.Class)!=null?j:null,40),g=typeof d.level=="number"?d.level:typeof((A=d.values)==null?void 0:A.Level)=="number"?d.values.Level:"",v=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((C=d.values)==null?void 0:C.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return o.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p?o.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:$=>{const W=$.currentTarget.parentElement;W&&(W.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${f}</div>`)}}):o.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:f}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),o.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(N=(B=d.class)!=null?B:(F=d.values)==null?void 0:F.Class)!=null?N:"",d.server?`  ${d.server}`:""]})]}),o.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(U=d.role)!=null?U:""})]}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),o.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),v&&o.jsxs("div",{children:[o.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),o.jsx("div",{className:"font-semibold",style:{color:l.title},children:v})]})]}),o.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function LV({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:l,onSelect:c,renderActions:d,renderKPIs:f,theme:p}){var D;const g=R.useMemo(()=>ff(Zo,p),[p]),[v,_]=R.useState(e),[S,j]=R.useState(n),[A,C]=R.useState(r.key),[F,B]=R.useState(r.dir),[N,U]=R.useState((D=t[0])==null?void 0:D.id),$=l!=null?l:N,W=M=>{l||U(M);const V=t.find(L=>L.id===M);V&&c&&c(V)},E=R.useMemo(()=>{const M=S.trim().toLowerCase();return M?t.filter(V=>V.name.toLowerCase().includes(M)||V.class.toLowerCase().includes(M)||String(V.role).toLowerCase().includes(M)):t},[t,S]),T=R.useMemo(()=>{const M=F==="asc"?1:-1,V=L=>{var fe,K;switch(A){case"sumBaseStats":{const re=SV(L);return re==null?-1/0:re}case"totalStats":return(K=(fe=L.totalStats)!=null?fe:wV(L.baseStats))!=null?K:-1/0;default:return L[A]}};return[...E].sort((L,fe)=>{const K=V(L),re=V(fe);return K===re?0:K>re?M:-M})},[E,A,F]),I=R.useMemo(()=>T.find(M=>M.id===$)||T[0],[T,$]);return o.jsxs("div",{children:[i&&o.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),o.jsxs("select",{value:v,onChange:M=>_(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[o.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),o.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),o.jsx("input",{value:S,onChange:M=>j(M.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),o.jsxs("select",{value:String(A),onChange:M=>C(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[o.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),o.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),o.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),o.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),o.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),o.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),o.jsx("button",{onClick:()=>B(M=>M==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:F==="asc"?"":""})]})]}),o.jsx(AV,{member:I,actions:I&&(d?d(I):o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),o.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:I&&f?f(I):null,theme:g}),v==="list"?o.jsx(NV,{rows:T,selId:$,onSelect:W,theme:g,rightCols:M=>{var V;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-right text-sm",children:(V=M.level)!=null?V:""}),o.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:s_(M.lastOnline)})]})}}):o.jsx(MV,{rows:T,selId:$,onSelect:W,theme:g,footer:M=>o.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:o.jsxs("span",{children:["Last ",s_(M.lastOnline)]})})})]})}function FV({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:l,totalPower:c,activity7d:d,topClasses:f,tickerItems:p,href:g,onClick:v,className:_}){const S=NT(),j=R.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),L=Math.max(0,Math.floor(V/6e4));if(L<60)return`${L}m`;const fe=Math.floor(L/60);return fe<24?`${fe}h`:`${Math.floor(fe/24)}d`},[r]),A=Ec(0),C=Ec(0),F=Ec(0),B=Ec(0),N=zd(A,V=>Math.round(V).toString()),U=zd(C,V=>Math.round(V).toString()),$=zd(F,V=>Math.round(V).toLocaleString()),W=zd(B,V=>`${Math.round(V)}%`);R.useEffect(()=>{const V=S?0:.6;if(V===0){A.set(i),C.set(l),F.set(c!=null?c:0),B.set(d!=null?d:0);return}const L=[Hd(A,i,{duration:V}),Hd(C,l,{duration:V}),Hd(F,c!=null?c:0,{duration:V}),Hd(B,d!=null?d:0,{duration:V})];return()=>L.forEach(fe=>fe.stop())},[i,l,c,d,S]);const E=R.useRef(null);R.useEffect(()=>{if(S||!E.current)return;const V=E.current;let L=0,fe=0;const K=()=>{fe+=.016;const re=fe*14%140-20;V.style.setProperty("--s-x",`${re}%`),L=requestAnimationFrame(K)};return L=requestAnimationFrame(K),()=>cancelAnimationFrame(L)},[S]);const T={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},I=100,D=g?"a":"div",M=g?{href:g}:{onClick:v};return o.jsxs(D,{...M,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",_!=null?_:""].join(" "),style:{background:`linear-gradient(135deg, ${T.bgFrom}, ${T.bgTo})`},children:[o.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),o.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[o.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?o.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):o.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:o.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),o.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),j&&o.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:T.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${T.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",j]}),o.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${I}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),o.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${I}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${I}deg, transparent 0 46px, ${T.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),o.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[o.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[o.jsx("h3",{className:"truncate font-extrabold",style:{color:T.title,fontSize:22},children:t}),o.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:T.soft,border:`1px solid ${T.border}`},children:e})]}),o.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[o.jsx(Kd,{label:"Members",value:N}),o.jsx(Kd,{label:" Level",value:U}),o.jsx(Kd,{label:"Total Power",value:$}),typeof d=="number"&&o.jsx(Kd,{label:"Activity (7d)",value:W})]}),f!=null&&f.length?o.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:T.soft},children:"Top Classes"}),f.slice(0,3).map(V=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${T.border}`,color:T.text},children:[V.iconUrl?o.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):o.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:T.accent,opacity:.85}}),o.jsxs("span",{className:"text-xs",children:[V.key," ",o.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),p!=null&&p.length?o.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${T.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:o.jsx(VV,{items:p,muted:S,color:T.soft})}):null]})}function Kd({label:t,value:e}){return o.jsxs("div",{className:"relative z-10 min-w-0",children:[o.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),o.jsx(RT.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function VV({items:t,muted:e,color:n}){const r=R.useRef(null);return R.useEffect(()=>{if(e||!r.current)return;const i=r.current;let l=0,c=0;const d=()=>{l+=.016;const f=l*40%(i.scrollWidth+60);i.style.transform=`translateX(${-f}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),o.jsx("div",{className:"overflow-hidden",children:o.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,l)=>o.jsx("span",{className:"mx-6 text-xs align-middle",children:i},l))})})}const BV="_wrap_q5gkc_53",OV="_banner_q5gkc_59",$V="_bannerRowTop_q5gkc_61",UV="_bannerStripe_q5gkc_71",zV="_bannerTitle_q5gkc_79",HV="_bannerRowBottom_q5gkc_93",GV="_bannerSub_q5gkc_95",WV="_monthPickerWrap_q5gkc_101",qV="_monthPickerLabel_q5gkc_113",KV="_monthPicker_q5gkc_101",QV="_monthButton_q5gkc_131",YV="_monthButtonText_q5gkc_159",XV="_chev_q5gkc_161",JV="_monthList_q5gkc_165",ZV="_monthOption_q5gkc_195",e3="_monthBadge_q5gkc_221",t3="_gridRow_q5gkc_237",n3="_gridRowBottom_q5gkc_239",r3="_sideImage_q5gkc_253",s3="_sideImagePh_q5gkc_271",i3="_emblemPanel_q5gkc_275",o3="_emblemFrame_q5gkc_295",a3="_emblemImg_q5gkc_297",l3="_emblemPlaceholder_q5gkc_299",c3="_emblemShimmer_q5gkc_307",u3="_emblemCaption_q5gkc_315",d3="_card_q5gkc_319",h3="_cardHeader_q5gkc_331",f3="_cardTitle_q5gkc_339",p3="_cardSubtitle_q5gkc_341",m3="_headerRight_q5gkc_343",g3="_cardBody_q5gkc_345",y3="_tableWrap_q5gkc_349",v3="_tableTitle_q5gkc_351",x3="_table_q5gkc_349",b3="_th_q5gkc_355",_3="_td_q5gkc_355",w3="_tdEmpty_q5gkc_365",S3="_sectionDivider_q5gkc_375",T3="_sectionStripe_q5gkc_389",E3="_sectionTitle_q5gkc_397",Fe={wrap:BV,banner:OV,bannerRowTop:$V,bannerStripe:UV,bannerTitle:zV,bannerRowBottom:HV,bannerSub:GV,monthPickerWrap:WV,monthPickerLabel:qV,monthPicker:KV,monthButton:QV,monthButtonText:YV,chev:XV,monthList:JV,monthOption:ZV,monthBadge:e3,gridRow:t3,gridRowBottom:n3,sideImage:r3,sideImagePh:s3,emblemPanel:i3,emblemFrame:o3,emblemImg:a3,emblemPlaceholder:l3,emblemShimmer:c3,emblemCaption:u3,card:d3,cardHeader:h3,cardTitle:f3,cardSubtitle:p3,headerRight:m3,cardBody:g3,tableWrap:y3,tableTitle:v3,table:x3,th:b3,td:_3,tdEmpty:w3,sectionDivider:S3,sectionStripe:T3,sectionTitle:E3};function j3(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function o_(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const a_=({title:t,subtitle:e,children:n,rightBadge:r})=>o.jsxs("section",{className:Fe.card,children:[(t||e||r)&&o.jsxs("header",{className:Fe.cardHeader,children:[o.jsxs("div",{className:Fe.headerTitles,children:[t&&o.jsx("h3",{className:Fe.cardTitle,children:t}),e&&o.jsx("div",{className:Fe.cardSubtitle,children:e})]}),r&&o.jsx("div",{className:Fe.headerRight,children:r})]}),o.jsx("div",{className:Fe.cardBody,children:n})]}),l_=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return o.jsxs("div",{className:Fe.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&o.jsx("div",{className:Fe.tableTitle,children:t.title}),o.jsxs("table",{className:Fe.table,children:[o.jsx("thead",{children:o.jsx("tr",{children:e.map(l=>o.jsx("th",{className:Fe.th,style:{width:l.width},children:l.label},l.key))})}),o.jsx("tbody",{children:n.length===0?o.jsx("tr",{children:o.jsx("td",{className:Fe.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var d;return o.jsx("tr",{children:e.map(f=>{var _;const p=l[f.key],g=typeof p=="number"||typeof p=="string"?p:"",v=f.format==="num"?j3(g):g;return o.jsx("td",{className:Fe.td,"data-align":(_=f.align)!=null?_:"left",children:f.render?f.render(l):v},f.key)})},(d=l.id)!=null?d:c)})})]}),t.footer&&o.jsx("div",{className:Fe.tableFooter,children:t.footer})]})},k3=(t,e)=>{R.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},C3=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return o.jsx("div",{className:Fe.bannerSub,children:r!=null?r:""});const l=R.useRef(null),[c,d]=R.useState(!1);k3(l,()=>d(!1));const f=t.find(v=>v.key===e),p=f?`${o_(f.fromISO)}${o_(f.toISO)}  ${f.daysSpan}d${f.available?"":"  n/a"}`:void 0;return o.jsxs("div",{className:Fe.monthPickerWrap,children:[o.jsx("div",{className:Fe.monthPickerLabel,children:"Monat"}),o.jsxs("div",{className:Fe.monthPicker,ref:l,children:[o.jsxs("button",{type:"button",className:Fe.monthButton,onClick:()=>d(v=>!v),"aria-haspopup":"listbox","aria-expanded":c,children:[o.jsx("span",{className:Fe.monthButtonText,children:(g=f==null?void 0:f.label)!=null?g:""}),o.jsx("svg",{className:Fe.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&o.jsx("ul",{className:Fe.monthList,role:"listbox",children:t.map(v=>o.jsx("li",{children:o.jsx("button",{type:"button",className:Fe.monthOption,onClick:()=>{d(!1),n==null||n(v.key)},role:"option","aria-selected":v.key===e,children:v.label})},v.key))})]}),p&&o.jsx("span",{className:Fe.monthBadge,children:p})]})},A3=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>o.jsxs("div",{className:Fe.banner,children:[o.jsxs("div",{className:Fe.bannerRowTop,children:[o.jsx("div",{className:Fe.bannerStripe}),o.jsx("div",{className:Fe.bannerTitle,children:t}),o.jsx("div",{className:Fe.bannerStripe})]}),o.jsx("div",{className:Fe.bannerRowBottom,children:o.jsx(C3,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),I3=({emblemUrl:t,caption:e})=>o.jsxs("div",{className:Fe.emblemPanel,children:[o.jsxs("div",{className:Fe.emblemFrame,children:[t?o.jsx("img",{src:t,alt:"Guild Emblem",className:Fe.emblemImg}):o.jsx("div",{className:Fe.emblemPlaceholder,children:"Emblem"}),o.jsx("div",{className:Fe.emblemShimmer})]}),e&&o.jsx("div",{className:Fe.emblemCaption,children:e})]}),c_=({imgUrl:t,alt:e})=>o.jsx("div",{className:Fe.sideImage,children:t?o.jsx("img",{src:t,alt:e!=null?e:"side"}):o.jsx("div",{className:Fe.sideImagePh,children:"Image"})}),Im=({children:t,className:e})=>o.jsx("div",{className:`${Fe.gridRow} ${e!=null?e:""}`,children:t}),R3=({children:t})=>o.jsxs("div",{className:Fe.sectionDivider,children:[o.jsx("div",{className:Fe.sectionStripe}),o.jsx("div",{className:Fe.sectionTitle,children:t}),o.jsx("div",{className:Fe.sectionStripe})]}),P3=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:l}=t;return o.jsxs("div",{className:Fe.wrap,children:[o.jsx(A3,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),o.jsxs(Im,{children:[o.jsx(c_,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),o.jsx(I3,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),o.jsx(c_,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),o.jsx(Im,{children:i.map((c,d)=>o.jsx(a_,{title:c.title,subtitle:c.subtitle,children:o.jsx(l_,{block:c})},d))}),o.jsx(R3,{children:"Guild Overview"}),o.jsx(Im,{className:Fe.gridRowBottom,children:l.map((c,d)=>o.jsx(a_,{title:c.title,subtitle:c.subtitle,children:o.jsx(l_,{block:c})},d))})]})},N3=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState(void 0),p=R.useRef({}),[g,v]=R.useState(()=>Qd(e,n));R.useEffect(()=>{let S=!1;async function j(){var A,C,F,B,N;i(!0);try{const U=vy(mt,`guilds/${t}/history_monthly`),$=await oi(U),W=[];for(const I of $.docs){const D=I.id,M=I.data();if(!M)continue;p.current[D]=M;const V=(A=M==null?void 0:M.meta)!=null?A:{},L=V.fromISO||V.baselineISO||V.firstISO||"",fe=V.toISO||V.latestISO||V.nowISO||"",K=Number((C=V.daysSpan)!=null?C:Math.floor((+new Date(fe)-+new Date(L))/864e5))||0,re=!!((B=(F=M==null?void 0:M.status)==null?void 0:F.available)!=null?B:L&&fe&&K<=40),ne=V.label||new Date(D+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});W.push({key:D,label:ne,fromISO:L||new Date(D+"-01").toISOString(),toISO:fe||new Date(D+"-28").toISOString(),daysSpan:K,available:re,reason:re||(N=M==null?void 0:M.status)==null?void 0:N.reason})}if(W.sort((I,D)=>I.key<D.key?1:-1),S)return;if(W.length===0){c(null),f(void 0),v(Qd(e,n)),i(!1);return}c(W);const E=W[0].key;f(E);const T=p.current[E];v(u_(T,{guildName:e,guildServer:n,currentMonthKey:E,months:W}))}catch(U){console.error(U),c(null),f(void 0),v(Qd(e,n))}finally{S||i(!1)}}return j(),()=>{S=!0}},[t,e,n]);async function _(S){f(S);let j=p.current[S];if(!j)try{const A=Ht(mt,`guilds/${t}/history_monthly/${S}`),C=await hs(A);C.exists()?(j=C.data(),p.current[S]=j):j=null}catch(A){console.error(A),j=null}if(!j){v(Qd(e,n,{currentMonthKey:S,months:l!=null?l:void 0}));return}v(u_(j,{guildName:e,guildServer:n,currentMonthKey:S,months:l!=null?l:void 0}))}return o.jsx(P3,{data:g,onMonthChange:_})};function Qd(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Xc(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[No("Most Base Stats gained",e?`Server ${e}`:void 0),No("Sum Base Stats"),No("Highest Base Stats")],tablesBottom:[No("Main & Con"),No("Sum Base Stats"),No("Highest Base Stats"),No("Highest Total Stats")]}}function No(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function u_(t,e){var c,d,f,p,g,v,_,S;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Xc(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((j,A)=>{var C,F,B,N,U,$,W,E;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",level:(N=(B=j.levelLatest)!=null?B:j.level)!=null?N:null,base:($=(U=j.baseLatest)!=null?U:j.base)!=null?$:null,delta:(E=(W=j.baseDelta)!=null?W:j.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((f=t==null?void 0:t.sumBaseStats)!=null?f:[]).map((j,A)=>{var C,F,B,N,U,$,W;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",base:(B=j.base)!=null?B:null,stam:(U=(N=j.stamDelta)!=null?N:j.staminaDelta)!=null?U:null,sho:(W=($=j.shoDelta)!=null?$:j.shootingDelta)!=null?W:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((j,A)=>{var C,F,B,N,U;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",stats:(N=(B=j.stats)!=null?B:j.base)!=null?N:null,delta:(U=j.delta)!=null?U:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((j,A)=>{var C,F,B,N,U,$;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",class:(N=(B=j.class)!=null?B:j.className)!=null?N:"",stats:(U=j.stats)!=null?U:null,delta:($=j.delta)!=null?$:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((v=t==null?void 0:t.sumBaseStats)!=null?v:[]).map((j,A)=>{var C,F,B,N,U;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",base:(B=j.base)!=null?B:null,stam:(N=j.stamDelta)!=null?N:null,sho:(U=j.shoDelta)!=null?U:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((_=t==null?void 0:t.highestBaseStats)!=null?_:[]).map((j,A)=>{var C,F,B,N;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",stats:(B=j.stats)!=null?B:null,delta:(N=j.delta)!=null?N:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((S=t==null?void 0:t.highestTotalStats)!=null?S:[]).map((j,A)=>{var C,F,B,N;return{id:(C=j.playerId)!=null?C:A,rank:A+1,name:(F=j.name)!=null?F:"-",total:(B=j.total)!=null?B:null,delta:(N=j.delta)!=null?N:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:l}}const D3="_root_r1uj3_5",M3="_sectionDivider_r1uj3_17",L3="_sectionStripe_r1uj3_31",F3="_sectionTitle_r1uj3_33",pc={root:D3,sectionDivider:M3,sectionStripe:L3,sectionTitle:F3},V3="_root_4jywc_1",B3="_accent_4jywc_31",d_={root:V3,default:"_default_4jywc_29",accent:B3};function Zi({text:t,tone:e="default",className:n}){return o.jsx("div",{className:`${d_.root} ${d_[e]} ${n!=null?n:""}`.trim(),children:t})}const Yd=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function UT(t,e=64){if(!t)return;const n=Yd(t);let r=Xt.find(i=>Yd(i.label)===n);return r||(r=Xt.find(i=>Yd(i.label).startsWith(n)||n.startsWith(Yd(i.label)))),r?Vs(r.iconUrl,e):void 0}const O3="_card_vvv3s_3",$3="_wrap_vvv3s_31",U3="_divider_vvv3s_45",z3="_rows_vvv3s_77",H3="_row_vvv3s_77",G3="_left_vvv3s_109",W3="_label_vvv3s_111",q3="_avgHead_vvv3s_113",K3="_avgNum_vvv3s_115",Q3="_top3_vvv3s_121",Y3="_chip_vvv3s_123",X3="_badge_vvv3s_151",J3="_name_vvv3s_159",Z3="_score_vvv3s_161",eB="_headerSpacer_vvv3s_167",On={card:O3,wrap:$3,divider:U3,rows:z3,row:H3,left:G3,label:W3,avgHead:q3,avgNum:K3,top3:Q3,chip:Y3,badge:X3,name:J3,score:Z3,headerSpacer:eB};function tB({name:t,value:e,classLabel:n,colors:r}){const i=UT(n,64);return o.jsxs("div",{className:On.chip,children:[o.jsx("span",{className:On.badge,children:i?o.jsx("img",{src:i,alt:""}):null}),o.jsx("span",{className:On.name,children:t!=null?t:""}),o.jsx("span",{className:On.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function nB({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(f=>typeof f[d]=="number").sort((f,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=f[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return o.jsxs("div",{className:On.card,children:[o.jsx(Zi,{text:n}),o.jsx("div",{className:On.headerSpacer}),o.jsxs("div",{className:On.wrap,children:[o.jsx("div",{className:On.divider}),o.jsx("div",{className:On.rows,children:l.map((d,f)=>o.jsxs("div",{className:On.row,children:[o.jsxs("div",{className:On.left,children:[o.jsx("div",{className:On.label,children:d.label}),o.jsx("div",{className:On.avgHead,children:""}),o.jsx("div",{className:On.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),o.jsx("div",{className:On.top3,children:d.list.map((p,g)=>o.jsx(tB,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},f))})]})]})}const rB="_card_1enwc_1",sB="_wrap_1enwc_1",iB="_divider_1enwc_1",oB="_rows_1enwc_1",aB="_row_1enwc_1",lB="_left_1enwc_1",cB="_label_1enwc_1",uB="_avgHead_1enwc_1",dB="_avgNum_1enwc_1",hB="_top3_1enwc_1",fB="_chip_1enwc_1",pB="_badge_1enwc_1",mB="_name_1enwc_1",gB="_score_1enwc_1",yB="_headerSpacer_1enwc_1",$n={card:rB,wrap:sB,divider:iB,rows:oB,row:aB,left:lB,label:cB,avgHead:uB,avgNum:dB,top3:hB,chip:fB,badge:pB,name:mB,score:gB,headerSpacer:yB};function vB({name:t,value:e,classLabel:n,colors:r}){const i=UT(n,64);return o.jsxs("div",{className:$n.chip,children:[o.jsx("span",{className:$n.badge,children:i?o.jsx("img",{src:i,alt:""}):null}),o.jsx("span",{className:$n.name,children:t!=null?t:""}),o.jsx("span",{className:$n.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function xB({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(f=>typeof f[d]=="number").sort((f,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=f[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return o.jsxs("div",{className:$n.card,children:[o.jsx(Zi,{text:n}),o.jsx("div",{className:$n.headerSpacer}),o.jsxs("div",{className:$n.wrap,children:[o.jsx("div",{className:$n.divider}),o.jsx("div",{className:$n.rows,children:l.map((d,f)=>o.jsxs("div",{className:$n.row,children:[o.jsxs("div",{className:$n.left,children:[o.jsx("div",{className:$n.label,children:d.label}),o.jsx("div",{className:$n.avgHead,children:""}),o.jsx("div",{className:$n.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),o.jsx("div",{className:$n.top3,children:d.list.map((p,g)=>o.jsx(vB,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},f))})]})]})}function bB({guild:t,snapshot:e,colors:n}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Zi,{text:"General Info"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function _B({colors:t}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Zi,{text:"Fortress"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function wB({colors:t}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Zi,{text:"Rankings"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function SB({colors:t}){return o.jsxs("div",{style:{background:"transparent"},children:[o.jsx(Zi,{text:"Serververgleich"}),o.jsx("div",{style:{height:6}}),o.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const TB=R.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const l=i.icon,c=({text:d})=>o.jsxs("div",{className:pc.sectionDivider,children:[o.jsx("div",{className:pc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),o.jsx("div",{className:pc.sectionTitle,style:{color:i.soft},children:d}),o.jsx("div",{className:pc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return o.jsxs("div",{className:pc.root+" space-y-4",children:[o.jsx(c,{text:"GUILD OVERVIEW"}),o.jsx("div",{style:{marginTop:6,marginBottom:10},children:o.jsx(c,{text:"AVERAGE PLAYER STATS"})}),o.jsx(bB,{guild:e,snapshot:n,colors:i}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[o.jsx(nB,{snapshot:n,colors:i}),o.jsx(xB,{snapshot:n,colors:i})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[o.jsx(_B,{colors:i}),o.jsx(wB,{colors:i})]}),o.jsx("div",{className:"mt-4",children:o.jsx(SB,{colors:i})})]})}),EB="_wrapper_zqchq_3",jB="_grid_zqchq_9",kB="_tile_zqchq_13",CB="_disabled_zqchq_37",AB="_crestWrap_zqchq_41",IB="_crest_zqchq_41",RB="_ring_zqchq_53",PB="_badge_zqchq_55",NB="_meta_zqchq_67",DB="_nameRow_zqchq_69",MB="_name_zqchq_69",LB="_share_zqchq_73",FB="_sub_zqchq_75",VB="_tileButton_zqchq_79",BB="_donutCard_zqchq_85",OB="_donutHeader_zqchq_87",$B="_legend_zqchq_91",UB="_legendItem_zqchq_93",zB="_legendSwatch_zqchq_95",HB="_legendRight_zqchq_97",GB="_centerLabel_zqchq_101",jt={wrapper:EB,grid:jB,tile:kB,disabled:CB,crestWrap:AB,crest:IB,ring:RB,badge:PB,meta:NB,nameRow:DB,name:MB,share:LB,sub:FB,tileButton:VB,donutCard:BB,donutHeader:OB,legend:$B,legendItem:UB,legendSwatch:zB,legendRight:HB,centerLabel:GB},Ig=56;function Mh(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function h_(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const WB=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function qB(t){return t?/drive\.google\.com/.test(t):!1}function f_(t,e=Ig){if(t)return qB(t)?Vs(t,e):t}function KB(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function QB(t){var g,v,_,S,j,A;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,i=(v=e.label)!=null?v:n.name,l=(S=(_=n.crestUrl)!=null?_:e.iconUrl)!=null?S:n.iconUrl,c=(j=e.iconUrl)!=null?j:n.iconUrl,d=(A=e.fallback)!=null?A:n.fallback;if(!r||!i)return null;const f=f_(l,Ig),p=f_(c,Ig);return{id:r,name:String(i),crestUrl:f||p,iconUrl:p||f,fallback:d?String(d):void 0}}function zT(t,e){var g,v,_,S,j,A,C,F,B,N,U,$,W,E,T,I,D,M,V,L,fe;const n={},r={},i={},l={},c=e.map(K=>K.id);for(const K of c)n[K]=0,r[K]=0,i[K]=0,l[K]=null;for(const K of Array.isArray(t)?t:[]){const re=($=(N=(F=(A=(S=(_=(v=(g=K.classId)!=null?g:K.class)!=null?v:K.klass)!=null?_:K.playerClass)!=null?S:K.cls)!=null?A:(j=K.values)==null?void 0:j.Class)!=null?F:(C=K.values)==null?void 0:C.class)!=null?N:(B=K.values)==null?void 0:B.Klasse)!=null?$:(U=K.values)==null?void 0:U.klasse,ne=KB(re);if(!ne||!c.includes(ne))continue;n[ne]+=1;const Q=WB((I=(E=K.level)!=null?E:(W=K.values)==null?void 0:W.Level)!=null?I:(T=K.values)==null?void 0:T.level);Q!=null&&(r[ne]+=Q,i[ne]+=1,(!l[ne]||((M=(D=l[ne])==null?void 0:D.level)!=null?M:-1/0)<Q)&&(l[ne]={id:K.id,name:(fe=(L=K.name)!=null?L:(V=K.values)==null?void 0:V.Name)!=null?fe:null,level:Q}))}const d=Object.values(n).reduce((K,re)=>K+re,0),f={},p={};return c.forEach(K=>{f[K]=d>0?n[K]/d*100:0,p[K]=i[K]>0?r[K]/i[K]:null}),{counts:n,shares:f,avg:p,top:l}}const YB=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return o.jsxs("svg",{className:jt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[o.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),o.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},XB=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=R.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:f,avg:p,top:g}=R.useMemo(()=>zT(l,c),[l,c]);return o.jsx("section",{className:jt.wrapper,children:o.jsx("div",{className:jt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(v=>{var B,N,U;const _=(B=d[v.id])!=null?B:0,S=(N=f[v.id])!=null?N:0,j=p[v.id],A=g[v.id],C=_<=0,F=r[v.id]?void 0:v.crestUrl||v.iconUrl;return o.jsxs("div",{className:`${jt.tile} ${C?jt.disabled:""}`,title:C?`${v.name}: kein Mitglied`:`${v.name}  ${h_(_)}  ${Mh(S)}${j?`   ${j.toFixed(1)}`:""}`,children:[o.jsxs("div",{className:jt.crestWrap,children:[F?o.jsx("img",{className:jt.crest,src:F,alt:v.name,onError:()=>i($=>({...$,[v.id]:!0}))}):o.jsx("div",{className:jt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(U=v.fallback)!=null?U:""}),o.jsx(YB,{valuePct:S}),o.jsx("div",{className:jt.badge,children:h_(_)})]}),o.jsxs("div",{className:jt.meta,children:[o.jsxs("div",{className:jt.nameRow,children:[o.jsx("div",{className:jt.name,children:v.name}),o.jsx("div",{className:jt.share,children:Mh(S)})]}),o.jsxs("div",{className:jt.sub,children:[j?` Lvl ${j.toFixed(1)}`:"",A?`  Top: ${A.name}${A.level?` (Lv ${A.level})`:""}`:""]})]}),!C&&n&&o.jsx("button",{className:jt.tileButton,onClick:()=>n(v.id),"aria-label":`${v.name} filtern`})]},v.id)})})})},JB=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:l}=R.useMemo(()=>zT(n,r),[n,r]),c=R.useMemo(()=>Object.values(l).reduce((d,f)=>d+f,0),[l]);return o.jsxs("div",{className:jt.donutCard,children:[o.jsxs("div",{className:jt.donutHeader,children:[o.jsx("div",{children:"Klassen-Verteilung"}),o.jsxs("div",{className:jt.legendRight,children:["Gesamt: ",c]})]}),o.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[o.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[o.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const v=Math.PI*2,_=r.map((j,A)=>{var C;return{id:j.id,pct:(C=i[j.id])!=null?C:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*A)} 60% 55%)`}});let S=0;return _.map(j=>{const A=(j.pct||0)/100;if(A<=0)return null;const C=S,F=S+v*A;S=F;const B=F-C>Math.PI?1:0,N=130+100*Math.cos(C),U=130+100*Math.sin(C),$=130+100*Math.cos(F),W=130+100*Math.sin(F),E=130+64*Math.cos(F),T=130+64*Math.sin(F),I=130+64*Math.cos(C),D=130+64*Math.sin(C),M=`M ${N} ${U} A 100 100 0 ${B} 1 ${$} ${W} L ${E} ${T} A 64 64 0 ${B} 0 ${I} ${D} Z`;return o.jsx("path",{d:M,fill:j.color,opacity:.95},j.id)})})()]}),o.jsx("div",{className:jt.legend,children:r.map((d,f)=>{var v,_;const p=(v=i[d.id])!=null?v:0,g=(_=l[d.id])!=null?_:0;return o.jsxs("div",{className:jt.legendItem,title:`${d.name}: ${g}  ${Mh(p)}`,children:[o.jsx("span",{className:jt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*f)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),o.jsx("span",{children:d.name}),o.jsxs("span",{className:jt.legendRight,children:[g,"  ",Mh(p)]})]},d.id)})})]}),o.jsx("div",{className:jt.centerLabel,children:"Anteile je Klasse"})]})},zt={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},Rm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},ZB=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function HT({title:t,right:e,children:n}){return o.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:zt.tile,border:`1px solid ${zt.line}`},children:[(t||e)&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:zt.line},children:[o.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:zt.soft},children:t}),e]}),o.jsx("div",{className:"p-4",children:n})]})}function mc({k:t,v:e}){return o.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[o.jsx("span",{className:"opacity-80",children:t}),o.jsx("span",{className:"font-semibold",style:{color:zt.title},children:e})]})}function e6({guild:t}){var n,r;const e=Xc(t.name,800);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:o.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?o.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):o.jsx("div",{className:"text-6xl",children:""})})}),o.jsx(HT,{title:"GILDEN INFO",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsx(mc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),o.jsx(mc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),o.jsx(mc,{k:"Server",v:(r=t.server)!=null?r:""}),o.jsx(mc,{k:"Inaktiv",v:"0"}),o.jsx(mc,{k:"Aktivitt",v:"100%"})]})})]})}function Pm(){var A,C,F,B,N,U,$,W,E;const t=Og(),e=t.id||t.gid||t.guildId||t.guild||"",n=eo(),[r,i]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState(null),[p,g]=R.useState(null),[v,_]=R.useState("grid"),S=R.useMemo(()=>(Array.isArray(Xt)?Xt:[]).map(QB).filter(Boolean),[]);if(R.useEffect(()=>{let T=!1;async function I(){var D,M,V,L,fe,K,re,ne,Q,oe,ie,G,ee,ye,we,je,me,ke,Ae,Pe,nt,Dt,Jt,Vt,At,Gn,Wn,ot,jr,qn,ln,cn,cr,Kn,Qn,ur,ut;i(!0),c(null);try{const Ye=e.trim();if(!Ye){c("Keine Gilde gewhlt."),i(!1);return}const Yn=Ht(mt,`guilds/${Ye}/latest/latest`),Hr=await hs(Yn);if(!Hr.exists()){c("Gilde nicht gefunden."),i(!1);return}const at=Hr.data(),kr=(V=(M=at.name)!=null?M:(D=at.values)==null?void 0:D.Name)!=null?V:Ye,Cr=(K=(fe=at.server)!=null?fe:(L=at.values)==null?void 0:L.Server)!=null?K:null,ms=(ie=Rm((oe=(ne=at.memberCount)!=null?ne:(re=at.values)==null?void 0:re["Guild Member Count"])!=null?oe:(Q=at.values)==null?void 0:Q.GuildMemberCount))!=null?ie:null,gs=(Pe=Rm((Ae=(me=(we=(ee=at.hofRank)!=null?ee:(G=at.values)==null?void 0:G["Hall of Fame Rank"])!=null?we:(ye=at.values)==null?void 0:ye.HoF)!=null?me:(je=at.values)==null?void 0:je.Rank)!=null?Ae:(ke=at.values)==null?void 0:ke["Guild Rank"]))!=null?Pe:null,ys=ZB(Rm(at.timestamp));T||f({id:Ye,name:kr,server:Cr,memberCount:ms,hofRank:gs,lastScanDays:ys});const vs=Ht(mt,`guilds/${Ye}/snapshots/members_summary`),dr=await hs(vs);if(dr.exists()&&!T){const dt=dr.data(),Gr={guildId:String((nt=dt.guildId)!=null?nt:Ye),updatedAt:String((Vt=(Jt=dt.updatedAt)!=null?Jt:(Dt=at.values)==null?void 0:Dt.Timestamp)!=null?Vt:""),updatedAtMs:Number((Gn=(At=dt.updatedAtMs)!=null?At:at.timestamp*1e3)!=null?Gn:0),count:Number((Wn=dt.count)!=null?Wn:0),hash:String((ot=dt.hash)!=null?ot:""),avgLevel:(jr=dt.avgLevel)!=null?jr:null,avgTreasury:(qn=dt.avgTreasury)!=null?qn:null,avgMine:(ln=dt.avgMine)!=null?ln:null,avgBaseMain:(cn=dt.avgBaseMain)!=null?cn:null,avgConBase:(cr=dt.avgConBase)!=null?cr:null,avgSumBaseTotal:(Kn=dt.avgSumBaseTotal)!=null?Kn:null,avgAttrTotal:(Qn=dt.avgAttrTotal)!=null?Qn:null,avgConTotal:(ur=dt.avgConTotal)!=null?ur:null,avgTotalStats:(ut=dt.avgTotalStats)!=null?ut:null,members:Array.isArray(dt.members)?dt.members:[]};g(Gr)}}catch(Ye){T||c((Ye==null?void 0:Ye.message)||"Fehler beim Laden.")}finally{T||i(!1)}}return I(),()=>{T=!0}},[e]),R.useMemo(()=>{var T;return(T=p==null?void 0:p.members)!=null?T:[]},[p]),r)return o.jsx(lr,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:o.jsx("div",{className:"text-sm",style:{color:zt.soft},children:"Lade Gildenprofil"})});if(!d)return o.jsx(lr,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:o.jsxs("div",{className:"text-sm",style:{color:zt.soft},children:[l!=null?l:"Unbekannter Fehler.",o.jsx("div",{className:"mt-3",children:o.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const j=o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${zt.line}`,position:"relative",zIndex:2},children:[o.jsx("div",{className:"min-w-[120px]",children:o.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:zt.tile,border:`1px solid ${zt.line}`,color:zt.title},children:(A=d.server)!=null?A:"S?.EU"})}),o.jsx("div",{className:"flex-1 text-center",children:o.jsx("div",{className:"font-extrabold",style:{color:zt.title,fontSize:26,lineHeight:1.15},children:d.name})}),o.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:zt.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",o.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),o.jsx("div",{style:{height:1,background:zt.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return o.jsxs(lr,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[j,o.jsx("div",{className:"px-6 pb-8",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[o.jsx("div",{className:"col-span-12 md:col-span-3",children:o.jsx(e6,{guild:d})}),o.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[o.jsx(TB,{guild:d,snapshot:p,emblemUrl:Xc(d.name,512)||void 0,colors:zt}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-[980px]",children:o.jsx(FV,{guildName:d.name,server:(C=d.server)!=null?C:"",emblemUrl:Xc(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(F=d.memberCount)!=null?F:0,avgLevel:(B=p==null?void 0:p.avgLevel)!=null?B:0,totalPower:(N=p==null?void 0:p.avgTotalStats)!=null?N:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(U=d.memberCount)!=null?U:0}`]:void 0})})}),o.jsx(t6,{members:($=p==null?void 0:p.members)!=null?$:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),o.jsxs("div",{className:"col-span-12 md:col-span-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("button",{onClick:()=>_("grid"),"aria-label":"Klassenbersicht",children:o.jsx(Zi,{text:"Klassenbersicht",tone:v==="grid"?"accent":"default"})}),o.jsx("button",{onClick:()=>_("donut"),"aria-label":"Klassenverteilung",children:o.jsx(Zi,{text:"Klassenverteilung",tone:v==="donut"?"accent":"default"})})]}),v==="grid"?o.jsx(XB,{data:(W=p==null?void 0:p.members)!=null?W:[],classMeta:S,onPickClass:T=>{const I=new URL(window.location.href);I.searchParams.set("tab","bersicht"),I.searchParams.set("class",T),window.location.href=I.toString()}}):o.jsx(JB,{data:(E=p==null?void 0:p.members)!=null?E:[],classMeta:S})]})]})})]})}function t6({members:t,guildId:e,guildName:n,guildServer:r}){const[i,l]=R.useState("bersicht");return o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:zt.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return o.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?zt.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:zt.title},children:c},c)})}),o.jsxs(HT,{children:[i==="bersicht"&&o.jsx(LV,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&o.jsxs("div",{className:"text-sm",style:{color:zt.soft},children:["Platzhalter ",o.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&o.jsx(N3,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&o.jsxs("div",{className:"text-sm",style:{color:zt.soft},children:["Platzhalter ",o.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function n6(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsx(p_,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),o.jsx(p_,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function p_({to:t,title:e,desc:n}){return o.jsxs(zn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?o.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function r6(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers  Rankings"}),o.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function s6(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Servers  Stats"}),o.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const rn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function m_({children:t,style:e}){return o.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function i6({size:t=36}){return o.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:o.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function Oa({label:t,value:e}){return o.jsxs("div",{style:{background:rn.tileAlt,border:`1px solid ${rn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsx("div",{style:{fontSize:12,color:rn.textSoft,marginBottom:4},children:t}),o.jsx("div",{style:{fontSize:22,color:rn.title,fontWeight:700},children:e})]})}function o6(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const f=d[1],p=String(parseInt(d[2],10)),g=f==="EU"?"eu":f==="US"?"us":f==="AM"?"net":f.toLowerCase();c=`s${p}.sfgame.${g}`}return Array.from(new Set([e,n,r,i,l,c].filter(Boolean)))}function Nm(){var A,C,F,B;const t=Og(),e=eo(),n=Er(),r=t.id||t.sid||t.serverId||t.server||"",[i,l]=R.useState(!0),[c,d]=R.useState(null),[f,p]=R.useState(null),[g,v]=R.useState(null);R.useEffect(()=>{let N=!1;async function U(){l(!0),d(null),p(null),v(null);try{const $=r.trim();if(!$)throw new Error("Kein Server gewhlt.");const W=Ht(mt,`servers/${$}`),E=await hs(W);if(E.exists()){N||(p(E.id),v(E.data()));return}const T=vy(mt,"servers"),I=o6($),D=[];for(const fe of I)D.push(oi(zi(T,oh("code","==",fe),Hi(1)))),D.push(oi(zi(T,oh("displayName","==",fe),Hi(1)))),D.push(oi(zi(T,oh("host","==",fe),Hi(1))));const M=await Promise.allSettled(D);let V=null,L=null;for(const fe of M){if(fe.status!=="fulfilled")continue;const K=fe.value;if(!K.empty){const re=K.docs[0];V=re.id,L=re.data();break}}if(!V||!L)throw new Error("Server nicht gefunden.");N||(p(V),v(L),V!==$&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch($){N||d(($==null?void 0:$.message)||"Fehler beim Laden.")}finally{N||l(!1)}}return U(),()=>{N=!0}},[r,e,n.pathname]);const _=R.useMemo(()=>o.jsxs("div",{style:{padding:24,color:rn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",o.jsx("div",{style:{marginTop:12},children:o.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:rn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return o.jsx(lr,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:o.jsx("div",{style:{padding:16,color:rn.textSoft},children:"Lade Serverprofil"})});if(!g)return o.jsx(lr,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:_});const S=g.displayName||g.code||f||r,j=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return o.jsxs(lr,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[o.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${rn.line}`},children:o.jsxs(m_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[o.jsx(i6,{size:36}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:18,color:rn.title,fontWeight:700},children:S}),o.jsxs("div",{style:{fontSize:12,color:rn.textSoft},children:[g.host||"","  ",g.region||"","  ",((A=g.type)==null?void 0:A.toUpperCase())||""]})]})]})}),o.jsxs(m_,{style:{paddingTop:12,paddingBottom:24},children:[o.jsxs("div",{style:{background:rn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${rn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,color:rn.title,fontSize:24,fontWeight:800},children:S}),o.jsxs("div",{style:{marginTop:6,color:rn.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((C=g.type)==null?void 0:C.toUpperCase())||""]})]}),o.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[o.jsxs("span",{style:{color:rn.textSoft},children:["Status: ",j]}),o.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[o.jsx(Oa,{label:"Code",value:g.code||""}),o.jsx(Oa,{label:"Host",value:g.host||""}),o.jsx(Oa,{label:"Region",value:g.region||""}),o.jsx(Oa,{label:"Typ",value:((F=g.type)==null?void 0:F.toUpperCase())||""}),o.jsx(Oa,{label:"Numeric ID",value:(B=g.numericId)!=null?B:""}),o.jsx(Oa,{label:"Status",value:j})]}),o.jsxs("div",{style:{marginTop:16,background:rn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${rn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:rn.textSoft},children:["Platzhalter ",o.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const a6="_wrap_k6pqt_1",l6="_centerLogoWrap_k6pqt_21",c6="_centerLogoLink_k6pqt_37",u6="_centerLogo_k6pqt_21",d6="_arc_k6pqt_55",h6="_left_k6pqt_57",f6="_right_k6pqt_59",p6="_sub_k6pqt_61",m6="_full_k6pqt_63",g6="_arcItem_k6pqt_65",y6="_iconBtn_k6pqt_71",v6="_active_k6pqt_125",x6="_iconImg_k6pqt_135",b6="_placeholderIcon_k6pqt_139",_6="_placeholderText_k6pqt_157",w6="_iconLabel_k6pqt_161",xn={wrap:a6,centerLogoWrap:l6,centerLogoLink:c6,centerLogo:u6,arc:d6,left:h6,right:f6,sub:p6,full:m6,arcItem:g6,iconBtn:y6,active:v6,iconImg:x6,placeholderIcon:b6,placeholderText:_6,iconLabel:w6},S6=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Er();let l=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),f=c.get("sub"),p=c.get("sub2"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),_=g.get("sub"),S=g.get("sub2");r==="main"?l=d===v:r==="sub"?l=d===v&&!!_&&f===_:l=d===v&&!!_&&f===_&&!!S&&p===S}catch(c){l=!1}return o.jsxs(zn,{to:t,"aria-label":e,className:[xn.iconBtn,l?xn.active:""].join(" "),title:e,replace:!1,children:[n?o.jsx("img",{src:n,alt:"",className:xn.iconImg}):o.jsx("div",{className:xn.placeholderIcon,"aria-hidden":"true",children:o.jsx("span",{className:xn.placeholderText,children:e.slice(0,2).toUpperCase()})}),o.jsx("div",{className:xn.iconLabel,children:e})]})},Xd=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:l=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const f=R.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,_=90;e==="left"?(v=90,_=270):e==="sub"||e==="sub2"?n==="left"?(v=90,_=270):(v=-90,_=90):e==="full"&&(v=0,_=360);const S=(_-v)/(g+1),j=r?190:250;return t.map((A,C)=>{const B=(v+S*(C+1))*Math.PI/180;return{it:A,x:Math.cos(B)*j,y:Math.sin(B)*j}})},[t,e,n,r]),p=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${l}px)`:e==="right"?g.left=`calc(50% + ${l}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})();return o.jsx("div",{className:[xn.arc,e==="left"?xn.left:"",e==="right"?xn.right:"",e==="sub"?xn.sub:"",e==="sub2"?xn.sub2:"",e==="full"?xn.full:""].join(" "),style:p,children:f.map(({it:g,x:v,y:_})=>o.jsx("div",{className:xn.arcItem,style:{transform:`translate(${v}px, ${_}px)`},children:o.jsx(S6,{to:g.to,label:g.label,icon:g.icon,variant:e==="left"||e==="right"?"main":e})},g.key))})},T6=({logoSrc:t,categories:e})=>{const[n]=Bh(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const l=R.useMemo(()=>e.find(N=>N.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],d=R.useMemo(()=>c.find(N=>N.key===i)||null,[c,i]),f=(d==null?void 0:d.sub2)||[],p=l==null?void 0:l.side,g=R.useRef(null),[v,_]=R.useState(!1),[S,j]=R.useState(220),[A,C]=R.useState(440),[F,B]=R.useState(660);return R.useLayoutEffect(()=>{(()=>{var D,M;const $=((M=(D=g.current)==null?void 0:D.getBoundingClientRect().width)!=null?M:380)/2,E=Math.round($+60),T=Math.round(E+220),I=Math.round(T+220);j(E),C(T),B(I),_(!0)})()},[]),R.useEffect(()=>{let N=0,U=null,$={main:S,out:A,sup:F};const W=()=>{U!=null&&window.clearTimeout(U),U=window.setTimeout(()=>{N=requestAnimationFrame(()=>{var re,ne;const T=((ne=(re=g.current)==null?void 0:re.getBoundingClientRect().width)!=null?ne:380)/2,D=Math.round(T+60),M=Math.round(D+220),V=Math.round(M+220),L=Math.abs(D-$.main),fe=Math.abs(M-$.out),K=Math.abs(V-$.sup);L>1&&j(D),fe>1&&C(M),K>1&&B(V),$={main:D,out:M,sup:V}})},120)};return window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W),U!=null&&window.clearTimeout(U),N&&cancelAnimationFrame(N)}},[S,A,F]),o.jsxs("div",{className:xn.wrap,children:[o.jsx("div",{className:xn.centerLogoWrap,children:o.jsx(zn,{to:"/guidehub",className:xn.centerLogoLink,"aria-label":"Guide Hub Home",children:o.jsx("img",{ref:g,src:t,alt:"Guide Hub",className:xn.centerLogo})})}),v&&o.jsxs(o.Fragment,{children:[o.jsx(Xd,{items:e.filter(N=>N.side==="left").map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"left",variant:"main",arcOffset:S}),o.jsx(Xd,{items:e.filter(N=>N.side==="right").map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"right",variant:"main",arcOffset:S}),p&&c.length>0&&o.jsx(Xd,{items:c.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:A,compact:!0}),p&&f.length>0&&o.jsx(Xd,{items:f.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:F,compact:!0})]})]})},E6=[{key:"fortress",label:"Fortress",to:"/guidehub?tab=fortress",side:"left",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=fortress&sub=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=fortress&sub=fortress-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=fortress&sub=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=fortress&sub=fortress-attack-duplication"}]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=underworld",side:"left",sub:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=underworld&sub=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=underworld&sub=underworld-pro-package-skip-order"}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"arenaam",label:"Arena/AM",to:"/guidehub?tab=arenaam",side:"left",sub:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=arenaam&sub=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=arenaam&sub=am-build-order"}]},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",side:"right",sub:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",side:"right",sub:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]},{key:"events",label:"Events",to:"/guidehub?tab=events",side:"right",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left",sub:[]}],j6="_topWrap_1vr4p_1",k6="_divider_1vr4p_19",C6="_contentArea_1vr4p_53",A6="_placeholder_1vr4p_65",I6="_placeholderTitle_1vr4p_79",R6="_placeholderText_1vr4p_93",$a={topWrap:j6,divider:k6,contentArea:C6,placeholder:A6,placeholderTitle:I6,placeholderText:R6},P6="/test/assets/logo_guidehub-c4zKGdF-.png";function Ue({title:t}){return o.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[o.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),o.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const N6=()=>o.jsx(Ue,{title:"Fortress"}),D6=()=>o.jsx(Ue,{title:"Underworld"}),M6=()=>o.jsx(Ue,{title:"Progression"}),L6=()=>o.jsx(Ue,{title:"Arena / AM"}),F6=()=>o.jsx(Ue,{title:"Hellevator"}),V6=()=>o.jsx(Ue,{title:"Legendary Dungeon"}),B6=()=>o.jsx(Ue,{title:"Events"}),O6=()=>o.jsx(Ue,{title:"Calculators"}),$6=()=>o.jsx(Ue,{title:"Infographics (Dropdown inside page)"}),U6=()=>o.jsx(Ue,{title:"Class book"}),z6=()=>o.jsx(Ue,{title:"Dungeons"}),H6=()=>o.jsx(Ue,{title:"Fortress Calculator"}),G6=()=>o.jsx(Ue,{title:"Fortress Package skip order"}),W6=()=>o.jsx(Ue,{title:"Gem Calculator (Fortress)"}),q6=()=>o.jsx(Ue,{title:"Fortress attack duplication guide"}),K6=()=>o.jsx(Ue,{title:"Underworld Calculator"}),Q6=()=>o.jsx(Ue,{title:"Underworld Pro Package skip order"}),Y6=()=>o.jsx(Ue,{title:"AM Rune bonuses"}),X6=()=>o.jsx(Ue,{title:"AM Build order"}),J6=()=>o.jsx(Ue,{title:"Hellevator Guide"}),Z6=()=>o.jsx(Ue,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),eO=()=>o.jsx(Ue,{title:"Event List"}),tO=()=>o.jsx(Ue,{title:"Event Cycle"}),nO=()=>o.jsx(Ue,{title:"Fortress Calculator"}),rO=()=>o.jsx(Ue,{title:"Underworld Calculator"}),sO=()=>o.jsx(Ue,{title:"Max Item Stats Calculator"}),iO=()=>o.jsx(Ue,{title:"Gem Calculator"}),oO=()=>o.jsx(Ue,{title:"Dungeon Pause open XP Calculator"}),aO=()=>o.jsx(Ue,{title:"Progression  Early Game"}),lO=()=>o.jsx(Ue,{title:"First Weekend Guide"}),cO=()=>o.jsx(Ue,{title:"Max Item Stats Calculator"}),uO=()=>o.jsx(Ue,{title:"Fortress Package skip order (Early)"}),dO=()=>o.jsx(Ue,{title:"Underworld Pro Package skip order (Early)"}),hO=()=>o.jsx(Ue,{title:"Gem Calculator (Early)"}),fO=()=>o.jsx(Ue,{title:"Fortress attack duplication guide (Early)"}),pO=()=>o.jsx(Ue,{title:"Progression  Mid Game"}),mO=()=>o.jsx(Ue,{title:"Dungeon Pause"}),gO=()=>o.jsx(Ue,{title:"Dungeon Pause open XP Calculator"}),yO=()=>o.jsx(Ue,{title:"Dungeon Pause Exit"}),vO=()=>o.jsx(Ue,{title:"Gem Calculator (Mid)"}),xO=()=>o.jsx(Ue,{title:"Calendar Skip"}),bO=()=>o.jsx(Ue,{title:"Progression  Late Game"}),_O={fortress:N6,underworld:D6,progression:M6,arenaam:L6,hellevator:F6,"legendary-dungeon":V6,events:B6,calculators:O6,infographics:$6,"class-book":U6,dungeons:z6},g_={fortress:{"fortress-calculator":H6,"fortress-package-skip-order":G6,"gem-calculator":W6,"fortress-attack-duplication":q6},underworld:{"underworld-calculator":K6,"underworld-pro-package-skip-order":Q6},arenaam:{"am-rune-bonuses":Y6,"am-build-order":X6},hellevator:{"hellevator-guide":J6},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":Z6},events:{"event-list":eO,"event-cycle":tO},calculators:{"fortress-calculator":nO,"underworld-calculator":rO,"max-item-stats-calculator":sO,"gem-calculator":iO,"dungeon-pause-open-xp-calculator":oO},progression:{early:aO,mid:pO,late:bO}},Dm={progression:{early:{"first-weekend-guide":lO,"max-item-stats-calculator":cO,"fortress-package-skip-order":uO,"underworld-pro-package-skip-order":dO,"gem-calculator":hO,"fortress-attack-duplication":fO},mid:{"dungeon-pause":mO,"dungeon-pause-open-xp-calculator":gO,"dungeon-pause-exit":yO,"gem-calculator":vO,"calendar-skip":xO}}};function wO(){const[t]=Bh(),e=t.get("tab")||"",n=t.get("sub")||"",r=t.get("sub2")||"";let i=null;return e?e&&!n?i=_O[e]||null:e&&n&&!r?i=g_[e]&&g_[e][n]||null:e&&n&&r&&(i=Dm[e]&&Dm[e][n]&&Dm[e][n][r]||null):i=null,o.jsxs(lr,{children:[o.jsx("div",{className:$a.topWrap,children:o.jsx(T6,{logoSrc:P6,categories:E6,titleI18nKey:"guides.index.title"})}),o.jsx("div",{className:$a.divider}),o.jsx("div",{className:$a.contentArea,children:i?o.jsx(i,{}):o.jsxs("div",{className:$a.placeholder,children:[o.jsx("h2",{className:$a.placeholderTitle,children:"Guides"}),o.jsx("p",{className:$a.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}const SO="_wrap_1353r_1",TO="_centerLogoWrap_1353r_21",EO="_centerLogoLink_1353r_37",jO="_centerLogo_1353r_21",kO="_arc_1353r_71",CO="_left_1353r_73",AO="_right_1353r_75",IO="_sub_1353r_77",RO="_full_1353r_79",PO="_arcItem_1353r_81",NO="_iconBtn_1353r_87",DO="_active_1353r_141",MO="_iconImg_1353r_151",LO="_placeholderIcon_1353r_155",FO="_placeholderText_1353r_173",VO="_iconLabel_1353r_177",bn={wrap:SO,centerLogoWrap:TO,centerLogoLink:EO,centerLogo:jO,arc:kO,left:CO,right:AO,sub:IO,full:RO,arcItem:PO,iconBtn:NO,active:DO,iconImg:MO,placeholderIcon:LO,placeholderText:FO,iconLabel:VO},BO=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Er();let l=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),f=c.get("sub"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),_=g.get("sub");l=r==="sub"?d===v&&!!_&&f===_:d===v}catch(c){l=!1}return o.jsxs(zn,{to:t,"aria-label":e,className:[bn.iconBtn,r==="sub"?bn.muted:"",l?bn.active:""].join(" "),title:e,replace:!1,children:[n?o.jsx("img",{src:n,alt:"",className:bn.iconImg}):o.jsx("div",{className:bn.placeholderIcon,"aria-hidden":"true",children:o.jsx("span",{className:bn.placeholderText,children:e.slice(0,2).toUpperCase()})}),o.jsx("div",{className:bn.iconLabel,children:e})]})},Mm=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:l=220,outerOffset:c=440})=>{const d=R.useMemo(()=>{const p=t.length;if(p===0)return[];let g=-90,v=90;e==="left"?(g=90,v=270):e==="sub"?n==="left"?(g=90,v=270):(g=-90,v=90):e==="full"&&(g=0,v=360);const _=(v-g)/(p+1),S=r?190:250;return t.map((j,A)=>{const F=(g+_*(A+1))*Math.PI/180;return{it:j,x:Math.cos(F)*S,y:Math.sin(F)*S}})},[t,e,n,r]),f=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return o.jsx("div",{className:[bn.arc,e==="left"?bn.left:"",e==="right"?bn.right:"",e==="sub"?bn.sub:"",e==="full"?bn.full:""].join(" "),style:f,children:d.map(({it:p,x:g,y:v})=>o.jsx("div",{className:bn.arcItem,style:{transform:`translate(${g}px, ${v}px)`},children:o.jsx(BO,{to:p.to,label:p.label,icon:p.icon,variant:i})},p.key))})},gc=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],OO={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},$O=({logoSrc:t})=>{var _,S,j;const[e]=Bh(),n=e.get("tab")||null,r=R.useMemo(()=>gc.filter(A=>A.side==="left"),[gc]),i=R.useMemo(()=>gc.filter(A=>A.side==="right"),[gc]),l=n?(_=OO[n])!=null?_:[]:[],c=(j=(S=gc.find(A=>A.key===n))==null?void 0:S.side)!=null?j:"right",d=R.useRef(null),[f,p]=R.useState(220),[g,v]=R.useState(440);return R.useEffect(()=>{const A=()=>{var $,W;const F=((W=($=d.current)==null?void 0:$.offsetWidth)!=null?W:380)/2,N=Math.round(F+60),U=Math.round(N+220);p(N),v(U)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),o.jsxs("div",{className:bn.wrap,children:[o.jsx("div",{className:bn.centerLogoWrap,children:o.jsx(zn,{to:"/community",className:bn.centerLogoLink,"aria-label":"Community Hub Home",children:o.jsx("img",{ref:d,src:t,alt:"Community Hub",className:bn.centerLogo})})}),o.jsx(Mm,{items:r.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:f}),o.jsx(Mm,{items:i.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:f}),l.length>0&&o.jsx(Mm,{items:l.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},UO="_topWrap_1rivx_1",zO="_divider_1rivx_19",HO="_contentArea_1rivx_53",GO="_placeholder_1rivx_63",WO="_placeholderTitle_1rivx_77",qO="_placeholderText_1rivx_91",Ua={topWrap:UO,divider:zO,contentArea:HO,placeholder:GO,placeholderTitle:WO,placeholderText:qO},KO="/test/assets/logo_communityhub-LVMLHRD6.png";function GT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Creators"}),o.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function WT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Scans"}),o.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function qT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Predictions"}),o.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function KT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  News"}),o.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function QT(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Community  Feedback"}),o.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const QO={creators:GT,scans:WT,predictions:qT,news:KT,feedback:QT};function YO(){const[t]=Bh(),e=t.get("tab")||"",n=QO[e];return o.jsxs(lr,{children:[o.jsx("div",{className:Ua.topWrap,children:o.jsx($O,{logoSrc:KO,titleI18nKey:"community.index.title"})}),o.jsx("div",{className:Ua.divider}),o.jsx("div",{className:Ua.contentArea,children:n?o.jsx(n,{}):o.jsxs("div",{className:Ua.placeholder,children:[o.jsx("h2",{className:Ua.placeholderTitle,children:"Community"}),o.jsx("p",{className:Ua.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function XO(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[o.jsxs(zn,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),o.jsxs(zn,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[o.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),o.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function JO(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans  Letzter Scan"}),o.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function ZO(){return o.jsxs("section",{style:{padding:16},children:[o.jsx("h1",{children:"Scans  Archiv"}),o.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function e$(){return o.jsx(lr,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:o.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:o.jsx(t$,{}),right:o.jsx(n$,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[o.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),o.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsx(Lm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),o.jsx(Lm,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),o.jsx(Lm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function t$(){return o.jsxs("nav",{className:"space-y-2 text-sm",children:[o.jsx(Jd,{to:"/guild-hub/planner",children:"Planner"}),o.jsx(Jd,{to:"/guild-hub/fusion",children:"Fusion"}),o.jsx(Jd,{to:"/guild-hub/waitlist",children:"Waitlist"}),o.jsx(Jd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function n$(){return o.jsxs("aside",{className:"space-y-3 text-sm",children:[o.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),o.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Lm({to:t,title:e,desc:n}){return o.jsxs(zn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[o.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?o.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Jd({to:t,children:e}){return o.jsx(zn,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function r$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Planner"})})}function s$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Fusion"})})}function i$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Waitlist"})})}function o$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Activity"})})}function a$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Imports"})})}function l$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Announcements"})})}function c$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Events"})})}function u$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Roles"})})}function d$(){return o.jsx("section",{style:{padding:16},children:o.jsx("h1",{children:"Guild Hub  Settings"})})}function h$(){return o.jsx(lr,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:o.jsx("div",{className:"space-y-4",children:o.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[o.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",o.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),o.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",o.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const mn={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12}};function f$(){return o.jsx("div",{style:mn.wrap,children:o.jsxs("div",{style:mn.grid,children:[o.jsxs("aside",{style:mn.tile,children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),o.jsx("p",{style:mn.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),o.jsxs("nav",{children:[o.jsx(br,{to:"list-views",style:({isActive:t})=>({...mn.link,...t?mn.active:{}}),children:"List-View Switcher"}),o.jsx(br,{to:"rescan-widget",style:({isActive:t})=>({...mn.link,...t?mn.active:{}}),children:"Rescan Widget (auto)"}),o.jsx(br,{to:"upload-sim",style:({isActive:t})=>({...mn.link,...t?mn.active:{}}),children:"Upload Simulator"}),o.jsx(br,{to:"hud/game-buttons",style:({isActive:t})=>({...mn.link,...t?mn.active:{}}),children:"HUD  Game Buttons"}),o.jsx(br,{to:"theme-maker",style:({isActive:t})=>({...mn.link,...t?mn.active:{}}),children:"Theme / Template Maker"}),o.jsx(br,{to:"theme-maker-pro",style:({isActive:t})=>({...mn.link,...t?mn.active:{}}),children:"Theme / Template Maker  Pro"})]})]}),o.jsx("section",{style:mn.tile,children:o.jsx(X_,{})})]})})}function p$(){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),o.jsx("div",{className:"mt-4 grid gap-3",children:o.jsx(br,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const le={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},m$=()=>o.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Oo={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function g$(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Sl(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",g$(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function YT(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},f={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},v={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},S={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:l,gold:c,obsidian:d,neon:f,plasma:p,aurora:g,satin:v,matte:_,holo:S}[t.material]}function ro(t){const e={color:le.title,borderColor:le.border,...YT(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const gu=({children:t})=>o.jsx("span",{className:"relative z-10",children:t});function Tl({fx:t,clip:e}){return o.jsxs(o.Fragment,{children:[t.shine&&o.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:o.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&o.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&o.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&o.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&o.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>o.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&o.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function y$({fx:t,children:e}){const n=Sl(t),r=ro(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),o.jsx(Tl,{fx:t,clip:i}),t.withIcon&&o.jsx(sw,{size:16,className:"relative z-10"}),o.jsx(gu,{children:e})]})}function v$({fx:t,children:e}){const n=Sl(t),r=ro(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),o.jsx(Tl,{fx:t,clip:i}),t.withIcon&&o.jsx(iw,{size:16,className:"relative z-10"}),o.jsx(gu,{children:e})]})}function x$({fx:t,children:e}){const n=Sl(t),r=ro(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),o.jsx(Tl,{fx:t,clip:i}),t.withIcon&&o.jsx(eu,{size:16,className:"relative z-10"}),o.jsx(gu,{children:e})]})}function b$({fx:t,children:e}){const n=Sl(t),r=ro(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return o.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${le.tile}, ${le.active})`}}),o.jsx(Tl,{fx:t,clip:i}),t.withIcon&&o.jsx(ow,{size:16,className:"relative z-10"}),o.jsx(gu,{children:e})]})}function _$({fx:t,children:e}){const n=Sl(t),r=ro(t);return o.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[o.jsx(Tl,{fx:t}),t.withIcon&&o.jsx(Oh,{size:16,className:"relative z-10"}),o.jsx(gu,{children:e})]})}function w$({fx:t,tabs:e}){const[n,r]=R.useState(0);return o.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:e.map((i,l)=>o.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?le.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&o.jsx(Oh,{size:14,className:"inline mr-1"}),i]},l))})}function S$({fx:t}){const e=Sl(t),n=ro(t);return o.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:o.jsx(aw,{})})}const Rg={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function T$({fx:t,setFx:e}){const n=(d,f)=>e(p=>({...p,[d]:f})),r=d=>e(f=>({...f,[d]:!f[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return o.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Presets"}),Object.keys(Rg).map(d=>o.jsx("button",{onClick:()=>e(f=>Rg[d](f)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:d},d))]}),o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Material"}),i.map(d=>o.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d},d)),o.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:le.title},children:"Size"}),["sm","md","lg"].map(d=>o.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d.toUpperCase()},d)),o.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?le.active:le.btn,borderColor:le.border,color:le.title},children:"Icon"}),o.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?le.active:le.btn,borderColor:le.border,color:le.title},children:"Disabled"})]}),o.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Core FX"}),l.map(([d,f])=>o.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:f},d))]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Advanced"}),c.map(([d,f])=>o.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:f},d))]}),o.jsx("button",{onClick:()=>e(Oo),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:"Reset"})]})}function gt({fx:t,className:e="",style:n={},children:r,clip:i}){const l=ro(t);return o.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[o.jsx(Tl,{fx:t,clip:i}),o.jsx("div",{className:"relative z-10",children:r})]})}function Hn({fx:t,className:e="",children:n}){return o.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:n})}function E$({fx:t}){const[e,n]=R.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Toggle Chips"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const l=e.includes(i);return o.jsx(gt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(c=>l?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function j$({fx:t}){return o.jsxs(Hn,{fx:t,className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",style:{color:le.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>o.jsx(gt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:le.border},children:o.jsxs("button",{className:"relative",children:[o.jsx(aw,{size:16}),e===3&&o.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function k$({fx:t}){return o.jsxs(gt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Breadcrumb HUD"}),o.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>o.jsx(gt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:le.border},children:e},e))})]})}function C$({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Stat Tiles"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>o.jsxs(gt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:le.border},children:[o.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),o.jsx("div",{className:"text-sm",children:n.v}),o.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function A$({fx:t}){const[e,n]=R.useState(.66);return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Meter / Energy Bar"}),o.jsx(gt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:le.border},children:o.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),o.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function I$({fx:t}){return o.jsxs(Hn,{fx:t,className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Badge / Medal"}),o.jsxs(gt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:le.border},children:[o.jsx(eu,{size:16}),o.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function R$({fx:t}){const[e,n]=R.useState(!1);return o.jsxs(Hn,{fx:t,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toast / Notification"}),o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&o.jsxs(gt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:le.border},children:[o.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),o.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function P$({fx:t}){const[e,n]=R.useState(!0);return o.jsxs(Hn,{fx:t,className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toggle Switch"}),o.jsxs(gt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:le.border},children:[o.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),o.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function N$({fx:t}){const[e,n]=R.useState(!1),r=["Overview","Stats","Activity","Hydra"];return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dropdown HUD"}),o.jsx(gt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&o.jsx(gt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:le.border},children:r.map(i=>o.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function D$({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Radial Menu (Preview)"}),o.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[o.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,l=56,c=56+Math.cos(i)*l,d=56+Math.sin(i)*l;return o.jsx(gt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:le.border},children:n},n)}),o.jsx(gt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:le.border},children:"Menu"})]})]})}function M$({fx:t}){const e=[1,2,3,4,5],[n,r]=R.useState(2);return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Pagination HUD"}),o.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>o.jsx(gt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function L$({fx:t}){const[e,n]=R.useState(!1);return o.jsxs(Hn,{fx:t,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm",style:{color:le.title},children:"Modal HUD"}),o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:o.jsxs(gt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:le.border},children:[o.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),o.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function F$({fx:t}){const[e,n]=R.useState("");return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Search HUD"}),o.jsx(gt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:le.border},children:o.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function V$({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=R.useState("Bravo");return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"List Selectable"}),o.jsx("div",{className:"space-y-2",children:e.map(i=>o.jsx(gt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:le.border},children:o.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function B$({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=R.useState(1);return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Steps"}),o.jsx("div",{className:"flex items-center gap-3",children:e.map((i,l)=>o.jsxs(Le.Fragment,{children:[o.jsx(gt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:le.border},children:l+1}),l<e.length-1&&o.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),o.jsxs("div",{className:"mt-2 flex gap-2",children:[o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),o.jsx(gt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:o.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function O$({fx:t}){const e=["","","","","",""];return o.jsxs(Hn,{fx:t,children:[o.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dock Bar"}),o.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>o.jsx(gt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:le.border},children:n},r))})]})}function $$(){const[t,e]=R.useState(Oo);return o.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:le.bg,color:le.txt},children:[o.jsx(m$,{}),o.jsxs("header",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(aC,{}),o.jsx("h1",{className:"text-xl font-bold",style:{color:le.title},children:"Game Buttons Playground"}),o.jsx("span",{className:"text-xs",style:{color:le.txt2},children:"(Materials + FX extended + Presets)"})]})}),o.jsx(T$,{fx:t,setFx:e})]}),o.jsxs("section",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"Shapes"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(y$,{fx:t,children:[o.jsx(sw,{size:16})," Diamond"]}),o.jsxs(v$,{fx:t,children:[o.jsx(iw,{size:16})," Hex"]}),o.jsxs(x$,{fx:t,children:[o.jsx(eu,{size:16})," Octagon/Shield"]}),o.jsxs(b$,{fx:t,children:[o.jsx(ow,{size:16})," Shard"]}),o.jsxs(_$,{fx:t,children:[o.jsx(Oh,{size:16})," Pill/Chip"]}),o.jsx(S$,{fx:t})]})]}),o.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold",style:{color:le.title},children:"Tabs"}),o.jsx(w$,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),o.jsx("section",{className:"grid gap-4",children:o.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[o.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"More HUD Patterns"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[o.jsx(E$,{fx:t}),o.jsx(j$,{fx:t}),o.jsx(k$,{fx:t}),o.jsx(C$,{fx:t}),o.jsx(A$,{fx:t}),o.jsx(I$,{fx:t}),o.jsx(R$,{fx:t}),o.jsx(P$,{fx:t}),o.jsx(N$,{fx:t}),o.jsx(D$,{fx:t}),o.jsx(M$,{fx:t}),o.jsx(L$,{fx:t}),o.jsx(F$,{fx:t}),o.jsx(V$,{fx:t}),o.jsx(B$,{fx:t}),o.jsx(O$,{fx:t})]})]})}),o.jsx(U$,{}),o.jsx("footer",{className:"text-center text-xs",style:{color:le.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function U$(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Oo.material),"Material type present");const e=ro(Oo);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=YT({...Oo,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Oo[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Rg).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const l=i({...Oo});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Dc={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},y_={Arcade:{...Dc,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Dc,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},za={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},XT={display:"grid",gap:8,alignItems:"center"};function ti({label:t,value:e,onChange:n}){return o.jsxs("label",{style:{...XT,gridTemplateColumns:"120px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Fm({label:t,value:e,min:n,max:r,onChange:i}){return o.jsxs("label",{style:{...XT,gridTemplateColumns:"120px 1fr 70px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value))}),o.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value||"0"))})]})}function v_(){const[t,e]=Le.useState(Dc),n=Le.useRef(null),r=f=>{const p=n.current;p&&(p.style.setProperty("--page",f.page),p.style.setProperty("--tile",f.tile),p.style.setProperty("--tile-hover",f.tileHover),p.style.setProperty("--nav",f.nav),p.style.setProperty("--active",f.active),p.style.setProperty("--text",f.text),p.style.setProperty("--text-soft",f.textSoft),p.style.setProperty("--title",f.title),p.style.setProperty("--line",f.line),p.style.setProperty("--radius",`${f.radius}px`),p.style.setProperty("--shadow",`0 8px ${f.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${f.gap}px`))};Le.useEffect(()=>{r(t)},[t]);const i=f=>e(y_[f]),l=()=>e(Dc),c=()=>{const f=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(f),p.download="sfdatahub-theme.json",p.click()},d=async f=>{const p=await f.text();e({...Dc,...JSON.parse(p)})};return o.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[o.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(y_).map(f=>o.jsx("button",{style:za,onClick:()=>i(f),children:f},f)),o.jsx("button",{style:za,onClick:l,children:"Default"}),o.jsx("button",{style:za,onClick:c,children:"Export JSON"}),o.jsxs("label",{style:{...za,display:"inline-block"},children:["Import JSON",o.jsx("input",{type:"file",accept:"application/json",onChange:f=>f.target.files&&d(f.target.files[0]),style:{display:"none"}})]})]}),o.jsx(ti,{label:"Page",value:t.page,onChange:f=>e(p=>({...p,page:f}))}),o.jsx(ti,{label:"Tile",value:t.tile,onChange:f=>e(p=>({...p,tile:f}))}),o.jsx(ti,{label:"Tile Hover",value:t.tileHover,onChange:f=>e(p=>({...p,tileHover:f}))}),o.jsx(ti,{label:"Nav",value:t.nav,onChange:f=>e(p=>({...p,nav:f}))}),o.jsx(ti,{label:"Active",value:t.active,onChange:f=>e(p=>({...p,active:f}))}),o.jsx(ti,{label:"Text",value:t.text,onChange:f=>e(p=>({...p,text:f}))}),o.jsx(ti,{label:"Text Soft",value:t.textSoft,onChange:f=>e(p=>({...p,textSoft:f}))}),o.jsx(ti,{label:"Title",value:t.title,onChange:f=>e(p=>({...p,title:f}))}),o.jsx(ti,{label:"Line",value:t.line,onChange:f=>e(p=>({...p,line:f}))}),o.jsx(Fm,{label:"Radius",value:t.radius,min:8,max:28,onChange:f=>e(p=>({...p,radius:f}))}),o.jsx(Fm,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:f=>e(p=>({...p,shadow:f}))}),o.jsx(Fm,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:f=>e(p=>({...p,gap:f}))})]}),o.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[o.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),o.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),o.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[o.jsx("button",{style:{...za,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),o.jsx("button",{style:za,children:"Secondary"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((f,p)=>o.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[o.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),o.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const Pg={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},x_={"SFDataHub (Default)":{...Pg},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},pf={display:"grid",gap:8,alignItems:"center"},Do={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Mo={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Br({label:t,value:e,onChange:n}){return o.jsxs("label",{style:{...pf,gridTemplateColumns:"140px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function ni({label:t,value:e,min:n,max:r,step:i=1,onChange:l,suffix:c}){return o.jsxs("label",{style:{...pf,gridTemplateColumns:"140px 1fr 70px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>l(parseFloat(d.target.value))}),o.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function z$({label:t,checked:e,onChange:n}){return o.jsxs("label",{style:{...pf,gridTemplateColumns:"1fr 46px"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),o.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function b_(){const[t,e]=Le.useState(Pg),n=Le.useRef(null),r=p=>{const g=n.current;g&&(g.style.setProperty("--page",p.page),g.style.setProperty("--tile",p.tile),g.style.setProperty("--tile-hover",p.tileHover),g.style.setProperty("--nav",p.nav),g.style.setProperty("--active",p.active),g.style.setProperty("--text",p.text),g.style.setProperty("--text-soft",p.textSoft),g.style.setProperty("--title",p.title),g.style.setProperty("--line",p.line),g.style.setProperty("--accent",p.accent),g.style.setProperty("--success",p.success),g.style.setProperty("--warning",p.warning),g.style.setProperty("--danger",p.danger),g.style.setProperty("--radius",`${p.radius}px`),g.style.setProperty("--border",`${p.border}px`),g.style.setProperty("--gap",`${p.gap}px`),g.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),g.style.setProperty("--noise",`${p.noise}%`),g.style.setProperty("--font",p.fontFamily),g.style.setProperty("--font-size",`${p.fontSize}px`),g.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${p.glow}`),g.style.setProperty("--scanlines",`${p.scanlines}`))};Le.useEffect(()=>{r(t)},[t]);const i=(p,g)=>e(v=>({...v,[p]:g})),l=p=>e(g=>({...g,...x_[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(p),g.download="sfdatahub-theme-pro.json",g.click()},d=async p=>{try{const g=await p.text(),v=JSON.parse(g);e({...t,...v})}catch(g){}},f={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return o.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[o.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(x_).map(p=>o.jsx("button",{style:Do,onClick:()=>l(p),children:p},p)),o.jsx("button",{style:Do,onClick:()=>e(Pg),children:"Reset"}),o.jsx("button",{style:Do,onClick:c,children:"Export"}),o.jsxs("label",{style:{...Do,display:"inline-block"},children:["Import",o.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(Br,{label:"Page",value:t.page,onChange:p=>i("page",p)}),o.jsx(Br,{label:"Tile",value:t.tile,onChange:p=>i("tile",p)}),o.jsx(Br,{label:"Tile Hover",value:t.tileHover,onChange:p=>i("tileHover",p)}),o.jsx(Br,{label:"Active",value:t.active,onChange:p=>i("active",p)}),o.jsx(Br,{label:"Text",value:t.text,onChange:p=>i("text",p)}),o.jsx(Br,{label:"Text Soft",value:t.textSoft,onChange:p=>i("textSoft",p)}),o.jsx(Br,{label:"Title",value:t.title,onChange:p=>i("title",p)}),o.jsx(Br,{label:"Line",value:t.line,onChange:p=>i("line",p)}),o.jsx(Br,{label:"Accent",value:t.accent,onChange:p=>i("accent",p)}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[o.jsx(Br,{label:"Success",value:t.success,onChange:p=>i("success",p)}),o.jsx(Br,{label:"Warning",value:t.warning,onChange:p=>i("warning",p)}),o.jsx(Br,{label:"Danger",value:t.danger,onChange:p=>i("danger",p)})]})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(ni,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>i("radius",p)}),o.jsx(ni,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>i("border",p)}),o.jsx(ni,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>i("gap",p)}),o.jsx(ni,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>i("shadow",p)}),o.jsx(ni,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>i("surfaceOpacity",p),suffix:"%"}),o.jsx(ni,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>i("noise",p),suffix:"%"})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsxs("label",{style:{...pf,gridTemplateColumns:"140px 1fr"},children:[o.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),o.jsx("input",{value:t.fontFamily,onChange:p=>i("fontFamily",p.target.value)})]}),o.jsx(ni,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>i("fontSize",p)}),o.jsx(z$,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>i("headingsTight",p)})]})]}),o.jsxs("details",{open:!0,children:[o.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx(ni,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>i("glow",p)}),o.jsx(ni,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>i("scanlines",p)})]})]})]}),o.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[o.jsxs("span",{style:Mo,children:[o.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),o.jsx("span",{style:{...Mo,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),o.jsx("span",{style:{...Mo,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),o.jsx("span",{style:{...Mo,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),o.jsxs("span",{style:Mo,children:["Radius: ",t.radius]}),o.jsxs("span",{style:Mo,children:["Shadow: ",t.shadow]}),o.jsxs("span",{style:Mo,children:["Noise: ",t.noise,"%"]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:f.name}),o.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[f.className,"  ",f.guild," ",o.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",f.server,")"]})]})]}),o.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:f.level,pct:f.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:f.scrapbook+"%",pct:f.scrapbook/100,color:"var(--success)"},{label:"Power",value:f.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:f.activity+"%",pct:f.activity/100,color:"var(--accent)"}].map((p,g)=>o.jsxs("div",{style:{display:"grid",gap:4},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[o.jsx("span",{children:p.label}),o.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),o.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:o.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},g))}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[o.jsx("button",{style:{...Do,background:"var(--tile-hover)"},children:"Open Profile"}),o.jsx("button",{style:{...Do,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,g)=>o.jsx("button",{style:{...Do,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,g)=>o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),o.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),o.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},g))}),o.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[o.jsx("div",{style:{padding:10},children:"Attribute"}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,g)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[o.jsx("div",{style:{padding:10},children:p[0]}),o.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),o.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},g))]})]})]}),o.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const __=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function H$(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:__[n%__.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Vm={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function w_(){const[t,e]=R.useState("rows"),[n,r]=R.useState(0),[i,l]=R.useState(""),[c,d]=R.useState(60),f=R.useMemo(()=>H$(240),[]),p=R.useMemo(()=>f.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[f,n,i,c]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[o.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[o.jsx("option",{value:"rows",children:"Compact Rows"}),o.jsx("option",{value:"cards",children:"Card Grid"}),o.jsx("option",{value:"masonry",children:"Masonry"})]}),o.jsx("input",{placeholder:"Search",value:i,onChange:g=>l(g.target.value)}),o.jsxs("label",{children:["Min Level ",o.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),o.jsxs("label",{children:["Limit ",o.jsx("input",{type:"number",value:c,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&o.jsx("div",{style:{...Vm,padding:0,overflow:"hidden"},children:p.map(g=>{var v;return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),o.jsxs("div",{children:[o.jsxs("div",{style:{fontWeight:700},children:[g.name," ",o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[o.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),o.jsx("div",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="cards"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>{var v;return o.jsxs("div",{style:Vm,children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:700},children:g.name}),o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),o.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[o.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),o.jsx("span",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="masonry"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>o.jsxs("div",{style:{...Vm,height:140+parseInt(g.id)%3*40},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{fontWeight:700},children:g.name}),o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),o.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),o.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function S_(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function T_(){const[t,e]=R.useState(120),[n,r]=R.useState(()=>S_(24));R.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),f=[...c];return f[d]={...f[d],lastScanMinsAgo:0},f})},5e3);return()=>clearInterval(l)},[]),R.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const i=R.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),o.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[o.jsxs("label",{children:["Freshness TTL (min) ",o.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),o.jsx("button",{onClick:()=>r(S_(24)),children:"Reset Demo Data"})]}),o.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),o.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[o.jsx("div",{children:"Player"}),o.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(l=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[o.jsxs("div",{children:[l.name," ",o.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),o.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),i.length===0&&o.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function G$(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function E_(){const[t,e]=R.useState("idle"),[n,r]=R.useState(null),[i,l]=R.useState(!1),c=R.useCallback(async d=>{var p;d.preventDefault(),l(!1);const f=(p=d.dataTransfer.files)==null?void 0:p[0];if(f){e("validating");try{const g=await f.text(),{isHar:v,isSf:_}=G$(g);if(e("parsing"),await new Promise(S=>setTimeout(S,600)),!v&&!_){e("error"),r({isHar:v,isSf:_,sizeKB:Math.round(f.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:v,isSf:_,sizeKB:Math.round(f.size/1024),summary:`Detected: ${v?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return o.jsxs("div",{children:[o.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),o.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),o.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),o.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Status:"})," ",t]}),n?o.jsxs("ul",{children:[o.jsxs("li",{children:["isHar: ",String(n.isHar)]}),o.jsxs("li",{children:["isSf: ",String(n.isSf)]}),o.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&o.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&o.jsxs("li",{children:["summary: ",n.summary]})]}):o.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const H={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},W$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},q$={maxWidth:1200,margin:"0 auto"},K$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function Q$(){return o.jsx("div",{style:W$,children:o.jsxs("div",{style:q$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"HAR Import Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:K$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),o.jsxs("div",{style:{border:`1px dashed ${H.line}`,borderRadius:12,padding:24,textAlign:"center",background:H.tileAlt},children:["Drop .har file here or"," ",o.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),o.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const Y$={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},X$={maxWidth:1200,margin:"0 auto"},J$={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function Z$(){return o.jsx("div",{style:Y$,children:o.jsxs("div",{style:X$,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"JSON/CSV Import Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:J$,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("label",{children:["Upload JSON ",o.jsx("input",{type:"file",accept:".json"})]}),o.jsxs("label",{children:["Upload CSV ",o.jsx("input",{type:"file",accept:".csv"})]})]}),o.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const e9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},t9={maxWidth:1200,margin:"0 auto"},n9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function r9(){return o.jsx("div",{style:e9,children:o.jsxs("div",{style:t9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Index Schema Viewer Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:n9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const s9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},i9={maxWidth:1200,margin:"0 auto"},o9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function a9(){return o.jsx("div",{style:s9,children:o.jsxs("div",{style:i9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Player Profile (Contained) Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:o9,children:[o.jsxs("div",{style:{display:"flex",gap:12},children:[o.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${H.line}`}}),o.jsxs("div",{children:[o.jsx("h3",{style:{margin:"4px 0",color:H.title},children:"NightRaven"}),o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>o.jsx("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const l9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},c9={maxWidth:1200,margin:"0 auto"},u9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function d9(){return o.jsx("div",{style:l9,children:o.jsxs("div",{style:c9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Guild Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:u9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[o.jsx("b",{style:{color:H.title},children:"Ravens"}),o.jsx("span",{children:"Avg Lvl 465"}),o.jsx("span",{children:"Fresh scans 82%"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[o.jsx("b",{style:{color:H.title},children:"Arcana"}),o.jsx("span",{children:"Avg Lvl 458"}),o.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const h9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},f9={maxWidth:1200,margin:"0 auto"},p9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function m9(){return o.jsx("div",{style:h9,children:o.jsxs("div",{style:f9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Server Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:p9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const g9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},y9={maxWidth:1200,margin:"0 auto"},v9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function x9(){return o.jsx("div",{style:g9,children:o.jsxs("div",{style:y9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Rankings Views Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:v9,children:[o.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>o.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${H.line}`,borderRadius:10},children:t},t))}),o.jsx("div",{style:{border:`1px solid ${H.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[o.jsx("b",{style:{color:H.title},children:t.name}),o.jsx("span",{children:t.delta}),o.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const b9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},_9={maxWidth:1200,margin:"0 auto"},w9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function S9(){return o.jsx("div",{style:b9,children:o.jsxs("div",{style:_9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"KPI Dashboard Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsx("div",{style:w9,children:o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>o.jsx("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const T9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},E9={maxWidth:1200,margin:"0 auto"},j9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function k9(){return o.jsx("div",{style:T9,children:o.jsxs("div",{style:E9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Progression Tracker Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:j9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),o.jsx("div",{style:{height:160,border:`1px dashed ${H.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const C9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},A9={maxWidth:1200,margin:"0 auto"},I9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function R9(){return o.jsx("div",{style:C9,children:o.jsxs("div",{style:A9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Legendary & Pets Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsx("div",{style:I9,children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"Legendary Tracker"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Shadow Bow "}),o.jsx("li",{children:"Mythic Ring "})]})]}),o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"Pets"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Firewolf 4/5"}),o.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const P9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},N9={maxWidth:1200,margin:"0 auto"},D9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function M9(){return o.jsx("div",{style:P9,children:o.jsxs("div",{style:N9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Community Scans Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:D9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>o.jsx("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const L9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},F9={maxWidth:1200,margin:"0 auto"},V9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function B9(){return o.jsx("div",{style:L9,children:o.jsxs("div",{style:F9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Creator Hub Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:V9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:t}),o.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const O9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},$9={maxWidth:1200,margin:"0 auto"},U9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function z9(){return o.jsx("div",{style:O9,children:o.jsxs("div",{style:$9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Feedback Form Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:U9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),o.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsx("span",{children:"Category"}),o.jsxs("select",{style:{background:"#152A42",color:H.text,border:`1px solid ${H.line}`,borderRadius:8,padding:"6px 8px"},children:[o.jsx("option",{children:"UI"}),o.jsx("option",{children:"Data"}),o.jsx("option",{children:"Bug"})]})]}),o.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{rows:4,style:{background:"#152A42",color:H.text,border:`1px solid ${H.line}`,borderRadius:8,padding:"6px 8px"}})]}),o.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${H.line}`,borderRadius:10},children:"Send"})]})})]})})}const H9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},G9={maxWidth:1200,margin:"0 auto"},W9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function q9(){return o.jsx("div",{style:H9,children:o.jsxs("div",{style:G9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Feedback Admin Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:W9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),o.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("span",{children:t}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),o.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const K9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},Q9={maxWidth:1200,margin:"0 auto"},Y9={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function X9(){return o.jsx("div",{style:K9,children:o.jsxs("div",{style:Q9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Tutorials Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:Y9,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Step highlights"}),o.jsx("li",{children:"Progress bar"}),o.jsx("li",{children:"Badges"})]})]})})]})})}const J9={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},Z9={maxWidth:1200,margin:"0 auto"},eU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function tU(){return o.jsx("div",{style:J9,children:o.jsxs("div",{style:Z9,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Wiki & FAQ Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:eU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),o.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${H.line}`,borderRadius:10}}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"How to import HAR?"}),o.jsx("li",{children:"What data is stored?"})]})]})})]})})}const nU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},rU={maxWidth:1200,margin:"0 auto"},sU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function iU(){return o.jsx("div",{style:nU,children:o.jsxs("div",{style:rU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Settings Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:sU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[o.jsxs("label",{children:["Language",o.jsxs("select",{style:{marginLeft:8},children:[o.jsx("option",{children:"EN"}),o.jsx("option",{children:"DE"})]})]}),o.jsxs("label",{children:["Theme",o.jsxs("select",{style:{marginLeft:8},children:[o.jsx("option",{children:"Dark"}),o.jsx("option",{children:"Custom"})]})]}),o.jsxs("label",{children:["Notifications",o.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),o.jsxs("label",{children:["Privacy",o.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const oU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},aU={maxWidth:1200,margin:"0 auto"},lU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function cU(){return o.jsx("div",{style:oU,children:o.jsxs("div",{style:aU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"ToS & Privacy Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:lU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),o.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:o.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),o.jsxs("label",{style:{marginTop:8},children:[o.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const uU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},dU={maxWidth:1200,margin:"0 auto"},hU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function fU(){return o.jsx("div",{style:uU,children:o.jsxs("div",{style:dU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Transparency Viewer Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:hU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),o.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const pU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},mU={maxWidth:1200,margin:"0 auto"},gU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function yU(){return o.jsx("div",{style:pU,children:o.jsxs("div",{style:mU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"PWA Update Flow Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:gU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),o.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[o.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),o.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const vU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},xU={maxWidth:1200,margin:"0 auto"},bU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function _U(){return o.jsx("div",{style:vU,children:o.jsxs("div",{style:xU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"PWA Install Prompt Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:bU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[o.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${H.line}`,borderRadius:20}}),o.jsxs("div",{children:[o.jsx("b",{style:{color:H.title},children:"Install SFDataHub"}),o.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),o.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const wU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},SU={maxWidth:1200,margin:"0 auto"},TU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function EU(){return o.jsx("div",{style:wU,children:o.jsxs("div",{style:SU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Connect Manual Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:TU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:[o.jsx("b",{style:{color:H.title},children:"View source"}),o.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const jU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},kU={maxWidth:1200,margin:"0 auto"},CU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function AU(){return o.jsx("div",{style:jU,children:o.jsxs("div",{style:kU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Connect Userscript Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:CU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),o.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[o.jsx("div",{children:"Install/Enable check"}),o.jsx("div",{children:"Events preview"})]})]})})]})})}const IU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},RU={maxWidth:1200,margin:"0 auto"},PU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function NU(){return o.jsx("div",{style:IU,children:o.jsxs("div",{style:RU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Exports Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:PU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"CSV/Excel"}),o.jsx("div",{children:"Tabs, widths, locales"})]}),o.jsxs("div",{style:{background:H.tileAlt,border:`1px solid ${H.line}`,borderRadius:10,padding:10},children:[o.jsx("b",{style:{color:H.title},children:"JSON API"}),o.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const DU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},MU={maxWidth:1200,margin:"0 auto"},LU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function FU(){return o.jsx("div",{style:DU,children:o.jsxs("div",{style:MU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Deeplinks Demo Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:LU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),o.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${H.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const VU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},BU={maxWidth:1200,margin:"0 auto"},OU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function $U(){return o.jsx("div",{style:VU,children:o.jsxs("div",{style:BU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Servers Editor Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:OU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[o.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),o.jsxs("select",{children:[o.jsx("option",{children:"Active"}),o.jsx("option",{children:"Disabled"})]}),o.jsx("button",{children:"Add"})]})]})})]})})}const UU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},zU={maxWidth:1200,margin:"0 auto"},HU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function GU(){return o.jsx("div",{style:UU,children:o.jsxs("div",{style:zU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Jobs & Queues Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:HU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),o.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const WU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},qU={maxWidth:1200,margin:"0 auto"},KU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function QU(){return o.jsx("div",{style:WU,children:o.jsxs("div",{style:qU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Feature Flags Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:KU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[o.jsx("span",{children:"Beta: New Rankings"}),o.jsx("label",{children:o.jsx("input",{type:"checkbox",defaultChecked:!0})}),o.jsx("span",{children:"Widgets v2"}),o.jsx("label",{children:o.jsx("input",{type:"checkbox"})})]})]})})]})})}const YU={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},XU={maxWidth:1200,margin:"0 auto"},JU={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function ZU(){return o.jsx("div",{style:YU,children:o.jsxs("div",{style:XU,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Table Performance Lab Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:JU,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),o.jsx("div",{style:{height:160,border:`1px dashed ${H.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const e8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},t8={maxWidth:1200,margin:"0 auto"},n8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function r8(){return o.jsx("div",{style:e8,children:o.jsxs("div",{style:t8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:n8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),o.jsx("div",{style:{height:180,border:`1px dashed ${H.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const s8={minHeight:"100vh",background:H.page,color:H.text,padding:"24px 16px"},i8={maxWidth:1200,margin:"0 auto"},o8={background:H.tile,border:`1px solid ${H.line}`,borderRadius:12,padding:12};function a8(){return o.jsx("div",{style:s8,children:o.jsxs("div",{style:i8,children:[o.jsx("h1",{style:{color:H.title,marginTop:0},children:"Accessibility Pass Page"}),o.jsx("div",{style:{display:"grid",gap:12},children:o.jsxs("div",{style:o8,children:[o.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),o.jsxs("ul",{style:{marginTop:8},children:[o.jsx("li",{children:"Focus ring visible"}),o.jsx("li",{children:"Skip links"}),o.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const l8="_backdrop_19xh2_1",c8="_panel_19xh2_19",u8="_header_19xh2_43",d8="_tabs_19xh2_63",h8="_tabBtn_19xh2_75",f8="_tabActive_19xh2_97",p8="_closeBtn_19xh2_101",m8="_content_19xh2_123",As={backdrop:l8,panel:c8,header:u8,tabs:d8,tabBtn:h8,tabActive:f8,closeBtn:p8,content:m8},dh=t=>String(t!=null?t:"").trim(),$i=t=>dh(t).toUpperCase(),pt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),hh=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),j_=t=>{const e=hh(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},k_=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Bm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},ze={PLAYERS:{IDENTIFIER:pt("Identifier"),PID:pt("ID"),GUILD_IDENTIFIER:pt("Guild Identifier"),SERVER:pt("Server"),NAME:pt("Name"),TIMESTAMP:pt("Timestamp"),LEVEL:pt("Level"),CLASS:pt("Class"),GUILD:pt("Guild")},GUILDS:{GUILD_IDENTIFIER:pt("Guild Identifier"),SERVER:pt("Server"),NAME:pt("Name"),MEMBER_COUNT:pt("Guild Member Count"),TIMESTAMP:pt("Timestamp"),HOF:pt("Hall of Fame Rank"),HOF_ALT:pt("HoF"),RANK:pt("Rank"),GUILD_RANK:pt("Guild Rank")}},g8=new Set([pt("Strength"),pt("Dexterity"),pt("Intelligence"),pt("Constitution"),pt("Luck"),pt("Attribute")]),y8=["equipment"],v8=t=>g8.has(t)||y8.some(e=>t.includes(e)),Ge=(t,e)=>{for(const n of Object.keys(t))if(pt(n)===e)return t[n]},x8=(t,e)=>e.map(n=>Ge(t,n)).find(n=>n!=null&&String(n)!=="");function Lh(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),f=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,i,d,f,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function C_(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${c}-W${d}`}function A_(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),l=i+7*86400-1;return{start:i,end:l}}function I_(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function R_(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function b8(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function _8(t){var f;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=b8((f=n[0])!=null?f:""),i=p=>{const g=[];let v="",_=!1;for(let S=0;S<p.length;S++){const j=p[S];j==='"'?_&&p[S+1]==='"'?(v+='"',S++):_=!_:j===r&&!_?(g.push(v),v=""):v+=j}return g.push(v),g},c=(n[0]?i(n[0]).map(dh):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=i(n[p]);if(g.every(_=>dh(_)===""))continue;const v={};for(let _=0;_<c.length;_++)v[c[_]]=g[_]!=null?dh(g[_]):"";d.push(v)}return{headers:c,rows:d}}const P_=120,N_=40,D_=120;async function Ha(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const l=vN(mt),c=t.slice(i,i+e);for(const d of c)d(l);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Zd(t,e){const n={};for(const r of e){const i=pt(r);if(v8(i)){let l=null,c;for(const d of t){const f=d.row[r];if(f==null||f==="")continue;const p=Number(String(f).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=f)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function M_(t){var i;const e=await hs(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const l=Lh(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Lh(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function L_(t,e){var g,v,_,S,j;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=_8(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const A of c)Object.keys(A).forEach(C=>d.add(C));const f=Array.from(d);if(e.kind==="players"){const A=[],C=[],F=[],B=new Map;for(const N of c){const U=(g=Ge(N,ze.PLAYERS.PID))!=null?g:Ge(N,ze.PLAYERS.IDENTIFIER),$=String(U!=null?U:"").trim();if(!$){l.skippedMissingIdentifier++;continue}const W=Lh(Ge(N,ze.PLAYERS.TIMESTAMP));if(W==null){l.skippedBadTs++;continue}const E=(()=>{const T=Ge(N,ze.PLAYERS.SERVER);return T&&String(T).trim()!==""?$i(T):void 0})();if(!E){l.skippedMissingServer++;continue}A.push(T=>{const I=Ht(mt,`players/${$}/scans/${W}`);T.set(I,{playerId:$,server:E,timestamp:W,timestampRaw:Ge(N,ze.PLAYERS.TIMESTAMP),name:Ge(N,ze.PLAYERS.NAME)||null,values:N,createdAt:ii()},{merge:!0})}),l.writtenScanPlayers++,B.has($)||B.set($,[]),B.get($).push({row:N,ts:W})}for(const[N,U]of B){U.sort((Q,oe)=>Q.ts-oe.ts);const $=U[U.length-1],W=$i(Ge($.row,ze.PLAYERS.SERVER)||""),E=Ge($.row,ze.PLAYERS.NAME)||null,T=Ge($.row,ze.PLAYERS.LEVEL),I=Ge($.row,ze.PLAYERS.CLASS),D=Ge($.row,ze.PLAYERS.GUILD),M=(_=(v=Ge($.row,ze.PLAYERS.NAME))!=null?v:E)!=null?_:"",V=j_(M),L=k_(V),fe=Ht(mt,`players/${N}/latest/latest`),K=await M_(fe);$.ts>K&&(C.push(Q=>{Q.set(fe,{playerId:N,server:W,timestamp:$.ts,timestampRaw:Ge($.row,ze.PLAYERS.TIMESTAMP),name:E,values:$.row,updatedAt:ii(),nameFold:hh(M),nameTokens:V,nameNgrams:L,level:Bm(T),className:I!=null&&String(I).trim()!==""?String(I):null,guildName:D!=null&&String(D).trim()!==""?String(D):null,guildNameFold:D?hh(D):null},{merge:!0})}),l.writtenLatestPlayers++);const re=new Map,ne=new Map;for(const Q of U){const oe=C_(Q.ts),ie=I_(Q.ts);re.has(oe)||re.set(oe,[]),ne.has(ie)||ne.set(ie,[]),re.get(oe).push(Q),ne.get(ie).push(Q)}for(const[Q,oe]of re){oe.sort((ye,we)=>ye.ts-we.ts);const ie=Zd(oe,f),G=A_(oe[oe.length-1].ts),ee=oe[oe.length-1];F.push(ye=>{const we=Ht(mt,`players/${N}/history_weekly/${Q}`);ye.set(we,{playerId:N,weekId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Ge(ee.row,ze.PLAYERS.TIMESTAMP),server:$i(Ge(ee.row,ze.PLAYERS.SERVER)||""),name:Ge(ee.row,ze.PLAYERS.NAME)||null,values:ie,updatedAt:ii()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,oe]of ne){oe.sort((ye,we)=>ye.ts-we.ts);const ie=Zd(oe,f),G=R_(oe[oe.length-1].ts),ee=oe[oe.length-1];F.push(ye=>{const we=Ht(mt,`players/${N}/history_monthly/${Q}`);ye.set(we,{playerId:N,monthId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Ge(ee.row,ze.PLAYERS.TIMESTAMP),server:$i(Ge(ee.row,ze.PLAYERS.SERVER)||""),name:Ge(ee.row,ze.PLAYERS.NAME)||null,values:ie,updatedAt:ii()},{merge:!0})}),l.writtenMonthlyPlayers++}}await Ha(A,P_,"scans",e.onProgress),await Ha(C,N_,"latest",e.onProgress),await Ha(F,D_,"history",e.onProgress)}if(e.kind==="guilds"){const A=[],C=[],F=[],B=new Map;for(const N of c){const U=String((S=Ge(N,ze.GUILDS.GUILD_IDENTIFIER))!=null?S:"").trim();if(!U){l.skippedMissingGuildIdentifier++;continue}const $=Lh(Ge(N,ze.GUILDS.TIMESTAMP));if($==null){l.skippedBadTsGuild++;continue}const W=(()=>{const E=Ge(N,ze.GUILDS.SERVER);return E&&String(E).trim()!==""?$i(E):void 0})();if(!W){l.skippedMissingServer++;continue}A.push(E=>{const T=Ht(mt,`guilds/${U}/scans/${$}`);E.set(T,{guildIdentifier:U,server:W,timestamp:$,timestampRaw:Ge(N,ze.GUILDS.TIMESTAMP),name:Ge(N,ze.GUILDS.NAME)||null,values:N,createdAt:ii()},{merge:!0})}),l.writtenScanGuilds++,B.has(U)||B.set(U,[]),B.get(U).push({row:N,ts:$})}for(const[N,U]of B){U.sort((K,re)=>K.ts-re.ts);const $=U[U.length-1],W=(j=Ge($.row,ze.GUILDS.NAME))!=null?j:"",E=j_(W),T=k_(E),I=Bm(Ge($.row,ze.GUILDS.MEMBER_COUNT)),D=Bm(x8($.row,[ze.GUILDS.HOF,ze.GUILDS.HOF_ALT,ze.GUILDS.RANK,ze.GUILDS.GUILD_RANK])),M=Ht(mt,`guilds/${N}/latest/latest`),V=await M_(M);$.ts>V&&(C.push(K=>{K.set(M,{guildIdentifier:N,server:$i(Ge($.row,ze.GUILDS.SERVER)||""),timestamp:$.ts,timestampRaw:Ge($.row,ze.GUILDS.TIMESTAMP),name:Ge($.row,ze.GUILDS.NAME)||null,values:$.row,updatedAt:ii(),nameFold:hh(W),nameTokens:E,nameNgrams:T,memberCount:I,hofRank:D},{merge:!0})}),l.writtenLatestGuilds++);const L=new Map,fe=new Map;for(const K of U){const re=C_(K.ts),ne=I_(K.ts);L.has(re)||L.set(re,[]),fe.has(ne)||fe.set(ne,[]),L.get(re).push(K),fe.get(ne).push(K)}for(const[K,re]of L){re.sort((ie,G)=>ie.ts-G.ts);const ne=Zd(re,f),Q=A_(re[re.length-1].ts),oe=re[re.length-1];F.push(ie=>{const G=Ht(mt,`guilds/${N}/history_weekly/${K}`);ie.set(G,{guildIdentifier:N,weekId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Ge(oe.row,ze.GUILDS.TIMESTAMP),server:$i(Ge(oe.row,ze.GUILDS.SERVER)||""),name:Ge(oe.row,ze.GUILDS.NAME)||null,values:ne,updatedAt:ii()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[K,re]of fe){re.sort((ie,G)=>ie.ts-G.ts);const ne=Zd(re,f),Q=R_(re[re.length-1].ts),oe=re[re.length-1];F.push(ie=>{const G=Ht(mt,`guilds/${N}/history_monthly/${K}`);ie.set(G,{guildIdentifier:N,monthId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Ge(oe.row,ze.GUILDS.TIMESTAMP),server:$i(Ge(oe.row,ze.GUILDS.SERVER)||""),name:Ge(oe.row,ze.GUILDS.NAME)||null,values:ne,updatedAt:ii()},{merge:!0})}),l.writtenMonthlyGuilds++}}await Ha(A,P_,"scans",e.onProgress),await Ha(C,N_,"latest",e.onProgress),await Ha(F,D_,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:i,durationMs:p-n}}const Ve=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),w8=t=>String(t!=null?t:"").trim(),Ng=t=>w8(t).toUpperCase(),Dg=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Nn(t,e){for(const n of Object.keys(t))if(Ve(n)===e)return t[n]}function ri(t,e){for(const n of e){const r=Nn(t,n);if(r!=null&&String(r)!=="")return r}}function Lo(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function nl(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),f=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,i,d,f,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ut={GUILD_IDENTIFIER:Ve("Guild Identifier"),SERVER:Ve("Server"),NAME:Ve("Name"),TIMESTAMP:Ve("Timestamp"),LEVEL:Ve("Level"),CLASS:Ve("Class"),GUILD:Ve("Guild"),GUILD_ROLE:[Ve("Role"),Ve("Guild Role")],TREASURY:[Ve("Treasury"),Ve("Fortress Treasury"),Ve("Treasury Level"),Ve("Festungsschatzkammer")],MINE:[Ve("Mine"),Ve("Gem Mine"),Ve("Mine Level"),Ve("Festungsmine")],BASE_MAIN:[Ve("Base"),Ve("Base Attribute"),Ve("BaseMain"),Ve("Basis Attribut")],CON_BASE:[Ve("Con Base"),Ve("Constitution Base"),Ve("Base Constitution"),Ve("Basis Konstitution"),Ve("conbase")],ATTR_TOT:[Ve("Attribute"),Ve("Attr Total"),Ve("Attribut"),Ve("Attribut Gesamt")],CON_TOT:[Ve("Constitution"),Ve("Constitution Total"),Ve("Konstitution"),Ve("Konstitution Gesamt")],LAST_ACTIVE:[Ve("Last Active"),Ve("LastActivity"),Ve("Letzte Aktivitt")],GUILD_JOINED:[Ve("Guild Joined"),Ve("Joined Guild"),Ve("Gildenbeitritt")]},fh={GUILD_IDENTIFIER:Ve("Guild Identifier"),SERVER:Ve("Server"),NAME:Ve("Name")};function F_(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function S8(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function T8(t){var n;const e=new Map;for(const r of t){const i=String((n=Nn(r,fh.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Nn(r,fh.SERVER),c=Nn(r,fh.NAME);if(!i||!l||!c)continue;const d=`${Ng(l)}__${Dg(String(c))}`;e.set(d,i)}return e}function E8(t){var N,U;const e=Nn(t,Ut.TIMESTAMP),n=nl(e),r=ri(t,Ut.LAST_ACTIVE),i=nl(r),l=ri(t,Ut.GUILD_JOINED),c=nl(l),d=Lo(Nn(t,Ut.LEVEL)),f=(()=>{const $=Nn(t,Ut.CLASS);return $!=null&&String($).trim()!==""?String($):null})(),p=(()=>{const $=ri(t,Ut.GUILD_ROLE);return $!=null&&String($).trim()!==""?String($):null})(),g=Lo(ri(t,Ut.TREASURY)),v=Lo(ri(t,Ut.MINE)),_=Lo(ri(t,Ut.BASE_MAIN)),S=Lo(ri(t,Ut.CON_BASE)),j=Lo(ri(t,Ut.ATTR_TOT)),A=Lo(ri(t,Ut.CON_TOT)),C=_!=null&&S!=null?_+S:null,F=j!=null&&A!=null?j+A:null,B=(()=>{const $=Nn(t,Ut.NAME);return $!=null&&String($).trim()!==""?String($):null})();return{id:String((U=(N=t==null?void 0:t.ID)!=null?N:t==null?void 0:t.Identifier)!=null?U:""),name:B,class:f,role:p,level:d,treasury:g,mine:v,baseMain:_,conBase:S,sumBaseTotal:C,attrTotal:j,conTotal:A,totalStats:F,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function si(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function j8(t){var c,d,f;const e=Ht(mt,`guilds/${t}/latest/latest`),n=await hs(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(f=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?f:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(l=nl(i)),{sec:l,raw:i}}async function k8(t){const e=Ht(mt,`guilds/${t}/snapshots/members_summary`),n=await hs(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=nl(r.updatedAt);if(i!=null)return i}return 0}async function C8(t,e){var l,c,d,f,p,g,v;const n=T8(e||[]),r=new Set;for(const _ of e||[]){const S=String((l=Nn(_,fh.GUILD_IDENTIFIER))!=null?l:"").trim();S&&r.add(S)}for(const _ of t||[]){const S=Nn(_,Ut.SERVER);let j=String((c=Nn(_,Ut.GUILD_IDENTIFIER))!=null?c:"").trim();if(!j){const A=(d=Nn(_,Ut.GUILD))!=null?d:_.Guild;if(A&&S){const C=`${Ng(S)}__${Dg(String(A))}`,F=n.get(C);F&&(j=F)}}j&&r.add(j)}let i=0;for(const _ of r){const{sec:S,raw:j}=await j8(_);if(S==null)continue;const A=await k8(_);if(S<=A)continue;const C=new Map;for(const K of t||[]){const re=Nn(K,Ut.SERVER);let ne=String((f=Nn(K,Ut.GUILD_IDENTIFIER))!=null?f:"").trim();if(!ne){const ie=(p=Nn(K,Ut.GUILD))!=null?p:K.Guild;if(ie&&re){const G=`${Ng(re)}__${Dg(String(ie))}`,ee=n.get(G);ee&&(ne=ee)}}if(ne!==_)continue;const Q=nl(Nn(K,Ut.TIMESTAMP));if(Q==null||Q!==S)continue;const oe=String((v=(g=K==null?void 0:K.ID)!=null?g:K==null?void 0:K.Identifier)!=null?v:"").trim();oe&&(C.has(oe)||C.set(oe,K))}const F=Array.from(C.values()),B=[];for(const K of F)B.push(E8(K));B.sort((K,re)=>{var oe,ie;const ne=F_(K.role),Q=F_(re.role);return ne!==Q?ne-Q:((oe=K.name)!=null?oe:"").toLowerCase().localeCompare(((ie=re.name)!=null?ie:"").toLowerCase())});const N=si(B,"level"),U=si(B,"treasury"),$=si(B,"mine"),W=si(B,"baseMain"),E=si(B,"conBase"),T=si(B,"sumBaseTotal"),I=si(B,"attrTotal"),D=si(B,"conTotal"),M=si(B,"totalStats"),V=JSON.stringify({gid:_,tsSec:S,members:B.map(K=>{var re,ne,Q,oe,ie,G,ee,ye,we,je,me,ke,Ae;return{id:K.id,name:(re=K.name)!=null?re:"",class:(ne=K.class)!=null?ne:"",role:(Q=K.role)!=null?Q:"",level:(oe=K.level)!=null?oe:null,treasury:(ie=K.treasury)!=null?ie:null,mine:(G=K.mine)!=null?G:null,baseMain:(ee=K.baseMain)!=null?ee:null,conBase:(ye=K.conBase)!=null?ye:null,sumBaseTotal:(we=K.sumBaseTotal)!=null?we:null,attrTotal:(je=K.attrTotal)!=null?je:null,conTotal:(me=K.conTotal)!=null?me:null,totalStats:(ke=K.totalStats)!=null?ke:null,guildJoinedMs:(Ae=K.guildJoinedMs)!=null?Ae:null}})}),L=S8(V),fe=Ht(mt,`guilds/${_}/snapshots/members_summary`);await Eh(fe,{guildId:_,count:B.length,updatedAt:j!=null?j:String(S),updatedAtMs:S*1e3,hash:L,avgLevel:N,avgTreasury:U,avgMine:$,avgBaseMain:W,avgConBase:E,avgSumBaseTotal:T,avgAttrTotal:I,avgConTotal:D,avgTotalStats:M,members:B,updatedAtServer:ii()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function A8(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function I8(t,e,n,r){var f,p,g;const i=Ht(mt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await hs(i);if(!l.exists())return await Eh(i,n,{merge:!1}),{first:n,firstTsMs:(f=n.updatedAtMs)!=null?f:n.timestamp?n.timestamp*1e3:r};const c=l.data(),d=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<d?(await Eh(i,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function R8(t,e,n){const r=Ht(mt,`guilds/${t}/history_monthly/${e}`);await Eh(r,n,{merge:!0})}function P8(t){var B,N,U,$,W,E,T,I,D,M,V,L,fe;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:l,latest:c,latestTsMs:d}=t,f=l!=null?Math.floor((d-l)/864e5):null,p=f!=null&&f<=40,g={available:p};p||(g.reason=f==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const v={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:f,guildId:e,server:r!=null?r:null},status:g};if(!p||!i)return v;const _=new Map;for(const K of i.members||[])K.playerId&&_.set(K.playerId,K);const S=[],j=[],A=[],C=[],F=[];for(const K of c.members||[]){if(!K.playerId)continue;const re=_.get(K.playerId)||null,ne=(B=K.sumBaseTotal)!=null?B:null,Q=(N=re==null?void 0:re.sumBaseTotal)!=null?N:null,oe=ne!=null&&Q!=null?ne-Q:0,ie=(U=K.totalStats)!=null?U:null,G=($=re==null?void 0:re.totalStats)!=null?$:null,ee=ie!=null&&G!=null?ie-G:0;S.push({playerId:K.playerId,name:(W=K.name)!=null?W:null,class:(E=K.class)!=null?E:null,levelLatest:(T=K.level)!=null?T:null,baseLatest:ne,baseDelta:oe}),j.push({playerId:K.playerId,name:(I=K.name)!=null?I:null,base:ne,stamDelta:null,shoDelta:null}),A.push({playerId:K.playerId,name:(D=K.name)!=null?D:null,stats:ne,delta:oe}),C.push({playerId:K.playerId,name:(M=K.name)!=null?M:null,total:ie,delta:ee}),F.push({playerId:K.playerId,name:(V=K.name)!=null?V:null,class:(L=K.class)!=null?L:null,stats:(fe=K.baseMain)!=null?fe:null,delta:(re==null?void 0:re.baseMain)!=null&&K.baseMain!=null?K.baseMain-re.baseMain:0})}return S.sort((K,re)=>{var ne,Q;return((ne=re.baseDelta)!=null?ne:-1/0)-((Q=K.baseDelta)!=null?Q:-1/0)}),A.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),C.sort((K,re)=>{var ne,Q;return((ne=re.total)!=null?ne:-1/0)-((Q=K.total)!=null?Q:-1/0)}),j.sort((K,re)=>{var ne,Q;return((ne=re.base)!=null?ne:-1/0)-((Q=K.base)!=null?Q:-1/0)}),F.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),{...v,mostBaseGained:S.slice(0,50),sumBaseStats:j.slice(0,50),highestBaseStats:A.slice(0,50),highestTotalStats:C.slice(0,50),mainAndCon:F.slice(0,50)}}const Om=t=>String(t!=null?t:"").trim(),Un=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function N8(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function V_(t){var f;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=N8((f=n[0])!=null?f:""),i=p=>{const g=[];let v="",_=!1;for(let S=0;S<p.length;S++){const j=p[S];j==='"'?_&&p[S+1]==='"'?(v+='"',S++):_=!_:j===r&&!_?(g.push(v),v=""):v+=j}return g.push(v),g},c=(n[0]?i(n[0]).map(Om):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=i(n[p]);if(g.every(_=>Om(_)===""))continue;const v={};for(let _=0;_<c.length;_++)v[c[_]]=g[_]!=null?Om(g[_]):"";d.push(v)}return{headers:c,rows:d,delimiter:r}}const Gt={PLAYERS:{IDENTIFIER:Un("Identifier"),GUILD_IDENTIFIER:Un("Guild Identifier"),TIMESTAMP:Un("Timestamp"),NAME:Un("Name"),SERVER:Un("Server"),OWN:Un("Own")},GUILDS:{GUILD_IDENTIFIER:Un("Guild Identifier"),GUILD_MEMBER_COUNT:Un("Guild Member Count"),NAME:Un("Name"),TIMESTAMP:Un("Timestamp")}},JT=(t,e)=>{const n=new Set(t.map(Un));return e.every(r=>n.has(r))},$r=(t,e)=>{for(const n of Object.keys(t))if(Un(n)===e)return t[n]};function D8(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function B_(t){const e=t.map(Un),n=l=>e.includes(l);let r=0,i=0;return n(Gt.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Gt.PLAYERS.IDENTIFIER)&&(r+=2),n(Gt.PLAYERS.TIMESTAMP)&&(r+=1),n(Gt.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(Gt.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(Gt.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(Gt.PLAYERS.IDENTIFIER)?"players":"guilds"}function O_(t,e){const n=D8(t);if(n!=="unknown"){const i=B_(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=B_(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function ZT(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function M8(t,e){var r;const n=[];if(!JT(e,[Gt.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const l=$r(i,Gt.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=$r(i,Gt.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:$r(i,Gt.PLAYERS.IDENTIFIER)||void 0,name:$r(i,Gt.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String($r(i,Gt.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=ZT($r(i,Gt.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function L8(t,e){const n=[];if(!JT(e,[Gt.GUILDS.GUILD_IDENTIFIER,Gt.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=$r(r,Gt.GUILDS.GUILD_IDENTIFIER),l=Number($r(r,Gt.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(l))continue;const c=ZT($r(r,Gt.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:$r(r,Gt.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function F8(t,e){var C,F,B,N,U,$;const n=[],r=new Map;for(const W of t){const E=W.id||"",T=(C=W.server)==null?void 0:C.toUpperCase();if(E){const I=`${T!=null?T:"NO"}::${E}`;r.has(I)||r.set(I,{server:T,id:E,name:W.name||"",own:!!W.own})}}const i=r.size,l=t.length,c=Array.from(r.values()).filter(W=>W.own).length,d=new Map;for(const W of r.values())W.server&&d.set(W.server,((F=d.get(W.server))!=null?F:0)+1);const f=Array.from(d.entries()).map(([W,E])=>({server:W,players:E})).sort((W,E)=>E.players-W.players),p=f.length,g=new Map;for(const W of t)g.set(W.guildIdentifier,((B=g.get(W.guildIdentifier))!=null?B:0)+1);const v=new Set,_=new Map;for(const W of e)v.add(W.guildIdentifier),_.set(W.guildIdentifier,{name:W.name||"",declared:W.memberCount});for(const W of g.keys())v.add(W);let S=0;const j=[];for(const W of v){const E=(N=_.get(W))==null?void 0:N.declared,T=(U=g.get(W))!=null?U:0,I=E!=null&&T===E;I&&S++,j.push({id:W,name:(($=_.get(W))==null?void 0:$.name)||"",declaredCount:E!=null?E:0,playersCount:T,full:I})}[..._.values()].some(W=>Number.isFinite(W.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),j.sort((W,E)=>W.name?W.name.localeCompare(E.name):W.id.localeCompare(E.id));const A=Array.from(r.values()).sort((W,E)=>(W.server||"")===(E.server||"")?W.name.localeCompare(E.name):(W.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:i,ownPlayers:c,servers:p,perServer:f,guildsRepresented:v.size,fullyScannedGuilds:S,notes:n,playersList:A,guildsList:j}}function V8(){const[t,e]=R.useState([]),[n,r]=R.useState(null),[i,l]=R.useState(!1),[c,d]=R.useState(null),[f,p]=R.useState(!1),[g,v]=R.useState(null),[_,S]=R.useState([]),[j,A]=R.useState(null);R.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const C=R.useCallback(async E=>{var T;l(!0),d(null),r(null),S([]),v(null);try{const I=Array.from(E).slice(0,2),D=[];let M=[],V=[];for(const L of I){const fe=L,K=await fe.text(),re=V_(K),{kind:ne,warn:Q}=O_(fe.name,re.headers);D.push({name:fe.name,size:fe.size||K.length,rows:re.rows.length,delimiter:re.delimiter,text:K,kind:ne,warn:Q}),ne==="players"?M=M.concat(M8(re.rows,re.headers)):ne==="guilds"&&(V=V.concat(L8(re.rows,re.headers)))}e(D),r(F8(M,V))}catch(I){d(String((T=I==null?void 0:I.message)!=null?T:I))}finally{l(!1)}},[]),F=R.useCallback(async E=>{!E||E.length===0||await C(E)},[C]),B=R.useCallback(async E=>{E.preventDefault();const T=E.dataTransfer.files;!T||!T.length||await C(T)},[C]);async function N(){var E,T,I;if(t.length){p(!0),A({phase:"prepare",current:0,total:0}),v(null),S([]);try{let D=[],M=[];for(const K of t){const re=V_(K.text),{kind:ne}=O_(K.name,re.headers);ne==="players"&&(D=D.concat(re.rows)),ne==="guilds"&&(M=M.concat(re.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!D.length,hasGuildsCsv:!!M.length,playersRows:D.length,guildsRows:M.length}),!M.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!D.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await L_(null,{kind:"guilds",rows:M,onProgress:K=>A(K)});console.info("[Import Report] guilds",V);const L=await L_(null,{kind:"players",rows:D,onProgress:K=>A(K)});console.info("[Import Report] players",L),await C8(D,M);const fe=new Set;for(const K of M){const re=$r(K,Un("Guild Identifier"));re&&fe.add(String(re))}for(const K of D){const re=$r(K,Un("Guild Identifier"));re&&fe.add(String(re))}for(const K of fe){const re=Ht(mt,`guilds/${K}/snapshots/members_summary`),ne=await hs(re);if(!ne.exists())continue;const Q=ne.data(),oe=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),ie=A8(oe),{first:G,firstTsMs:ee}=await I8(K,ie,Q,oe),ye=P8({guildId:K,monthKey:ie,server:(T=Q.server)!=null?T:null,first:G,firstTsMs:ee,latest:Q,latestTsMs:oe});await R8(K,ie,ye)}A({phase:"done",current:1,total:1}),S([V,L]),v("Import abgeschlossen.")}catch(D){console.error("[UploadCenter] Import error:",D),v(`Fehler beim Import: ${(I=D==null?void 0:D.message)!=null?I:D}`)}finally{p(!1),setTimeout(()=>A(null),1200)}}}const U=R.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, ${E.delimiter}, ${E.kind}${E.warn?" ":""})`),[t]),$=R.useMemo(()=>t.reduce((E,T)=>E+T.rows,0),[t]),W=j?Math.floor(100*j.current/Math.max(1,j.total||1)):0;return o.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[o.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[o.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),o.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[U.map((E,T)=>o.jsx("span",{className:"uc-chip",title:t[T].warn||"",children:E},T)),t.length>0&&o.jsxs("span",{className:"uc-chip",children:["Total: ",$," rows"]})]}),o.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[j&&o.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[o.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:o.jsx("div",{style:{width:`${W}%`,height:"100%",background:"#2E75F0"}})}),o.jsxs("span",{style:{color:"#D6E4F7"},children:[W,"%"]})]}),o.jsx("button",{onClick:N,disabled:!t.length||!n||f,className:"uc-btn",children:f?"Loading":"Load to DB"}),g&&o.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),o.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[o.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),o.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>F(E.target.files),disabled:i})]}),o.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:B,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&o.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&o.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[o.jsx("b",{children:"Fehler:"})," ",c]}),n&&o.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[o.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:o.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),o.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[o.jsx(yc,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),o.jsx(yc,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),o.jsx(yc,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),o.jsx(yc,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),o.jsx(yc,{label:"Verschiedene Server",value:n.servers})]}),o.jsxs("div",{style:{marginTop:12},children:[o.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Server"}),o.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),o.jsx("tbody",{children:n.perServer.map(E=>o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:E.server}),o.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),o.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[o.jsxs("details",{children:[o.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Server"}),o.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),o.jsx("th",{style:{textAlign:"left"},children:"Name"}),o.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),o.jsx("tbody",{children:n.playersList.map((E,T)=>{var I,D;return o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:(I=E.server)!=null?I:""}),o.jsx("td",{children:E.id}),o.jsx("td",{children:E.name||""}),o.jsx("td",{children:E.own?"":""})]},`${(D=E.server)!=null?D:"NO"}-${E.id}-${T}`)})})]})})]}),o.jsxs("details",{open:!0,children:[o.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),o.jsx("div",{style:{marginTop:8},children:o.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[o.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),o.jsx("th",{style:{textAlign:"left"},children:"Name"}),o.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),o.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),o.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),o.jsx("tbody",{children:n.guildsList.map((E,T)=>o.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[o.jsx("td",{children:E.id}),o.jsx("td",{children:E.name||""}),o.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),o.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),o.jsx("td",{style:{textAlign:"center"},children:E.full?"":""})]},`${E.id}-${T}`))})]})})]})]}),!!n.notes.length&&o.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",o.jsx("ul",{children:n.notes.map((E,T)=>o.jsx("li",{children:E},T))})]})]})]})}function yc({label:t,value:e,hint:n}){return o.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[o.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),o.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&o.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function B8(){return o.jsxs("div",{children:[o.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),o.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",o.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function O8(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=cw();return!t||!i?null:o.jsx("div",{className:As.backdrop,onClick:e,children:o.jsxs("div",{className:As.panel,onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:As.header,children:[o.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),o.jsxs("div",{className:As.tabs,children:[o.jsx("button",{type:"button",className:`${As.tabBtn} ${n==="csv"?As.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),o.jsx("button",{type:"button",className:`${As.tabBtn} ${n==="json"?As.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),o.jsx("button",{type:"button",className:As.closeBtn,onClick:e,children:"Schlieen"})]}),o.jsx("div",{className:As.content,children:n==="csv"?o.jsx(V8,{}):o.jsx(B8,{})})]})})}const $8=t=>()=>o.jsx("div",{style:{padding:16},children:o.jsx("h2",{style:{color:"var(--title)"},children:t})}),gn=$8("Diese Unterseite existiert in der neuen Struktur nicht mehr.");dj.createRoot(document.getElementById("root")).render(o.jsx(Le.StrictMode,{children:o.jsxs(BC,{role:"admin",children:[o.jsx(kk,{children:o.jsx(rk,{children:o.jsxs(ae,{element:o.jsx(mD,{}),children:[o.jsx(ae,{path:"/",element:o.jsx(gD,{})}),o.jsx(ae,{path:"/dashboard",element:o.jsx(tF,{})}),o.jsx(ae,{path:"/dashboard/kpis",element:o.jsx(sF,{})}),o.jsx(ae,{path:"/dashboard/activity",element:o.jsx(iF,{})}),o.jsx(ae,{path:"/dashboard/progression",element:o.jsx(oF,{})}),o.jsx(ae,{path:"/discover",element:o.jsx(aF,{})}),o.jsx(ae,{path:"/toplists",element:o.jsx(aV,{})}),o.jsx(ae,{path:"/sfmagazine",element:o.jsx(hF,{})}),o.jsx(ae,{path:"/players",element:o.jsx(lV,{})}),o.jsx(ae,{path:"/players/rankings",element:o.jsx(cV,{})}),o.jsx(ae,{path:"/players/stats",element:o.jsx(uV,{})}),o.jsx(ae,{path:"/players/profile",element:o.jsx(Am,{})}),o.jsx(ae,{path:"/players/profile/:playerId",element:o.jsx(Am,{})}),o.jsx(ae,{path:"/player/:playerId",element:o.jsx(Am,{})}),o.jsx(ae,{path:"/guilds",element:o.jsx(mV,{})}),o.jsx(ae,{path:"/guilds/rankings",element:o.jsx(gV,{})}),o.jsx(ae,{path:"/guilds/stats",element:o.jsx(yV,{})}),o.jsx(ae,{path:"/guilds/profile",element:o.jsx(Pm,{})}),o.jsx(ae,{path:"/guilds/profile/:guildId",element:o.jsx(Pm,{})}),o.jsx(ae,{path:"/guild/:guildId",element:o.jsx(Pm,{})}),o.jsx(ae,{path:"/servers",element:o.jsx(n6,{})}),o.jsx(ae,{path:"/servers/rankings",element:o.jsx(r6,{})}),o.jsx(ae,{path:"/servers/stats",element:o.jsx(s6,{})}),o.jsx(ae,{path:"/servers/profile",element:o.jsx(Nm,{})}),"               ",o.jsx(ae,{path:"/servers/profile/:serverId",element:o.jsx(Nm,{})}),"     ",o.jsx(ae,{path:"/server/:serverId",element:o.jsx(Nm,{})}),"              ",o.jsx(ae,{path:"/guidehub/*",element:o.jsx(wO,{})}),o.jsx(ae,{path:"/community",element:o.jsx(YO,{})}),o.jsx(ae,{path:"/community/scans",element:o.jsx(WT,{})}),o.jsx(ae,{path:"/community/predictions",element:o.jsx(qT,{})}),o.jsx(ae,{path:"/community/creators",element:o.jsx(GT,{})}),o.jsx(ae,{path:"/community/feedback",element:o.jsx(QT,{})}),o.jsx(ae,{path:"/community/news",element:o.jsx(KT,{})}),o.jsx(ae,{path:"/scans",element:o.jsx(XO,{})}),o.jsx(ae,{path:"/scans/latest",element:o.jsx(JO,{})}),o.jsx(ae,{path:"/scans/archive",element:o.jsx(ZO,{})}),o.jsx(ae,{path:"/guild-hub",element:o.jsx(e$,{})}),o.jsx(ae,{path:"/guild-hub/planner",element:o.jsx(r$,{})}),o.jsx(ae,{path:"/guild-hub/fusion",element:o.jsx(s$,{})}),o.jsx(ae,{path:"/guild-hub/waitlist",element:o.jsx(i$,{})}),o.jsx(ae,{path:"/guild-hub/activity",element:o.jsx(o$,{})}),o.jsx(ae,{path:"/guild-hub/imports",element:o.jsx(a$,{})}),o.jsx(ae,{path:"/guild-hub/announcements",element:o.jsx(l$,{})}),o.jsx(ae,{path:"/guild-hub/events",element:o.jsx(c$,{})}),o.jsx(ae,{path:"/guild-hub/roles",element:o.jsx(u$,{})}),o.jsx(ae,{path:"/guild-hub/settings",element:o.jsx(d$,{})}),o.jsx(ae,{path:"/settings",element:o.jsx(h$,{})}),o.jsxs(ae,{path:"/playground",element:o.jsx(f$,{}),children:[o.jsx(ae,{index:!0,element:o.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),o.jsx(ae,{path:"list-views",element:o.jsx(w_,{})}),o.jsx(ae,{path:"rescan-widget",element:o.jsx(T_,{})}),o.jsx(ae,{path:"upload-sim",element:o.jsx(E_,{})}),o.jsx(ae,{path:"theme-maker",element:o.jsx(v_,{})}),o.jsx(ae,{path:"theme-maker-pro",element:o.jsx(b_,{})}),o.jsx(ae,{path:"hud",element:o.jsx(p$,{})}),o.jsx(ae,{path:"hud/game-buttons",element:o.jsx($$,{})}),o.jsx(ae,{path:"core-ui/theme-maker",element:o.jsx(v_,{})}),o.jsx(ae,{path:"core-ui/theme-maker-pro",element:o.jsx(b_,{})}),o.jsx(ae,{path:"core-ui/list-views",element:o.jsx(w_,{})}),o.jsx(ae,{path:"sync/rescan",element:o.jsx(T_,{})}),o.jsx(ae,{path:"upload/sim",element:o.jsx(E_,{})}),o.jsx(ae,{path:"import/har",element:o.jsx(Q$,{})}),o.jsx(ae,{path:"import/json-csv",element:o.jsx(Z$,{})}),o.jsx(ae,{path:"import/schema",element:o.jsx(r9,{})}),o.jsx(ae,{path:"hubs/player-contained",element:o.jsx(a9,{})}),o.jsx(ae,{path:"hubs/guilds",element:o.jsx(d9,{})}),o.jsx(ae,{path:"hubs/servers",element:o.jsx(m9,{})}),o.jsx(ae,{path:"rankings/views",element:o.jsx(x9,{})}),o.jsx(ae,{path:"analytics/kpi",element:o.jsx(S9,{})}),o.jsx(ae,{path:"analytics/progression",element:o.jsx(k9,{})}),o.jsx(ae,{path:"analytics/legendary-pets",element:o.jsx(R9,{})}),o.jsx(ae,{path:"community/scans",element:o.jsx(M9,{})}),o.jsx(ae,{path:"community/creators",element:o.jsx(B9,{})}),o.jsx(ae,{path:"feedback/form",element:o.jsx(z9,{})}),o.jsx(ae,{path:"feedback/admin",element:o.jsx(q9,{})}),o.jsx(ae,{path:"help/tutorials",element:o.jsx(X9,{})}),o.jsx(ae,{path:"help/wiki",element:o.jsx(tU,{})}),o.jsx(ae,{path:"legal/tos",element:o.jsx(cU,{})}),o.jsx(ae,{path:"legal/transparency",element:o.jsx(fU,{})}),o.jsx(ae,{path:"settings",element:o.jsx(iU,{})}),o.jsx(ae,{path:"pwa/update",element:o.jsx(yU,{})}),o.jsx(ae,{path:"pwa/install",element:o.jsx(_U,{})}),o.jsx(ae,{path:"connect/manual",element:o.jsx(EU,{})}),o.jsx(ae,{path:"connect/userscript",element:o.jsx(AU,{})}),o.jsx(ae,{path:"interop/exports",element:o.jsx(NU,{})}),o.jsx(ae,{path:"interop/deeplinks",element:o.jsx(FU,{})}),o.jsx(ae,{path:"admin/servers",element:o.jsx($U,{})}),o.jsx(ae,{path:"admin/jobs",element:o.jsx(GU,{})}),o.jsx(ae,{path:"admin/flags",element:o.jsx(QU,{})}),o.jsx(ae,{path:"perf/table-lab",element:o.jsx(ZU,{})}),o.jsx(ae,{path:"mobile/filters",element:o.jsx(r8,{})}),o.jsx(ae,{path:"qa/a11y",element:o.jsx(a8,{})})]}),o.jsx(ae,{path:"/latest-scan",element:o.jsx(qp,{to:"/scans/latest",replace:!0})}),o.jsx(ae,{path:"/old-scans",element:o.jsx(qp,{to:"/scans/archive",replace:!0})}),o.jsx(ae,{path:"/favorites",element:gn()}),o.jsx(ae,{path:"/notifications",element:gn()}),o.jsx(ae,{path:"/guilds/planner",element:gn()}),o.jsx(ae,{path:"/guilds/fusion",element:gn()}),o.jsx(ae,{path:"/guilds/academy",element:gn()}),o.jsx(ae,{path:"/toplists/players",element:gn()}),o.jsx(ae,{path:"/toplists/guilds",element:gn()}),o.jsx(ae,{path:"/toplists/servers",element:gn()}),o.jsx(ae,{path:"/settings/profile",element:gn()}),o.jsx(ae,{path:"/settings/account",element:gn()}),o.jsx(ae,{path:"/settings/appearance",element:gn()}),o.jsx(ae,{path:"/players/search",element:gn()}),o.jsx(ae,{path:"/players/compare",element:gn()}),o.jsx(ae,{path:"/servers/list",element:gn()}),o.jsx(ae,{path:"/servers/trend",element:gn()}),o.jsx(ae,{path:"/scans/upload",element:gn()}),o.jsx(ae,{path:"/scans/history",element:gn()}),o.jsx(ae,{path:"*",element:o.jsx(qp,{to:"/",replace:!0})})]})})}),o.jsx(O8,{})]})}));
