(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Sy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm={exports:{}},Lc={},km={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function ck(){if(m1)return qe;m1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function P(G,ee,ye){this.props=G,this.context=ee,this.refs=N,this.updater=ye||T}P.prototype.isReactComponent={},P.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},P.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=P.prototype;function V(G,ee,ye){this.props=G,this.context=ee,this.refs=N,this.updater=ye||T}var A=V.prototype=new O;A.constructor=V,I(A,P.prototype),A.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,R={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(G,ee,ye){var je,ke={},me=null,Ce=null;if(ee!=null)for(je in ee.ref!==void 0&&(Ce=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)w.call(ee,je)&&!E.hasOwnProperty(je)&&(ke[je]=ee[je]);var Ae=arguments.length-2;if(Ae===1)ke.children=ye;else if(1<Ae){for(var Ne=Array(Ae),lt=0;lt<Ae;lt++)Ne[lt]=arguments[lt+2];ke.children=Ne}if(G&&G.defaultProps)for(je in Ae=G.defaultProps,Ae)ke[je]===void 0&&(ke[je]=Ae[je]);return{$$typeof:t,type:G,key:me,ref:Ce,props:ke,_owner:R.current}}function C(G,ee){return{$$typeof:t,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function M(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var U=/\/+/g;function $(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?M(""+G.key):ee.toString(36)}function ue(G,ee,ye,je,ke){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var Ce=!1;if(G===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(G.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=G,ke=ke(Ce),G=je===""?"."+$(Ce,0):je,x(ke)?(ye="",G!=null&&(ye=G.replace(U,"$&/")+"/"),ue(ke,ee,ye,"",function(lt){return lt})):ke!=null&&(F(ke)&&(ke=C(ke,ye+(!ke.key||Ce&&Ce.key===ke.key?"":(""+ke.key).replace(U,"$&/")+"/")+G)),ee.push(ke)),1;if(Ce=0,je=je===""?".":je+":",x(G))for(var Ae=0;Ae<G.length;Ae++){me=G[Ae];var Ne=je+$(me,Ae);Ce+=ue(me,ee,ye,Ne,ke)}else if(Ne=_(G),typeof Ne=="function")for(G=Ne.call(G),Ae=0;!(me=G.next()).done;)me=me.value,Ne=je+$(me,Ae++),Ce+=ue(me,ee,ye,Ne,ke);else if(me==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ce}function q(G,ee,ye){if(G==null)return G;var je=[],ke=0;return ue(G,je,"","",function(me){return ee.call(ye,me,ke++)}),je}function se(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},Q={transition:null},oe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:R};function ie(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:q,forEach:function(G,ee,ye){q(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return q(G,function(){ee++}),ee},toArray:function(G){return q(G,function(ee){return ee})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},qe.Component=P,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=V,qe.StrictMode=r,qe.Suspense=h,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,qe.act=ie,qe.cloneElement=function(G,ee,ye){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var je=I({},G.props),ke=G.key,me=G.ref,Ce=G._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,Ce=R.current),ee.key!==void 0&&(ke=""+ee.key),G.type&&G.type.defaultProps)var Ae=G.type.defaultProps;for(Ne in ee)w.call(ee,Ne)&&!E.hasOwnProperty(Ne)&&(je[Ne]=ee[Ne]===void 0&&Ae!==void 0?Ae[Ne]:ee[Ne])}var Ne=arguments.length-2;if(Ne===1)je.children=ye;else if(1<Ne){Ae=Array(Ne);for(var lt=0;lt<Ne;lt++)Ae[lt]=arguments[lt+2];je.children=Ae}return{$$typeof:t,type:G.type,key:ke,ref:me,props:je,_owner:Ce}},qe.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:l,_context:G},G.Consumer=G},qe.createElement=S,qe.createFactory=function(G){var ee=S.bind(null,G);return ee.type=G,ee},qe.createRef=function(){return{current:null}},qe.forwardRef=function(G){return{$$typeof:d,render:G}},qe.isValidElement=F,qe.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:se}},qe.memo=function(G,ee){return{$$typeof:p,type:G,compare:ee===void 0?null:ee}},qe.startTransition=function(G){var ee=Q.transition;Q.transition={};try{G()}finally{Q.transition=ee}},qe.unstable_act=ie,qe.useCallback=function(G,ee){return ne.current.useCallback(G,ee)},qe.useContext=function(G){return ne.current.useContext(G)},qe.useDebugValue=function(){},qe.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},qe.useEffect=function(G,ee){return ne.current.useEffect(G,ee)},qe.useId=function(){return ne.current.useId()},qe.useImperativeHandle=function(G,ee,ye){return ne.current.useImperativeHandle(G,ee,ye)},qe.useInsertionEffect=function(G,ee){return ne.current.useInsertionEffect(G,ee)},qe.useLayoutEffect=function(G,ee){return ne.current.useLayoutEffect(G,ee)},qe.useMemo=function(G,ee){return ne.current.useMemo(G,ee)},qe.useReducer=function(G,ee,ye){return ne.current.useReducer(G,ee,ye)},qe.useRef=function(G){return ne.current.useRef(G)},qe.useState=function(G){return ne.current.useState(G)},qe.useSyncExternalStore=function(G,ee,ye){return ne.current.useSyncExternalStore(G,ee,ye)},qe.useTransition=function(){return ne.current.useTransition()},qe.version="18.3.1",qe}var g1;function Ey(){return g1||(g1=1,km.exports=ck()),km.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function uk(){if(y1)return Lc;y1=1;var t=Ey(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var g,v={},_=null,T=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:_,ref:T,props:v,_owner:o.current}}return Lc.Fragment=n,Lc.jsx=c,Lc.jsxs=c,Lc}var x1;function dk(){return x1||(x1=1,Tm.exports=uk()),Tm.exports}var s=dk(),L=Ey();const Ve=Sy(L);var uh={},Cm={exports:{}},gs={},Im={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function hk(){return v1||(v1=1,(function(t){function e(Q,oe){var ie=Q.length;Q.push(oe);e:for(;0<ie;){var G=ie-1>>>1,ee=Q[G];if(0<o(ee,oe))Q[G]=oe,Q[ie]=ee,ie=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ie=Q.pop();if(ie!==oe){Q[0]=ie;e:for(var G=0,ee=Q.length,ye=ee>>>1;G<ye;){var je=2*(G+1)-1,ke=Q[je],me=je+1,Ce=Q[me];if(0>o(ke,ie))me<ee&&0>o(Ce,ke)?(Q[G]=Ce,Q[me]=ie,G=me):(Q[G]=ke,Q[je]=ie,G=je);else if(me<ee&&0>o(Ce,ie))Q[G]=Ce,Q[me]=ie,G=me;else break e}}return oe}function o(Q,oe){var ie=Q.sortIndex-oe.sortIndex;return ie!==0?ie:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,v=null,_=3,T=!1,I=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Q)r(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(p)}}function x(Q){if(N=!1,A(Q),!I)if(n(h)!==null)I=!0,se(w);else{var oe=n(p);oe!==null&&ne(x,oe.startTime-Q)}}function w(Q,oe){I=!1,N&&(N=!1,O(S),S=-1),T=!0;var ie=_;try{for(A(oe),v=n(h);v!==null&&(!(v.expirationTime>oe)||Q&&!M());){var G=v.callback;if(typeof G=="function"){v.callback=null,_=v.priorityLevel;var ee=G(v.expirationTime<=oe);oe=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(h)&&r(h),A(oe)}else r(h);v=n(h)}if(v!==null)var ye=!0;else{var je=n(p);je!==null&&ne(x,je.startTime-oe),ye=!1}return ye}finally{v=null,_=ie,T=!1}}var R=!1,E=null,S=-1,C=5,F=-1;function M(){return!(t.unstable_now()-F<C)}function U(){if(E!==null){var Q=t.unstable_now();F=Q;var oe=!0;try{oe=E(!0,Q)}finally{oe?$():(R=!1,E=null)}}else R=!1}var $;if(typeof V=="function")$=function(){V(U)};else if(typeof MessageChannel!="undefined"){var ue=new MessageChannel,q=ue.port2;ue.port1.onmessage=U,$=function(){q.postMessage(null)}}else $=function(){P(U,0)};function se(Q){E=Q,R||(R=!0,$())}function ne(Q,oe){S=P(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,se(w))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var ie=_;_=oe;try{return Q()}finally{_=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=_;_=Q;try{return oe()}finally{_=ie}},t.unstable_scheduleCallback=function(Q,oe,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,Q={id:g++,callback:oe,priorityLevel:Q,startTime:ie,expirationTime:ee,sortIndex:-1},ie>G?(Q.sortIndex=ie,e(p,Q),n(h)===null&&Q===n(p)&&(N?(O(S),S=-1):N=!0,ne(x,ie-G))):(Q.sortIndex=ee,e(h,Q),I||T||(I=!0,se(w))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var oe=_;return function(){var ie=_;_=oe;try{return Q.apply(this,arguments)}finally{_=ie}}}})(Am)),Am}var _1;function pk(){return _1||(_1=1,Im.exports=hk()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function fk(){if(b1)return gs;b1=1;var t=Ey(),e=pk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(i){return h.call(v,i)?!0:h.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,a,u,m){if(a===null||typeof a=="undefined"||T(i,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(i,a,u,m,y,j,D){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=j,this.removeEmptyString=D}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];P[a]=new N(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,V);P[a]=new N(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,V);P[a]=new N(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,V);P[a]=new N(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,a,u,m){var y=P.hasOwnProperty(a)?P[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,u,y,m)&&(u=null),m||y===null?_(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?i.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?i.setAttributeNS(m,a,u):i.setAttribute(a,u))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),R=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,G;function ee(i){if(G===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+i}var ye=!1;function je(i,a){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(i,[],a)}else{try{a.call()}catch(Z){m=Z}i.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}i()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),j=m.stack.split(`
`),D=y.length-1,z=j.length-1;1<=D&&0<=z&&y[D]!==j[z];)z--;for(;1<=D&&0<=z;D--,z--)if(y[D]!==j[z]){if(D!==1||z!==1)do if(D--,z--,0>z||y[D]!==j[z]){var H=`
`+y[D].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=D&&0<=z);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function ke(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=je(i.type,!1),i;case 11:return i=je(i.type.render,!1),i;case 1:return i=je(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Portal";case C:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return a=i.displayName||null,a!==null?a:me(i.type)||"Memo";case se:a=i._payload,i=i._init;try{return me(i(a))}catch(u){}}return null}function Ce(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lt(i){var a=Ne(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,j=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,j.call(this,D)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ot(i){i._valueTracker||(i._valueTracker=lt(i))}function un(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return i&&(m=Ne(i)?i.checked?"true":"false":i.value),i=m,i!==u?(a.setValue(i),!0):!1}function Kt(i){if(i=i||(typeof document!="undefined"?document:void 0),typeof i=="undefined")return null;try{return i.activeElement||i.body}catch(a){return i.body}}function Mt(i,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:i._wrapperState.initialChecked})}function ss(i,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ae(a.value!=null?a.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function rs(i,a){a=a.checked,a!=null&&A(i,"checked",a,!1)}function ht(i,a){rs(i,a);var u=Ae(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?is(i,a.type,u):a.hasOwnProperty("defaultValue")&&is(i,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Vs(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function is(i,a,u){(a!=="number"||Kt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var vn=Array.isArray;function _n(i,a,u,m){if(i=i.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=a.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Ae(u),a=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ws(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function os(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(vn(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Ae(u)}}function as(i,a){var u=Ae(a.value),m=Ae(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function js(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ls,ar=(function(i){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,u,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ls.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function pt(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bs=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(i){Bs.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),$s[a]=$s[i]})});function Dr(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||$s.hasOwnProperty(i)&&$s[i]?(""+a).trim():a+"px"}function Lr(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=Dr(u,a[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,y):i[u]=y}}var Mr=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(i,a){if(a){if(Mr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Fr(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=null;function xt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,Kn=null,Es=null;function ii(i){if(i=_c(i)){if(typeof lr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Ed(a),lr(i.stateNode,i.type,a))}}function Vr(i){Kn?Es?Es.push(i):Es=[i]:Kn=i}function Xl(){if(Kn){var i=Kn,a=Es;if(Es=Kn=null,ii(i),a)for(i=0;i<a.length;i++)ii(a[i])}}function Io(i,a){return i(a)}function Jl(){}var oi=!1;function Zl(i,a,u){if(oi)return i(a,u);oi=!0;try{return Io(i,a,u)}finally{oi=!1,(Kn!==null||Es!==null)&&(Jl(),Xl())}}function Ut(i,a){var u=i.stateNode;if(u===null)return null;var m=Ed(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Ta=!1;if(d)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch(i){Ta=!1}function Ao(i,a,u,m,y,j,D,z,H){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(de){this.onError(de)}}var Ro=!1,ka=null,ur=!1,ec=null,Zp={onError:function(i){Ro=!0,ka=i}};function Ca(i,a,u,m,y,j,D,z,H){Ro=!1,ka=null,Ao.apply(Zp,arguments)}function Yu(i,a,u,m,y,j,D,z,H){if(Ca.apply(this,arguments),Ro){if(Ro){var Z=ka;Ro=!1,ka=null}else throw Error(n(198));ur||(ur=!0,ec=Z)}}function dr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Po(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function hr(i){if(dr(i)!==i)throw Error(n(188))}function Xu(i){var a=i.alternate;if(!a){if(a=dr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,m=a;;){var y=u.return;if(y===null)break;var j=y.alternate;if(j===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===u)return hr(y),i;if(j===m)return hr(y),a;j=j.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=j;else{for(var D=!1,z=y.child;z;){if(z===u){D=!0,u=y,m=j;break}if(z===m){D=!0,m=y,u=j;break}z=z.sibling}if(!D){for(z=j.child;z;){if(z===u){D=!0,u=j,m=y;break}if(z===m){D=!0,m=j,u=y;break}z=z.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function tc(i){return i=Xu(i),i!==null?Ia(i):null}function Ia(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ia(i);if(a!==null)return a;i=i.sibling}return null}var Aa=e.unstable_scheduleCallback,nc=e.unstable_cancelCallback,Ju=e.unstable_shouldYield,ef=e.unstable_requestPaint,vt=e.unstable_now,Zu=e.unstable_getCurrentPriorityLevel,No=e.unstable_ImmediatePriority,Bi=e.unstable_UserBlockingPriority,Os=e.unstable_NormalPriority,sc=e.unstable_LowPriority,ed=e.unstable_IdlePriority,Do=null,Ts=null;function td(i){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Do,i,void 0,(i.current.flags&128)===128)}catch(a){}}var Qn=Math.clz32?Math.clz32:sd,rc=Math.log,nd=Math.LN2;function sd(i){return i>>>=0,i===0?32:31-(rc(i)/nd|0)|0}var Ra=64,Pa=4194304;function Oi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Lo(i,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,j=i.pingedLanes,D=u&268435455;if(D!==0){var z=D&~y;z!==0?m=Oi(z):(j&=D,j!==0&&(m=Oi(j)))}else D=u&~y,D!==0?m=Oi(D):j!==0&&(m=Oi(j));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,j=a&-a,y>=j||y===16&&(j&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)u=31-Qn(a),y=1<<u,m|=i[u],a&=~y;return m}function tf(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(i,a){for(var u=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,j=i.pendingLanes;0<j;){var D=31-Qn(j),z=1<<D,H=y[D];H===-1?((z&u)===0||(z&m)!==0)&&(y[D]=tf(z,a)):H<=a&&(i.expiredLanes|=z),j&=~z}}function ks(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Mo(){var i=Ra;return Ra<<=1,(Ra&4194240)===0&&(Ra=64),i}function Ui(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function zi(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Qn(a),i[a]=u}function ft(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-Qn(u),j=1<<y;a[y]=0,m[y]=-1,i[y]=-1,u&=~j}}function Hi(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var m=31-Qn(u),y=1<<m;y&a|i[m]&a&&(i[m]|=a),u&=~y}}var Xe=0;function Wi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var rd,Na,id,od,ad,ic=!1,$r=[],bn=null,pr=null,fr=null,Gi=new Map,Us=new Map,Br=[],nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ld(i,a){switch(i){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Gi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(a.pointerId)}}function cs(i,a,u,m,y,j){return i===null||i.nativeEvent!==j?(i={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:j,targetContainers:[y]},a!==null&&(a=_c(a),a!==null&&Na(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function sf(i,a,u,m,y){switch(a){case"focusin":return bn=cs(bn,i,a,u,m,y),!0;case"dragenter":return pr=cs(pr,i,a,u,m,y),!0;case"mouseover":return fr=cs(fr,i,a,u,m,y),!0;case"pointerover":var j=y.pointerId;return Gi.set(j,cs(Gi.get(j)||null,i,a,u,m,y)),!0;case"gotpointercapture":return j=y.pointerId,Us.set(j,cs(Us.get(j)||null,i,a,u,m,y)),!0}return!1}function cd(i){var a=Oo(i.target);if(a!==null){var u=dr(a);if(u!==null){if(a=u.tag,a===13){if(a=Po(u),a!==null){i.blockedOn=a,ad(i.priority,function(){id(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function li(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Da(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ss=m,u.target.dispatchEvent(m),Ss=null}else return a=_c(u),a!==null&&Na(a),i.blockedOn=u,!1;a.shift()}return!0}function Fo(i,a,u){li(i)&&u.delete(a)}function ud(){ic=!1,bn!==null&&li(bn)&&(bn=null),pr!==null&&li(pr)&&(pr=null),fr!==null&&li(fr)&&(fr=null),Gi.forEach(Fo),Us.forEach(Fo)}function mr(i,a){i.blockedOn===a&&(i.blockedOn=null,ic||(ic=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ud)))}function gr(i){function a(y){return mr(y,i)}if(0<$r.length){mr($r[0],i);for(var u=1;u<$r.length;u++){var m=$r[u];m.blockedOn===i&&(m.blockedOn=null)}}for(bn!==null&&mr(bn,i),pr!==null&&mr(pr,i),fr!==null&&mr(fr,i),Gi.forEach(a),Us.forEach(a),u=0;u<Br.length;u++)m=Br[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<Br.length&&(u=Br[0],u.blockedOn===null);)cd(u),u.blockedOn===null&&Br.shift()}var ci=x.ReactCurrentBatchConfig,qi=!0;function kt(i,a,u,m){var y=Xe,j=ci.transition;ci.transition=null;try{Xe=1,oc(i,a,u,m)}finally{Xe=y,ci.transition=j}}function rf(i,a,u,m){var y=Xe,j=ci.transition;ci.transition=null;try{Xe=4,oc(i,a,u,m)}finally{Xe=y,ci.transition=j}}function oc(i,a,u,m){if(qi){var y=Da(i,a,u,m);if(y===null)gf(i,a,m,Vo,u),ld(i,m);else if(sf(y,i,a,u,m))m.stopPropagation();else if(ld(i,m),a&4&&-1<nf.indexOf(i)){for(;y!==null;){var j=_c(y);if(j!==null&&rd(j),j=Da(i,a,u,m),j===null&&gf(i,a,m,Vo,u),j===y)break;y=j}y!==null&&m.stopPropagation()}else gf(i,a,m,null,u)}}var Vo=null;function Da(i,a,u,m){if(Vo=null,i=xt(m),i=Oo(i),i!==null)if(a=dr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Po(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Vo=i,null}function ac(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zu()){case No:return 1;case Bi:return 4;case Os:case sc:return 16;case ed:return 536870912;default:return 16}default:return 16}}var Cs=null,La=null,us=null;function lc(){if(us)return us;var i,a=La,u=a.length,m,y="value"in Cs?Cs.value:Cs.textContent,j=y.length;for(i=0;i<u&&a[i]===y[i];i++);var D=u-i;for(m=1;m<=D&&a[u-m]===y[j-m];m++);return us=y.slice(i,1<m?1-m:void 0)}function Ma(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Or(){return!0}function cc(){return!1}function wn(i){function a(u,m,y,j,D){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=j,this.target=D,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Or:cc,this.isPropagationStopped=cc,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),a}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=wn(yr),Ur=ie({},yr,{view:0,detail:0}),of=wn(Ur),Va,ui,Ki,$o=ie({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ki&&(Ki&&i.type==="mousemove"?(Va=i.screenX-Ki.screenX,ui=i.screenY-Ki.screenY):ui=Va=0,Ki=i),Va)},movementY:function(i){return"movementY"in i?i.movementY:ui}}),$a=wn($o),uc=ie({},$o,{dataTransfer:0}),dd=wn(uc),Ba=ie({},Ur,{relatedTarget:0}),Oa=wn(Ba),hd=ie({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),di=wn(hd),pd=ie({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fd=wn(pd),md=ie({},yr,{data:0}),dc=wn(md),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=gd[i])?!!a[i]:!1}function zr(){return yd}var f=ie({},Ur,{key:function(i){if(i.key){var a=Ua[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ma(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(i){return i.type==="keypress"?Ma(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ma(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),b=wn(f),k=ie({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=wn(k),Y=ie({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),te=wn(Y),ge=ie({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=wn(ge),sn=ie({},$o,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=wn(sn),dn=[9,13,27,32],Qt=d&&"CompositionEvent"in window,zs=null;d&&"documentMode"in document&&(zs=document.documentMode);var Is=d&&"TextEvent"in window&&!zs,Bo=d&&(!Qt||zs&&8<zs&&11>=zs),za=" ",cx=!1;function ux(i,a){switch(i){case"keyup":return dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ha=!1;function oT(i,a){switch(i){case"compositionend":return dx(a);case"keypress":return a.which!==32?null:(cx=!0,za);case"textInput":return i=a.data,i===za&&cx?null:i;default:return null}}function aT(i,a){if(Ha)return i==="compositionend"||!Qt&&ux(i,a)?(i=lc(),us=La=Cs=null,Ha=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Bo&&a.locale!=="ko"?null:a.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!lT[i.type]:a==="textarea"}function px(i,a,u,m){Vr(m),a=wd(a,"onChange"),0<a.length&&(u=new Fa("onChange","change",null,u,m),i.push({event:u,listeners:a}))}var hc=null,pc=null;function cT(i){Rx(i,0)}function xd(i){var a=Qa(i);if(un(a))return i}function uT(i,a){if(i==="change")return a}var fx=!1;if(d){var af;if(d){var lf="oninput"in document;if(!lf){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),lf=typeof mx.oninput=="function"}af=lf}else af=!1;fx=af&&(!document.documentMode||9<document.documentMode)}function gx(){hc&&(hc.detachEvent("onpropertychange",yx),pc=hc=null)}function yx(i){if(i.propertyName==="value"&&xd(pc)){var a=[];px(a,pc,i,xt(i)),Zl(cT,a)}}function dT(i,a,u){i==="focusin"?(gx(),hc=a,pc=u,hc.attachEvent("onpropertychange",yx)):i==="focusout"&&gx()}function hT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xd(pc)}function pT(i,a){if(i==="click")return xd(a)}function fT(i,a){if(i==="input"||i==="change")return xd(a)}function mT(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var xr=typeof Object.is=="function"?Object.is:mT;function fc(i,a){if(xr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!h.call(a,y)||!xr(i[y],a[y]))return!1}return!0}function xx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vx(i,a){var u=xx(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=a&&m>=a)return{node:u,offset:a-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xx(u)}}function _x(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?_x(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function bx(){for(var i=window,a=Kt();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(m){u=!1}if(u)i=a.contentWindow;else break;a=Kt(i.document)}return a}function cf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function gT(i){var a=bx(),u=i.focusedElem,m=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&_x(u.ownerDocument.documentElement,u)){if(m!==null&&cf(u)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,j=Math.min(m.start,y);m=m.end===void 0?j:Math.min(m.end,y),!i.extend&&j>m&&(y=m,m=j,j=y),y=vx(u,j);var D=vx(u,m);y&&D&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==D.node||i.focusOffset!==D.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),j>m?(i.addRange(a),i.extend(D.node,D.offset)):(a.setEnd(D.node,D.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var yT=d&&"documentMode"in document&&11>=document.documentMode,Wa=null,uf=null,mc=null,df=!1;function wx(i,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;df||Wa==null||Wa!==Kt(m)||(m=Wa,"selectionStart"in m&&cf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mc&&fc(mc,m)||(mc=m,m=wd(uf,"onSelect"),0<m.length&&(a=new Fa("onSelect","select",null,a,u),i.push({event:a,listeners:m}),a.target=Wa)))}function vd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Ga={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},hf={},jx={};d&&(jx=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function _d(i){if(hf[i])return hf[i];if(!Ga[i])return i;var a=Ga[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in jx)return hf[i]=a[u];return i}var Sx=_d("animationend"),Ex=_d("animationiteration"),Tx=_d("animationstart"),kx=_d("transitionend"),Cx=new Map,Ix="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(i,a){Cx.set(i,a),l(a,[i])}for(var pf=0;pf<Ix.length;pf++){var ff=Ix[pf],xT=ff.toLowerCase(),vT=ff[0].toUpperCase()+ff.slice(1);Qi(xT,"on"+vT)}Qi(Sx,"onAnimationEnd"),Qi(Ex,"onAnimationIteration"),Qi(Tx,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(kx,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function Ax(i,a,u){var m=i.type||"unknown-event";i.currentTarget=u,Yu(m,a,void 0,i),i.currentTarget=null}function Rx(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],y=m.event;m=m.listeners;e:{var j=void 0;if(a)for(var D=m.length-1;0<=D;D--){var z=m[D],H=z.instance,Z=z.currentTarget;if(z=z.listener,H!==j&&y.isPropagationStopped())break e;Ax(y,z,Z),j=H}else for(D=0;D<m.length;D++){if(z=m[D],H=z.instance,Z=z.currentTarget,z=z.listener,H!==j&&y.isPropagationStopped())break e;Ax(y,z,Z),j=H}}}if(ur)throw i=ec,ur=!1,ec=null,i}function Et(i,a){var u=a[wf];u===void 0&&(u=a[wf]=new Set);var m=i+"__bubble";u.has(m)||(Px(a,i,2,!1),u.add(m))}function mf(i,a,u){var m=0;a&&(m|=4),Px(u,i,m,a)}var bd="_reactListening"+Math.random().toString(36).slice(2);function yc(i){if(!i[bd]){i[bd]=!0,r.forEach(function(u){u!=="selectionchange"&&(_T.has(u)||mf(u,!1,i),mf(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[bd]||(a[bd]=!0,mf("selectionchange",!1,a))}}function Px(i,a,u,m){switch(ac(a)){case 1:var y=kt;break;case 4:y=rf;break;default:y=oc}u=y.bind(null,a,u,i),y=void 0,!Ta||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,u,{capture:!0,passive:y}):i.addEventListener(a,u,!0):y!==void 0?i.addEventListener(a,u,{passive:y}):i.addEventListener(a,u,!1)}function gf(i,a,u,m,y){var j=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var z=m.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(D===4)for(D=m.return;D!==null;){var H=D.tag;if((H===3||H===4)&&(H=D.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;D=D.return}for(;z!==null;){if(D=Oo(z),D===null)return;if(H=D.tag,H===5||H===6){m=j=D;continue e}z=z.parentNode}}m=m.return}Zl(function(){var Z=j,de=xt(u),pe=[];e:{var ce=Cx.get(i);if(ce!==void 0){var ve=Fa,we=i;switch(i){case"keypress":if(Ma(u)===0)break e;case"keydown":case"keyup":ve=b;break;case"focusin":we="focus",ve=Oa;break;case"focusout":we="blur",ve=Oa;break;case"beforeblur":case"afterblur":ve=Oa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=te;break;case Sx:case Ex:case Tx:ve=di;break;case kx:ve=ct;break;case"scroll":ve=of;break;case"wheel":ve=Je;break;case"copy":case"cut":case"paste":ve=fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=B}var Se=(a&4)!==0,zt=!Se&&i==="scroll",X=Se?ce!==null?ce+"Capture":null:ce;Se=[];for(var K=Z,J;K!==null;){J=K;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,X!==null&&(fe=Ut(K,X),fe!=null&&Se.push(xc(K,fe,J)))),zt)break;K=K.return}0<Se.length&&(ce=new ve(ce,we,null,u,de),pe.push({event:ce,listeners:Se}))}}if((a&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",ce&&u!==Ss&&(we=u.relatedTarget||u.fromElement)&&(Oo(we)||we[hi]))break e;if((ve||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,ve?(we=u.relatedTarget||u.toElement,ve=Z,we=we?Oo(we):null,we!==null&&(zt=dr(we),we!==zt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=Z),ve!==we)){if(Se=$a,fe="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Se=B,fe="onPointerLeave",X="onPointerEnter",K="pointer"),zt=ve==null?ce:Qa(ve),J=we==null?ce:Qa(we),ce=new Se(fe,K+"leave",ve,u,de),ce.target=zt,ce.relatedTarget=J,fe=null,Oo(de)===Z&&(Se=new Se(X,K+"enter",we,u,de),Se.target=J,Se.relatedTarget=zt,fe=Se),zt=fe,ve&&we)t:{for(Se=ve,X=we,K=0,J=Se;J;J=qa(J))K++;for(J=0,fe=X;fe;fe=qa(fe))J++;for(;0<K-J;)Se=qa(Se),K--;for(;0<J-K;)X=qa(X),J--;for(;K--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=qa(Se),X=qa(X)}Se=null}else Se=null;ve!==null&&Nx(pe,ce,ve,Se,!1),we!==null&&zt!==null&&Nx(pe,zt,we,Se,!0)}}e:{if(ce=Z?Qa(Z):window,ve=ce.nodeName&&ce.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ce.type==="file")var Te=uT;else if(hx(ce))if(fx)Te=fT;else{Te=hT;var Re=dT}else(ve=ce.nodeName)&&ve.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Te=pT);if(Te&&(Te=Te(i,Z))){px(pe,Te,u,de);break e}Re&&Re(i,ce,Z),i==="focusout"&&(Re=ce._wrapperState)&&Re.controlled&&ce.type==="number"&&is(ce,"number",ce.value)}switch(Re=Z?Qa(Z):window,i){case"focusin":(hx(Re)||Re.contentEditable==="true")&&(Wa=Re,uf=Z,mc=null);break;case"focusout":mc=uf=Wa=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,wx(pe,u,de);break;case"selectionchange":if(yT)break;case"keydown":case"keyup":wx(pe,u,de)}var Pe;if(Qt)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ha?ux(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Bo&&u.locale!=="ko"&&(Ha||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ha&&(Pe=lc()):(Cs=de,La="value"in Cs?Cs.value:Cs.textContent,Ha=!0)),Re=wd(Z,Me),0<Re.length&&(Me=new dc(Me,i,null,u,de),pe.push({event:Me,listeners:Re}),Pe?Me.data=Pe:(Pe=dx(u),Pe!==null&&(Me.data=Pe)))),(Pe=Is?oT(i,u):aT(i,u))&&(Z=wd(Z,"onBeforeInput"),0<Z.length&&(de=new dc("onBeforeInput","beforeinput",null,u,de),pe.push({event:de,listeners:Z}),de.data=Pe))}Rx(pe,a)})}function xc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function wd(i,a){for(var u=a+"Capture",m=[];i!==null;){var y=i,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=Ut(i,u),j!=null&&m.unshift(xc(i,j,y)),j=Ut(i,a),j!=null&&m.push(xc(i,j,y))),i=i.return}return m}function qa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Nx(i,a,u,m,y){for(var j=a._reactName,D=[];u!==null&&u!==m;){var z=u,H=z.alternate,Z=z.stateNode;if(H!==null&&H===m)break;z.tag===5&&Z!==null&&(z=Z,y?(H=Ut(u,j),H!=null&&D.unshift(xc(u,H,z))):y||(H=Ut(u,j),H!=null&&D.push(xc(u,H,z)))),u=u.return}D.length!==0&&i.push({event:a,listeners:D})}var bT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function Dx(i){return(typeof i=="string"?i:""+i).replace(bT,`
`).replace(wT,"")}function jd(i,a,u){if(a=Dx(a),Dx(i)!==a&&u)throw Error(n(425))}function Sd(){}var yf=null,xf=null;function vf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx!="undefined"?function(i){return Lx.resolve(null).then(i).catch(ET)}:_f;function ET(i){setTimeout(function(){throw i})}function bf(i,a){var u=a,m=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){i.removeChild(y),gr(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);gr(a)}function Yi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Mx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Ka,vc="__reactProps$"+Ka,hi="__reactContainer$"+Ka,wf="__reactEvents$"+Ka,TT="__reactListeners$"+Ka,kT="__reactHandles$"+Ka;function Oo(i){var a=i[Hr];if(a)return a;for(var u=i.parentNode;u;){if(a=u[hi]||u[Hr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=Mx(i);i!==null;){if(u=i[Hr])return u;i=Mx(i)}return a}i=u,u=i.parentNode}return null}function _c(i){return i=i[Hr]||i[hi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Qa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ed(i){return i[vc]||null}var jf=[],Ya=-1;function Xi(i){return{current:i}}function Tt(i){0>Ya||(i.current=jf[Ya],jf[Ya]=null,Ya--)}function _t(i,a){Ya++,jf[Ya]=i.current,i.current=a}var Ji={},Vn=Xi(Ji),ds=Xi(!1),Uo=Ji;function Xa(i,a){var u=i.type.contextTypes;if(!u)return Ji;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in u)y[j]=a[j];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function hs(i){return i=i.childContextTypes,i!=null}function Td(){Tt(ds),Tt(Vn)}function Fx(i,a,u){if(Vn.current!==Ji)throw Error(n(168));_t(Vn,a),_t(ds,u)}function Vx(i,a,u){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Ce(i)||"Unknown",y));return ie({},u,m)}function kd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ji,Uo=Vn.current,_t(Vn,i),_t(ds,ds.current),!0}function $x(i,a,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=Vx(i,a,Uo),m.__reactInternalMemoizedMergedChildContext=i,Tt(ds),Tt(Vn),_t(Vn,i)):Tt(ds),_t(ds,u)}var pi=null,Cd=!1,Sf=!1;function Bx(i){pi===null?pi=[i]:pi.push(i)}function CT(i){Cd=!0,Bx(i)}function Zi(){if(!Sf&&pi!==null){Sf=!0;var i=0,a=Xe;try{var u=pi;for(Xe=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}pi=null,Cd=!1}catch(y){throw pi!==null&&(pi=pi.slice(i+1)),Aa(No,Zi),y}finally{Xe=a,Sf=!1}}return null}var Ja=[],Za=0,Id=null,Ad=0,Hs=[],Ws=0,zo=null,fi=1,mi="";function Ho(i,a){Ja[Za++]=Ad,Ja[Za++]=Id,Id=i,Ad=a}function Ox(i,a,u){Hs[Ws++]=fi,Hs[Ws++]=mi,Hs[Ws++]=zo,zo=i;var m=fi;i=mi;var y=32-Qn(m)-1;m&=~(1<<y),u+=1;var j=32-Qn(a)+y;if(30<j){var D=y-y%5;j=(m&(1<<D)-1).toString(32),m>>=D,y-=D,fi=1<<32-Qn(a)+y|u<<y|m,mi=j+i}else fi=1<<j|u<<y|m,mi=i}function Ef(i){i.return!==null&&(Ho(i,1),Ox(i,1,0))}function Tf(i){for(;i===Id;)Id=Ja[--Za],Ja[Za]=null,Ad=Ja[--Za],Ja[Za]=null;for(;i===zo;)zo=Hs[--Ws],Hs[Ws]=null,mi=Hs[--Ws],Hs[Ws]=null,fi=Hs[--Ws],Hs[Ws]=null}var As=null,Rs=null,Ct=!1,vr=null;function Ux(i,a){var u=Qs(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function zx(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,As=i,Rs=Yi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,As=i,Rs=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=zo!==null?{id:fi,overflow:mi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Qs(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,As=i,Rs=null,!0):!1;default:return!1}}function kf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cf(i){if(Ct){var a=Rs;if(a){var u=a;if(!zx(i,a)){if(kf(i))throw Error(n(418));a=Yi(u.nextSibling);var m=As;a&&zx(i,a)?Ux(m,u):(i.flags=i.flags&-4097|2,Ct=!1,As=i)}}else{if(kf(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ct=!1,As=i}}}function Hx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;As=i}function Rd(i){if(i!==As)return!1;if(!Ct)return Hx(i),Ct=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!vf(i.type,i.memoizedProps)),a&&(a=Rs)){if(kf(i))throw Wx(),Error(n(418));for(;a;)Ux(i,a),a=Yi(a.nextSibling)}if(Hx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){Rs=Yi(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}Rs=null}}else Rs=As?Yi(i.stateNode.nextSibling):null;return!0}function Wx(){for(var i=Rs;i;)i=Yi(i.nextSibling)}function el(){Rs=As=null,Ct=!1}function If(i){vr===null?vr=[i]:vr.push(i)}var IT=x.ReactCurrentBatchConfig;function bc(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var y=m,j=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(D){var z=y.refs;D===null?delete z[j]:z[j]=D},a._stringRef=j,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Pd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Gx(i){var a=i._init;return a(i._payload)}function qx(i){function a(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function u(X,K){if(!i)return null;for(;K!==null;)a(X,K),K=K.sibling;return null}function m(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function y(X,K){return X=ao(X,K),X.index=0,X.sibling=null,X}function j(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=2,K):J):(X.flags|=2,K)):(X.flags|=1048576,K)}function D(X){return i&&X.alternate===null&&(X.flags|=2),X}function z(X,K,J,fe){return K===null||K.tag!==6?(K=_m(J,X.mode,fe),K.return=X,K):(K=y(K,J),K.return=X,K)}function H(X,K,J,fe){var Te=J.type;return Te===E?de(X,K,J.props.children,fe,J.key):K!==null&&(K.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===se&&Gx(Te)===K.type)?(fe=y(K,J.props),fe.ref=bc(X,K,J),fe.return=X,fe):(fe=nh(J.type,J.key,J.props,null,X.mode,fe),fe.ref=bc(X,K,J),fe.return=X,fe)}function Z(X,K,J,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=bm(J,X.mode,fe),K.return=X,K):(K=y(K,J.children||[]),K.return=X,K)}function de(X,K,J,fe,Te){return K===null||K.tag!==7?(K=Jo(J,X.mode,fe,Te),K.return=X,K):(K=y(K,J),K.return=X,K)}function pe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=_m(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return J=nh(K.type,K.key,K.props,null,X.mode,J),J.ref=bc(X,null,K),J.return=X,J;case R:return K=bm(K,X.mode,J),K.return=X,K;case se:var fe=K._init;return pe(X,fe(K._payload),J)}if(vn(K)||oe(K))return K=Jo(K,X.mode,J,null),K.return=X,K;Pd(X,K)}return null}function ce(X,K,J,fe){var Te=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:z(X,K,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Te?H(X,K,J,fe):null;case R:return J.key===Te?Z(X,K,J,fe):null;case se:return Te=J._init,ce(X,K,Te(J._payload),fe)}if(vn(J)||oe(J))return Te!==null?null:de(X,K,J,fe,null);Pd(X,J)}return null}function ve(X,K,J,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(J)||null,z(K,X,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return X=X.get(fe.key===null?J:fe.key)||null,H(K,X,fe,Te);case R:return X=X.get(fe.key===null?J:fe.key)||null,Z(K,X,fe,Te);case se:var Re=fe._init;return ve(X,K,J,Re(fe._payload),Te)}if(vn(fe)||oe(fe))return X=X.get(J)||null,de(K,X,fe,Te,null);Pd(K,fe)}return null}function we(X,K,J,fe){for(var Te=null,Re=null,Pe=K,Me=K=0,fn=null;Pe!==null&&Me<J.length;Me++){Pe.index>Me?(fn=Pe,Pe=null):fn=Pe.sibling;var it=ce(X,Pe,J[Me],fe);if(it===null){Pe===null&&(Pe=fn);break}i&&Pe&&it.alternate===null&&a(X,Pe),K=j(it,K,Me),Re===null?Te=it:Re.sibling=it,Re=it,Pe=fn}if(Me===J.length)return u(X,Pe),Ct&&Ho(X,Me),Te;if(Pe===null){for(;Me<J.length;Me++)Pe=pe(X,J[Me],fe),Pe!==null&&(K=j(Pe,K,Me),Re===null?Te=Pe:Re.sibling=Pe,Re=Pe);return Ct&&Ho(X,Me),Te}for(Pe=m(X,Pe);Me<J.length;Me++)fn=ve(Pe,X,Me,J[Me],fe),fn!==null&&(i&&fn.alternate!==null&&Pe.delete(fn.key===null?Me:fn.key),K=j(fn,K,Me),Re===null?Te=fn:Re.sibling=fn,Re=fn);return i&&Pe.forEach(function(lo){return a(X,lo)}),Ct&&Ho(X,Me),Te}function Se(X,K,J,fe){var Te=oe(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Re=Te=null,Pe=K,Me=K=0,fn=null,it=J.next();Pe!==null&&!it.done;Me++,it=J.next()){Pe.index>Me?(fn=Pe,Pe=null):fn=Pe.sibling;var lo=ce(X,Pe,it.value,fe);if(lo===null){Pe===null&&(Pe=fn);break}i&&Pe&&lo.alternate===null&&a(X,Pe),K=j(lo,K,Me),Re===null?Te=lo:Re.sibling=lo,Re=lo,Pe=fn}if(it.done)return u(X,Pe),Ct&&Ho(X,Me),Te;if(Pe===null){for(;!it.done;Me++,it=J.next())it=pe(X,it.value,fe),it!==null&&(K=j(it,K,Me),Re===null?Te=it:Re.sibling=it,Re=it);return Ct&&Ho(X,Me),Te}for(Pe=m(X,Pe);!it.done;Me++,it=J.next())it=ve(Pe,X,Me,it.value,fe),it!==null&&(i&&it.alternate!==null&&Pe.delete(it.key===null?Me:it.key),K=j(it,K,Me),Re===null?Te=it:Re.sibling=it,Re=it);return i&&Pe.forEach(function(lk){return a(X,lk)}),Ct&&Ho(X,Me),Te}function zt(X,K,J,fe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Te=J.key,Re=K;Re!==null;){if(Re.key===Te){if(Te=J.type,Te===E){if(Re.tag===7){u(X,Re.sibling),K=y(Re,J.props.children),K.return=X,X=K;break e}}else if(Re.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===se&&Gx(Te)===Re.type){u(X,Re.sibling),K=y(Re,J.props),K.ref=bc(X,Re,J),K.return=X,X=K;break e}u(X,Re);break}else a(X,Re);Re=Re.sibling}J.type===E?(K=Jo(J.props.children,X.mode,fe,J.key),K.return=X,X=K):(fe=nh(J.type,J.key,J.props,null,X.mode,fe),fe.ref=bc(X,K,J),fe.return=X,X=fe)}return D(X);case R:e:{for(Re=J.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(X,K.sibling),K=y(K,J.children||[]),K.return=X,X=K;break e}else{u(X,K);break}else a(X,K);K=K.sibling}K=bm(J,X.mode,fe),K.return=X,X=K}return D(X);case se:return Re=J._init,zt(X,K,Re(J._payload),fe)}if(vn(J))return we(X,K,J,fe);if(oe(J))return Se(X,K,J,fe);Pd(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(u(X,K.sibling),K=y(K,J),K.return=X,X=K):(u(X,K),K=_m(J,X.mode,fe),K.return=X,X=K),D(X)):u(X,K)}return zt}var tl=qx(!0),Kx=qx(!1),Nd=Xi(null),Dd=null,nl=null,Af=null;function Rf(){Af=nl=Dd=null}function Pf(i){var a=Nd.current;Tt(Nd),i._currentValue=a}function Nf(i,a,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===u)break;i=i.return}}function sl(i,a){Dd=i,Af=nl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(ps=!0),i.firstContext=null)}function Gs(i){var a=i._currentValue;if(Af!==i)if(i={context:i,memoizedValue:a,next:null},nl===null){if(Dd===null)throw Error(n(308));nl=i,Dd.dependencies={lanes:0,firstContext:i}}else nl=nl.next=i;return a}var Wo=null;function Df(i){Wo===null?Wo=[i]:Wo.push(i)}function Qx(i,a,u,m){var y=a.interleaved;return y===null?(u.next=u,Df(a)):(u.next=y.next,y.next=u),a.interleaved=u,gi(i,m)}function gi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var eo=!1;function Lf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function yi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function to(i,a,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(nt&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,gi(i,u)}return y=m.interleaved,y===null?(a.next=a,Df(m)):(a.next=y.next,y.next=a),m.interleaved=a,gi(i,u)}function Ld(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Hi(i,u)}}function Xx(i,a){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var D={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?y=j=D:j=j.next=D,u=u.next}while(u!==null);j===null?y=j=a:j=j.next=a}else y=j=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function Md(i,a,u,m){var y=i.updateQueue;eo=!1;var j=y.firstBaseUpdate,D=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var H=z,Z=H.next;H.next=null,D===null?j=Z:D.next=Z,D=H;var de=i.alternate;de!==null&&(de=de.updateQueue,z=de.lastBaseUpdate,z!==D&&(z===null?de.firstBaseUpdate=Z:z.next=Z,de.lastBaseUpdate=H))}if(j!==null){var pe=y.baseState;D=0,de=Z=H=null,z=j;do{var ce=z.lane,ve=z.eventTime;if((m&ce)===ce){de!==null&&(de=de.next={eventTime:ve,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var we=i,Se=z;switch(ce=a,ve=u,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){pe=we.call(ve,pe,ce);break e}pe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ce=typeof we=="function"?we.call(ve,pe,ce):we,ce==null)break e;pe=ie({},pe,ce);break e;case 2:eo=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,ce=y.effects,ce===null?y.effects=[z]:ce.push(z))}else ve={eventTime:ve,lane:ce,tag:z.tag,payload:z.payload,callback:z.callback,next:null},de===null?(Z=de=ve,H=pe):de=de.next=ve,D|=ce;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ce=z,z=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);if(de===null&&(H=pe),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=de,a=y.shared.interleaved,a!==null){y=a;do D|=y.lane,y=y.next;while(y!==a)}else j===null&&(y.shared.lanes=0);Ko|=D,i.lanes=D,i.memoizedState=pe}}function Jx(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var wc={},Wr=Xi(wc),jc=Xi(wc),Sc=Xi(wc);function Go(i){if(i===wc)throw Error(n(174));return i}function Mf(i,a){switch(_t(Sc,a),_t(jc,i),_t(Wr,wc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tt(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=tt(a,i)}Tt(Wr),_t(Wr,a)}function rl(){Tt(Wr),Tt(jc),Tt(Sc)}function Zx(i){Go(Sc.current);var a=Go(Wr.current),u=tt(a,i.type);a!==u&&(_t(jc,i),_t(Wr,u))}function Ff(i){jc.current===i&&(Tt(Wr),Tt(jc))}var Rt=Xi(0);function Fd(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vf=[];function $f(){for(var i=0;i<Vf.length;i++)Vf[i]._workInProgressVersionPrimary=null;Vf.length=0}var Vd=x.ReactCurrentDispatcher,Bf=x.ReactCurrentBatchConfig,qo=0,Pt=null,rn=null,hn=null,$d=!1,Ec=!1,Tc=0,AT=0;function $n(){throw Error(n(321))}function Of(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!xr(i[u],a[u]))return!1;return!0}function Uf(i,a,u,m,y,j){if(qo=j,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Vd.current=i===null||i.memoizedState===null?DT:LT,i=u(m,y),Ec){j=0;do{if(Ec=!1,Tc=0,25<=j)throw Error(n(301));j+=1,hn=rn=null,a.updateQueue=null,Vd.current=MT,i=u(m,y)}while(Ec)}if(Vd.current=Ud,a=rn!==null&&rn.next!==null,qo=0,hn=rn=Pt=null,$d=!1,a)throw Error(n(300));return i}function zf(){var i=Tc!==0;return Tc=0,i}function Gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Pt.memoizedState=hn=i:hn=hn.next=i,hn}function qs(){if(rn===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=rn.next;var a=hn===null?Pt.memoizedState:hn.next;if(a!==null)hn=a,rn=i;else{if(i===null)throw Error(n(310));rn=i,i={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},hn===null?Pt.memoizedState=hn=i:hn=hn.next=i}return hn}function kc(i,a){return typeof a=="function"?a(i):a}function Hf(i){var a=qs(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=rn,y=m.baseQueue,j=u.pending;if(j!==null){if(y!==null){var D=y.next;y.next=j.next,j.next=D}m.baseQueue=y=j,u.pending=null}if(y!==null){j=y.next,m=m.baseState;var z=D=null,H=null,Z=j;do{var de=Z.lane;if((qo&de)===de)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:i(m,Z.action);else{var pe={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?(z=H=pe,D=m):H=H.next=pe,Pt.lanes|=de,Ko|=de}Z=Z.next}while(Z!==null&&Z!==j);H===null?D=m:H.next=z,xr(m,a.memoizedState)||(ps=!0),a.memoizedState=m,a.baseState=D,a.baseQueue=H,u.lastRenderedState=m}if(i=u.interleaved,i!==null){y=i;do j=y.lane,Pt.lanes|=j,Ko|=j,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Wf(i){var a=qs(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,y=u.pending,j=a.memoizedState;if(y!==null){u.pending=null;var D=y=y.next;do j=i(j,D.action),D=D.next;while(D!==y);xr(j,a.memoizedState)||(ps=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),u.lastRenderedState=j}return[j,m]}function ev(){}function tv(i,a){var u=Pt,m=qs(),y=a(),j=!xr(m.memoizedState,y);if(j&&(m.memoizedState=y,ps=!0),m=m.queue,Gf(rv.bind(null,u,m,i),[i]),m.getSnapshot!==a||j||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,Cc(9,sv.bind(null,u,m,y,a),void 0,null),pn===null)throw Error(n(349));(qo&30)!==0||nv(u,a,y)}return y}function nv(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function sv(i,a,u,m){a.value=u,a.getSnapshot=m,iv(a)&&ov(i)}function rv(i,a,u){return u(function(){iv(a)&&ov(i)})}function iv(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!xr(i,u)}catch(m){return!0}}function ov(i){var a=gi(i,1);a!==null&&jr(a,i,1,-1)}function av(i){var a=Gr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:i},a.queue=i,i=i.dispatch=NT.bind(null,Pt,i),[a.memoizedState,i]}function Cc(i,a,u,m){return i={tag:i,create:a,destroy:u,deps:m,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,a.lastEffect=i)),i}function lv(){return qs().memoizedState}function Bd(i,a,u,m){var y=Gr();Pt.flags|=i,y.memoizedState=Cc(1|a,u,void 0,m===void 0?null:m)}function Od(i,a,u,m){var y=qs();m=m===void 0?null:m;var j=void 0;if(rn!==null){var D=rn.memoizedState;if(j=D.destroy,m!==null&&Of(m,D.deps)){y.memoizedState=Cc(a,u,j,m);return}}Pt.flags|=i,y.memoizedState=Cc(1|a,u,j,m)}function cv(i,a){return Bd(8390656,8,i,a)}function Gf(i,a){return Od(2048,8,i,a)}function uv(i,a){return Od(4,2,i,a)}function dv(i,a){return Od(4,4,i,a)}function hv(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function pv(i,a,u){return u=u!=null?u.concat([i]):null,Od(4,4,hv.bind(null,a,i),u)}function qf(){}function fv(i,a){var u=qs();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Of(a,m[1])?m[0]:(u.memoizedState=[i,a],i)}function mv(i,a){var u=qs();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Of(a,m[1])?m[0]:(i=i(),u.memoizedState=[i,a],i)}function gv(i,a,u){return(qo&21)===0?(i.baseState&&(i.baseState=!1,ps=!0),i.memoizedState=u):(xr(u,a)||(u=Mo(),Pt.lanes|=u,Ko|=u,i.baseState=!0),a)}function RT(i,a){var u=Xe;Xe=u!==0&&4>u?u:4,i(!0);var m=Bf.transition;Bf.transition={};try{i(!1),a()}finally{Xe=u,Bf.transition=m}}function yv(){return qs().memoizedState}function PT(i,a,u){var m=io(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},xv(i))vv(a,u);else if(u=Qx(i,a,u,m),u!==null){var y=Jn();jr(u,i,m,y),_v(u,a,m)}}function NT(i,a,u){var m=io(i),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(xv(i))vv(a,y);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var D=a.lastRenderedState,z=j(D,u);if(y.hasEagerState=!0,y.eagerState=z,xr(z,D)){var H=a.interleaved;H===null?(y.next=y,Df(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch(Z){}finally{}u=Qx(i,a,y,m),u!==null&&(y=Jn(),jr(u,i,m,y),_v(u,a,m))}}function xv(i){var a=i.alternate;return i===Pt||a!==null&&a===Pt}function vv(i,a){Ec=$d=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function _v(i,a,u){if((u&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Hi(i,u)}}var Ud={readContext:Gs,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},DT={readContext:Gs,useCallback:function(i,a){return Gr().memoizedState=[i,a===void 0?null:a],i},useContext:Gs,useEffect:cv,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Bd(4194308,4,hv.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Bd(4194308,4,i,a)},useInsertionEffect:function(i,a){return Bd(4,2,i,a)},useMemo:function(i,a){var u=Gr();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var m=Gr();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=PT.bind(null,Pt,i),[m.memoizedState,i]},useRef:function(i){var a=Gr();return i={current:i},a.memoizedState=i},useState:av,useDebugValue:qf,useDeferredValue:function(i){return Gr().memoizedState=i},useTransition:function(){var i=av(!1),a=i[0];return i=RT.bind(null,i[1]),Gr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var m=Pt,y=Gr();if(Ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),pn===null)throw Error(n(349));(qo&30)!==0||nv(m,a,u)}y.memoizedState=u;var j={value:u,getSnapshot:a};return y.queue=j,cv(rv.bind(null,m,j,i),[i]),m.flags|=2048,Cc(9,sv.bind(null,m,j,u,a),void 0,null),u},useId:function(){var i=Gr(),a=pn.identifierPrefix;if(Ct){var u=mi,m=fi;u=(m&~(1<<32-Qn(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=Tc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=AT++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},LT={readContext:Gs,useCallback:fv,useContext:Gs,useEffect:Gf,useImperativeHandle:pv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:Hf,useRef:lv,useState:function(){return Hf(kc)},useDebugValue:qf,useDeferredValue:function(i){var a=qs();return gv(a,rn.memoizedState,i)},useTransition:function(){var i=Hf(kc)[0],a=qs().memoizedState;return[i,a]},useMutableSource:ev,useSyncExternalStore:tv,useId:yv,unstable_isNewReconciler:!1},MT={readContext:Gs,useCallback:fv,useContext:Gs,useEffect:Gf,useImperativeHandle:pv,useInsertionEffect:uv,useLayoutEffect:dv,useMemo:mv,useReducer:Wf,useRef:lv,useState:function(){return Wf(kc)},useDebugValue:qf,useDeferredValue:function(i){var a=qs();return rn===null?a.memoizedState=i:gv(a,rn.memoizedState,i)},useTransition:function(){var i=Wf(kc)[0],a=qs().memoizedState;return[i,a]},useMutableSource:ev,useSyncExternalStore:tv,useId:yv,unstable_isNewReconciler:!1};function _r(i,a){if(i&&i.defaultProps){a=ie({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Kf(i,a,u,m){a=i.memoizedState,u=u(m,a),u=u==null?a:ie({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var zd={isMounted:function(i){return(i=i._reactInternals)?dr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var m=Jn(),y=io(i),j=yi(m,y);j.payload=a,u!=null&&(j.callback=u),a=to(i,j,y),a!==null&&(jr(a,i,y,m),Ld(a,i,y))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var m=Jn(),y=io(i),j=yi(m,y);j.tag=1,j.payload=a,u!=null&&(j.callback=u),a=to(i,j,y),a!==null&&(jr(a,i,y,m),Ld(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Jn(),m=io(i),y=yi(u,m);y.tag=2,a!=null&&(y.callback=a),a=to(i,y,m),a!==null&&(jr(a,i,m,u),Ld(a,i,m))}};function bv(i,a,u,m,y,j,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,j,D):a.prototype&&a.prototype.isPureReactComponent?!fc(u,m)||!fc(y,j):!0}function wv(i,a,u){var m=!1,y=Ji,j=a.contextType;return typeof j=="object"&&j!==null?j=Gs(j):(y=hs(a)?Uo:Vn.current,m=a.contextTypes,j=(m=m!=null)?Xa(i,y):Ji),a=new a(u,j),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=zd,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=j),a}function jv(i,a,u,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==i&&zd.enqueueReplaceState(a,a.state,null)}function Qf(i,a,u,m){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},Lf(i);var j=a.contextType;typeof j=="object"&&j!==null?y.context=Gs(j):(j=hs(a)?Uo:Vn.current,y.context=Xa(i,j)),y.state=i.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(Kf(i,a,j,u),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&zd.enqueueReplaceState(y,y.state,null),Md(i,u,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function il(i,a){try{var u="",m=a;do u+=ke(m),m=m.return;while(m);var y=u}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:a,stack:y,digest:null}}function Yf(i,a,u){return{value:i,source:null,stack:u!=null?u:null,digest:a!=null?a:null}}function Xf(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var FT=typeof WeakMap=="function"?WeakMap:Map;function Sv(i,a,u){u=yi(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){Yd||(Yd=!0,hm=m),Xf(i,a)},u}function Ev(i,a,u){u=yi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){Xf(i,a)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){Xf(i,a),typeof m!="function"&&(so===null?so=new Set([this]):so.add(this));var D=a.stack;this.componentDidCatch(a.value,{componentStack:D!==null?D:""})}),u}function Tv(i,a,u){var m=i.pingCache;if(m===null){m=i.pingCache=new FT;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),i=XT.bind(null,i,a,u),a.then(i,i))}function kv(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Cv(i,a,u,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=yi(-1,1),a.tag=2,to(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var VT=x.ReactCurrentOwner,ps=!1;function Xn(i,a,u,m){a.child=i===null?Kx(a,null,u,m):tl(a,i.child,u,m)}function Iv(i,a,u,m,y){u=u.render;var j=a.ref;return sl(a,y),m=Uf(i,a,u,m,j,y),u=zf(),i!==null&&!ps?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,xi(i,a,y)):(Ct&&u&&Ef(a),a.flags|=1,Xn(i,a,m,y),a.child)}function Av(i,a,u,m,y){if(i===null){var j=u.type;return typeof j=="function"&&!vm(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=j,Rv(i,a,j,m,y)):(i=nh(u.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(j=i.child,(i.lanes&y)===0){var D=j.memoizedProps;if(u=u.compare,u=u!==null?u:fc,u(D,m)&&i.ref===a.ref)return xi(i,a,y)}return a.flags|=1,i=ao(j,m),i.ref=a.ref,i.return=a,a.child=i}function Rv(i,a,u,m,y){if(i!==null){var j=i.memoizedProps;if(fc(j,m)&&i.ref===a.ref)if(ps=!1,a.pendingProps=m=j,(i.lanes&y)!==0)(i.flags&131072)!==0&&(ps=!0);else return a.lanes=i.lanes,xi(i,a,y)}return Jf(i,a,u,m,y)}function Pv(i,a,u){var m=a.pendingProps,y=m.children,j=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(al,Ps),Ps|=u;else{if((u&1073741824)===0)return i=j!==null?j.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,_t(al,Ps),Ps|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=j!==null?j.baseLanes:u,_t(al,Ps),Ps|=m}else j!==null?(m=j.baseLanes|u,a.memoizedState=null):m=u,_t(al,Ps),Ps|=m;return Xn(i,a,y,u),a.child}function Nv(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Jf(i,a,u,m,y){var j=hs(u)?Uo:Vn.current;return j=Xa(a,j),sl(a,y),u=Uf(i,a,u,m,j,y),m=zf(),i!==null&&!ps?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,xi(i,a,y)):(Ct&&m&&Ef(a),a.flags|=1,Xn(i,a,u,y),a.child)}function Dv(i,a,u,m,y){if(hs(u)){var j=!0;kd(a)}else j=!1;if(sl(a,y),a.stateNode===null)Wd(i,a),wv(a,u,m),Qf(a,u,m,y),m=!0;else if(i===null){var D=a.stateNode,z=a.memoizedProps;D.props=z;var H=D.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Gs(Z):(Z=hs(u)?Uo:Vn.current,Z=Xa(a,Z));var de=u.getDerivedStateFromProps,pe=typeof de=="function"||typeof D.getSnapshotBeforeUpdate=="function";pe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==m||H!==Z)&&jv(a,D,m,Z),eo=!1;var ce=a.memoizedState;D.state=ce,Md(a,m,D,y),H=a.memoizedState,z!==m||ce!==H||ds.current||eo?(typeof de=="function"&&(Kf(a,u,de,m),H=a.memoizedState),(z=eo||bv(a,u,z,m,ce,H,Z))?(pe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(a.flags|=4194308)):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),D.props=m,D.state=H,D.context=Z,m=z):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{D=a.stateNode,Yx(i,a),z=a.memoizedProps,Z=a.type===a.elementType?z:_r(a.type,z),D.props=Z,pe=a.pendingProps,ce=D.context,H=u.contextType,typeof H=="object"&&H!==null?H=Gs(H):(H=hs(u)?Uo:Vn.current,H=Xa(a,H));var ve=u.getDerivedStateFromProps;(de=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==pe||ce!==H)&&jv(a,D,m,H),eo=!1,ce=a.memoizedState,D.state=ce,Md(a,m,D,y);var we=a.memoizedState;z!==pe||ce!==we||ds.current||eo?(typeof ve=="function"&&(Kf(a,u,ve,m),we=a.memoizedState),(Z=eo||bv(a,u,Z,m,ce,we,H)||!1)?(de||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,we,H),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,we,H)),typeof D.componentDidUpdate=="function"&&(a.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=we),D.props=m,D.state=we,D.context=H,m=Z):(typeof D.componentDidUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),m=!1)}return Zf(i,a,u,m,j,y)}function Zf(i,a,u,m,y,j){Nv(i,a);var D=(a.flags&128)!==0;if(!m&&!D)return y&&$x(a,u,!1),xi(i,a,j);m=a.stateNode,VT.current=a;var z=D&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&D?(a.child=tl(a,i.child,null,j),a.child=tl(a,null,z,j)):Xn(i,a,z,j),a.memoizedState=m.state,y&&$x(a,u,!0),a.child}function Lv(i){var a=i.stateNode;a.pendingContext?Fx(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Fx(i,a.context,!1),Mf(i,a.containerInfo)}function Mv(i,a,u,m,y){return el(),If(y),a.flags|=256,Xn(i,a,u,m),a.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(i){return{baseLanes:i,cachePool:null,transitions:null}}function Fv(i,a,u){var m=a.pendingProps,y=Rt.current,j=!1,D=(a.flags&128)!==0,z;if((z=D)||(z=i!==null&&i.memoizedState===null?!1:(y&2)!==0),z?(j=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),_t(Rt,y&1),i===null)return Cf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(D=m.children,i=m.fallback,j?(m=a.mode,j=a.child,D={mode:"hidden",children:D},(m&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=D):j=sh(D,m,0,null),i=Jo(i,m,u,null),j.return=a,i.return=a,j.sibling=i,a.child=j,a.child.memoizedState=tm(u),a.memoizedState=em,i):nm(a,D));if(y=i.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return $T(i,a,D,m,z,y,u);if(j){j=m.fallback,D=a.mode,y=i.child,z=y.sibling;var H={mode:"hidden",children:m.children};return(D&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=ao(y,H),m.subtreeFlags=y.subtreeFlags&14680064),z!==null?j=ao(z,j):(j=Jo(j,D,u,null),j.flags|=2),j.return=a,m.return=a,m.sibling=j,a.child=m,m=j,j=a.child,D=i.child.memoizedState,D=D===null?tm(u):{baseLanes:D.baseLanes|u,cachePool:null,transitions:D.transitions},j.memoizedState=D,j.childLanes=i.childLanes&~u,a.memoizedState=em,m}return j=i.child,i=j.sibling,m=ao(j,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=m,a.memoizedState=null,m}function nm(i,a){return a=sh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Hd(i,a,u,m){return m!==null&&If(m),tl(a,i.child,null,u),i=nm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $T(i,a,u,m,y,j,D){if(u)return a.flags&256?(a.flags&=-257,m=Yf(Error(n(422))),Hd(i,a,D,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(j=m.fallback,y=a.mode,m=sh({mode:"visible",children:m.children},y,0,null),j=Jo(j,y,D,null),j.flags|=2,m.return=a,j.return=a,m.sibling=j,a.child=m,(a.mode&1)!==0&&tl(a,i.child,null,D),a.child.memoizedState=tm(D),a.memoizedState=em,j);if((a.mode&1)===0)return Hd(i,a,D,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var z=m.dgst;return m=z,j=Error(n(419)),m=Yf(j,m,void 0),Hd(i,a,D,m)}if(z=(D&i.childLanes)!==0,ps||z){if(m=pn,m!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|D))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,gi(i,y),jr(m,i,y,-1))}return xm(),m=Yf(Error(n(421))),Hd(i,a,D,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=JT.bind(null,i),y._reactRetry=a,null):(i=j.treeContext,Rs=Yi(y.nextSibling),As=a,Ct=!0,vr=null,i!==null&&(Hs[Ws++]=fi,Hs[Ws++]=mi,Hs[Ws++]=zo,fi=i.id,mi=i.overflow,zo=a),a=nm(a,m.children),a.flags|=4096,a)}function Vv(i,a,u){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Nf(i.return,a,u)}function sm(i,a,u,m,y){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=u,j.tailMode=y)}function $v(i,a,u){var m=a.pendingProps,y=m.revealOrder,j=m.tail;if(Xn(i,a,m.children,u),m=Rt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vv(i,u,a);else if(i.tag===19)Vv(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(_t(Rt,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)i=u.alternate,i!==null&&Fd(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),sm(a,!1,y,u,j);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Fd(i)===null){a.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}sm(a,!0,u,null,j);break;case"together":sm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function xi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Ko|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=ao(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=ao(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function BT(i,a,u){switch(a.tag){case 3:Lv(a),el();break;case 5:Zx(a);break;case 1:hs(a.type)&&kd(a);break;case 4:Mf(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;_t(Nd,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(_t(Rt,Rt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Fv(i,a,u):(_t(Rt,Rt.current&1),i=xi(i,a,u),i!==null?i.sibling:null);_t(Rt,Rt.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(i.flags&128)!==0){if(m)return $v(i,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),_t(Rt,Rt.current),m)break;return null;case 22:case 23:return a.lanes=0,Pv(i,a,u)}return xi(i,a,u)}var Bv,rm,Ov,Uv;Bv=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rm=function(){},Ov=function(i,a,u,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,Go(Wr.current);var j=null;switch(u){case"input":y=Mt(i,y),m=Mt(i,m),j=[];break;case"select":y=ie({},y,{value:void 0}),m=ie({},m,{value:void 0}),j=[];break;case"textarea":y=ws(i,y),m=ws(i,m),j=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Sd)}ri(u,m);var D;u=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var z=y[Z];for(D in z)z.hasOwnProperty(D)&&(u||(u={}),u[D]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in m){var H=m[Z];if(z=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&H!==z&&(H!=null||z!=null))if(Z==="style")if(z){for(D in z)!z.hasOwnProperty(D)||H&&H.hasOwnProperty(D)||(u||(u={}),u[D]="");for(D in H)H.hasOwnProperty(D)&&z[D]!==H[D]&&(u||(u={}),u[D]=H[D])}else u||(j||(j=[]),j.push(Z,u)),u=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(j=j||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&Et("scroll",i),j||z===H||(j=[])):(j=j||[]).push(Z,H))}u&&(j=j||[]).push("style",u);var Z=j;(a.updateQueue=Z)&&(a.flags|=4)}},Uv=function(i,a,u,m){u!==m&&(a.flags|=4)};function Ic(i,a){if(!Ct)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Bn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(a)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=u,a}function OT(i,a,u){var m=a.pendingProps;switch(Tf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(a),null;case 1:return hs(a.type)&&Td(),Bn(a),null;case 3:return m=a.stateNode,rl(),Tt(ds),Tt(Vn),$f(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Rd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vr!==null&&(mm(vr),vr=null))),rm(i,a),Bn(a),null;case 5:Ff(a);var y=Go(Sc.current);if(u=a.type,i!==null&&a.stateNode!=null)Ov(i,a,u,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Bn(a),null}if(i=Go(Wr.current),Rd(a)){m=a.stateNode,u=a.type;var j=a.memoizedProps;switch(m[Hr]=a,m[vc]=j,i=(a.mode&1)!==0,u){case"dialog":Et("cancel",m),Et("close",m);break;case"iframe":case"object":case"embed":Et("load",m);break;case"video":case"audio":for(y=0;y<gc.length;y++)Et(gc[y],m);break;case"source":Et("error",m);break;case"img":case"image":case"link":Et("error",m),Et("load",m);break;case"details":Et("toggle",m);break;case"input":ss(m,j),Et("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!j.multiple},Et("invalid",m);break;case"textarea":os(m,j),Et("invalid",m)}ri(u,j),y=null;for(var D in j)if(j.hasOwnProperty(D)){var z=j[D];D==="children"?typeof z=="string"?m.textContent!==z&&(j.suppressHydrationWarning!==!0&&jd(m.textContent,z,i),y=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(j.suppressHydrationWarning!==!0&&jd(m.textContent,z,i),y=["children",""+z]):o.hasOwnProperty(D)&&z!=null&&D==="onScroll"&&Et("scroll",m)}switch(u){case"input":Ot(m),Vs(m,j,!0);break;case"textarea":Ot(m),js(m);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(m.onclick=Sd)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=D.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=D.createElement(u,{is:m.is}):(i=D.createElement(u),u==="select"&&(D=i,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):i=D.createElementNS(i,u),i[Hr]=a,i[vc]=m,Bv(i,a,!1,!1),a.stateNode=i;e:{switch(D=Fr(u,m),u){case"dialog":Et("cancel",i),Et("close",i),y=m;break;case"iframe":case"object":case"embed":Et("load",i),y=m;break;case"video":case"audio":for(y=0;y<gc.length;y++)Et(gc[y],i);y=m;break;case"source":Et("error",i),y=m;break;case"img":case"image":case"link":Et("error",i),Et("load",i),y=m;break;case"details":Et("toggle",i),y=m;break;case"input":ss(i,m),y=Mt(i,m),Et("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=ie({},m,{value:void 0}),Et("invalid",i);break;case"textarea":os(i,m),y=ws(i,m),Et("invalid",i);break;default:y=m}ri(u,y),z=y;for(j in z)if(z.hasOwnProperty(j)){var H=z[j];j==="style"?Lr(i,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ar(i,H)):j==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&pt(i,H):typeof H=="number"&&pt(i,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Et("scroll",i):H!=null&&A(i,j,H,D))}switch(u){case"input":Ot(i),Vs(i,m,!1);break;case"textarea":Ot(i),js(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ae(m.value));break;case"select":i.multiple=!!m.multiple,j=m.value,j!=null?_n(i,!!m.multiple,j,!1):m.defaultValue!=null&&_n(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Sd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Bn(a),null;case 6:if(i&&a.stateNode!=null)Uv(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=Go(Sc.current),Go(Wr.current),Rd(a)){if(m=a.stateNode,u=a.memoizedProps,m[Hr]=a,(j=m.nodeValue!==u)&&(i=As,i!==null))switch(i.tag){case 3:jd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&jd(m.nodeValue,u,(i.mode&1)!==0)}j&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Hr]=a,a.stateNode=m}return Bn(a),null;case 13:if(Tt(Rt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ct&&Rs!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Wx(),el(),a.flags|=98560,j=!1;else if(j=Rd(a),m!==null&&m.dehydrated!==null){if(i===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Hr]=a}else el(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Bn(a),j=!1}else vr!==null&&(mm(vr),vr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Rt.current&1)!==0?on===0&&(on=3):xm())),a.updateQueue!==null&&(a.flags|=4),Bn(a),null);case 4:return rl(),rm(i,a),i===null&&yc(a.stateNode.containerInfo),Bn(a),null;case 10:return Pf(a.type._context),Bn(a),null;case 17:return hs(a.type)&&Td(),Bn(a),null;case 19:if(Tt(Rt),j=a.memoizedState,j===null)return Bn(a),null;if(m=(a.flags&128)!==0,D=j.rendering,D===null)if(m)Ic(j,!1);else{if(on!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(D=Fd(i),D!==null){for(a.flags|=128,Ic(j,!1),m=D.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)j=u,i=m,j.flags&=14680066,D=j.alternate,D===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=D.childLanes,j.lanes=D.lanes,j.child=D.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=D.memoizedProps,j.memoizedState=D.memoizedState,j.updateQueue=D.updateQueue,j.type=D.type,i=D.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return _t(Rt,Rt.current&1|2),a.child}i=i.sibling}j.tail!==null&&vt()>ll&&(a.flags|=128,m=!0,Ic(j,!1),a.lanes=4194304)}else{if(!m)if(i=Fd(D),i!==null){if(a.flags|=128,m=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ic(j,!0),j.tail===null&&j.tailMode==="hidden"&&!D.alternate&&!Ct)return Bn(a),null}else 2*vt()-j.renderingStartTime>ll&&u!==1073741824&&(a.flags|=128,m=!0,Ic(j,!1),a.lanes=4194304);j.isBackwards?(D.sibling=a.child,a.child=D):(u=j.last,u!==null?u.sibling=D:a.child=D,j.last=D)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=vt(),a.sibling=null,u=Rt.current,_t(Rt,m?u&1|2:u&1),a):(Bn(a),null);case 22:case 23:return ym(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Ps&1073741824)!==0&&(Bn(a),a.subtreeFlags&6&&(a.flags|=8192)):Bn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function UT(i,a){switch(Tf(a),a.tag){case 1:return hs(a.type)&&Td(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return rl(),Tt(ds),Tt(Vn),$f(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Ff(a),null;case 13:if(Tt(Rt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));el()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Tt(Rt),null;case 4:return rl(),null;case 10:return Pf(a.type._context),null;case 22:case 23:return ym(),null;case 24:return null;default:return null}}var Gd=!1,On=!1,zT=typeof WeakSet=="function"?WeakSet:Set,be=null;function ol(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Ft(i,a,m)}else u.current=null}function im(i,a,u){try{u()}catch(m){Ft(i,a,m)}}var zv=!1;function HT(i,a){if(yf=qi,i=bx(),cf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{u.nodeType,j.nodeType}catch(fe){u=null;break e}var D=0,z=-1,H=-1,Z=0,de=0,pe=i,ce=null;t:for(;;){for(var ve;pe!==u||y!==0&&pe.nodeType!==3||(z=D+y),pe!==j||m!==0&&pe.nodeType!==3||(H=D+m),pe.nodeType===3&&(D+=pe.nodeValue.length),(ve=pe.firstChild)!==null;)ce=pe,pe=ve;for(;;){if(pe===i)break t;if(ce===u&&++Z===y&&(z=D),ce===j&&++de===m&&(H=D),(ve=pe.nextSibling)!==null)break;pe=ce,ce=pe.parentNode}pe=ve}u=z===-1||H===-1?null:{start:z,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(xf={focusedElem:i,selectionRange:u},qi=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,zt=we.memoizedState,X=a.stateNode,K=X.getSnapshotBeforeUpdate(a.elementType===a.type?Se:_r(a.type,Se),zt);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Ft(a,a.return,fe)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return we=zv,zv=!1,we}function Ac(i,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var j=y.destroy;y.destroy=void 0,j!==void 0&&im(a,u,j)}y=y.next}while(y!==m)}}function qd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function om(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function Hv(i){var a=i.alternate;a!==null&&(i.alternate=null,Hv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Hr],delete a[vc],delete a[wf],delete a[TT],delete a[kT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Wv(i){return i.tag===5||i.tag===3||i.tag===4}function Gv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Wv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function am(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Sd));else if(m!==4&&(i=i.child,i!==null))for(am(i,a,u),i=i.sibling;i!==null;)am(i,a,u),i=i.sibling}function lm(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(lm(i,a,u),i=i.sibling;i!==null;)lm(i,a,u),i=i.sibling}var jn=null,br=!1;function no(i,a,u){for(u=u.child;u!==null;)qv(i,a,u),u=u.sibling}function qv(i,a,u){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Do,u)}catch(z){}switch(u.tag){case 5:On||ol(u,a);case 6:var m=jn,y=br;jn=null,no(i,a,u),jn=m,br=y,jn!==null&&(br?(i=jn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):jn.removeChild(u.stateNode));break;case 18:jn!==null&&(br?(i=jn,u=u.stateNode,i.nodeType===8?bf(i.parentNode,u):i.nodeType===1&&bf(i,u),gr(i)):bf(jn,u.stateNode));break;case 4:m=jn,y=br,jn=u.stateNode.containerInfo,br=!0,no(i,a,u),jn=m,br=y;break;case 0:case 11:case 14:case 15:if(!On&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var j=y,D=j.destroy;j=j.tag,D!==void 0&&((j&2)!==0||(j&4)!==0)&&im(u,a,D),y=y.next}while(y!==m)}no(i,a,u);break;case 1:if(!On&&(ol(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(z){Ft(u,a,z)}no(i,a,u);break;case 21:no(i,a,u);break;case 22:u.mode&1?(On=(m=On)||u.memoizedState!==null,no(i,a,u),On=m):no(i,a,u);break;default:no(i,a,u)}}function Kv(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new zT),a.forEach(function(m){var y=ZT.bind(null,i,m);u.has(m)||(u.add(m),m.then(y,y))})}}function wr(i,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var j=i,D=a,z=D;e:for(;z!==null;){switch(z.tag){case 5:jn=z.stateNode,br=!1;break e;case 3:jn=z.stateNode.containerInfo,br=!0;break e;case 4:jn=z.stateNode.containerInfo,br=!0;break e}z=z.return}if(jn===null)throw Error(n(160));qv(j,D,y),jn=null,br=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(Z){Ft(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Qv(a,i),a=a.sibling}function Qv(i,a){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(wr(a,i),qr(i),m&4){try{Ac(3,i,i.return),qd(3,i)}catch(Se){Ft(i,i.return,Se)}try{Ac(5,i,i.return)}catch(Se){Ft(i,i.return,Se)}}break;case 1:wr(a,i),qr(i),m&512&&u!==null&&ol(u,u.return);break;case 5:if(wr(a,i),qr(i),m&512&&u!==null&&ol(u,u.return),i.flags&32){var y=i.stateNode;try{pt(y,"")}catch(Se){Ft(i,i.return,Se)}}if(m&4&&(y=i.stateNode,y!=null)){var j=i.memoizedProps,D=u!==null?u.memoizedProps:j,z=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{z==="input"&&j.type==="radio"&&j.name!=null&&rs(y,j),Fr(z,D);var Z=Fr(z,j);for(D=0;D<H.length;D+=2){var de=H[D],pe=H[D+1];de==="style"?Lr(y,pe):de==="dangerouslySetInnerHTML"?ar(y,pe):de==="children"?pt(y,pe):A(y,de,pe,Z)}switch(z){case"input":ht(y,j);break;case"textarea":as(y,j);break;case"select":var ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var ve=j.value;ve!=null?_n(y,!!j.multiple,ve,!1):ce!==!!j.multiple&&(j.defaultValue!=null?_n(y,!!j.multiple,j.defaultValue,!0):_n(y,!!j.multiple,j.multiple?[]:"",!1))}y[vc]=j}catch(Se){Ft(i,i.return,Se)}}break;case 6:if(wr(a,i),qr(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,j=i.memoizedProps;try{y.nodeValue=j}catch(Se){Ft(i,i.return,Se)}}break;case 3:if(wr(a,i),qr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(a.containerInfo)}catch(Se){Ft(i,i.return,Se)}break;case 4:wr(a,i),qr(i);break;case 13:wr(a,i),qr(i),y=i.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(dm=vt())),m&4&&Kv(i);break;case 22:if(de=u!==null&&u.memoizedState!==null,i.mode&1?(On=(Z=On)||de,wr(a,i),On=Z):wr(a,i),qr(i),m&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!de&&(i.mode&1)!==0)for(be=i,de=i.child;de!==null;){for(pe=be=de;be!==null;){switch(ce=be,ve=ce.child,ce.tag){case 0:case 11:case 14:case 15:Ac(4,ce,ce.return);break;case 1:ol(ce,ce.return);var we=ce.stateNode;if(typeof we.componentWillUnmount=="function"){m=ce,u=ce.return;try{a=m,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Se){Ft(m,u,Se)}}break;case 5:ol(ce,ce.return);break;case 22:if(ce.memoizedState!==null){Jv(pe);continue}}ve!==null?(ve.return=ce,be=ve):Jv(pe)}de=de.sibling}e:for(de=null,pe=i;;){if(pe.tag===5){if(de===null){de=pe;try{y=pe.stateNode,Z?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(z=pe.stateNode,H=pe.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Dr("display",D))}catch(Se){Ft(i,i.return,Se)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=Z?"":pe.memoizedProps}catch(Se){Ft(i,i.return,Se)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:wr(a,i),qr(i),m&4&&Kv(i);break;case 21:break;default:wr(a,i),qr(i)}}function qr(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(Wv(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(pt(y,""),m.flags&=-33);var j=Gv(i);lm(i,j,y);break;case 3:case 4:var D=m.stateNode.containerInfo,z=Gv(i);am(i,z,D);break;default:throw Error(n(161))}}catch(H){Ft(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function WT(i,a,u){be=i,Yv(i)}function Yv(i,a,u){for(var m=(i.mode&1)!==0;be!==null;){var y=be,j=y.child;if(y.tag===22&&m){var D=y.memoizedState!==null||Gd;if(!D){var z=y.alternate,H=z!==null&&z.memoizedState!==null||On;z=Gd;var Z=On;if(Gd=D,(On=H)&&!Z)for(be=y;be!==null;)D=be,H=D.child,D.tag===22&&D.memoizedState!==null?Zv(y):H!==null?(H.return=D,be=H):Zv(y);for(;j!==null;)be=j,Yv(j),j=j.sibling;be=y,Gd=z,On=Z}Xv(i)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,be=j):Xv(i)}}function Xv(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:On||qd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!On)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:_r(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Jx(a,j,m);break;case 3:var D=a.updateQueue;if(D!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Jx(a,D,u)}break;case 5:var z=a.stateNode;if(u===null&&a.flags&4){u=z;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&gr(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}On||a.flags&512&&om(a)}catch(ce){Ft(a,a.return,ce)}}if(a===i){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function Jv(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function Zv(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{qd(4,a)}catch(H){Ft(a,u,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(H){Ft(a,y,H)}}var j=a.return;try{om(a)}catch(H){Ft(a,j,H)}break;case 5:var D=a.return;try{om(a)}catch(H){Ft(a,D,H)}}}catch(H){Ft(a,a.return,H)}if(a===i){be=null;break}var z=a.sibling;if(z!==null){z.return=a.return,be=z;break}be=a.return}}var GT=Math.ceil,Kd=x.ReactCurrentDispatcher,cm=x.ReactCurrentOwner,Ks=x.ReactCurrentBatchConfig,nt=0,pn=null,Yt=null,Sn=0,Ps=0,al=Xi(0),on=0,Rc=null,Ko=0,Qd=0,um=0,Pc=null,fs=null,dm=0,ll=1/0,vi=null,Yd=!1,hm=null,so=null,Xd=!1,ro=null,Jd=0,Nc=0,pm=null,Zd=-1,eh=0;function Jn(){return(nt&6)!==0?vt():Zd!==-1?Zd:Zd=vt()}function io(i){return(i.mode&1)===0?1:(nt&2)!==0&&Sn!==0?Sn&-Sn:IT.transition!==null?(eh===0&&(eh=Mo()),eh):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:ac(i.type)),i)}function jr(i,a,u,m){if(50<Nc)throw Nc=0,pm=null,Error(n(185));zi(i,u,m),((nt&2)===0||i!==pn)&&(i===pn&&((nt&2)===0&&(Qd|=u),on===4&&oo(i,Sn)),ms(i,m),u===1&&nt===0&&(a.mode&1)===0&&(ll=vt()+500,Cd&&Zi()))}function ms(i,a){var u=i.callbackNode;ai(i,a);var m=Lo(i,i===pn?Sn:0);if(m===0)u!==null&&nc(u),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(u!=null&&nc(u),a===1)i.tag===0?CT(t1.bind(null,i)):Bx(t1.bind(null,i)),ST(function(){(nt&6)===0&&Zi()}),u=null;else{switch(Wi(m)){case 1:u=No;break;case 4:u=Bi;break;case 16:u=Os;break;case 536870912:u=ed;break;default:u=Os}u=c1(u,e1.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function e1(i,a){if(Zd=-1,eh=0,(nt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(cl()&&i.callbackNode!==u)return null;var m=Lo(i,i===pn?Sn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=th(i,m);else{a=m;var y=nt;nt|=2;var j=s1();(pn!==i||Sn!==a)&&(vi=null,ll=vt()+500,Yo(i,a));do try{QT();break}catch(z){n1(i,z)}while(!0);Rf(),Kd.current=j,nt=y,Yt!==null?a=0:(pn=null,Sn=0,a=on)}if(a!==0){if(a===2&&(y=ks(i),y!==0&&(m=y,a=fm(i,y))),a===1)throw u=Rc,Yo(i,0),oo(i,m),ms(i,vt()),u;if(a===6)oo(i,m);else{if(y=i.current.alternate,(m&30)===0&&!qT(y)&&(a=th(i,m),a===2&&(j=ks(i),j!==0&&(m=j,a=fm(i,j))),a===1))throw u=Rc,Yo(i,0),oo(i,m),ms(i,vt()),u;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Xo(i,fs,vi);break;case 3:if(oo(i,m),(m&130023424)===m&&(a=dm+500-vt(),10<a)){if(Lo(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Jn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=_f(Xo.bind(null,i,fs,vi),a);break}Xo(i,fs,vi);break;case 4:if(oo(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var D=31-Qn(m);j=1<<D,D=a[D],D>y&&(y=D),m&=~j}if(m=y,m=vt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*GT(m/1960))-m,10<m){i.timeoutHandle=_f(Xo.bind(null,i,fs,vi),m);break}Xo(i,fs,vi);break;case 5:Xo(i,fs,vi);break;default:throw Error(n(329))}}}return ms(i,vt()),i.callbackNode===u?e1.bind(null,i):null}function fm(i,a){var u=Pc;return i.current.memoizedState.isDehydrated&&(Yo(i,a).flags|=256),i=th(i,a),i!==2&&(a=fs,fs=u,a!==null&&mm(a)),i}function mm(i){fs===null?fs=i:fs.push.apply(fs,i)}function qT(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],j=y.getSnapshot;y=y.value;try{if(!xr(j(),y))return!1}catch(D){return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oo(i,a){for(a&=~um,a&=~Qd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-Qn(a),m=1<<u;i[u]=-1,a&=~m}}function t1(i){if((nt&6)!==0)throw Error(n(327));cl();var a=Lo(i,0);if((a&1)===0)return ms(i,vt()),null;var u=th(i,a);if(i.tag!==0&&u===2){var m=ks(i);m!==0&&(a=m,u=fm(i,m))}if(u===1)throw u=Rc,Yo(i,0),oo(i,a),ms(i,vt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Xo(i,fs,vi),ms(i,vt()),null}function gm(i,a){var u=nt;nt|=1;try{return i(a)}finally{nt=u,nt===0&&(ll=vt()+500,Cd&&Zi())}}function Qo(i){ro!==null&&ro.tag===0&&(nt&6)===0&&cl();var a=nt;nt|=1;var u=Ks.transition,m=Xe;try{if(Ks.transition=null,Xe=1,i)return i()}finally{Xe=m,Ks.transition=u,nt=a,(nt&6)===0&&Zi()}}function ym(){Ps=al.current,Tt(al)}function Yo(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,jT(u)),Yt!==null)for(u=Yt.return;u!==null;){var m=u;switch(Tf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Td();break;case 3:rl(),Tt(ds),Tt(Vn),$f();break;case 5:Ff(m);break;case 4:rl();break;case 13:Tt(Rt);break;case 19:Tt(Rt);break;case 10:Pf(m.type._context);break;case 22:case 23:ym()}u=u.return}if(pn=i,Yt=i=ao(i.current,null),Sn=Ps=a,on=0,Rc=null,um=Qd=Ko=0,fs=Pc=null,Wo!==null){for(a=0;a<Wo.length;a++)if(u=Wo[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,j=u.pending;if(j!==null){var D=j.next;j.next=y,m.next=D}u.pending=m}Wo=null}return i}function n1(i,a){do{var u=Yt;try{if(Rf(),Vd.current=Ud,$d){for(var m=Pt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}$d=!1}if(qo=0,hn=rn=Pt=null,Ec=!1,Tc=0,cm.current=null,u===null||u.return===null){on=1,Rc=a,Yt=null;break}e:{var j=i,D=u.return,z=u,H=a;if(a=Sn,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,de=z,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var ve=kv(D);if(ve!==null){ve.flags&=-257,Cv(ve,D,z,j,a),ve.mode&1&&Tv(j,Z,a),a=ve,H=Z;var we=a.updateQueue;if(we===null){var Se=new Set;Se.add(H),a.updateQueue=Se}else we.add(H);break e}else{if((a&1)===0){Tv(j,Z,a),xm();break e}H=Error(n(426))}}else if(Ct&&z.mode&1){var zt=kv(D);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),Cv(zt,D,z,j,a),If(il(H,z));break e}}j=H=il(H,z),on!==4&&(on=2),Pc===null?Pc=[j]:Pc.push(j),j=D;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var X=Sv(j,H,a);Xx(j,X);break e;case 1:z=H;var K=j.type,J=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(so===null||!so.has(J)))){j.flags|=65536,a&=-a,j.lanes|=a;var fe=Ev(j,z,a);Xx(j,fe);break e}}j=j.return}while(j!==null)}i1(u)}catch(Te){a=Te,Yt===u&&u!==null&&(Yt=u=u.return);continue}break}while(!0)}function s1(){var i=Kd.current;return Kd.current=Ud,i===null?Ud:i}function xm(){(on===0||on===3||on===2)&&(on=4),pn===null||(Ko&268435455)===0&&(Qd&268435455)===0||oo(pn,Sn)}function th(i,a){var u=nt;nt|=2;var m=s1();(pn!==i||Sn!==a)&&(vi=null,Yo(i,a));do try{KT();break}catch(y){n1(i,y)}while(!0);if(Rf(),nt=u,Kd.current=m,Yt!==null)throw Error(n(261));return pn=null,Sn=0,on}function KT(){for(;Yt!==null;)r1(Yt)}function QT(){for(;Yt!==null&&!Ju();)r1(Yt)}function r1(i){var a=l1(i.alternate,i,Ps);i.memoizedProps=i.pendingProps,a===null?i1(i):Yt=a,cm.current=null}function i1(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=OT(u,a,Ps),u!==null){Yt=u;return}}else{if(u=UT(u,a),u!==null){u.flags&=32767,Yt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{on=6,Yt=null;return}}if(a=a.sibling,a!==null){Yt=a;return}Yt=a=i}while(a!==null);on===0&&(on=5)}function Xo(i,a,u){var m=Xe,y=Ks.transition;try{Ks.transition=null,Xe=1,YT(i,a,u,m)}finally{Ks.transition=y,Xe=m}return null}function YT(i,a,u,m){do cl();while(ro!==null);if((nt&6)!==0)throw Error(n(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var j=u.lanes|u.childLanes;if(ft(i,j),i===pn&&(Yt=pn=null,Sn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Xd||(Xd=!0,c1(Os,function(){return cl(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=Ks.transition,Ks.transition=null;var D=Xe;Xe=1;var z=nt;nt|=4,cm.current=null,HT(i,u),Qv(u,i),gT(xf),qi=!!yf,xf=yf=null,i.current=u,WT(u),ef(),nt=z,Xe=D,Ks.transition=j}else i.current=u;if(Xd&&(Xd=!1,ro=i,Jd=y),j=i.pendingLanes,j===0&&(so=null),td(u.stateNode),ms(i,vt()),a!==null)for(m=i.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(Yd)throw Yd=!1,i=hm,hm=null,i;return(Jd&1)!==0&&i.tag!==0&&cl(),j=i.pendingLanes,(j&1)!==0?i===pm?Nc++:(Nc=0,pm=i):Nc=0,Zi(),null}function cl(){if(ro!==null){var i=Wi(Jd),a=Ks.transition,u=Xe;try{if(Ks.transition=null,Xe=16>i?16:i,ro===null)var m=!1;else{if(i=ro,ro=null,Jd=0,(nt&6)!==0)throw Error(n(331));var y=nt;for(nt|=4,be=i.current;be!==null;){var j=be,D=j.child;if((be.flags&16)!==0){var z=j.deletions;if(z!==null){for(var H=0;H<z.length;H++){var Z=z[H];for(be=Z;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:Ac(8,de,j)}var pe=de.child;if(pe!==null)pe.return=de,be=pe;else for(;be!==null;){de=be;var ce=de.sibling,ve=de.return;if(Hv(de),de===Z){be=null;break}if(ce!==null){ce.return=ve,be=ce;break}be=ve}}}var we=j.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var zt=Se.sibling;Se.sibling=null,Se=zt}while(Se!==null)}}be=j}}if((j.subtreeFlags&2064)!==0&&D!==null)D.return=j,be=D;else e:for(;be!==null;){if(j=be,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ac(9,j,j.return)}var X=j.sibling;if(X!==null){X.return=j.return,be=X;break e}be=j.return}}var K=i.current;for(be=K;be!==null;){D=be;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,be=J;else e:for(D=K;be!==null;){if(z=be,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:qd(9,z)}}catch(Te){Ft(z,z.return,Te)}if(z===D){be=null;break e}var fe=z.sibling;if(fe!==null){fe.return=z.return,be=fe;break e}be=z.return}}if(nt=y,Zi(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Do,i)}catch(Te){}m=!0}return m}finally{Xe=u,Ks.transition=a}}return!1}function o1(i,a,u){a=il(u,a),a=Sv(i,a,1),i=to(i,a,1),a=Jn(),i!==null&&(zi(i,1,a),ms(i,a))}function Ft(i,a,u){if(i.tag===3)o1(i,i,u);else for(;a!==null;){if(a.tag===3){o1(a,i,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(so===null||!so.has(m))){i=il(u,i),i=Ev(a,i,1),a=to(a,i,1),i=Jn(),a!==null&&(zi(a,1,i),ms(a,i));break}}a=a.return}}function XT(i,a,u){var m=i.pingCache;m!==null&&m.delete(a),a=Jn(),i.pingedLanes|=i.suspendedLanes&u,pn===i&&(Sn&u)===u&&(on===4||on===3&&(Sn&130023424)===Sn&&500>vt()-dm?Yo(i,0):um|=u),ms(i,a)}function a1(i,a){a===0&&((i.mode&1)===0?a=1:(a=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var u=Jn();i=gi(i,a),i!==null&&(zi(i,a,u),ms(i,u))}function JT(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),a1(i,u)}function ZT(i,a){var u=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),a1(i,u)}var l1;l1=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||ds.current)ps=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return ps=!1,BT(i,a,u);ps=(i.flags&131072)!==0}else ps=!1,Ct&&(a.flags&1048576)!==0&&Ox(a,Ad,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Wd(i,a),i=a.pendingProps;var y=Xa(a,Vn.current);sl(a,u),y=Uf(null,a,m,i,y,u);var j=zf();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,hs(m)?(j=!0,kd(a)):j=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Lf(a),y.updater=zd,a.stateNode=y,y._reactInternals=a,Qf(a,m,i,u),a=Zf(null,a,m,!0,j,u)):(a.tag=0,Ct&&j&&Ef(a),Xn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(Wd(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=tk(m),i=_r(m,i),y){case 0:a=Jf(null,a,m,i,u);break e;case 1:a=Dv(null,a,m,i,u);break e;case 11:a=Iv(null,a,m,i,u);break e;case 14:a=Av(null,a,m,_r(m.type,i),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:_r(m,y),Jf(i,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:_r(m,y),Dv(i,a,m,y,u);case 3:e:{if(Lv(a),i===null)throw Error(n(387));m=a.pendingProps,j=a.memoizedState,y=j.element,Yx(i,a),Md(a,m,null,u);var D=a.memoizedState;if(m=D.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){y=il(Error(n(423)),a),a=Mv(i,a,m,u,y);break e}else if(m!==y){y=il(Error(n(424)),a),a=Mv(i,a,m,u,y);break e}else for(Rs=Yi(a.stateNode.containerInfo.firstChild),As=a,Ct=!0,vr=null,u=Kx(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(el(),m===y){a=xi(i,a,u);break e}Xn(i,a,m,u)}a=a.child}return a;case 5:return Zx(a),i===null&&Cf(a),m=a.type,y=a.pendingProps,j=i!==null?i.memoizedProps:null,D=y.children,vf(m,y)?D=null:j!==null&&vf(m,j)&&(a.flags|=32),Nv(i,a),Xn(i,a,D,u),a.child;case 6:return i===null&&Cf(a),null;case 13:return Fv(i,a,u);case 4:return Mf(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=tl(a,null,m,u):Xn(i,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:_r(m,y),Iv(i,a,m,y,u);case 7:return Xn(i,a,a.pendingProps,u),a.child;case 8:return Xn(i,a,a.pendingProps.children,u),a.child;case 12:return Xn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,j=a.memoizedProps,D=y.value,_t(Nd,m._currentValue),m._currentValue=D,j!==null)if(xr(j.value,D)){if(j.children===y.children&&!ds.current){a=xi(i,a,u);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var z=j.dependencies;if(z!==null){D=j.child;for(var H=z.firstContext;H!==null;){if(H.context===m){if(j.tag===1){H=yi(-1,u&-u),H.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?H.next=H:(H.next=de.next,de.next=H),Z.pending=H}}j.lanes|=u,H=j.alternate,H!==null&&(H.lanes|=u),Nf(j.return,u,a),z.lanes|=u;break}H=H.next}}else if(j.tag===10)D=j.type===a.type?null:j.child;else if(j.tag===18){if(D=j.return,D===null)throw Error(n(341));D.lanes|=u,z=D.alternate,z!==null&&(z.lanes|=u),Nf(D,u,a),D=j.sibling}else D=j.child;if(D!==null)D.return=j;else for(D=j;D!==null;){if(D===a){D=null;break}if(j=D.sibling,j!==null){j.return=D.return,D=j;break}D=D.return}j=D}Xn(i,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,sl(a,u),y=Gs(y),m=m(y),a.flags|=1,Xn(i,a,m,u),a.child;case 14:return m=a.type,y=_r(m,a.pendingProps),y=_r(m.type,y),Av(i,a,m,y,u);case 15:return Rv(i,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:_r(m,y),Wd(i,a),a.tag=1,hs(m)?(i=!0,kd(a)):i=!1,sl(a,u),wv(a,m,y),Qf(a,m,y,u),Zf(null,a,m,!0,i,u);case 19:return $v(i,a,u);case 22:return Pv(i,a,u)}throw Error(n(156,a.tag))};function c1(i,a){return Aa(i,a)}function ek(i,a,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(i,a,u,m){return new ek(i,a,u,m)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tk(i){if(typeof i=="function")return vm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===q)return 14}return 2}function ao(i,a){var u=i.alternate;return u===null?(u=Qs(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function nh(i,a,u,m,y,j){var D=2;if(m=i,typeof i=="function")vm(i)&&(D=1);else if(typeof i=="string")D=5;else e:switch(i){case E:return Jo(u.children,y,j,a);case S:D=8,y|=8;break;case C:return i=Qs(12,u,a,y|2),i.elementType=C,i.lanes=j,i;case $:return i=Qs(13,u,a,y),i.elementType=$,i.lanes=j,i;case ue:return i=Qs(19,u,a,y),i.elementType=ue,i.lanes=j,i;case ne:return sh(u,y,j,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:D=10;break e;case M:D=9;break e;case U:D=11;break e;case q:D=14;break e;case se:D=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Qs(D,u,a,y),a.elementType=i,a.type=m,a.lanes=j,a}function Jo(i,a,u,m){return i=Qs(7,i,m,a),i.lanes=u,i}function sh(i,a,u,m){return i=Qs(22,i,m,a),i.elementType=ne,i.lanes=u,i.stateNode={isHidden:!1},i}function _m(i,a,u){return i=Qs(6,i,null,a),i.lanes=u,i}function bm(i,a,u){return a=Qs(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function nk(i,a,u,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function wm(i,a,u,m,y,j,D,z,H){return i=new nk(i,a,u,z,H),a===1?(a=1,j===!0&&(a|=8)):a=0,j=Qs(3,null,null,a),i.current=j,j.stateNode=i,j.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lf(j),i}function sk(i,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:i,containerInfo:a,implementation:u}}function u1(i){if(!i)return Ji;i=i._reactInternals;e:{if(dr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(hs(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(hs(u))return Vx(i,u,a)}return a}function d1(i,a,u,m,y,j,D,z,H){return i=wm(u,m,!0,i,y,j,D,z,H),i.context=u1(null),u=i.current,m=Jn(),y=io(u),j=yi(m,y),j.callback=a!=null?a:null,to(u,j,y),i.current.lanes=y,zi(i,y,m),ms(i,m),i}function rh(i,a,u,m){var y=a.current,j=Jn(),D=io(y);return u=u1(u),a.context===null?a.context=u:a.pendingContext=u,a=yi(j,D),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=to(y,a,D),i!==null&&(jr(i,y,D,j),Ld(i,y,D)),D}function ih(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function h1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function jm(i,a){h1(i,a),(i=i.alternate)&&h1(i,a)}function rk(){return null}var p1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sm(i){this._internalRoot=i}oh.prototype.render=Sm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));rh(i,a,null,null)},oh.prototype.unmount=Sm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Qo(function(){rh(null,i,null,null)}),a[hi]=null}};function oh(i){this._internalRoot=i}oh.prototype.unstable_scheduleHydration=function(i){if(i){var a=od();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Br.length&&a!==0&&a<Br[u].priority;u++);Br.splice(u,0,i),u===0&&cd(i)}};function Em(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ah(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function f1(){}function ik(i,a,u,m,y){if(y){if(typeof m=="function"){var j=m;m=function(){var Z=ih(D);j.call(Z)}}var D=d1(a,m,i,0,null,!1,!1,"",f1);return i._reactRootContainer=D,i[hi]=D.current,yc(i.nodeType===8?i.parentNode:i),Qo(),D}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var z=m;m=function(){var Z=ih(H);z.call(Z)}}var H=wm(i,0,!1,null,null,!1,!1,"",f1);return i._reactRootContainer=H,i[hi]=H.current,yc(i.nodeType===8?i.parentNode:i),Qo(function(){rh(a,H,u,m)}),H}function lh(i,a,u,m,y){var j=u._reactRootContainer;if(j){var D=j;if(typeof y=="function"){var z=y;y=function(){var H=ih(D);z.call(H)}}rh(a,D,i,y)}else D=ik(u,a,i,y,m);return ih(D)}rd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Oi(a.pendingLanes);u!==0&&(Hi(a,u|1),ms(a,vt()),(nt&6)===0&&(ll=vt()+500,Zi()))}break;case 13:Qo(function(){var m=gi(i,1);if(m!==null){var y=Jn();jr(m,i,1,y)}}),jm(i,1)}},Na=function(i){if(i.tag===13){var a=gi(i,134217728);if(a!==null){var u=Jn();jr(a,i,134217728,u)}jm(i,134217728)}},id=function(i){if(i.tag===13){var a=io(i),u=gi(i,a);if(u!==null){var m=Jn();jr(u,i,a,m)}jm(i,a)}},od=function(){return Xe},ad=function(i,a){var u=Xe;try{return Xe=i,a()}finally{Xe=u}},lr=function(i,a,u){switch(a){case"input":if(ht(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==i&&m.form===i.form){var y=Ed(m);if(!y)throw Error(n(90));un(m),ht(m,y)}}}break;case"textarea":as(i,u);break;case"select":a=u.value,a!=null&&_n(i,!!u.multiple,a,!1)}},Io=gm,Jl=Qo;var ok={usingClientEntryPoint:!1,Events:[_c,Qa,Ed,Vr,Xl,gm]},Dc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=tc(i),i===null?null:i.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Do=ch.inject(ak),Ts=ch}catch(i){}}return gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok,gs.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(a))throw Error(n(200));return sk(i,a,null,u)},gs.createRoot=function(i,a){if(!Em(i))throw Error(n(299));var u=!1,m="",y=p1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=wm(i,1,!1,null,null,u,!1,m,y),i[hi]=a.current,yc(i.nodeType===8?i.parentNode:i),new Sm(a)},gs.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=tc(a),i=i===null?null:i.stateNode,i},gs.flushSync=function(i){return Qo(i)},gs.hydrate=function(i,a,u){if(!ah(a))throw Error(n(200));return lh(null,i,a,!0,u)},gs.hydrateRoot=function(i,a,u){if(!Em(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,j="",D=p1;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),a=d1(a,null,i,1,u!=null?u:null,y,!1,j,D),i[hi]=a.current,yc(i),m)for(i=0;i<m.length;i++)u=m[i],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new oh(a)},gs.render=function(i,a,u){if(!ah(a))throw Error(n(200));return lh(null,i,a,!1,u)},gs.unmountComponentAtNode=function(i){if(!ah(i))throw Error(n(40));return i._reactRootContainer?(Qo(function(){lh(null,null,i,!1,function(){i._reactRootContainer=null,i[hi]=null})}),!0):!1},gs.unstable_batchedUpdates=gm,gs.unstable_renderSubtreeIntoContainer=function(i,a,u,m){if(!ah(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return lh(i,a,u,!1,m)},gs.version="18.3.1-next-f1338f8080-20240426",gs}var w1;function z2(){if(w1)return Cm.exports;w1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cm.exports=fk(),Cm.exports}var j1;function mk(){if(j1)return uh;j1=1;var t=z2();return uh.createRoot=t.createRoot,uh.hydrateRoot=t.hydrateRoot,uh}var gk=mk();const yk=Sy(gk);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S1="popstate";function xk(t={}){function e(o,l){let{pathname:c="/",search:d="",hash:h=""}=ba(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ag("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof l=="string"?l:du(l))}function r(o,l){Ls(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return _k(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Ls(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function vk(){return Math.random().toString(36).substring(2,10)}function E1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||r||vk()}}function du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _k(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let P=g(),O=P==null?null:P-p;p=P,h&&h({action:d,location:N.location,delta:O})}function _(P,O){d="PUSH";let V=Ag(N.location,P,O);n&&n(V,P),p=g()+1;let A=E1(V,p),x=N.createHref(V);try{c.pushState(A,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(x)}l&&h&&h({action:d,location:N.location,delta:1})}function T(P,O){d="REPLACE";let V=Ag(N.location,P,O);n&&n(V,P),p=g();let A=E1(V,p),x=N.createHref(V);c.replaceState(A,"",x),l&&h&&h({action:d,location:N.location,delta:0})}function I(P){return bk(P)}let N={get action(){return d},get location(){return t(o,c)},listen(P){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(S1,v),h=P,()=>{o.removeEventListener(S1,v),h=null}},createHref(P){return e(o,P)},createURL:I,encodeLocation(P){let O=I(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:T,go(P){return c.go(P)}};return N}function bk(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:du(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function H2(t,e,n="/"){return wk(t,e,n,!1)}function wk(t,e,n,r){let o=typeof e=="string"?ba(e):e,l=Pi(o.pathname||"/",n);if(l==null)return null;let c=W2(t);jk(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=Dk(l);d=Pk(c[h],p,r)}return d}function W2(t,e=[],n=[],r="",o=!1){let l=(c,d,h=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;At(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Ai([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),W2(c.children,e,_,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:Ak(v,c.index),routesMeta:_})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let p of G2(c.path))l(c,d,!0,p)}),e}function G2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=G2(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function jk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Rk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Sk=/^:[\w-]+$/,Ek=3,Tk=2,kk=1,Ck=10,Ik=-2,T1=t=>t==="*";function Ak(t,e){let n=t.split("/"),r=n.length;return n.some(T1)&&(r+=Ik),e&&(r+=Tk),n.filter(o=>!T1(o)).reduce((o,l)=>o+(Sk.test(l)?Ek:l===""?kk:Ck),r)}function Rk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function Pk(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Qh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),_=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Qh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Ai([l,v.pathname]),pathnameBase:Vk(Ai([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=Ai([l,v.pathnameBase]))}return c}function Qh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nk(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let I=d[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const T=d[_];return v&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function Nk(t,e=!1,n=!0){Ls(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Dk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Lk(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ba(t):t;return{pathname:n?n.startsWith("/")?n:Mk(n,e):e,search:$k(r),hash:Bk(o)}}function Mk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ty(t){let e=Fk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ky(t,e,n,r=!1){let o;typeof t=="string"?o=ba(t):(o={...t},At(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=Lk(o,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Ai=t=>t.join("/").replace(/\/\/+/g,"/"),Vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$k=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ok(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var q2=["POST","PUT","PATCH","DELETE"];new Set(q2);var Uk=["GET",...q2];new Set(Uk);var Ol=L.createContext(null);Ol.displayName="DataRouter";var wp=L.createContext(null);wp.displayName="DataRouterState";L.createContext(!1);var K2=L.createContext({isTransitioning:!1});K2.displayName="ViewTransition";var zk=L.createContext(new Map);zk.displayName="Fetchers";var Hk=L.createContext(null);Hk.displayName="Await";var Rr=L.createContext(null);Rr.displayName="Navigation";var Cu=L.createContext(null);Cu.displayName="Location";var or=L.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Cy=L.createContext(null);Cy.displayName="RouteError";function Wk(t,{relative:e}={}){At(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Rr),{hash:o,pathname:l,search:c}=Iu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ai([n,l])),r.createHref({pathname:d,search:c,hash:o})}function Ul(){return L.useContext(Cu)!=null}function Fs(){return At(Ul(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Cu).location}var Q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y2(t){L.useContext(Rr).static||L.useLayoutEffect(t)}function Eo(){let{isDataRoute:t}=L.useContext(or);return t?oC():Gk()}function Gk(){At(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Ol),{basename:e,navigator:n}=L.useContext(Rr),{matches:r}=L.useContext(or),{pathname:o}=Fs(),l=JSON.stringify(Ty(r)),c=L.useRef(!1);return Y2(()=>{c.current=!0}),L.useCallback((h,p={})=>{if(Ls(c.current,Q2),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=ky(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ai([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}var qk=L.createContext(null);function Kk(t){let e=L.useContext(or).outlet;return e&&L.createElement(qk.Provider,{value:t},e)}function Iy(){let{matches:t}=L.useContext(or),e=t[t.length-1];return e?e.params:{}}function Iu(t,{relative:e}={}){let{matches:n}=L.useContext(or),{pathname:r}=Fs(),o=JSON.stringify(Ty(n));return L.useMemo(()=>ky(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function Qk(t,e){return X2(t,e)}function X2(t,e,n,r,o){var V;At(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(Rr),{matches:c}=L.useContext(or),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let A=v&&v.path||"";J2(p,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let _=Fs(),T;if(e){let A=typeof e=="string"?ba(e):e;At(g==="/"||((V=A.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),T=A}else T=_;let I=T.pathname||"/",N=I;if(g!=="/"){let A=g.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=H2(t,{pathname:N});Ls(v||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ls(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=eC(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Ai([g,l.encodeLocation?l.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Ai([g,l.encodeLocation?l.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,n,r,o);return e&&O?L.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function Yk(){let t=iC(),e=Ok(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,c)}var Xk=L.createElement(Yk,null),Jk=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(or.Provider,{value:this.props.routeContext},L.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zk({routeContext:t,match:e,children:n}){let r=L.useContext(Ol);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(or.Provider,{value:t},n)}function eC(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:_}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||T){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let _,T=!1,I=null,N=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,I=g.route.errorElement||Xk,d&&(h<0&&v===0?(J2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):h===v&&(T=!0,N=g.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,v+1)),O=()=>{let V;return _?V=I:T?V=N:g.route.Component?V=L.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=p,L.createElement(Zk,{match:g,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?L.createElement(Jk,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):O()},null)}function Ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(t){let e=L.useContext(Ol);return At(e,Ay(t)),e}function nC(t){let e=L.useContext(wp);return At(e,Ay(t)),e}function sC(t){let e=L.useContext(or);return At(e,Ay(t)),e}function Ry(t){let e=sC(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rC(){return Ry("useRouteId")}function iC(){var r;let t=L.useContext(Cy),e=nC("useRouteError"),n=Ry("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function oC(){let{router:t}=tC("useNavigate"),e=Ry("useNavigate"),n=L.useRef(!1);return Y2(()=>{n.current=!0}),L.useCallback(async(o,l={})=>{Ls(n.current,Q2),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var k1={};function J2(t,e,n){!e&&!k1[t]&&(k1[t]=!0,Ls(!1,n))}L.memo(aC);function aC({routes:t,future:e,state:n,unstable_onError:r}){return X2(t,void 0,n,r,e)}function Pm({to:t,replace:e,state:n,relative:r}){At(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Rr);Ls(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(or),{pathname:c}=Fs(),d=Eo(),h=ky(t,Ty(l),c,r==="path"),p=JSON.stringify(h);return L.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function Z2(t){return Kk(t.context)}function ae(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){At(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=ba(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,T=L.useMemo(()=>{let I=Pi(h,c);return I==null?null:{location:{pathname:I,search:p,hash:g,state:v,key:_},navigationType:r}},[c,h,p,g,v,_,r]);return Ls(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:L.createElement(Rr.Provider,{value:d},L.createElement(Cu.Provider,{children:e,value:T}))}function cC({children:t,location:e}){return Qk(Rg(t),e)}function Rg(t,e=[]){let n=[];return L.Children.forEach(t,(r,o)=>{if(!L.isValidElement(r))return;let l=[...e,o];if(r.type===L.Fragment){n.push.apply(n,Rg(r.props.children,l));return}At(r.type===ae,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Rg(r.props.children,l)),n.push(c)}),n}var Lh="get",Mh="application/x-www-form-urlencoded";function jp(t){return t!=null&&typeof t.tagName=="string"}function uC(t){return jp(t)&&t.tagName.toLowerCase()==="button"}function dC(t){return jp(t)&&t.tagName.toLowerCase()==="form"}function hC(t){return jp(t)&&t.tagName.toLowerCase()==="input"}function pC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fC(t,e){return t.button===0&&(!e||e==="_self")&&!pC(t)}function Pg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function mC(t,e){let n=Pg(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var dh=null;function gC(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch(t){dh=!0}return dh}var yC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(t){return t!=null&&!yC.has(t)?(Ls(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):t}function xC(t,e){let n,r,o,l,c;if(dC(t)){let d=t.getAttribute("action");r=d?Pi(d,e):null,n=t.getAttribute("method")||Lh,o=Nm(t.getAttribute("enctype"))||Mh,l=new FormData(t)}else if(uC(t)||hC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Pi(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Lh,o=Nm(t.getAttribute("formenctype"))||Nm(d.getAttribute("enctype"))||Mh,l=new FormData(d,t),!gC()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,v)}}else{if(jp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,r=null,o=Mh,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Py(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function vC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Pi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _C(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wC(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await _C(l,n);return c.links?c.links():[]}return[]}));return TC(r.flat(1).filter(bC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function C1(t,e,n,r,o,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function jC(t,e,{includeHydrateFallback:n}={}){return SC(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function SC(t){return[...new Set(t)]}function EC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function TC(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(EC(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function ew(){let t=L.useContext(Ol);return Py(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kC(){let t=L.useContext(wp);return Py(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ny=L.createContext(void 0);Ny.displayName="FrameworkContext";function tw(){let t=L.useContext(Ny);return Py(t,"You must render this element inside a <HydratedRouter> element"),t}function CC(t,e){let n=L.useContext(Ny),[r,o]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=O=>{O.forEach(V=>{c(V.isIntersecting)})},P=new IntersectionObserver(N,{threshold:.5});return _.current&&P.observe(_.current),()=>{P.disconnect()}}},[t]),L.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let T=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Mc(d,T),onBlur:Mc(h,I),onMouseEnter:Mc(p,T),onMouseLeave:Mc(g,I),onTouchStart:Mc(v,T)}]:[!1,_,{}]}function Mc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IC({page:t,...e}){let{router:n}=ew(),r=L.useMemo(()=>H2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(RC,{page:t,matches:r,...e}):null}function AC(t){let{manifest:e,routeModules:n}=tw(),[r,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return wC(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function RC({page:t,matches:e,...n}){let r=Fs(),{manifest:o,routeModules:l}=tw(),{basename:c}=ew(),{loaderData:d,matches:h}=kC(),p=L.useMemo(()=>C1(t,e,h,o,r,"data"),[t,e,h,o,r]),g=L.useMemo(()=>C1(t,e,h,o,r,"assets"),[t,e,h,o,r]),v=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,N=!1;if(e.forEach(O=>{var A;let V=o.routes[O.route.id];!V||!V.hasLoader||(!p.some(x=>x.route.id===O.route.id)&&O.route.id in d&&((A=l[O.route.id])!=null&&A.shouldRevalidate)||V.hasClientLoader?N=!0:I.add(O.route.id))}),I.size===0)return[];let P=vC(t,c,"data");return N&&I.size>0&&P.searchParams.set("_routes",e.filter(O=>I.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[c,d,r,o,p,e,t,l]),_=L.useMemo(()=>jC(g,o),[g,o]),T=AC(g);return L.createElement(L.Fragment,null,v.map(I=>L.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),_.map(I=>L.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),T.map(({key:I,link:N})=>L.createElement("link",{key:I,nonce:n.nonce,...N})))}function PC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nw=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{nw&&(window.__reactRouterVersion="7.9.1")}catch(t){}function NC({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=xk({window:n,v5Compat:!0}));let o=r.current,[l,c]=L.useState({action:o.action,location:o.location}),d=L.useCallback(h=>{L.startTransition(()=>c(h))},[c]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement(lC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,..._},T){let{basename:I}=L.useContext(Rr),N=typeof p=="string"&&sw.test(p),P,O=!1;if(typeof p=="string"&&N&&(P=p,nw))try{let C=new URL(window.location.href),F=p.startsWith("//")?new URL(C.protocol+p):new URL(p),M=Pi(F.pathname,I);F.origin===C.origin&&M!=null?p=M+F.search+F.hash:O=!0}catch(C){Ls(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=Wk(p,{relative:o}),[A,x,w]=CC(r,_),R=MC(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:v});function E(C){e&&e(C),C.defaultPrevented||R(C)}let S=L.createElement("a",{..._,...w,href:P||V,onClick:O||l?e:E,ref:PC(T,x),target:h,"data-discover":!N&&n==="render"?"true":void 0});return A&&!N?L.createElement(L.Fragment,null,S,L.createElement(IC,{page:V})):S});an.displayName="Link";var vs=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:h,...p},g){let v=Iu(c,{relative:p.relative}),_=Fs(),T=L.useContext(wp),{navigator:I,basename:N}=L.useContext(Rr),P=T!=null&&OC(v)&&d===!0,O=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,V=_.pathname,A=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(V=V.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&N&&(A=Pi(A,N)||A);const x=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let w=V===O||!o&&V.startsWith(O)&&V.charAt(x)==="/",R=A!=null&&(A===O||!o&&A.startsWith(O)&&A.charAt(O.length)==="/"),E={isActive:w,isPending:R,isTransitioning:P},S=w?e:void 0,C;typeof r=="function"?C=r(E):C=[r,w?"active":null,R?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(E):l;return L.createElement(an,{...p,"aria-current":S,className:C,ref:g,style:F,to:c,viewTransition:d},typeof h=="function"?h(E):h)});vs.displayName="NavLink";var DC=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=Lh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,..._},T)=>{let I=$C(),N=BC(d,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&sw.test(d),V=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let x=A.nativeEvent.submitter,w=(x==null?void 0:x.getAttribute("formmethod"))||c;I(x||A.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return L.createElement("form",{ref:T,method:P,action:N,onSubmit:r?h:V,..._,"data-discover":!O&&t==="render"?"true":void 0})});DC.displayName="Form";function LC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(t){let e=L.useContext(Ol);return At(e,LC(t)),e}function MC(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Eo(),h=Fs(),p=Iu(t,{relative:l});return L.useCallback(g=>{if(fC(g,e)){g.preventDefault();let v=n!==void 0?n:du(h)===du(p);d(t,{replace:v,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[h,d,p,n,r,e,t,o,l,c])}function Au(t){Ls(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Pg(t)),n=L.useRef(!1),r=Fs(),o=L.useMemo(()=>mC(r.search,n.current?null:e.current),[r.search]),l=Eo(),c=L.useCallback((d,h)=>{const p=Pg(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,l("?"+p,h)},[l,o]);return[o,c]}var FC=0,VC=()=>`__${String(++FC)}__`;function $C(){let{router:t}=rw("useSubmit"),{basename:e}=L.useContext(Rr),n=rC();return L.useCallback(async(r,o={})=>{let{action:l,method:c,encType:d,formData:h,body:p}=xC(r,e);if(o.navigate===!1){let g=o.fetcherKey||VC();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function BC(t,{relative:e}={}){let{basename:n}=L.useContext(Rr),r=L.useContext(or);At(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Iu(t||".",{relative:e})},c=Fs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ai([n,l.pathname])),du(l)}function OC(t,{relative:e}={}){let n=L.useContext(K2);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rw("useViewTransitionState"),o=Iu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qh(o.pathname,c)!=null||Qh(o.pathname,l)!=null}var UC=z2();const zC=Sy(UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),I1=t=>{const e=WC(t);return e.charAt(0).toUpperCase()+e.slice(1)},iw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),GC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},h)=>L.createElement("svg",{ref:h,...qC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iw("lucide",o),...!l&&!GC(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>L.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,e)=>{const n=L.forwardRef(({className:r,...o},l)=>L.createElement(KC,{ref:l,iconNode:e,className:iw(`lucide-${HC(I1(t))}`,`lucide-${t}`,r),...o}));return n.displayName=I1(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Sp=Bt("aperture",QC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],XC=Bt("bell",YC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ZC=Bt("book-open",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tI=Bt("chevron-right",eI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sI=Bt("compass",nI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],ow=Bt("diamond",rI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],oI=Bt("folder-search",iI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lI=Bt("globe",aI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],aw=Bt("hexagon",cI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dI=Bt("house",uI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pI=Bt("layers",hI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],mI=Bt("layout-dashboard",fI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],yI=Bt("messages-square",gI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],vI=Bt("pin-off",xI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],bI=Bt("pin",_I);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jI=Bt("settings",wI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],lw=Bt("shapes",SI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ru=Bt("shield",EI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kI=Bt("star",TI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],II=Bt("trophy",CI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],RI=Bt("upload",AI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cw=Bt("zap",PI),NI="_topbar_1rfl9_3",DI="_topbarLeft_1rfl9_39",LI="_searchWrap_1rfl9_55",MI="_topbarRight_1rfl9_109",FI="_ico_1rfl9_125",VI="_btnIco_1rfl9_139",$I="_pill_1rfl9_173",BI="_onlyExpanded_1rfl9_195",OI="_upload_1rfl9_201",UI="_label_1rfl9_231",zI="_avatarBtn_1rfl9_237",HI="_avatar_1rfl9_237",Un={topbar:NI,topbarLeft:DI,searchWrap:LI,topbarRight:MI,ico:FI,btnIco:VI,pill:$I,onlyExpanded:BI,upload:OI,label:UI,avatarBtn:zI,avatar:HI},uw=L.createContext(null);function WI({children:t,role:e}){const[n,r]=L.useState(!1),[o,l]=L.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=L.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),h=L.useCallback(()=>r(!1),[]),p=L.useMemo(()=>({isOpen:n,open:d,close:h,activeTab:o,setTab:l,canUse:c}),[n,d,h,o,c]);return s.jsx(uw.Provider,{value:p,children:t})}function dw(){const t=L.useContext(uw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var A1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},GI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,T=p&63;h||(T=64,c||(_=64)),r.push(n[g],n[v],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||v==null)throw new qI;const _=l<<2|d>>4;if(r.push(_),p!==64){const T=d<<4&240|p>>2;if(r.push(T),v!==64){const I=p<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(t){const e=hw(t);return pw.encodeByteArray(e,!0)},Yh=function(t){return KI(t).replace(/\./g,"")},QI=function(t){try{return pw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>YI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process=="undefined"||typeof A1=="undefined")return;const t=A1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZI=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&QI(t[1]);return e&&JSON.parse(e)},Dy=()=>{try{return XI()||JI()||ZI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eA=t=>{var e,n;return(n=(e=Dy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tA=t=>{const e=eA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fw=()=>{var t;return(t=Dy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yh(JSON.stringify(n)),Yh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){var t;const e=(t=Dy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function oA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch(t){return!1}}function lA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class zl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cA,Object.setPrototypeOf(this,zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mw.prototype.create)}}class mw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?uA(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new zl(o,d,r)}}function uA(t,e){return t.replace(dA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const dA=/\{\$([^}]+)}/g;function Ng(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(R1(l)&&R1(c)){if(!Ng(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function R1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class hu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pA(t){return t===ca?void 0:t}function fA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const gA={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},yA=rt.INFO,xA={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},vA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=xA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=yA,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const _A=(t,e)=>e.some(n=>t instanceof n);let P1,N1;function bA(){return P1||(P1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return N1||(N1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,Dg=new WeakMap,xw=new WeakMap,Dm=new WeakMap,Ly=new WeakMap;function jA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(yo(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&yw.set(n,t)}).catch(()=>{}),Ly.set(e,t),e}function SA(t){if(Dg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Dg.set(t,e)}let Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EA(t){Lg=t(Lg)}function TA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lm(this),e,...n);return xw.set(r,e.sort?e.sort():[e]),yo(r)}:wA().includes(t)?function(...e){return t.apply(Lm(this),e),yo(yw.get(this))}:function(...e){return yo(t.apply(Lm(this),e))}}function kA(t){return typeof t=="function"?TA(t):(t instanceof IDBTransaction&&SA(t),_A(t,bA())?new Proxy(t,Lg):t)}function yo(t){if(t instanceof IDBRequest)return jA(t);if(Dm.has(t))return Dm.get(t);const e=kA(t);return e!==t&&(Dm.set(t,e),Ly.set(e,t)),e}const Lm=t=>Ly.get(t);function CA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=yo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(yo(c.result),h.oldVersion,h.newVersion,yo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const IA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],Mm=new Map;function D1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=AA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IA.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return Mm.set(e,l),l}EA(t=>({...t,get:(e,n,r)=>D1(e,n)||t.get(e,n,r),has:(e,n)=>!!D1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",L1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new gw("@firebase/app"),NA="@firebase/app-compat",DA="@firebase/analytics-compat",LA="@firebase/analytics",MA="@firebase/app-check-compat",FA="@firebase/app-check",VA="@firebase/auth",$A="@firebase/auth-compat",BA="@firebase/database",OA="@firebase/data-connect",UA="@firebase/database-compat",zA="@firebase/functions",HA="@firebase/functions-compat",WA="@firebase/installations",GA="@firebase/installations-compat",qA="@firebase/messaging",KA="@firebase/messaging-compat",QA="@firebase/performance",YA="@firebase/performance-compat",XA="@firebase/remote-config",JA="@firebase/remote-config-compat",ZA="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/vertexai-preview",sR="@firebase/firestore-compat",rR="firebase",iR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",oR={[Mg]:"fire-core",[NA]:"fire-core-compat",[LA]:"fire-analytics",[DA]:"fire-analytics-compat",[FA]:"fire-app-check",[MA]:"fire-app-check-compat",[VA]:"fire-auth",[$A]:"fire-auth-compat",[BA]:"fire-rtdb",[OA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[zA]:"fire-fn",[HA]:"fire-fn-compat",[WA]:"fire-iid",[GA]:"fire-iid-compat",[qA]:"fire-fcm",[KA]:"fire-fcm-compat",[QA]:"fire-perf",[YA]:"fire-perf-compat",[XA]:"fire-rc",[JA]:"fire-rc-compat",[ZA]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[sR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,aR=new Map,Vg=new Map;function M1(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xh(t){const e=t.name;if(Vg.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,t);for(const n of pu.values())M1(n,t);for(const n of aR.values())M1(n,t);return!0}function lR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new mw("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=iR;function vw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fg,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw xo.create("bad-app-name",{appName:String(o)});if(n||(n=fw()),!n)throw xo.create("no-options");const l=pu.get(o);if(l){if(Ng(n,l.options)&&Ng(r,l.config))return l;throw xo.create("duplicate-app",{appName:o})}const c=new mA(o);for(const h of Vg.values())c.addComponent(h);const d=new uR(n,r,c);return pu.set(o,d),d}function _w(t=Fg){const e=pu.get(t);if(!e&&t===Fg&&fw())return vw();if(!e)throw xo.create("no-app",{appName:t});return e}function hR(){return Array.from(pu.values())}function El(t,e,n){var r;let o=(r=oR[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(d.join(" "));return}Xh(new hu(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="firebase-heartbeat-database",fR=1,fu="firebase-heartbeat-store";let Fm=null;function bw(){return Fm||(Fm=CA(pR,fR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw xo.create("idb-open",{originalErrorMessage:t.message})})),Fm}async function mR(t){try{const n=(await bw()).transaction(fu),r=await n.objectStore(fu).get(ww(t));return await n.done,r}catch(e){if(e instanceof zl)Ni.warn(e.message);else{const n=xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function F1(t,e){try{const r=(await bw()).transaction(fu,"readwrite");await r.objectStore(fu).put(e,ww(t)),await r.done}catch(n){if(n instanceof zl)Ni.warn(n.message);else{const r=xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function ww(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,yR=720*60*60*1e3;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _R(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=V1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=yR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V1(),{heartbeatsToSend:r,unsentEntries:o}=vR(this._heartbeatsCache.heartbeats),l=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ni.warn(n),""}}}function V1(){return new Date().toISOString().substring(0,10)}function vR(t,e=gR){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),$1(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return F1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return F1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $1(t){return Yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){Xh(new hu("platform-logger",e=>new RA(e),"PRIVATE")),Xh(new hu("heartbeat",e=>new xR(e),"PRIVATE")),El(Mg,L1,t),El(Mg,L1,"esm2017"),El("fire-js","")}bR("");var B1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,jw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function C(){}C.prototype=S.prototype,E.D=S.prototype,E.prototype=new C,E.prototype.constructor=E,E.C=function(F,M,U){for(var $=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)$[ue-2]=arguments[ue];return S.prototype[M].apply(F,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(E,S,C){C||(C=0);var F=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)F[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;16>M;++M)F[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=E.g[0],C=E.g[1],M=E.g[2];var U=E.g[3],$=S+(U^C&(M^U))+F[0]+3614090360&4294967295;S=C+($<<7&4294967295|$>>>25),$=U+(M^S&(C^M))+F[1]+3905402710&4294967295,U=S+($<<12&4294967295|$>>>20),$=M+(C^U&(S^C))+F[2]+606105819&4294967295,M=U+($<<17&4294967295|$>>>15),$=C+(S^M&(U^S))+F[3]+3250441966&4294967295,C=M+($<<22&4294967295|$>>>10),$=S+(U^C&(M^U))+F[4]+4118548399&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(M^S&(C^M))+F[5]+1200080426&4294967295,U=S+($<<12&4294967295|$>>>20),$=M+(C^U&(S^C))+F[6]+2821735955&4294967295,M=U+($<<17&4294967295|$>>>15),$=C+(S^M&(U^S))+F[7]+4249261313&4294967295,C=M+($<<22&4294967295|$>>>10),$=S+(U^C&(M^U))+F[8]+1770035416&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(M^S&(C^M))+F[9]+2336552879&4294967295,U=S+($<<12&4294967295|$>>>20),$=M+(C^U&(S^C))+F[10]+4294925233&4294967295,M=U+($<<17&4294967295|$>>>15),$=C+(S^M&(U^S))+F[11]+2304563134&4294967295,C=M+($<<22&4294967295|$>>>10),$=S+(U^C&(M^U))+F[12]+1804603682&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(M^S&(C^M))+F[13]+4254626195&4294967295,U=S+($<<12&4294967295|$>>>20),$=M+(C^U&(S^C))+F[14]+2792965006&4294967295,M=U+($<<17&4294967295|$>>>15),$=C+(S^M&(U^S))+F[15]+1236535329&4294967295,C=M+($<<22&4294967295|$>>>10),$=S+(M^U&(C^M))+F[1]+4129170786&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^M&(S^C))+F[6]+3225465664&4294967295,U=S+($<<9&4294967295|$>>>23),$=M+(S^C&(U^S))+F[11]+643717713&4294967295,M=U+($<<14&4294967295|$>>>18),$=C+(U^S&(M^U))+F[0]+3921069994&4294967295,C=M+($<<20&4294967295|$>>>12),$=S+(M^U&(C^M))+F[5]+3593408605&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^M&(S^C))+F[10]+38016083&4294967295,U=S+($<<9&4294967295|$>>>23),$=M+(S^C&(U^S))+F[15]+3634488961&4294967295,M=U+($<<14&4294967295|$>>>18),$=C+(U^S&(M^U))+F[4]+3889429448&4294967295,C=M+($<<20&4294967295|$>>>12),$=S+(M^U&(C^M))+F[9]+568446438&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^M&(S^C))+F[14]+3275163606&4294967295,U=S+($<<9&4294967295|$>>>23),$=M+(S^C&(U^S))+F[3]+4107603335&4294967295,M=U+($<<14&4294967295|$>>>18),$=C+(U^S&(M^U))+F[8]+1163531501&4294967295,C=M+($<<20&4294967295|$>>>12),$=S+(M^U&(C^M))+F[13]+2850285829&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^M&(S^C))+F[2]+4243563512&4294967295,U=S+($<<9&4294967295|$>>>23),$=M+(S^C&(U^S))+F[7]+1735328473&4294967295,M=U+($<<14&4294967295|$>>>18),$=C+(U^S&(M^U))+F[12]+2368359562&4294967295,C=M+($<<20&4294967295|$>>>12),$=S+(C^M^U)+F[5]+4294588738&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^M)+F[8]+2272392833&4294967295,U=S+($<<11&4294967295|$>>>21),$=M+(U^S^C)+F[11]+1839030562&4294967295,M=U+($<<16&4294967295|$>>>16),$=C+(M^U^S)+F[14]+4259657740&4294967295,C=M+($<<23&4294967295|$>>>9),$=S+(C^M^U)+F[1]+2763975236&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^M)+F[4]+1272893353&4294967295,U=S+($<<11&4294967295|$>>>21),$=M+(U^S^C)+F[7]+4139469664&4294967295,M=U+($<<16&4294967295|$>>>16),$=C+(M^U^S)+F[10]+3200236656&4294967295,C=M+($<<23&4294967295|$>>>9),$=S+(C^M^U)+F[13]+681279174&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^M)+F[0]+3936430074&4294967295,U=S+($<<11&4294967295|$>>>21),$=M+(U^S^C)+F[3]+3572445317&4294967295,M=U+($<<16&4294967295|$>>>16),$=C+(M^U^S)+F[6]+76029189&4294967295,C=M+($<<23&4294967295|$>>>9),$=S+(C^M^U)+F[9]+3654602809&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^M)+F[12]+3873151461&4294967295,U=S+($<<11&4294967295|$>>>21),$=M+(U^S^C)+F[15]+530742520&4294967295,M=U+($<<16&4294967295|$>>>16),$=C+(M^U^S)+F[2]+3299628645&4294967295,C=M+($<<23&4294967295|$>>>9),$=S+(M^(C|~U))+F[0]+4096336452&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~M))+F[7]+1126891415&4294967295,U=S+($<<10&4294967295|$>>>22),$=M+(S^(U|~C))+F[14]+2878612391&4294967295,M=U+($<<15&4294967295|$>>>17),$=C+(U^(M|~S))+F[5]+4237533241&4294967295,C=M+($<<21&4294967295|$>>>11),$=S+(M^(C|~U))+F[12]+1700485571&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~M))+F[3]+2399980690&4294967295,U=S+($<<10&4294967295|$>>>22),$=M+(S^(U|~C))+F[10]+4293915773&4294967295,M=U+($<<15&4294967295|$>>>17),$=C+(U^(M|~S))+F[1]+2240044497&4294967295,C=M+($<<21&4294967295|$>>>11),$=S+(M^(C|~U))+F[8]+1873313359&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~M))+F[15]+4264355552&4294967295,U=S+($<<10&4294967295|$>>>22),$=M+(S^(U|~C))+F[6]+2734768916&4294967295,M=U+($<<15&4294967295|$>>>17),$=C+(U^(M|~S))+F[13]+1309151649&4294967295,C=M+($<<21&4294967295|$>>>11),$=S+(M^(C|~U))+F[4]+4149444226&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~M))+F[11]+3174756917&4294967295,U=S+($<<10&4294967295|$>>>22),$=M+(S^(U|~C))+F[2]+718787259&4294967295,M=U+($<<15&4294967295|$>>>17),$=C+(U^(M|~S))+F[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(M+($<<21&4294967295|$>>>11))&4294967295,E.g[2]=E.g[2]+M&4294967295,E.g[3]=E.g[3]+U&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var C=S-this.blockSize,F=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=C;)o(this,E,U),U+=this.blockSize;if(typeof E=="string"){for(;U<S;)if(F[M++]=E.charCodeAt(U++),M==this.blockSize){o(this,F),M=0;break}}else for(;U<S;)if(F[M++]=E[U++],M==this.blockSize){o(this,F),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var C=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=C&255,C/=256;for(this.u(E),E=Array(16),S=C=0;4>S;++S)for(var F=0;32>F;F+=8)E[C++]=this.g[S]>>>F&255;return E};function l(E,S){var C=d;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=S(E)}function c(E,S){this.h=S;for(var C=[],F=!0,M=E.length-1;0<=M;M--){var U=E[M]|0;F&&U==S||(C[M]=U,F=!1)}this.g=C}var d={};function h(E){return-128<=E&&128>E?l(E,function(S){return new c([S|0],0>S?-1:0)}):new c([E|0],0>E?-1:0)}function p(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return P(p(-E));for(var S=[],C=1,F=0;E>=C;F++)S[F]=E/C|0,C*=4294967296;return new c(S,0)}function g(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return P(g(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(S,8)),F=v,M=0;M<E.length;M+=8){var U=Math.min(8,E.length-M),$=parseInt(E.substring(M,M+U),S);8>U?(U=p(Math.pow(S,U)),F=F.j(U).add(p($))):(F=F.j(C),F=F.add(p($)))}return F}var v=h(0),_=h(1),T=h(16777216);t=c.prototype,t.m=function(){if(N(this))return-P(this).m();for(var E=0,S=1,C=0;C<this.g.length;C++){var F=this.i(C);E+=(0<=F?F:4294967296+F)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(N(this))return"-"+P(this).toString(E);for(var S=p(Math.pow(E,6)),C=this,F="";;){var M=x(C,S).g;C=O(C,M.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(E);if(C=M,I(C))return U+F;for(;6>U.length;)U="0"+U;F=U+F}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=O(this,E),N(E)?-1:I(E)?0:1};function P(E){for(var S=E.g.length,C=[],F=0;F<S;F++)C[F]=~E.g[F];return new c(C,~E.h).add(_)}t.abs=function(){return N(this)?P(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0,M=0;M<=S;M++){var U=F+(this.i(M)&65535)+(E.i(M)&65535),$=(U>>>16)+(this.i(M)>>>16)+(E.i(M)>>>16);F=$>>>16,U&=65535,$&=65535,C[M]=$<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(E,S){return E.add(P(S))}t.j=function(E){if(I(this)||I(E))return v;if(N(this))return N(E)?P(this).j(P(E)):P(P(this).j(E));if(N(E))return P(this.j(P(E)));if(0>this.l(T)&&0>E.l(T))return p(this.m()*E.m());for(var S=this.g.length+E.g.length,C=[],F=0;F<2*S;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(var M=0;M<E.g.length;M++){var U=this.i(F)>>>16,$=this.i(F)&65535,ue=E.i(M)>>>16,q=E.i(M)&65535;C[2*F+2*M]+=$*q,V(C,2*F+2*M),C[2*F+2*M+1]+=U*q,V(C,2*F+2*M+1),C[2*F+2*M+1]+=$*ue,V(C,2*F+2*M+1),C[2*F+2*M+2]+=U*ue,V(C,2*F+2*M+2)}for(F=0;F<S;F++)C[F]=C[2*F+1]<<16|C[2*F];for(F=S;F<2*S;F++)C[F]=0;return new c(C,0)};function V(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function A(E,S){this.g=E,this.h=S}function x(E,S){if(I(S))throw Error("division by zero");if(I(E))return new A(v,v);if(N(E))return S=x(P(E),S),new A(P(S.g),P(S.h));if(N(S))return S=x(E,P(S)),new A(P(S.g),S.h);if(30<E.g.length){if(N(E)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var C=_,F=S;0>=F.l(E);)C=w(C),F=w(F);var M=R(C,1),U=R(F,1);for(F=R(F,2),C=R(C,2);!I(F);){var $=U.add(F);0>=$.l(E)&&(M=M.add(C),U=$),F=R(F,1),C=R(C,1)}return S=O(E,M.j(S)),new A(M,S)}for(M=v;0<=E.l(S);){for(C=Math.max(1,Math.floor(E.m()/S.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),U=p(C),$=U.j(S);N($)||0<$.l(E);)C-=F,U=p(C),$=U.j(S);I(U)&&(U=_),M=M.add(U),E=O(E,$)}return new A(M,E)}t.A=function(E){return x(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0;F<S;F++)C[F]=this.i(F)&E.i(F);return new c(C,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0;F<S;F++)C[F]=this.i(F)|E.i(F);return new c(C,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0;F<S;F++)C[F]=this.i(F)^E.i(F);return new c(C,this.h^E.h)};function w(E){for(var S=E.g.length+1,C=[],F=0;F<S;F++)C[F]=E.i(F)<<1|E.i(F-1)>>>31;return new c(C,E.h)}function R(E,S){var C=S>>5;S%=32;for(var F=E.g.length-C,M=[],U=0;U<F;U++)M[U]=0<S?E.i(U+C)>>>S|E.i(U+C+1)<<32-S:E.i(U+C);return new c(M,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,ma=c}).apply(typeof B1!="undefined"?B1:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var hh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sw,Wc,Ew,Fh,$g,Tw,kw,Cw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,k){return f==Array.prototype||f==Object.prototype||(f[b]=k.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function o(f,b){if(b)e:{var k=r;f=f.split(".");for(var B=0;B<f.length-1;B++){var Y=f[B];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],B=k[f],b=b(B),b!=B&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}function l(f,b){f instanceof String&&(f+="");var k=0,B=!1,Y={next:function(){if(!B&&k<f.length){var te=k++;return{value:b(te,f[te]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(f){return f||function(){return l(this,function(b,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function p(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function g(f,b,k){return f.call.apply(f.bind,arguments)}function v(f,b,k){if(!f)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,B),f.apply(b,Y)}}return function(){return f.apply(b,arguments)}}function _(f,b,k){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function T(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),f.apply(this,B)}}function I(f,b){function k(){}k.prototype=b.prototype,f.aa=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(B,Y,te){for(var ge=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ge[ct-2]=arguments[ct];return b.prototype[Y].apply(B,ge)}}function N(f){const b=f.length;if(0<b){const k=Array(b);for(let B=0;B<b;B++)k[B]=f[B];return k}return[]}function P(f,b){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(h(B)){const Y=f.length||0,te=B.length||0;f.length=Y+te;for(let ge=0;ge<te;ge++)f[Y+ge]=B[ge]}else f.push(B)}}class O{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function x(f){return x[" "](f),f}x[" "]=function(){};var w=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function R(f,b,k){for(const B in f)b.call(k,f[B],B,f)}function E(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function S(f){const b={};for(const k in f)b[k]=f[k];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(f,b){let k,B;for(let Y=1;Y<arguments.length;Y++){B=arguments[Y];for(k in B)f[k]=B[k];for(let te=0;te<C.length;te++)k=C[te],Object.prototype.hasOwnProperty.call(B,k)&&(f[k]=B[k])}}function M(f){var b=1;f=f.split(":");const k=[];for(;0<b&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function U(f){d.setTimeout(()=>{throw f},0)}function $(){var f=oe;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ue{constructor(){this.h=this.g=null}add(b,k){const B=q.get();B.set(b,k),this.h?this.h.next=B:this.g=B,this.h=B}}var q=new O(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,oe=new ue,ie=()=>{const f=d.Promise.resolve(void 0);ne=()=>{f.then(G)}};var G=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(k){U(k)}var b=q;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var je=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};d.addEventListener("test",k,b),d.removeEventListener("test",k,b)}catch(k){}return f})();function ke(f,b){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,B=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(w){e:{try{x(b.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(b=null)}}else k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement);this.relatedTarget=b,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ke.aa.h.call(this)}}I(ke,ye);var me={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ne(f,b,k,B,Y){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!B,this.ha=Y,this.key=++Ae,this.da=this.fa=!1}function lt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ot(f){this.src=f,this.g={},this.h=0}Ot.prototype.add=function(f,b,k,B,Y){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var ge=Kt(f,b,B,Y);return-1<ge?(b=f[ge],k||(b.fa=!1)):(b=new Ne(b,this.src,te,!!B,Y),b.fa=k,f.push(b)),b};function un(f,b){var k=b.type;if(k in f.g){var B=f.g[k],Y=Array.prototype.indexOf.call(B,b,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(B,Y,1),te&&(lt(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Kt(f,b,k,B){for(var Y=0;Y<f.length;++Y){var te=f[Y];if(!te.da&&te.listener==b&&te.capture==!!k&&te.ha==B)return Y}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),ss={};function rs(f,b,k,B,Y){if(Array.isArray(b)){for(var te=0;te<b.length;te++)rs(f,b[te],k,B,Y);return null}return k=js(k),f&&f[Ce]?f.K(b,k,p(B)?!!B.capture:!1,Y):ht(f,b,k,!1,B,Y)}function ht(f,b,k,B,Y,te){if(!b)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,ct=os(f);if(ct||(f[Mt]=ct=new Ot(f)),k=ct.add(b,k,B,ge,te),k.proxy)return k;if(B=Vs(),k.proxy=B,B.src=f,B.listener=k,f.addEventListener)je||(Y=ge),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),B,Y);else if(f.attachEvent)f.attachEvent(_n(b.toString()),B);else if(f.addListener&&f.removeListener)f.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Vs(){function f(k){return b.call(f.src,f.listener,k)}const b=ws;return f}function is(f,b,k,B,Y){if(Array.isArray(b))for(var te=0;te<b.length;te++)is(f,b[te],k,B,Y);else B=p(B)?!!B.capture:!!B,k=js(k),f&&f[Ce]?(f=f.i,b=String(b).toString(),b in f.g&&(te=f.g[b],k=Kt(te,k,B,Y),-1<k&&(lt(te[k]),Array.prototype.splice.call(te,k,1),te.length==0&&(delete f.g[b],f.h--)))):f&&(f=os(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Kt(b,k,B,Y)),(k=-1<f?b[f]:null)&&vn(k))}function vn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ce])un(b.i,f);else{var k=f.type,B=f.proxy;b.removeEventListener?b.removeEventListener(k,B,f.capture):b.detachEvent?b.detachEvent(_n(k),B):b.addListener&&b.removeListener&&b.removeListener(B),(k=os(b))?(un(k,f),k.h==0&&(k.src=null,b[Mt]=null)):lt(f)}}}function _n(f){return f in ss?ss[f]:ss[f]="on"+f}function ws(f,b){if(f.da)f=!0;else{b=new ke(b,this);var k=f.listener,B=f.ha||f.src;f.fa&&vn(f),f=k.call(B,b)}return f}function os(f){return f=f[Mt],f instanceof Ot?f:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function js(f){return typeof f=="function"?f:(f[as]||(f[as]=function(b){return f.handleEvent(b)}),f[as])}function yt(){ee.call(this),this.i=new Ot(this),this.M=this,this.F=null}I(yt,ee),yt.prototype[Ce]=!0,yt.prototype.removeEventListener=function(f,b,k,B){is(this,f,b,k,B)};function tt(f,b){var k,B=f.F;if(B)for(k=[];B;B=B.F)k.push(B);if(f=f.M,B=b.type||b,typeof b=="string")b=new ye(b,f);else if(b instanceof ye)b.target=b.target||f;else{var Y=b;b=new ye(B,f),F(b,Y)}if(Y=!0,k)for(var te=k.length-1;0<=te;te--){var ge=b.g=k[te];Y=ls(ge,B,!0,b)&&Y}if(ge=b.g=f,Y=ls(ge,B,!0,b)&&Y,Y=ls(ge,B,!1,b)&&Y,k)for(te=0;te<k.length;te++)ge=b.g=k[te],Y=ls(ge,B,!1,b)&&Y}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var k=f.g[b],B=0;B<k.length;B++)lt(k[B]);delete f.g[b],f.h--}}this.F=null},yt.prototype.K=function(f,b,k,B){return this.i.add(String(f),b,!1,k,B)},yt.prototype.L=function(f,b,k,B){return this.i.add(String(f),b,!0,k,B)};function ls(f,b,k,B){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,te=0;te<b.length;++te){var ge=b[te];if(ge&&!ge.da&&ge.capture==k){var ct=ge.listener,sn=ge.ha||ge.src;ge.fa&&un(f.i,ge),Y=ct.call(sn,B)!==!1&&Y}}return Y&&!B.defaultPrevented}function ar(f,b,k){if(typeof f=="function")k&&(f=_(f,k));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function pt(f){f.g=ar(()=>{f.g=null,f.i&&(f.i=!1,pt(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class $s extends ee{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(f){ee.call(this),this.h=f,this.g={}}I(Bs,ee);var Dr=[];function Lr(f){R(f.g,function(b,k){this.g.hasOwnProperty(k)&&vn(b)},f),f.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Lr(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=d.JSON.stringify,ri=d.JSON.parse,Fr=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Ss(){}Ss.prototype.h=null;function xt(f){return f.h||(f.h=f.i())}function lr(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Es(){ye.call(this,"d")}I(Es,ye);function ii(){ye.call(this,"c")}I(ii,ye);var Vr={},Xl=null;function Io(){return Xl=Xl||new yt}Vr.La="serverreachability";function Jl(f){ye.call(this,Vr.La,f)}I(Jl,ye);function oi(f){const b=Io();tt(b,new Jl(b))}Vr.STAT_EVENT="statevent";function Zl(f,b){ye.call(this,Vr.STAT_EVENT,f),this.stat=b}I(Zl,ye);function Ut(f){const b=Io();tt(b,new Zl(b,f))}Vr.Ma="timingevent";function Ta(f,b){ye.call(this,Vr.Ma,f),this.size=b}I(Ta,ye);function cr(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Ao(){this.g=!0}Ao.prototype.xa=function(){this.g=!1};function Ro(f,b,k,B,Y,te){f.info(function(){if(f.g)if(te)for(var ge="",ct=te.split("&"),sn=0;sn<ct.length;sn++){var Je=ct[sn].split("=");if(1<Je.length){var dn=Je[0];Je=Je[1];var Qt=dn.split("_");ge=2<=Qt.length&&Qt[1]=="type"?ge+(dn+"="+Je+"&"):ge+(dn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+B+") [attempt "+Y+"]: "+b+`
`+k+`
`+ge})}function ka(f,b,k,B,Y,te,ge){f.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Y+"]: "+b+`
`+k+`
`+te+" "+ge})}function ur(f,b,k,B){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Zp(f,k)+(B?" "+B:"")})}function ec(f,b){f.info(function(){return"TIMEOUT: "+b})}Ao.prototype.info=function(){};function Zp(f,b){if(!f.g)return b;if(!b)return null;try{var k=JSON.parse(b);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var B=k[f];if(!(2>B.length)){var Y=B[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Mr(k)}catch(ct){return b}}var Ca={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function Po(){}I(Po,Ss),Po.prototype.g=function(){return new XMLHttpRequest},Po.prototype.i=function(){return{}},dr=new Po;function hr(f,b,k,B){this.j=f,this.i=b,this.l=k,this.R=B||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xu}function Xu(){this.i=null,this.g="",this.h=!1}var tc={},Ia={};function Aa(f,b,k){f.L=1,f.v=Hi(ks(b)),f.m=k,f.P=!0,nc(f,null)}function nc(f,b){f.F=Date.now(),vt(f),f.A=ks(f.v);var k=f.A,B=f.R;Array.isArray(B)||(B=[String(B)]),Gi(k.i,"t",B),f.C=0,k=f.j.J,f.h=new Xu,f.g=md(f.j,k?b:null,!f.m),0<f.O&&(f.M=new $s(_(f.Y,f,f.g),f.O)),b=f.U,k=f.g,B=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Dr[0]=Y.toString()),Y=Dr);for(var te=0;te<Y.length;te++){var ge=rs(k,Y[te],B||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),oi(),Ro(f.i,f.u,f.A,f.l,f.R,f.m)}hr.prototype.ca=function(f){f=f.target;const b=this.M;b&&us(f)==3?b.j():this.Y(f)},hr.prototype.Y=function(f){try{if(f==this.g)e:{const Qt=us(this.g);var b=this.g.Ba();const zs=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Qt!=4||b==7||(b==8||0>=zs?oi(3):oi(2)),No(this);var k=this.g.Z();this.X=k;t:if(Ju(this)){var B=lc(this.g);f="";var Y=B.length,te=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Os(this),Bi(this);var ge="";break t}this.h.i=new d.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,f+=this.h.i.decode(B[b],{stream:!(te&&b==Y-1)});B.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=k==200,ka(this.i,this.u,this.A,this.l,this.R,Qt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,sn=this.g;if((ct=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ct)){var Je=ct;break t}}Je=null}if(k=Je)ur(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sc(this,k);else{this.o=!1,this.s=3,Ut(12),Os(this),Bi(this);break e}}if(this.P){k=!0;let Is;for(;!this.J&&this.C<ge.length;)if(Is=ef(this,ge),Is==Ia){Qt==4&&(this.s=4,Ut(14),k=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Is==tc){this.s=4,Ut(15),ur(this.i,this.l,ge,"[Invalid Chunk]"),k=!1;break}else ur(this.i,this.l,Is,null),sc(this,Is);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||ge.length!=0||this.h.h||(this.s=1,Ut(16),k=!1),this.o=this.o&&k,!k)ur(this.i,this.l,ge,"[Invalid Chunked Response]"),Os(this),Bi(this);else if(0<ge.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),uc(dn),dn.M=!0,Ut(11))}}else ur(this.i,this.l,ge,null),sc(this,ge);Qt==4&&Os(this),this.o&&!this.J&&(Qt==4?Oa(this.j,this):(this.o=!1,vt(this)))}else Ma(this.g),k==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Os(this),Bi(this)}}}catch(Qt){}finally{}};function Ju(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ef(f,b){var k=f.C,B=b.indexOf(`
`,k);return B==-1?Ia:(k=Number(b.substring(k,B)),isNaN(k)?tc:(B+=1,B+k>b.length?Ia:(b=b.slice(B,B+k),f.C=B+k,b)))}hr.prototype.cancel=function(){this.J=!0,Os(this)};function vt(f){f.S=Date.now()+f.I,Zu(f,f.I)}function Zu(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=cr(_(f.ba,f),b)}function No(f){f.B&&(d.clearTimeout(f.B),f.B=null)}hr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ec(this.i,this.A),this.L!=2&&(oi(),Ut(17)),Os(this),this.s=2,Bi(this)):Zu(this,this.S-f)};function Bi(f){f.j.G==0||f.J||Oa(f.j,f)}function Os(f){No(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Lr(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function sc(f,b){try{var k=f.j;if(k.G!=0&&(k.g==f||Qn(k.h,f))){if(!f.K&&Qn(k.h,f)&&k.G==3){try{var B=k.Da.g.parse(b)}catch(Je){B=null}if(Array.isArray(B)&&B.length==3){var Y=B;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)Ba(k),yr(k);else break e;$a(k),Ut(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=cr(_(k.Za,k),6e3));if(1>=td(k.h)&&k.ca){try{k.ca()}catch(Je){}k.ca=void 0}}else di(k,11)}else if((f.K||k.g==f)&&Ba(k),!V(b))for(Y=k.Da.g.parse(b),b=0;b<Y.length;b++){let Je=Y[b];if(k.T=Je[0],Je=Je[1],k.G==2)if(Je[0]=="c"){k.K=Je[1],k.ia=Je[2];const dn=Je[3];dn!=null&&(k.la=dn,k.j.info("VER="+k.la));const Qt=Je[4];Qt!=null&&(k.Aa=Qt,k.j.info("SVER="+k.Aa));const zs=Je[5];zs!=null&&typeof zs=="number"&&0<zs&&(B=1.5*zs,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const Is=f.g;if(Is){const Bo=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var te=B.h;te.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(rc(te,te.h),te.h=null))}if(B.D){const za=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(B.ya=za,ft(B.I,B.D,za))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var ge=f;if(B.qa=fd(B,B.J?B.ia:null,B.W),ge.K){nd(B.h,ge);var ct=ge,sn=B.L;sn&&(ct.I=sn),ct.B&&(No(ct),vt(ct)),B.g=ge}else $o(B);0<k.i.length&&Ur(k)}else Je[0]!="stop"&&Je[0]!="close"||di(k,7);else k.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?di(k,7):wn(k):Je[0]!="noop"&&k.l&&k.l.ta(Je),k.v=0)}}oi(4)}catch(Je){}}var ed=class{constructor(f,b){this.g=f,this.map=b}};function Do(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ts(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function td(f){return f.h?1:f.g?f.g.size:0}function Qn(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function rc(f,b){f.g?f.g.add(b):f.h=b}function nd(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Do.prototype.cancel=function(){if(this.i=sd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function sd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.D);return b}return N(f.i)}function Ra(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],k=f.length,B=0;B<k;B++)b.push(f[B]);return b}b=[],k=0;for(B in f)b[k++]=f[B];return b}function Pa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var k=0;k<f;k++)b.push(k);return b}b=[],k=0;for(const B in f)b[k++]=B;return b}}}function Oi(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var k=Pa(f),B=Ra(f),Y=B.length,te=0;te<Y;te++)b.call(void 0,B[te],k&&k[te],f)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(f,b){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var B=f[k].indexOf("="),Y=null;if(0<=B){var te=f[k].substring(0,B);Y=f[k].substring(B+1)}else te=f[k];b(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ai(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ai){this.h=f.h,Mo(this,f.j),this.o=f.o,this.g=f.g,Ui(this,f.s),this.l=f.l;var b=f.i,k=new $r;k.i=b.i,b.g&&(k.g=new Map(b.g),k.h=b.h),zi(this,k),this.m=f.m}else f&&(b=String(f).match(Lo))?(this.h=!1,Mo(this,b[1]||"",!0),this.o=Xe(b[2]||""),this.g=Xe(b[3]||"",!0),Ui(this,b[4]),this.l=Xe(b[5]||"",!0),zi(this,b[6]||"",!0),this.m=Xe(b[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}ai.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Wi(b,Na,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Wi(b,Na,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(Wi(k,k.charAt(0)=="/"?od:id,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",Wi(k,ic)),f.join("")};function ks(f){return new ai(f)}function Mo(f,b,k){f.j=k?Xe(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ui(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function zi(f,b,k){b instanceof $r?(f.i=b,Br(f.i,f.h)):(k||(b=Wi(b,ad)),f.i=new $r(b,f.h))}function ft(f,b,k){f.i.set(b,k)}function Hi(f){return ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xe(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Wi(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,rd),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function rd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Na=/[#\/\?@]/g,id=/[#\?:]/g,od=/[#\?]/g,ad=/[#\?@]/g,ic=/#/g;function $r(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&tf(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=$r.prototype,t.add=function(f,b){bn(this),this.i=null,f=Us(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function pr(f,b){bn(f),b=Us(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function fr(f,b){return bn(f),b=Us(f,b),f.g.has(b)}t.forEach=function(f,b){bn(this),this.g.forEach(function(k,B){k.forEach(function(Y){f.call(b,Y,B,this)},this)},this)},t.na=function(){bn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),k=[];for(let B=0;B<b.length;B++){const Y=f[B];for(let te=0;te<Y.length;te++)k.push(b[B])}return k},t.V=function(f){bn(this);let b=[];if(typeof f=="string")fr(this,f)&&(b=b.concat(this.g.get(Us(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)b=b.concat(f[k])}return b},t.set=function(f,b){return bn(this),this.i=null,f=Us(this,f),fr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Gi(f,b,k){pr(f,b),0<k.length&&(f.i=null,f.g.set(Us(f,b),N(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var k=0;k<b.length;k++){var B=b[k];const te=encodeURIComponent(String(B)),ge=this.V(B);for(B=0;B<ge.length;B++){var Y=te;ge[B]!==""&&(Y+="="+encodeURIComponent(String(ge[B]))),f.push(Y)}}return this.i=f.join("&")};function Us(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Br(f,b){b&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(k,B){var Y=B.toLowerCase();B!=Y&&(pr(this,B),Gi(this,Y,k))},f)),f.j=b}function nf(f,b){const k=new Ao;if(d.Image){const B=new Image;B.onload=T(cs,k,"TestLoadImage: loaded",!0,b,B),B.onerror=T(cs,k,"TestLoadImage: error",!1,b,B),B.onabort=T(cs,k,"TestLoadImage: abort",!1,b,B),B.ontimeout=T(cs,k,"TestLoadImage: timeout",!1,b,B),d.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=f}else b(!1)}function ld(f,b){const k=new Ao,B=new AbortController,Y=setTimeout(()=>{B.abort(),cs(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:B.signal}).then(te=>{clearTimeout(Y),te.ok?cs(k,"TestPingServer: ok",!0,b):cs(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),cs(k,"TestPingServer: error",!1,b)})}function cs(f,b,k,B,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),B(k)}catch(te){}}function sf(){this.g=new Fr}function cd(f,b,k){const B=k||"";try{Oi(f,function(Y,te){let ge=Y;p(Y)&&(ge=Mr(Y)),b.push(B+te+"="+encodeURIComponent(ge))})}catch(Y){throw b.push(B+"type="+encodeURIComponent("_badmap")),Y}}function li(f){this.l=f.Ub||null,this.j=f.eb||!1}I(li,Ss),li.prototype.g=function(){return new Fo(this.l,this.j)},li.prototype.i=(function(f){return function(){return f}})({});function Fo(f,b){yt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Fo,yt),t=Fo.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,gr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ud(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ud(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?mr(this):gr(this),this.readyState==3&&ud(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,mr(this))},t.Qa=function(f){this.g&&(this.response=f,mr(this))},t.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,gr(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ci(f){let b="";return R(f,function(k,B){b+=B,b+=":",b+=k,b+=`\r
`}),b}function qi(f,b,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=ci(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):ft(f,b,k))}function kt(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(kt,yt);var rf=/^https?$/i,oc=["POST","PUT"];t=kt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?xt(this.o):xt(dr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(te){Vo(this,te);return}if(f=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Y in B)k.set(Y,B[Y]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const te of B.keys())k.set(te,B.get(te));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(oc,b,void 0))||B||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of k)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){Vo(this,te)}};function Vo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Da(f),Cs(f)}function Da(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tt(this,"complete"),tt(this,"abort"),Cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ac(this):this.bb())},t.bb=function(){ac(this)};function ac(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||us(f)!=4||f.Z()!=2)){if(f.u&&us(f)==4)ar(f.Ea,0,f);else if(tt(f,"readystatechange"),us(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var B;if(B=ge===0){var Y=String(f.D).match(Lo)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),B=!rf.test(Y?Y.toLowerCase():"")}k=B}if(k)tt(f,"complete"),tt(f,"success");else{f.m=6;try{var te=2<us(f)?f.g.statusText:""}catch(ct){te=""}f.l=te+" ["+f.Z()+"]",Da(f)}}finally{Cs(f)}}}}function Cs(f,b){if(f.g){La(f);const k=f.g,B=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||tt(f,"ready");try{k.onreadystatechange=B}catch(Y){}}}function La(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function us(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<us(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),ri(b)}};function lc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(b){return null}}function Ma(f){const b={};f=(f.g&&2<=us(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<f.length;B++){if(V(f[B]))continue;var k=M(f[B]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const te=b[Y]||[];b[Y]=te,te.push(k)}E(b,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function cc(f){this.Aa=0,this.i=[],this.j=new Ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,f),this.cb=Or("retryDelaySeedMs",1e4,f),this.Wa=Or("forwardChannelMaxRetries",2,f),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Do(f&&f.concurrentRequestLimit),this.Da=new sf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cc.prototype,t.la=8,t.G=1,t.connect=function(f,b,k,B){Ut(0),this.W=f,this.H=b||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=fd(this,null,this.W),Ur(this)};function wn(f){if(Fa(f),f.G==3){var b=f.U++,k=ks(f.I);if(ft(k,"SID",f.K),ft(k,"RID",b),ft(k,"TYPE","terminate"),ui(f,k),b=new hr(f,f.j,b),b.L=2,b.v=Hi(ks(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(b.v.toString(),"")}catch(B){}!k&&d.Image&&(new Image().src=b.v,k=!0),k||(b.g=md(b.j,null),b.g.ea(b.v)),b.F=Date.now(),vt(b)}pd(f)}function yr(f){f.g&&(uc(f),f.g.cancel(),f.g=null)}function Fa(f){yr(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ba(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ur(f){if(!Ts(f.h)&&!f.s){f.s=!0;var b=f.Ga;ne||ie(),Q||(ne(),Q=!0),oe.add(b,f),f.B=0}}function of(f,b){return td(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=cr(_(f.Ga,f,b),hd(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new hr(this,this.j,f);let te=this.o;if(this.S&&(te?(te=S(te),F(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(b+=B,4096<b){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=Ki(this,Y,b),k=ks(this.I),ft(k,"RID",f),ft(k,"CVER",22),this.D&&ft(k,"X-HTTP-Session-Id",this.D),ui(this,k),te&&(this.O?b="headers="+encodeURIComponent(String(ci(te)))+"&"+b:this.m&&qi(k,this.m,te)),rc(this.h,Y),this.Ua&&ft(k,"TYPE","init"),this.P?(ft(k,"$req",b),ft(k,"SID","null"),Y.T=!0,Aa(Y,k,null)):Aa(Y,k,b),this.G=2}}else this.G==3&&(f?Va(this,f):this.i.length==0||Ts(this.h)||Va(this))};function Va(f,b){var k;b?k=b.l:k=f.U++;const B=ks(f.I);ft(B,"SID",f.K),ft(B,"RID",k),ft(B,"AID",f.T),ui(f,B),f.m&&f.o&&qi(B,f.m,f.o),k=new hr(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Ki(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),rc(f.h,k),Aa(k,B,b)}function ui(f,b){f.H&&R(f.H,function(k,B){ft(b,B,k)}),f.l&&Oi({},function(k,B){ft(b,B,k)})}function Ki(f,b,k){k=Math.min(f.i.length,k);var B=f.l?_(f.l.Na,f.l,f):null;e:{var Y=f.i;let te=-1;for(;;){const ge=["count="+k];te==-1?0<k?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let ct=!0;for(let sn=0;sn<k;sn++){let Je=Y[sn].g;const dn=Y[sn].map;if(Je-=te,0>Je)te=Math.max(0,Y[sn].g-100),ct=!1;else try{cd(dn,ge,"req"+Je+"_")}catch(Qt){B&&B(dn)}}if(ct){B=ge.join("&");break e}}}return f=f.i.splice(0,k),b.D=f,B}function $o(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;ne||ie(),Q||(ne(),Q=!0),oe.add(b,f),f.v=0}}function $a(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=cr(_(f.Fa,f),hd(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,dd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=cr(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),yr(this),dd(this))};function uc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function dd(f){f.g=new hr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=ks(f.qa);ft(b,"RID","rpc"),ft(b,"SID",f.K),ft(b,"AID",f.T),ft(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ft(b,"TO",f.ja),ft(b,"TYPE","xmlhttp"),ui(f,b),f.m&&f.o&&qi(b,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Hi(ks(b)),k.m=null,k.P=!0,nc(k,f)}t.Za=function(){this.C!=null&&(this.C=null,yr(this),$a(this),Ut(19))};function Ba(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Oa(f,b){var k=null;if(f.g==b){Ba(f),uc(f),f.g=null;var B=2}else if(Qn(f.h,b))k=b.D,nd(f.h,b),B=1;else return;if(f.G!=0){if(b.o)if(B==1){k=b.m?b.m.length:0,b=Date.now()-b.F;var Y=f.B;B=Io(),tt(B,new Ta(B,k)),Ur(f)}else $o(f);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(B==1&&of(f,b)||B==2&&$a(f)))switch(k&&0<k.length&&(b=f.h,b.i=b.i.concat(k)),Y){case 1:di(f,5);break;case 4:di(f,10);break;case 3:di(f,6);break;default:di(f,2)}}}function hd(f,b){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*b}function di(f,b){if(f.j.info("Error code "+b),b==2){var k=_(f.fb,f),B=f.Xa;const Y=!B;B=new ai(B||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mo(B,"https"),Hi(B),Y?nf(B.toString(),k):ld(B.toString(),k)}else Ut(2);f.G=0,f.l&&f.l.sa(b),pd(f),Fa(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function pd(f){if(f.G=0,f.ka=[],f.l){const b=sd(f.h);(b.length!=0||f.i.length!=0)&&(P(f.ka,b),P(f.ka,f.i),f.h.i.length=0,N(f.i),f.i.length=0),f.l.ra()}}function fd(f,b,k){var B=k instanceof ai?ks(k):new ai(k);if(B.g!="")b&&(B.g=b+"."+B.g),Ui(B,B.s);else{var Y=d.location;B=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new ai(null);B&&Mo(te,B),b&&(te.g=b),Y&&Ui(te,Y),k&&(te.l=k),B=te}return k=f.D,b=f.ya,k&&b&&ft(B,k,b),ft(B,"VER",f.la),ui(f,B),B}function md(f,b,k){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new kt(new li({eb:k})):new kt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}t=dc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(f,b){return new Yn(f,b)};function Yn(f,b){yt.call(this),this.g=new cc(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!V(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!V(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new zr(this)}I(Yn,yt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){wn(this.g)},Yn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=Mr(f),f=k);b.i.push(new ed(b.Ya++,f)),b.G==3&&Ur(b)},Yn.prototype.N=function(){this.g.l=null,delete this.j,wn(this.g),delete this.g,Yn.aa.N.call(this)};function gd(f){Es.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}I(gd,Es);function yd(){ii.call(this),this.status=1}I(yd,ii);function zr(f){this.g=f}I(zr,dc),zr.prototype.ua=function(){tt(this.g,"a")},zr.prototype.ta=function(f){tt(this.g,new gd(f))},zr.prototype.sa=function(f){tt(this.g,new yd)},zr.prototype.ra=function(){tt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Cw=function(){return new Ua},kw=function(){return Io()},Tw=Vr,$g={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,Fh=Ca,Yu.COMPLETE="complete",Ew=Yu,lr.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Wc=lr,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Sw=kt}).apply(typeof hh!="undefined"?hh:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const O1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new gw("@firebase/firestore");function Fc(){return ya.logLevel}function Ee(t,...e){if(ya.logLevel<=rt.DEBUG){const n=e.map(My);ya.debug(`Firestore (${Hl}): ${t}`,...n)}}function Di(t,...e){if(ya.logLevel<=rt.ERROR){const n=e.map(My);ya.error(`Firestore (${Hl}): ${t}`,...n)}}function Il(t,...e){if(ya.logLevel<=rt.WARN){const n=e.map(My);ya.warn(`Firestore (${Hl}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function dt(t,e){t||Fe()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends zl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class jR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SR{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ri,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},d=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ri)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new Iw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Wn(e)}}class ER{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ER(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){dt(this.o===void 0);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string"),this.R=n.token,new kR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=IR(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function Al(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ln(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new ln(0,0))}static max(){return new Oe(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends mu{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends mu{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return AR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}function RR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new _o(o,Ie.empty(),e)}function PR(t){return new _o(t.readTime,t.key,-1)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(Oe.min(),Ie.empty(),-1)}static max(){return new _o(Oe.max(),Ie.empty(),-1)}}function NR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==DR)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(h=>r(h)))})),c=!0,l===o&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((o=>o?he.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,o)=>{const l=e.length,c=new Array(l);let d=0;for(let h=0;h<l;h++){const p=h;n(e[p]).next((g=>{c[p]=g,++d,d===l&&r(c)}),(g=>o(g)))}}))}static doWhile(e,n){return new he(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function MR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fy.oe=-1;function Ep(t){return t==null}function Jh(t){return t===0&&1/t==-1/0}function FR(t){return typeof t=="number"&&Number.isInteger(t)&&!Jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:An.RED,this.left=o!=null?o:An.EMPTY,this.right=l!=null?l:An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new An(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return An.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,o,l){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Ns([])}unionWith(e){let n=new Ln(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Pw("Invalid base64 string: "+l):l}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(dt(!!t),typeof t=="string"){let e=0;const n=VR.exec(t);if(dt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xa(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vy(t){const e=t.mapValue.fields.__previous_value__;return Tp(e)?Vy(e):e}function gu(t){const e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,o,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}class yu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh={mapValue:{}};function va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tp(t)?4:OR(t)?9007199254740991:BR(t)?10:11:Fe()}function si(t,e){if(t===e)return!0;const n=va(t);if(n!==va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=bo(o.timestampValue),d=bo(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return xa(o.bytesValue).isEqual(xa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return qt(o.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return qt(o.integerValue)===qt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=qt(o.doubleValue),d=qt(l.doubleValue);return c===d?Jh(c)===Jh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(U1(c)!==U1(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!si(c[h],d[h])))return!1;return!0})(t,e);default:return Fe()}}function xu(t,e){return(t.values||[]).find((n=>si(n,e)))!==void 0}function Rl(t,e){if(t===e)return 0;const n=va(t),r=va(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=qt(l.integerValue||l.doubleValue),h=qt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return H1(t.timestampValue,e.timestampValue);case 4:return H1(gu(t),gu(e));case 5:return at(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=xa(l),h=xa(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=at(d[p],h[p]);if(g!==0)return g}return at(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=at(qt(l.latitude),qt(c.latitude));return d!==0?d:at(qt(l.longitude),qt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return W1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,h,p,g;const v=l.fields||{},_=c.fields||{},T=(d=v.value)===null||d===void 0?void 0:d.arrayValue,I=(h=_.value)===null||h===void 0?void 0:h.arrayValue,N=at(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:W1(T,I)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===fh.mapValue&&c===fh.mapValue)return 0;if(l===fh.mapValue)return 1;if(c===fh.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=at(h[v],g[v]);if(_!==0)return _;const T=Rl(d[h[v]],p[g[v]]);if(T!==0)return T}return at(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Fe()}}function H1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=bo(t),r=bo(e),o=at(n.seconds,r.seconds);return o!==0?o:at(n.nanos,r.nanos)}function W1(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=Rl(n[o],r[o]);if(l)return l}return at(n.length,r.length)}function Pl(t){return Bg(t)}function Bg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=Bg(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Bg(n.fields[c])}`;return o+"}"})(t.mapValue):Fe()}function Zh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Og(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function G1(t){return!!t&&"nullValue"in t}function q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function BR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=eu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Nn.emptyPath(),r={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=eu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){wa(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new _s(eu(this.value))}}function Nw(t){const e=[];return wa(t.fields,((n,r)=>{const o=new Nn([n]);if(Vh(r)){const l=Nw(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,o,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new qn(e,0,Oe.min(),Oe.min(),Oe.min(),_s.empty(),0)}static newFoundDocument(e,n,r,o){return new qn(e,1,n,Oe.min(),r,o,0)}static newNoDocument(e,n){return new qn(e,2,n,Oe.min(),Oe.min(),_s.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Oe.min(),Oe.min(),_s.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.position=e,this.inclusive=n}}function K1(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),n.key):r=Rl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function UR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{}class nn extends Dw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HR(e,n,r):n==="array-contains"?new qR(e,r):n==="in"?new KR(e,r):n==="not-in"?new QR(e,r):n==="array-contains-any"?new YR(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WR(e,r):new GR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rl(n,this.value)):n!==null&&va(this.value)===va(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends Dw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ir(e,n)}matches(e){return Lw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lw(t){return t.op==="and"}function Mw(t){return zR(t)&&Lw(t)}function zR(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function Ug(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(Mw(t))return t.filters.map((e=>Ug(e))).join(",");{const e=t.filters.map((n=>Ug(n))).join(",");return`${t.op}(${e})`}}function Fw(t,e){return t instanceof nn?(function(r,o){return o instanceof nn&&r.op===o.op&&r.field.isEqual(o.field)&&si(r.value,o.value)})(t,e):t instanceof Ir?(function(r,o){return o instanceof Ir&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,d)=>l&&Fw(c,o.filters[d])),!0):!1})(t,e):void Fe()}function Vw(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`})(t):t instanceof Ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(Vw).join(" ,")+"}"})(t):"Filter"}class HR extends nn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class WR extends nn{constructor(e,n){super(e,"in",n),this.keys=$w("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class GR extends nn{constructor(e,n){super(e,"not-in",n),this.keys=$w("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $w(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class qR extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&xu(n.arrayValue,this.value)}}class KR extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class QR extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class YR extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>xu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n=null,r=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function Y1(t,e=null,n=[],r=[],o=null,l=null,c=null){return new XR(t,e,n,r,o,l,c)}function By(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ug(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pl(r))).join(",")),e.ue=n}return e.ue}function Oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q1(t.startAt,e.startAt)&&Q1(t.endAt,e.endAt)}function zg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n=null,r=[],o=[],l=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JR(t,e,n,r,o,l,c,d){return new $i(t,e,n,r,o,l,c,d)}function Uy(t){return new $i(t)}function X1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zy(t){return t.collectionGroup!==null}function Tl(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ln(Nn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new vu(l,r))})),n.has(Nn.keyField().canonicalString())||e.ce.push(new vu(Nn.keyField(),r))}return e.ce}function Xr(t){const e=Ue(t);return e.le||(e.le=ZR(e,Tl(t))),e.le}function ZR(t,e){if(t.limitType==="F")return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new vu(o.field,l)}));const n=t.endAt?new Nl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nl(t.startAt.position,t.startAt.inclusive):null;return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hg(t,e){const n=t.filters.concat([e]);return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ep(t,e,n){return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kp(t,e){return Oy(Xr(t),Xr(e))&&t.limitType===e.limitType}function Bw(t){return`${By(Xr(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Vw(o))).join(", ")}]`),Ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Pl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Pl(o))).join(",")),`Target(${r})`})(Xr(t))}; limitType=${t.limitType})`}function Cp(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ie.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of Tl(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,d,h){const p=K1(c,d,h);return c.inclusive?p<=0:p<0})(r.startAt,Tl(r),o)||r.endAt&&!(function(c,d,h){const p=K1(c,d,h);return c.inclusive?p>=0:p>0})(r.endAt,Tl(r),o))})(t,e)}function eP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ow(t){return(e,n)=>{let r=!1;for(const o of Tl(t)){const l=tP(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function tP(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,c,d){const h=c.data.field(l),p=d.data.field(l);return h!==null&&p!==null?Rl(h,p):Fe()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Dt(Ie.comparator);function Li(){return nP}const Uw=new Dt(Ie.comparator);function Gc(...t){let e=Uw;for(const n of t)e=e.insert(n.key,n);return e}function zw(t){let e=Uw;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function pa(){return tu()}function Hw(){return tu()}function tu(){return new Wl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sP=new Dt(Ie.comparator),rP=new Ln(Ie.comparator);function Ye(...t){let e=rP;for(const n of t)e=e.add(n);return e}const iP=new Ln(at);function oP(){return iP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function Ww(t){return{integerValue:""+t}}function aP(t,e){return FR(e)?Ww(e):Hy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this._=void 0}}function lP(t,e,n){return t instanceof _u?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Tp(l)&&(l=Vy(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof bu?qw(t,e):t instanceof wu?Kw(t,e):(function(o,l){const c=Gw(o,l),d=J1(c)+J1(o.Pe);return Og(c)&&Og(o.Pe)?Ww(d):Hy(o.serializer,d)})(t,e)}function cP(t,e,n){return t instanceof bu?qw(t,e):t instanceof wu?Kw(t,e):n}function Gw(t,e){return t instanceof tp?(function(r){return Og(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class _u extends Ip{}class bu extends Ip{constructor(e){super(),this.elements=e}}function qw(t,e){const n=Qw(e);for(const r of t.elements)n.some((o=>si(o,r)))||n.push(r);return{arrayValue:{values:n}}}class wu extends Ip{constructor(e){super(),this.elements=e}}function Kw(t,e){let n=Qw(e);for(const r of t.elements)n=n.filter((o=>!si(o,r)));return{arrayValue:{values:n}}}class tp extends Ip{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function J1(t){return qt(t.integerValue||t.doubleValue)}function Qw(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.field=e,this.transform=n}}function dP(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof bu&&o instanceof bu||r instanceof wu&&o instanceof wu?Al(r.elements,o.elements,si):r instanceof tp&&o instanceof tp?si(r.Pe,o.Pe):r instanceof _u&&o instanceof _u})(t.transform,e.transform)}class hP{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ap{}function Yw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wy(t.key,ir.none()):new Du(t.key,t.data,ir.none());{const n=t.data,r=_s.empty();let o=new Ln(Nn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new To(t.key,r,new Ns(o.toArray()),ir.none())}}function pP(t,e,n){t instanceof Du?(function(o,l,c){const d=o.value.clone(),h=e_(o.fieldTransforms,l,c.transformResults);d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof To?(function(o,l,c){if(!$h(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=e_(o.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(Xw(o)),h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function nu(t,e,n,r){return t instanceof Du?(function(l,c,d,h){if(!$h(l.precondition,c))return d;const p=l.value.clone(),g=t_(l.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof To?(function(l,c,d,h){if(!$h(l.precondition,c))return d;const p=t_(l.fieldTransforms,h,c),g=c.data;return g.setAll(Xw(l)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,d){return $h(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function fP(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=Gw(r.transform,o||null);l!=null&&(n===null&&(n=_s.empty()),n.set(r.field,l))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Al(r,o,((l,c)=>dP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Du extends Ap{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class To extends Ap{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function e_(t,e,n){const r=new Map;dt(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);r.set(l.field,cP(c,d,n[o]))}return r}function t_(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,lP(l,c,e))}return r}class Wy extends Ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mP extends Ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pP(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Hw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const h=Yw(c,d);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,r)=>Z1(n,r)))&&Al(this.baseMutations,e.baseMutations,((n,r)=>Z1(n,r)))}}class Gy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){dt(e.mutations.length===r.length);let o=(function(){return sP})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new Gy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Ze;function vP(t){switch(t){default:return Fe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function Jw(t){if(t===void 0)return Di("GRPC error has no .code"),re.UNKNOWN;switch(t){case Xt.OK:return re.OK;case Xt.CANCELLED:return re.CANCELLED;case Xt.UNKNOWN:return re.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return re.INTERNAL;case Xt.UNAVAILABLE:return re.UNAVAILABLE;case Xt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Xt.NOT_FOUND:return re.NOT_FOUND;case Xt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Xt.ABORTED:return re.ABORTED;case Xt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Xt.DATA_LOSS:return re.DATA_LOSS;default:return Fe()}}(Ze=Xt||(Xt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new ma([4294967295,4294967295],0);function n_(t){const e=_P().encode(t),n=new jw;return n.update(e),new Uint8Array(n.digest())}function s_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ma([n,r],0),new ma([o,l],0)]}class qy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(r<0)throw new qc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ma.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(ma.fromNumber(r)));return o.compare(bP)===1&&(o=new ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=n_(e),[r,o]=s_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new qy(l,o,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=n_(e),[r,o]=s_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rp(Oe.min(),o,new Dt(at),Li(),Ye())}}class Lu{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class Zw{constructor(e,n){this.targetId=e,this.me=n}}class ej{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class r_{constructor(){this.fe=0,this.ge=o_(),this.pe=Fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),n=Ye(),r=Ye();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Fe()}})),new Lu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=o_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Li(),this.qe=i_(),this.Qe=new Dt(at)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Fe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(zg(l))if(r===0){const c=new Ie(l.path);this.Ue(n,c,qn.newNoDocument(c,Oe.min()))}else dt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),h=d?this.Xe(d,e,c):1;if(h!==0){this.je(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=xa(r).toUint8Array()}catch(h){if(h instanceof Pw)return Il("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new qy(c,o,l)}catch(h){return Il(h instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&zg(d.target)){const h=new Ie(d.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,qn.newNoDocument(h,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Ye();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Rp(e,n,this.Qe,this.ke,r);return this.ke=Li(),this.qe=i_(),this.Qe=new Dt(at),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new r_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ln(at),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new r_),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function i_(){return new Dt(Ie.comparator)}function o_(){return new Dt(Ie.comparator)}const jP={asc:"ASCENDING",desc:"DESCENDING"},SP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EP={and:"AND",or:"OR"};class TP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wg(t,e){return t.useProto3Json||Ep(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kP(t,e){return np(t,e.toTimestamp())}function Jr(t){return dt(!!t),Oe.fromTimestamp((function(n){const r=bo(n);return new ln(r.seconds,r.nanos)})(t))}function Ky(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nj(t){const e=gt.fromString(t);return dt(aj(e)),e}function qg(t,e){return Ky(t.databaseId,e.path)}function Vm(t,e){const n=nj(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(rj(n))}function sj(t,e){return Ky(t.databaseId,e)}function CP(t){const e=nj(t);return e.length===4?gt.emptyPath():rj(e)}function Kg(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rj(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function a_(t,e,n){return{name:qg(t,e),fields:n.value.mapValue.fields}}function IP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(dt(g===void 0||typeof g=="string"),Fn.fromBase64String(g||"")):(dt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Fn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?re.UNKNOWN:Jw(p.code);return new xe(g,p.message||"")})(c);n=new ej(r,o,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vm(t,r.document.name),l=Jr(r.document.updateTime),c=r.document.createTime?Jr(r.document.createTime):Oe.min(),d=new _s({mapValue:{fields:r.document.fields}}),h=qn.newFoundDocument(o,l,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Bh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Vm(t,r.document),l=r.readTime?Jr(r.readTime):Oe.min(),c=qn.newNoDocument(o,l),d=r.removedTargetIds||[];n=new Bh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Vm(t,r.document),l=r.removedTargetIds||[];n=new Bh([],l,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new xP(o,l),d=r.targetId;n=new Zw(d,c)}}return n}function AP(t,e){let n;if(e instanceof Du)n={update:a_(t,e.key,e.value)};else if(e instanceof Wy)n={delete:qg(t,e.key)};else if(e instanceof To)n={update:a_(t,e.key,e.data),updateMask:$P(e.fieldMask)};else{if(!(e instanceof mP))return Fe();n={verify:qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof tp)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Fe()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:kP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Fe()})(t,e.precondition)),n}function RP(t,e){return t&&t.length>0?(dt(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?Jr(o.updateTime):Jr(l);return c.isEqual(Oe.min())&&(c=Jr(l)),new hP(c,o.transformResults||[])})(n,e)))):[]}function PP(t,e){return{documents:[sj(t,e.path)]}}function NP(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sj(t,o);const l=(function(p){if(p.length!==0)return oj(Ir.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((g=>(function(_){return{field:xl(_.field),direction:MP(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Wg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:o}}function DP(t){let e=CP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){dt(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=ij(v);return _ instanceof Ir&&Mw(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(I){return new vu(vl(I.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let _;return _=typeof v=="object"?v.value:v,Ep(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(v){const _=!!v.before,T=v.values||[];return new Nl(T,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const _=!v.before,T=v.values||[];return new Nl(T,_)})(n.endAt)),JR(e,o,c,l,d,"F",h,p)}function LP(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ij(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=vl(n.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vl(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(vl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ir.create(n.compositeFilter.filters.map((r=>ij(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}})(n.compositeFilter.op))})(t):Fe()}function MP(t){return jP[t]}function FP(t){return SP[t]}function VP(t){return EP[t]}function xl(t){return{fieldPath:t.canonicalString()}}function vl(t){return Nn.fromServerFormat(t.fieldPath)}function oj(t){return t instanceof nn?(function(n){if(n.op==="=="){if(q1(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(G1(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q1(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(G1(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:FP(n.op),value:n.value}}})(t):t instanceof Ir?(function(n){const r=n.getFilters().map((o=>oj(o)));return r.length===1?r[0]:{compositeFilter:{op:VP(n.op),filters:r}}})(t):Fe()}function $P(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,o,l=Oe.min(),c=Oe.min(),d=Fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.ct=e}}function OP(t){const e=DP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.un=new zP}addToCollectionParentIndex(e,n){return this.un.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(_o.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class zP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ln(gt.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ln(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dl(0)}static kn(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.changes=new Wl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&nu(r.mutation,o,Ns.empty(),ln.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const o=pa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=Gc();return l.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,o){let l=Li();const c=tu(),d=(function(){return tu()})();return n.forEach(((h,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof To)?l=l.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),nu(g.mutation,p,g.mutation.getFieldMask(),ln.now())):c.set(p.key,Ns.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>{var v;return d.set(p,new WP(g,(v=c.get(p))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=tu();let o=new Dt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||Ns.empty();g=d.applyToLocalView(p,g),r.set(h,g);const v=(o.get(d.batchId)||Ye()).add(h);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,v=Hw();g.forEach((_=>{if(!l.has(_)){const T=Yw(n.get(_),r.get(_));T!==null&&v.set(_,T),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return he.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):he.resolve(pa());let d=-1,h=l;return c.next((p=>he.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,Ye()))).next((g=>({batchId:d,changes:zw(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let o=Gc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=Gc();return this.indexManager.getCollectionParents(e,l).next((d=>he.forEach(d,(h=>{const p=(function(v,_){return new $i(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,qn.newInvalidDocument(g)))}));let d=Gc();return c.forEach(((h,p)=>{const g=l.get(h);g!==void 0&&nu(g.mutation,p,Ns.empty(),ln.now()),Cp(n,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return he.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Jr(o.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:OP(o.bundledQuery),readTime:Jr(o.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.overlays=new Dt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return he.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const o=pa(),l=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&o.set(h.getKey(),h)}return he.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new Dt(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=pa(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=pa(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=o)););return he.resolve(d)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new yP(n,r));let l=this.Ir.get(n);l===void 0&&(l=Ye(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.Tr=new Ln(gn.Er),this.dr=new Ln(gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new gn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ie(new gt([])),r=new gn(n,e),o=new gn(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new gt([])),r=new gn(n,e),o=new gn(n,e+1);let l=Ye();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new gn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||at(e.wr,n.wr)}static Ar(e,n){return at(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ln(gn.Er)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gP(l,n,r,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new gn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),o=new gn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ln(at);return n.forEach((o=>{const l=new gn(o,0),c=new gn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{r=r.add(d.wr)}))})),he.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Ie.isDocumentKey(l)||(l=l.child(""));const c=new gn(new Ie(l),0);let d=new Ln(at);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(h.wr)),!0)}),c),he.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){dt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return he.forEach(n.mutations,(o=>{const l=new gn(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new gn(n,0),o=this.br.firstAfterOrEqual(r);return he.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.Mr=e,this.docs=(function(){return new Dt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():qn.newInvalidDocument(o))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=Li();const c=n.path,d=new Ie(c.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||NR(PR(g),r)<=0||(o.has(g.key)||Cp(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Fe()}Or(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new JP(this)}getSize(e){return he.resolve(this.size)}}class JP extends HP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.persistence=e,this.Nr=new Wl((n=>By(n)),Oy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qy,this.targetCount=0,this.kr=Dl.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),he.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Kn(n),he.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),he.waitFor(l).next((()=>o))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fy(0),this.Kr=!1,this.Kr=!0,this.$r=new QP,this.referenceDelegate=e(this),this.Ur=new ZP(this),this.indexManager=new UP,this.remoteDocumentCache=(function(o){return new XP(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new BP(n),this.Gr=new qP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YP(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const o=new tN(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return he.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class tN extends LR{constructor(e){super(),this.currentSequenceNumber=e}}class Yy{constructor(e){this.persistence=e,this.Jr=new Qy,this.Yr=null}static Zr(e){return new Yy(e)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),he.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Xr,(r=>{const o=Ie.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return he.or([()=>he.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Ye(),o=Ye();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Xy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return oA()?8:MR(rA())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new nN;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(Fc()<=rt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),he.resolve()):(Fc()<=rt.DEBUG&&Ee("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Fc()<=rt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):he.resolve())}Yi(e,n){if(X1(n))return he.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ep(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ye(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(n,d);return this.ns(n,p,c,h.readTime)?this.Yi(e,ep(n,null,"F")):this.rs(e,p,n,h)}))))})))))}Zi(e,n,r,o){return X1(n)||o.isEqual(Oe.min())?he.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?he.resolve(null):(Fc()<=rt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yl(n)),this.rs(e,c,n,RR(o,-1)).next((d=>d)))}))}ts(e,n){let r=new Ln(Ow(e));return n.forEach(((o,l)=>{Cp(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return Fc()<=rt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",yl(n)),this.Ji.getDocumentsMatchingQuery(e,n,_o.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Dt(at),this._s=new Wl((l=>By(l)),Oy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function iN(t,e,n,r){return new rN(t,e,n,r)}async function lj(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let h=Ye();for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function oN(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,g){const v=p.batch,_=v.keys();let T=he.resolve();return _.forEach((I=>{T=T.next((()=>g.getEntry(h,I))).next((N=>{const P=p.docVersions.get(I);dt(P!==null),N.version.compareTo(P)<0&&(v.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),g.addEntry(N)))}))})),T.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function cj(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function aN(t,e){const n=Ue(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((g,v)=>{const _=o.get(v);if(!_)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,v))));let T=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Fn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),o=o.insert(v,T),(function(N,P,O){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,T,g)&&d.push(n.Ur.updateTargetData(l,T))}));let h=Li(),p=Ye();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(lN(l,c,e.documentUpdates).next((g=>{h=g.Ps,p=g.Is}))),!r.isEqual(Oe.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((v=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return he.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(n.os=o,l)))}function lN(t,e,n){let r=Ye(),o=Ye();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Li();return n.forEach(((d,h)=>{const p=l.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ee("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Ps:c,Is:o}}))}function cN(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function uN(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,he.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new go(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Qg(t,e,n){const r=Ue(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Nu(c))throw c;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function l_(t,e,n){const r=Ue(t);let o=Oe.min(),l=Ye();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,g){const v=Ue(h),_=v._s.get(g);return _!==void 0?he.resolve(v.os.get(_)):v.Ur.getTargetData(p,g)})(r,c,Xr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((h=>{l=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:Oe.min(),n?l:Ye()))).next((d=>(dN(r,eP(e),d),{documents:d,Ts:l})))))}function dN(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class c_{constructor(){this.activeTargetIds=oP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(){this.so=new c_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new c_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function $m(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class gN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const d=$m(),h=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${d}:`,h,o);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,h,p,o).then((g=>(Ee("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw Il("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",h,"request:",o),g}))}Lo(n,r,o,l,c,d){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=fN[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=$m();return new Promise(((c,d)=>{const h=new Sw;h.setWithCredentials(!0),h.listenOnce(Ew.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Fh.NO_ERROR:const g=h.getResponseJson();Ee(zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Fh.TIMEOUT:Ee(zn,`RPC '${e}' ${l} timed out`),d(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const v=h.getStatus();if(Ee(zn,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=(function(P){const O=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(O)>=0?O:re.UNKNOWN})(T.status);d(new xe(I,T.message))}else d(new xe(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(re.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ee(zn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(o);Ee(zn,`RPC '${e}' ${l} sending request:`,o),h.send(n,"POST",p,r,15)}))}Bo(e,n,r){const o=$m(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Cw(),d=kw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=l.join("");Ee(zn,`Creating RPC '${e}' stream ${o}: ${g}`,h);const v=c.createWebChannel(g,h);let _=!1,T=!1;const I=new mN({Io:P=>{T?Ee(zn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(_||(Ee(zn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),_=!0),Ee(zn,`RPC '${e}' stream ${o} sending:`,P),v.send(P))},To:()=>v.close()}),N=(P,O,V)=>{P.listen(O,(A=>{try{V(A)}catch(x){setTimeout((()=>{throw x}),0)}}))};return N(v,Wc.EventType.OPEN,(()=>{T||(Ee(zn,`RPC '${e}' stream ${o} transport opened.`),I.yo())})),N(v,Wc.EventType.CLOSE,(()=>{T||(T=!0,Ee(zn,`RPC '${e}' stream ${o} transport closed`),I.So())})),N(v,Wc.EventType.ERROR,(P=>{T||(T=!0,Il(zn,`RPC '${e}' stream ${o} transport errored:`,P),I.So(new xe(re.UNAVAILABLE,"The operation could not be completed")))})),N(v,Wc.EventType.MESSAGE,(P=>{var O;if(!T){const V=P.data[0];dt(!!V);const A=V,x=A.error||((O=A[0])===null||O===void 0?void 0:O.error);if(x){Ee(zn,`RPC '${e}' stream ${o} received error:`,x);const w=x.status;let R=(function(C){const F=Xt[C];if(F!==void 0)return Jw(F)})(w),E=x.message;R===void 0&&(R=re.INTERNAL,E="Unknown error status: "+w+" with message "+x.message),T=!0,I.So(new xe(R,E)),v.close()}else Ee(zn,`RPC '${e}' stream ${o} received:`,V),I.bo(V)}})),N(d,Tw.STAT_EVENT,(P=>{P.stat===$g.PROXY?Ee(zn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===$g.NOPROXY&&Ee(zn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function Bm(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){return new TP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n,r,o,l,c,d,h){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new xe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yN extends dj{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=IP(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Jr(c.readTime):Oe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Kg(this.serializer),n.addTarget=(function(l,c){let d;const h=c.target;if(d=zg(h)?{documents:PP(l,h)}:{query:NP(l,h)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=tj(l,c.resumeToken);const p=Wg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=np(l,c.snapshotVersion.toTimestamp());const p=Wg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=LP(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Kg(this.serializer),n.removeTarget=e,this.a_(n)}}class xN extends dj{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=RP(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Kg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>AP(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,Gg(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(re.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,Gg(n,r),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(re.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class _N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{ja(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=Ue(h);p.L_.add(4),await Mu(p),p.q_.set("Unknown"),p.L_.delete(4),await Np(p)})(this))}))})),this.q_=new _N(r,o)}}async function Np(t){if(ja(t))for(const e of t.B_)await e(!0)}async function Mu(t){for(const e of t.B_)await e(!1)}function hj(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),t0(n)?e0(n):Gl(n).r_()&&Zy(n,e))}function Jy(t,e){const n=Ue(t),r=Gl(n);n.N_.delete(e),r.r_()&&pj(n,e),n.N_.size===0&&(r.r_()?r.o_():ja(n)&&n.q_.set("Unknown"))}function Zy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).A_(e)}function pj(t,e){t.Q_.xe(e),Gl(t).R_(e)}function e0(t){t.Q_=new wP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.q_.v_()}function t0(t){return ja(t)&&!Gl(t).n_()&&t.N_.size>0}function ja(t){return Ue(t).L_.size===0}function fj(t){t.Q_=void 0}async function wN(t){t.q_.set("Online")}async function jN(t){t.N_.forEach(((e,n)=>{Zy(t,e)}))}async function SN(t,e){fj(t),t0(t)?(t.q_.M_(e),e0(t)):t.q_.set("Unknown")}async function EN(t,e,n){if(t.q_.set("Online"),e instanceof ej&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof Bh?t.Q_.Ke(e):e instanceof Zw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const r=await cj(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=l.N_.get(p);g&&l.N_.set(p,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,p)=>{const g=l.N_.get(h);if(!g)return;l.N_.set(h,g.withResumeToken(Fn.EMPTY_BYTE_STRING,g.snapshotVersion)),pj(l,h);const v=new go(g.target,h,p,g.sequenceNumber);Zy(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!Nu(e))throw e;t.L_.add(1),await Mu(t),t.q_.set("Offline"),n||(n=()=>cj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Np(t)}))}function mj(t,e){return e().catch((n=>sp(t,n,e)))}async function Dp(t){const e=Ue(t),n=wo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;TN(e);)try{const o=await cN(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,kN(e,o)}catch(o){await sp(e,o)}gj(e)&&yj(e)}function TN(t){return ja(t)&&t.O_.length<10}function kN(t,e){t.O_.push(e);const n=wo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gj(t){return ja(t)&&!wo(t).n_()&&t.O_.length>0}function yj(t){wo(t).start()}async function CN(t){wo(t).p_()}async function IN(t){const e=wo(t);for(const n of t.O_)e.m_(n.mutations)}async function AN(t,e,n){const r=t.O_.shift(),o=Gy.from(r,e,n);await mj(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Dp(t)}async function RN(t,e){e&&wo(t).V_&&await(async function(r,o){if((function(c){return vP(c)&&c!==re.ABORTED})(o.code)){const l=r.O_.shift();wo(r).s_(),await mj(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Dp(r)}})(t,e),gj(t)&&yj(t)}async function d_(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=ja(n);n.L_.add(3),await Mu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Np(n)}async function PN(t,e){const n=Ue(t);e?(n.L_.delete(2),await Np(n)):e||(n.L_.add(2),await Mu(n),n.q_.set("Unknown"))}function Gl(t){return t.K_||(t.K_=(function(n,r,o){const l=Ue(n);return l.w_(),new yN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:wN.bind(null,t),Ro:jN.bind(null,t),mo:SN.bind(null,t),d_:EN.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),t0(t)?e0(t):t.q_.set("Unknown")):(await t.K_.stop(),fj(t))}))),t.K_}function wo(t){return t.U_||(t.U_=(function(n,r,o){const l=Ue(n);return l.w_(),new xN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CN.bind(null,t),mo:RN.bind(null,t),f_:IN.bind(null,t),g_:AN.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Dp(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,d=new n0(e,n,c,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(t,e){if(Di("AsyncQueue",`${e}: ${t}`),Nu(t))return new xe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new kl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.W_=new Dt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ll{constructor(e,n,r,o,l,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Ll(e,n,kl.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class DN{constructor(){this.queries=p_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Ue(n),l=o.queries;o.queries=p_(),l.forEach(((c,d)=>{for(const h of d.j_)h.onError(r)}))})(this,new xe(re.ABORTED,"Firestore shutting down"))}}function p_(){return new Wl((t=>Bw(t)),kp)}async function xj(t,e){const n=Ue(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new NN,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=s0(c,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&r0(n)}async function vj(t,e){const n=Ue(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LN(t,e){const n=Ue(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(r=!0);c.z_=o}}r&&r0(n)}function MN(t,e,n){const r=Ue(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function r0(t){t.Y_.forEach((e=>{e.next()}))}var Yg,f_;(f_=Yg||(Yg={})).ea="default",f_.Cache="cache";class _j{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.key=e}}class wj{constructor(e){this.key=e}}class FN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ye(),this.mutatedKeys=Ye(),this.Aa=Ow(e),this.Ra=new kl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new h_,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,v)=>{const _=o.get(g),T=Cp(this.query,v)?v:null,I=!!_&&this.mutatedKeys.has(_.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;_&&T?_.data.isEqual(T.data)?I!==N&&(r.track({type:3,doc:T}),P=!0):this.ga(_,T)||(r.track({type:2,doc:T}),P=!0,(h&&this.Aa(T,h)>0||p&&this.Aa(T,p)<0)&&(d=!0)):!_&&T?(r.track({type:0,doc:T}),P=!0):_&&!T&&(r.track({type:1,doc:_}),P=!0,(h||p)&&(d=!0)),P&&(T?(c=c.add(T),l=N?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,v)=>(function(T,I){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return N(T)-N(I)})(g.type,v.type)||this.Aa(g.doc,v.doc))),this.pa(r),o=o!=null&&o;const d=n&&!o?this.ya():[],h=this.da.size===0&&this.current&&!o?1:0,p=h!==this.Ea;return this.Ea=h,c.length!==0||p?{snapshot:new Ll(this.query,e.Ra,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new h_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ye(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new wj(r))})),this.da.forEach((r=>{e.has(r)||n.push(new bj(r))})),n}ba(e){this.Ta=e.Ts,this.da=Ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ll.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class VN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $N{constructor(e){this.key=e,this.va=!1}}class BN{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Wl((d=>Bw(d)),kp),this.Ma=new Map,this.xa=new Set,this.Oa=new Dt(Ie.comparator),this.Na=new Map,this.La=new Qy,this.Ba={},this.ka=new Map,this.qa=Dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ON(t,e,n=!0){const r=Cj(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await jj(r,e,n,!0),o}async function UN(t,e){const n=Cj(t);await jj(n,e,!0,!1)}async function jj(t,e,n,r){const o=await uN(t.localStore,Xr(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await zN(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&hj(t.remoteStore,o),d}async function zN(t,e,n,r,o){t.Ka=(v,_,T)=>(async function(N,P,O,V){let A=P.view.ma(O);A.ns&&(A=await l_(N.localStore,P.query,!1).then((({documents:E})=>P.view.ma(E,A))));const x=V&&V.targetChanges.get(P.targetId),w=V&&V.targetMismatches.get(P.targetId)!=null,R=P.view.applyChanges(A,N.isPrimaryClient,x,w);return g_(N,P.targetId,R.wa),R.snapshot})(t,v,_,T);const l=await l_(t.localStore,e,!0),c=new FN(e,l.Ts),d=c.ma(l.documents),h=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=c.applyChanges(d,t.isPrimaryClient,h);g_(t,n,p.wa);const g=new VN(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function HN(t,e,n){const r=Ue(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!kp(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Jy(r.remoteStore,o.targetId),Xg(r,o.targetId)})).catch(Pu)):(Xg(r,o.targetId),await Qg(r.localStore,o.targetId,!0))}async function WN(t,e){const n=Ue(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jy(n.remoteStore,r.targetId))}async function GN(t,e,n){const r=ZN(t);try{const o=await(function(c,d){const h=Ue(c),p=ln.now(),g=d.reduce(((T,I)=>T.add(I.key)),Ye());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=Li(),N=Ye();return h.cs.getEntries(T,g).next((P=>{I=P,I.forEach(((O,V)=>{V.isValidDocument()||(N=N.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,I))).next((P=>{v=P;const O=[];for(const V of d){const A=fP(V,v.get(V.key).overlayedDocument);A!=null&&O.push(new To(V.key,A,Nw(A.value.mapValue),ir.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,O,d)})).next((P=>{_=P;const O=P.applyToLocalDocumentSet(v,N);return h.documentOverlayCache.saveOverlays(T,P.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:zw(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,h){let p=c.Ba[c.currentUser.toKey()];p||(p=new Dt(at)),p=p.insert(d,h),c.Ba[c.currentUser.toKey()]=p})(r,o.batchId,n),await Fu(r,o.changes),await Dp(r.remoteStore)}catch(o){const l=s0(o,"Failed to persist write");n.reject(l)}}async function Sj(t,e){const n=Ue(t);try{const r=await aN(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?dt(c.va):o.removedDocuments.size>0&&(dt(c.va),c.va=!1))})),await Fu(n,r,e)}catch(r){await Pu(r)}}function m_(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const h=Ue(c);h.onlineState=d;let p=!1;h.queries.forEach(((g,v)=>{for(const _ of v.j_)_.Z_(d)&&(p=!0)})),p&&r0(h)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qN(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new Dt(Ie.comparator);c=c.insert(l,qn.newNoDocument(l,Oe.min()));const d=Ye().add(l),h=new Rp(Oe.min(),new Map,new Dt(at),c,d);await Sj(r,h),r.Oa=r.Oa.remove(l),r.Na.delete(e),i0(r)}else await Qg(r.localStore,e,!1).then((()=>Xg(r,e,n))).catch(Pu)}async function KN(t,e){const n=Ue(t),r=e.batch.batchId;try{const o=await oN(n.localStore,e);Tj(n,r,null),Ej(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(n,o)}catch(o){await Pu(o)}}async function QN(t,e,n){const r=Ue(t);try{const o=await(function(c,d){const h=Ue(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next((v=>(dt(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);Tj(r,e,n),Ej(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fu(r,o)}catch(o){await Pu(o)}}function Ej(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function Tj(t,e,n){const r=Ue(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||kj(t,r)}))}function kj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Jy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),i0(t))}function g_(t,e,n){for(const r of n)r instanceof bj?(t.La.addReference(r.key,e),YN(t,r)):r instanceof wj?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kj(t,r.key)):Fe()}function YN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),i0(t))}function i0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(gt.fromString(e)),r=t.qa.next();t.Na.set(r,new $N(n)),t.Oa=t.Oa.insert(n,r),hj(t.remoteStore,new go(Xr(Uy(n.path)),r,"TargetPurposeLimboResolution",Fy.oe))}}async function Fu(t,e,n){const r=Ue(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,h)=>{c.push(r.Ka(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Xy.Wi(h.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(h,p){const g=Ue(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>he.forEach(p,(_=>he.forEach(_.$i,(T=>g.persistence.referenceDelegate.addReference(v,_.targetId,T))).next((()=>he.forEach(_.Ui,(T=>g.persistence.referenceDelegate.removeReference(v,_.targetId,T)))))))))}catch(v){if(!Nu(v))throw v;Ee("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const T=g.os.get(_),I=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(I);g.os=g.os.insert(_,N)}}})(r.localStore,l))}async function XN(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await lj(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((h=>{h.reject(new xe(re.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(n,r.hs)}}function JN(t,e){const n=Ue(t),r=n.Na.get(e);if(r&&r.va)return Ye().add(r.key);{let o=Ye();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function Cj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qN.bind(null,e),e.Ca.d_=LN.bind(null,e.eventManager),e.Ca.$a=MN.bind(null,e.eventManager),e}function ZN(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QN.bind(null,e),e}class rp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iN(this.persistence,new sN,e.initialUser,this.serializer)}Ga(e){return new eN(Yy.Zr,this.serializer)}Wa(e){return new hN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rp.provider={build:()=>new rp};class Jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XN.bind(null,this.syncEngine),await PN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DN})()}createDatastore(e){const n=Pp(e.databaseInfo.databaseId),r=(function(l){return new gN(l)})(e.databaseInfo);return(function(l,c,d,h){return new vN(l,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,d){return new bN(r,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>m_(this.syncEngine,n,0)),(function(){return u_.D()?new u_:new pN})())}createSyncEngine(e,n){return(function(o,l,c,d,h,p,g){const v=new BN(o,l,c,d,h,p);return g&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Ue(o);Ee("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Mu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jg.provider={build:()=>new Jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Wn.UNAUTHENTICATED,this.clientId=Aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ee("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ee("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Om(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await lj(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t3(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>d_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>d_(e.remoteStore,o))),t._onlineComponents=e}async function t3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Om(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Il("Error using user provided cache. Falling back to memory cache: "+n),await Om(t,new rp)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Om(t,new rp);return t._offlineComponents}async function Aj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await y_(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await y_(t,new Jg))),t._onlineComponents}function n3(t){return Aj(t).then((e=>e.syncEngine))}async function Rj(t){const e=await Aj(t),n=e.eventManager;return n.onListen=ON.bind(null,e.syncEngine),n.onUnlisten=HN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WN.bind(null,e.syncEngine),n}function s3(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,p){const g=new Ij({next:_=>{g.Za(),c.enqueueAndForget((()=>vj(l,v)));const T=_.docs.has(d);!T&&_.fromCache?p.reject(new xe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new _j(Uy(d.path),g,{includeMetadataChanges:!0,_a:!0});return xj(l,v)})(await Rj(t),t.asyncQueue,e,n,r))),r.promise}function r3(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,p){const g=new Ij({next:_=>{g.Za(),c.enqueueAndForget((()=>vj(l,v))),_.fromCache&&h.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new _j(d,g,{includeMetadataChanges:!0,_a:!0});return xj(l,v)})(await Rj(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e,n){if(!n)throw new xe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i3(t,e,n,r){if(e===!0&&r===!0)throw new xe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v_(t){if(!Ie.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function __(t){if(Ie.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(t);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function o3(t,e){if(e<=0)throw new xe(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vu{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wR;switch(r.type){case"firstParty":return new TR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=x_.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),x_.delete(n),r.terminate())})(this),Promise.resolve()}}function a3(t,e,n,r={}){var o;const l=(t=Mi(t,Vu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Wn.MOCK_USER;else{d=sA(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Wn(p)}t._authCredentials=new jR(new Iw(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pr(this.firestore,e,this._query)}}class bs{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class vo extends Pr{constructor(e,n,r){super(e,n,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new Ie(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function a0(t,e,...n){if(t=Cr(t),o0("collection","path",e),t instanceof Vu){const r=gt.fromString(e,...n);return __(r),new vo(t,null,r)}{if(!(t instanceof bs||t instanceof vo))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return __(r),new vo(t.firestore,null,r)}}function l3(t,e){if(t=Mi(t,Vu),o0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pr(t,null,(function(r){return new $i(gt.emptyPath(),r)})(e))}function en(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=Aw.newId()),o0("doc","path",e),t instanceof Vu){const r=gt.fromString(e,...n);return v_(r),new bs(t,null,new Ie(r))}{if(!(t instanceof bs||t instanceof vo))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return v_(r),new bs(t.firestore,t instanceof vo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uj(this,"async_queue_retry"),this.Vu=()=>{const r=Bm();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Ri;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nu(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw Di("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=n0.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class $u extends Vu{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new w_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w_(e),this._firestoreClient=void 0,await e}}}function c3(t,e){const n=typeof t=="object"?t:_w(),r=typeof t=="string"?t:"(default)",o=lR(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=tA("firestore");l&&a3(o,...l)}return o}function Mp(t){if(t._terminated)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u3(t),t._firestoreClient}function u3(t){var e,n,r;const o=t._freezeSettings(),l=(function(d,h,p,g){return new $R(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Pj(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new e3(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(Fn.fromBase64String(e))}catch(n){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ml(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^__.*__$/;class h3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class Nj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class u0{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new u0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ip(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Dj(this.Cu)&&d3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class p3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pp(e)}Qu(e,n,r,o=!1){return new u0({Cu:e,methodName:n,qu:r,path:Nn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(t){const e=t._freezeSettings(),n=Pp(t._databaseId);return new p3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lj(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);h0("Data must be an object, but it was:",c,r);const d=Fj(r,c);let h,p;if(l.merge)h=new Ns(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=Zg(e,v,n);if(!c.contains(_))throw new xe(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);$j(g,_)||g.push(_)}h=new Ns(g),p=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=c.fieldTransforms;return new h3(new _s(d),h,p)}class Bp extends Vp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}class d0 extends Vp{_toFieldTransform(e){return new uP(e.path,new _u)}isEqual(e){return e instanceof d0}}function f3(t,e,n,r){const o=t.Qu(1,e,n);h0("Data must be an object, but it was:",o,r);const l=[],c=_s.empty();wa(r,((h,p)=>{const g=p0(e,h,n);p=Cr(p);const v=o.Nu(g);if(p instanceof Bp)l.push(g);else{const _=Bu(p,v);_!=null&&(l.push(g),c.set(g,_))}}));const d=new Ns(l);return new Nj(c,d,o.fieldTransforms)}function m3(t,e,n,r,o,l){const c=t.Qu(1,e,n),d=[Zg(e,r,n)],h=[o];if(l.length%2!=0)throw new xe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(Zg(e,l[_])),h.push(l[_+1]);const p=[],g=_s.empty();for(let _=d.length-1;_>=0;--_)if(!$j(p,d[_])){const T=d[_];let I=h[_];I=Cr(I);const N=c.Nu(T);if(I instanceof Bp)p.push(T);else{const P=Bu(I,N);P!=null&&(p.push(T),g.set(T,P))}}const v=new Ns(p);return new Nj(g,v,c.fieldTransforms)}function Mj(t,e,n,r=!1){return Bu(n,t.Qu(r?4:3,e))}function Bu(t,e){if(Vj(t=Cr(t)))return h0("Unsupported field value:",e,t),Fj(t,e);if(t instanceof Vp)return(function(r,o){if(!Dj(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const d of r){let h=Bu(d,o.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ln.fromDate(r);return{timestampValue:np(o.serializer,l)}}if(r instanceof ln){const l=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:np(o.serializer,l)}}if(r instanceof l0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ml)return{bytesValue:tj(o.serializer,r._byteString)};if(r instanceof bs){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ky(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof c0)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Bu("VectorValues must only contain numeric values.");return Hy(d.serializer,h)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${Lp(r)}`)})(t,e)}function Fj(t,e){const n={};return Rw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,((r,o)=>{const l=Bu(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function Vj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof l0||t instanceof Ml||t instanceof bs||t instanceof Vp||t instanceof c0)}function h0(t,e,n){if(!Vj(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=Lp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Zg(t,e,n){if((e=Cr(e))instanceof Fp)return e._internalPath;if(typeof e=="string")return p0(t,e);throw ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const g3=new RegExp("[~\\*/\\[\\]]");function p0(t,e,n){if(e.search(g3)>=0)throw ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fp(...e.split("."))._internalPath}catch(r){throw ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ip(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new xe(re.INVALID_ARGUMENT,d+t+h)}function $j(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y3 extends f0{data(){return super.data()}}function Op(t,e){return typeof e=="string"?p0(t,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m0{}class Ou extends m0{}function fo(t,e,...n){let r=[];e instanceof m0&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof g0)).length,d=l.filter((h=>h instanceof Up)).length;if(c>1||c>0&&d>0)throw new xe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Up extends Ou{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Up(e,n,r)}_apply(e){const n=this._parse(e);return Oj(e._query,n),new Pr(e.firestore,e.converter,Hg(e._query,n))}_parse(e){const n=$p(e.firestore);return(function(l,c,d,h,p,g,v){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){S_(v,g);const T=[];for(const I of v)T.push(j_(h,l,I));_={arrayValue:{values:T}}}else _=j_(h,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||S_(v,g),_=Mj(d,c,v,g==="in"||g==="not-in");return nn.create(p,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oh(t,e,n){const r=e,o=Op("where",t);return Up._create(o,r,n)}class g0 extends m0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const h of d)Oj(c,h),c=Hg(c,h)})(e._query,n),new Pr(e.firestore,e.converter,Hg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y0 extends Ou{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new y0(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(l,c)})(e._query,this._field,this._direction);return new Pr(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new $i(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function gh(t,e="asc"){const n=e,r=Op("orderBy",t);return y0._create(r,n)}class x0 extends Ou{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new x0(e,n,r)}_apply(e){return new Pr(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}}function mo(t){return o3("limit",t),x0._create("limit",t,"F")}class v0 extends Ou{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new v0(e,n,r)}_apply(e){const n=Bj(e,this.type,this._docOrFields,this._inclusive);return new Pr(e.firestore,e.converter,(function(o,l){return new $i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function yh(...t){return v0._create("startAt",t,!0)}class _0 extends Ou{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _0(e,n,r)}_apply(e){const n=Bj(e,this.type,this._docOrFields,this._inclusive);return new Pr(e.firestore,e.converter,(function(o,l){return new $i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function xh(...t){return _0._create("endAt",t,!0)}function Bj(t,e,n,r){if(n[0]=Cr(n[0]),n[0]instanceof f0)return(function(l,c,d,h,p){if(!h)throw new xe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of Tl(l))if(v.field.isKeyField())g.push(Zh(c,h.key));else{const _=h.data.field(v.field);if(Tp(_))throw new xe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=v.field.canonicalString();throw new xe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(_)}return new Nl(g,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=$p(t.firestore);return(function(c,d,h,p,g,v){const _=c.explicitOrderBy;if(g.length>_.length)throw new xe(re.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<g.length;I++){const N=g[I];if(_[I].field.isKeyField()){if(typeof N!="string")throw new xe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof N}`);if(!zy(c)&&N.indexOf("/")!==-1)throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${N}' contains a slash.`);const P=c.path.child(gt.fromString(N));if(!Ie.isDocumentKey(P))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const O=new Ie(P);T.push(Zh(d,O))}else{const P=Mj(h,p,N);T.push(P)}}return new Nl(T,v)})(t._query,t.firestore._databaseId,o,e,n,r)}}function j_(t,e,n){if(typeof(n=Cr(n))=="string"){if(n==="")throw new xe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zy(e)&&n.indexOf("/")!==-1)throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Ie.isDocumentKey(r))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zh(t,new Ie(r))}if(n instanceof bs)return Zh(t,n._key);throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lp(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Oj(t,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v3{convertValue(e,n="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>qt(c.doubleValue)));return new c0(l)}convertGeoPoint(e){return new l0(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=bo(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);dt(aj(r));const o=new yu(r.get(1),r.get(3)),l=new Ie(r.popFirst(5));return o.isEqual(n)||Di(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zj extends f0{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Op("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uh extends zj{data(e={}){return super.data(e)}}class _3{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Uh(this._firestore,this._userDataWriter,r.key,r,new Kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const h=new Uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Kc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const h=new Uh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Kc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:b3(d.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){t=Mi(t,bs);const e=Mi(t.firestore,$u);return s3(Mp(e),t._key).then((n=>w3(e,t,n)))}class Hj extends v3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,n)}}function Ci(t){t=Mi(t,Pr);const e=Mi(t.firestore,$u),n=Mp(e),r=new Hj(e);return x3(t._query),r3(n,t._query).then((o=>new _3(e,r,t,o)))}function op(t,e,n){t=Mi(t,bs);const r=Mi(t.firestore,$u),o=Uj(t.converter,e,n);return Wj(r,[Lj($p(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ir.none())])}function Wj(t,e){return(function(r,o){const l=new Ri;return r.asyncQueue.enqueueAndForget((async()=>GN(await n3(r),o,l))),l.promise})(Mp(t),e)}function w3(t,e,n){const r=n.docs.get(e._key),o=new Hj(t);return new zj(t,o,e._key,r,new Kc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$p(e)}set(e,n,r){this._verifyNotCommitted();const o=Um(e,this._firestore),l=Uj(o.converter,n,r),c=Lj(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,ir.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=Um(e,this._firestore);let c;return c=typeof(n=Cr(n))=="string"||n instanceof Fp?m3(this._dataReader,"WriteBatch.update",l._key,n,r,o):f3(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Um(e,this._firestore);return this._mutations=this._mutations.concat(new Wy(n._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Um(t,e){if((t=Cr(t)).firestore!==e)throw new xe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ti(){return new d0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){return Mp(t=Mi(t,$u)),new j3(t,(e=>Wj(t,e)))}(function(e,n=!0){(function(o){Hl=o})(dR),Xh(new hu("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new $u(new SR(r.getProvider("auth-internal")),new CR(r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(p.options.projectId,g)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),El(O1,"4.7.3",e),El(O1,"4.7.3","esm2017")})();var E3="firebase",T3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El(E3,T3,"app");const b0={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};b0.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const k3=hR().length?_w():vw(b0),wt=c3(k3);console.log("[FB] projectId =",b0.projectId);const Sr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Er=t=>`https://drive.google.com/uc?export=view&id=${t}`,Gj=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),cn=[{key:"warrior",label:"Warrior",iconUrl:Er(Sr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Er(Sr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Er(Sr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Er(Sr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Er(Sr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Er(Sr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Er(Sr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Er(Sr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Er(Sr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Er(Sr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Er(Sr.paladin),fallback:""}],ey=Object.fromEntries(cn.map(t=>[t.key,t])),ty=new Map;function Lt(t,e){ty.set(Gj(t),e)}for(const t of cn)Lt(t.key,t.key),Lt(t.label,t.key);Lt("war","warrior");Lt("krieger","warrior");Lt("magier","mage");Lt("jaeger","scout");Lt("jger","scout");Lt("assa","assassin");Lt("meuchelmoerder","assassin");Lt("meuchelmrder","assassin");Lt("demonhunter","demon-hunter");Lt("dh","demon-hunter");Lt("daemonenjaeger","demon-hunter");Lt("dmonenjger","demon-hunter");Lt("zerker","berserker");Lt("battlemage","battle-mage");Lt("kampfmagier","battle-mage");Lt("bm","battle-mage");Lt("druide","druid");Lt("barde","bard");Lt("necro","necromancer");Lt("nekromant","necromancer");Lt("pala","paladin");function C3(t){const e=Gj(t);if(!e)return{};const n=ty.get(e);if(n){const r=ey[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of ty.entries())if(r.startsWith(e)||e.startsWith(r)){const l=ey[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const I3=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:cn,CLASS_BY_KEY:ey,iconForClassName:C3},Symbol.toStringTag,{value:"Module"}));function w0(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function ny(t){if(!t)return;const e=w0(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function qj(t,e=64){if(!t)return;const n=w0(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function Kj(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function Qj(t,e,n,r){const o=ny(t);return o?Kj(o,{w:e,h:n,fit:r}):void 0}function Nr(t,e=64){const n=qj(t,e);return n?Kj(n,{w:e,h:e,fit:"contain"}):void 0}const Yj=Object.assign(t=>ny(t),{id:w0,direct:ny,thumb:qj,proxy:Qj,thumbProxy:Nr}),zm=t=>Number.isFinite(t),ul=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},A3=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function R3(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=cn.find(l=>n(l.label)===r);if(o||(o=cn.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return Nr(o.iconUrl,e)}function P3(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function N3({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=Eo(),[r,o]=Ve.useState(""),[l,c]=Ve.useState(""),[d,h]=Ve.useState(!1),[p,g]=Ve.useState(null),[v,_]=Ve.useState([]),[T,I]=Ve.useState([]),[N,P]=Ve.useState([]),[O,V]=Ve.useState(-1),A=Ve.useRef(null);Ve.useEffect(()=>{const E=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(E)},[r]),Ve.useEffect(()=>{async function E(){g(null);const S=l;if(S.length<1){_([]),I([]),P([]),V(-1);return}h(!0);try{let C=function(ke){var lt,Ot,un,Kt,Mt,ss,rs,ht,Vs,is,vn,_n,ws,os,as,js,yt,tt,ls,ar,pt,$s,Bs,Dr,Lr,Mr,ri,Fr,Ss,xt,lr,Kn,Es,ii;const me=ke.data(),{root:Ce,id:Ae}=P3(ke),Ne=Ae||me.playerId||me.guildIdentifier||"";if(Ce==="players"||me.playerId&&!me.guildIdentifier){if(!Ne||ue.has(Ne))return;ue.add(Ne),se.push({kind:"player",id:Ne,name:(un=(Ot=me.name)!=null?Ot:(lt=me.values)==null?void 0:lt.Name)!=null?un:null,nameFold:(Kt=me.nameFold)!=null?Kt:null,server:(rs=(ss=me.server)!=null?ss:(Mt=me.values)==null?void 0:Mt.Server)!=null?rs:null,guildName:(is=(Vs=me.guildName)!=null?Vs:(ht=me.values)==null?void 0:ht.Guild)!=null?is:null,className:(ws=(_n=me.className)!=null?_n:(vn=me.values)==null?void 0:vn.Class)!=null?ws:null,level:ul((as=me.level)!=null?as:(os=me.values)==null?void 0:os.Level),ts:ul(me.timestamp)});return}if(Ce==="guilds"||me.guildIdentifier&&!me.playerId){if(!Ne||q.has(Ne))return;q.add(Ne),ne.push({kind:"guild",id:Ne,name:(tt=(yt=me.name)!=null?yt:(js=me.values)==null?void 0:js.Name)!=null?tt:null,nameFold:(ls=me.nameFold)!=null?ls:null,server:($s=(pt=me.server)!=null?pt:(ar=me.values)==null?void 0:ar.Server)!=null?$s:null,memberCount:ul((Mr=(Dr=me.memberCount)!=null?Dr:(Bs=me.values)==null?void 0:Bs["Guild Member Count"])!=null?Mr:(Lr=me.values)==null?void 0:Lr.GuildMemberCount),hofRank:ul((ii=(Kn=(xt=(Fr=me.hofRank)!=null?Fr:(ri=me.values)==null?void 0:ri["Hall of Fame Rank"])!=null?xt:(Ss=me.values)==null?void 0:Ss.HoF)!=null?Kn:(lr=me.values)==null?void 0:lr.Rank)!=null?ii:(Es=me.values)==null?void 0:Es["Guild Rank"]),ts:ul(me.timestamp)});return}};const F=A3(S),M=l3(wt,"latest"),U=await Ci(fo(M,gh("nameFold"),yh(F),xh(F+""),mo(e*6))),$=await Ci(fo(M,Oh("nameNgrams","array-contains",F),mo(e*6))),ue=new Set,q=new Set,se=[],ne=[];U.forEach(C),$.forEach(C);const Q=a0(wt,"servers"),oe=S.toLowerCase(),ie=S.toUpperCase(),G=[Ci(fo(Q,gh("displayName"),yh(S),xh(S+""),mo(e*4))),Ci(fo(Q,gh("code"),yh(ie),xh(ie+""),mo(e*4))),Ci(fo(Q,gh("host"),yh(oe),xh(oe+""),mo(e*4)))],ee=await Promise.allSettled(G),ye=new Set,je=[];for(const ke of ee)ke.status==="fulfilled"&&ke.value.forEach(me=>{var Ne,lt,Ot,un,Kt;const Ce=me.data(),Ae=me.id;!Ae||ye.has(Ae)||(ye.add(Ae),je.push({kind:"server",id:Ae,displayName:(Ne=Ce.displayName)!=null?Ne:null,code:(lt=Ce.code)!=null?lt:null,host:(Ot=Ce.host)!=null?Ot:null,region:(un=Ce.region)!=null?un:null,type:(Kt=Ce.type)!=null?Kt:null,numericId:ul(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});_(se.slice(0,e)),I(ne.slice(0,e)),P(je.slice(0,e)),V(se.length+ne.length+je.length?0:-1)}catch(C){g((C==null?void 0:C.message)||"Unbekannter Fehler bei der Suche."),_([]),I([]),P([]),V(-1)}finally{h(!1)}}return E(),()=>{}},[l,e]),Ve.useEffect(()=>{const E=S=>{A.current&&(A.current.contains(S.target)||(_([]),I([]),P([]),V(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const x=[...v,...T,...N],w=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),_([]),I([]),P([]),V(-1),o("")},R=E=>{if(x.length)if(E.key==="ArrowDown")E.preventDefault(),V(S=>(S+1)%x.length);else if(E.key==="ArrowUp")E.preventDefault(),V(S=>(S-1+x.length)%x.length);else if(E.key==="Enter"){E.preventDefault();const S=x[O>=0?O:0];S&&w(S)}else E.key==="Escape"&&(_([]),I([]),P([]),V(-1))};return s.jsxs("div",{ref:A,style:ze.wrap,children:[s.jsx("input",{style:ze.input,placeholder:t,value:r,onChange:E=>o(E.target.value),onKeyDown:R,"aria-label":"Spieler, Gilden und Server suchen"}),(d||p||v.length||T.length||N.length)&&s.jsxs("div",{style:ze.dropdown,children:[d&&s.jsx("div",{style:ze.hint,children:"Suche"}),p&&!d&&s.jsxs("div",{style:ze.err,children:[" ",p]}),!d&&!p&&(v.length>0||T.length>0||N.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Spieler"}),v.map((E,S)=>{var M,U,$;const C=S===O,F=R3(E.className,64);return s.jsxs("button",{onClick:()=>w(E),style:C?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>V(S),children:[s.jsx("div",{style:ze.iconBoxPlain,children:F?s.jsx("img",{src:F,alt:"",style:ze.iconImgShadow,onError:ue=>{const q=ue.currentTarget.parentElement;q&&(q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:ze.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:(M=E.name)!=null?M:"Unbekannt"}),zm(E.level)&&s.jsxs("span",{style:ze.badge,children:["Lvl ",E.level]})]}),s.jsxs("div",{style:ze.line2,children:[E.guildName?s.jsxs("span",{children:["",E.guildName,""]}):s.jsx("span",{style:ze.muted,children:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(U=E.className)!=null?U:"Klasse ?"}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:($=E.server)!=null?$:"Server ?"})]})]})]},`p-${E.id}-${S}`)})]}),T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Gilden"}),T.map((E,S)=>{var M,U;const C=v.length+S,F=C===O;return s.jsxs("button",{onClick:()=>w(E),style:F?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>V(C),children:[s.jsx("div",{style:ze.iconBox,children:""}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:(M=E.name)!=null?M:"Unbekannt"}),zm(E.hofRank)&&s.jsxs("span",{style:ze.badge,children:["HoF #",E.hofRank]})]}),s.jsxs("div",{style:ze.line2,children:[s.jsx("span",{children:(U=E.server)!=null?U:"Server ?"}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:zm(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${S}`)})]}),N.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Server"}),N.map((E,S)=>{var M,U,$,ue,q,se;const C=v.length+T.length+S,F=C===O;return s.jsxs("button",{onClick:()=>w(E),style:F?ze.itemActive:ze.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>V(C),children:[s.jsx("div",{style:ze.iconBoxPlain,children:s.jsx("div",{style:ze.serverGlyph,children:""})}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:($=(U=(M=E.displayName)!=null?M:E.code)!=null?U:E.host)!=null?$:E.id}),E.active!=null&&s.jsx("span",{style:ze.badge,children:E.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:ze.line2,children:[s.jsx("span",{children:(ue=E.code)!=null?ue:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(q=E.host)!=null?q:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(se=E.region)!=null?se:""}),E.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${S}`)})]})]}),!d&&!p&&v.length===0&&T.length===0&&N.length===0&&l.length>=1&&s.jsx("div",{style:ze.hint,children:"Keine Treffer"})]})]})}const ze={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function D3(t){var d,h,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,I3];for(const g of c){if(!g)continue;const v=(p=(h=(d=g[n])!=null?d:g[r])!=null?h:g[o])!=null?p:g[l];if(typeof v=="string")return v}}function L3({user:t}){var o;const{open:e,canUse:n}=dw(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:Un.topbar,children:[s.jsxs("div",{className:Un.topbarLeft,children:[s.jsx("button",{className:Un.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(XC,{className:Un.ico})}),s.jsx("button",{className:Un.btnIco,"aria-label":"Favoriten",children:s.jsx(kI,{className:Un.ico})})]}),s.jsx("div",{className:Un.searchWrap,children:s.jsx(N3,{placeholder:"Suchen (Spieler)",getClassIcon:D3,maxResults:10})}),s.jsxs("div",{className:Un.topbarRight,children:[s.jsxs("a",{className:`${Un.pill} ${Un.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(lI,{className:Un.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:Un.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(RI,{className:Un.ico}),s.jsx("span",{className:Un.label,children:"Scan hochladen"})]}),s.jsx("button",{className:Un.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:s.jsx("img",{className:Un.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const M3="_root_xd4sk_3",F3="_expanded_xd4sk_45",V3="_headRow_xd4sk_55",$3="_headTitle_xd4sk_63",B3="_headDot_xd4sk_65",O3="_headLabel_xd4sk_67",U3="_pinBtn_xd4sk_69",z3="_navScroll_xd4sk_81",H3="_pad_xd4sk_83",W3="_segCard_xd4sk_89",G3="_segTitle_xd4sk_121",q3="_navCol_xd4sk_139",K3="_navItemWrap_xd4sk_141",Q3="_navBtn_xd4sk_147",Y3="_navBtnActive_xd4sk_171",X3="_label_xd4sk_175",J3="_trailing_xd4sk_205",Z3="_isOpen_xd4sk_253",e5="_footer_xd4sk_279",t5="_login_xd4sk_281",n5="_legal_xd4sk_303",s5="_labelText_xd4sk_327",r5="_char_xd4sk_337",i5="_mainNavCard_xd4sk_405",ot={root:M3,expanded:F3,headRow:V3,headTitle:$3,headDot:B3,headLabel:O3,pinBtn:U3,navScroll:z3,pad:H3,segCard:W3,segTitle:G3,navCol:q3,navItemWrap:K3,navBtn:Q3,navBtnActive:Y3,label:X3,trailing:J3,isOpen:Z3,footer:e5,login:t5,legal:n5,labelText:s5,char:r5,mainNavCard:i5},o5="_panel_90cjk_1",a5="_open_90cjk_31",l5="_col_90cjk_43",Hm={panel:o5,open:a5,col:l5};function c5(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function u5({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,d]=Ve.useState({left:0,top:0});return Ve.useEffect(()=>{if(!e||!t)return;const h=()=>d(c5(t));h();const p=new ResizeObserver(h);return p.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{p.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(h=>h.label)),zC.createPortal(s.jsx("div",{className:`${Hm.panel} ${e?Hm.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:o,onMouseLeave:l,role:"menu",children:s.jsx("div",{className:Hm.col,children:n.map(h=>r(h))})}),document.body))}const d5=[{to:"/",label:"Home",icon:s.jsx(dI,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(mI,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(Ru,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(Sp,{className:"ico"})}],h5=[{to:"/discover",label:"Discover",icon:s.jsx(sI,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(II,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(ZC,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(yI,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(oI,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(jI,{className:"ico"})}],sy={"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},p5=220;function f5(t=p5){const[e,n]=Ve.useState(!1),r=Ve.useRef(null),o=Ve.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Ve.useCallback(()=>{o(),n(!0)},[o]),c=Ve.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return Ve.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function j0({text:t,isOpen:e,duration:n=1,step:r=45}){const o=Ve.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:ot.label,children:s.jsx("span",{className:ot.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>s.jsx("span",{className:ot.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function m5({it:t,collapsed:e,allowSubmenus:n}){var g,v;const r=((v=(g=sy[t.to])==null?void 0:g.length)!=null?v:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:d}=f5(),h=Ve.useRef(null),p=Ve.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return s.jsxs("div",{ref:h,className:`${ot.navItemWrap} ${o?ot.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[s.jsxs(vs,{to:t.to,end:!!t.end,className:({isActive:_})=>`${ot.navBtn} ${_?ot.navBtnActive:""}`,children:[t.icon,s.jsx(j0,{text:t.label,isOpen:!e}),r&&!e&&s.jsx("span",{className:ot.trailing,"aria-hidden":"true",children:s.jsx(tI,{className:"ico"})})]}),r&&s.jsx(u5,{anchorEl:h.current,open:o,items:sy[t.to],renderLink:_=>s.jsx(vs,{to:_.to,className:({isActive:T})=>`link ${T?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function E_({title:t,items:e,collapsed:n,allowSubmenus:r}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${ot.navTitle} ${ot.segTitle}`,children:t}),s.jsx("div",{className:ot.navCol,children:e.map(o=>sy[o.to]?s.jsx(m5,{it:o,collapsed:n,allowSubmenus:r},o.to):s.jsxs(vs,{to:o.to,end:!!o.end,className:({isActive:l})=>`${ot.navBtn} ${l?ot.navBtnActive:""}`,children:[o.icon,s.jsx(j0,{text:o.label,isOpen:!n})]},o.to))})]})}const g5=90,y5=180;function x5({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=Ve.useRef(null),c=Ve.useRef(null),[d,h]=Ve.useState(!1),p=Ve.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=Ve.useCallback(()=>{!o||n||(p(),h(!1),l.current=window.setTimeout(()=>e(!0),g5))},[o,n,p,e]),v=Ve.useCallback(()=>{!o||n||(p(),c.current=window.setTimeout(()=>{e(!1),h(!1)},y5))},[o,n,p,e]);Ve.useEffect(()=>()=>p(),[p]),Ve.useEffect(()=>{n&&h(!0)},[n]);const _=N=>{N.propertyName==="width"&&t&&!n&&h(!0)};Ve.useEffect(()=>{if(t&&!n){const N=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(N)}},[t,n]);const T=!t,I=n||t&&d;return s.jsxs("aside",{id:"sidebar-root",className:`${ot.root} ${t?ot.expanded:""}`,"data-collapsed":T?"true":"false",onMouseEnter:g,onMouseLeave:v,onTransitionEnd:_,"aria-label":"Navigation",children:[s.jsxs("div",{className:ot.headRow,children:[s.jsxs("div",{className:ot.headTitle,children:[s.jsx("span",{className:ot.headDot})," ",s.jsx("span",{className:ot.headLabel,children:"Navigation"})]}),s.jsx("button",{className:ot.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(bI,{className:"ico"}):s.jsx(vI,{className:"ico"})})]}),s.jsx("div",{className:ot.navScroll,children:s.jsxs("div",{className:ot.pad,children:[s.jsx("div",{className:`${ot.segCard} ${ot.mainNavCard}`,children:s.jsx(E_,{items:d5,collapsed:T,allowSubmenus:I})}),s.jsx("div",{className:ot.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${ot.segCard} ${ot.mainNavCard}`,children:s.jsx(E_,{items:h5,collapsed:T,allowSubmenus:I})})]})}),s.jsxs("div",{className:`${ot.footer} ${ot.segCard} ${ot.mainNavCard}`,children:[s.jsxs("button",{className:ot.login,type:"button",children:[s.jsx(Ru,{className:"ico"}),s.jsx(j0,{text:"Logout",isOpen:!T})]}),s.jsx("div",{className:ot.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Wm="/test/assets/logo-sfdatahub-CUdhlsEb.png";function v5({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:Wm;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(vs,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:d=>{const h=d.currentTarget;h.src!==Wm&&(h.src=Wm)}})}),n]})}function _5(){const[t,e]=L.useState(!1),[n,r]=L.useState(!1),o=n||t,l=L.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return s.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[s.jsx(v5,{src:"/logo.png"}),s.jsx(L3,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(x5,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(Z2,{})})})})]})}const Xj=L.createContext({});function S0(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const E0=L.createContext(null),T0=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function b5(t=!0){const e=L.useContext(E0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=L.useId();L.useEffect(()=>{t&&o(l)},[t]);const c=L.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const k0=typeof window!="undefined",Jj=k0?L.useLayoutEffect:L.useEffect,Ds=t=>t;let Zj=Ds;function C0(t){let e;return()=>(e===void 0&&(e=t()),e)}const _a=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Zr=t=>t*1e3,ei=t=>t/1e3,w5={useManualTiming:!1};function j5(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,v=!1)=>{const T=v&&r?e:n;return g&&l.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,h.process(p))}};return h}const vh=["read","resolveKeyframes","update","preRender","render","postRender"],S5=40;function eS(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=vh.reduce((O,V)=>(O[V]=j5(l),O),{}),{read:d,resolveKeyframes:h,update:p,preRender:g,render:v,postRender:_}=c,T=()=>{const O=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(O-o.timestamp,S5),1),o.timestamp=O,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),g.process(o),v.process(o),_.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(T))},I=()=>{n=!0,r=!0,o.isProcessing||t(T)};return{schedule:vh.reduce((O,V)=>{const A=c[V];return O[V]=(x,w=!1,R=!1)=>(n||I(),A.schedule(x,w,R)),O},{}),cancel:O=>{for(let V=0;V<vh.length;V++)c[vh[V]].cancel(O)},state:o,steps:c}}const{schedule:St,cancel:Fi,state:In,steps:Gm}=eS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ds,!0),tS=L.createContext({strict:!1}),T_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const t in T_)Fl[t]={isEnabled:e=>T_[t].some(n=>!!e[n])};function E5(t){for(const e in t)Fl[e]={...Fl[e],...t[e]}}const T5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ap(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||T5.has(t)}let nS=t=>!ap(t);function k5(t){t&&(nS=e=>e.startsWith("on")?!ap(e):t(e))}try{k5(require("@emotion/is-prop-valid").default)}catch(t){}function C5(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(nS(o)||n===!0&&ap(o)||!e&&!ap(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function I5(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const zp=L.createContext({});function ju(t){return typeof t=="string"||Array.isArray(t)}function Hp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const I0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A0=["initial",...I0];function Wp(t){return Hp(t.animate)||A0.some(e=>ju(t[e]))}function sS(t){return!!(Wp(t)||t.variants)}function A5(t,e){if(Wp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ju(n)?n:void 0,animate:ju(r)?r:void 0}}return t.inherit!==!1?e:{}}function R5(t){const{initial:e,animate:n}=A5(t,L.useContext(zp));return L.useMemo(()=>({initial:e,animate:n}),[k_(e),k_(n)])}function k_(t){return Array.isArray(t)?t.join(" "):t}const P5=Symbol.for("motionComponentSymbol");function _l(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N5(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):_l(n)&&(n.current=r))},[e])}const R0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D5="framerAppearId",rS="data-"+R0(D5),{schedule:P0}=eS(queueMicrotask,!1),iS=L.createContext({});function L5(t,e,n,r,o){var l,c;const{visualElement:d}=L.useContext(zp),h=L.useContext(tS),p=L.useContext(E0),g=L.useContext(T0).reducedMotion,v=L.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const _=v.current,T=L.useContext(iS);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&M5(v.current,n,o,T);const I=L.useRef(!1);L.useInsertionEffect(()=>{_&&I.current&&_.update(n,p)});const N=n[rS],P=L.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return Jj(()=>{_&&(I.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),P0.render(_.render),P.current&&_.animationState&&_.animationState.animateChanges())}),L.useEffect(()=>{_&&(!P.current&&_.animationState&&_.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,N)}),P.current=!1))}),_}function M5(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oS(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&_l(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function oS(t){if(t)return t.options.allowProjection!==!1?t.projection:oS(t.parent)}function F5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&E5(t);function d(p,g){let v;const _={...L.useContext(T0),...p,layoutId:V5(p)},{isStatic:T}=_,I=R5(p),N=r(p,T);if(!T&&k0){$5();const P=B5(_);v=P.MeasureLayout,I.visualElement=L5(o,N,_,e,P.ProjectionNode)}return s.jsxs(zp.Provider,{value:I,children:[v&&I.visualElement?s.jsx(v,{visualElement:I.visualElement,..._}):null,n(o,p,N5(N,I.visualElement,g),N,T,I.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=L.forwardRef(d);return h[P5]=o,h}function V5({layoutId:t}){const e=L.useContext(Xj).id;return e&&t!==void 0?e+"-"+t:t}function $5(t,e){L.useContext(tS).strict}function B5(t){const{drag:e,layout:n}=Fl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const O5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N0(t){return typeof t!="string"||t.includes("-")?!1:!!(O5.indexOf(t)>-1||/[A-Z]/u.test(t))}function C_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function D0(t,e,n,r){if(typeof e=="function"){const[o,l]=C_(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=C_(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const ry=t=>Array.isArray(t),U5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),z5=t=>ry(t)?t[t.length-1]||0:t,yn=t=>!!(t&&t.getVelocity);function zh(t){const e=yn(t)?t.get():t;return U5(e)?e.toValue():e}function H5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:W5(r,o,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const aS=t=>(e,n)=>{const r=L.useContext(zp),o=L.useContext(E0),l=()=>H5(t,e,r,o);return n?l():S0(l)};function W5(t,e,n,r){const o={},l=r(t,{});for(const _ in l)o[_]=zh(l[_]);let{initial:c,animate:d}=t;const h=Wp(t),p=sS(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!Hp(v)){const _=Array.isArray(v)?v:[v];for(let T=0;T<_.length;T++){const I=D0(t,_[T]);if(I){const{transitionEnd:N,transition:P,...O}=I;for(const V in O){let A=O[V];if(Array.isArray(A)){const x=g?A.length-1:0;A=A[x]}A!==null&&(o[V]=A)}for(const V in N)o[V]=N[V]}}}return o}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sa=new Set(ql),lS=t=>e=>typeof e=="string"&&e.startsWith(t),cS=lS("--"),G5=lS("var(--"),L0=t=>G5(t)?q5.test(t.split("/*")[0].trim()):!1,q5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vi=(t,e,n)=>n>e?e:n<t?t:n,Kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Su={...Kl,transform:t=>Vi(0,1,t)},_h={...Kl,default:1},Uu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),po=Uu("deg"),ti=Uu("%"),De=Uu("px"),K5=Uu("vh"),Q5=Uu("vw"),I_={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},Y5={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De},X5={rotate:po,rotateX:po,rotateY:po,rotateZ:po,scale:_h,scaleX:_h,scaleY:_h,scaleZ:_h,skew:po,skewX:po,skewY:po,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Su,originX:I_,originY:I_,originZ:De},A_={...Kl,transform:Math.round},M0={...Y5,...X5,zIndex:A_,size:De,fillOpacity:Su,strokeOpacity:Su,numOctaves:A_},J5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z5=ql.length;function e4(t,e,n){let r="",o=!0;for(let l=0;l<Z5;l++){const c=ql[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const p=uS(d,M0[c]);if(!h){o=!1;const g=J5[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function F0(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const p=e[h];if(Sa.has(h)){c=!0;continue}else if(cS(h)){o[h]=p;continue}else{const g=uS(p,M0[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=e4(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${p} ${g}`}}const t4={offset:"stroke-dashoffset",array:"stroke-dasharray"},n4={offset:"strokeDashoffset",array:"strokeDasharray"};function s4(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?t4:n4;t[l.offset]=De.transform(-r);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function R_(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function r4(t,e,n){const r=R_(e,t.x,t.width),o=R_(n,t.y,t.height);return`${r} ${o}`}function V0(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...p},g,v){if(F0(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T,dimensions:I}=t;_.transform&&(I&&(T.transform=_.transform),delete _.transform),I&&(o!==void 0||l!==void 0||T.transform)&&(T.transformOrigin=r4(I,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),c!==void 0&&s4(_,c,d,h,!1)}const $0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dS=()=>({...$0(),attrs:{}}),B0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const pS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fS(t,e,n,r){hS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(pS.has(o)?o:R0(o),e.attrs[o])}const lp={};function i4(t){Object.assign(lp,t)}function mS(t,{layout:e,layoutId:n}){return Sa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lp[t]||t==="opacity")}function O0(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(yn(o[c])||e.style&&yn(e.style[c])||mS(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function gS(t,e,n){const r=O0(t,e,n);for(const o in t)if(yn(t[o])||yn(e[o])){const l=ql.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function o4(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const P_=["x","y","width","height","cx","cy","r"],a4={useVisualState:aS({scrapeMotionValuesFromProps:gS,createRenderState:dS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in o)if(Sa.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<P_.length;d++){const h=P_[d];t[h]!==e[h]&&(c=!0)}c&&St.read(()=>{o4(n,r),St.render(()=>{V0(r,o,B0(n.tagName),t.transformTemplate),fS(n,r)})})}})},l4={useVisualState:aS({scrapeMotionValuesFromProps:O0,createRenderState:$0})};function yS(t,e,n){for(const r in e)!yn(e[r])&&!mS(r,n)&&(t[r]=e[r])}function c4({transformTemplate:t},e){return L.useMemo(()=>{const n=$0();return F0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function u4(t,e){const n=t.style||{},r={};return yS(r,n,t),Object.assign(r,c4(t,e)),r}function d4(t,e){const n={},r=u4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function h4(t,e,n,r){const o=L.useMemo(()=>{const l=dS();return V0(l,e,B0(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};yS(l,t.style,t),o.style={...l,...o.style}}return o}function p4(t=!1){return(n,r,o,{latestValues:l},c)=>{const h=(N0(n)?h4:d4)(r,l,c,n),p=C5(r,typeof n=="string",t),g=n!==L.Fragment?{...p,...h,ref:o}:{},{children:v}=r,_=L.useMemo(()=>yn(v)?v.get():v,[v]);return L.createElement(n,{...g,children:_})}}function f4(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...N0(r)?a4:l4,preloadedFeatures:t,useRender:p4(o),createVisualElement:e,Component:r};return F5(c)}}function xS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Gp(t,e,n){const r=t.getProps();return D0(r,e,n!==void 0?n:r.custom,t)}const m4=C0(()=>window.ScrollTimeline!==void 0);class g4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(m4()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vS extends g4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function U0(t,e){return t?t[e]||t.default||t:void 0}const cp=2e4;function z0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cp;)e+=n,r=t.next(e);return e>=cp?1/0:e}function y4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(z0(r),cp);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:ei(o)}}function qp(t){return typeof t=="function"}function N_(t,e){t.timeline=e,t.onfinish=null}const H0=t=>Array.isArray(t)&&typeof t[0]=="number",x4={linearEasing:void 0};function v4(t,e){const n=C0(t);return()=>{var r;return(r=x4[e])!==null&&r!==void 0?r:n()}}const up=v4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),_S=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(_a(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function bS(t){return!!(typeof t=="function"&&up()||!t||typeof t=="string"&&(t in iy||up())||H0(t)||Array.isArray(t)&&t.every(bS))}const Qc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qc([0,.65,.55,1]),circOut:Qc([.55,0,1,.45]),backIn:Qc([.31,.01,.66,-.59]),backOut:Qc([.33,1.53,.69,.99])};function wS(t,e){if(t)return typeof t=="function"&&up()?_S(t,e):H0(t)?Qc(t):Array.isArray(t)?t.map(n=>wS(n,e)||iy.easeOut):iy[t]}const kr={x:!1,y:!1};function jS(){return kr.x||kr.y}function SS(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function ES(t,e){const n=SS(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function D_(t){return e=>{e.pointerType==="touch"||jS()||t(e)}}function _4(t,e,n={}){const[r,o,l]=ES(t,n),c=D_(d=>{const{target:h}=d,p=e(d);if(typeof p!="function"||!h)return;const g=D_(v=>{p(v),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,o)});return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const TS=(t,e)=>e?t===e?!0:TS(t,e.parentElement):!1,W0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,b4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w4(t){return b4.has(t.tagName)||t.tabIndex!==-1}const Yc=new WeakSet;function L_(t){return e=>{e.key==="Enter"&&t(e)}}function qm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=L_(()=>{if(Yc.has(n))return;qm(n,"down");const o=L_(()=>{qm(n,"up")}),l=()=>qm(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function M_(t){return W0(t)&&!jS()}function S4(t,e,n={}){const[r,o,l]=ES(t,n),c=d=>{const h=d.currentTarget;if(!M_(d)||Yc.has(h))return;Yc.add(h);const p=e(d),g=(T,I)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),!(!M_(T)||!Yc.has(h))&&(Yc.delete(h),typeof p=="function"&&p(T,{success:I}))},v=T=>{g(T,n.useGlobalTarget||TS(h,T.target))},_=T=>{g(T,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",_,o)};return r.forEach(d=>{!w4(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",p=>j4(p,o),o)}),l}function E4(t){return t==="x"||t==="y"?kr[t]?null:(kr[t]=!0,()=>{kr[t]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}const kS=new Set(["width","height","top","left","right","bottom",...ql]);let Hh;function T4(){Hh=void 0}const ni={now:()=>(Hh===void 0&&ni.set(In.isProcessing||w5.useManualTiming?In.timestamp:performance.now()),Hh),set:t=>{Hh=t,queueMicrotask(T4)}};function G0(t,e){t.indexOf(e)===-1&&t.push(e)}function Kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class q0{constructor(){this.subscriptions=[]}add(e){return G0(this.subscriptions,e),()=>Kp(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function CS(t,e){return e?t*(1e3/e):0}const F_=30,k4=t=>!isNaN(parseFloat(t)),su={current:void 0};class C4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=ni.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=k4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new q0);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return su.current&&su.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>F_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,F_);return CS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(t,e){return new C4(t,e)}function I4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vl(n))}function A4(t,e){const n=Gp(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const d=z5(l[c]);I4(t,c,d)}}function R4(t){return!!(yn(t)&&t.add)}function oy(t,e){const n=t.getValue("willChange");if(R4(n))return n.add(e)}function IS(t){return t.props[rS]}const AS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P4=1e-7,N4=12;function D4(t,e,n,r,o){let l,c,d=0;do c=e+(n-e)/2,l=AS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>P4&&++d<N4);return c}function zu(t,e,n,r){if(t===e&&n===r)return Ds;const o=l=>D4(l,0,1,t,n);return l=>l===0||l===1?l:AS(o(l),e,r)}const RS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PS=t=>e=>1-t(1-e),NS=zu(.33,1.53,.69,.99),K0=PS(NS),DS=RS(K0),LS=t=>(t*=2)<1?.5*K0(t):.5*(2-Math.pow(2,-10*(t-1))),Q0=t=>1-Math.sin(Math.acos(t)),MS=PS(Q0),FS=RS(Q0),VS=t=>/^0[^.\s]+$/u.test(t);function L4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VS(t):!0}const ru=t=>Math.round(t*1e5)/1e5,Y0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M4(t){return t==null}const F4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,X0=(t,e)=>n=>!!(typeof n=="string"&&F4.test(n)&&n.startsWith(t)||e&&!M4(n)&&Object.prototype.hasOwnProperty.call(n,e)),$S=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,d]=r.match(Y0);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},V4=t=>Vi(0,255,t),Km={...Kl,transform:t=>Math.round(V4(t))},fa={test:X0("rgb","red"),parse:$S("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Km.transform(t)+", "+Km.transform(e)+", "+Km.transform(n)+", "+ru(Su.transform(r))+")"};function $4(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ay={test:X0("#"),parse:$4,transform:fa.transform},bl={test:X0("hsl","hue"),parse:$S("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ti.transform(ru(e))+", "+ti.transform(ru(n))+", "+ru(Su.transform(r))+")"},Hn={test:t=>fa.test(t)||ay.test(t)||bl.test(t),parse:t=>fa.test(t)?fa.parse(t):bl.test(t)?bl.parse(t):ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fa.transform(t):bl.transform(t)},B4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Y0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(B4))===null||n===void 0?void 0:n.length)||0)>0}const BS="number",OS="color",U4="var",z4="var(",V_="${}",H4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(H4,h=>(Hn.test(h)?(r.color.push(l),o.push(OS),n.push(Hn.parse(h))):h.startsWith(z4)?(r.var.push(l),o.push(U4),n.push(h)):(r.number.push(l),o.push(BS),n.push(parseFloat(h))),++l,V_)).split(V_);return{values:n,split:d,indexes:r,types:o}}function US(t){return Eu(t).values}function zS(t){const{split:e,types:n}=Eu(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===BS?l+=ru(o[c]):d===OS?l+=Hn.transform(o[c]):l+=o[c]}return l}}const W4=t=>typeof t=="number"?0:t;function G4(t){const e=US(t);return zS(t)(e.map(W4))}const jo={test:O4,parse:US,createTransformer:zS,getAnimatableNone:G4},q4=new Set(["brightness","contrast","saturate","opacity"]);function K4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Y0)||[];if(!r)return t;const o=n.replace(r,"");let l=q4.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const Q4=/\b([a-z-]*)\(.*?\)/gu,ly={...jo,getAnimatableNone:t=>{const e=t.match(Q4);return e?e.map(K4).join(" "):t}},Y4={...M0,color:Hn,backgroundColor:Hn,outlineColor:Hn,fill:Hn,stroke:Hn,borderColor:Hn,borderTopColor:Hn,borderRightColor:Hn,borderBottomColor:Hn,borderLeftColor:Hn,filter:ly,WebkitFilter:ly},J0=t=>Y4[t];function HS(t,e){let n=J0(t);return n!==ly&&(n=jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X4=new Set(["auto","none","0"]);function J4(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!X4.has(l)&&Eu(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=HS(n,o)}const $_=t=>t===Kl||t===De,B_=(t,e)=>parseFloat(t.split(", ")[e]),O_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return B_(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?B_(l[1],t):0}},Z4=new Set(["x","y","z"]),eD=ql.filter(t=>!Z4.has(t));function tD(t){const e=[];return eD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $l={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:O_(4,13),y:O_(5,14)};$l.translateX=$l.x;$l.translateY=$l.y;const ga=new Set;let cy=!1,uy=!1;function WS(){if(uy){const t=Array.from(ga).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=tD(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uy=!1,cy=!1,ga.forEach(t=>t.complete()),ga.clear()}function GS(){ga.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uy=!0)})}function nD(){GS(),WS()}class Z0{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ga.add(this),cy||(cy=!0,St.read(GS),St.resolveKeyframes(WS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ga.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ga.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rD(t){const e=sD.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function KS(t,e,n=1){const[r,o]=rD(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return qS(c)?parseFloat(c):c}return L0(o)?KS(o,e,n+1):o}const QS=t=>e=>e.test(t),iD={test:t=>t==="auto",parse:t=>t},YS=[Kl,De,ti,po,Q5,K5,iD],U_=t=>YS.find(QS(t));class XS extends Z0{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),L0(p))){const g=KS(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!kS.has(r)||e.length!==2)return;const[o,l]=e,c=U_(o),d=U_(l);if(c!==d)if($_(c)&&$_(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)L4(e[o])&&r.push(o);r.length&&J4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$l[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=$l[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const z_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jo.test(t)||t==="0")&&!t.startsWith("url("));function oD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aD(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=z_(o,e),d=z_(l,e);return!c||!d?!1:oD(t)||(n==="spring"||qp(n))&&r}const lD=t=>t!==null;function Qp(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(lD),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const cD=40;class JS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:p}=this.options;if(!p&&!aD(e,r,o,l))if(c)this.options.duration=0;else{h&&h(Qp(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const It=(t,e,n)=>t+(e-t)*n;function Qm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=Qm(h,d,t+1/3),l=Qm(h,d,t),c=Qm(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function dp(t,e){return n=>n>0?e:t}const Ym=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},dD=[ay,fa,bl],hD=t=>dD.find(e=>e.test(t));function H_(t){const e=hD(t);if(!e)return!1;let n=e.parse(t);return e===bl&&(n=uD(n)),n}const W_=(t,e)=>{const n=H_(t),r=H_(e);if(!n||!r)return dp(t,e);const o={...n};return l=>(o.red=Ym(n.red,r.red,l),o.green=Ym(n.green,r.green,l),o.blue=Ym(n.blue,r.blue,l),o.alpha=It(n.alpha,r.alpha,l),fa.transform(o))},pD=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(pD),dy=new Set(["none","hidden"]);function fD(t,e){return dy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mD(t,e){return n=>It(t,e,n)}function ex(t){return typeof t=="number"?mD:typeof t=="string"?L0(t)?dp:Hn.test(t)?W_:xD:Array.isArray(t)?ZS:typeof t=="object"?Hn.test(t)?W_:gD:dp}function ZS(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>ex(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function gD(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=ex(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function yD(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=h,o[c]++}return r}const xD=(t,e)=>{const n=jo.createTransformer(e),r=Eu(t),o=Eu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?dy.has(t)&&!o.values.length||dy.has(e)&&!r.values.length?fD(t,e):Hu(ZS(yD(r,o),o.values),n):dp(t,e)};function eE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):ex(t)(t,e)}const vD=5;function tE(t,e,n){const r=Math.max(e-vD,0);return CS(n-t(r),e-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xm=.001;function _D({duration:t=$t.duration,bounce:e=$t.bounce,velocity:n=$t.velocity,mass:r=$t.mass}){let o,l,c=1-e;c=Vi($t.minDamping,$t.maxDamping,c),t=Vi($t.minDuration,$t.maxDuration,ei(t)),c<1?(o=p=>{const g=p*c,v=g*t,_=g-n,T=hy(p,c),I=Math.exp(-v);return Xm-_/T*I},l=p=>{const v=p*c*t,_=v*n+n,T=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-v),N=hy(Math.pow(p,2),c);return(-o(p)+Xm>0?-1:1)*((_-T)*I)/N}):(o=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-Xm+g*v},l=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const d=5/t,h=wD(o,l,d);if(t=Zr(t),isNaN(h))return{stiffness:$t.stiffness,damping:$t.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const bD=12;function wD(t,e,n){let r=n;for(let o=1;o<bD;o++)r=r-t(r)/e(r);return r}function hy(t,e){return t*Math.sqrt(1-e*e)}const jD=["duration","bounce"],SD=["stiffness","damping","mass"];function G_(t,e){return e.some(n=>t[n]!==void 0)}function ED(t){let e={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...t};if(!G_(t,SD)&&G_(t,jD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Vi(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:$t.mass,stiffness:o,damping:l}}else{const n=_D(t);e={...e,...n,mass:$t.mass},e.isResolvedFromDuration=!0}return e}function tx(t=$t.visualDuration,e=$t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:T}=ED({...n,velocity:-ei(n.velocity||0)}),I=_||0,N=p/(2*Math.sqrt(h*g)),P=c-l,O=ei(Math.sqrt(h/g)),V=Math.abs(P)<5;r||(r=V?$t.restSpeed.granular:$t.restSpeed.default),o||(o=V?$t.restDelta.granular:$t.restDelta.default);let A;if(N<1){const w=hy(O,N);A=R=>{const E=Math.exp(-N*O*R);return c-E*((I+N*O*P)/w*Math.sin(w*R)+P*Math.cos(w*R))}}else if(N===1)A=w=>c-Math.exp(-O*w)*(P+(I+O*P)*w);else{const w=O*Math.sqrt(N*N-1);A=R=>{const E=Math.exp(-N*O*R),S=Math.min(w*R,300);return c-E*((I+N*O*P)*Math.sinh(S)+w*P*Math.cosh(S))/w}}const x={calculatedDuration:T&&v||null,next:w=>{const R=A(w);if(T)d.done=w>=v;else{let E=0;N<1&&(E=w===0?Zr(I):tE(A,w,R));const S=Math.abs(E)<=r,C=Math.abs(c-R)<=o;d.done=S&&C}return d.value=d.done?c:R,d},toString:()=>{const w=Math.min(z0(x),cp),R=_S(E=>x.next(w*E).value,w,30);return w+"ms "+R}};return x}function q_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},T=S=>d!==void 0&&S<d||h!==void 0&&S>h,I=S=>d===void 0?h:h===void 0||Math.abs(d-S)<Math.abs(h-S)?d:h;let N=n*e;const P=v+N,O=c===void 0?P:c(P);O!==P&&(N=O-v);const V=S=>-N*Math.exp(-S/r),A=S=>O+V(S),x=S=>{const C=V(S),F=A(S);_.done=Math.abs(C)<=p,_.value=_.done?O:F};let w,R;const E=S=>{T(_.value)&&(w=S,R=tx({keyframes:[_.value,I(_.value)],velocity:tE(A,S,_.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return E(0),{calculatedDuration:null,next:S=>{let C=!1;return!R&&w===void 0&&(C=!0,x(S),E(S)),w!==void 0&&S>=w?R.next(S-w):(!C&&x(S),_)}}}const TD=zu(.42,0,1,1),kD=zu(0,0,.58,1),nE=zu(.42,0,.58,1),sE=t=>Array.isArray(t)&&typeof t[0]!="number",CD={linear:Ds,easeIn:TD,easeInOut:nE,easeOut:kD,circIn:Q0,circInOut:FS,circOut:MS,backIn:K0,backInOut:DS,backOut:NS,anticipate:LS},K_=t=>{if(H0(t)){Zj(t.length===4);const[e,n,r,o]=t;return zu(e,n,r,o)}else if(typeof t=="string")return CD[t];return t};function ID(t,e,n){const r=[],o=n||eE,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Ds:e;d=Hu(h,d)}r.push(d)}return r}function rE(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(Zj(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=ID(e,r,o),h=d.length,p=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=_a(t[v],t[v+1],g);return d[v](_)};return n?g=>p(Vi(t[0],t[l-1],g)):p}function iE(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=_a(0,e,r);t.push(It(n,1,o))}}function oE(t){const e=[0];return iE(e,t.length-1),e}function AD(t,e){return t.map(n=>n*e)}function RD(t,e){return t.map(()=>e||nE).splice(0,t.length-1)}function hp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=sE(r)?r.map(K_):K_(r),l={done:!1,value:e[0]},c=AD(n&&n.length===e.length?n:oE(e),t),d=rE(c,e,{ease:Array.isArray(o)?o:RD(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const PD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>St.update(e,!0),stop:()=>Fi(e),now:()=>In.isProcessing?In.timestamp:ni.now()}},ND={decay:q_,inertia:q_,tween:hp,keyframes:hp,spring:tx},DD=t=>t/100;class nx extends JS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||Z0,d=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new c(l,d,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=qp(n)?n:ND[n]||hp;let h,p;d!==hp&&typeof e[0]!="number"&&(h=Hu(DD,eE(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=z0(g));const{calculatedDuration:v}=g,_=v+o,T=_*(r+1)-o;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:_,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:_,repeat:T,repeatType:I,repeatDelay:N,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-_*(this.speed>=0?1:-1),V=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let A=this.currentTime,x=l;if(T){const S=Math.min(this.currentTime,g)/v;let C=Math.floor(S),F=S%1;!F&&S>=1&&(F=1),F===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(I==="reverse"?(F=1-F,N&&(F-=N/v)):I==="mirror"&&(x=c)),A=Vi(0,1,F)*v}const w=V?{done:!1,value:h[0]}:x.next(A);d&&(w.value=d(w.value));let{done:R}=w;!V&&p!==null&&(R=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return E&&o!==void 0&&(w.value=Qp(h,this.options,o)),P&&P(w.value),E&&this.finish(),w}get duration(){const{resolved:e}=this;return e?ei(e.calculatedDuration):0}get time(){return ei(this.currentTime)}set time(e){e=Zr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=PD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const LD=new Set(["opacity","clipPath","filter","transform"]);function MD(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=wS(d,o);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const FD=C0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pp=10,VD=2e4;function $D(t){return qp(t.type)||t.type==="spring"||!bS(t.ease)}function BD(t,e){const n=new nx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<VD;)r=n.sample(l),o.push(r.value),l+=pp;return{times:void 0,keyframes:o,duration:l-pp,ease:"linear"}}const aE={anticipate:LS,backInOut:DS,circInOut:FS};function OD(t){return t in aE}class Q_ extends JS{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new XS(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&up()&&OD(l)&&(l=aE[l]),$D(this.options)){const{onComplete:v,onUpdate:_,motionValue:T,element:I,...N}=this.options,P=BD(e,N);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,o=P.times,l=P.ease,c="keyframes"}const g=MD(d.owner.current,h,e,{...this.options,duration:r,times:o,ease:l});return g.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(N_(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(Qp(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ei(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ei(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ds;const{animation:r}=n;N_(r,e)}return Ds}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:_,...T}=this.options,I=new nx({...T,keyframes:r,duration:o,type:l,ease:c,times:d,isGenerator:!0}),N=Zr(this.time);p.setWithVelocity(I.sample(N-pp).value,I.sample(N).value,pp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return FD()&&r&&LD.has(r)&&!h&&!p&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const UD={type:"spring",stiffness:500,damping:25,restSpeed:10},zD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HD={type:"keyframes",duration:.8},WD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GD=(t,{keyframes:e})=>e.length>2?HD:Sa.has(t)?t.startsWith("scale")?zD(e[1]):UD:WD;function qD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const sx=(t,e,n,r={},o,l)=>c=>{const d=U0(r,t)||{},h=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Zr(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};qD(d)||(g={...g,...GD(t,g)}),g.duration&&(g.duration=Zr(g.duration)),g.repeatDelay&&(g.repeatDelay=Zr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const _=Qp(g.keyframes,d);if(_!==void 0)return St.update(()=>{g.onUpdate(_),g.onComplete()}),new vS([])}return!l&&Q_.supports(g)?new Q_(g):new nx(g)};function KD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rx(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const v in h){const _=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),T=h[v];if(T===void 0||g&&KD(g,v))continue;const I={delay:n,...U0(c||{},v)};let N=!1;if(window.MotionHandoffAnimation){const O=IS(t);if(O){const V=window.MotionHandoffAnimation(O,v,St);V!==null&&(I.startTime=V,N=!0)}}oy(t,v),_.start(sx(v,_,T,t.shouldReduceMotion&&kS.has(v)?{type:!1}:I,t,N));const P=_.animation;P&&p.push(P)}return d&&Promise.all(p).then(()=>{St.update(()=>{d&&A4(t,d)})}),p}function py(t,e,n={}){var r;const o=Gp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(rx(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=l;return QD(t,e,g+p,v,_,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[c,d]:[d,c];return p().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function QD(t,e,n=0,r=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*r,h=o===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(YD).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(py(p,e,{...l,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function YD(t,e){return t.sortNodePosition(e)}function XD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>py(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=py(t,e,n);else{const o=typeof e=="function"?Gp(t,e,n.custom):e;r=Promise.all(rx(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const JD=A0.length;function lE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<JD;n++){const r=A0[n],o=t.props[r];(ju(o)||o===!1)&&(e[r]=o)}return e}const ZD=[...I0].reverse(),e6=I0.length;function t6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>XD(t,n,r)))}function n6(t){let e=t6(t),n=Y_(),r=!0;const o=h=>(p,g)=>{var v;const _=Gp(t,g,h==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(_){const{transition:T,transitionEnd:I,...N}=_;p={...p,...N,...I}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,g=lE(t.parent)||{},v=[],_=new Set;let T={},I=1/0;for(let P=0;P<e6;P++){const O=ZD[P],V=n[O],A=p[O]!==void 0?p[O]:g[O],x=ju(A),w=O===h?V.isActive:null;w===!1&&(I=P);let R=A===g[O]&&A!==p[O]&&x;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),V.protectedKeys={...T},!V.isActive&&w===null||!A&&!V.prevProp||Hp(A)||typeof A=="boolean")continue;const E=s6(V.prevProp,A);let S=E||O===h&&V.isActive&&!R&&x||P>I&&x,C=!1;const F=Array.isArray(A)?A:[A];let M=F.reduce(o(O),{});w===!1&&(M={});const{prevResolvedValues:U={}}=V,$={...U,...M},ue=ne=>{S=!0,_.has(ne)&&(C=!0,_.delete(ne)),V.needsAnimating[ne]=!0;const Q=t.getValue(ne);Q&&(Q.liveStyle=!1)};for(const ne in $){const Q=M[ne],oe=U[ne];if(T.hasOwnProperty(ne))continue;let ie=!1;ry(Q)&&ry(oe)?ie=!xS(Q,oe):ie=Q!==oe,ie?Q!=null?ue(ne):_.add(ne):Q!==void 0&&_.has(ne)?ue(ne):V.protectedKeys[ne]=!0}V.prevProp=A,V.prevResolvedValues=M,V.isActive&&(T={...T,...M}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(R&&E)||C)&&v.push(...F.map(ne=>({animation:ne,options:{type:O}})))}if(_.size){const P={};_.forEach(O=>{const V=t.getBaseTarget(O),A=t.getValue(O);A&&(A.liveStyle=!0),P[O]=V!=null?V:null}),v.push({animation:P})}let N=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(v):Promise.resolve()}function d(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var T;return(T=_.animationState)===null||T===void 0?void 0:T.setActive(h,p)}),n[h].isActive=p;const v=c(h);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Y_(),r=!0}}}function s6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xS(e,t):!1}function Zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y_(){return{animate:Zo(!0),whileInView:Zo(),whileHover:Zo(),whileTap:Zo(),whileDrag:Zo(),whileFocus:Zo(),exit:Zo()}}class ko{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r6 extends ko{constructor(e){super(e),e.animationState||(e.animationState=n6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let i6=0;class o6 extends ko{constructor(){super(...arguments),this.id=i6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const a6={animation:{Feature:r6},exit:{Feature:o6}};function Tu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const l6=t=>e=>W0(e)&&t(e,Wu(e));function iu(t,e,n,r){return Tu(t,e,l6(n),r)}const X_=(t,e)=>Math.abs(t-e);function c6(t,e){const n=X_(t.x,e.x),r=X_(t.y,e.y);return Math.sqrt(n**2+r**2)}class cE{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Zm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=c6(v.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:I}=v,{timestamp:N}=In;this.history.push({...I,timestamp:N});const{onStart:P,onMove:O}=this.handlers;_||(P&&P(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Jm(_,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:T,onSessionEnd:I,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Zm(v.type==="pointercancel"?this.lastMoveEventInfo:Jm(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,P),I&&I(v,P)},!W0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Wu(e),d=Jm(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=In;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Zm(d,this.history)),this.removeListeners=Hu(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fi(this.updatePoint)}}function Jm(t,e){return e?{point:e(t.point)}:t}function J_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zm({point:t},e){return{point:t,delta:J_(t,uE(e)),offset:J_(t,u6(e)),velocity:d6(e,.1)}}function u6(t){return t[0]}function uE(t){return t[t.length-1]}function d6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=uE(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Zr(e)));)n--;if(!r)return{x:0,y:0};const l=ei(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const dE=1e-4,h6=1-dE,p6=1+dE,hE=.01,f6=0-hE,m6=0+hE;function Ms(t){return t.max-t.min}function g6(t,e,n){return Math.abs(t-e)<=n}function Z_(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Ms(n)/Ms(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=h6&&t.scale<=p6||isNaN(t.scale))&&(t.scale=1),(t.translate>=f6&&t.translate<=m6||isNaN(t.translate))&&(t.translate=0)}function ou(t,e,n,r){Z_(t.x,e.x,n.x,r?r.originX:void 0),Z_(t.y,e.y,n.y,r?r.originY:void 0)}function eb(t,e,n){t.min=n.min+e.min,t.max=t.min+Ms(e)}function y6(t,e,n){eb(t.x,e.x,n.x),eb(t.y,e.y,n.y)}function tb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ms(e)}function au(t,e,n){tb(t.x,e.x,n.x),tb(t.y,e.y,n.y)}function x6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function nb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function v6(t,{top:e,left:n,bottom:r,right:o}){return{x:nb(t.x,n,o),y:nb(t.y,e,r)}}function sb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _6(t,e){return{x:sb(t.x,e.x),y:sb(t.y,e.y)}}function b6(t,e){let n=.5;const r=Ms(t),o=Ms(e);return o>r?n=_a(e.min,e.max-r,t.min):r>o&&(n=_a(t.min,t.max-o,e.min)),Vi(0,1,n)}function w6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fy=.35;function j6(t=fy){return t===!1?t=0:t===!0&&(t=fy),{x:rb(t,"left","right"),y:rb(t,"top","bottom")}}function rb(t,e,n){return{min:ib(t,e),max:ib(t,n)}}function ib(t,e){return typeof t=="number"?t:t[e]||0}const ob=()=>({translate:0,scale:1,origin:0,originPoint:0}),wl=()=>({x:ob(),y:ob()}),ab=()=>({min:0,max:0}),Vt=()=>({x:ab(),y:ab()});function nr(t){return[t("x"),t("y")]}function pE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function S6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function E6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function eg(t){return t===void 0||t===1}function my({scale:t,scaleX:e,scaleY:n}){return!eg(t)||!eg(e)||!eg(n)}function ua(t){return my(t)||fE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fE(t){return lb(t.x)||lb(t.y)}function lb(t){return t&&t!=="0%"}function fp(t,e,n){const r=t-n,o=e*r;return n+o}function cb(t,e,n,r,o){return o!==void 0&&(t=fp(t,o,r)),fp(t,n,r)+e}function gy(t,e=0,n=1,r,o){t.min=cb(t.min,e,n,r,o),t.max=cb(t.max,e,n,r,o)}function mE(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const ub=.999999999999,db=1.0000000000001;function T6(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Sl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,mE(t,c)),r&&ua(l.latestValues)&&Sl(t,l.latestValues))}e.x<db&&e.x>ub&&(e.x=1),e.y<db&&e.y>ub&&(e.y=1)}function jl(t,e){t.min=t.min+e,t.max=t.max+e}function hb(t,e,n,r,o=.5){const l=It(t.min,t.max,o);gy(t,e,n,l,r)}function Sl(t,e){hb(t.x,e.x,e.scaleX,e.scale,e.originX),hb(t.y,e.y,e.scaleY,e.scale,e.originY)}function gE(t,e){return pE(E6(t.getBoundingClientRect(),e))}function k6(t,e,n){const r=gE(t,n),{scroll:o}=e;return o&&(jl(r.x,o.offset.x),jl(r.y,o.offset.y)),r}const yE=({current:t})=>t?t.ownerDocument.defaultView:null,C6=new WeakMap;class I6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(g).point)},l=(g,v)=>{const{drag:_,dragPropagation:T,onDragStart:I}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E4(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(P=>{let O=this.getAxisMotionValue(P).get()||0;if(ti.test(O)){const{projection:V}=this.visualElement;if(V&&V.layout){const A=V.layout.layoutBox[P];A&&(O=Ms(A)*(parseFloat(O)/100))}}this.originPoint[P]=O}),I&&St.postRender(()=>I(g,v)),oy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:I,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:P}=v;if(T&&this.currentDirection===null){this.currentDirection=A6(P),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",v.point,P),this.updateAxis("y",v.point,P),this.visualElement.render(),N&&N(g,v)},d=(g,v)=>this.stop(g,v),h=()=>nr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new cE(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:yE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&St.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!bh(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=x6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&_l(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=v6(o.layoutBox,n):this.constraints=!1,this.elastic=j6(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&nr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=w6(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_l(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=k6(r,o.root,this.visualElement.getTransformPagePoint());let c=_6(o.layout.layoutBox,l);if(n){const d=n(S6(c));this.hasMutatedConstraints=!!d,d&&(c=pE(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=nr(g=>{if(!bh(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const _=o?200:1e6,T=o?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,I)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return oy(this.visualElement,e),r.start(sx(e,r,0,n,this.visualElement,!1))}stopAnimation(){nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nr(n=>{const{drag:r}=this.getProps();if(!bh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-It(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_l(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=b6({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nr(c=>{if(!bh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(It(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;C6.set(this.visualElement,this);const e=this.visualElement.current,n=iu(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();_l(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),St.read(r);const c=Tu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(nr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=fy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function bh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function A6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class R6 extends ko{constructor(e){super(e),this.removeGroupControls=Ds,this.removeListeners=Ds,this.controls=new I6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const pb=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class P6 extends ko{constructor(){super(...arguments),this.removePointerDownListener=Ds}onPointerDown(e){this.session=new cE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:pb(e),onStart:pb(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&St.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=fb(t,e.target.x),r=fb(t,e.target.y);return`${n}% ${r}%`}},N6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=jo.parse(t);if(o.length>5)return r;const l=jo.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const p=It(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class D6 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;i4(L6),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||St.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),P0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xE(t){const[e,n]=b5(),r=L.useContext(Xj);return s.jsx(D6,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(iS),isPresent:e,safeToRemove:n})}const L6={borderRadius:{...Vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vc,borderTopRightRadius:Vc,borderBottomLeftRadius:Vc,borderBottomRightRadius:Vc,boxShadow:N6};function vE(t,e,n){const r=yn(t)?t:Vl(t);return r.start(sx("",r,e,n)),r.animation}function _E(t){return t instanceof SVGElement&&t.tagName!=="svg"}const M6=(t,e)=>t.depth-e.depth;class F6{constructor(){this.children=[],this.isDirty=!1}add(e){G0(this.children,e),this.isDirty=!0}remove(e){Kp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M6),this.isDirty=!1,this.children.forEach(e)}}function V6(t,e){const n=ni.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(Fi(r),t(l-e))};return St.read(r,!0),()=>Fi(r)}const bE=["TopLeft","TopRight","BottomLeft","BottomRight"],$6=bE.length,mb=t=>typeof t=="string"?parseFloat(t):t,gb=t=>typeof t=="number"||De.test(t);function B6(t,e,n,r,o,l){o?(t.opacity=It(0,n.opacity!==void 0?n.opacity:1,O6(r)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,U6(r))):l&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<$6;c++){const d=`border${bE[c]}Radius`;let h=yb(e,d),p=yb(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||gb(h)===gb(p)?(t[d]=Math.max(It(mb(h),mb(p),r),0),(ti.test(p)||ti.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function yb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const O6=wE(0,.5,MS),U6=wE(.5,.95,Ds);function wE(t,e,n){return r=>r<t?0:r>e?1:n(_a(t,e,r))}function xb(t,e){t.min=e.min,t.max=e.max}function Ys(t,e){xb(t.x,e.x),xb(t.y,e.y)}function vb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _b(t,e,n,r,o){return t-=e,t=fp(t,1/n,r),o!==void 0&&(t=fp(t,1/o,r)),t}function z6(t,e=0,n=1,r=.5,o,l=t,c=t){if(ti.test(e)&&(e=parseFloat(e),e=It(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=It(l.min,l.max,r);t===l&&(d-=e),t.min=_b(t.min,e,n,d,o),t.max=_b(t.max,e,n,d,o)}function bb(t,e,[n,r,o],l,c){z6(t,e[n],e[r],e[o],e.scale,l,c)}const H6=["x","scaleX","originX"],W6=["y","scaleY","originY"];function wb(t,e,n,r){bb(t.x,e,H6,n?n.x:void 0,r?r.x:void 0),bb(t.y,e,W6,n?n.y:void 0,r?r.y:void 0)}function jb(t){return t.translate===0&&t.scale===1}function jE(t){return jb(t.x)&&jb(t.y)}function Sb(t,e){return t.min===e.min&&t.max===e.max}function G6(t,e){return Sb(t.x,e.x)&&Sb(t.y,e.y)}function Eb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SE(t,e){return Eb(t.x,e.x)&&Eb(t.y,e.y)}function Tb(t){return Ms(t.x)/Ms(t.y)}function kb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class q6{constructor(){this.members=[]}add(e){G0(this.members,e),e.scheduleRender()}remove(e){if(Kp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K6(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:T,skewY:I}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),I&&(r+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xc=typeof window!="undefined"&&window.MotionDebug!==void 0,tg=["","X","Y","Z"],Q6={visibility:"hidden"},Cb=1e3;let Y6=0;function ng(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function EE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&EE(r)}function TE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=Y6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xc&&(da.totalNodes=da.resolvedTargetDeltas=da.recalculatedProjection=0),this.nodes.forEach(Z6),this.nodes.forEach(rL),this.nodes.forEach(iL),this.nodes.forEach(eL),Xc&&window.MotionDebug.record(da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new F6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new q0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_E(c),this.instance=c;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||h)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=V6(_,250),Wh.hasAnimatedSinceResize&&(Wh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ab))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||uL,{onLayoutAnimationStart:P,onLayoutAnimationComplete:O}=g.getProps(),V=!this.targetLayout||!SE(this.targetLayout,I)||T,A=!_&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,A);const x={...U0(N,"layout"),onPlay:P,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else _||Ab(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ib);return}this.isUpdating||this.nodes.forEach(nL),this.isUpdating=!1,this.nodes.forEach(sL),this.nodes.forEach(X6),this.nodes.forEach(J6),this.clearAllSnapshots();const d=ni.now();In.delta=Vi(0,1e3/60,d-In.timestamp),In.timestamp=d,In.isProcessing=!0,Gm.update.process(In),Gm.preRender.process(In),Gm.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tL),this.sharedNodes.forEach(aL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!jE(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(d||ua(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),dL(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Vt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(hL))){const{scroll:g}=this.root;g&&(jl(h.x,g.offset.x),jl(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=Vt();if(Ys(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Ys(h,c),jl(h.x,v.offset.x),jl(h.y,v.offset.y))}return h}applyTransform(c,d=!1){const h=Vt();Ys(h,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Sl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ua(g.latestValues)&&Sl(h,g.latestValues)}return ua(this.latestValues)&&Sl(h,this.latestValues),h}removeTransform(c){const d=Vt();Ys(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ua(p.latestValues))continue;my(p.latestValues)&&p.updateSnapshot();const g=Vt(),v=p.measurePageBox();Ys(g,v),wb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ua(this.latestValues)&&wb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),au(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ys(this.target,this.layout.layoutBox),mE(this.target,this.targetDelta)):Ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),au(this.relativeTargetOrigin,this.target,T.target),Ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xc&&da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||my(this.parent.latestValues)||fE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===In.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ys(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;T6(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Vt());const{target:I}=d;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vb(this.prevProjectionDelta.x,this.projectionDelta.x),vb(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),Xc&&da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wl(),this.projectionDelta=wl(),this.projectionDeltaWithTransform=wl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Vt(),T=h?h.source:void 0,I=this.layout?this.layout.source:void 0,N=T!==I,P=this.getStack(),O=!P||P.members.length<=1,V=!!(N&&!O&&this.options.crossfade===!0&&!this.path.some(cL));this.animationProgress=0;let A;this.mixTargetDelta=x=>{const w=x/1e3;Rb(v.x,c.x,w),Rb(v.y,c.y,w),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(au(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lL(this.relativeTarget,this.relativeTargetOrigin,_,w),A&&G6(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Vt()),Ys(A,this.relativeTarget)),N&&(this.animationValues=g,B6(g,p,this.latestValues,w,V,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Wh.hasAnimatedSinceResize=!0,this.currentAnimation=vE(0,Cb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:g}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&kE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Vt();const v=Ms(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const _=Ms(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+_}Ys(d,h),Sl(d,g),ou(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new q6),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&ng("z",c,p,this.animationValues);for(let g=0;g<tg.length;g++)ng(`rotate${tg[g]}`,c,p,this.animationValues),ng(`skew${tg[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Q6;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=zh(c==null?void 0:c.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=zh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=K6(this.projectionDeltaWithTransform,this.treeScale,_),g&&(p.transform=g(_,p.transform));const{x:T,y:I}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,v.animationValues?p.opacity=v===this?(h=(d=_.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in lp){if(_[N]===void 0)continue;const{correct:P,applyTo:O}=lp[N],V=p.transform==="none"?_[N]:P(_[N],v);if(O){const A=O.length;for(let x=0;x<A;x++)p[O[x]]=V}else p[N]=V}return this.options.layoutId&&(p.pointerEvents=v===this?zh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Ib),this.root.sharedNodes.clear()}}}function X6(t){t.updateLayout()}function J6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?nr(v=>{const _=c?n.measuredBox[v]:n.layoutBox[v],T=Ms(_);_.min=r[v].min,_.max=_.min+T}):kE(l,n.layoutBox,r)&&nr(v=>{const _=c?n.measuredBox[v]:n.layoutBox[v],T=Ms(r[v]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const d=wl();ou(d,r,n.layoutBox);const h=wl();c?ou(h,t.applyTransform(o,!0),n.measuredBox):ou(h,r,n.layoutBox);const p=!jE(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:T}=v;if(_&&T){const I=Vt();au(I,n.layoutBox,_.layoutBox);const N=Vt();au(N,r,T.layoutBox),SE(I,N)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=I,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Z6(t){Xc&&da.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tL(t){t.clearSnapshot()}function Ib(t){t.clearMeasurements()}function nL(t){t.isLayoutDirty=!1}function sL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ab(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rL(t){t.resolveTargetDelta()}function iL(t){t.calcProjection()}function oL(t){t.resetSkewAndRotation()}function aL(t){t.removeLeadSnapshot()}function Rb(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Pb(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function lL(t,e,n,r){Pb(t.x,e.x,n.x,r),Pb(t.y,e.y,n.y,r)}function cL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uL={duration:.45,ease:[.4,0,.1,1]},Nb=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Db=Nb("applewebkit/")&&!Nb("chrome/")?Math.round:Ds;function Lb(t){t.min=Db(t.min),t.max=Db(t.max)}function dL(t){Lb(t.x),Lb(t.y)}function kE(t,e,n){return t==="position"||t==="preserve-aspect"&&!g6(Tb(e),Tb(n),.2)}function hL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const pL=TE({attachResizeListener:(t,e)=>Tu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sg={current:void 0},CE=TE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sg.current){const t=new pL({});t.mount(window),t.setOptions({layoutScroll:!0}),sg.current=t}return sg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fL={pan:{Feature:P6},drag:{Feature:R6,ProjectionNode:CE,MeasureLayout:xE}};function Mb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&St.postRender(()=>l(e,Wu(e)))}class mL extends ko{mount(){const{current:e}=this.node;e&&(this.unmount=_4(e,n=>(Mb(this.node,n,"Start"),r=>Mb(this.node,r,"End"))))}unmount(){}}class gL extends ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Tu(this.node.current,"focus",()=>this.onFocus()),Tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&St.postRender(()=>l(e,Wu(e)))}class yL extends ko{mount(){const{current:e}=this.node;e&&(this.unmount=S4(e,n=>(Fb(this.node,n,"Start"),(r,{success:o})=>Fb(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yy=new WeakMap,rg=new WeakMap,xL=t=>{const e=yy.get(t.target);e&&e(t)},vL=t=>{t.forEach(xL)};function _L({root:t,...e}){const n=t||document;rg.has(n)||rg.set(n,{});const r=rg.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(vL,{root:t,...e})),r[o]}function bL(t,e,n){const r=_L(e);return yy.set(t,n),r.observe(t),()=>{yy.delete(t),r.unobserve(t)}}const wL={some:0,all:1};class jL extends ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:wL[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(h)};return bL(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SL(e,n))&&this.startObserver()}unmount(){}}function SL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const EL={inView:{Feature:jL},tap:{Feature:yL},focus:{Feature:gL},hover:{Feature:mL}},TL={layout:{ProjectionNode:CE,MeasureLayout:xE}},mp={current:null},ix={current:!1};function IE(){if(ix.current=!0,!!k0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mp.current=t.matches;t.addListener(e),e()}else mp.current=!1}const kL=[...YS,Hn,jo],CL=t=>kL.find(QS(t)),Bl=new WeakMap;function IL(t,e,n){for(const r in e){const o=e[r],l=n[r];if(yn(o))t.addValue(r,o);else if(yn(l))t.addValue(r,Vl(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Vl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AE{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=ni.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,St.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Wp(n),this.isVariantNode=sS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const I=_[T];h[T]!==void 0&&yn(I)&&I.set(h[T],!1)}}mount(e){this.current=e,Bl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ix.current||IE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bl.delete(this.current),this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sa.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fl){const n=Fl[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Vb.length;r++){const o=Vb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=IL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(qS(o)||VS(o))?o=parseFloat(o):!CL(o)&&jo.test(n)&&(o=HS(e,n)),this.setBaseTarget(e,yn(o)?o.get():o)),yn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=D0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!yn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new q0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class RE extends AE{constructor(){super(...arguments),this.KeyframeResolver=XS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AL(t){return window.getComputedStyle(t)}class PE extends RE{constructor(){super(...arguments),this.type="html",this.renderInstance=hS}readValueFromInstance(e,n){if(Sa.has(n)){const r=J0(n);return r&&r.default||0}else{const r=AL(e),o=(cS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gE(e,n)}build(e,n,r){F0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return O0(e,n,r)}}class NE extends RE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sa.has(n)){const r=J0(n);return r&&r.default||0}return n=pS.has(n)?n:R0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gS(e,n,r)}build(e,n,r){V0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){fS(e,n,r,o)}mount(e){this.isSVGTag=B0(e.tagName),super.mount(e)}}const RL=(t,e)=>N0(t)?new NE(e):new PE(e,{allowProjection:t!==L.Fragment}),PL=f4({...a6,...EL,...fL,...TL},RL),DE=I5(PL);function Jc(t){const e=S0(()=>Vl(t)),{isStatic:n}=L.useContext(T0);if(n){const[,r]=L.useState(t);L.useEffect(()=>e.on("change",r),[])}return e}function LE(t,e){const n=Jc(e()),r=()=>n.set(e());return r(),Jj(()=>{const o=()=>St.preRender(r,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),Fi(r)}}),n}const NL=t=>t&&typeof t=="object"&&t.mix,DL=t=>NL(t)?t.mix:void 0;function LL(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],d=rE(o,l,{mixer:DL(l[0]),...c});return e?d(r):d}function ML(t){su.current=[],t();const e=LE(su.current,t);return su.current=void 0,e}function wh(t,e,n,r){if(typeof t=="function")return ML(t);const o=typeof e=="function"?e:LL(e,n,r);return Array.isArray(t)?$b(t,o):$b([t],([l])=>o(l))}function $b(t,e){const n=S0(()=>[]);return LE(t,()=>{n.length=0;const r=t.length;for(let o=0;o<r;o++)n[o]=t[o].get();return e(n)})}function ME(){!ix.current&&IE();const[t]=L.useState(mp.current);return t}const FL=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function FE(t,e){return sE(t)?t[FL(0,t.length,e)]:t}function ox(t){return typeof t=="object"&&!Array.isArray(t)}function VE(t,e,n,r){return typeof t=="string"&&ox(e)?SS(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function VL(t,e,n){return t*(e+1)}function Bb(t,e,n,r){var o;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(o=r.get(e))!==null&&o!==void 0?o:t}function $L(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(Kp(t,o),r--)}}function BL(t,e,n,r,o,l){$L(t,o,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:It(o,l,r[c]),easing:FE(n,c)})}function OL(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function UL(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const zL="easeInOut";function HL(t,{defaultTransition:e={},...n}={},r,o){const l=e.duration||.3,c=new Map,d=new Map,h={},p=new Map;let g=0,v=0,_=0;for(let T=0;T<t.length;T++){const I=t[T];if(typeof I=="string"){p.set(I,v);continue}else if(!Array.isArray(I)){p.set(I.name,Bb(v,I.at,g,p));continue}let[N,P,O={}]=I;O.at!==void 0&&(v=Bb(v,O.at,g,p));let V=0;const A=(x,w,R,E=0,S=0)=>{const C=WL(x),{delay:F=0,times:M=oE(C),type:U="keyframes",repeat:$,repeatType:ue,repeatDelay:q=0,...se}=w;let{ease:ne=e.ease||"easeOut",duration:Q}=w;const oe=typeof F=="function"?F(E,S):F,ie=C.length,G=qp(U)?U:o==null?void 0:o[U];if(ie<=2&&G){let ke=100;if(ie===2&&KL(C)){const Ae=C[1]-C[0];ke=Math.abs(Ae)}const me={...se};Q!==void 0&&(me.duration=Zr(Q));const Ce=y4(me,ke,G);ne=Ce.ease,Q=Ce.duration}Q!=null||(Q=l);const ee=v+oe;M.length===1&&M[0]===0&&(M[1]=1);const ye=M.length-C.length;if(ye>0&&iE(M,ye),C.length===1&&C.unshift(null),$){Q=VL(Q,$);const ke=[...C],me=[...M];ne=Array.isArray(ne)?[...ne]:[ne];const Ce=[...ne];for(let Ae=0;Ae<$;Ae++){C.push(...ke);for(let Ne=0;Ne<ke.length;Ne++)M.push(me[Ne]+(Ae+1)),ne.push(Ne===0?"linear":FE(Ce,Ne-1))}OL(M,$)}const je=ee+Q;BL(R,C,ne,M,ee,je),V=Math.max(oe+Q,V),_=Math.max(je,_)};if(yn(N)){const x=Ob(N,d);A(P,O,Ub("default",x))}else{const x=VE(N,P,r,h),w=x.length;for(let R=0;R<w;R++){P=P,O=O;const E=x[R],S=Ob(E,d);for(const C in P)A(P[C],GL(O,C),Ub(C,S),R,w)}}g=v,v+=V}return d.forEach((T,I)=>{for(const N in T){const P=T[N];P.sort(UL);const O=[],V=[],A=[];for(let w=0;w<P.length;w++){const{at:R,value:E,easing:S}=P[w];O.push(E),V.push(_a(0,_,R)),A.push(S||"easeOut")}V[0]!==0&&(V.unshift(0),O.unshift(O[0]),A.unshift(zL)),V[V.length-1]!==1&&(V.push(1),O.push(null)),c.has(I)||c.set(I,{keyframes:{},transition:{}});const x=c.get(I);x.keyframes[N]=O,x.transition[N]={...e,duration:_,ease:A,times:V,...n}}}),c}function Ob(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Ub(t,e){return e[t]||(e[t]=[]),e[t]}function WL(t){return Array.isArray(t)?t:[t]}function GL(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const qL=t=>typeof t=="number",KL=t=>t.every(qL);function QL(t,e){return t in e}class YL extends AE{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(QL(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Vt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function XL(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=_E(t)?new NE(e):new PE(e);n.mount(t),Bl.set(t,n)}function JL(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new YL(e);n.mount(t),Bl.set(t,n)}function ZL(t,e){return yn(t)||typeof t=="number"||typeof t=="string"&&!ox(e)}function $E(t,e,n,r){const o=[];if(ZL(t,e))o.push(vE(t,ox(e)&&e.default||e,n&&(n.default||n)));else{const l=VE(t,e,r),c=l.length;for(let d=0;d<c;d++){const h=l[d],p=h instanceof Element?XL:JL;Bl.has(h)||p(h);const g=Bl.get(h),v={...n};"delay"in v&&typeof v.delay=="function"&&(v.delay=v.delay(d,c)),o.push(...rx(g,{...e,transition:v},{}))}}return o}function eM(t,e,n){const r=[];return HL(t,e,n,{spring:tx}).forEach(({keyframes:l,transition:c},d)=>{r.push(...$E(d,l,c))}),r}function tM(t){return Array.isArray(t)&&t.some(Array.isArray)}function nM(t){function e(n,r,o){let l=[];return tM(n)?l=eM(n,r,t):l=$E(n,r,o,t),new vS(l)}return e}const jh=nM(),Ii={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function sM(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Ii.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function rM(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ii.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Ii.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ii.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Ii.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function zb({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=ME();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Ii.border,background:"var(--nav, "+Ii.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(sM,{}),s.jsx(DE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(rM,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const ig={borderColor:"#2B4C73",background:"#1A2F4A"},Sh={borderColor:"#2B4C73",background:"#152A42"};function Mn({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:d,rounded:h="rounded-3xl",padded:p=!0,centerFramed:g=!1,leftWidth:v=0,rightWidth:_=0,stickyRails:T=!0,mode:I="card",outerPadding:N="px-4 py-3",leftPlacement:P="inside",stickyTopbar:O=!0,stickySubheader:V=!0,shellViewportOffset:A="var(--app-topbar-h,72px)",topbarHeight:x=56}){const w={"--left":typeof v=="number"?`${v}px`:v,"--right":typeof _=="number"?`${_}px`:_},R=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:ig,children:t}),(e||n||r)&&s.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:ig,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&s.jsx("div",{className:[V?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...V?{top:O?`${x}px`:0}:{},...ig},children:o})]}),E=I==="card"?({children:C})=>s.jsx(zb,{rounded:h,padded:p,children:C}):({children:C})=>s.jsx("div",{className:`w-full ${N}`,children:C}),S=s.jsx("div",{className:"relative min-h-0 h-full",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Sh,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),g?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Sh,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Sh,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return P==="bleed"&&I==="card"?s.jsx("div",{className:`w-full ${N}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[R,s.jsx("div",{className:"flex-1 min-h-0",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Sh,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(zb,{rounded:h,padded:p,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:S})})]})})]})}):s.jsx(E,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${A})`},children:[R,s.jsx("div",{className:"flex-1 min-h-0",children:S})]})})}const iM="_row_ezo70_3",oM="_colFull_ezo70_17",aM="_colFreshness_ezo70_19",lM="_colKPIs_ezo70_21",cM="_colToplists_ezo70_23",uM="_colRightstack_ezo70_25",dM="_stackItem_ezo70_27",hM="_colCommunity_ezo70_31",pM="_colGuides_ezo70_33",En={row:iM,colFull:oM,colFreshness:aM,colKPIs:lM,colToplists:cM,colRightstack:uM,stackItem:dM,colCommunity:hM,colGuides:pM},fM="_card_z59cq_23",mM="_header_z59cq_37",gM="_title_z59cq_45",yM="_body_z59cq_57",xM="_row_z59cq_61",vM="_label_z59cq_75",_M="_skeletonLine_z59cq_85",bM="_countdown_z59cq_101",wM="_skeletonPill_z59cq_103",jM="_footer_z59cq_121",SM="_note_z59cq_123",ys={card:fM,header:mM,title:gM,body:yM,row:xM,label:vM,skeletonLine:_M,countdown:bM,skeletonPill:wM,footer:jM,note:SM},EM=({isLoading:t=!0})=>s.jsxs("section",{className:ys.card,"aria-busy":t,"data-i18n-scope":"home.freshness",children:[s.jsx("header",{className:ys.header,children:s.jsx("span",{className:ys.title,"data-i18n":"home.freshness.title",children:"Data freshness"})}),s.jsxs("div",{className:ys.body,children:[s.jsxs("div",{className:ys.row,children:[s.jsx("div",{className:ys.label,"data-i18n":"home.freshness.lastUpdate",children:"Last update"}),s.jsx("div",{className:ys.skeletonLine})]}),s.jsxs("div",{className:ys.row,children:[s.jsx("div",{className:ys.label,"data-i18n":"home.freshness.nextUpdate",children:"Next update"}),s.jsx("div",{className:ys.skeletonLine})]}),s.jsx("div",{className:ys.countdown,"aria-label":"countdown placeholder",children:s.jsx("div",{className:ys.skeletonPill})})]}),s.jsx("footer",{className:ys.footer,children:s.jsx("span",{className:ys.note,"data-i18n":"home.freshness.placeholderNote",children:"Snapshot not yet available  placeholder active"})})]}),TM="_card_4rp46_7",kM="_header_4rp46_21",CM="_title_4rp46_23",IM="_grid_4rp46_27",AM="_kpi_4rp46_39",RM="_kpiLabel_4rp46_53",PM="_kpiValue_4rp46_53",NM="_footer_4rp46_73",DM="_note_4rp46_75",_i={card:TM,header:kM,title:CM,grid:IM,kpi:AM,kpiLabel:RM,kpiValue:PM,footer:NM,note:DM},LM=6,MM=()=>s.jsxs("section",{className:_i.card,"aria-busy":!0,"data-i18n-scope":"home.kpis",children:[s.jsx("header",{className:_i.header,children:s.jsx("span",{className:_i.title,"data-i18n":"home.kpis.title",children:"Key metrics"})}),s.jsx("div",{className:_i.grid,children:Array.from({length:LM}).map((t,e)=>s.jsxs("div",{className:_i.kpi,children:[s.jsx("div",{className:_i.kpiLabel}),s.jsx("div",{className:_i.kpiValue})]},e))}),s.jsx("footer",{className:_i.footer,children:s.jsx("span",{className:_i.note,"data-i18n":"home.kpis.placeholderNote",children:"Metrics will appear once stats_public snapshots are available."})})]}),FM="_card_1ye17_21",VM="_header_1ye17_25",$M="_title_1ye17_27",BM="_tabBar_1ye17_31",OM="_tabSkeleton_1ye17_33",UM="_table_1ye17_47",zM="_thead_1ye17_49",HM="_tbody_1ye17_49",WM="_tr_1ye17_49",GM="_th_1ye17_49",qM="_tdRank_1ye17_67",KM="_td_1ye17_67",QM="_tdWide_1ye17_67",YM="_tdDelta_1ye17_67",XM="_footer_1ye17_87",JM="_note_1ye17_89",Ht={card:FM,header:VM,title:$M,tabBar:BM,tabSkeleton:OM,table:UM,thead:zM,tbody:HM,tr:WM,th:GM,tdRank:qM,td:KM,tdWide:QM,tdDelta:YM,footer:XM,note:JM},ZM=6,e9=()=>s.jsxs("section",{className:Ht.card,"aria-busy":!0,"data-i18n-scope":"home.toplists",children:[s.jsxs("header",{className:Ht.header,children:[s.jsx("span",{className:Ht.title,"data-i18n":"home.toplists.title",children:"Toplists preview"}),s.jsxs("div",{className:Ht.tabBar,role:"tablist","aria-label":"Toplists tabs",children:[s.jsx("div",{className:Ht.tabSkeleton,role:"tab","aria-selected":"true"}),s.jsx("div",{className:Ht.tabSkeleton,role:"tab"}),s.jsx("div",{className:Ht.tabSkeleton,role:"tab"})]})]}),s.jsxs("div",{className:Ht.table,children:[s.jsxs("div",{className:Ht.thead,children:[s.jsx("div",{className:Ht.th,style:{width:48}}),s.jsx("div",{className:Ht.th}),s.jsx("div",{className:Ht.th}),s.jsx("div",{className:Ht.th})]}),s.jsx("div",{className:Ht.tbody,children:Array.from({length:ZM}).map((t,e)=>s.jsxs("div",{className:Ht.tr,children:[s.jsx("div",{className:Ht.tdRank}),s.jsx("div",{className:Ht.tdWide}),s.jsx("div",{className:Ht.td}),s.jsx("div",{className:Ht.tdDelta})]},e))})]}),s.jsx("footer",{className:Ht.footer,children:s.jsx("span",{className:Ht.note,"data-i18n":"home.toplists.placeholderNote",children:"Preview will populate from stats_public once available."})})]}),t9="_card_k4o2v_7",n9="_header_k4o2v_9",s9="_title_k4o2v_11",r9="_grid_k4o2v_15",i9="_tile_k4o2v_17",o9="_avatar_k4o2v_27",a9="_lineShort_k4o2v_27",l9="_lineLong_k4o2v_27",c9="_badge_k4o2v_27",u9="_lines_k4o2v_43",d9="_footer_k4o2v_53",h9="_note_k4o2v_55",Xs={card:t9,header:n9,title:s9,grid:r9,tile:i9,avatar:o9,lineShort:a9,lineLong:l9,badge:c9,lines:u9,footer:d9,note:h9},p9=()=>s.jsxs("section",{className:Xs.card,"aria-busy":!0,"data-i18n-scope":"home.spotlight",children:[s.jsx("header",{className:Xs.header,children:s.jsx("span",{className:Xs.title,"data-i18n":"home.spotlight.title",children:"Spotlight"})}),s.jsx("div",{className:Xs.grid,children:[0,1,2].map(t=>s.jsxs("div",{className:Xs.tile,children:[s.jsx("div",{className:Xs.avatar}),s.jsxs("div",{className:Xs.lines,children:[s.jsx("div",{className:Xs.lineShort}),s.jsx("div",{className:Xs.lineLong})]}),s.jsx("div",{className:Xs.badge})]},t))}),s.jsx("footer",{className:Xs.footer,children:s.jsx("span",{className:Xs.note,"data-i18n":"home.spotlight.placeholderNote",children:"Will use toplist deltas or curated metadata/spolights later."})})]}),f9="_card_docln_7",m9="_header_docln_9",g9="_title_docln_11",y9="_chart_docln_15",x9="_bar_docln_25",v9="_footer_docln_41",_9="_note_docln_43",ea={card:f9,header:m9,title:g9,chart:y9,bar:x9,footer:v9,note:_9},b9=()=>s.jsxs("section",{className:ea.card,"aria-busy":!0,"data-i18n-scope":"home.activity",children:[s.jsx("header",{className:ea.header,children:s.jsx("span",{className:ea.title,"data-i18n":"home.activity.title",children:"Activity pulse (7d)"})}),s.jsx("div",{className:ea.chart,children:Array.from({length:14}).map((t,e)=>s.jsx("div",{className:ea.bar,style:{height:`${30+e*13%60}px`}},e))}),s.jsx("footer",{className:ea.footer,children:s.jsx("span",{className:ea.note,"data-i18n":"home.activity.placeholderNote",children:"Chart will render real values once snapshots exist."})})]}),w9="_hero_1rb2q_3",j9="_titleLine_1rb2q_19",S9="_subLine_1rb2q_19",E9="_ctaPill_1rb2q_19",T9="_ctaRow_1rb2q_39",ta={hero:w9,titleLine:j9,subLine:S9,ctaPill:E9,ctaRow:T9},k9=()=>s.jsxs("section",{className:ta.hero,"aria-busy":!0,"data-i18n-scope":"home.hero",children:[s.jsx("div",{className:ta.titleLine}),s.jsx("div",{className:ta.subLine}),s.jsxs("div",{className:ta.ctaRow,children:[s.jsx("div",{className:ta.ctaPill}),s.jsx("div",{className:ta.ctaPill}),s.jsx("div",{className:ta.ctaPill})]})]}),C9="_tile_v9nvo_27",I9="_icon_v9nvo_37",Eh={tile:C9,icon:I9},A9=6,R9=()=>s.jsx("nav",{className:Eh.wrap,"aria-busy":!0,"data-i18n-scope":"home.quick",children:Array.from({length:A9}).map((t,e)=>s.jsxs("div",{className:Eh.tile,children:[s.jsx("div",{className:Eh.icon}),s.jsx("div",{className:Eh.label})]},e))}),P9="_card_1fbqs_7",N9="_header_1fbqs_9",D9="_title_1fbqs_11",L9="_list_1fbqs_15",M9="_item_1fbqs_17",F9="_dot_1fbqs_21",V9="_lineWide_1fbqs_21",$9="_footer_1fbqs_39",B9="_note_1fbqs_41",bi={card:P9,header:N9,title:D9,list:L9,item:M9,dot:F9,lineWide:V9,footer:$9,note:B9},O9=()=>s.jsxs("section",{className:bi.card,"aria-busy":!0,"data-i18n-scope":"home.news",children:[s.jsx("header",{className:bi.header,children:s.jsx("span",{className:bi.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsx("div",{className:bi.list,children:[0,1,2,3].map(t=>s.jsxs("div",{className:bi.item,children:[s.jsx("div",{className:bi.dot}),s.jsx("div",{className:bi.lineWide})]},t))}),s.jsx("footer",{className:bi.footer,children:s.jsx("span",{className:bi.note,"data-i18n":"home.news.placeholderNote",children:"Public headlines will appear here once the feed is connected."})})]}),U9="_card_ipu6g_7",z9="_header_ipu6g_9",H9="_title_ipu6g_11",W9="_grid_ipu6g_15",G9="_tile_ipu6g_17",q9="_thumb_ipu6g_27",K9="_lineShort_ipu6g_27",Q9="_lineLong_ipu6g_27",Y9="_badge_ipu6g_27",X9="_lines_ipu6g_39",J9="_footer_ipu6g_49",Z9="_note_ipu6g_51",Js={card:U9,header:z9,title:H9,grid:W9,tile:G9,thumb:q9,lineShort:K9,lineLong:Q9,badge:Y9,lines:X9,footer:J9,note:Z9},e8=()=>s.jsxs("section",{className:Js.card,"aria-busy":!0,"data-i18n-scope":"home.guides",children:[s.jsx("header",{className:Js.header,children:s.jsx("span",{className:Js.title,"data-i18n":"home.guides.title",children:"Guides highlight"})}),s.jsx("div",{className:Js.grid,children:[0,1,2].map(t=>s.jsxs("div",{className:Js.tile,children:[s.jsx("div",{className:Js.thumb}),s.jsxs("div",{className:Js.lines,children:[s.jsx("div",{className:Js.lineShort}),s.jsx("div",{className:Js.lineLong})]}),s.jsx("div",{className:Js.badge})]},t))}),s.jsx("footer",{className:Js.footer,children:s.jsx("span",{className:Js.note,"data-i18n":"home.guides.placeholderNote",children:"Guide cards will appear once the manifest is connected."})})]}),t8="_strip_1rckp_7",n8="_cluster_1rckp_27",s8="_pill_1rckp_29",r8="_btn_1rckp_29",i8="_lineShort_1rckp_29",o8="_lineTiny_1rckp_29",a8="_actions_1rckp_45",l8="_note_1rckp_51",Tr={strip:t8,cluster:n8,pill:s8,btn:r8,lineShort:i8,lineTiny:o8,actions:a8,note:l8},c8=()=>s.jsxs("section",{className:Tr.strip,"aria-busy":!0,"data-i18n-scope":"home.system",children:[s.jsxs("div",{className:Tr.cluster,children:[s.jsx("div",{className:Tr.pill,title:"Edge/API status"}),s.jsx("div",{className:Tr.pill,title:"Firestore status"}),s.jsx("div",{className:Tr.pill,title:"CDN/assets status"})]}),s.jsxs("div",{className:Tr.note,children:[s.jsx("div",{className:Tr.lineShort}),s.jsx("div",{className:Tr.lineTiny})]}),s.jsxs("div",{className:Tr.actions,children:[s.jsx("div",{className:Tr.btn,title:"Privacy & Terms"}),s.jsx("div",{className:Tr.btn,title:"Send feedback"})]})]}),u8=()=>s.jsxs(Mn,{titleKey:"home.title",descriptionKey:"home.description",lastUpdatedKey:"home.lastUpdated",children:[s.jsx("div",{className:En.row,children:s.jsx("div",{className:En.colFull,children:s.jsx(k9,{})})}),s.jsx("div",{className:En.row,children:s.jsx("div",{className:En.colFull,children:s.jsx(R9,{})})}),s.jsxs("div",{className:En.row,children:[s.jsx("div",{className:En.colFreshness,children:s.jsx(EM,{})}),s.jsx("div",{className:En.colKPIs,children:s.jsx(MM,{})})]}),s.jsxs("div",{className:En.row,children:[s.jsx("div",{className:En.colToplists,children:s.jsx(e9,{})}),s.jsxs("div",{className:En.colRightstack,children:[s.jsx("div",{className:En.stackItem,children:s.jsx(p9,{})}),s.jsx("div",{className:En.stackItem,children:s.jsx(b9,{})})]})]}),s.jsxs("div",{className:En.row,children:[s.jsx("div",{className:En.colCommunity,children:s.jsx(O9,{})}),s.jsx("div",{className:En.colGuides,children:s.jsx(e8,{})})]}),s.jsx("div",{className:En.row,children:s.jsx("div",{className:En.colFull,children:s.jsx(c8,{})})})]});function d8(){return s.jsx(Mn,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(h8,{}),right:s.jsx(p8,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(og,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(og,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(og,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function h8(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(ag,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(ag,{to:"/dashboard/activity",children:"Activity"}),s.jsx(ag,{to:"/dashboard/progression",children:"Progression"})]})]})}function p8(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function og({to:t,title:e,desc:n}){return s.jsxs(an,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function ag({to:t,children:e}){return s.jsx(an,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function f8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(lg,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(lg,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(lg,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function lg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function m8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function g8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(cg,{title:"Scrapbook 100%",progress:72}),s.jsx(cg,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(cg,{title:"Underworld Boss",progress:35})]})]})}function cg({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function y8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(dl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(dl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(dl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(dl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(dl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(dl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function dl({to:t,title:e,desc:n}){return s.jsxs(an,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function x8({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Ii.border,backgroundColor:Ii.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function v8(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const _8=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:o=!0,className:l,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:p=!0})=>{const[g,v]=L.useState(!1),_=L.useMemo(()=>v8(t,p),[t,p]),T=o?"lazy":"eager",I={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},N={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},P=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},O={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:l,style:I,children:s.jsx("div",{style:N,children:s.jsxs("div",{style:P,children:[s.jsx("iframe",{src:_,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:T,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>v(V=>!V),style:O,title:"Info",children:"i"}),g&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},b8="#0C1C2E",w8=()=>s.jsx(Mn,{children:s.jsx(x8,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:b8,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(_8,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),j8="_pageWrap_c93o1_7",S8="_infoLine_c93o1_17",E8="_viewerHost_c93o1_35",ug={pageWrap:j8,infoLine:S8,viewerHost:E8};var Zc={exports:{}},T8=Zc.exports,Hb;function k8(){return Hb||(Hb=1,(function(t,e){(function(n,r){r(e)})(T8,(function(n){class r{constructor(x,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=x}setDensity(x){this.createdDensity=x,this.nowDrawingDensity=x}setDrawingDensity(x){this.nowDrawingDensity=x}setPosition(x){this.state.position=x}setAngle(x){this.state.angle=x}setArea(x){this.state.area=x}setHardDrawingAngle(x){this.state.hardDrawingAngle=x}setHardAngle(x){this.state.hardAngle=x,this.state.hardDrawingAngle=x}setOrientation(x){this.orientation=x}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends r{constructor(x,w,R){super(x,R),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(x){const w=this.render.getContext(),R=this.render.convertToGlobal(this.state.position),E=this.render.getRect().pageWidth,S=this.render.getRect().height;w.save(),w.translate(R.x,R.y),w.beginPath();for(let C of this.state.area)C!==null&&(C=this.render.convertToGlobal(C),w.lineTo(C.x-R.x,C.y-R.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,E,S):this.drawLoader(w,{x:0,y:0},E,S),w.restore()}simpleDraw(x){const w=this.render.getRect(),R=this.render.getContext(),E=w.pageWidth,S=w.height,C=x===1?w.left+w.pageWidth:w.left,F=w.top;this.isLoad?R.drawImage(this.image,C,F,E,S):this.drawLoader(R,{x:C,y:F},E,S)}drawLoader(x,w,R,E){x.beginPath(),x.strokeStyle="rgb(200, 200, 200)",x.fillStyle="rgb(255, 255, 255)",x.lineWidth=1,x.rect(w.x+1,w.y+1,R-1,E-1),x.stroke(),x.fill();const S={x:w.x+R/2,y:w.y+E/2};x.beginPath(),x.lineWidth=10,x.arc(S.x,S.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),x.stroke(),x.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(x,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=x,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let x=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([x]),x++);for(let w=x;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(x){const w=this.getSpread();for(let R=0;R<w.length;R++)if(x===w[R][0]||x===w[R][1])return R;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(x){if(x>=0&&x<this.pages.length)return this.pages[x];throw new Error("Invalid page number")}nextBy(x){const w=this.pages.indexOf(x);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(x){const w=this.pages.indexOf(x);return w>0?this.pages[w-1]:null}getFlippingPage(x){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return x===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const R=x===0?this.getSpread()[w+1]:this.getSpread()[w-1];return R.length===1||x===0?this.pages[R[0]]:this.pages[R[1]]}}getBottomPage(x){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return x===0?this.pages[w+1]:this.pages[w-1];{const R=x===0?this.getSpread()[w+1]:this.getSpread()[w-1];return R.length===1?this.pages[R[0]]:x===0?this.pages[R[1]]:this.pages[R[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(x=null){if(x===null&&(x=this.currentPageIndex),x<0||x>=this.pages.length)return;const w=this.getSpreadIndexByPage(x);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(x){if(!(x>=0&&x<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=x}showSpread(){const x=this.getSpread()[this.currentSpreadIndex];x.length===2?(this.render.setLeftPage(this.pages[x[0]]),this.render.setRightPage(this.pages[x[1]])):this.render.getOrientation()==="landscape"&&x[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[x[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[x[0]])),this.currentPageIndex=x[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(x,w,R){super(x,w),this.imagesHref=R}load(){for(const x of this.imagesHref){const w=new o(this.render,x,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(x,w){return x===null||w===null?1/0:Math.sqrt(Math.pow(w.x-x.x,2)+Math.pow(w.y-x.y,2))}static GetSegmentLength(x){return d.GetDistanceBetweenTwoPoint(x[0],x[1])}static GetAngleBetweenTwoLine(x,w){const R=x[0].y-x[1].y,E=w[0].y-w[1].y,S=x[1].x-x[0].x,C=w[1].x-w[0].x;return Math.acos((R*E+S*C)/(Math.sqrt(R*R+S*S)*Math.sqrt(E*E+C*C)))}static PointInRect(x,w){return w===null?null:w.x>=x.left&&w.x<=x.width+x.left&&w.y>=x.top&&w.y<=x.top+x.height?w:null}static GetRotatedPoint(x,w,R){return{x:x.x*Math.cos(R)+x.y*Math.sin(R)+w.x,y:x.y*Math.cos(R)-x.x*Math.sin(R)+w.y}}static LimitPointToCircle(x,w,R){if(d.GetDistanceBetweenTwoPoint(x,R)<=w)return R;const E=x.x,S=x.y,C=R.x,F=R.y;let M=Math.sqrt(Math.pow(w,2)*Math.pow(E-C,2)/(Math.pow(E-C,2)+Math.pow(S-F,2)))+E;R.x<0&&(M*=-1);let U=(M-E)*(S-F)/(E-C)+S;return E-C+S===0&&(U=w),{x:M,y:U}}static GetIntersectBetweenTwoSegment(x,w,R){return d.PointInRect(x,d.GetIntersectBeetwenTwoLine(w,R))}static GetIntersectBeetwenTwoLine(x,w){const R=x[0].y-x[1].y,E=w[0].y-w[1].y,S=x[1].x-x[0].x,C=w[1].x-w[0].x,F=x[0].x*x[1].y-x[1].x*x[0].y,M=w[0].x*w[1].y-w[1].x*w[0].y,U=R*M-E*F,$=S*M-C*F,ue=-(F*C-M*S)/(R*C-E*S),q=-(R*M-E*F)/(R*C-E*S);if(isFinite(ue)&&isFinite(q))return{x:ue,y:q};if(Math.abs(U-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(x,w){const R=Math.abs(x.x-w.x),E=Math.abs(x.y-w.y),S=Math.max(R,E),C=[x];function F(M,U,$,ue,q){return U>M?M+q*($/ue):U<M?M-q*($/ue):M}for(let M=1;M<=S;M+=1)C.push({x:F(x.x,w.x,R,S,M),y:F(x.y,w.y,E,S,M)});return C}}class h extends r{constructor(x,w,R){super(x,R),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+R)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(x){const w=x||this.nowDrawingDensity,R=this.render.convertToGlobal(this.state.position),E=this.render.getRect().pageWidth,S=this.render.getRect().height;this.element.classList.remove("--simple");const C=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${E}px;
            height: ${S}px;
        `;w==="hard"?this.drawHard(C):this.drawSoft(R,C)}drawHard(x=""){const w=this.render.getRect().left+this.render.getRect().width/2,R=this.state.hardDrawingAngle,E=x+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${R}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${R}deg);`);this.element.style.cssText=E}drawSoft(x,w=""){let R="polygon( ";for(const S of this.state.area)if(S!==null){let C=this.render.getDirection()===1?{x:-S.x+this.state.position.x,y:S.y-this.state.position.y}:{x:S.x-this.state.position.x,y:S.y-this.state.position.y};C=d.GetRotatedPoint(C,{x:0,y:0},this.state.angle),R+=C.x+"px "+C.y+"px, "}R=R.slice(0,-2),R+=")";const E=w+`transform-origin: 0 0; clip-path: ${R}; -webkit-clip-path: ${R};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${x.x}px, ${x.y}px);`:`transform: translate3d(${x.x}px, ${x.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=E}simpleDraw(x){const w=this.render.getRect(),R=w.pageWidth,E=w.height,S=x===1?w.left+w.pageWidth:w.left,C=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${E}px; 
            left: ${S}px; 
            top: ${C}px; 
            width: ${R}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(x){super.setOrientation(x),this.element.classList.remove("--left","--right"),this.element.classList.add(x===1?"--right":"--left")}setDrawingDensity(x){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+x),super.setDrawingDensity(x)}}class p extends l{constructor(x,w,R,E){super(x,w),this.element=R,this.pagesElement=E}load(){for(const x of this.pagesElement){const w=new h(this.render,x,x.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class g{constructor(x,w,R,E){this.direction=x,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(R,10),this.pageHeight=parseInt(E,10)}calc(x){try{return this.position=this.calcAngleAndPosition(x),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const x=[];let w=!1;return x.push(this.rect.topLeft),x.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(x.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),x.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&x.push(this.rect.bottomLeft),x}getBottomClipArea(){const x=[];return x.push(this.topIntersectPoint),this.corner==="top"?x.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&x.push({x:this.pageWidth,y:0}),x.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&x.push(this.sideIntersectPoint):this.corner==="top"&&x.push({x:this.pageWidth,y:this.pageHeight}),x.push(this.bottomIntersectPoint),x.push(this.topIntersectPoint),x}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const x=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?x:Math.PI-x}calcAngleAndPosition(x){let w=x;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(x){this.angle=this.calculateAngle(x),this.rect=this.getPageRect(x)}calculateAngle(x){const w=this.pageWidth-x.x+1,R=this.corner==="bottom"?this.pageHeight-x.y:x.y;let E=2*Math.acos(w/Math.sqrt(R*R+w*w));R<0&&(E=-E);const S=Math.PI-E;if(!isFinite(E)||S>=0&&S<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(E=-E),E}getPageRect(x){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],x):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],x)}getRectFromBasePoint(x,w){return{topLeft:this.getRotatedPoint(x[0],w),topRight:this.getRotatedPoint(x[1],w),bottomLeft:this.getRotatedPoint(x[2],w),bottomRight:this.getRotatedPoint(x[3],w)}}getRotatedPoint(x,w){return{x:x.x*Math.cos(this.angle)+x.y*Math.sin(this.angle)+w.x,y:x.y*Math.cos(this.angle)-x.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(x){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[x,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[x,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[x,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(x,w,R){let E=x;const S=d.LimitPointToCircle(w,this.pageWidth,E);E!==S&&(E=S,this.updateAngleAndGeometry(E));const C=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let F=this.rect.bottomRight,M=this.rect.topLeft;if(this.corner==="bottom"&&(F=this.rect.topRight,M=this.rect.bottomLeft),F.x<=0){const U=d.LimitPointToCircle(R,C,M);U!==E&&(E=U,this.updateAngleAndGeometry(E))}return E}getSegmentToShadowLine(){const x=this.getShadowStartPoint();return[x,x!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class v{constructor(x,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=x,this.app=w}fold(x){this.setState("user_fold"),this.calc===null&&this.start(x),this.do(this.render.convertToPage(x))}flip(x){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(x)||(this.calc!==null&&this.render.finishAnimation(),!this.start(x)))return;const w=this.getBoundsRect();this.setState("flipping");const R=w.height/10,E=this.calc.getCorner()==="bottom"?w.height-R:R,S=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-R,y:E}),this.animateFlippingTo({x:w.pageWidth-R,y:E},{x:-w.pageWidth,y:S},!0)}start(x){this.reset();const w=this.render.convertToBook(x),R=this.getBoundsRect(),E=this.getDirectionByPoint(w),S=w.y>=R.height/2?"bottom":"top";if(!this.checkDirection(E))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(E),this.bottomPage=this.app.getPageCollection().getBottomPage(E),this.render.getOrientation()==="landscape")if(E===1){const C=this.app.getPageCollection().nextBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}else{const C=this.app.getPageCollection().prevBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}return this.render.setDirection(E),this.calc=new g(E,S,R.pageWidth.toString(10),R.height.toString(10)),!0}catch(C){return!1}}do(x){if(this.calc!==null&&this.calc.calc(x)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(x,w){const R=this.app.getPageCollection().getCurrentSpreadIndex(),E=this.app.getPageCollection().getSpreadIndexByPage(x);try{E>R&&(this.app.getPageCollection().setCurrentSpreadIndex(E-1),this.flipNext(w)),E<R&&(this.app.getPageCollection().setCurrentSpreadIndex(E+1),this.flipPrev(w))}catch(S){}}flipNext(x){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:x==="top"?1:this.render.getRect().height-2})}flipPrev(x){this.flip({x:10,y:x==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const x=this.calc.getPosition(),w=this.getBoundsRect(),R=this.calc.getCorner()==="bottom"?w.height:0;x.x<=0?this.animateFlippingTo(x,{x:-w.pageWidth,y:R},!0):this.animateFlippingTo(x,{x:w.pageWidth,y:R},!1)}showCorner(x){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),R=w.pageWidth;if(this.isPointOnCorners(x))if(this.calc===null){if(!this.start(x))return;this.setState("fold_corner"),this.calc.calc({x:R-1,y:1});const E=50,S=this.calc.getCorner()==="bottom"?w.height-1:1,C=this.calc.getCorner()==="bottom"?w.height-E:E;this.animateFlippingTo({x:R-1,y:S},{x:R-E,y:C},!1,!1)}else this.do(this.render.convertToPage(x));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(x,w,R,E=!0){const S=d.GetCordsFromTwoPoint(x,w),C=[];for(const M of S)C.push(()=>this.do(M));const F=this.getAnimationDuration(S.length);this.render.startAnimation(C,F,()=>{this.calc&&(R&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),E&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(x){this.state!==x&&(this.app.updateState(x),this.state=x)}getDirectionByPoint(x){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(x.x-w.pageWidth<=w.width/5)return 1}else if(x.x<w.width/2)return 1;return 0}getAnimationDuration(x){const w=this.app.getSettings().flippingTime;return x>=1e3?w:x/1e3*w}checkDirection(x){return x===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...x){for(const w of x)if(this.state===w)return!0;return!1}isPointOnCorners(x){const w=this.getBoundsRect(),R=w.pageWidth,E=Math.sqrt(Math.pow(R,2)+Math.pow(w.height,2))/5,S=this.render.convertToBook(x);return S.x>0&&S.y>0&&S.x<w.width&&S.y<w.height&&(S.x<E||S.x>w.width-E)&&(S.y<E||S.y>w.height-E)}}class _{constructor(x,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=x;const R=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=R.exec(window.navigator.userAgent)!==null}render(x){if(this.animation!==null){const w=Math.round((x-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=x,this.drawFrame()}start(){this.update();const x=w=>{this.render(w),requestAnimationFrame(x)};requestAnimationFrame(x)}startAnimation(x,w,R){this.finishAnimation(),this.animation={frames:x,duration:w,durationFrame:w/x.length,onAnimateEnd:R,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const x=this.calculateBoundsRect();this.orientation!==x&&(this.orientation=x,this.app.updateOrientation(x))}calculateBoundsRect(){let x="landscape";const w=this.getBlockWidth(),R=w/2,E=this.getBlockHeight()/2,S=this.setting.width/this.setting.height;let C=this.setting.width,F=this.setting.height,M=R-C;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(x="portrait"),C=x==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,C>this.setting.maxWidth&&(C=this.setting.maxWidth),F=C/S,F>this.getBlockHeight()&&(F=this.getBlockHeight(),C=F*S),M=x==="portrait"?R-C/2-C:R-C):w<2*C&&this.app.getSettings().usePortrait&&(x="portrait",M=R-C/2-C),this.boundsRect={left:M,top:E-F/2,width:2*C,height:F,pageWidth:C},x}setShadowData(x,w,R,E){if(!this.app.getSettings().drawShadow)return;const S=100*this.getSettings().maxShadowOpacity;this.shadow={pos:x,angle:w,width:3*this.getRect().pageWidth/4*R/100,opacity:(100-R)*S/100/100,direction:E,progress:2*R}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(x){this.pageRect=x}setDirection(x){this.direction=x}setRightPage(x){x!==null&&x.setOrientation(1),this.rightPage=x}setLeftPage(x){x!==null&&x.setOrientation(0),this.leftPage=x}setBottomPage(x){x!==null&&x.setOrientation(this.direction===1?0:1),this.bottomPage=x}setFlippingPage(x){x!==null&&x.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=x}convertToBook(x){const w=this.getRect();return{x:x.x-w.left,y:x.y-w.top}}isSafari(){return this.safari}convertToPage(x,w){w||(w=this.direction);const R=this.getRect();return{x:w===0?x.x-R.left-R.width/2:R.width/2-x.x+R.left,y:x.y-R.top}}convertToGlobal(x,w){if(w||(w=this.direction),x==null)return null;const R=this.getRect();return{x:w===0?x.x+R.left+R.width/2:R.width/2-x.x+R.left,y:x.y+R.top}}convertRectToGlobal(x,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(x.topLeft,w),topRight:this.convertToGlobal(x.topRight,w),bottomLeft:this.convertToGlobal(x.bottomLeft,w),bottomRight:this.convertToGlobal(x.bottomRight,w)}}}class T extends _{constructor(x,w,R){super(x,w),this.canvas=R,this.ctx=R.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const x=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(x.left+x.pageWidth,x.top,x.width,x.height),this.ctx.clip())}drawBookShadow(){const x=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=x.width/20;this.ctx.rect(x.left,x.top,x.width,x.height);const R={x:x.left+x.width/2-w/2,y:0};this.ctx.translate(R.x,R.y);const E=this.ctx.createLinearGradient(0,0,w,0);E.addColorStop(0,"rgba(0, 0, 0, 0)"),E.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),E.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),E.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),E.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),E.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=E,this.ctx.fillRect(0,0,w,2*x.height),this.ctx.restore()}drawOuterShadow(){const x=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(x.left,x.top,x.width,x.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const R=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),R.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),R.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),R.addColorStop(0,"rgba(0, 0, 0, 0)"),R.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=R,this.ctx.fillRect(0,0,this.shadow.width,2*x.height),this.ctx.restore()}drawInnerShadow(){const x=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),R=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(R.topLeft.x,R.topLeft.y),this.ctx.lineTo(R.topRight.x,R.topRight.y),this.ctx.lineTo(R.bottomRight.x,R.bottomRight.y),this.ctx.lineTo(R.bottomLeft.x,R.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const E=3*this.shadow.width/4,S=this.ctx.createLinearGradient(0,0,E,0);this.shadow.direction===0?(this.ctx.translate(-E,-100),S.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),S.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=S,this.ctx.fillRect(0,0,E,2*x.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class I{constructor(x,w,R){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=S=>{if(this.checkTarget(S.target)){const C=this.getMousePos(S.clientX,S.clientY);this.app.startUserTouch(C),S.preventDefault()}},this.onTouchStart=S=>{if(this.checkTarget(S.target)&&S.changedTouches.length>0){const C=S.changedTouches[0],F=this.getMousePos(C.clientX,C.clientY);this.touchPoint={point:F,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(F)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||S.preventDefault()}},this.onMouseUp=S=>{const C=this.getMousePos(S.clientX,S.clientY);this.app.userStop(C)},this.onMouseMove=S=>{const C=this.getMousePos(S.clientX,S.clientY);this.app.userMove(C,!1)},this.onTouchMove=S=>{if(S.changedTouches.length>0){const C=S.changedTouches[0],F=this.getMousePos(C.clientX,C.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-F.x)>10||this.app.getState()!=="read")&&S.cancelable&&this.app.userMove(F,!0),this.app.getState()!=="read"&&S.preventDefault()):this.app.userMove(F,!0)}},this.onTouchEnd=S=>{if(S.changedTouches.length>0){const C=S.changedTouches[0],F=this.getMousePos(C.clientX,C.clientY);let M=!1;if(this.touchPoint!==null){const U=F.x-this.touchPoint.point.x,$=Math.abs(F.y-this.touchPoint.point.y);Math.abs(U)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(U>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),M=!0),this.touchPoint=null}this.app.userStop(F,M)}},this.parentElement=x,x.classList.add("stf__parent"),x.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=x.querySelector(".stf__wrapper"),this.app=w;const E=this.app.getSettings().usePortrait?1:2;x.style.minWidth=R.minWidth*E+"px",x.style.minHeight=R.minHeight+"px",R.size==="fixed"&&(x.style.minWidth=R.width*E+"px",x.style.minHeight=R.height+"px"),R.autoSize&&(x.style.width="100%",x.style.maxWidth=2*R.maxWidth+"px"),x.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=R.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(x){this.wrapper.classList.remove("--portrait","--landscape"),x==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(x,w){const R=this.distElement.getBoundingClientRect();return{x:x-R.left,y:w-R.top}}checkTarget(x){return!this.app.getSettings().clickEventForward||!["a","button"].includes(x.tagName.toLowerCase())}}class N extends I{constructor(x,w,R,E){super(x,w,R),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=x.querySelector(".stf__block"),this.items=E;for(const S of E)this.distElement.appendChild(S);this.setHandlers()}clear(){for(const x of this.items)this.parentElement.appendChild(x)}updateItems(x){this.removeHandlers(),this.distElement.innerHTML="";for(const w of x)this.distElement.appendChild(w);this.items=x,this.setHandlers()}update(){this.app.getRender().update()}}class P extends I{constructor(x,w,R){super(x,w,R),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=x.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const x=getComputedStyle(this.canvas),w=parseInt(x.getPropertyValue("width"),10),R=parseInt(x.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=R}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class O extends _{constructor(x,w,R){super(x,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=R,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const x=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let R=(100-w)*(2.5*x.pageWidth)/100+20;R>x.pageWidth&&(R=x.pageWidth);let E=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${R}px;
            height: ${x.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${x.left+x.width/2}px;
            transform-origin: 0 0;
        `;E+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=E}drawHardOuterShadow(){const x=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*x.pageWidth)/100+20;w>x.pageWidth&&(w=x.pageWidth);let R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${x.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${x.left+x.width/2}px;
            transform-origin: 0 0;
        `;R+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=R}drawInnerShadow(){const x=this.getRect(),w=3*this.shadow.width/4,R=this.getDirection()===0?w:0,E=this.getDirection()===0?"to left":"to right",S=this.convertToGlobal(this.shadow.pos),C=this.shadow.angle+3*Math.PI/2,F=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let M="polygon( ";for(const $ of F){let ue=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};ue=d.GetRotatedPoint(ue,{x:R,y:100},C),M+=ue.x+"px "+ue.y+"px, "}M=M.slice(0,-2),M+=")";const U=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*x.height}px;
            background: linear-gradient(${E},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${R}px 100px;
            transform: translate3d(${S.x-R}px, ${S.y-100}px, 0) rotate(${C}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.innerShadow.style.cssText=U}drawOuterShadow(){const x=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),R=this.shadow.angle+3*Math.PI/2,E=this.getDirection()===1?this.shadow.width:0,S=this.getDirection()===0?"to right":"to left",C=[{x:0,y:0},{x:x.pageWidth,y:0},{x:x.pageWidth,y:x.height},{x:0,y:x.height}];let F="polygon( ";for(const U of C)if(U!==null){let $=this.getDirection()===1?{x:-U.x+this.shadow.pos.x,y:U.y-this.shadow.pos.y}:{x:U.x-this.shadow.pos.x,y:U.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:E,y:100},R),F+=$.x+"px "+$.y+"px, "}F=F.slice(0,-2),F+=")";const M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*x.height}px;
            background: linear-gradient(${S}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${E}px 100px;
            transform: translate3d(${w.x-E}px, ${w.y-100}px, 0) rotate(${R}rad);
            clip-path: ${F};
            -webkit-clip-path: ${F};
        `;this.outerShadow.style.cssText=M}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const x=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(x))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const x of this.app.getPageCollection().getPages())x!==this.leftPage&&x!==this.rightPage&&x!==this.flippingPage&&x!==this.bottomPage&&(x.getElement().style.cssText="display: none"),x.getTemporaryCopy()!==this.flippingPage&&x.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class V{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(x){const w=this._default;if(Object.assign(w,x),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(A,x){x===void 0&&(x={});var w=x.insertAt;if(typeof document!="undefined"){var R=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",w==="top"&&R.firstChild?R.insertBefore(E,R.firstChild):R.appendChild(E),E.styleSheet?E.styleSheet.cssText=A:E.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(A,x){return this.events.has(A)?this.events.get(A).push(x):this.events.set(A,[x]),this}off(A){this.events.delete(A)}trigger(A,x,w=null){if(this.events.has(A))for(const R of this.events.get(A))R({data:w,object:x})}}{constructor(A,x){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new V().getSettings(x),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new P(this.block,this,this.setting);const x=this.ui.getCanvas();this.render=new T(this,this.setting,x),this.flipController=new v(this.render,this),this.pages=new c(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new N(this.block,this,this.setting,A),this.render=new O(this,this.setting,this.ui.getDistElement()),this.flipController=new v(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const x=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,A),this.pages.load(),this.pages.show(x),this.trigger("update",this,{page:x,mode:this.render.getOrientation()})}updateFromHtml(A){const x=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(x),this.trigger("update",this,{page:x,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,x="top"){this.flipController.flipToPage(A,x)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,x){this.isUserTouch||x||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,x=!1){this.isUserTouch&&(this.isUserTouch=!1,x||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Zc,Zc.exports)),Zc.exports}var C8=k8();const I8="_viewerRoot_g0imx_1",A8="_stage_g0imx_13",R8="_host_g0imx_39",P8="_edge_g0imx_51",N8="_left_g0imx_71",D8="_right_g0imx_73",L8="_hud_g0imx_87",M8="_hBtn_g0imx_121",F8="_hText_g0imx_149",V8="_title_g0imx_163",$8="_sep_g0imx_165",B8="_spacer_g0imx_167",O8="_errorBox_g0imx_171",Tn={viewerRoot:I8,stage:A8,host:R8,edge:P8,left:N8,right:D8,hud:L8,hBtn:M8,hText:F8,title:V8,sep:$8,spacer:B8,errorBox:O8},U8=async t=>{const e=await fetch(`/flipbooks/${t}/manifest.json`,{cache:"no-cache"});if(!e.ok)throw new Error(`Manifest not found for slug "${t}"`);return e.json()},z8=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},H8=(t,e,n)=>Math.max(e,Math.min(n,t)),W8=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:o=!0})=>{const l=L.useRef(null),c=L.useRef(null),d=L.useRef(null),[h,p]=L.useState(null),[g,v]=L.useState(null),[_,T]=L.useState(!1),I=L.useMemo(()=>`/flipbooks/${t}`,[t]),N=L.useCallback(A=>{var x,w;if((x=A.srcset)!=null&&x.length){const R=[...A.srcset].sort((S,C)=>S.width-C.width),E=(w=R.find(S=>S.width>=1600))!=null?w:R[R.length-1];return E.src.startsWith("/")?E.src:`${I}/${E.src}`}return A.src.startsWith("/")?A.src:`${I}/${A.src}`},[I]);L.useEffect(()=>{let A=!0;return p(null),v(null),U8(t).then(x=>{A&&(p(x),T(z8()))}).catch(x=>{A&&v(x.message||"Failed to load flipbook manifest.")}),()=>{A=!1}},[t]),L.useEffect(()=>{const A=c.current,x=l.current;if(!h||!A||!x)return;if(d.current){try{d.current.destroy()}catch(M){}d.current=null}const w={width:h.pageWidth,height:h.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"bl",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},R=new C8.PageFlip(A,w);d.current=R;const E=h.pages.map(N);R.loadFromImages(E);const S=()=>{const M=H8(e,1,h.pageCount);R.turnToPage(M-1,"hard"),n==null||n()};R.on("init",S),R.on("flip",M=>r==null?void 0:r(M.data+1));const C=new ResizeObserver(()=>{try{R.update()}catch(M){}});C.observe(x);const F=M=>{M.key==="ArrowLeft"&&(M.preventDefault(),R.flipPrev()),M.key==="ArrowRight"&&(M.preventDefault(),R.flipNext())};return window.addEventListener("keydown",F,{passive:!1}),()=>{window.removeEventListener("keydown",F),C.disconnect(),R.off("init",S);try{R.destroy()}catch(M){}d.current=null}},[h,e,n,r,N]);const P=()=>{var A;return(A=d.current)==null?void 0:A.flipPrev()},O=()=>{var A;return(A=d.current)==null?void 0:A.flipNext()},V=()=>{var w;const A=l.current;if(!A)return;const x=A;(w=x.requestFullscreen||x.webkitRequestFullscreen||x.msRequestFullscreen)==null||w.call(x)};return g?s.jsxs("div",{className:Tn.errorBox,children:["Flipbook konnte nicht geladen werden: ",g]}):h?s.jsxs("div",{className:Tn.viewerRoot,ref:l,"aria-label":h.title,children:[s.jsxs("div",{className:Tn.stage,children:[s.jsx("div",{className:Tn.host,ref:c}),s.jsx("button",{className:`${Tn.edge} ${Tn.left}`,onClick:P,"aria-label":"Vorherige Seite"}),s.jsx("button",{className:`${Tn.edge} ${Tn.right}`,onClick:O,"aria-label":"Nchste Seite"})]}),s.jsxs("div",{className:Tn.hud,children:[s.jsx("button",{className:Tn.hBtn,onClick:P,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:Tn.hText,children:[s.jsx("span",{className:Tn.title,children:h.title}),s.jsx("span",{className:Tn.sep,children:""}),s.jsxs("span",{children:[h.pageCount," Seiten"]})]}),s.jsx("div",{className:Tn.spacer}),_&&s.jsx("button",{className:Tn.hBtn,onClick:V,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:Tn.hBtn,onClick:O,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:Tn.errorBox,children:"Lade Flipbook"})},G8=()=>s.jsx(Mn,{title:"SF History Book",description:"Echter Page-Curl Flipbook-Viewer (ohne Sound).",lastUpdated:void 0,children:s.jsxs("div",{className:ug.pageWrap,children:[s.jsx("div",{className:ug.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsx("div",{className:ug.viewerHost,children:s.jsx(W8,{slug:"sf-history-book",initialPage:1})})]})}),xy=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(xy.map(t=>[t.id,t]));const BE="TL_FILTERS_V2",Yr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function q8(){var t;try{const e=localStorage.getItem(BE);if(!e)return Yr;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:Yr.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:Yr.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Yr.filterMode;return{...Yr,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Yr.sortBy}}catch(e){return Yr}}function K8(t){try{localStorage.setItem(BE,JSON.stringify(t))}catch(e){}}const OE=L.createContext(null);function Q8({children:t}){const[e,n]=L.useState(()=>q8());L.useEffect(()=>{K8(e)},[e]);const r=x=>n(w=>({...w,servers:Array.from(new Set(x))})),o=x=>n(w=>{const R=new Set(w.servers);return R.has(x)?R.delete(x):R.add(x),{...w,servers:Array.from(R)}}),l=()=>n(x=>({...x,servers:[]})),c=x=>n(w=>({...w,classes:Array.from(new Set(x))})),d=x=>n(w=>{const R=new Set(w.classes);return R.has(x)?R.delete(x):R.add(x),{...w,classes:Array.from(R)}}),h=()=>n(x=>({...x,classes:[]})),p=x=>n(w=>({...w,days:x})),g=x=>p(x),v=x=>n(w=>({...w,sortBy:x||"level"})),_=x=>n(w=>({...w,favoritesOnly:!!x})),T=x=>n(w=>({...w,activeOnly:!!x})),I=x=>n(w=>({...w,filterMode:x})),N=x=>n(w=>({...w,listView:x})),P=x=>n(w=>({...w,bottomFilterOpen:!!x})),O=x=>n(w=>({...w,serverSheetOpen:!!x})),V=()=>n(Yr),A=L.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:d,clearClasses:h,setDays:p,setRange:g,setSortBy:v,setFavoritesOnly:_,setActiveOnly:T,setFilterMode:I,setListView:N,setBottomFilterOpen:P,setServerSheetOpen:O,resetFilters:V}),[e]);return s.jsx(OE.Provider,{value:A,children:t})}function Gu(){const t=L.useContext(OE);return t||{...Yr,range:Yr.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const Y8="_hudWrap_107o7_9",X8="_hudBtn_107o7_11",J8="_hudSubBtn_107o7_15",Z8="_iconRow_107o7_19",eF="_segmented_107o7_21",tF="_sortLabel_107o7_27",nF="_sortSelect_107o7_29",sF="_chip_107o7_31",rF="_isActive_107o7_33",xs={hudWrap:Y8,hudBtn:X8,hudSubBtn:J8,iconRow:Z8,segmented:eF,sortLabel:tF,sortSelect:nF,chip:sF,isActive:rF};function iF({active:t=!1,title:e,iconUrl:n,fallback:r="",size:o=40,onClick:l}){const c=Math.round(o*.7),d=Ve.useMemo(()=>{const O=[],V=Qj(n,c*2,c*2,"contain");V&&O.push(V);const A=Nr(n,c*2);return A&&A!==V&&O.push(A),!O.length&&n&&O.push(n),O},[n,c]),[h,p]=Ve.useState(0),[g,v]=Ve.useState(!1),[_,T]=Ve.useState(!1);Ve.useEffect(()=>p(0),[d]);const I=d[h]||"",N={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(N.background="rgba(255,255,255,.04)"),t&&(N.outline="2px solid #5C8BC6");const P={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>T(!0),onBlur:()=>T(!1),style:N,children:I?s.jsx("img",{src:I,alt:e||"class",width:c,height:c,loading:"lazy",style:P,onError:()=>{p(O=>O+1<d.length?O+1:O)}}):s.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function oF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:d,setQuickFav:h,quickActive:p,setQuickActive:g,filterMode:v,setBottomFilterOpen:_,serverSheetOpen:T,setServerSheetOpen:I,resetAll:N}=Gu();return s.jsxs("div",{className:xs.hudWrap,children:[s.jsxs("button",{type:"button",className:xs.hudBtn,onClick:P=>{P.preventDefault(),P.stopPropagation(),I(!0)},"aria-haspopup":"dialog","aria-expanded":T||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:xs.iconRow,children:[cn.map(P=>s.jsx(iF,{active:e.includes(P.key),title:P.label,iconUrl:P.iconUrl,fallback:P.fallback,size:40,onClick:()=>n(O=>O.includes(P.key)?O.filter(V=>V!==P.key):[...O,P.key])},P.key)),s.jsx("button",{type:"button",className:xs.hudSubBtn,onClick:()=>n(cn.map(P=>P.key)),children:"All"}),s.jsx("button",{type:"button",className:xs.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:xs.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(P=>s.jsx("button",{type:"button","aria-pressed":r===P,onClick:()=>o(P),children:P},P))}),s.jsx("label",{className:xs.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:P=>c(P.target.value),className:xs.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${xs.chip} ${d?xs.isActive:""}`,onClick:()=>h(P=>!P),children:" Favorites"}),s.jsx("button",{type:"button",className:`${xs.chip} ${p?xs.isActive:""}`,onClick:()=>g(P=>!P),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:xs.hudSubBtn,onClick:N,children:"Reset"}),v==="sheet"&&s.jsx("button",{type:"button",className:xs.hudBtn,onClick:P=>{P.preventDefault(),P.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const xn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function aF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:d}){const[h,p]=L.useState(""),g=L.useRef(null),[v,_]=L.useState(null),[T,I]=L.useState(!1);L.useEffect(()=>{if(!t)return;const A=x=>{x.key==="Escape"&&e()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,e]),L.useEffect(()=>{if(t&&g.current){const A=g.current.querySelector("#sheet-serversearch");A==null||A.focus()}},[t]);const N=L.useMemo(()=>["EU","US","INT","Fusion"].every(x=>{var w;return!((w=r==null?void 0:r[x])!=null&&w.length)}),[r]);L.useEffect(()=>{if(!t||!N)return;let A=!0;return(async()=>{try{I(!0);const x=await Ar(en(wt,"stats_public","toplists_bundle_v1"));if(!A)return;const w=x.data()||{},R=Array.isArray(w.servers)?w.servers:JSON.parse(w.servers||"[]");_(lF(R))}catch(x){_(null)}finally{A&&I(!1)}})(),()=>{A=!1}},[t,N]);const P=L.useMemo(()=>N?v!=null?v:{EU:[],US:[],INT:[],Fusion:[]}:r,[N,r,v]),O=L.useMemo(()=>Object.keys(P),[P]),V=A=>{const x=h.trim().toLowerCase();return x?A.toLowerCase().includes(x):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:uF,onClick:A=>{A.target===A.currentTarget&&e()},children:s.jsxs("div",{ref:g,style:n==="modal"?UE:dF,className:"sf-server-sheet",children:[s.jsxs("div",{style:hF,children:[s.jsx("h2",{id:"server-dialog-title",style:pF,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:Wb,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:_F,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:A=>p(A.target.value),"aria-label":"Search servers",autoComplete:"off",style:mF})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map(A=>{const x=(P[A]||[]).filter(V);return s.jsxs("section",{"aria-labelledby":`region-${A}`,children:[s.jsxs("div",{style:gF,children:[s.jsxs("h3",{id:`region-${A}`,style:fF,children:[A," ",T&&N?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:xn.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:Wb,onClick:()=>{c?c(A):x.filter(R=>!o.includes(R)).forEach(l)},children:"Select all"})})]}),s.jsxs("div",{style:yF,children:[x.map(w=>{const R=o.includes(w);return s.jsx("button",{type:"button",onClick:()=>l(w),"aria-pressed":R,title:w,style:{...xF,...R?vF:null},children:w},w)}),x.length===0&&s.jsx("div",{style:{color:xn.text2,fontSize:13,padding:"4px 2px"},children:T&&N?"Loading":"No servers found"})]})]},A)})})]})}):null}function lF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(cF)),e}function cF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const uF={position:"fixed",inset:0,background:xn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},UE={width:"min(900px, 100%)",background:xn.tile,border:`1px solid ${xn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:xn.text},dF={...UE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},hF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},pF={fontSize:18,margin:0},fF={fontSize:14,margin:0,color:xn.text2},mF={width:"100%",background:xn.input,color:xn.text,border:`1px solid ${xn.line}`,borderRadius:12,padding:"10px 12px"},gF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},yF={display:"flex",flexWrap:"wrap",gap:8},xF={background:xn.chip,border:`1px solid ${xn.line}`,padding:"6px 10px",borderRadius:999,color:xn.text},vF={outline:`2px solid ${xn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},_F={background:"#25456B",color:xn.text,border:`1px solid ${xn.accent}`,borderRadius:10,padding:"8px 12px"},Wb={background:"transparent",color:xn.text,border:`1px solid ${xn.line}`,borderRadius:10,padding:"8px 12px"},bF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=bF,document.head.appendChild(e)}}const Dn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function wF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:d,quickFav:h,setQuickFav:p,quickActive:g,setQuickActive:v}=Gu(),_=L.useRef(null);return L.useEffect(()=>{if(!t)return;const T=I=>{I.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),L.useEffect(()=>{if(t&&_.current){const T=_.current.querySelector("#sheet-search");T==null||T.focus()}},[t]),t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:jF,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:_,style:SF,children:[s.jsxs("div",{style:EF,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Dn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:kF,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:T=>r(T.target.value),"aria-label":"Search",autoComplete:"off",style:zE})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Dn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(T=>s.jsx("button",{type:"button","aria-pressed":o===T,onClick:()=>l(T),style:{...dg,...o===T?hg:null},children:T},T))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Dn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:T=>d(T.target.value),"aria-label":"Sort",autoComplete:"off",style:TF,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>p(T=>!T),"aria-pressed":h,style:{...dg,...h?hg:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>v(T=>!T),"aria-pressed":g,style:{...dg,...g?hg:null},children:" Active"})]})]})}):null}const jF={position:"fixed",inset:0,background:Dn.backdrop,zIndex:60,display:"grid",alignItems:"end"},SF={background:Dn.tile,borderTop:`1px solid ${Dn.line}`,borderLeft:`1px solid ${Dn.line}`,borderRight:`1px solid ${Dn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Dn.text,maxHeight:"80vh",overflow:"auto"},EF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},zE={width:"100%",background:Dn.input,color:Dn.text,border:`1px solid ${Dn.line}`,borderRadius:12,padding:"10px 12px"},TF={...zE,appearance:"none"},dg={background:"#14273E",border:`1px solid ${Dn.line}`,padding:"6px 10px",borderRadius:999,color:Dn.text},hg={outline:`2px solid ${Dn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},kF={background:"#25456B",color:Dn.text,border:`1px solid ${Dn.accent}`,borderRadius:10,padding:"8px 12px"},CF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=CF,document.head.appendChild(e)}}function IF(){var o;const t=Gu(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,d,h,p,g,v,_;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(h=l.class)!=null?h:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(pg,{children:l.active?"Active":"Idle"}),l.favorite&&s.jsx(pg,{children:" Fav"}),s.jsx(pg,{children:`Scan ${(v=l.lastScanDays)!=null?v:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,d,h,p;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:"","  Lv ",(h=l.level)!=null?h:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function pg({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const HE=L.createContext(null),Gb=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function AF(t,e){return t.timeRange===e.timeRange&&Gb(t.servers,e.servers)&&Gb(t.classes,e.classes)}function RF(t,e){return t.field===e.field&&t.dir===e.dir}function PF({children:t}){const[e,n]=L.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=L.useState({field:"Level",dir:"desc"}),[l,c]=L.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=L.useCallback(v=>{n(_=>{const T=typeof v=="function"?v(_):{..._,...v};return AF(_,T)?_:T})},[]),h=L.useCallback(v=>{o(_=>{const T=typeof v=="function"?v(_):v;return RF(_,T)?_:T})},[]),p=L.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);L.useEffect(()=>{let v=!1;return v||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{v=!0}},[p]);const g=L.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:h}),[l,e,r,d,h]);return s.jsx(HE.Provider,{value:g,children:t})}function NF(){const t=L.useContext(HE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function DF(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function LF(){const t=Gu(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:h,servers:p,setServers:g,classes:v,range:_,sortBy:T}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(Mn,{mode:"card",title:"Top Lists",actions:s.jsx(FF,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(oF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(IF,{}),r==="table"&&s.jsx(PF,{db:wt,children:s.jsx(MF,{servers:p!=null?p:[],classes:v!=null?v:[],range:_!=null?_:"all",sortKey:T!=null?T:"level"})})]}),s.jsx(aF,{mode:"modal",open:d,onClose:()=>h(!1),serversByRegion:xy,selected:p,onToggle:I=>g(N=>N.includes(I)?N.filter(P=>P!==I):[...N,I]),onSelectAllInRegion:I=>g(xy[I]),onClearAll:()=>g([])}),s.jsx(wF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function MF({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=NF(),{loading:d,error:h,data:p,lastUpdated:g}=o;L.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),L.useEffect(()=>{const _=DF(r);c(_)},[r,c]);const v=_=>_==null?"":new Intl.NumberFormat("en").format(_);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":h?"Error":"Ready","  ",p.length," rows"]}),s.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),h&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:h}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[p.map((_,T)=>{var I,N,P;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:_[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(I=_.Guild)!=null?I:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(N=_.Ratio)!=null?N:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(_.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(P=_["Last Scan"])!=null?P:""}),s.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${T}`)}),d&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!h&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function FF(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=Gu();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(qb,{to:"/toplists/players",label:"Players"}),s.jsx(qb,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function qb({to:t,label:e}){return s.jsx(vs,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const VF=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function $F(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),VF.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function BF(t="players"){const e=Eo(),{search:n,pathname:r}=Fs();return[new URLSearchParams(n).get("tab")||t,d=>{const h=new URLSearchParams(n);h.set("tab",d),e(`${r}?${h.toString()}`,{replace:!1})}]}function OF(){const[t,e]=BF("players");return s.jsx(Q8,{children:t==="players"?s.jsx(LF,{tab:t,setTab:e}):s.jsx($F,{tab:t,setTab:e})})}function UF(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function zF(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function HF(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const ut={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Kb({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function WF({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return s.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${ut.tileAlt}, ${ut.active})`,color:ut.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${ut.line}`},"aria-hidden":!0,children:n||"?"})}function GF({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),o=r(t||"");let l=cn.find(p=>r(p.label)===o)||cn.find(p=>r(p.label).startsWith(o)||o.startsWith(r(p.label)));const c=l?Nr(l.iconUrl,n*2):void 0,[d,h]=L.useState(!1);return!c||d?s.jsx(WF,{label:e,size:n}):s.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:s.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>h(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function fg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:ut.tileAlt,border:`1px solid ${ut.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:ut.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:ut.title,fontWeight:700},children:e}),n?s.jsx("div",{style:{fontSize:12,color:ut.textSoft,marginTop:4},children:n}):null]})}function $c({children:t}){return s.jsx("div",{style:{background:ut.tileAlt,padding:15,borderRadius:12,border:`1px solid ${ut.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Th=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},qF=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},KF=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function mg(){var P,O,V,A,x,w,R,E;const t=Iy(),e=t.id||t.pid||t.playerId||t.player||"",n=Eo(),[r,o]=L.useState(!0),[l,c]=L.useState(null),[d,h]=L.useState(null),[p,g]=L.useState("Statistiken");L.useEffect(()=>{let S=!1;async function C(){var F,M,U,$,ue,q,se,ne,Q,oe,ie,G,ee,ye,je,ke,me,Ce,Ae,Ne,lt,Ot,un,Kt;o(!0),c(null);try{const Mt=(e||"").trim();if(!Mt){c("Kein Spieler gewhlt."),o(!1);return}const ss=en(wt,`players/${Mt}/latest/latest`),rs=await Ar(ss);if(!rs.exists()){c("Spieler nicht gefunden."),o(!1);return}const ht=rs.data(),Vs=(U=Th((M=ht.level)!=null?M:(F=ht.values)==null?void 0:F.Level))!=null?U:null,is=((q=(ue=ht.className)!=null?ue:($=ht.values)==null?void 0:$.Class)!=null?q:null)||null,vn=((Q=(ne=ht.guildName)!=null?ne:(se=ht.values)==null?void 0:se.Guild)!=null?Q:null)||null,_n=(G=(ie=ht.name)!=null?ie:(oe=ht.values)==null?void 0:oe.Name)!=null?G:Mt,ws=(je=(ye=ht.server)!=null?ye:(ee=ht.values)==null?void 0:ee.Server)!=null?je:null,os=(Ce=Th((me=ht.totalStats)!=null?me:(ke=ht.values)==null?void 0:ke["Total Stats"]))!=null?Ce:null,as=(Kt=Th((un=(lt=(Ae=ht.values)==null?void 0:Ae.Album)!=null?lt:(Ne=ht.values)==null?void 0:Ne["Album %"])!=null?un:(Ot=ht.values)==null?void 0:Ot.AlbumPct))!=null?Kt:null,js=qF(Th(ht.timestamp));S||h({id:Mt,name:_n,className:is,level:Vs,guild:vn,server:ws,scrapbookPct:as,totalStats:os,lastScanDays:js})}catch(Mt){S||c((Mt==null?void 0:Mt.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return C(),()=>{S=!0}},[e]);const v=L.useMemo(()=>s.jsxs("div",{style:{padding:24,color:ut.textSoft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:ut.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),_=s.jsx("div",{style:{padding:16,color:ut.textSoft},children:"Lade Spielerprofil"}),T=s.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${ut.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:KF.map(S=>{const C=S===p;return s.jsx("button",{role:"tab","aria-selected":C,onClick:()=>g(S),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${C?ut.active:"transparent"}`,background:C?"rgba(45,78,120,0.35)":"transparent",color:ut.title,cursor:"pointer"},children:S},S)})}),I=s.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&s.jsx($c,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&s.jsx($c,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),p==="Fortschritt"&&s.jsx($c,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),p==="Vergleich"&&s.jsx($c,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),p==="Historie"&&s.jsx($c,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),N=r?_:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${ut.line}`},children:s.jsxs(Kb,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(GF,{className:(P=d.className)!=null?P:void 0,label:d.name,size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:ut.title,fontWeight:700},children:d.name}),s.jsxs("div",{style:{fontSize:12,color:ut.textSoft},children:[(O=d.className)!=null?O:"Klasse ?","  ",(V=d.guild)!=null?V:"","  ",(A=d.server)!=null?A:""]})]})]})}),s.jsxs(Kb,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:ut.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${ut.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{children:s.jsx("h2",{style:{margin:0,color:ut.title,fontSize:24,fontWeight:800},children:d.name})}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:ut.textSoft},children:["Zuletzt aktualisiert: ",(x=d.lastScanDays)!=null?x:0," Tag(e) her"]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(fg,{label:"Level",value:(w=d.level)!=null?w:"?"}),s.jsx(fg,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),s.jsx(fg,{label:"Gilde",value:(R=d.guild)!=null?R:"",hint:(E=d.server)!=null?E:""})]}),T,I]})]}):v;return s.jsx(Mn,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:N})}function QF(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Qb,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(Qb,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function Qb({to:t,title:e,desc:n}){return s.jsxs(an,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function YF(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function XF(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function JF(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const ZF={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function e7(t){var n;const e=JF(t);return(n=ZF[e])!=null?n:null}function t7(t,e=128){const n=e7(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=Yj(n),o=Nr(r,e);return{id:n,url:r,thumb:o,fallback:""}}function ku(t,e=128){return t7(t,e).thumb}const Ea={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Yp=(t,e)=>({...t||{},...e||{}}),Yb=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},n7=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),kn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function s7(t){var _,T,I,N,P,O,V,A;const e=kn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=kn(t==null?void 0:t.baseMain),r=kn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const o=(t==null?void 0:t.baseStats)||{},l=kn(o==null?void 0:o.sumBaseTotal);if(l!=null)return l;const c=kn(o==null?void 0:o.main),d=kn(o==null?void 0:o.con);if(c!=null&&d!=null)return c+d;const h=(t==null?void 0:t.values)||{},p=(T=(_=kn(h==null?void 0:h.SumBaseTotal))!=null?_:kn(h==null?void 0:h.sumBaseTotal))!=null?T:kn(h==null?void 0:h["Sum Base Total"]);if(p!=null)return p;const g=(P=(N=(I=kn(h==null?void 0:h.Main))!=null?I:kn(h==null?void 0:h.main))!=null?N:kn(h==null?void 0:h.BaseMain))!=null?P:kn(h==null?void 0:h.baseMain),v=(A=(V=(O=kn(h==null?void 0:h.Con))!=null?O:kn(h==null?void 0:h.con))!=null?V:kn(h==null?void 0:h.ConBase))!=null?A:kn(h==null?void 0:h.conBase);return g!=null&&v!=null?g+v:null}function na(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function r7(t,e=56){if(!t)return;const n=na(t),r=cn.find(o=>na(o.label)===n||na(o.key)===n)||cn.find(o=>na(o.label).startsWith(n)||n.startsWith(na(o.label))||na(o.key).startsWith(n)||n.startsWith(na(o.key)));return r?Nr(r.iconUrl,e):void 0}function i7({name:t,memberClass:e,online:n,theme:r=Ea}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=r7(e,56);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const o7={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},a7=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(o7[t]||""),children:t});function Xb(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function l7(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,o=e!=null?e:n!=null&&r!=null?n+r:null;return o!=null?o.toLocaleString("de-DE"):""}function kh({label:t,value:e,theme:n=Ea}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function c7({member:t,theme:e,actions:n,extraKPIs:r}){var g,v,_,T,I,N,P,O,V;if(!t)return null;const o=Yp(Ea,e),l=t,c=Xb((v=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?v:null,(_=l.guildJoinedMs)!=null?_:null),d=Xb((T=l.lastActivity)!=null?T:null,(I=l.lastActivityMs)!=null?I:typeof l.lastOnline=="number"?l.lastOnline:null),h=l7(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${o.border}, 0 0 160px 16px ${o.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(i7,{name:t.name,memberClass:(O=(P=l.class)!=null?P:(N=l.values)==null?void 0:N.Class)!=null?O:null,online:l.online,theme:o})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:o.title},children:t.name}),l.role&&s.jsx(a7,{role:l.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:o.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(kh,{label:"Level",value:(V=l.level)!=null?V:"",theme:o}),typeof l.scrapbook=="number"&&s.jsx(kh,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:o}),s.jsx(kh,{label:"Sum Base",value:h,theme:o}),s.jsx(kh,{label:"Total Stats",value:p,theme:o}),r]})]})}function sa(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function u7(t,e=40){if(!t)return;const n=sa(t);let r=cn.find(o=>sa(o.label)===n||sa(o.key)===n)||cn.find(o=>sa(o.label).startsWith(n)||n.startsWith(sa(o.label))||sa(o.key).startsWith(n)||n.startsWith(sa(o.key)));return r?Nr(r.iconUrl,e):void 0}function d7({name:t,memberClass:e,online:n,theme:r=Ea}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=u7(e,40);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const h7=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function p7({rows:t,selId:e,onSelect:n,rightCols:r,theme:o}){const l=Yp(Ea,o);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,d)=>{var h,p,g;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(d7,{name:c.name,memberClass:(g=(p=c.class)!=null?p:(h=c.values)==null?void 0:h.Class)!=null?g:null,online:c.online,theme:l}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(h7,{role:c.role})}),r(c)]},c.id)})]})]})}function ra(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function f7(t,e=40){if(!t)return;const n=ra(t);let r=cn.find(o=>ra(o.label)===n||ra(o.key)===n)||cn.find(o=>ra(o.label).startsWith(n)||n.startsWith(ra(o.label))||ra(o.key).startsWith(n)||n.startsWith(ra(o.key)));return r?Nr(r.iconUrl,e):void 0}function m7({rows:t,selId:e,onSelect:n,footer:r,theme:o}){const l=Yp(Ea,o);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var _,T,I,N,P,O,V,A,x;const d=c,h=c.name.slice(0,2).toUpperCase(),p=f7((I=(T=d.class)!=null?T:(_=d.values)==null?void 0:_.Class)!=null?I:null,40),g=typeof d.level=="number"?d.level:typeof((N=d.values)==null?void 0:N.Level)=="number"?d.values.Level:"",v=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((P=d.values)==null?void 0:P.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p?s.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const R=w.currentTarget.parentElement;R&&(R.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${h}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:h}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(A=(V=d.class)!=null?V:(O=d.values)==null?void 0:O.Class)!=null?A:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(x=d.role)!=null?x:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),v&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:v})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function g7({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:o=!0,selectedId:l,onSelect:c,renderActions:d,renderKPIs:h,theme:p}){var F;const g=L.useMemo(()=>Yp(Ea,p),[p]),[v,_]=L.useState(e),[T,I]=L.useState(n),[N,P]=L.useState(r.key),[O,V]=L.useState(r.dir),[A,x]=L.useState((F=t[0])==null?void 0:F.id),w=l!=null?l:A,R=M=>{l||x(M);const U=t.find($=>$.id===M);U&&c&&c(U)},E=L.useMemo(()=>{const M=T.trim().toLowerCase();return M?t.filter(U=>U.name.toLowerCase().includes(M)||U.class.toLowerCase().includes(M)||String(U.role).toLowerCase().includes(M)):t},[t,T]),S=L.useMemo(()=>{const M=O==="asc"?1:-1,U=$=>{var ue,q;switch(N){case"sumBaseStats":{const se=s7($);return se==null?-1/0:se}case"totalStats":return(q=(ue=$.totalStats)!=null?ue:n7($.baseStats))!=null?q:-1/0;default:return $[N]}};return[...E].sort(($,ue)=>{const q=U($),se=U(ue);return q===se?0:q>se?M:-M})},[E,N,O]),C=L.useMemo(()=>S.find(M=>M.id===w)||S[0],[S,w]);return s.jsxs("div",{children:[o&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),s.jsxs("select",{value:v,onChange:M=>_(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),s.jsx("input",{value:T,onChange:M=>I(M.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),s.jsxs("select",{value:String(N),onChange:M=>P(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>V(M=>M==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:O==="asc"?"":""})]})]}),s.jsx(c7,{member:C,actions:C&&(d?d(C):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:C&&h?h(C):null,theme:g}),v==="list"?s.jsx(p7,{rows:S,selId:w,onSelect:R,theme:g,rightCols:M=>{var U;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(U=M.level)!=null?U:""}),s.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:Yb(M.lastOnline)})]})}}):s.jsx(m7,{rows:S,selId:w,onSelect:R,theme:g,footer:M=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:s.jsxs("span",{children:["Last ",Yb(M.lastOnline)]})})})]})}function y7({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:o,avgLevel:l,totalPower:c,activity7d:d,topClasses:h,tickerItems:p,href:g,onClick:v,className:_}){const T=ME(),I=L.useMemo(()=>{if(!r)return null;const U=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(U/6e4));if($<60)return`${$}m`;const ue=Math.floor($/60);return ue<24?`${ue}h`:`${Math.floor(ue/24)}d`},[r]),N=Jc(0),P=Jc(0),O=Jc(0),V=Jc(0),A=wh(N,U=>Math.round(U).toString()),x=wh(P,U=>Math.round(U).toString()),w=wh(O,U=>Math.round(U).toLocaleString()),R=wh(V,U=>`${Math.round(U)}%`);L.useEffect(()=>{const U=T?0:.6;if(U===0){N.set(o),P.set(l),O.set(c!=null?c:0),V.set(d!=null?d:0);return}const $=[jh(N,o,{duration:U}),jh(P,l,{duration:U}),jh(O,c!=null?c:0,{duration:U}),jh(V,d!=null?d:0,{duration:U})];return()=>$.forEach(ue=>ue.stop())},[o,l,c,d,T]);const E=L.useRef(null);L.useEffect(()=>{if(T||!E.current)return;const U=E.current;let $=0,ue=0;const q=()=>{ue+=.016;const se=ue*14%140-20;U.style.setProperty("--s-x",`${se}%`),$=requestAnimationFrame(q)};return $=requestAnimationFrame(q),()=>cancelAnimationFrame($)},[T]);const S={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},C=100,F=g?"a":"div",M=g?{href:g}:{onClick:v};return s.jsxs(F,{...M,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",_!=null?_:""].join(" "),style:{background:`linear-gradient(135deg, ${S.bgFrom}, ${S.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),I&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:S.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${S.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",I]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${C}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${C}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${C}deg, transparent 0 46px, ${S.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:S.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:S.soft,border:`1px solid ${S.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Ch,{label:"Members",value:A}),s.jsx(Ch,{label:" Level",value:x}),s.jsx(Ch,{label:"Total Power",value:w}),typeof d=="number"&&s.jsx(Ch,{label:"Activity (7d)",value:R})]}),h!=null&&h.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:S.soft},children:"Top Classes"}),h.slice(0,3).map(U=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${S.border}`,color:S.text},children:[U.iconUrl?s.jsx("img",{src:U.iconUrl,alt:U.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:S.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[U.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(U.percent),"%)"]})]})]},U.key))]}):null]})]})]}),p!=null&&p.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${S.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(x7,{items:p,muted:T,color:S.soft})}):null]})}function Ch({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(DE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function x7({items:t,muted:e,color:n}){const r=L.useRef(null);return L.useEffect(()=>{if(e||!r.current)return;const o=r.current;let l=0,c=0;const d=()=>{l+=.016;const h=l*40%(o.scrollWidth+60);o.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((o,l)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:o},l))})})}const v7="_wrap_q5gkc_53",_7="_banner_q5gkc_59",b7="_bannerRowTop_q5gkc_61",w7="_bannerStripe_q5gkc_71",j7="_bannerTitle_q5gkc_79",S7="_bannerRowBottom_q5gkc_93",E7="_bannerSub_q5gkc_95",T7="_monthPickerWrap_q5gkc_101",k7="_monthPickerLabel_q5gkc_113",C7="_monthPicker_q5gkc_101",I7="_monthButton_q5gkc_131",A7="_monthButtonText_q5gkc_159",R7="_chev_q5gkc_161",P7="_monthList_q5gkc_165",N7="_monthOption_q5gkc_195",D7="_monthBadge_q5gkc_221",L7="_gridRow_q5gkc_237",M7="_gridRowBottom_q5gkc_239",F7="_sideImage_q5gkc_253",V7="_sideImagePh_q5gkc_271",$7="_emblemPanel_q5gkc_275",B7="_emblemFrame_q5gkc_295",O7="_emblemImg_q5gkc_297",U7="_emblemPlaceholder_q5gkc_299",z7="_emblemShimmer_q5gkc_307",H7="_emblemCaption_q5gkc_315",W7="_card_q5gkc_319",G7="_cardHeader_q5gkc_331",q7="_cardTitle_q5gkc_339",K7="_cardSubtitle_q5gkc_341",Q7="_headerRight_q5gkc_343",Y7="_cardBody_q5gkc_345",X7="_tableWrap_q5gkc_349",J7="_tableTitle_q5gkc_351",Z7="_table_q5gkc_349",eV="_th_q5gkc_355",tV="_td_q5gkc_355",nV="_tdEmpty_q5gkc_365",sV="_sectionDivider_q5gkc_375",rV="_sectionStripe_q5gkc_389",iV="_sectionTitle_q5gkc_397",$e={wrap:v7,banner:_7,bannerRowTop:b7,bannerStripe:w7,bannerTitle:j7,bannerRowBottom:S7,bannerSub:E7,monthPickerWrap:T7,monthPickerLabel:k7,monthPicker:C7,monthButton:I7,monthButtonText:A7,chev:R7,monthList:P7,monthOption:N7,monthBadge:D7,gridRow:L7,gridRowBottom:M7,sideImage:F7,sideImagePh:V7,emblemPanel:$7,emblemFrame:B7,emblemImg:O7,emblemPlaceholder:U7,emblemShimmer:z7,emblemCaption:H7,card:W7,cardHeader:G7,cardTitle:q7,cardSubtitle:K7,headerRight:Q7,cardBody:Y7,tableWrap:X7,tableTitle:J7,table:Z7,th:eV,td:tV,tdEmpty:nV,sectionDivider:sV,sectionStripe:rV,sectionTitle:iV};function oV(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function Jb(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Zb=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:$e.card,children:[(t||e||r)&&s.jsxs("header",{className:$e.cardHeader,children:[s.jsxs("div",{className:$e.headerTitles,children:[t&&s.jsx("h3",{className:$e.cardTitle,children:t}),e&&s.jsx("div",{className:$e.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:$e.headerRight,children:r})]}),s.jsx("div",{className:$e.cardBody,children:n})]}),e2=({block:t})=>{var r,o;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:$e.tableWrap,role:"region","aria-label":(o=t.title)!=null?o:"table",children:[t.title&&s.jsx("div",{className:$e.tableTitle,children:t.title}),s.jsxs("table",{className:$e.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(l=>s.jsx("th",{className:$e.th,style:{width:l.width},children:l.label},l.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:$e.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var d;return s.jsx("tr",{children:e.map(h=>{var _;const p=l[h.key],g=typeof p=="number"||typeof p=="string"?p:"",v=h.format==="num"?oV(g):g;return s.jsx("td",{className:$e.td,"data-align":(_=h.align)!=null?_:"left",children:h.render?h.render(l):v},h.key)})},(d=l.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:$e.tableFooter,children:t.footer})]})},aV=(t,e)=>{L.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},lV=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:$e.bannerSub,children:r!=null?r:""});const l=L.useRef(null),[c,d]=L.useState(!1);aV(l,()=>d(!1));const h=t.find(v=>v.key===e),p=h?`${Jb(h.fromISO)}${Jb(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:$e.monthPickerWrap,children:[s.jsx("div",{className:$e.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:$e.monthPicker,ref:l,children:[s.jsxs("button",{type:"button",className:$e.monthButton,onClick:()=>d(v=>!v),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:$e.monthButtonText,children:(g=h==null?void 0:h.label)!=null?g:""}),s.jsx("svg",{className:$e.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:$e.monthList,role:"listbox",children:t.map(v=>s.jsx("li",{children:s.jsx("button",{type:"button",className:$e.monthOption,onClick:()=>{d(!1),n==null||n(v.key)},role:"option","aria-selected":v.key===e,children:v.label})},v.key))})]}),p&&s.jsx("span",{className:$e.monthBadge,children:p})]})},cV=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:o})=>s.jsxs("div",{className:$e.banner,children:[s.jsxs("div",{className:$e.bannerRowTop,children:[s.jsx("div",{className:$e.bannerStripe}),s.jsx("div",{className:$e.bannerTitle,children:t}),s.jsx("div",{className:$e.bannerStripe})]}),s.jsx("div",{className:$e.bannerRowBottom,children:s.jsx(lV,{months:n,currentKey:r,onChange:o,fallbackDate:e})})]}),uV=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:$e.emblemPanel,children:[s.jsxs("div",{className:$e.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:$e.emblemImg}):s.jsx("div",{className:$e.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:$e.emblemShimmer})]}),e&&s.jsx("div",{className:$e.emblemCaption,children:e})]}),t2=({imgUrl:t,alt:e})=>s.jsx("div",{className:$e.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:$e.sideImagePh,children:"Image"})}),gg=({children:t,className:e})=>s.jsx("div",{className:`${$e.gridRow} ${e!=null?e:""}`,children:t}),dV=({children:t})=>s.jsxs("div",{className:$e.sectionDivider,children:[s.jsx("div",{className:$e.sectionStripe}),s.jsx("div",{className:$e.sectionTitle,children:t}),s.jsx("div",{className:$e.sectionStripe})]}),hV=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:o,tablesBottom:l}=t;return s.jsxs("div",{className:$e.wrap,children:[s.jsx(cV,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(gg,{children:[s.jsx(t2,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(uV,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(t2,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(gg,{children:o.map((c,d)=>s.jsx(Zb,{title:c.title,subtitle:c.subtitle,children:s.jsx(e2,{block:c})},d))}),s.jsx(dV,{children:"Guild Overview"}),s.jsx(gg,{className:$e.gridRowBottom,children:l.map((c,d)=>s.jsx(Zb,{title:c.title,subtitle:c.subtitle,children:s.jsx(e2,{block:c})},d))})]})},pV=({guildId:t,guildName:e,guildServer:n})=>{const[r,o]=L.useState(!0),[l,c]=L.useState(null),[d,h]=L.useState(void 0),p=L.useRef({}),[g,v]=L.useState(()=>Ih(e,n));L.useEffect(()=>{let T=!1;async function I(){var N,P,O,V,A;o(!0);try{const x=a0(wt,`guilds/${t}/history_monthly`),w=await Ci(x),R=[];for(const C of w.docs){const F=C.id,M=C.data();if(!M)continue;p.current[F]=M;const U=(N=M==null?void 0:M.meta)!=null?N:{},$=U.fromISO||U.baselineISO||U.firstISO||"",ue=U.toISO||U.latestISO||U.nowISO||"",q=Number((P=U.daysSpan)!=null?P:Math.floor((+new Date(ue)-+new Date($))/864e5))||0,se=!!((V=(O=M==null?void 0:M.status)==null?void 0:O.available)!=null?V:$&&ue&&q<=40),ne=U.label||new Date(F+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});R.push({key:F,label:ne,fromISO:$||new Date(F+"-01").toISOString(),toISO:ue||new Date(F+"-28").toISOString(),daysSpan:q,available:se,reason:se||(A=M==null?void 0:M.status)==null?void 0:A.reason})}if(R.sort((C,F)=>C.key<F.key?1:-1),T)return;if(R.length===0){c(null),h(void 0),v(Ih(e,n)),o(!1);return}c(R);const E=R[0].key;h(E);const S=p.current[E];v(n2(S,{guildName:e,guildServer:n,currentMonthKey:E,months:R}))}catch(x){console.error(x),c(null),h(void 0),v(Ih(e,n))}finally{T||o(!1)}}return I(),()=>{T=!0}},[t,e,n]);async function _(T){h(T);let I=p.current[T];if(!I)try{const N=en(wt,`guilds/${t}/history_monthly/${T}`),P=await Ar(N);P.exists()?(I=P.data(),p.current[T]=I):I=null}catch(N){console.error(N),I=null}if(!I){v(Ih(e,n,{currentMonthKey:T,months:l!=null?l:void 0}));return}v(n2(I,{guildName:e,guildServer:n,currentMonthKey:T,months:l!=null?l:void 0}))}return s.jsx(hV,{data:g,onMonthChange:_})};function Ih(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:ku(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[ia("Most Base Stats gained",e?`Server ${e}`:void 0),ia("Sum Base Stats"),ia("Highest Base Stats")],tablesBottom:[ia("Main & Con"),ia("Sum Base Stats"),ia("Highest Base Stats"),ia("Highest Total Stats")]}}function ia(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function n2(t,e){var c,d,h,p,g,v,_,T;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:ku(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],o=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((I,N)=>{var P,O,V,A,x,w,R,E;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",level:(A=(V=I.levelLatest)!=null?V:I.level)!=null?A:null,base:(w=(x=I.baseLatest)!=null?x:I.base)!=null?w:null,delta:(E=(R=I.baseDelta)!=null?R:I.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((I,N)=>{var P,O,V,A,x,w,R;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",base:(V=I.base)!=null?V:null,stam:(x=(A=I.stamDelta)!=null?A:I.staminaDelta)!=null?x:null,sho:(R=(w=I.shoDelta)!=null?w:I.shootingDelta)!=null?R:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((I,N)=>{var P,O,V,A,x;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",stats:(A=(V=I.stats)!=null?V:I.base)!=null?A:null,delta:(x=I.delta)!=null?x:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((I,N)=>{var P,O,V,A,x,w;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",class:(A=(V=I.class)!=null?V:I.className)!=null?A:"",stats:(x=I.stats)!=null?x:null,delta:(w=I.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((v=t==null?void 0:t.sumBaseStats)!=null?v:[]).map((I,N)=>{var P,O,V,A,x;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",base:(V=I.base)!=null?V:null,stam:(A=I.stamDelta)!=null?A:null,sho:(x=I.shoDelta)!=null?x:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((_=t==null?void 0:t.highestBaseStats)!=null?_:[]).map((I,N)=>{var P,O,V,A;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",stats:(V=I.stats)!=null?V:null,delta:(A=I.delta)!=null?A:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((T=t==null?void 0:t.highestTotalStats)!=null?T:[]).map((I,N)=>{var P,O,V,A;return{id:(P=I.playerId)!=null?P:N,rank:N+1,name:(O=I.name)!=null?O:"-",total:(V=I.total)!=null?V:null,delta:(A=I.delta)!=null?A:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:o,tablesBottom:l}}const fV="_root_r1uj3_5",mV="_sectionDivider_r1uj3_17",gV="_sectionStripe_r1uj3_31",yV="_sectionTitle_r1uj3_33",Bc={root:fV,sectionDivider:mV,sectionStripe:gV,sectionTitle:yV},xV="_root_4jywc_1",vV="_accent_4jywc_31",s2={root:xV,default:"_default_4jywc_29",accent:vV};function So({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${s2.root} ${s2[e]} ${n!=null?n:""}`.trim(),children:t})}const Ah=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function WE(t,e=64){if(!t)return;const n=Ah(t);let r=cn.find(o=>Ah(o.label)===n);return r||(r=cn.find(o=>Ah(o.label).startsWith(n)||n.startsWith(Ah(o.label)))),r?Nr(r.iconUrl,e):void 0}const _V="_card_vvv3s_3",bV="_wrap_vvv3s_31",wV="_divider_vvv3s_45",jV="_rows_vvv3s_77",SV="_row_vvv3s_77",EV="_left_vvv3s_109",TV="_label_vvv3s_111",kV="_avgHead_vvv3s_113",CV="_avgNum_vvv3s_115",IV="_top3_vvv3s_121",AV="_chip_vvv3s_123",RV="_badge_vvv3s_151",PV="_name_vvv3s_159",NV="_score_vvv3s_161",DV="_headerSpacer_vvv3s_167",Zn={card:_V,wrap:bV,divider:wV,rows:jV,row:SV,left:EV,label:TV,avgHead:kV,avgNum:CV,top3:IV,chip:AV,badge:RV,name:PV,score:NV,headerSpacer:DV};function LV({name:t,value:e,classLabel:n,colors:r}){const o=WE(n,64);return s.jsxs("div",{className:Zn.chip,children:[s.jsx("span",{className:Zn.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:Zn.name,children:t!=null?t:""}),s.jsx("span",{className:Zn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function MV({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=h[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:o("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:o("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:o("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:Zn.card,children:[s.jsx(So,{text:n}),s.jsx("div",{className:Zn.headerSpacer}),s.jsxs("div",{className:Zn.wrap,children:[s.jsx("div",{className:Zn.divider}),s.jsx("div",{className:Zn.rows,children:l.map((d,h)=>s.jsxs("div",{className:Zn.row,children:[s.jsxs("div",{className:Zn.left,children:[s.jsx("div",{className:Zn.label,children:d.label}),s.jsx("div",{className:Zn.avgHead,children:""}),s.jsx("div",{className:Zn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Zn.top3,children:d.list.map((p,g)=>s.jsx(LV,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},h))})]})]})}const FV="_card_1enwc_1",VV="_wrap_1enwc_1",$V="_divider_1enwc_1",BV="_rows_1enwc_1",OV="_row_1enwc_1",UV="_left_1enwc_1",zV="_label_1enwc_1",HV="_avgHead_1enwc_1",WV="_avgNum_1enwc_1",GV="_top3_1enwc_1",qV="_chip_1enwc_1",KV="_badge_1enwc_1",QV="_name_1enwc_1",YV="_score_1enwc_1",XV="_headerSpacer_1enwc_1",es={card:FV,wrap:VV,divider:$V,rows:BV,row:OV,left:UV,label:zV,avgHead:HV,avgNum:WV,top3:GV,chip:qV,badge:KV,name:QV,score:YV,headerSpacer:XV};function JV({name:t,value:e,classLabel:n,colors:r}){const o=WE(n,64);return s.jsxs("div",{className:es.chip,children:[s.jsx("span",{className:es.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:es.name,children:t!=null?t:""}),s.jsx("span",{className:es.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function ZV({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=h[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:o("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:o("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:o("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:es.card,children:[s.jsx(So,{text:n}),s.jsx("div",{className:es.headerSpacer}),s.jsxs("div",{className:es.wrap,children:[s.jsx("div",{className:es.divider}),s.jsx("div",{className:es.rows,children:l.map((d,h)=>s.jsxs("div",{className:es.row,children:[s.jsxs("div",{className:es.left,children:[s.jsx("div",{className:es.label,children:d.label}),s.jsx("div",{className:es.avgHead,children:""}),s.jsx("div",{className:es.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:es.top3,children:d.list.map((p,g)=>s.jsx(JV,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},h))})]})]})}function e$({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(So,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function t$({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(So,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function n$({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(So,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function s$({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(So,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const r$=L.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:o}){const l=o.icon,c=({text:d})=>s.jsxs("div",{className:Bc.sectionDivider,children:[s.jsx("div",{className:Bc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),s.jsx("div",{className:Bc.sectionTitle,style:{color:o.soft},children:d}),s.jsx("div",{className:Bc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return s.jsxs("div",{className:Bc.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(e$,{guild:e,snapshot:n,colors:o}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(MV,{snapshot:n,colors:o}),s.jsx(ZV,{snapshot:n,colors:o})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(t$,{colors:o}),s.jsx(n$,{colors:o})]}),s.jsx("div",{className:"mt-4",children:s.jsx(s$,{colors:o})})]})}),i$="_wrapper_zqchq_3",o$="_grid_zqchq_9",a$="_tile_zqchq_13",l$="_disabled_zqchq_37",c$="_crestWrap_zqchq_41",u$="_crest_zqchq_41",d$="_ring_zqchq_53",h$="_badge_zqchq_55",p$="_meta_zqchq_67",f$="_nameRow_zqchq_69",m$="_name_zqchq_69",g$="_share_zqchq_73",y$="_sub_zqchq_75",x$="_tileButton_zqchq_79",v$="_donutCard_zqchq_85",_$="_donutHeader_zqchq_87",b$="_legend_zqchq_91",w$="_legendItem_zqchq_93",j$="_legendSwatch_zqchq_95",S$="_legendRight_zqchq_97",E$="_centerLabel_zqchq_101",Nt={wrapper:i$,grid:o$,tile:a$,disabled:l$,crestWrap:c$,crest:u$,ring:d$,badge:h$,meta:p$,nameRow:f$,name:m$,share:g$,sub:y$,tileButton:x$,donutCard:v$,donutHeader:_$,legend:b$,legendItem:w$,legendSwatch:j$,legendRight:S$,centerLabel:E$},vy=56;function gp(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function r2(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const T$=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function k$(t){return t?/drive\.google\.com/.test(t):!1}function i2(t,e=vy){if(t)return k$(t)?Nr(t,e):t}function C$(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function I$(t){var g,v,_,T,I,N;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,o=(v=e.label)!=null?v:n.name,l=(T=(_=n.crestUrl)!=null?_:e.iconUrl)!=null?T:n.iconUrl,c=(I=e.iconUrl)!=null?I:n.iconUrl,d=(N=e.fallback)!=null?N:n.fallback;if(!r||!o)return null;const h=i2(l,vy),p=i2(c,vy);return{id:r,name:String(o),crestUrl:h||p,iconUrl:p||h,fallback:d?String(d):void 0}}function GE(t,e){var g,v,_,T,I,N,P,O,V,A,x,w,R,E,S,C,F,M,U,$,ue;const n={},r={},o={},l={},c=e.map(q=>q.id);for(const q of c)n[q]=0,r[q]=0,o[q]=0,l[q]=null;for(const q of Array.isArray(t)?t:[]){const se=(w=(A=(O=(N=(T=(_=(v=(g=q.classId)!=null?g:q.class)!=null?v:q.klass)!=null?_:q.playerClass)!=null?T:q.cls)!=null?N:(I=q.values)==null?void 0:I.Class)!=null?O:(P=q.values)==null?void 0:P.class)!=null?A:(V=q.values)==null?void 0:V.Klasse)!=null?w:(x=q.values)==null?void 0:x.klasse,ne=C$(se);if(!ne||!c.includes(ne))continue;n[ne]+=1;const Q=T$((C=(E=q.level)!=null?E:(R=q.values)==null?void 0:R.Level)!=null?C:(S=q.values)==null?void 0:S.level);Q!=null&&(r[ne]+=Q,o[ne]+=1,(!l[ne]||((M=(F=l[ne])==null?void 0:F.level)!=null?M:-1/0)<Q)&&(l[ne]={id:q.id,name:(ue=($=q.name)!=null?$:(U=q.values)==null?void 0:U.Name)!=null?ue:null,level:Q}))}const d=Object.values(n).reduce((q,se)=>q+se,0),h={},p={};return c.forEach(q=>{h[q]=d>0?n[q]/d*100:0,p[q]=o[q]>0?r[q]/o[q]:null}),{counts:n,shares:h,avg:p,top:l}}const A$=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:Nt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},R$=({data:t,classMeta:e,onPickClass:n})=>{const[r,o]=L.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:h,avg:p,top:g}=L.useMemo(()=>GE(l,c),[l,c]);return s.jsx("section",{className:Nt.wrapper,children:s.jsx("div",{className:Nt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(v=>{var V,A,x;const _=(V=d[v.id])!=null?V:0,T=(A=h[v.id])!=null?A:0,I=p[v.id],N=g[v.id],P=_<=0,O=r[v.id]?void 0:v.crestUrl||v.iconUrl;return s.jsxs("div",{className:`${Nt.tile} ${P?Nt.disabled:""}`,title:P?`${v.name}: kein Mitglied`:`${v.name}  ${r2(_)}  ${gp(T)}${I?`   ${I.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:Nt.crestWrap,children:[O?s.jsx("img",{className:Nt.crest,src:O,alt:v.name,onError:()=>o(w=>({...w,[v.id]:!0}))}):s.jsx("div",{className:Nt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(x=v.fallback)!=null?x:""}),s.jsx(A$,{valuePct:T}),s.jsx("div",{className:Nt.badge,children:r2(_)})]}),s.jsxs("div",{className:Nt.meta,children:[s.jsxs("div",{className:Nt.nameRow,children:[s.jsx("div",{className:Nt.name,children:v.name}),s.jsx("div",{className:Nt.share,children:gp(T)})]}),s.jsxs("div",{className:Nt.sub,children:[I?` Lvl ${I.toFixed(1)}`:"",N?`  Top: ${N.name}${N.level?` (Lv ${N.level})`:""}`:""]})]}),!P&&n&&s.jsx("button",{className:Nt.tileButton,onClick:()=>n(v.id),"aria-label":`${v.name} filtern`})]},v.id)})})})},P$=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:o,counts:l}=L.useMemo(()=>GE(n,r),[n,r]),c=L.useMemo(()=>Object.values(l).reduce((d,h)=>d+h,0),[l]);return s.jsxs("div",{className:Nt.donutCard,children:[s.jsxs("div",{className:Nt.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:Nt.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const v=Math.PI*2,_=r.map((I,N)=>{var P;return{id:I.id,pct:(P=o[I.id])!=null?P:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*N)} 60% 55%)`}});let T=0;return _.map(I=>{const N=(I.pct||0)/100;if(N<=0)return null;const P=T,O=T+v*N;T=O;const V=O-P>Math.PI?1:0,A=130+100*Math.cos(P),x=130+100*Math.sin(P),w=130+100*Math.cos(O),R=130+100*Math.sin(O),E=130+64*Math.cos(O),S=130+64*Math.sin(O),C=130+64*Math.cos(P),F=130+64*Math.sin(P),M=`M ${A} ${x} A 100 100 0 ${V} 1 ${w} ${R} L ${E} ${S} A 64 64 0 ${V} 0 ${C} ${F} Z`;return s.jsx("path",{d:M,fill:I.color,opacity:.95},I.id)})})()]}),s.jsx("div",{className:Nt.legend,children:r.map((d,h)=>{var v,_;const p=(v=o[d.id])!=null?v:0,g=(_=l[d.id])!=null?_:0;return s.jsxs("div",{className:Nt.legendItem,title:`${d.name}: ${g}  ${gp(p)}`,children:[s.jsx("span",{className:Nt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:Nt.legendRight,children:[g,"  ",gp(p)]})]},d.id)})})]}),s.jsx("div",{className:Nt.centerLabel,children:"Anteile je Klasse"})]})},Zt={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},yg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},N$=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function qE({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Zt.tile,border:`1px solid ${Zt.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Zt.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Zt.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Oc({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:Zt.title},children:e})]})}function D$({guild:t}){var n,r;const e=ku(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:o=>o.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(qE,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Oc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Oc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Oc,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Oc,{k:"Inaktiv",v:"0"}),s.jsx(Oc,{k:"Aktivitt",v:"100%"})]})})]})}function xg(){var N,P,O,V,A,x,w,R,E;const t=Iy(),e=t.id||t.gid||t.guildId||t.guild||"",n=Eo(),[r,o]=L.useState(!0),[l,c]=L.useState(null),[d,h]=L.useState(null),[p,g]=L.useState(null),[v,_]=L.useState("grid"),T=L.useMemo(()=>(Array.isArray(cn)?cn:[]).map(I$).filter(Boolean),[]);if(L.useEffect(()=>{let S=!1;async function C(){var F,M,U,$,ue,q,se,ne,Q,oe,ie,G,ee,ye,je,ke,me,Ce,Ae,Ne,lt,Ot,un,Kt,Mt,ss,rs,ht,Vs,is,vn,_n,ws,os,as,js,yt;o(!0),c(null);try{const tt=e.trim();if(!tt){c("Keine Gilde gewhlt."),o(!1);return}const ls=en(wt,`guilds/${tt}/latest/latest`),ar=await Ar(ls);if(!ar.exists()){c("Gilde nicht gefunden."),o(!1);return}const pt=ar.data(),$s=(U=(M=pt.name)!=null?M:(F=pt.values)==null?void 0:F.Name)!=null?U:tt,Bs=(q=(ue=pt.server)!=null?ue:($=pt.values)==null?void 0:$.Server)!=null?q:null,Dr=(ie=yg((oe=(ne=pt.memberCount)!=null?ne:(se=pt.values)==null?void 0:se["Guild Member Count"])!=null?oe:(Q=pt.values)==null?void 0:Q.GuildMemberCount))!=null?ie:null,Lr=(Ne=yg((Ae=(me=(je=(ee=pt.hofRank)!=null?ee:(G=pt.values)==null?void 0:G["Hall of Fame Rank"])!=null?je:(ye=pt.values)==null?void 0:ye.HoF)!=null?me:(ke=pt.values)==null?void 0:ke.Rank)!=null?Ae:(Ce=pt.values)==null?void 0:Ce["Guild Rank"]))!=null?Ne:null,Mr=N$(yg(pt.timestamp));S||h({id:tt,name:$s,server:Bs,memberCount:Dr,hofRank:Lr,lastScanDays:Mr});const Fr=en(wt,`guilds/${tt}/snapshots/members_summary`),Ss=await Ar(Fr);if(Ss.exists()&&!S){const xt=Ss.data(),lr={guildId:String((lt=xt.guildId)!=null?lt:tt),updatedAt:String((Kt=(un=xt.updatedAt)!=null?un:(Ot=pt.values)==null?void 0:Ot.Timestamp)!=null?Kt:""),updatedAtMs:Number((ss=(Mt=xt.updatedAtMs)!=null?Mt:pt.timestamp*1e3)!=null?ss:0),count:Number((rs=xt.count)!=null?rs:0),hash:String((ht=xt.hash)!=null?ht:""),avgLevel:(Vs=xt.avgLevel)!=null?Vs:null,avgTreasury:(is=xt.avgTreasury)!=null?is:null,avgMine:(vn=xt.avgMine)!=null?vn:null,avgBaseMain:(_n=xt.avgBaseMain)!=null?_n:null,avgConBase:(ws=xt.avgConBase)!=null?ws:null,avgSumBaseTotal:(os=xt.avgSumBaseTotal)!=null?os:null,avgAttrTotal:(as=xt.avgAttrTotal)!=null?as:null,avgConTotal:(js=xt.avgConTotal)!=null?js:null,avgTotalStats:(yt=xt.avgTotalStats)!=null?yt:null,members:Array.isArray(xt.members)?xt.members:[]};g(lr)}}catch(tt){S||c((tt==null?void 0:tt.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return C(),()=>{S=!0}},[e]),L.useMemo(()=>{var S;return(S=p==null?void 0:p.members)!=null?S:[]},[p]),r)return s.jsx(Mn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:Zt.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(Mn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:Zt.soft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const I=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Zt.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Zt.tile,border:`1px solid ${Zt.line}`,color:Zt.title},children:(N=d.server)!=null?N:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:Zt.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Zt.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:Zt.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(Mn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[I,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(D$,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(r$,{guild:d,snapshot:p,emblemUrl:ku(d.name,512)||void 0,colors:Zt}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(y7,{guildName:d.name,server:(P=d.server)!=null?P:"",emblemUrl:ku(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(O=d.memberCount)!=null?O:0,avgLevel:(V=p==null?void 0:p.avgLevel)!=null?V:0,totalPower:(A=p==null?void 0:p.avgTotalStats)!=null?A:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(x=d.memberCount)!=null?x:0}`]:void 0})})}),s.jsx(L$,{members:(w=p==null?void 0:p.members)!=null?w:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>_("grid"),"aria-label":"Klassenbersicht",children:s.jsx(So,{text:"Klassenbersicht",tone:v==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>_("donut"),"aria-label":"Klassenverteilung",children:s.jsx(So,{text:"Klassenverteilung",tone:v==="donut"?"accent":"default"})})]}),v==="grid"?s.jsx(R$,{data:(R=p==null?void 0:p.members)!=null?R:[],classMeta:T,onPickClass:S=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",S),window.location.href=C.toString()}}):s.jsx(P$,{data:(E=p==null?void 0:p.members)!=null?E:[],classMeta:T})]})]})})]})}function L$({members:t,guildId:e,guildName:n,guildServer:r}){const[o,l]=L.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Zt.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===o;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Zt.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Zt.title},children:c},c)})}),s.jsxs(qE,{children:[o==="bersicht"&&s.jsx(g7,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),o==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:Zt.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),o==="Monthly Progress"&&s.jsx(pV,{guildId:e,guildName:n,guildServer:r}),o==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:Zt.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function M$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(o2,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(o2,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function o2({to:t,title:e,desc:n}){return s.jsxs(an,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function F$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function V$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const mn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function a2({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function $$({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function hl({label:t,value:e}){return s.jsxs("div",{style:{background:mn.tileAlt,border:`1px solid ${mn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:mn.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:mn.title,fontWeight:700},children:e})]})}function B$(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),o=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const h=d[1],p=String(parseInt(d[2],10)),g=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${p}.sfgame.${g}`}return Array.from(new Set([e,n,r,o,l,c].filter(Boolean)))}function vg(){var N,P,O,V;const t=Iy(),e=Eo(),n=Fs(),r=t.id||t.sid||t.serverId||t.server||"",[o,l]=L.useState(!0),[c,d]=L.useState(null),[h,p]=L.useState(null),[g,v]=L.useState(null);L.useEffect(()=>{let A=!1;async function x(){l(!0),d(null),p(null),v(null);try{const w=r.trim();if(!w)throw new Error("Kein Server gewhlt.");const R=en(wt,`servers/${w}`),E=await Ar(R);if(E.exists()){A||(p(E.id),v(E.data()));return}const S=a0(wt,"servers"),C=B$(w),F=[];for(const ue of C)F.push(Ci(fo(S,Oh("code","==",ue),mo(1)))),F.push(Ci(fo(S,Oh("displayName","==",ue),mo(1)))),F.push(Ci(fo(S,Oh("host","==",ue),mo(1))));const M=await Promise.allSettled(F);let U=null,$=null;for(const ue of M){if(ue.status!=="fulfilled")continue;const q=ue.value;if(!q.empty){const se=q.docs[0];U=se.id,$=se.data();break}}if(!U||!$)throw new Error("Server nicht gefunden.");A||(p(U),v($),U!==w&&e(`/server/${encodeURIComponent(U)}`,{replace:!0,state:{from:n.pathname}}))}catch(w){A||d((w==null?void 0:w.message)||"Fehler beim Laden.")}finally{A||l(!1)}}return x(),()=>{A=!0}},[r,e,n.pathname]);const _=L.useMemo(()=>s.jsxs("div",{style:{padding:24,color:mn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:mn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(o)return s.jsx(Mn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:mn.textSoft},children:"Lade Serverprofil"})});if(!g)return s.jsx(Mn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:_});const T=g.displayName||g.code||h||r,I=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return s.jsxs(Mn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${mn.line}`},children:s.jsxs(a2,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx($$,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:mn.title,fontWeight:700},children:T}),s.jsxs("div",{style:{fontSize:12,color:mn.textSoft},children:[g.host||"","  ",g.region||"","  ",((N=g.type)==null?void 0:N.toUpperCase())||""]})]})]})}),s.jsxs(a2,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:mn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${mn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:mn.title,fontSize:24,fontWeight:800},children:T}),s.jsxs("div",{style:{marginTop:6,color:mn.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((P=g.type)==null?void 0:P.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:mn.textSoft},children:["Status: ",I]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(hl,{label:"Code",value:g.code||""}),s.jsx(hl,{label:"Host",value:g.host||""}),s.jsx(hl,{label:"Region",value:g.region||""}),s.jsx(hl,{label:"Typ",value:((O=g.type)==null?void 0:O.toUpperCase())||""}),s.jsx(hl,{label:"Numeric ID",value:(V=g.numericId)!=null?V:""}),s.jsx(hl,{label:"Status",value:I})]}),s.jsxs("div",{style:{marginTop:16,background:mn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${mn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:mn.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const O$="_wrap_k6pqt_1",U$="_centerLogoWrap_k6pqt_21",z$="_centerLogoLink_k6pqt_37",H$="_centerLogo_k6pqt_21",W$="_arc_k6pqt_55",G$="_left_k6pqt_57",q$="_right_k6pqt_59",K$="_sub_k6pqt_61",Q$="_full_k6pqt_63",Y$="_arcItem_k6pqt_65",X$="_iconBtn_k6pqt_71",J$="_active_k6pqt_125",Z$="_iconImg_k6pqt_135",eB="_placeholderIcon_k6pqt_139",tB="_placeholderText_k6pqt_157",nB="_iconLabel_k6pqt_161",Rn={wrap:O$,centerLogoWrap:U$,centerLogoLink:z$,centerLogo:H$,arc:W$,left:G$,right:q$,sub:K$,full:Q$,arcItem:Y$,iconBtn:X$,active:J$,iconImg:Z$,placeholderIcon:eB,placeholderText:tB,iconLabel:nB},sB=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Fs();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),p=c.get("sub2"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),_=g.get("sub"),T=g.get("sub2");r==="main"?l=d===v:r==="sub"?l=d===v&&!!_&&h===_:l=d===v&&!!_&&h===_&&!!T&&p===T}catch(c){l=!1}return s.jsxs(an,{to:t,"aria-label":e,className:[Rn.iconBtn,l?Rn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Rn.iconImg}):s.jsx("div",{className:Rn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Rn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Rn.iconLabel,children:e})]})},Rh=({items:t,side:e,anchorSide:n,compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const h=L.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,_=90;e==="left"?(v=90,_=270):e==="sub"||e==="sub2"?n==="left"?(v=90,_=270):(v=-90,_=90):e==="full"&&(v=0,_=360);const T=(_-v)/(g+1),I=r?190:250;return t.map((N,P)=>{const V=(v+T*(P+1))*Math.PI/180;return{it:N,x:Math.cos(V)*I,y:Math.sin(V)*I}})},[t,e,n,r]),p=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${l}px)`:e==="right"?g.left=`calc(50% + ${l}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})();return s.jsx("div",{className:[Rn.arc,e==="left"?Rn.left:"",e==="right"?Rn.right:"",e==="sub"?Rn.sub:"",e==="sub2"?Rn.sub2:"",e==="full"?Rn.full:""].join(" "),style:p,children:h.map(({it:g,x:v,y:_})=>s.jsx("div",{className:Rn.arcItem,style:{transform:`translate(${v}px, ${_}px)`},children:s.jsx(sB,{to:g.to,label:g.label,icon:g.icon,variant:e==="left"||e==="right"?"main":e})},g.key))})},rB=({logoSrc:t,categories:e})=>{const[n]=Au(),r=n.get("tab")||null,o=n.get("sub")||null;n.get("sub2");const l=L.useMemo(()=>e.find(A=>A.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],d=L.useMemo(()=>c.find(A=>A.key===o)||null,[c,o]),h=(d==null?void 0:d.sub2)||[],p=(l==null?void 0:l.side)==="left"||(l==null?void 0:l.side)==="right"?l.side:"right",g=L.useRef(null),[v,_]=L.useState(!1),[T,I]=L.useState(220),[N,P]=L.useState(440),[O,V]=L.useState(660);return L.useLayoutEffect(()=>{(()=>{var F,M;const w=((M=(F=g.current)==null?void 0:F.getBoundingClientRect().width)!=null?M:380)/2,E=Math.round(w+60),S=Math.round(E+220),C=Math.round(S+220);I(E),P(S),V(C),_(!0)})()},[]),L.useEffect(()=>{let A=0,x=null,w={main:T,out:N,sup:O};const R=()=>{x!=null&&window.clearTimeout(x),x=window.setTimeout(()=>{A=requestAnimationFrame(()=>{var se,ne;const S=((ne=(se=g.current)==null?void 0:se.getBoundingClientRect().width)!=null?ne:380)/2,F=Math.round(S+60),M=Math.round(F+220),U=Math.round(M+220),$=Math.abs(F-w.main),ue=Math.abs(M-w.out),q=Math.abs(U-w.sup);$>1&&I(F),ue>1&&P(M),q>1&&V(U),w={main:F,out:M,sup:U}})},120)};return window.addEventListener("resize",R),()=>{window.removeEventListener("resize",R),x!=null&&window.clearTimeout(x),A&&cancelAnimationFrame(A)}},[T,N,O]),s.jsxs("div",{className:Rn.wrap,children:[s.jsx("div",{className:Rn.centerLogoWrap,children:s.jsx(an,{to:"/guidehub",className:Rn.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:g,src:t,alt:"Guide Hub",className:Rn.centerLogo})})}),v&&s.jsxs(s.Fragment,{children:[s.jsx(Rh,{items:e.filter(A=>A.side==="left").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:T}),s.jsx(Rh,{items:e.filter(A=>A.side==="right").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:T}),p&&c.length>0&&s.jsx(Rh,{items:c.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:N,compact:!0}),p&&h.length>0&&s.jsx(Rh,{items:h.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:O,compact:!0})]})]})},l2=[{key:"fortress",label:"Fortress",to:"/guidehub?tab=fortress",side:"left",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=fortress&sub=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=fortress&sub=fortress-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=fortress&sub=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=fortress&sub=fortress-attack-duplication"}]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=underworld",side:"left",sub:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=underworld&sub=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=underworld&sub=underworld-pro-package-skip-order"}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"arenaam",label:"Arena/AM",to:"/guidehub?tab=arenaam",side:"left",sub:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=arenaam&sub=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=arenaam&sub=am-build-order"}]},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",side:"right",sub:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",side:"right",sub:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]},{key:"events",label:"Events",to:"/guidehub?tab=events",side:"right",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left",sub:[]}],iB="_topWrap_1vr4p_1",oB="_divider_1vr4p_19",aB="_contentArea_1vr4p_53",lB="_placeholder_1vr4p_65",cB="_placeholderTitle_1vr4p_79",uB="_placeholderText_1vr4p_93",pl={topWrap:iB,divider:oB,contentArea:aB,placeholder:lB,placeholderTitle:cB,placeholderText:uB},dB="/test/assets/logo_guidehub-c4zKGdF-.png";function et({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const hB=()=>s.jsx(et,{title:"Fortress"}),pB=()=>s.jsx(et,{title:"Underworld"}),fB=()=>s.jsx(et,{title:"Progression"}),mB=()=>s.jsx(et,{title:"Arena / AM"}),gB=()=>s.jsx(et,{title:"Hellevator"}),yB=()=>s.jsx(et,{title:"Legendary Dungeon"}),xB=()=>s.jsx(et,{title:"Events"}),vB=()=>s.jsx(et,{title:"Calculators"}),_B=()=>s.jsx(et,{title:"Infographics (Dropdown inside page)"}),bB=()=>s.jsx(et,{title:"Class book"}),wB=()=>s.jsx(et,{title:"Dungeons"}),jB=()=>s.jsx(et,{title:"Fortress Calculator"}),SB="_wrap_8h8ob_3",EB="_headerBar_8h8ob_15",TB="_title_8h8ob_33",kB="_meta_8h8ob_45",CB="_description_8h8ob_55",IB="_contentWrapper_8h8ob_69",AB="_tableSection_8h8ob_81",RB="_table_8h8ob_81",PB="_infoBox_8h8ob_131",NB="_sectionTitle_8h8ob_145",Zs={wrap:SB,headerBar:EB,title:TB,meta:kB,description:CB,contentWrapper:IB,tableSection:AB,table:RB,infoBox:PB,sectionTitle:NB};function DB(){return s.jsxs("div",{className:Zs.wrap,children:[s.jsxs("div",{className:Zs.headerBar,children:[s.jsx("h2",{className:Zs.title,children:"Fortress Package skip order"}),s.jsx("span",{className:Zs.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:Zs.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:Zs.contentWrapper,children:[s.jsxs("section",{className:Zs.tableSection,children:[s.jsx("h3",{className:Zs.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:Zs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"Level 1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"Level 1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"Level 1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"Level 2"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"-"})]})]})]})]}),s.jsxs("section",{className:Zs.infoBox,children:[s.jsx("h3",{className:Zs.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:Zs.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const LB=()=>s.jsx(et,{title:"Gem Calculator (Fortress)"}),MB=()=>s.jsx(et,{title:"Fortress attack duplication guide"}),FB=()=>s.jsx(et,{title:"Underworld Calculator"}),VB=()=>s.jsx(et,{title:"Underworld Pro Package skip order"}),$B="_wrap_mm7x0_5",BB="_headerBar_mm7x0_19",OB="_title_mm7x0_37",UB="_meta_mm7x0_51",zB="_description_mm7x0_63",HB="_controls_mm7x0_79",WB="_search_mm7x0_83",GB="_tableWrap_mm7x0_119",qB="_table_mm7x0_119",KB="_thead_mm7x0_143",QB="_th_mm7x0_143",YB="_td_mm7x0_167",XB="_tierCell_mm7x0_179",JB="_amountCell_mm7x0_181",ZB="_bonusCell_mm7x0_183",eO="_tags_mm7x0_185",tO="_tierBox_mm7x0_191",nO="_tierIcon_mm7x0_193",sO="_tierTexts_mm7x0_203",rO="_tierName_mm7x0_205",iO="_badge_mm7x0_211",oO="_badgeMax_mm7x0_231",aO="_badgeAchiev_mm7x0_233",lO="_badgeX2_mm7x0_235",cO="_badgeX12_mm7x0_237",uO="_badgeX60_mm7x0_239",dO="_iconHead_mm7x0_245",hO="_achiev_mm7x0_261",pO="_achievImg_mm7x0_263",fO="_dataRow_mm7x0_291",mO="_tierCellHover_mm7x0_311",_e={wrap:$B,headerBar:BB,title:OB,meta:UB,description:zB,controls:HB,search:WB,tableWrap:GB,table:qB,thead:KB,th:QB,td:YB,tierCell:XB,amountCell:JB,bonusCell:ZB,tags:eO,tierBox:tO,tierIcon:nO,tierTexts:sO,tierName:rO,badge:iO,badgeMax:oO,badgeAchiev:aO,badgeX2:lO,badgeX12:cO,badgeX60:uO,iconHead:dO,achiev:hO,achievImg:pO,dataRow:fO,tierCellHover:mO};function ax(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function KE(t){const e=t.filter(Boolean).join(" ");return ax(e)}const gO={fortressbanner:"DRIVE_FILE_ID_HIER",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8"};function QE(t){var n;const e=Array.isArray(t)?KE(t):ax(t!=null?t:"");return(n=gO[e])!=null?n:null}function Xp(t,e=512){const n=QE(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=Yj(n),o=Nr(r,e);return{id:n,url:r,thumb:o,fallback:""}}function lu(t,e=512){return Xp(t,e).thumb}const yO=Object.freeze(Object.defineProperty({__proto__:null,guideAssetByKey:Xp,guideAssetUrlByKey:lu,guideDriveIdByKey:QE,joinParts:KE,normalizeGuideKey:ax},Symbol.toStringTag,{value:"Module"})),co={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},c2={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function uo({keyName:t,label:e}){const n=Xp(t,36);return s.jsxs("div",{className:_e.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function xO({name:t}){const e=Object.keys(c2).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=Xp(e?c2[e]:"achiev_generic",16);return s.jsxs("div",{className:_e.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:_e.achievImg}),s.jsx("span",{children:t})]})}const yp=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function _g(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function vO(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function _O(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const u2={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},bO="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function wO(t){const e=t.trim().toLowerCase();return e?yp.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):yp}function jO(){const[t,e]=L.useState(""),[n,r]=L.useState(null),o=wO(t),l=L.useMemo(()=>Math.max(...yp.map(d=>_g(d.amount))),[]),c=L.useMemo(()=>{const d=new Map;for(const p of o)d.has(p.tier)||d.set(p.tier,[]),d.get(p.tier).push(p);const h=Array.from(new Set(yp.map(p=>p.tier)));return Array.from(d.entries()).sort((p,g)=>h.indexOf(p[0])-h.indexOf(g[0]))},[o]);return s.jsxs("div",{className:_e.wrap,children:[s.jsxs("div",{className:_e.headerBar,children:[s.jsx("h2",{className:_e.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:_e.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:_e.description,children:bO}),s.jsx("div",{className:_e.controls,children:s.jsx("input",{className:_e.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),s.jsx("div",{className:_e.tableWrap,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{className:_e.thead,children:s.jsxs("tr",{className:_e.headRow,children:[s.jsx("th",{className:`${_e.th} ${_e.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${_e.th} ${_e.amountCell}`,children:"Amount"}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.gold,label:"Gold Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.xp,label:"XP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.hp,label:"HP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.elem,label:"Elemental Damage"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.item,label:"Improved Item Quality"})}),s.jsx("th",{className:_e.th,children:s.jsx(uo,{keyName:co.epics,label:"Chances of Epics"})}),s.jsx("th",{className:_e.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([d,h])=>{const p=Math.max(...h.map(g=>_g(g.amount)));return h.map((g,v)=>{var I,N,P,O,V,A,x,w;const _=Math.abs(_g(g.amount)-l)<1e-6,T=_O(g.note);return s.jsxs("tr",{className:_e.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[v===0&&s.jsx("td",{className:`${_e.td} ${_e.tierCell} ${Math.abs(p-l)<1e-6?_e.tierMax:""} ${n===d?_e.tierCellHover:""}`,rowSpan:h.length,children:s.jsxs("div",{className:_e.tierBox,children:[s.jsx("div",{className:_e.tierIcon,children:d.slice(0,1).toUpperCase()}),s.jsxs("div",{className:_e.tierTexts,children:[s.jsx("div",{className:_e.tierName,children:d}),u2[d]&&s.jsx(xO,{name:u2[d]})]})]})}),s.jsx("td",{className:`${_e.td} ${_e.amountCell}`,children:g.amount}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(I=g.gold)!=null?I:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(N=g.xp)!=null?N:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(P=g.hp)!=null?P:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(O=g.totalRes)!=null?O:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(V=g.singleRes)!=null?V:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(A=g.elemDmg)!=null?A:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(x=g.itemQuality)!=null?x:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(w=g.epics)!=null?w:""}),s.jsxs("td",{className:`${_e.td} ${_e.tags}`,children:[_&&s.jsx("span",{className:`${_e.badge} ${_e.badgeMax}`,children:"MAX"}),vO(g.note)&&s.jsx("span",{className:`${_e.badge} ${_e.badgeAchiev}`,children:"Achievement"}),T==="x2"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX2}`,children:"x2"}),T==="x12"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX12}`,children:"x12"}),T==="x60"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX60}`,children:"x60"}),T==="x8"&&s.jsx("span",{className:_e.badge,children:"x8"})]})]},`${d}-${v}`)})})})]})})]})}const SO=()=>s.jsx(et,{title:"AM Build order"}),EO=()=>s.jsx(et,{title:"Hellevator Guide"}),TO=()=>s.jsx(et,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),kO=()=>s.jsx(et,{title:"Event List"}),CO=()=>s.jsx(et,{title:"Event Cycle"}),IO="_wrap_1v8ak_5",AO="_header_1v8ak_17",RO="_title_1v8ak_33",PO="_meta_1v8ak_45",NO="_controls_1v8ak_55",DO="_field_1v8ak_65",LO="_select_1v8ak_85",MO="_grid_1v8ak_103",FO="_panel_1v8ak_115",VO="_panelHead_1v8ak_129",$O="_panelTitle_1v8ak_141",BO="_table_1v8ak_151",er={wrap:IO,header:AO,title:RO,meta:PO,controls:NO,field:DO,select:LO,grid:MO,panel:FO,panelHead:VO,panelTitle:$O,table:BO},d2=[{level:1,wood:0,stone:0,timeSec:0},{level:2,wood:1200,stone:900,timeSec:600},{level:3,wood:2400,stone:1800,timeSec:1800}];function OO(t){const e=Math.floor(t/86400),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),o=Math.floor(t%60),l=[];return e&&l.push(`${e}d`),n&&l.push(`${n}h`),r&&l.push(`${r}m`),o&&l.length===0&&l.push(`${o}s`),l.join(" ")||"0s"}function h2(t){return t.toLocaleString("en-US")}function UO(){const[t,e]=L.useState(1),n=d2.find(r=>r.level===t);return s.jsxs("div",{className:er.wrap,children:[s.jsxs("div",{className:er.header,children:[s.jsx("h2",{className:er.title,children:"Fortress Calculator"}),s.jsx("div",{className:er.meta,children:"Data source: Google Sheet"})]}),s.jsx("div",{className:er.controls,children:s.jsxs("div",{className:er.field,children:[s.jsx("label",{children:"Select Level"}),s.jsx("select",{className:er.select,value:t,onChange:r=>e(Number(r.target.value)),children:d2.map(r=>s.jsxs("option",{value:r.level,children:["Level ",r.level]},r.level))})]})}),n&&s.jsx("div",{className:er.grid,children:s.jsxs("div",{className:er.panel,children:[s.jsx("div",{className:er.panelHead,children:s.jsx("div",{className:er.panelTitle,children:"Building Data"})}),s.jsxs("table",{className:er.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"}),s.jsx("th",{children:"Build Time"})]})}),s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{children:n.level}),s.jsx("td",{children:h2(n.wood)}),s.jsx("td",{children:h2(n.stone)}),s.jsx("td",{children:OO(n.timeSec)})]})})]})]})})]})}const zO=()=>s.jsx(et,{title:"Underworld Calculator"}),HO=()=>s.jsx(et,{title:"Max Item Stats Calculator"}),WO="_wrap_1xz2r_1",GO="_card_1xz2r_13",qO="_title_1xz2r_35",KO="_form_1xz2r_47",QO="_field_1xz2r_59",YO="_input_1xz2r_75",XO="_gemsRow_1xz2r_95",JO="_gemBox_1xz2r_109",ZO="_gemImg_1xz2r_133",eU="_gemFallback_1xz2r_153",tU="_normalGem_1xz2r_167",nU="_blackGem_1xz2r_173",sU="_legendaryGem_1xz2r_179",rU="_gemLabel_1xz2r_189",iU="_gemValue_1xz2r_207",oU="_disabled_1xz2r_231",aU="_hint_1xz2r_241",st={wrap:WO,card:GO,title:qO,form:KO,field:QO,input:YO,gemsRow:XO,gemBox:JO,gemImg:ZO,gemFallback:eU,normalGem:tU,blackGem:nU,legendaryGem:sU,gemLabel:rU,gemValue:iU,disabled:oU,hint:aU},lU={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},cU=.25,xp=t=>Math.round(Number.isFinite(t)?t:0);function uU(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const P=e*cU*(1+(n-1)*.25)+r/3;return xp(P)}const{A:o,B:l,C:c,D:d,E:h,F:p,G:g,H:v,I:_,J:T}=lU,N=o+l*e+c/n+d*e**2+h/n**2+p*e/n+g*e**3+v/n**3+_*e/n**2+T*e**2/n+r/3;return xp(N)}function dU(t){return xp(t*(2/3))}function hU(t){return xp(t)}const bg={char:1e3,mine:100,hok:1e3};function pU(t,e){return e.split(".").reduce((n,r)=>n&&r in n?n[r]:void 0,t)}const fU={normal:["gems.normal","gem.normal","icons.gems.normal","GEMS.NORMAL","GEM_NORMAL","assets.gems.normal"],black:["gems.black","gem.black","icons.gems.black","GEMS.BLACK","GEM_BLACK","assets.gems.black"],legendary:["gems.legendary","gem.legendary","icons.gems.legendary","GEMS.LEGENDARY","GEM_LEGENDARY","assets.gems.legendary"]};function wg(t){const e=yO;for(const n of fU[t]){const r=pU(e,n);if(typeof r=="string"&&r.length>0)return r}}const mU=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[o,l]=L.useState(""),c=L.useMemo(()=>t===""||n===""||o===""?null:uU({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(o)}),[t,n,o]),d=L.useMemo(()=>c==null?null:dU(c),[c]),h=L.useMemo(()=>c==null?null:hU(c),[c]),p=wg("normal"),g=wg("black"),v=wg("legendary");return s.jsx("div",{className:st.wrap,children:s.jsxs("div",{className:st.card,children:[s.jsx("h2",{className:st.title,children:"Gem Calculator"}),s.jsxs("div",{className:st.form,children:[s.jsxs("label",{className:st.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:st.input,placeholder:"e.g., 360",value:t,onChange:_=>{const T=_.currentTarget.value;if(T==="")return e("");const I=Number(T);e(Number.isFinite(I)?I:"")},max:bg.char})]}),s.jsxs("label",{className:st.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:st.input,placeholder:"e.g., 10",value:n,onChange:_=>{const T=_.currentTarget.value;if(T==="")return r("");const I=Number(T);r(Number.isFinite(I)?I:"")},max:bg.mine})]}),s.jsxs("label",{className:st.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:st.input,placeholder:"e.g., 840",value:o,onChange:_=>{const T=_.currentTarget.value;if(T==="")return l("");const I=Number(T);l(Number.isFinite(I)?I:"")},max:bg.hok})]})]}),s.jsxs("div",{className:st.gemsRow,children:[s.jsxs("div",{className:`${st.gemBox} ${c==null?st.disabled:""}`,children:[p?s.jsx("img",{className:st.gemImg,src:p,alt:"Normal Gem"}):s.jsx("div",{className:`${st.gemFallback} ${st.normalGem}`}),s.jsx("div",{className:st.gemLabel,children:"Normal"}),s.jsx("div",{className:st.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${st.gemBox} ${d==null?st.disabled:""}`,children:[g?s.jsx("img",{className:st.gemImg,src:g,alt:"Black Gem"}):s.jsx("div",{className:`${st.gemFallback} ${st.blackGem}`}),s.jsx("div",{className:st.gemLabel,children:"Black"}),s.jsx("div",{className:st.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${st.gemBox} ${h==null?st.disabled:""}`,children:[v?s.jsx("img",{className:st.gemImg,src:v,alt:"Legendary Gem"}):s.jsx("div",{className:`${st.gemFallback} ${st.legendaryGem}`}),s.jsx("div",{className:st.gemLabel,children:"Legendary"}),s.jsx("div",{className:st.gemValue,children:h!=null?h:""})]})]}),s.jsxs("p",{className:st.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},gU="_headerBar_qqga9_7",yU="_title_qqga9_25",xU="_meta_qqga9_39",vU="_description_qqga9_43",Ph={headerBar:gU,title:yU,meta:xU,description:vU},_U=()=>s.jsxs(Mn,{title:"Gem Calculator",children:[s.jsxs("div",{className:Ph.headerBar,children:[s.jsx("h2",{className:Ph.title,children:"Gem Calculator"}),s.jsx("span",{className:Ph.meta,children:"last updated: 08.11.2024"})]}),s.jsxs("p",{className:Ph.description,children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]}),s.jsx(mU,{})]}),bU="_wrapper_3ezso_1",wU="_panel_3ezso_13",jU="_header_3ezso_29",SU="_title_3ezso_43",EU="_table_3ezso_47",TU="_row_3ezso_73",kU="_name_3ezso_77",CU="_selectCell_3ezso_79",IU="_sumCell_3ezso_81",AU="_footer_3ezso_85",RU="_footerLine_3ezso_87",PU="_resetBtn_3ezso_91",NU="_note_3ezso_103",Gt={wrapper:bU,panel:wU,header:jU,title:SU,table:EU,row:TU,name:kU,selectCell:CU,sumCell:IU,footer:AU,footerLine:RU,resetBtn:PU,note:NU};function cu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),o=Math.max(e,n);let l=0;for(let d=r;d<=o;d++)l+=(c=t[d])!=null?c:0;return l}function DU(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function He(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const LU=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:He([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:He([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:He([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:He([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:He([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:He([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:He([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:He([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:He([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)}],MU=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:He([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:He([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:He([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:He([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:He([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:He([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:He([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:He([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)}],p2=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],FU=(()=>{const t=[0,...p2],e=1e3-p2.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),VU=He([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),$U=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),ki={light:LU.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:MU.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:FU,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:VU,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:$U,specialType:"sandstorm"}]},vp=t=>t.toLocaleString("en-US");function f2(){const t={},e={},n={};return ki.light.forEach(r=>t[r.key]={from:0,to:0}),ki.shadow.forEach(r=>e[r.key]={from:0,to:0}),ki.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function YE({row:t,range:e,onChange:n}){var d,h;const r=L.useMemo(()=>DU(t.maxLevel),[t.maxLevel]),o=(d=e.from)!=null?d:0,l=(h=e.to)!=null?h:0,c=L.useMemo(()=>o===0||l===0?0:cu(t.levels,o,l),[t.levels,o,l]);return s.jsxs("tr",{className:Gt.row,children:[s.jsx("td",{className:Gt.name,children:t.name}),s.jsx("td",{className:Gt.selectCell,children:s.jsx("select",{value:o,onChange:p=>n({from:Number(p.target.value),to:l}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsx("td",{className:Gt.selectCell,children:s.jsx("select",{value:l,onChange:p=>n({from:o,to:Number(p.target.value)}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsxs("td",{className:Gt.sumCell,children:[vp(c)," XP"]})]})}function m2({title:t,rows:e,ranges:n,setRanges:r}){const o=L.useMemo(()=>e.reduce((l,c)=>{const d=n[c.key]||{from:0,to:0};return l+cu(c.levels,d.from,d.to)},0),[e,n]);return s.jsxs("div",{className:Gt.panel,children:[s.jsx("div",{className:Gt.header,children:s.jsx("div",{className:Gt.title,children:t})}),s.jsxs("table",{className:Gt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(l=>{var c;return s.jsx(YE,{row:l,range:(c=n[l.key])!=null?c:{from:0,to:0},onChange:d=>r(l.key,d)},l.key)})})]}),s.jsx("div",{className:Gt.footer,children:s.jsxs("div",{className:Gt.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[vp(o)," XP"]})]})})]})}function BU(){const t=f2(),[e,n]=L.useState(t.light),[r,o]=L.useState(t.shadow),[l,c]=L.useState(t.special),d=L.useMemo(()=>ki.light.reduce((_,T)=>{const I=e[T.key];return _+(I?cu(T.levels,I.from,I.to):0)},0),[e]),h=L.useMemo(()=>ki.shadow.reduce((_,T)=>{const I=r[T.key];return _+(I?cu(T.levels,I.from,I.to):0)},0),[r]),p=L.useMemo(()=>ki.special.reduce((_,T)=>{const I=l[T.key];return _+(I?cu(T.levels,I.from,I.to):0)},0),[l]),g=d+h+p,v=()=>{const _=f2();n(_.light),o(_.shadow),c(_.special)};return s.jsxs("div",{className:Gt.wrapper,children:[s.jsx(m2,{title:"Light World",rows:ki.light,ranges:e,setRanges:(_,T)=>n(I=>({...I,[_]:T}))}),s.jsx(m2,{title:"Shadow World",rows:ki.shadow,ranges:r,setRanges:(_,T)=>o(I=>({...I,[_]:T}))}),s.jsxs("div",{className:Gt.panel,children:[s.jsxs("div",{className:Gt.header,children:[s.jsx("div",{className:Gt.title,children:"Special Dungeons"}),s.jsx("button",{className:Gt.resetBtn,onClick:v,children:"RESET"})]}),s.jsxs("table",{className:Gt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:ki.special.map(_=>{var T;return s.jsx(YE,{row:_,range:(T=l[_.key])!=null?T:{from:0,to:0},onChange:I=>c(N=>({...N,[_.key]:I}))},_.key)})})]}),s.jsxs("div",{className:Gt.footer,children:[s.jsxs("div",{className:Gt.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[vp(p)," XP"]})]}),s.jsxs("div",{className:Gt.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[vp(g)," XP"]})]}),s.jsxs("div",{className:Gt.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function OU(){return s.jsx("div",{style:{padding:12},children:s.jsx(BU,{})})}const UU=()=>s.jsx(et,{title:"Progression  Early Game"}),zU="_wrap_n2poq_31",HU="_title_n2poq_33",WU="_infoBox_n2poq_39",GU="_infoTitle_n2poq_63",qU="_infoList_n2poq_73",KU="_section_n2poq_89",QU="_h2_n2poq_101",YU="_h3_n2poq_103",XU="_intro_n2poq_105",JU="_ul_n2poq_107",ZU="_img_n2poq_113",mt={wrap:zU,title:HU,infoBox:WU,infoTitle:GU,infoList:qU,section:KU,h2:QU,h3:YU,intro:XU,ul:JU,img:ZU},ez=()=>{Au();const t=[lu("first-weekend-guide-day1",900),lu("first-weekend-guide-day2",900),lu("first-weekend-guide-day3",900)];return s.jsxs("div",{className:mt.wrap,children:[s.jsx("h1",{className:mt.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:mt.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:mt.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:mt.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:mt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Day 1"}),s.jsx("h3",{className:mt.h3,children:"Level 13"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:mt.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h3",{className:mt.h3,children:"Level 410"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Day 2"}),s.jsx("h3",{className:mt.h3,children:"Level 1015"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:mt.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Day 3"}),s.jsx("h3",{className:mt.h3,children:"Level 1520"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:mt.img,src:t[2],alt:"Day 3 overview"})]})]})},tz=()=>s.jsx(et,{title:"Max Item Stats Calculator"}),nz=()=>s.jsx(et,{title:"Fortress Package skip order (Early)"}),sz=()=>s.jsx(et,{title:"Underworld Pro Package skip order (Early)"}),rz=()=>s.jsx(et,{title:"Gem Calculator (Early)"}),iz=()=>s.jsx(et,{title:"Fortress attack duplication guide (Early)"}),oz=()=>s.jsx(et,{title:"Progression  Mid Game"}),az="_wrap_1x7jo_31",lz="_header_1x7jo_35",cz="_titles_1x7jo_55",uz="_h1_1x7jo_57",dz="_lead_1x7jo_59",hz="_ctaRow_1x7jo_63",pz="_cta_1x7jo_63",fz="_section_1x7jo_85",mz="_sectionGrid_1x7jo_87",gz="_card_1x7jo_99",yz="_h2_1x7jo_103",xz="_h3_1x7jo_105",vz="_p_1x7jo_107",_z="_ul_1x7jo_111",bz="_ol_1x7jo_111",wz="_figure_1x7jo_117",jz="_figureNarrow_1x7jo_139",Sz="_img_1x7jo_149",Ez="_fallbackImg_1x7jo_151",Tz="_figCaption_1x7jo_159",kz="_tableWrap_1x7jo_163",Cz="_table_1x7jo_163",Iz="_footer_1x7jo_217",Az="_tools_1x7jo_219",Rz="_toolBtn_1x7jo_221",Ke={wrap:az,header:lz,titles:cz,h1:uz,lead:dz,ctaRow:hz,cta:pz,section:fz,sectionGrid:mz,card:gz,h2:yz,h3:xz,p:vz,ul:_z,ol:bz,figure:wz,figureNarrow:jz,img:Sz,fallbackImg:Ez,figCaption:Tz,tableWrap:kz,table:Cz,footer:Iz,tools:Az,toolBtn:Rz},Pz=1400;function Nz(){const t=L.useMemo(()=>lu("goldxpcurve",Pz),[]);return s.jsxs("div",{className:Ke.wrap,children:[s.jsxs("header",{className:Ke.header,children:[s.jsxs("div",{className:Ke.titles,children:[s.jsx("h1",{className:Ke.h1,children:"Dungeon Pause"}),s.jsx("p",{className:Ke.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:Ke.ctaRow,children:[s.jsx(an,{className:Ke.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(an,{className:Ke.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h2",{className:Ke.h2,children:"Worum gehts?"}),s.jsxs("p",{className:Ke.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h3",{className:Ke.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${Ke.figure} ${Ke.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Ke.img}):s.jsx("div",{className:Ke.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:Ke.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:Ke.sectionGrid,children:[s.jsxs("div",{className:Ke.card,children:[s.jsx("h3",{className:Ke.h3,children:"Start & Ende"}),s.jsxs("ul",{className:Ke.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:Ke.card,children:[s.jsx("h3",{className:Ke.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:Ke.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h3",{className:Ke.h3,children:"Vorgehen"}),s.jsxs("ol",{className:Ke.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h3",{className:Ke.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:Ke.tableWrap,children:s.jsxs("table",{className:Ke.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:Ke.footer,children:s.jsxs("div",{className:Ke.tools,children:[s.jsx(an,{className:Ke.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(an,{className:Ke.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const Dz=()=>s.jsx(et,{title:"Dungeon Pause open XP Calculator"}),Lz="_wrap_1uhww_3",Mz="_headerBar_1uhww_15",Fz="_title_1uhww_33",Vz="_meta_1uhww_45",$z="_description_1uhww_55",Bz="_section_1uhww_69",Oz="_sectionTitle_1uhww_77",Uz="_steps_1uhww_87",Kr={wrap:Lz,headerBar:Mz,title:Fz,meta:Vz,description:$z,section:Bz,sectionTitle:Oz,steps:Uz};function zz(){return s.jsxs("div",{className:Kr.wrap,children:[s.jsxs("div",{className:Kr.headerBar,children:[s.jsx("h2",{className:Kr.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:Kr.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:Kr.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:Kr.section,children:[s.jsx("h3",{className:Kr.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:Kr.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:Kr.section,children:[s.jsx("h3",{className:Kr.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const Hz=()=>s.jsx(et,{title:"Gem Calculator (Mid)"}),Wz=()=>s.jsx(et,{title:"Calendar Skip"}),Gz=()=>s.jsx(et,{title:"Progression  Late Game"}),qz="_layout_13sgm_29",Kz="_side_13sgm_49",Qz="_sideHead_13sgm_61",Yz="_search_13sgm_71",Xz="_spotBtn_13sgm_89",Jz="_sideList_13sgm_109",Zz="_sideItem_13sgm_111",eH="_active_13sgm_119",tH="_sideTitle_13sgm_121",nH="_ico_13sgm_123",sH="_badge_13sgm_125",rH="_detail_13sgm_139",iH="_detailInner_13sgm_141",oH="_detailHead_13sgm_143",aH="_detailTitle_13sgm_145",lH="_empty_13sgm_147",cH="_grid_13sgm_151",uH="_card_13sgm_157",dH="_cardHead_13sgm_175",hH="_btnGrid_13sgm_177",pH="_itemBtn_13sgm_179",fH="_spotWrap_13sgm_203",mH="_spot_13sgm_89",gH="_spotHead_13sgm_227",yH="_spotSearch_13sgm_235",xH="_spotClose_13sgm_243",vH="_spotList_13sgm_253",_H="_spotItem_13sgm_255",bH="_spotItemEmpty_13sgm_259",wH="_spotCat_13sgm_261",jH="_spotLabel_13sgm_263",SH="_mark_13sgm_267",Ge={layout:qz,side:Kz,sideHead:Qz,search:Yz,spotBtn:Xz,sideList:Jz,sideItem:Zz,active:eH,sideTitle:tH,ico:nH,badge:sH,detail:rH,detailInner:iH,detailHead:oH,detailTitle:aH,empty:lH,grid:cH,card:uH,cardHead:dH,btnGrid:hH,itemBtn:pH,spotWrap:fH,spot:mH,spotHead:gH,spotSearch:yH,spotClose:xH,spotList:vH,spotItem:_H,spotItemEmpty:bH,spotCat:wH,spotLabel:jH,mark:SH};function EH(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Uc(t,e){if(!e)return t;const n=new RegExp(`(${EH(e)})`,"ig");return t.replace(n,`<mark class="${Ge.mark}">$1</mark>`)}function g2(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(o=>o.sub2&&o.sub2.length))for(const o of n.sub2)o.sub2&&o.sub2.length?e+=o.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function TH(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const o of n.sub)if(o.sub2&&o.sub2.length)if(o.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of o.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${o.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:o.key,sub2Key:d.key});else e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else for(const c of o.sub2)e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else e.push({full:`${r}  ${o.label}`,catKey:n.key,subKey:o.key})}return e}function kH(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const CH=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,o]=L.useState(()=>{var V;return((V=t==null?void 0:t[0])==null?void 0:V.key)||""}),[l,c]=L.useState(""),[d,h]=L.useState(!1),p=L.useRef(null),g=L.useMemo(()=>{const V=l.trim().toLowerCase();if(!V)return t;const A=x=>x.toLowerCase().includes(V);return t.map(x=>{const w=A(x.label),R=[];for(const E of x.sub||[]){const S=A(E.label);if(E.sub2&&E.sub2.length)if(E.sub2.some(F=>F.sub2&&F.sub2.length)){const F=[];for(const M of E.sub2)if(M.sub2&&M.sub2.length){const U=M.sub2.filter($=>A($.label));U.length&&F.push({...M,sub2:U})}else A(M.label)&&F.push(M);(S||F.length)&&R.push({...E,sub2:F})}else{const F=E.sub2.filter(M=>A(M.label));(S||F.length)&&R.push({...E,sub2:F})}else S&&R.push(E)}return w||R.length?{...x,sub:R.length?R:x.sub}:null}).filter(Boolean)},[t,l]),v=L.useMemo(()=>{const V=g.length?g:t,A=kH(V,r);return V.find(x=>x.key===A)||V[0]||null},[g,t,r]),_=L.useMemo(()=>TH(t),[t]),[T,I]=L.useState(""),N=L.useMemo(()=>{const V=T.trim().toLowerCase();return V?_.filter(A=>A.full.toLowerCase().includes(V)):_},[_,T]);L.useEffect(()=>{const V=A=>{const x=A.key.toLowerCase()==="k";(A.metaKey||A.ctrlKey)&&x&&(A.preventDefault(),h(!0),setTimeout(()=>{var w;return(w=p.current)==null?void 0:w.focus()},0)),A.key==="Escape"&&h(!1)};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[]);const P=L.useRef(null);L.useEffect(()=>{var V;n&&((V=P.current)==null||V.focus())},[n]);const O=()=>{var R;const V=l.trim().toLowerCase(),A=(V?_.find(E=>E.full.toLowerCase().includes(V)):_[0])||null;if(A){e({tab:A.catKey,sub:A.subKey,sub2:A.sub2Key});return}const x=v,w=(R=x==null?void 0:x.sub)==null?void 0:R[0];if(!(!x||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(S=>S.sub2&&S.sub2.length)){const S=w.sub2[0];S.sub2&&S.sub2.length?e({tab:x.key,sub:w.key,sub2:S.sub2[0].key}):e({tab:x.key,sub:w.key,sub2:S.key})}else e({tab:x.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:x.key,sub:w.key})};return s.jsxs("div",{className:Ge.layout,children:[s.jsxs("div",{className:Ge.side,children:[s.jsxs("div",{className:Ge.sideHead,children:[s.jsx("input",{ref:P,className:Ge.search,type:"search",placeholder:"Suche",value:l,onChange:V=>c(V.target.value),onKeyDown:V=>{V.key==="Enter"&&O()}}),s.jsx("button",{className:Ge.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var V;return(V=p.current)==null?void 0:V.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:Ge.sideList,children:(g.length?g:t).map(V=>s.jsxs("div",{className:`${Ge.sideItem} ${(v==null?void 0:v.key)===V.key?Ge.active:""}`,onClick:()=>o(V.key),children:[s.jsxs("span",{className:Ge.sideTitle,children:[V.icon?s.jsx("span",{className:Ge.ico,"aria-hidden":!0,children:V.icon}):null,V.label]}),s.jsx("span",{className:Ge.badge,children:g2(V.sub)})]},V.key))})]}),s.jsx("div",{className:Ge.detail,children:v?s.jsxs("div",{className:Ge.detailInner,children:[s.jsxs("div",{className:Ge.detailHead,children:[s.jsxs("h3",{className:Ge.detailTitle,children:[v.icon?s.jsx("span",{className:Ge.ico,"aria-hidden":!0,children:v.icon}):null,v.label]}),s.jsxs("div",{className:Ge.badge,children:[g2(v.sub)," Eintrge"]})]}),s.jsx("div",{className:Ge.grid,children:(v.sub||[]).map(V=>{const A=V.sub2&&V.sub2.length>0,x=A&&V.sub2.some(w=>w.sub2&&w.sub2.length);return s.jsxs("div",{className:Ge.card,children:[s.jsx("div",{className:Ge.cardHead,dangerouslySetInnerHTML:{__html:Uc(V.label,l)}}),A?s.jsx("div",{className:Ge.btnGrid,children:x?V.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(R=>s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:v.key,sub:V.key,sub2:R.key}),dangerouslySetInnerHTML:{__html:Uc(`${w.label}  ${R.label}`,l)}},`${w.key}__${R.key}`)):[s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:v.key,sub:V.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Uc(w.label,l)}},w.key)]):V.sub2.map(w=>s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:v.key,sub:V.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Uc(w.label,l)}},w.key))}):s.jsx("div",{className:Ge.btnGrid,children:s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:v.key,sub:V.key}),dangerouslySetInnerHTML:{__html:Uc(V.label,l)}})})]},V.key)})}),l&&v.sub&&v.sub.length>0&&v.sub.every(V=>!V.sub2||!V.sub2.length?!V.label.toLowerCase().includes(l.trim().toLowerCase()):V.sub2.some(x=>x.sub2&&x.sub2.length)?V.sub2.every(x=>x.sub2&&x.sub2.length?x.sub2.every(w=>!w.label.toLowerCase().includes(l.trim().toLowerCase())):!x.label.toLowerCase().includes(l.trim().toLowerCase())):V.sub2.every(x=>!x.label.toLowerCase().includes(l.trim().toLowerCase())))?s.jsxs("div",{className:Ge.empty,children:["Keine Treffer in ",v.label,"."]}):null]}):s.jsx("div",{className:Ge.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:Ge.spotWrap,onClick:()=>h(!1),children:s.jsxs("div",{className:Ge.spot,onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:Ge.spotHead,children:[s.jsx("input",{ref:p,className:Ge.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:T,onChange:V=>I(V.target.value)}),s.jsx("button",{className:Ge.spotClose,onClick:()=>h(!1),children:"Esc"})]}),s.jsx("div",{className:Ge.spotList,children:N.length===0?s.jsx("div",{className:Ge.spotItemEmpty,children:"Keine Treffer"}):N.map((V,A)=>s.jsxs("div",{className:Ge.spotItem,onClick:()=>{h(!1),e({tab:V.catKey,sub:V.subKey,sub2:V.sub2Key})},children:[s.jsx("div",{className:Ge.spotCat,children:V.catKey}),s.jsx("div",{className:Ge.spotLabel,children:V.full})]},A))})]})})]})},IH={fortress:hB,underworld:pB,progression:fB,arenaam:mB,hellevator:gB,"legendary-dungeon":yB,events:xB,calculators:vB,infographics:_B,"class-book":bB,dungeons:wB},y2={fortress:{"fortress-calculator":jB,"fortress-package-skip-order":DB,"gem-calculator":LB,"fortress-attack-duplication":MB},underworld:{"underworld-calculator":FB,"underworld-pro-package-skip-order":VB},arenaam:{"am-rune-bonuses":jO,"am-build-order":SO},hellevator:{"hellevator-guide":EO},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":TO},events:{"event-list":kO,"event-cycle":CO},calculators:{"fortress-calculator":UO,"underworld-calculator":zO,"max-item-stats-calculator":HO,"gem-calculator":_U,"dungeon-pause-open-xp-calculator":OU},progression:{early:UU,mid:oz,late:Gz}},jg={progression:{early:{"first-weekend-guide":ez,"max-item-stats-calculator":tz,"fortress-package-skip-order":nz,"underworld-pro-package-skip-order":sz,"gem-calculator":rz,"fortress-attack-duplication":iz},mid:{"dungeon-pause":Nz,"dungeon-pause-open-xp-calculator":Dz,"dungeon-pause-exit":zz,"gem-calculator":Hz,"calendar-skip":Wz}}};function AH(){const[t,e]=Au(),n=t.get("tab")||"",r=t.get("sub")||"",o=t.get("sub2")||"";let l=null;n?n&&!r?l=IH[n]||null:n&&r&&!o?l=y2[n]&&y2[n][r]||null:n&&r&&o&&(l=jg[n]&&jg[n][r]&&jg[n][r][o]||null):l=null;const c=d=>{const h=new URLSearchParams(t);h.set("tab",d.tab),d.sub?h.set("sub",d.sub):h.delete("sub"),d.sub2?h.set("sub2",d.sub2):h.delete("sub2"),e(h,{replace:!1})};return s.jsxs(Mn,{children:[s.jsx("div",{className:pl.topWrap,children:s.jsx(rB,{logoSrc:dB,categories:l2,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:pl.divider}),s.jsx("div",{className:pl.contentArea,children:l?s.jsx(l,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:pl.placeholder,children:[s.jsx("h2",{className:pl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:pl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(CH,{categories:l2,onNavigate:c,autoFocusSearch:!1})]})})]})}const RH="_wrap_1353r_1",PH="_centerLogoWrap_1353r_21",NH="_centerLogoLink_1353r_37",DH="_centerLogo_1353r_21",LH="_arc_1353r_71",MH="_left_1353r_73",FH="_right_1353r_75",VH="_sub_1353r_77",$H="_full_1353r_79",BH="_arcItem_1353r_81",OH="_iconBtn_1353r_87",UH="_active_1353r_141",zH="_iconImg_1353r_151",HH="_placeholderIcon_1353r_155",WH="_placeholderText_1353r_173",GH="_iconLabel_1353r_177",Pn={wrap:RH,centerLogoWrap:PH,centerLogoLink:NH,centerLogo:DH,arc:LH,left:MH,right:FH,sub:VH,full:$H,arcItem:BH,iconBtn:OH,active:UH,iconImg:zH,placeholderIcon:HH,placeholderText:WH,iconLabel:GH},qH=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Fs();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),_=g.get("sub");l=r==="sub"?d===v&&!!_&&h===_:d===v}catch(c){l=!1}return s.jsxs(an,{to:t,"aria-label":e,className:[Pn.iconBtn,r==="sub"?Pn.muted:"",l?Pn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Pn.iconImg}):s.jsx("div",{className:Pn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Pn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Pn.iconLabel,children:e})]})},Sg=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440})=>{const d=L.useMemo(()=>{const p=t.length;if(p===0)return[];let g=-90,v=90;e==="left"?(g=90,v=270):e==="sub"?n==="left"?(g=90,v=270):(g=-90,v=90):e==="full"&&(g=0,v=360);const _=(v-g)/(p+1),T=r?190:250;return t.map((I,N)=>{const O=(g+_*(N+1))*Math.PI/180;return{it:I,x:Math.cos(O)*T,y:Math.sin(O)*T}})},[t,e,n,r]),h=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return s.jsx("div",{className:[Pn.arc,e==="left"?Pn.left:"",e==="right"?Pn.right:"",e==="sub"?Pn.sub:"",e==="full"?Pn.full:""].join(" "),style:h,children:d.map(({it:p,x:g,y:v})=>s.jsx("div",{className:Pn.arcItem,style:{transform:`translate(${g}px, ${v}px)`},children:s.jsx(qH,{to:p.to,label:p.label,icon:p.icon,variant:o})},p.key))})},zc=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],KH={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},QH=({logoSrc:t})=>{var _,T,I;const[e]=Au(),n=e.get("tab")||null,r=L.useMemo(()=>zc.filter(N=>N.side==="left"),[zc]),o=L.useMemo(()=>zc.filter(N=>N.side==="right"),[zc]),l=n?(_=KH[n])!=null?_:[]:[],c=(I=(T=zc.find(N=>N.key===n))==null?void 0:T.side)!=null?I:"right",d=L.useRef(null),[h,p]=L.useState(220),[g,v]=L.useState(440);return L.useEffect(()=>{const N=()=>{var w,R;const O=((R=(w=d.current)==null?void 0:w.offsetWidth)!=null?R:380)/2,A=Math.round(O+60),x=Math.round(A+220);p(A),v(x)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),s.jsxs("div",{className:Pn.wrap,children:[s.jsx("div",{className:Pn.centerLogoWrap,children:s.jsx(an,{to:"/community",className:Pn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:d,src:t,alt:"Community Hub",className:Pn.centerLogo})})}),s.jsx(Sg,{items:r.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"left",variant:"main",arcOffset:h}),s.jsx(Sg,{items:o.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&s.jsx(Sg,{items:l.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},YH="_topWrap_1rivx_1",XH="_divider_1rivx_19",JH="_contentArea_1rivx_53",ZH="_placeholder_1rivx_63",eW="_placeholderTitle_1rivx_77",tW="_placeholderText_1rivx_91",fl={topWrap:YH,divider:XH,contentArea:JH,placeholder:ZH,placeholderTitle:eW,placeholderText:tW},nW="/test/assets/logo_communityhub-LVMLHRD6.png";function XE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Creators"}),s.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function JE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function ZE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function eT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function tT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const sW={creators:XE,scans:JE,predictions:ZE,news:eT,feedback:tT};function rW(){const[t]=Au(),e=t.get("tab")||"",n=sW[e];return s.jsxs(Mn,{children:[s.jsx("div",{className:fl.topWrap,children:s.jsx(QH,{logoSrc:nW,titleI18nKey:"community.index.title"})}),s.jsx("div",{className:fl.divider}),s.jsx("div",{className:fl.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:fl.placeholder,children:[s.jsx("h2",{className:fl.placeholderTitle,children:"Community"}),s.jsx("p",{className:fl.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function iW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(an,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(an,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function oW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function aW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function lW(){return s.jsx(Mn,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(cW,{}),right:s.jsx(uW,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Eg,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Eg,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),s.jsx(Eg,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function cW(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Nh,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Nh,{to:"/guild-hub/fusion",children:"Fusion"}),s.jsx(Nh,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Nh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function uW(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Eg({to:t,title:e,desc:n}){return s.jsxs(an,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Nh({to:t,children:e}){return s.jsx(an,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function dW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Planner"})})}function hW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Fusion"})})}function pW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Waitlist"})})}function fW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Activity"})})}function mW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Imports"})})}function gW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Announcements"})})}function yW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Events"})})}function xW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Roles"})})}function vW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Settings"})})}function _W(){return s.jsx(Mn,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Wt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function bW(){return s.jsx("div",{style:Wt.wrap,children:s.jsxs("div",{style:Wt.grid,children:[s.jsxs("aside",{style:Wt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:Wt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:Wt.groupLabel,children:"Allgemein"}),s.jsx(vs,{to:"list-views",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"List-View Switcher"}),s.jsx(vs,{to:"rescan-widget",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(vs,{to:"upload-sim",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"Upload Simulator"}),s.jsx(vs,{to:"hud/game-buttons",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(vs,{to:"theme-maker",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"Theme / Template Maker"}),s.jsx(vs,{to:"theme-maker-pro",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:Wt.groupLabel,children:"Guide Hub Demos"}),s.jsx(vs,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...Wt.link,...t?Wt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"})]})]}),s.jsx("section",{style:Wt.tile,children:s.jsx(Z2,{})})]})})}const wW="_page_1kokx_1",jW="_topBar_1kokx_17",SW="_tabs_1kokx_31",EW="_tab_1kokx_31",TW="_tabActive_1kokx_63",kW="_searchWrap_1kokx_73",CW="_input_1kokx_85",IW="_stickyIcons_1kokx_105",AW="_iconBtn_1kokx_129",RW="_tableWrap_1kokx_161",PW="_table_1kokx_161",NW="_th_1kokx_181",DW="_td_1kokx_181",LW="_row_1kokx_201",MW="_chips_1kokx_219",FW="_chip_1kokx_219",VW="_badges_1kokx_249",$W="_badge_1kokx_249",BW="_badgeMax_1kokx_275",OW="_badgeAchiev_1kokx_277",UW="_badgeX2_1kokx_279",zW="_badgeX12_1kokx_281",HW="_badgeX60_1kokx_283",WW="_section_1kokx_289",GW="_sectionHeader_1kokx_297",qW="_cardList_1kokx_315",KW="_card_1kokx_315",QW="_cardMax_1kokx_353",YW="_iconXL_1kokx_355",XW="_split_1kokx_369",JW="_left_1kokx_379",ZW="_leftBtn_1kokx_399",eG="_leftBtnActive_1kokx_411",tG="_detail_1kokx_413",nG="_grid_1kokx_433",sG="_tile_1kokx_443",rG="_drawer_1kokx_457",iG="_timeline_1kokx_487",oG="_node_1kokx_493",aG="_dot_1kokx_501",Le={page:wW,topBar:jW,tabs:SW,tab:EW,tabActive:TW,searchWrap:kW,input:CW,stickyIcons:IW,iconBtn:AW,tableWrap:RW,table:PW,th:NW,td:DW,row:LW,chips:MW,chip:FW,badges:VW,badge:$W,badgeMax:BW,badgeAchiev:OW,badgeX2:UW,badgeX12:zW,badgeX60:HW,section:WW,sectionHeader:GW,cardList:qW,card:KW,cardMax:QW,iconXL:YW,split:XW,left:JW,leftBtn:ZW,leftBtnActive:eG,detail:tG,grid:nG,tile:sG,drawer:rG,timeline:iG,node:oG,dot:aG},x2=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function rr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function lG(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function cG(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function _p({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Le.iconBtn,title:t||"Rune",children:e})}function lx({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Le.iconXL,title:t||"Rune",children:e})}function uG(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function qu({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Le.chips,children:e.map((n,r)=>s.jsx("span",{className:Le.chip,children:n},r))})}function Ku({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Le.badgeMax}),lG(t)&&n.push({label:"Achievement",cls:Le.badgeAchiev});const r=cG(t);return r==="x2"&&n.push({label:"x2",cls:Le.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Le.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Le.badgeX60}),n.length===0?null:s.jsx("div",{className:Le.badges,children:n.map((o,l)=>{var c;return s.jsx("span",{className:`${Le.badge} ${(c=o.cls)!=null?c:""}`,children:o.label},l)})})}function dG(t){const e=t.trim().toLowerCase();return e?x2.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):x2}function hG({data:t}){const e=Math.max(...t.map(o=>rr(o.amount))),n=L.useMemo(()=>Array.from(new Set(t.map(o=>o.tier||"(no tier)"))),[t]);function r(o){const l=document.querySelector(`[data-tier="${CSS.escape(o||"(no tier)")}"`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Le.stickyIcons,children:n.map((o,l)=>s.jsx("div",{onClick:()=>r(o),children:s.jsx(_p,{label:o||"(no tier)"})},l))}),s.jsx("div",{className:Le.tableWrap,children:s.jsxs("table",{className:Le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Le.th,style:{width:42}}),s.jsx("th",{className:Le.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Le.th,children:"Bonuses"}),s.jsx("th",{className:Le.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((o,l)=>{const c=Math.abs(rr(o.amount)-e)<1e-6;return s.jsxs("tr",{className:Le.row,"data-tier":o.tier||"(no tier)",children:[s.jsx("td",{className:Le.td,children:s.jsx(_p,{label:o.tier||""})}),s.jsx("td",{className:Le.td,children:o.amount}),s.jsx("td",{className:Le.td,children:s.jsx(qu,{r:o})}),s.jsx("td",{className:Le.td,children:s.jsx(Ku,{r:o,isMax:c})})]},l)})})]})})]})}function pG({data:t}){const e=uG(t),n=Math.max(...t.map(r=>rr(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,o])=>s.jsxs("section",{className:Le.section,children:[s.jsx("div",{className:Le.sectionHeader,children:r}),s.jsx("div",{className:Le.cardList,children:o.map((l,c)=>{const d=Math.abs(rr(l.amount)-n)<1e-6;return s.jsxs("div",{className:`${Le.card} ${d?Le.cardMax:""}`,children:[s.jsx(lx,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:l.amount}),s.jsx(Ku,{r:l,isMax:d})]}),s.jsx(qu,{r:l})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function fG({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=L.useState((c=e[0])!=null?c:""),o=t.filter(d=>(d.tier||"(no tier)")===n),l=Math.max(...t.map(d=>rr(d.amount)));return s.jsxs("div",{className:Le.split,children:[s.jsx("div",{className:Le.left,children:e.map(d=>s.jsxs("button",{className:`${Le.leftBtn} ${d===n?Le.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(_p,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Le.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(lx,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),o.map((d,h)=>{const p=Math.abs(rr(d.amount)-l)<1e-6;return s.jsxs("div",{className:Le.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(Ku,{r:d,isMax:p})]}),s.jsx(qu,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function mG({data:t}){const[e,n]=L.useState(null),r=Math.max(...t.map(o=>rr(o.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Le.grid,children:t.map((o,l)=>s.jsx("div",{className:Le.tile,onClick:()=>n(o),title:o.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(_p,{label:o.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:o.amount})]})},l))}),e&&s.jsxs("div",{className:Le.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(lx,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Le.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(Ku,{r:e,isMax:Math.abs(rr(e.amount)-r)<1e-6})}),s.jsx(qu,{r:e})]})]})}function gG({data:t}){const e=Math.max(...t.map(r=>rr(r.amount))),n=[...t].sort((r,o)=>rr(r.amount)-rr(o.amount));return s.jsx("div",{className:Le.timeline,children:n.map((r,o)=>{const l=Math.abs(rr(r.amount)-e)<1e-6;return s.jsxs("div",{className:Le.node,children:[s.jsx("div",{className:Le.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(Ku,{r,isMax:l})]}),s.jsx(qu,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},o)})})}const yG=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function xG(){const[t,e]=L.useState("A: Compact Table"),[n,r]=L.useState(""),o=dG(n);return s.jsxs("div",{className:Le.page,children:[s.jsxs("div",{className:Le.topBar,children:[s.jsx("div",{className:Le.tabs,children:yG.map(l=>s.jsx("button",{onClick:()=>e(l),className:`${Le.tab} ${t===l?Le.tabActive:""}`,children:l},l))}),s.jsx("div",{className:Le.searchWrap,children:s.jsx("input",{className:Le.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:l=>r(l.target.value)})})]}),t==="A: Compact Table"&&s.jsx(hG,{data:o}),t==="B: Card Track"&&s.jsx(pG,{data:o}),t==="C: Two-Pane"&&s.jsx(fG,{data:o}),t==="D: Icon Grid + Drawer"&&s.jsx(mG,{data:o}),t==="E: Timeline"&&s.jsx(gG,{data:o})]})}function vG(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(vs,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const le={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},_G=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),ha={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function bG(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Ql(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",bG(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function nT(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},v={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},T={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:d,neon:h,plasma:p,aurora:g,satin:v,matte:_,holo:T}[t.material]}function Co(t){const e={color:le.title,borderColor:le.border,...nT(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Qu=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function Yl({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function wG({fx:t,children:e}){const n=Ql(t),r=Co(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(Yl,{fx:t,clip:o}),t.withIcon&&s.jsx(ow,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function jG({fx:t,children:e}){const n=Ql(t),r=Co(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(Yl,{fx:t,clip:o}),t.withIcon&&s.jsx(aw,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function SG({fx:t,children:e}){const n=Ql(t),r=Co(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(Yl,{fx:t,clip:o}),t.withIcon&&s.jsx(Ru,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function EG({fx:t,children:e}){const n=Ql(t),r=Co(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${le.tile}, ${le.active})`}}),s.jsx(Yl,{fx:t,clip:o}),t.withIcon&&s.jsx(lw,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function TG({fx:t,children:e}){const n=Ql(t),r=Co(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(Yl,{fx:t}),t.withIcon&&s.jsx(Sp,{size:16,className:"relative z-10"}),s.jsx(Qu,{children:e})]})}function kG({fx:t,tabs:e}){const[n,r]=L.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:e.map((o,l)=>s.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?le.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&s.jsx(Sp,{size:14,className:"inline mr-1"}),o]},l))})}function CG({fx:t}){const e=Ql(t),n=Co(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(cw,{})})}const _y={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function IG({fx:t,setFx:e}){const n=(d,h)=>e(p=>({...p,[d]:h})),r=d=>e(h=>({...h,[d]:!h[d]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Presets"}),Object.keys(_y).map(d=>s.jsx("button",{onClick:()=>e(h=>_y[d](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Material"}),o.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:le.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?le.active:le.btn,borderColor:le.border,color:le.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?le.active:le.btn,borderColor:le.border,color:le.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Core FX"}),l.map(([d,h])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:h},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Advanced"}),c.map(([d,h])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:h},d))]}),s.jsx("button",{onClick:()=>e(ha),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:"Reset"})]})}function jt({fx:t,className:e="",style:n={},children:r,clip:o}){const l=Co(t);return s.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[s.jsx(Yl,{fx:t,clip:o}),s.jsx("div",{className:"relative z-10",children:r})]})}function ns({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:n})}function AG({fx:t}){const[e,n]=L.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return s.jsx(jt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(c=>l?c.filter(d=>d!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function RG({fx:t}){return s.jsxs(ns,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:le.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(jt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:le.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(cw,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function PG({fx:t}){return s.jsxs(jt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(jt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:le.border},children:e},e))})]})}function NG({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(jt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:le.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function DG({fx:t}){const[e,n]=L.useState(.66);return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Meter / Energy Bar"}),s.jsx(jt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:le.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function LG({fx:t}){return s.jsxs(ns,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Badge / Medal"}),s.jsxs(jt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:le.border},children:[s.jsx(Ru,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function MG({fx:t}){const[e,n]=L.useState(!1);return s.jsxs(ns,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toast / Notification"}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(jt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:le.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function FG({fx:t}){const[e,n]=L.useState(!0);return s.jsxs(ns,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toggle Switch"}),s.jsxs(jt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:le.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function VG({fx:t}){const[e,n]=L.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dropdown HUD"}),s.jsx(jt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(jt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:le.border},children:r.map(o=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function $G({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,d=56+Math.sin(o)*l;return s.jsx(jt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:le.border},children:n},n)}),s.jsx(jt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:le.border},children:"Menu"})]})]})}function BG({fx:t}){const e=[1,2,3,4,5],[n,r]=L.useState(2);return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>s.jsx(jt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:le.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function OG({fx:t}){const[e,n]=L.useState(!1);return s.jsxs(ns,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Modal HUD"}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(jt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:le.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function UG({fx:t}){const[e,n]=L.useState("");return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Search HUD"}),s.jsx(jt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:le.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function zG({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=L.useState("Bravo");return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsx(jt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:le.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function HG({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=L.useState(1);return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>s.jsxs(Ve.Fragment,{children:[s.jsx(jt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:le.border},children:l+1}),l<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function WG({fx:t}){const e=["","","","","",""];return s.jsxs(ns,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(jt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:le.border},children:n},r))})]})}function GG(){const[t,e]=L.useState(ha);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:le.bg,color:le.txt},children:[s.jsx(_G,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pI,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:le.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:le.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(IG,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(wG,{fx:t,children:[s.jsx(ow,{size:16})," Diamond"]}),s.jsxs(jG,{fx:t,children:[s.jsx(aw,{size:16})," Hex"]}),s.jsxs(SG,{fx:t,children:[s.jsx(Ru,{size:16})," Octagon/Shield"]}),s.jsxs(EG,{fx:t,children:[s.jsx(lw,{size:16})," Shard"]}),s.jsxs(TG,{fx:t,children:[s.jsx(Sp,{size:16})," Pill/Chip"]}),s.jsx(CG,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:le.title},children:"Tabs"}),s.jsx(kG,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(AG,{fx:t}),s.jsx(RG,{fx:t}),s.jsx(PG,{fx:t}),s.jsx(NG,{fx:t}),s.jsx(DG,{fx:t}),s.jsx(LG,{fx:t}),s.jsx(MG,{fx:t}),s.jsx(FG,{fx:t}),s.jsx(VG,{fx:t}),s.jsx($G,{fx:t}),s.jsx(BG,{fx:t}),s.jsx(OG,{fx:t}),s.jsx(UG,{fx:t}),s.jsx(zG,{fx:t}),s.jsx(HG,{fx:t}),s.jsx(WG,{fx:t})]})]})}),s.jsx(qG,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:le.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function qG(){return L.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(ha.material),"Material type present");const e=Co(ha);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=nT({...ha,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof ha[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(_y).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...ha});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const uu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},v2={Arcade:{...uu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...uu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},ml={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},sT={display:"grid",gap:8,alignItems:"center"};function wi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...sT,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Tg({label:t,value:e,min:n,max:r,onChange:o}){return s.jsxs("label",{style:{...sT,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function _2(){const[t,e]=Ve.useState(uu),n=Ve.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${h.gap}px`))};Ve.useEffect(()=>{r(t)},[t]);const o=h=>e(v2[h]),l=()=>e(uu),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme.json",p.click()},d=async h=>{const p=await h.text();e({...uu,...JSON.parse(p)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(v2).map(h=>s.jsx("button",{style:ml,onClick:()=>o(h),children:h},h)),s.jsx("button",{style:ml,onClick:l,children:"Default"}),s.jsx("button",{style:ml,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...ml,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&d(h.target.files[0]),style:{display:"none"}})]})]}),s.jsx(wi,{label:"Page",value:t.page,onChange:h=>e(p=>({...p,page:h}))}),s.jsx(wi,{label:"Tile",value:t.tile,onChange:h=>e(p=>({...p,tile:h}))}),s.jsx(wi,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(p=>({...p,tileHover:h}))}),s.jsx(wi,{label:"Nav",value:t.nav,onChange:h=>e(p=>({...p,nav:h}))}),s.jsx(wi,{label:"Active",value:t.active,onChange:h=>e(p=>({...p,active:h}))}),s.jsx(wi,{label:"Text",value:t.text,onChange:h=>e(p=>({...p,text:h}))}),s.jsx(wi,{label:"Text Soft",value:t.textSoft,onChange:h=>e(p=>({...p,textSoft:h}))}),s.jsx(wi,{label:"Title",value:t.title,onChange:h=>e(p=>({...p,title:h}))}),s.jsx(wi,{label:"Line",value:t.line,onChange:h=>e(p=>({...p,line:h}))}),s.jsx(Tg,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(p=>({...p,radius:h}))}),s.jsx(Tg,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(p=>({...p,shadow:h}))}),s.jsx(Tg,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(p=>({...p,gap:h}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...ml,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:ml,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,p)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const by={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},b2={"SFDataHub (Default)":{...by},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Jp={display:"grid",gap:8,alignItems:"center"},oa={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},aa={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function tr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...Jp,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function ji({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return s.jsxs("label",{style:{...Jp,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function KG({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...Jp,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function w2(){const[t,e]=Ve.useState(by),n=Ve.useRef(null),r=p=>{const g=n.current;g&&(g.style.setProperty("--page",p.page),g.style.setProperty("--tile",p.tile),g.style.setProperty("--tile-hover",p.tileHover),g.style.setProperty("--nav",p.nav),g.style.setProperty("--active",p.active),g.style.setProperty("--text",p.text),g.style.setProperty("--text-soft",p.textSoft),g.style.setProperty("--title",p.title),g.style.setProperty("--line",p.line),g.style.setProperty("--accent",p.accent),g.style.setProperty("--success",p.success),g.style.setProperty("--warning",p.warning),g.style.setProperty("--danger",p.danger),g.style.setProperty("--radius",`${p.radius}px`),g.style.setProperty("--border",`${p.border}px`),g.style.setProperty("--gap",`${p.gap}px`),g.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),g.style.setProperty("--noise",`${p.noise}%`),g.style.setProperty("--font",p.fontFamily),g.style.setProperty("--font-size",`${p.fontSize}px`),g.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${p.glow}`),g.style.setProperty("--scanlines",`${p.scanlines}`))};Ve.useEffect(()=>{r(t)},[t]);const o=(p,g)=>e(v=>({...v,[p]:g})),l=p=>e(g=>({...g,...b2[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(p),g.download="sfdatahub-theme-pro.json",g.click()},d=async p=>{try{const g=await p.text(),v=JSON.parse(g);e({...t,...v})}catch(g){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(b2).map(p=>s.jsx("button",{style:oa,onClick:()=>l(p),children:p},p)),s.jsx("button",{style:oa,onClick:()=>e(by),children:"Reset"}),s.jsx("button",{style:oa,onClick:c,children:"Export"}),s.jsxs("label",{style:{...oa,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(tr,{label:"Page",value:t.page,onChange:p=>o("page",p)}),s.jsx(tr,{label:"Tile",value:t.tile,onChange:p=>o("tile",p)}),s.jsx(tr,{label:"Tile Hover",value:t.tileHover,onChange:p=>o("tileHover",p)}),s.jsx(tr,{label:"Active",value:t.active,onChange:p=>o("active",p)}),s.jsx(tr,{label:"Text",value:t.text,onChange:p=>o("text",p)}),s.jsx(tr,{label:"Text Soft",value:t.textSoft,onChange:p=>o("textSoft",p)}),s.jsx(tr,{label:"Title",value:t.title,onChange:p=>o("title",p)}),s.jsx(tr,{label:"Line",value:t.line,onChange:p=>o("line",p)}),s.jsx(tr,{label:"Accent",value:t.accent,onChange:p=>o("accent",p)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(tr,{label:"Success",value:t.success,onChange:p=>o("success",p)}),s.jsx(tr,{label:"Warning",value:t.warning,onChange:p=>o("warning",p)}),s.jsx(tr,{label:"Danger",value:t.danger,onChange:p=>o("danger",p)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(ji,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>o("radius",p)}),s.jsx(ji,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>o("border",p)}),s.jsx(ji,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>o("gap",p)}),s.jsx(ji,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>o("shadow",p)}),s.jsx(ji,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>o("surfaceOpacity",p),suffix:"%"}),s.jsx(ji,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>o("noise",p),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...Jp,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:p=>o("fontFamily",p.target.value)})]}),s.jsx(ji,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>o("fontSize",p)}),s.jsx(KG,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>o("headingsTight",p)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(ji,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>o("glow",p)}),s.jsx(ji,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>o("scanlines",p)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:aa,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...aa,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...aa,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...aa,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:aa,children:["Radius: ",t.radius]}),s.jsxs("span",{style:aa,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:aa,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((p,g)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:p.label}),s.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},g))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...oa,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...oa,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,g)=>s.jsx("button",{style:{...oa,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,g)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),s.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},g))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,g)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:p[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},g))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const j2=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function QG(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:j2[n%j2.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const kg={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function S2(){const[t,e]=L.useState("rows"),[n,r]=L.useState(0),[o,l]=L.useState(""),[c,d]=L.useState(60),h=L.useMemo(()=>QG(240),[]),p=L.useMemo(()=>h.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[h,n,o,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:o,onChange:g=>l(g.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...kg,padding:0,overflow:"hidden"},children:p.map(g=>{var v;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[g.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>{var v;return s.jsxs("div",{style:kg,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:g.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>s.jsxs("div",{style:{...kg,height:140+parseInt(g.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:g.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function E2(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function T2(){const[t,e]=L.useState(120),[n,r]=L.useState(()=>E2(24));L.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),h=[...c];return h[d]={...h[d],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(l)},[]),L.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=L.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(E2(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[l.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function YG(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function k2(){const[t,e]=L.useState("idle"),[n,r]=L.useState(null),[o,l]=L.useState(!1),c=L.useCallback(async d=>{var p;d.preventDefault(),l(!1);const h=(p=d.dataTransfer.files)==null?void 0:p[0];if(h){e("validating");try{const g=await h.text(),{isHar:v,isSf:_}=YG(g);if(e("parsing"),await new Promise(T=>setTimeout(T,600)),!v&&!_){e("error"),r({isHar:v,isSf:_,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:v,isSf:_,sizeKB:Math.round(h.size/1024),summary:`Detected: ${v?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const W={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},XG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},JG={maxWidth:1200,margin:"0 auto"},ZG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function eq(){return s.jsx("div",{style:XG,children:s.jsxs("div",{style:JG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ZG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${W.line}`,borderRadius:12,padding:24,textAlign:"center",background:W.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const tq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},nq={maxWidth:1200,margin:"0 auto"},sq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function rq(){return s.jsx("div",{style:tq,children:s.jsxs("div",{style:nq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:sq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const iq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},oq={maxWidth:1200,margin:"0 auto"},aq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function lq(){return s.jsx("div",{style:iq,children:s.jsxs("div",{style:oq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:aq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const cq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},uq={maxWidth:1200,margin:"0 auto"},dq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function hq(){return s.jsx("div",{style:cq,children:s.jsxs("div",{style:uq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dq,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${W.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:W.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const pq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},fq={maxWidth:1200,margin:"0 auto"},mq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function gq(){return s.jsx("div",{style:pq,children:s.jsxs("div",{style:fq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:mq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:W.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:W.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const yq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},xq={maxWidth:1200,margin:"0 auto"},vq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function _q(){return s.jsx("div",{style:yq,children:s.jsxs("div",{style:xq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const bq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},wq={maxWidth:1200,margin:"0 auto"},jq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Sq(){return s.jsx("div",{style:bq,children:s.jsxs("div",{style:wq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jq,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${W.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${W.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:W.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const Eq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Tq={maxWidth:1200,margin:"0 auto"},kq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Cq(){return s.jsx("div",{style:Eq,children:s.jsxs("div",{style:Tq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:kq,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const Iq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Aq={maxWidth:1200,margin:"0 auto"},Rq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Pq(){return s.jsx("div",{style:Iq,children:s.jsxs("div",{style:Aq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Rq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const Nq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Dq={maxWidth:1200,margin:"0 auto"},Lq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Mq(){return s.jsx("div",{style:Nq,children:s.jsxs("div",{style:Dq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Lq,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const Fq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Vq={maxWidth:1200,margin:"0 auto"},$q={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Bq(){return s.jsx("div",{style:Fq,children:s.jsxs("div",{style:Vq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:$q,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Oq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Uq={maxWidth:1200,margin:"0 auto"},zq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Hq(){return s.jsx("div",{style:Oq,children:s.jsxs("div",{style:Uq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const Wq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Gq={maxWidth:1200,margin:"0 auto"},qq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Kq(){return s.jsx("div",{style:Wq,children:s.jsxs("div",{style:Gq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:W.text,border:`1px solid ${W.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:W.text,border:`1px solid ${W.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${W.line}`,borderRadius:10},children:"Send"})]})})]})})}const Qq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Yq={maxWidth:1200,margin:"0 auto"},Xq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Jq(){return s.jsx("div",{style:Qq,children:s.jsxs("div",{style:Yq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Xq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const Zq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},eK={maxWidth:1200,margin:"0 auto"},tK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function nK(){return s.jsx("div",{style:Zq,children:s.jsxs("div",{style:eK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const sK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},rK={maxWidth:1200,margin:"0 auto"},iK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function oK(){return s.jsx("div",{style:sK,children:s.jsxs("div",{style:rK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:iK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${W.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const aK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},lK={maxWidth:1200,margin:"0 auto"},cK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function uK(){return s.jsx("div",{style:aK,children:s.jsxs("div",{style:lK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const dK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},hK={maxWidth:1200,margin:"0 auto"},pK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function fK(){return s.jsx("div",{style:dK,children:s.jsxs("div",{style:hK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:pK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const mK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},gK={maxWidth:1200,margin:"0 auto"},yK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function xK(){return s.jsx("div",{style:mK,children:s.jsxs("div",{style:gK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:yK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const vK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},_K={maxWidth:1200,margin:"0 auto"},bK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function wK(){return s.jsx("div",{style:vK,children:s.jsxs("div",{style:_K,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:bK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const jK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},SK={maxWidth:1200,margin:"0 auto"},EK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function TK(){return s.jsx("div",{style:jK,children:s.jsxs("div",{style:SK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:EK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:W.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const kK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},CK={maxWidth:1200,margin:"0 auto"},IK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function AK(){return s.jsx("div",{style:kK,children:s.jsxs("div",{style:CK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:IK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:W.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const RK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},PK={maxWidth:1200,margin:"0 auto"},NK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function DK(){return s.jsx("div",{style:RK,children:s.jsxs("div",{style:PK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:NK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const LK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},MK={maxWidth:1200,margin:"0 auto"},FK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function VK(){return s.jsx("div",{style:LK,children:s.jsxs("div",{style:MK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:FK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const $K={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},BK={maxWidth:1200,margin:"0 auto"},OK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function UK(){return s.jsx("div",{style:$K,children:s.jsxs("div",{style:BK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:OK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const zK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},HK={maxWidth:1200,margin:"0 auto"},WK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function GK(){return s.jsx("div",{style:zK,children:s.jsxs("div",{style:HK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:WK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const qK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},KK={maxWidth:1200,margin:"0 auto"},QK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function YK(){return s.jsx("div",{style:qK,children:s.jsxs("div",{style:KK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:QK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const XK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},JK={maxWidth:1200,margin:"0 auto"},ZK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function eQ(){return s.jsx("div",{style:XK,children:s.jsxs("div",{style:JK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ZK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const tQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},nQ={maxWidth:1200,margin:"0 auto"},sQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function rQ(){return s.jsx("div",{style:tQ,children:s.jsxs("div",{style:nQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:sQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const iQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},oQ={maxWidth:1200,margin:"0 auto"},aQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function lQ(){return s.jsx("div",{style:iQ,children:s.jsxs("div",{style:oQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:aQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const cQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},uQ={maxWidth:1200,margin:"0 auto"},dQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function hQ(){return s.jsx("div",{style:cQ,children:s.jsxs("div",{style:uQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const pQ="_backdrop_19xh2_1",fQ="_panel_19xh2_19",mQ="_header_19xh2_43",gQ="_tabs_19xh2_63",yQ="_tabBtn_19xh2_75",xQ="_tabActive_19xh2_97",vQ="_closeBtn_19xh2_101",_Q="_content_19xh2_123",Qr={backdrop:pQ,panel:fQ,header:mQ,tabs:gQ,tabBtn:yQ,tabActive:xQ,closeBtn:vQ,content:_Q},Gh=t=>String(t!=null?t:"").trim(),ho=t=>Gh(t).toUpperCase(),bt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),qh=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),C2=t=>{const e=qh(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},I2=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Cg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},We={PLAYERS:{IDENTIFIER:bt("Identifier"),PID:bt("ID"),GUILD_IDENTIFIER:bt("Guild Identifier"),SERVER:bt("Server"),NAME:bt("Name"),TIMESTAMP:bt("Timestamp"),LEVEL:bt("Level"),CLASS:bt("Class"),GUILD:bt("Guild")},GUILDS:{GUILD_IDENTIFIER:bt("Guild Identifier"),SERVER:bt("Server"),NAME:bt("Name"),MEMBER_COUNT:bt("Guild Member Count"),TIMESTAMP:bt("Timestamp"),HOF:bt("Hall of Fame Rank"),HOF_ALT:bt("HoF"),RANK:bt("Rank"),GUILD_RANK:bt("Guild Rank")}},bQ=new Set([bt("Strength"),bt("Dexterity"),bt("Intelligence"),bt("Constitution"),bt("Luck"),bt("Attribute")]),wQ=["equipment"],jQ=t=>bQ.has(t)||wQ.some(e=>t.includes(e)),Qe=(t,e)=>{for(const n of Object.keys(t))if(bt(n)===e)return t[n]},SQ=(t,e)=>e.map(n=>Qe(t,n)).find(n=>n!=null&&String(n)!=="");function bp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function A2(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${c}-W${d}`}function R2(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function P2(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function N2(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function EQ(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function TQ(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=EQ((h=n[0])!=null?h:""),o=p=>{const g=[];let v="",_=!1;for(let T=0;T<p.length;T++){const I=p[T];I==='"'?_&&p[T+1]==='"'?(v+='"',T++):_=!_:I===r&&!_?(g.push(v),v=""):v+=I}return g.push(v),g},c=(n[0]?o(n[0]).map(Gh):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=o(n[p]);if(g.every(_=>Gh(_)===""))continue;const v={};for(let _=0;_<c.length;_++)v[c[_]]=g[_]!=null?Gh(g[_]):"";d.push(v)}return{headers:c,rows:d}}const D2=120,L2=40,M2=120;async function gl(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=S3(wt),c=t.slice(o,o+e);for(const d of c)d(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Dh(t,e){const n={};for(const r of e){const o=bt(r);if(jQ(o)){let l=null,c;for(const d of t){const h=d.row[r];if(h==null||h==="")continue;const p=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=h)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function F2(t){var o;const e=await Ar(t);if(!e.exists())return 0;const n=e.data();if(((o=n==null?void 0:n.values)==null?void 0:o.Timestamp)!=null){const l=bp(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=bp(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function V2(t,e){var g,v,_,T,I;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=TQ(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const N of c)Object.keys(N).forEach(P=>d.add(P));const h=Array.from(d);if(e.kind==="players"){const N=[],P=[],O=[],V=new Map;for(const A of c){const x=(g=Qe(A,We.PLAYERS.PID))!=null?g:Qe(A,We.PLAYERS.IDENTIFIER),w=String(x!=null?x:"").trim();if(!w){l.skippedMissingIdentifier++;continue}const R=bp(Qe(A,We.PLAYERS.TIMESTAMP));if(R==null){l.skippedBadTs++;continue}const E=(()=>{const S=Qe(A,We.PLAYERS.SERVER);return S&&String(S).trim()!==""?ho(S):void 0})();if(!E){l.skippedMissingServer++;continue}N.push(S=>{const C=en(wt,`players/${w}/scans/${R}`);S.set(C,{playerId:w,server:E,timestamp:R,timestampRaw:Qe(A,We.PLAYERS.TIMESTAMP),name:Qe(A,We.PLAYERS.NAME)||null,values:A,createdAt:Ti()},{merge:!0})}),l.writtenScanPlayers++,V.has(w)||V.set(w,[]),V.get(w).push({row:A,ts:R})}for(const[A,x]of V){x.sort((Q,oe)=>Q.ts-oe.ts);const w=x[x.length-1],R=ho(Qe(w.row,We.PLAYERS.SERVER)||""),E=Qe(w.row,We.PLAYERS.NAME)||null,S=Qe(w.row,We.PLAYERS.LEVEL),C=Qe(w.row,We.PLAYERS.CLASS),F=Qe(w.row,We.PLAYERS.GUILD),M=(_=(v=Qe(w.row,We.PLAYERS.NAME))!=null?v:E)!=null?_:"",U=C2(M),$=I2(U),ue=en(wt,`players/${A}/latest/latest`),q=await F2(ue);w.ts>q&&(P.push(Q=>{Q.set(ue,{playerId:A,server:R,timestamp:w.ts,timestampRaw:Qe(w.row,We.PLAYERS.TIMESTAMP),name:E,values:w.row,updatedAt:Ti(),nameFold:qh(M),nameTokens:U,nameNgrams:$,level:Cg(S),className:C!=null&&String(C).trim()!==""?String(C):null,guildName:F!=null&&String(F).trim()!==""?String(F):null,guildNameFold:F?qh(F):null},{merge:!0})}),l.writtenLatestPlayers++);const se=new Map,ne=new Map;for(const Q of x){const oe=A2(Q.ts),ie=P2(Q.ts);se.has(oe)||se.set(oe,[]),ne.has(ie)||ne.set(ie,[]),se.get(oe).push(Q),ne.get(ie).push(Q)}for(const[Q,oe]of se){oe.sort((ye,je)=>ye.ts-je.ts);const ie=Dh(oe,h),G=R2(oe[oe.length-1].ts),ee=oe[oe.length-1];O.push(ye=>{const je=en(wt,`players/${A}/history_weekly/${Q}`);ye.set(je,{playerId:A,weekId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Qe(ee.row,We.PLAYERS.TIMESTAMP),server:ho(Qe(ee.row,We.PLAYERS.SERVER)||""),name:Qe(ee.row,We.PLAYERS.NAME)||null,values:ie,updatedAt:Ti()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,oe]of ne){oe.sort((ye,je)=>ye.ts-je.ts);const ie=Dh(oe,h),G=N2(oe[oe.length-1].ts),ee=oe[oe.length-1];O.push(ye=>{const je=en(wt,`players/${A}/history_monthly/${Q}`);ye.set(je,{playerId:A,monthId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Qe(ee.row,We.PLAYERS.TIMESTAMP),server:ho(Qe(ee.row,We.PLAYERS.SERVER)||""),name:Qe(ee.row,We.PLAYERS.NAME)||null,values:ie,updatedAt:Ti()},{merge:!0})}),l.writtenMonthlyPlayers++}}await gl(N,D2,"scans",e.onProgress),await gl(P,L2,"latest",e.onProgress),await gl(O,M2,"history",e.onProgress)}if(e.kind==="guilds"){const N=[],P=[],O=[],V=new Map;for(const A of c){const x=String((T=Qe(A,We.GUILDS.GUILD_IDENTIFIER))!=null?T:"").trim();if(!x){l.skippedMissingGuildIdentifier++;continue}const w=bp(Qe(A,We.GUILDS.TIMESTAMP));if(w==null){l.skippedBadTsGuild++;continue}const R=(()=>{const E=Qe(A,We.GUILDS.SERVER);return E&&String(E).trim()!==""?ho(E):void 0})();if(!R){l.skippedMissingServer++;continue}N.push(E=>{const S=en(wt,`guilds/${x}/scans/${w}`);E.set(S,{guildIdentifier:x,server:R,timestamp:w,timestampRaw:Qe(A,We.GUILDS.TIMESTAMP),name:Qe(A,We.GUILDS.NAME)||null,values:A,createdAt:Ti()},{merge:!0})}),l.writtenScanGuilds++,V.has(x)||V.set(x,[]),V.get(x).push({row:A,ts:w})}for(const[A,x]of V){x.sort((q,se)=>q.ts-se.ts);const w=x[x.length-1],R=(I=Qe(w.row,We.GUILDS.NAME))!=null?I:"",E=C2(R),S=I2(E),C=Cg(Qe(w.row,We.GUILDS.MEMBER_COUNT)),F=Cg(SQ(w.row,[We.GUILDS.HOF,We.GUILDS.HOF_ALT,We.GUILDS.RANK,We.GUILDS.GUILD_RANK])),M=en(wt,`guilds/${A}/latest/latest`),U=await F2(M);w.ts>U&&(P.push(q=>{q.set(M,{guildIdentifier:A,server:ho(Qe(w.row,We.GUILDS.SERVER)||""),timestamp:w.ts,timestampRaw:Qe(w.row,We.GUILDS.TIMESTAMP),name:Qe(w.row,We.GUILDS.NAME)||null,values:w.row,updatedAt:Ti(),nameFold:qh(R),nameTokens:E,nameNgrams:S,memberCount:C,hofRank:F},{merge:!0})}),l.writtenLatestGuilds++);const $=new Map,ue=new Map;for(const q of x){const se=A2(q.ts),ne=P2(q.ts);$.has(se)||$.set(se,[]),ue.has(ne)||ue.set(ne,[]),$.get(se).push(q),ue.get(ne).push(q)}for(const[q,se]of $){se.sort((ie,G)=>ie.ts-G.ts);const ne=Dh(se,h),Q=R2(se[se.length-1].ts),oe=se[se.length-1];O.push(ie=>{const G=en(wt,`guilds/${A}/history_weekly/${q}`);ie.set(G,{guildIdentifier:A,weekId:q,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Qe(oe.row,We.GUILDS.TIMESTAMP),server:ho(Qe(oe.row,We.GUILDS.SERVER)||""),name:Qe(oe.row,We.GUILDS.NAME)||null,values:ne,updatedAt:Ti()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[q,se]of ue){se.sort((ie,G)=>ie.ts-G.ts);const ne=Dh(se,h),Q=N2(se[se.length-1].ts),oe=se[se.length-1];O.push(ie=>{const G=en(wt,`guilds/${A}/history_monthly/${q}`);ie.set(G,{guildIdentifier:A,monthId:q,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Qe(oe.row,We.GUILDS.TIMESTAMP),server:ho(Qe(oe.row,We.GUILDS.SERVER)||""),name:Qe(oe.row,We.GUILDS.NAME)||null,values:ne,updatedAt:Ti()},{merge:!0})}),l.writtenMonthlyGuilds++}}await gl(N,D2,"scans",e.onProgress),await gl(P,L2,"latest",e.onProgress),await gl(O,M2,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:p-n}}const Be=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),kQ=t=>String(t!=null?t:"").trim(),wy=t=>kQ(t).toUpperCase(),jy=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Gn(t,e){for(const n of Object.keys(t))if(Be(n)===e)return t[n]}function Si(t,e){for(const n of e){const r=Gn(t,n);if(r!=null&&String(r)!=="")return r}}function la(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Cl(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Jt={GUILD_IDENTIFIER:Be("Guild Identifier"),SERVER:Be("Server"),NAME:Be("Name"),TIMESTAMP:Be("Timestamp"),LEVEL:Be("Level"),CLASS:Be("Class"),GUILD:Be("Guild"),GUILD_ROLE:[Be("Role"),Be("Guild Role")],TREASURY:[Be("Treasury"),Be("Fortress Treasury"),Be("Treasury Level"),Be("Festungsschatzkammer")],MINE:[Be("Mine"),Be("Gem Mine"),Be("Mine Level"),Be("Festungsmine")],BASE_MAIN:[Be("Base"),Be("Base Attribute"),Be("BaseMain"),Be("Basis Attribut")],CON_BASE:[Be("Con Base"),Be("Constitution Base"),Be("Base Constitution"),Be("Basis Konstitution"),Be("conbase")],ATTR_TOT:[Be("Attribute"),Be("Attr Total"),Be("Attribut"),Be("Attribut Gesamt")],CON_TOT:[Be("Constitution"),Be("Constitution Total"),Be("Konstitution"),Be("Konstitution Gesamt")],LAST_ACTIVE:[Be("Last Active"),Be("LastActivity"),Be("Letzte Aktivitt")],GUILD_JOINED:[Be("Guild Joined"),Be("Joined Guild"),Be("Gildenbeitritt")]},Kh={GUILD_IDENTIFIER:Be("Guild Identifier"),SERVER:Be("Server"),NAME:Be("Name")};function $2(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function CQ(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function IQ(t){var n;const e=new Map;for(const r of t){const o=String((n=Gn(r,Kh.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Gn(r,Kh.SERVER),c=Gn(r,Kh.NAME);if(!o||!l||!c)continue;const d=`${wy(l)}__${jy(String(c))}`;e.set(d,o)}return e}function AQ(t){var A,x;const e=Gn(t,Jt.TIMESTAMP),n=Cl(e),r=Si(t,Jt.LAST_ACTIVE),o=Cl(r),l=Si(t,Jt.GUILD_JOINED),c=Cl(l),d=la(Gn(t,Jt.LEVEL)),h=(()=>{const w=Gn(t,Jt.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),p=(()=>{const w=Si(t,Jt.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),g=la(Si(t,Jt.TREASURY)),v=la(Si(t,Jt.MINE)),_=la(Si(t,Jt.BASE_MAIN)),T=la(Si(t,Jt.CON_BASE)),I=la(Si(t,Jt.ATTR_TOT)),N=la(Si(t,Jt.CON_TOT)),P=_!=null&&T!=null?_+T:null,O=I!=null&&N!=null?I+N:null,V=(()=>{const w=Gn(t,Jt.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((x=(A=t==null?void 0:t.ID)!=null?A:t==null?void 0:t.Identifier)!=null?x:""),name:V,class:h,role:p,level:d,treasury:g,mine:v,baseMain:_,conBase:T,sumBaseTotal:P,attrTotal:I,conTotal:N,totalStats:O,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:o!=null?o*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function Ei(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,o)=>r+o,0)/n.length:null}async function RQ(t){var c,d,h;const e=en(wt,`guilds/${t}/latest/latest`),n=await Ar(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},o=(h=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:o&&(l=Cl(o)),{sec:l,raw:o}}async function PQ(t){const e=en(wt,`guilds/${t}/snapshots/members_summary`),n=await Ar(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const o=Cl(r.updatedAt);if(o!=null)return o}return 0}async function NQ(t,e){var l,c,d,h,p,g,v;const n=IQ(e||[]),r=new Set;for(const _ of e||[]){const T=String((l=Gn(_,Kh.GUILD_IDENTIFIER))!=null?l:"").trim();T&&r.add(T)}for(const _ of t||[]){const T=Gn(_,Jt.SERVER);let I=String((c=Gn(_,Jt.GUILD_IDENTIFIER))!=null?c:"").trim();if(!I){const N=(d=Gn(_,Jt.GUILD))!=null?d:_.Guild;if(N&&T){const P=`${wy(T)}__${jy(String(N))}`,O=n.get(P);O&&(I=O)}}I&&r.add(I)}let o=0;for(const _ of r){const{sec:T,raw:I}=await RQ(_);if(T==null)continue;const N=await PQ(_);if(T<=N)continue;const P=new Map;for(const q of t||[]){const se=Gn(q,Jt.SERVER);let ne=String((h=Gn(q,Jt.GUILD_IDENTIFIER))!=null?h:"").trim();if(!ne){const ie=(p=Gn(q,Jt.GUILD))!=null?p:q.Guild;if(ie&&se){const G=`${wy(se)}__${jy(String(ie))}`,ee=n.get(G);ee&&(ne=ee)}}if(ne!==_)continue;const Q=Cl(Gn(q,Jt.TIMESTAMP));if(Q==null||Q!==T)continue;const oe=String((v=(g=q==null?void 0:q.ID)!=null?g:q==null?void 0:q.Identifier)!=null?v:"").trim();oe&&(P.has(oe)||P.set(oe,q))}const O=Array.from(P.values()),V=[];for(const q of O)V.push(AQ(q));V.sort((q,se)=>{var oe,ie;const ne=$2(q.role),Q=$2(se.role);return ne!==Q?ne-Q:((oe=q.name)!=null?oe:"").toLowerCase().localeCompare(((ie=se.name)!=null?ie:"").toLowerCase())});const A=Ei(V,"level"),x=Ei(V,"treasury"),w=Ei(V,"mine"),R=Ei(V,"baseMain"),E=Ei(V,"conBase"),S=Ei(V,"sumBaseTotal"),C=Ei(V,"attrTotal"),F=Ei(V,"conTotal"),M=Ei(V,"totalStats"),U=JSON.stringify({gid:_,tsSec:T,members:V.map(q=>{var se,ne,Q,oe,ie,G,ee,ye,je,ke,me,Ce,Ae;return{id:q.id,name:(se=q.name)!=null?se:"",class:(ne=q.class)!=null?ne:"",role:(Q=q.role)!=null?Q:"",level:(oe=q.level)!=null?oe:null,treasury:(ie=q.treasury)!=null?ie:null,mine:(G=q.mine)!=null?G:null,baseMain:(ee=q.baseMain)!=null?ee:null,conBase:(ye=q.conBase)!=null?ye:null,sumBaseTotal:(je=q.sumBaseTotal)!=null?je:null,attrTotal:(ke=q.attrTotal)!=null?ke:null,conTotal:(me=q.conTotal)!=null?me:null,totalStats:(Ce=q.totalStats)!=null?Ce:null,guildJoinedMs:(Ae=q.guildJoinedMs)!=null?Ae:null}})}),$=CQ(U),ue=en(wt,`guilds/${_}/snapshots/members_summary`);await op(ue,{guildId:_,count:V.length,updatedAt:I!=null?I:String(T),updatedAtMs:T*1e3,hash:$,avgLevel:A,avgTreasury:x,avgMine:w,avgBaseMain:R,avgConBase:E,avgSumBaseTotal:S,avgAttrTotal:C,avgConTotal:F,avgTotalStats:M,members:V,updatedAtServer:Ti()},{merge:!0}),o++}return{guildsProcessed:r.size,snapshotsWritten:o}}function DQ(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function LQ(t,e,n,r){var h,p,g;const o=en(wt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await Ar(o);if(!l.exists())return await op(o,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r};const c=l.data(),d=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<d?(await op(o,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function MQ(t,e,n){const r=en(wt,`guilds/${t}/history_monthly/${e}`);await op(r,n,{merge:!0})}function FQ(t){var V,A,x,w,R,E,S,C,F,M,U,$,ue;const{guildId:e,monthKey:n,server:r,first:o,firstTsMs:l,latest:c,latestTsMs:d}=t,h=l!=null?Math.floor((d-l)/864e5):null,p=h!=null&&h<=40,g={available:p};p||(g.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const v={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:g};if(!p||!o)return v;const _=new Map;for(const q of o.members||[])q.playerId&&_.set(q.playerId,q);const T=[],I=[],N=[],P=[],O=[];for(const q of c.members||[]){if(!q.playerId)continue;const se=_.get(q.playerId)||null,ne=(V=q.sumBaseTotal)!=null?V:null,Q=(A=se==null?void 0:se.sumBaseTotal)!=null?A:null,oe=ne!=null&&Q!=null?ne-Q:0,ie=(x=q.totalStats)!=null?x:null,G=(w=se==null?void 0:se.totalStats)!=null?w:null,ee=ie!=null&&G!=null?ie-G:0;T.push({playerId:q.playerId,name:(R=q.name)!=null?R:null,class:(E=q.class)!=null?E:null,levelLatest:(S=q.level)!=null?S:null,baseLatest:ne,baseDelta:oe}),I.push({playerId:q.playerId,name:(C=q.name)!=null?C:null,base:ne,stamDelta:null,shoDelta:null}),N.push({playerId:q.playerId,name:(F=q.name)!=null?F:null,stats:ne,delta:oe}),P.push({playerId:q.playerId,name:(M=q.name)!=null?M:null,total:ie,delta:ee}),O.push({playerId:q.playerId,name:(U=q.name)!=null?U:null,class:($=q.class)!=null?$:null,stats:(ue=q.baseMain)!=null?ue:null,delta:(se==null?void 0:se.baseMain)!=null&&q.baseMain!=null?q.baseMain-se.baseMain:0})}return T.sort((q,se)=>{var ne,Q;return((ne=se.baseDelta)!=null?ne:-1/0)-((Q=q.baseDelta)!=null?Q:-1/0)}),N.sort((q,se)=>{var ne,Q;return((ne=se.stats)!=null?ne:-1/0)-((Q=q.stats)!=null?Q:-1/0)}),P.sort((q,se)=>{var ne,Q;return((ne=se.total)!=null?ne:-1/0)-((Q=q.total)!=null?Q:-1/0)}),I.sort((q,se)=>{var ne,Q;return((ne=se.base)!=null?ne:-1/0)-((Q=q.base)!=null?Q:-1/0)}),O.sort((q,se)=>{var ne,Q;return((ne=se.stats)!=null?ne:-1/0)-((Q=q.stats)!=null?Q:-1/0)}),{...v,mostBaseGained:T.slice(0,50),sumBaseStats:I.slice(0,50),highestBaseStats:N.slice(0,50),highestTotalStats:P.slice(0,50),mainAndCon:O.slice(0,50)}}const Ig=t=>String(t!=null?t:"").trim(),ts=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function VQ(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function B2(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=VQ((h=n[0])!=null?h:""),o=p=>{const g=[];let v="",_=!1;for(let T=0;T<p.length;T++){const I=p[T];I==='"'?_&&p[T+1]==='"'?(v+='"',T++):_=!_:I===r&&!_?(g.push(v),v=""):v+=I}return g.push(v),g},c=(n[0]?o(n[0]).map(Ig):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=o(n[p]);if(g.every(_=>Ig(_)===""))continue;const v={};for(let _=0;_<c.length;_++)v[c[_]]=g[_]!=null?Ig(g[_]):"";d.push(v)}return{headers:c,rows:d,delimiter:r}}const tn={PLAYERS:{IDENTIFIER:ts("Identifier"),GUILD_IDENTIFIER:ts("Guild Identifier"),TIMESTAMP:ts("Timestamp"),NAME:ts("Name"),SERVER:ts("Server"),OWN:ts("Own")},GUILDS:{GUILD_IDENTIFIER:ts("Guild Identifier"),GUILD_MEMBER_COUNT:ts("Guild Member Count"),NAME:ts("Name"),TIMESTAMP:ts("Timestamp")}},rT=(t,e)=>{const n=new Set(t.map(ts));return e.every(r=>n.has(r))},sr=(t,e)=>{for(const n of Object.keys(t))if(ts(n)===e)return t[n]};function $Q(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function O2(t){const e=t.map(ts),n=l=>e.includes(l);let r=0,o=0;return n(tn.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(tn.PLAYERS.IDENTIFIER)&&(r+=2),n(tn.PLAYERS.TIMESTAMP)&&(r+=1),n(tn.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(tn.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(tn.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(tn.PLAYERS.IDENTIFIER)?"players":"guilds"}function U2(t,e){const n=$Q(t);if(n!=="unknown"){const o=O2(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=O2(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function iT(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function BQ(t,e){var r;const n=[];if(!rT(e,[tn.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=sr(o,tn.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=sr(o,tn.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:sr(o,tn.PLAYERS.IDENTIFIER)||void 0,name:sr(o,tn.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(sr(o,tn.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=iT(sr(o,tn.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function OQ(t,e){const n=[];if(!rT(e,[tn.GUILDS.GUILD_IDENTIFIER,tn.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=sr(r,tn.GUILDS.GUILD_IDENTIFIER),l=Number(sr(r,tn.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=iT(sr(r,tn.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:sr(r,tn.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function UQ(t,e){var P,O,V,A,x,w;const n=[],r=new Map;for(const R of t){const E=R.id||"",S=(P=R.server)==null?void 0:P.toUpperCase();if(E){const C=`${S!=null?S:"NO"}::${E}`;r.has(C)||r.set(C,{server:S,id:E,name:R.name||"",own:!!R.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(R=>R.own).length,d=new Map;for(const R of r.values())R.server&&d.set(R.server,((O=d.get(R.server))!=null?O:0)+1);const h=Array.from(d.entries()).map(([R,E])=>({server:R,players:E})).sort((R,E)=>E.players-R.players),p=h.length,g=new Map;for(const R of t)g.set(R.guildIdentifier,((V=g.get(R.guildIdentifier))!=null?V:0)+1);const v=new Set,_=new Map;for(const R of e)v.add(R.guildIdentifier),_.set(R.guildIdentifier,{name:R.name||"",declared:R.memberCount});for(const R of g.keys())v.add(R);let T=0;const I=[];for(const R of v){const E=(A=_.get(R))==null?void 0:A.declared,S=(x=g.get(R))!=null?x:0,C=E!=null&&S===E;C&&T++,I.push({id:R,name:((w=_.get(R))==null?void 0:w.name)||"",declaredCount:E!=null?E:0,playersCount:S,full:C})}[..._.values()].some(R=>Number.isFinite(R.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),I.sort((R,E)=>R.name?R.name.localeCompare(E.name):R.id.localeCompare(E.id));const N=Array.from(r.values()).sort((R,E)=>(R.server||"")===(E.server||"")?R.name.localeCompare(E.name):(R.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:p,perServer:h,guildsRepresented:v.size,fullyScannedGuilds:T,notes:n,playersList:N,guildsList:I}}function zQ(){const[t,e]=L.useState([]),[n,r]=L.useState(null),[o,l]=L.useState(!1),[c,d]=L.useState(null),[h,p]=L.useState(!1),[g,v]=L.useState(null),[_,T]=L.useState([]),[I,N]=L.useState(null);L.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const P=L.useCallback(async E=>{var S;l(!0),d(null),r(null),T([]),v(null);try{const C=Array.from(E).slice(0,2),F=[];let M=[],U=[];for(const $ of C){const ue=$,q=await ue.text(),se=B2(q),{kind:ne,warn:Q}=U2(ue.name,se.headers);F.push({name:ue.name,size:ue.size||q.length,rows:se.rows.length,delimiter:se.delimiter,text:q,kind:ne,warn:Q}),ne==="players"?M=M.concat(BQ(se.rows,se.headers)):ne==="guilds"&&(U=U.concat(OQ(se.rows,se.headers)))}e(F),r(UQ(M,U))}catch(C){d(String((S=C==null?void 0:C.message)!=null?S:C))}finally{l(!1)}},[]),O=L.useCallback(async E=>{!E||E.length===0||await P(E)},[P]),V=L.useCallback(async E=>{E.preventDefault();const S=E.dataTransfer.files;!S||!S.length||await P(S)},[P]);async function A(){var E,S,C;if(t.length){p(!0),N({phase:"prepare",current:0,total:0}),v(null),T([]);try{let F=[],M=[];for(const q of t){const se=B2(q.text),{kind:ne}=U2(q.name,se.headers);ne==="players"&&(F=F.concat(se.rows)),ne==="guilds"&&(M=M.concat(se.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!F.length,hasGuildsCsv:!!M.length,playersRows:F.length,guildsRows:M.length}),!M.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!F.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const U=await V2(null,{kind:"guilds",rows:M,onProgress:q=>N(q)});console.info("[Import Report] guilds",U);const $=await V2(null,{kind:"players",rows:F,onProgress:q=>N(q)});console.info("[Import Report] players",$),await NQ(F,M);const ue=new Set;for(const q of M){const se=sr(q,ts("Guild Identifier"));se&&ue.add(String(se))}for(const q of F){const se=sr(q,ts("Guild Identifier"));se&&ue.add(String(se))}for(const q of ue){const se=en(wt,`guilds/${q}/snapshots/members_summary`),ne=await Ar(se);if(!ne.exists())continue;const Q=ne.data(),oe=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),ie=DQ(oe),{first:G,firstTsMs:ee}=await LQ(q,ie,Q,oe),ye=FQ({guildId:q,monthKey:ie,server:(S=Q.server)!=null?S:null,first:G,firstTsMs:ee,latest:Q,latestTsMs:oe});await MQ(q,ie,ye)}N({phase:"done",current:1,total:1}),T([U,$]),v("Import abgeschlossen.")}catch(F){console.error("[UploadCenter] Import error:",F),v(`Fehler beim Import: ${(C=F==null?void 0:F.message)!=null?C:F}`)}finally{p(!1),setTimeout(()=>N(null),1200)}}}const x=L.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, ${E.delimiter}, ${E.kind}${E.warn?" ":""})`),[t]),w=L.useMemo(()=>t.reduce((E,S)=>E+S.rows,0),[t]),R=I?Math.floor(100*I.current/Math.max(1,I.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[x.map((E,S)=>s.jsx("span",{className:"uc-chip",title:t[S].warn||"",children:E},S)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",w," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[I&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${R}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[R,"%"]})]}),s.jsx("button",{onClick:A,disabled:!t.length||!n||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),g&&s.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>O(E.target.files),disabled:o})]}),s.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:V,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Hc,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Hc,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Hc,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Hc,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Hc,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(E=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:E.server}),s.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((E,S)=>{var C,F;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(C=E.server)!=null?C:""}),s.jsx("td",{children:E.id}),s.jsx("td",{children:E.name||""}),s.jsx("td",{children:E.own?"":""})]},`${(F=E.server)!=null?F:"NO"}-${E.id}-${S}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((E,S)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:E.id}),s.jsx("td",{children:E.name||""}),s.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:E.full?"":""})]},`${E.id}-${S}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((E,S)=>s.jsx("li",{children:E},S))})]})]})]})}function Hc({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function HQ(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function WQ(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=dw();return!t||!o?null:s.jsx("div",{className:Qr.backdrop,onClick:e,children:s.jsxs("div",{className:Qr.panel,onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{className:Qr.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:Qr.tabs,children:[s.jsx("button",{type:"button",className:`${Qr.tabBtn} ${n==="csv"?Qr.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${Qr.tabBtn} ${n==="json"?Qr.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:Qr.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:Qr.content,children:n==="csv"?s.jsx(zQ,{}):s.jsx(HQ,{})})]})})}const GQ=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),Cn=GQ("Diese Unterseite existiert in der neuen Struktur nicht mehr.");yk.createRoot(document.getElementById("root")).render(s.jsx(Ve.StrictMode,{children:s.jsxs(WI,{role:"admin",children:[s.jsx(NC,{children:s.jsx(cC,{children:s.jsxs(ae,{element:s.jsx(_5,{}),children:[s.jsx(ae,{path:"/",element:s.jsx(u8,{})}),s.jsx(ae,{path:"/dashboard",element:s.jsx(d8,{})}),s.jsx(ae,{path:"/dashboard/kpis",element:s.jsx(f8,{})}),s.jsx(ae,{path:"/dashboard/activity",element:s.jsx(m8,{})}),s.jsx(ae,{path:"/dashboard/progression",element:s.jsx(g8,{})}),s.jsx(ae,{path:"/discover",element:s.jsx(y8,{})}),s.jsx(ae,{path:"/toplists",element:s.jsx(OF,{})}),s.jsx(ae,{path:"/sfmagazine",element:s.jsx(w8,{})}),s.jsx(ae,{path:"/sfmagazine/historybook",element:s.jsx(G8,{})}),s.jsx(ae,{path:"/players",element:s.jsx(UF,{})}),s.jsx(ae,{path:"/players/rankings",element:s.jsx(zF,{})}),s.jsx(ae,{path:"/players/stats",element:s.jsx(HF,{})}),s.jsx(ae,{path:"/players/profile",element:s.jsx(mg,{})}),s.jsx(ae,{path:"/players/profile/:playerId",element:s.jsx(mg,{})}),s.jsx(ae,{path:"/player/:playerId",element:s.jsx(mg,{})}),s.jsx(ae,{path:"/guilds",element:s.jsx(QF,{})}),s.jsx(ae,{path:"/guilds/rankings",element:s.jsx(YF,{})}),s.jsx(ae,{path:"/guilds/stats",element:s.jsx(XF,{})}),s.jsx(ae,{path:"/guilds/profile",element:s.jsx(xg,{})}),s.jsx(ae,{path:"/guilds/profile/:guildId",element:s.jsx(xg,{})}),s.jsx(ae,{path:"/guild/:guildId",element:s.jsx(xg,{})}),s.jsx(ae,{path:"/servers",element:s.jsx(M$,{})}),s.jsx(ae,{path:"/servers/rankings",element:s.jsx(F$,{})}),s.jsx(ae,{path:"/servers/stats",element:s.jsx(V$,{})}),s.jsx(ae,{path:"/servers/profile",element:s.jsx(vg,{})}),"               ",s.jsx(ae,{path:"/servers/profile/:serverId",element:s.jsx(vg,{})}),"     ",s.jsx(ae,{path:"/server/:serverId",element:s.jsx(vg,{})}),"              ",s.jsx(ae,{path:"/guidehub/*",element:s.jsx(AH,{})}),s.jsx(ae,{path:"/community",element:s.jsx(rW,{})}),s.jsx(ae,{path:"/community/scans",element:s.jsx(JE,{})}),s.jsx(ae,{path:"/community/predictions",element:s.jsx(ZE,{})}),s.jsx(ae,{path:"/community/creators",element:s.jsx(XE,{})}),s.jsx(ae,{path:"/community/feedback",element:s.jsx(tT,{})}),s.jsx(ae,{path:"/community/news",element:s.jsx(eT,{})}),s.jsx(ae,{path:"/scans",element:s.jsx(iW,{})}),s.jsx(ae,{path:"/scans/latest",element:s.jsx(oW,{})}),s.jsx(ae,{path:"/scans/archive",element:s.jsx(aW,{})}),s.jsx(ae,{path:"/guild-hub",element:s.jsx(lW,{})}),s.jsx(ae,{path:"/guild-hub/planner",element:s.jsx(dW,{})}),s.jsx(ae,{path:"/guild-hub/fusion",element:s.jsx(hW,{})}),s.jsx(ae,{path:"/guild-hub/waitlist",element:s.jsx(pW,{})}),s.jsx(ae,{path:"/guild-hub/activity",element:s.jsx(fW,{})}),s.jsx(ae,{path:"/guild-hub/imports",element:s.jsx(mW,{})}),s.jsx(ae,{path:"/guild-hub/announcements",element:s.jsx(gW,{})}),s.jsx(ae,{path:"/guild-hub/events",element:s.jsx(yW,{})}),s.jsx(ae,{path:"/guild-hub/roles",element:s.jsx(xW,{})}),s.jsx(ae,{path:"/guild-hub/settings",element:s.jsx(vW,{})}),s.jsx(ae,{path:"/settings",element:s.jsx(_W,{})}),s.jsxs(ae,{path:"/playground",element:s.jsx(bW,{}),children:[s.jsx(ae,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(ae,{path:"list-views",element:s.jsx(S2,{})}),s.jsx(ae,{path:"rescan-widget",element:s.jsx(T2,{})}),s.jsx(ae,{path:"upload-sim",element:s.jsx(k2,{})}),s.jsx(ae,{path:"theme-maker",element:s.jsx(_2,{})}),s.jsx(ae,{path:"theme-maker-pro",element:s.jsx(w2,{})}),s.jsx(ae,{path:"am-rune-bonuses-demos",element:s.jsx(xG,{})}),s.jsx(ae,{path:"hud",element:s.jsx(vG,{})}),s.jsx(ae,{path:"hud/game-buttons",element:s.jsx(GG,{})}),s.jsx(ae,{path:"core-ui/theme-maker",element:s.jsx(_2,{})}),s.jsx(ae,{path:"core-ui/theme-maker-pro",element:s.jsx(w2,{})}),s.jsx(ae,{path:"core-ui/list-views",element:s.jsx(S2,{})}),s.jsx(ae,{path:"sync/rescan",element:s.jsx(T2,{})}),s.jsx(ae,{path:"upload/sim",element:s.jsx(k2,{})}),s.jsx(ae,{path:"import/har",element:s.jsx(eq,{})}),s.jsx(ae,{path:"import/json-csv",element:s.jsx(rq,{})}),s.jsx(ae,{path:"import/schema",element:s.jsx(lq,{})}),s.jsx(ae,{path:"hubs/player-contained",element:s.jsx(hq,{})}),s.jsx(ae,{path:"hubs/guilds",element:s.jsx(gq,{})}),s.jsx(ae,{path:"hubs/servers",element:s.jsx(_q,{})}),s.jsx(ae,{path:"rankings/views",element:s.jsx(Sq,{})}),s.jsx(ae,{path:"analytics/kpi",element:s.jsx(Cq,{})}),s.jsx(ae,{path:"analytics/progression",element:s.jsx(Pq,{})}),s.jsx(ae,{path:"analytics/legendary-pets",element:s.jsx(Mq,{})}),s.jsx(ae,{path:"community/scans",element:s.jsx(Bq,{})}),s.jsx(ae,{path:"community/creators",element:s.jsx(Hq,{})}),s.jsx(ae,{path:"feedback/form",element:s.jsx(Kq,{})}),s.jsx(ae,{path:"feedback/admin",element:s.jsx(Jq,{})}),s.jsx(ae,{path:"help/tutorials",element:s.jsx(nK,{})}),s.jsx(ae,{path:"help/wiki",element:s.jsx(oK,{})}),s.jsx(ae,{path:"legal/tos",element:s.jsx(fK,{})}),s.jsx(ae,{path:"legal/transparency",element:s.jsx(xK,{})}),s.jsx(ae,{path:"settings",element:s.jsx(uK,{})}),s.jsx(ae,{path:"pwa/update",element:s.jsx(wK,{})}),s.jsx(ae,{path:"pwa/install",element:s.jsx(TK,{})}),s.jsx(ae,{path:"connect/manual",element:s.jsx(AK,{})}),s.jsx(ae,{path:"connect/userscript",element:s.jsx(DK,{})}),s.jsx(ae,{path:"interop/exports",element:s.jsx(VK,{})}),s.jsx(ae,{path:"interop/deeplinks",element:s.jsx(UK,{})}),s.jsx(ae,{path:"admin/servers",element:s.jsx(GK,{})}),s.jsx(ae,{path:"admin/jobs",element:s.jsx(YK,{})}),s.jsx(ae,{path:"admin/flags",element:s.jsx(eQ,{})}),s.jsx(ae,{path:"perf/table-lab",element:s.jsx(rQ,{})}),s.jsx(ae,{path:"mobile/filters",element:s.jsx(lQ,{})}),s.jsx(ae,{path:"qa/a11y",element:s.jsx(hQ,{})})]}),s.jsx(ae,{path:"/latest-scan",element:s.jsx(Pm,{to:"/scans/latest",replace:!0})}),s.jsx(ae,{path:"/old-scans",element:s.jsx(Pm,{to:"/scans/archive",replace:!0})}),s.jsx(ae,{path:"/favorites",element:Cn()}),s.jsx(ae,{path:"/notifications",element:Cn()}),s.jsx(ae,{path:"/guilds/planner",element:Cn()}),s.jsx(ae,{path:"/guilds/fusion",element:Cn()}),s.jsx(ae,{path:"/guilds/academy",element:Cn()}),s.jsx(ae,{path:"/toplists/players",element:Cn()}),s.jsx(ae,{path:"/toplists/guilds",element:Cn()}),s.jsx(ae,{path:"/toplists/servers",element:Cn()}),s.jsx(ae,{path:"/settings/profile",element:Cn()}),s.jsx(ae,{path:"/settings/account",element:Cn()}),s.jsx(ae,{path:"/settings/appearance",element:Cn()}),s.jsx(ae,{path:"/players/search",element:Cn()}),s.jsx(ae,{path:"/players/compare",element:Cn()}),s.jsx(ae,{path:"/servers/list",element:Cn()}),s.jsx(ae,{path:"/servers/trend",element:Cn()}),s.jsx(ae,{path:"/scans/upload",element:Cn()}),s.jsx(ae,{path:"/scans/history",element:Cn()}),s.jsx(ae,{path:"*",element:s.jsx(Pm,{to:"/",replace:!0})})]})})}),s.jsx(WQ,{})]})}));
