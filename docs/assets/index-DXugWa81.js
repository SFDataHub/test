(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qf={exports:{}},Ll={},Yf={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function xT(){if(Tx)return Ue;Tx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,N={};function k(z,Z,ve){this.props=z,this.context=Z,this.refs=N,this.updater=ve||E}k.prototype.isReactComponent={},k.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function $(){}$.prototype=k.prototype;function W(z,Z,ve){this.props=z,this.context=Z,this.refs=N,this.updater=ve||E}var L=W.prototype=new $;L.constructor=W,P(L,k.prototype),L.isPureReactComponent=!0;var G=Array.isArray,H=Object.prototype.hasOwnProperty,Y={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function T(z,Z,ve){var Pe,ke={},me=null,Ee=null;if(Z!=null)for(Pe in Z.ref!==void 0&&(Ee=Z.ref),Z.key!==void 0&&(me=""+Z.key),Z)H.call(Z,Pe)&&!j.hasOwnProperty(Pe)&&(ke[Pe]=Z[Pe]);var Me=arguments.length-2;if(Me===1)ke.children=ve;else if(1<Me){for(var Ve=Array(Me),Be=0;Be<Me;Be++)Ve[Be]=arguments[Be+2];ke.children=Ve}if(z&&z.defaultProps)for(Pe in Me=z.defaultProps,Me)ke[Pe]===void 0&&(ke[Pe]=Me[Pe]);return{$$typeof:t,type:z,key:me,ref:Ee,props:ke,_owner:Y.current}}function A(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ve){return Z[ve]})}var M=/\/+/g;function I(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):Z.toString(36)}function he(z,Z,ve,Pe,ke){var me=typeof z;(me==="undefined"||me==="boolean")&&(z=null);var Ee=!1;if(z===null)Ee=!0;else switch(me){case"string":case"number":Ee=!0;break;case"object":switch(z.$$typeof){case t:case e:Ee=!0}}if(Ee)return Ee=z,ke=ke(Ee),z=Pe===""?"."+I(Ee,0):Pe,G(ke)?(ve="",z!=null&&(ve=z.replace(M,"$&/")+"/"),he(ke,Z,ve,"",function(Be){return Be})):ke!=null&&(D(ke)&&(ke=A(ke,ve+(!ke.key||Ee&&Ee.key===ke.key?"":(""+ke.key).replace(M,"$&/")+"/")+z)),Z.push(ke)),1;if(Ee=0,Pe=Pe===""?".":Pe+":",G(z))for(var Me=0;Me<z.length;Me++){me=z[Me];var Ve=Pe+I(me,Me);Ee+=he(me,Z,ve,Ve,ke)}else if(Ve=_(z),typeof Ve=="function")for(z=Ve.call(z),Me=0;!(me=z.next()).done;)me=me.value,Ve=Pe+I(me,Me++),Ee+=he(me,Z,ve,Ve,ke);else if(me==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ee}function je(z,Z,ve){if(z==null)return z;var Pe=[],ke=0;return he(z,Pe,"","",function(me){return Z.call(ve,me,ke++)}),Pe}function we(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(ve){(z._status===0||z._status===-1)&&(z._status=1,z._result=ve)},function(ve){(z._status===0||z._status===-1)&&(z._status=2,z._result=ve)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var ue={current:null},ne={transition:null},fe={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Y};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:je,forEach:function(z,Z,ve){je(z,function(){Z.apply(this,arguments)},ve)},count:function(z){var Z=0;return je(z,function(){Z++}),Z},toArray:function(z){return je(z,function(Z){return Z})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ue.Component=k,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=W,Ue.StrictMode=r,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ue.act=le,Ue.cloneElement=function(z,Z,ve){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Pe=P({},z.props),ke=z.key,me=z.ref,Ee=z._owner;if(Z!=null){if(Z.ref!==void 0&&(me=Z.ref,Ee=Y.current),Z.key!==void 0&&(ke=""+Z.key),z.type&&z.type.defaultProps)var Me=z.type.defaultProps;for(Ve in Z)H.call(Z,Ve)&&!j.hasOwnProperty(Ve)&&(Pe[Ve]=Z[Ve]===void 0&&Me!==void 0?Me[Ve]:Z[Ve])}var Ve=arguments.length-2;if(Ve===1)Pe.children=ve;else if(1<Ve){Me=Array(Ve);for(var Be=0;Be<Ve;Be++)Me[Be]=arguments[Be+2];Pe.children=Me}return{$$typeof:t,type:z.type,key:ke,ref:me,props:Pe,_owner:Ee}},Ue.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:l,_context:z},z.Consumer=z},Ue.createElement=T,Ue.createFactory=function(z){var Z=T.bind(null,z);return Z.type=z,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(z){return{$$typeof:h,render:z}},Ue.isValidElement=D,Ue.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:we}},Ue.memo=function(z,Z){return{$$typeof:m,type:z,compare:Z===void 0?null:Z}},Ue.startTransition=function(z){var Z=ne.transition;ne.transition={};try{z()}finally{ne.transition=Z}},Ue.unstable_act=le,Ue.useCallback=function(z,Z){return ue.current.useCallback(z,Z)},Ue.useContext=function(z){return ue.current.useContext(z)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(z){return ue.current.useDeferredValue(z)},Ue.useEffect=function(z,Z){return ue.current.useEffect(z,Z)},Ue.useId=function(){return ue.current.useId()},Ue.useImperativeHandle=function(z,Z,ve){return ue.current.useImperativeHandle(z,Z,ve)},Ue.useInsertionEffect=function(z,Z){return ue.current.useInsertionEffect(z,Z)},Ue.useLayoutEffect=function(z,Z){return ue.current.useLayoutEffect(z,Z)},Ue.useMemo=function(z,Z){return ue.current.useMemo(z,Z)},Ue.useReducer=function(z,Z,ve){return ue.current.useReducer(z,Z,ve)},Ue.useRef=function(z){return ue.current.useRef(z)},Ue.useState=function(z){return ue.current.useState(z)},Ue.useSyncExternalStore=function(z,Z,ve){return ue.current.useSyncExternalStore(z,Z,ve)},Ue.useTransition=function(){return ue.current.useTransition()},Ue.version="18.3.1",Ue}var Ex;function Bm(){return Ex||(Ex=1,Yf.exports=xT()),Yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function wT(){if(jx)return Ll;jx=1;var t=Bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var g,w={},_=null,E=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(E=p.ref);for(g in p)r.call(p,g)&&!l.hasOwnProperty(g)&&(w[g]=p[g]);if(h&&h.defaultProps)for(g in p=h.defaultProps,p)w[g]===void 0&&(w[g]=p[g]);return{$$typeof:e,type:h,key:_,ref:E,props:w,_owner:o.current}}return Ll.Fragment=n,Ll.jsx=c,Ll.jsxs=c,Ll}var Cx;function _T(){return Cx||(Cx=1,Qf.exports=wT()),Qf.exports}var a=_T(),R=Bm();const De=Om(R);var ed={},Xf={exports:{}},Fn={},Jf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function bT(){return Ax||(Ax=1,(function(t){function e(ne,fe){var le=ne.length;ne.push(fe);e:for(;0<le;){var z=le-1>>>1,Z=ne[z];if(0<o(Z,fe))ne[z]=fe,ne[le]=Z,le=z;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var fe=ne[0],le=ne.pop();if(le!==fe){ne[0]=le;e:for(var z=0,Z=ne.length,ve=Z>>>1;z<ve;){var Pe=2*(z+1)-1,ke=ne[Pe],me=Pe+1,Ee=ne[me];if(0>o(ke,le))me<Z&&0>o(Ee,ke)?(ne[z]=Ee,ne[me]=le,z=me):(ne[z]=ke,ne[Pe]=le,z=Pe);else if(me<Z&&0>o(Ee,le))ne[z]=Ee,ne[me]=le,z=me;else break e}}return fe}function o(ne,fe){var le=ne.sortIndex-fe.sortIndex;return le!==0?le:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],g=1,w=null,_=3,E=!1,P=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ne){for(var fe=n(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=ne)r(m),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=n(m)}}function G(ne){if(N=!1,L(ne),!P)if(n(p)!==null)P=!0,we(H);else{var fe=n(m);fe!==null&&ue(G,fe.startTime-ne)}}function H(ne,fe){P=!1,N&&(N=!1,$(T),T=-1),E=!0;var le=_;try{for(L(fe),w=n(p);w!==null&&(!(w.expirationTime>fe)||ne&&!F());){var z=w.callback;if(typeof z=="function"){w.callback=null,_=w.priorityLevel;var Z=z(w.expirationTime<=fe);fe=t.unstable_now(),typeof Z=="function"?w.callback=Z:w===n(p)&&r(p),L(fe)}else r(p);w=n(p)}if(w!==null)var ve=!0;else{var Pe=n(m);Pe!==null&&ue(G,Pe.startTime-fe),ve=!1}return ve}finally{w=null,_=le,E=!1}}var Y=!1,j=null,T=-1,A=5,D=-1;function F(){return!(t.unstable_now()-D<A)}function M(){if(j!==null){var ne=t.unstable_now();D=ne;var fe=!0;try{fe=j(!0,ne)}finally{fe?I():(Y=!1,j=null)}}else Y=!1}var I;if(typeof W=="function")I=function(){W(M)};else if(typeof MessageChannel!="undefined"){var he=new MessageChannel,je=he.port2;he.port1.onmessage=M,I=function(){je.postMessage(null)}}else I=function(){k(M,0)};function we(ne){j=ne,Y||(Y=!0,I())}function ue(ne,fe){T=k(function(){ne(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){P||E||(P=!0,we(H))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ne){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var le=_;_=fe;try{return ne()}finally{_=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=_;_=ne;try{return fe()}finally{_=le}},t.unstable_scheduleCallback=function(ne,fe,le){var z=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,ne={id:g++,callback:fe,priorityLevel:ne,startTime:le,expirationTime:Z,sortIndex:-1},le>z?(ne.sortIndex=le,e(m,ne),n(p)===null&&ne===n(m)&&(N?($(T),T=-1):N=!0,ue(G,le-z))):(ne.sortIndex=Z,e(p,ne),P||E||(P=!0,we(H))),ne},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ne){var fe=_;return function(){var le=_;_=fe;try{return ne.apply(this,arguments)}finally{_=le}}}})(Zf)),Zf}var kx;function ST(){return kx||(kx=1,Jf.exports=bT()),Jf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function TT(){if(Ix)return Fn;Ix=1;var t=Bm(),e=ST();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function _(s){return p.call(w,s)?!0:p.call(g,s)?!1:m.test(s)?w[s]=!0:(g[s]=!0,!1)}function E(s,i,u,f){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,i,u,f){if(i===null||typeof i=="undefined"||E(s,i,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(s,i,u,f,y,x,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new N(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function W(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace($,W);k[i]=new N(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace($,W);k[i]=new N(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace($,W);k[i]=new N(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,i,u,f){var y=k.hasOwnProperty(i)?k[i]:null;(y!==null?y.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,y,f)&&(u=null),f||y===null?_(i)&&(u===null?s.removeAttribute(i):s.setAttribute(i,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(i=y.attributeName,f=y.attributeNamespace,u===null?s.removeAttribute(i):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,f?s.setAttributeNS(f,i,u):s.setAttribute(i,u))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,z;function Z(s){if(z===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+s}var ve=!1;function Pe(s,i){if(!s||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var f=X}Reflect.construct(s,[],i)}else{try{i.call()}catch(X){f=X}s.call(i.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),x=f.stack.split(`
`),S=y.length-1,V=x.length-1;1<=S&&0<=V&&y[S]!==x[V];)V--;for(;1<=S&&0<=V;S--,V--)if(y[S]!==x[V]){if(S!==1||V!==1)do if(S--,V--,0>V||y[S]!==x[V]){var O=`
`+y[S].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=S&&0<=V);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function ke(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case Y:return"Portal";case A:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case he:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case M:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case je:return i=s.displayName||null,i!==null?i:me(s.type)||"Memo";case we:i=s._payload,s=s._init;try{return me(s(i))}catch(u){}}return null}function Ee(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Be(s){var i=Ve(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return y.call(this)},set:function(S){f=""+S,x.call(this,S)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Pt(s){s._valueTracker||(s._valueTracker=Be(s))}function Qt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),f="";return s&&(f=Ve(s)?s.checked?"true":"false":s.value),s=f,s!==u?(i.setValue(s),!0):!1}function Lt(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(i){return s.body}}function jt(s,i){var u=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:s._wrapperState.initialChecked})}function On(s,i){var u=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;u=Me(i.value!=null?i.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function er(s,i){i=i.checked,i!=null&&L(s,"checked",i,!1)}function lt(s,i){er(s,i);var u=Me(i.value),f=i.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?yr(s,i.type,u):i.hasOwnProperty("defaultValue")&&yr(s,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ps(s,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,u||i===s.value||(s.value=i),s.defaultValue=i}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function yr(s,i,u){(i!=="number"||Lt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Cn=Array.isArray;function An(s,i,u,f){if(s=s.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=i.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Me(u),i=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}i!==null||s[y].disabled||(i=s[y])}i!==null&&(i.selected=!0)}}function Hr(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function vr(s,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if(Cn(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}s._wrapperState={initialValue:Me(u)}}function xr(s,i){var u=Me(i.value),f=Me(i.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),i.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Wr(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function gt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?gt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var tr,qs=(function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,u,f,y){MSApp.execUnsafeLocalFunction(function(){return s(i,u,f,y)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=tr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function wr(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(s){qr.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Gr[i]=Gr[s]})});function Ks(s,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Gr.hasOwnProperty(s)&&Gr[s]?(""+i).trim():i+"px"}function Qs(s,i){s=s.style;for(var u in i)if(i.hasOwnProperty(u)){var f=u.indexOf("--")===0,y=Ks(u,i[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,y):s[u]=y}}var Ys=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xs(s,i){if(i){if(Ys[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Js(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function ms(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var gs=null,_n=null,Bn=null;function ys(s){if(s=bl(s)){if(typeof gs!="function")throw Error(n(280));var i=s.stateNode;i&&(i=mc(i),gs(s.stateNode,s.type,i))}}function Qr(s){_n?Bn?Bn.push(s):Bn=[s]:_n=s}function Za(){if(_n){var s=_n,i=Bn;if(Bn=_n=null,ys(s),i)for(s=0;s<i.length;s++)ys(i[s])}}function Bi(s,i){return s(i)}function el(){}var vs=!1;function tl(s,i,u){if(vs)return s(i,u);vs=!0;try{return Bi(s,i,u)}finally{vs=!1,(_n!==null||Bn!==null)&&(el(),Za())}}function Ct(s,i){var u=s.stateNode;if(u===null)return null;var f=mc(u);if(f===null)return null;u=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var Ro=!1;if(h)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch(s){Ro=!1}function $i(s,i,u,f,y,x,S,V,O){var X=Array.prototype.slice.call(arguments,3);try{i.apply(u,X)}catch(ie){this.onError(ie)}}var Ui=!1,No=null,br=!1,nl=null,bh={onError:function(s){Ui=!0,No=s}};function Do(s,i,u,f,y,x,S,V,O){Ui=!1,No=null,$i.apply(bh,arguments)}function Bu(s,i,u,f,y,x,S,V,O){if(Do.apply(this,arguments),Ui){if(Ui){var X=No;Ui=!1,No=null}else throw Error(n(198));br||(br=!0,nl=X)}}function Sr(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function zi(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Tr(s){if(Sr(s)!==s)throw Error(n(188))}function $u(s){var i=s.alternate;if(!i){if(i=Sr(s),i===null)throw Error(n(188));return i!==s?null:s}for(var u=s,f=i;;){var y=u.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===u)return Tr(y),s;if(x===f)return Tr(y),i;x=x.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=x;else{for(var S=!1,V=y.child;V;){if(V===u){S=!0,u=y,f=x;break}if(V===f){S=!0,f=y,u=x;break}V=V.sibling}if(!S){for(V=x.child;V;){if(V===u){S=!0,u=x,f=y;break}if(V===f){S=!0,f=x,u=y;break}V=V.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:i}function rl(s){return s=$u(s),s!==null?Vo(s):null}function Vo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Vo(s);if(i!==null)return i;s=s.sibling}return null}var Fo=e.unstable_scheduleCallback,sl=e.unstable_cancelCallback,Uu=e.unstable_shouldYield,Sh=e.unstable_requestPaint,st=e.unstable_now,zu=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,Zs=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,il=e.unstable_LowPriority,Hu=e.unstable_IdlePriority,Wi=null,$n=null;function Wu(s){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Wi,s,void 0,(s.current.flags&128)===128)}catch(i){}}var bn=Math.clz32?Math.clz32:qu,ol=Math.log,Gu=Math.LN2;function qu(s){return s>>>=0,s===0?32:31-(ol(s)/Gu|0)|0}var Lo=64,Mo=4194304;function ei(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gi(s,i){var u=s.pendingLanes;if(u===0)return 0;var f=0,y=s.suspendedLanes,x=s.pingedLanes,S=u&268435455;if(S!==0){var V=S&~y;V!==0?f=ei(V):(x&=S,x!==0&&(f=ei(x)))}else S=u&~y,S!==0?f=ei(S):x!==0&&(f=ei(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&y)===0&&(y=f&-f,x=i&-i,y>=x||y===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=u&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)u=31-bn(i),y=1<<u,f|=s[u],i&=~y;return f}function Th(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(s,i){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var S=31-bn(x),V=1<<S,O=y[S];O===-1?((V&u)===0||(V&f)!==0)&&(y[S]=Th(V,i)):O<=i&&(s.expiredLanes|=V),x&=~V}}function Un(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qi(){var s=Lo;return Lo<<=1,(Lo&4194240)===0&&(Lo=64),s}function ti(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function ni(s,i,u){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-bn(i),s[i]=u}function nt(s,i){var u=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-bn(u),x=1<<y;i[y]=0,f[y]=-1,s[y]=-1,u&=~x}}function ri(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var f=31-bn(u),y=1<<f;y&i|s[f]&i&&(s[f]|=i),u&=~y}}var We=0;function si(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ku,Oo,Qu,Yu,Xu,al=!1,Yr=[],Yt=null,Er=null,jr=null,ii=new Map,rr=new Map,Xr=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(s,i){switch(s){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":ii.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(i.pointerId)}}function kn(s,i,u,f,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},i!==null&&(i=bl(i),i!==null&&Oo(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),s)}function jh(s,i,u,f,y){switch(i){case"focusin":return Yt=kn(Yt,s,i,u,f,y),!0;case"dragenter":return Er=kn(Er,s,i,u,f,y),!0;case"mouseover":return jr=kn(jr,s,i,u,f,y),!0;case"pointerover":var x=y.pointerId;return ii.set(x,kn(ii.get(x)||null,s,i,u,f,y)),!0;case"gotpointercapture":return x=y.pointerId,rr.set(x,kn(rr.get(x)||null,s,i,u,f,y)),!0}return!1}function Zu(s){var i=Ji(s.target);if(i!==null){var u=Sr(i);if(u!==null){if(i=u.tag,i===13){if(i=zi(u),i!==null){s.blockedOn=i,Xu(s.priority,function(){Qu(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ws(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=Bo(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Kr=f,u.target.dispatchEvent(f),Kr=null}else return i=bl(u),i!==null&&Oo(i),s.blockedOn=u,!1;i.shift()}return!0}function Ki(s,i,u){ws(s)&&u.delete(i)}function ec(){al=!1,Yt!==null&&ws(Yt)&&(Yt=null),Er!==null&&ws(Er)&&(Er=null),jr!==null&&ws(jr)&&(jr=null),ii.forEach(Ki),rr.forEach(Ki)}function Cr(s,i){s.blockedOn===i&&(s.blockedOn=null,al||(al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ec)))}function Ar(s){function i(y){return Cr(y,s)}if(0<Yr.length){Cr(Yr[0],s);for(var u=1;u<Yr.length;u++){var f=Yr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Yt!==null&&Cr(Yt,s),Er!==null&&Cr(Er,s),jr!==null&&Cr(jr,s),ii.forEach(i),rr.forEach(i),u=0;u<Xr.length;u++)f=Xr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Xr.length&&(u=Xr[0],u.blockedOn===null);)Zu(u),u.blockedOn===null&&Xr.shift()}var _s=G.ReactCurrentBatchConfig,oi=!0;function ht(s,i,u,f){var y=We,x=_s.transition;_s.transition=null;try{We=1,ll(s,i,u,f)}finally{We=y,_s.transition=x}}function Ch(s,i,u,f){var y=We,x=_s.transition;_s.transition=null;try{We=4,ll(s,i,u,f)}finally{We=y,_s.transition=x}}function ll(s,i,u,f){if(oi){var y=Bo(s,i,u,f);if(y===null)Mh(s,i,f,Qi,u),Ju(s,f);else if(jh(y,s,i,u,f))f.stopPropagation();else if(Ju(s,f),i&4&&-1<Eh.indexOf(s)){for(;y!==null;){var x=bl(y);if(x!==null&&Ku(x),x=Bo(s,i,u,f),x===null&&Mh(s,i,f,Qi,u),x===y)break;y=x}y!==null&&f.stopPropagation()}else Mh(s,i,f,null,u)}}var Qi=null;function Bo(s,i,u,f){if(Qi=null,s=ms(f),s=Ji(s),s!==null)if(i=Sr(s),i===null)s=null;else if(u=i.tag,u===13){if(s=zi(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Qi=s,null}function ul(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zu()){case Hi:return 1;case Zs:return 4;case nr:case il:return 16;case Hu:return 536870912;default:return 16}default:return 16}}var zn=null,$o=null,In=null;function cl(){if(In)return In;var s,i=$o,u=i.length,f,y="value"in zn?zn.value:zn.textContent,x=y.length;for(s=0;s<u&&i[s]===y[s];s++);var S=u-s;for(f=1;f<=S&&i[u-f]===y[x-f];f++);return In=y.slice(s,1<f?1-f:void 0)}function Uo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Jr(){return!0}function dl(){return!1}function Xt(s){function i(u,f,y,x,S){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(u=s[V],this[V]=u?u(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Jr:dl,this.isPropagationStopped=dl,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),i}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=Xt(kr),Zr=le({},kr,{view:0,detail:0}),Ah=Xt(Zr),Ho,bs,ai,Yi=le({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ai&&(ai&&s.type==="mousemove"?(Ho=s.screenX-ai.screenX,bs=s.screenY-ai.screenY):bs=Ho=0,ai=s),Ho)},movementY:function(s){return"movementY"in s?s.movementY:bs}}),Wo=Xt(Yi),hl=le({},Yi,{dataTransfer:0}),tc=Xt(hl),Go=le({},Zr,{relatedTarget:0}),qo=Xt(Go),nc=le({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ss=Xt(nc),rc=le({},kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sc=Xt(rc),ic=le({},kr,{data:0}),fl=Xt(ic),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=oc[s])?!!i[s]:!1}function es(){return ac}var d=le({},Zr,{key:function(s){if(s.key){var i=Ko[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Uo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Sn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(s){return s.type==="keypress"?Uo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Xt(d),b=le({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Xt(b),q=le({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),J=Xt(q),de=le({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Xt(de),Mt=le({},Yi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Xt(Mt),Ut=[9,13,27,32],Rt=h&&"CompositionEvent"in window,sr=null;h&&"documentMode"in document&&(sr=document.documentMode);var Hn=h&&"TextEvent"in window&&!sr,Xi=h&&(!Rt||sr&&8<sr&&11>=sr),Qo=" ",vy=!1;function xy(s,i){switch(s){case"keyup":return Ut.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yo=!1;function g2(s,i){switch(s){case"compositionend":return wy(i);case"keypress":return i.which!==32?null:(vy=!0,Qo);case"textInput":return s=i.data,s===Qo&&vy?null:s;default:return null}}function y2(s,i){if(Yo)return s==="compositionend"||!Rt&&xy(s,i)?(s=cl(),In=$o=zn=null,Yo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xi&&i.locale!=="ko"?null:i.data;default:return null}}var v2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!v2[s.type]:i==="textarea"}function by(s,i,u,f){Qr(f),i=hc(i,"onChange"),0<i.length&&(u=new zo("onChange","change",null,u,f),s.push({event:u,listeners:i}))}var pl=null,ml=null;function x2(s){By(s,0)}function lc(s){var i=ta(s);if(Qt(i))return s}function w2(s,i){if(s==="change")return i}var Sy=!1;if(h){var kh;if(h){var Ih="oninput"in document;if(!Ih){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Ih=typeof Ty.oninput=="function"}kh=Ih}else kh=!1;Sy=kh&&(!document.documentMode||9<document.documentMode)}function Ey(){pl&&(pl.detachEvent("onpropertychange",jy),ml=pl=null)}function jy(s){if(s.propertyName==="value"&&lc(ml)){var i=[];by(i,ml,s,ms(s)),tl(x2,i)}}function _2(s,i,u){s==="focusin"?(Ey(),pl=i,ml=u,pl.attachEvent("onpropertychange",jy)):s==="focusout"&&Ey()}function b2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lc(ml)}function S2(s,i){if(s==="click")return lc(i)}function T2(s,i){if(s==="input"||s==="change")return lc(i)}function E2(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Ir=typeof Object.is=="function"?Object.is:E2;function gl(s,i){if(Ir(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),f=Object.keys(i);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!p.call(i,y)||!Ir(s[y],i[y]))return!1}return!0}function Cy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ay(s,i){var u=Cy(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=i&&f>=i)return{node:u,offset:i-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Cy(u)}}function ky(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ky(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Iy(){for(var s=window,i=Lt();i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch(f){u=!1}if(u)s=i.contentWindow;else break;i=Lt(s.document)}return i}function Ph(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function j2(s){var i=Iy(),u=s.focusedElem,f=s.selectionRange;if(i!==u&&u&&u.ownerDocument&&ky(u.ownerDocument.documentElement,u)){if(f!==null&&Ph(u)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(s,u.value.length);else if(s=(i=u.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,x=Math.min(f.start,y);f=f.end===void 0?x:Math.min(f.end,y),!s.extend&&x>f&&(y=f,f=x,x=y),y=Ay(u,x);var S=Ay(u,f);y&&S&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),s.addRange(i)))}}for(i=[],s=u;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)s=i[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var C2=h&&"documentMode"in document&&11>=document.documentMode,Xo=null,Rh=null,yl=null,Nh=!1;function Py(s,i,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Nh||Xo==null||Xo!==Lt(f)||(f=Xo,"selectionStart"in f&&Ph(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yl&&gl(yl,f)||(yl=f,f=hc(Rh,"onSelect"),0<f.length&&(i=new zo("onSelect","select",null,i,u),s.push({event:i,listeners:f}),i.target=Xo)))}function uc(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var Jo={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Dh={},Ry={};h&&(Ry=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function cc(s){if(Dh[s])return Dh[s];if(!Jo[s])return s;var i=Jo[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in Ry)return Dh[s]=i[u];return s}var Ny=cc("animationend"),Dy=cc("animationiteration"),Vy=cc("animationstart"),Fy=cc("transitionend"),Ly=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(s,i){Ly.set(s,i),l(i,[s])}for(var Vh=0;Vh<My.length;Vh++){var Fh=My[Vh],A2=Fh.toLowerCase(),k2=Fh[0].toUpperCase()+Fh.slice(1);li(A2,"on"+k2)}li(Ny,"onAnimationEnd"),li(Dy,"onAnimationIteration"),li(Vy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Fy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function Oy(s,i,u){var f=s.type||"unknown-event";s.currentTarget=u,Bu(f,i,void 0,s),s.currentTarget=null}function By(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var S=f.length-1;0<=S;S--){var V=f[S],O=V.instance,X=V.currentTarget;if(V=V.listener,O!==x&&y.isPropagationStopped())break e;Oy(y,V,X),x=O}else for(S=0;S<f.length;S++){if(V=f[S],O=V.instance,X=V.currentTarget,V=V.listener,O!==x&&y.isPropagationStopped())break e;Oy(y,V,X),x=O}}}if(br)throw s=nl,br=!1,nl=null,s}function ut(s,i){var u=i[Hh];u===void 0&&(u=i[Hh]=new Set);var f=s+"__bubble";u.has(f)||($y(i,s,2,!1),u.add(f))}function Lh(s,i,u){var f=0;i&&(f|=4),$y(u,s,f,i)}var dc="_reactListening"+Math.random().toString(36).slice(2);function xl(s){if(!s[dc]){s[dc]=!0,r.forEach(function(u){u!=="selectionchange"&&(I2.has(u)||Lh(u,!1,s),Lh(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[dc]||(i[dc]=!0,Lh("selectionchange",!1,i))}}function $y(s,i,u,f){switch(ul(i)){case 1:var y=ht;break;case 4:y=Ch;break;default:y=ll}u=y.bind(null,i,u,s),y=void 0,!Ro||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(i,u,{capture:!0,passive:y}):s.addEventListener(i,u,!0):y!==void 0?s.addEventListener(i,u,{passive:y}):s.addEventListener(i,u,!1)}function Mh(s,i,u,f,y){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var V=f.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(S===4)for(S=f.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===y||O.nodeType===8&&O.parentNode===y))return;S=S.return}for(;V!==null;){if(S=Ji(V),S===null)return;if(O=S.tag,O===5||O===6){f=x=S;continue e}V=V.parentNode}}f=f.return}tl(function(){var X=x,ie=ms(u),ae=[];e:{var se=Ly.get(s);if(se!==void 0){var ge=zo,xe=s;switch(s){case"keypress":if(Uo(u)===0)break e;case"keydown":case"keyup":ge=v;break;case"focusin":xe="focus",ge=qo;break;case"focusout":xe="blur",ge=qo;break;case"beforeblur":case"afterblur":ge=qo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=J;break;case Ny:case Dy:case Vy:ge=Ss;break;case Fy:ge=Ze;break;case"scroll":ge=Ah;break;case"wheel":ge=Ge;break;case"copy":case"cut":case"paste":ge=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=C}var _e=(i&4)!==0,At=!_e&&s==="scroll",K=_e?se!==null?se+"Capture":null:se;_e=[];for(var U=X,Q;U!==null;){Q=U;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,K!==null&&(ce=Ct(U,K),ce!=null&&_e.push(wl(U,ce,Q)))),At)break;U=U.return}0<_e.length&&(se=new ge(se,xe,null,u,ie),ae.push({event:se,listeners:_e}))}}if((i&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",se&&u!==Kr&&(xe=u.relatedTarget||u.fromElement)&&(Ji(xe)||xe[Ts]))break e;if((ge||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(xe=u.relatedTarget||u.toElement,ge=X,xe=xe?Ji(xe):null,xe!==null&&(At=Sr(xe),xe!==At||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ge=null,xe=X),ge!==xe)){if(_e=Wo,ce="onMouseLeave",K="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(_e=C,ce="onPointerLeave",K="onPointerEnter",U="pointer"),At=ge==null?se:ta(ge),Q=xe==null?se:ta(xe),se=new _e(ce,U+"leave",ge,u,ie),se.target=At,se.relatedTarget=Q,ce=null,Ji(ie)===X&&(_e=new _e(K,U+"enter",xe,u,ie),_e.target=Q,_e.relatedTarget=At,ce=_e),At=ce,ge&&xe)t:{for(_e=ge,K=xe,U=0,Q=_e;Q;Q=Zo(Q))U++;for(Q=0,ce=K;ce;ce=Zo(ce))Q++;for(;0<U-Q;)_e=Zo(_e),U--;for(;0<Q-U;)K=Zo(K),Q--;for(;U--;){if(_e===K||K!==null&&_e===K.alternate)break t;_e=Zo(_e),K=Zo(K)}_e=null}else _e=null;ge!==null&&Uy(ae,se,ge,_e,!1),xe!==null&&At!==null&&Uy(ae,At,xe,_e,!0)}}e:{if(se=X?ta(X):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var Se=w2;else if(_y(se))if(Sy)Se=T2;else{Se=b2;var Ce=_2}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=S2);if(Se&&(Se=Se(s,X))){by(ae,Se,u,ie);break e}Ce&&Ce(s,se,X),s==="focusout"&&(Ce=se._wrapperState)&&Ce.controlled&&se.type==="number"&&yr(se,"number",se.value)}switch(Ce=X?ta(X):window,s){case"focusin":(_y(Ce)||Ce.contentEditable==="true")&&(Xo=Ce,Rh=X,yl=null);break;case"focusout":yl=Rh=Xo=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Py(ae,u,ie);break;case"selectionchange":if(C2)break;case"keydown":case"keyup":Py(ae,u,ie)}var Ae;if(Rt)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Yo?xy(s,u)&&(Re="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Xi&&u.locale!=="ko"&&(Yo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Yo&&(Ae=cl()):(zn=ie,$o="value"in zn?zn.value:zn.textContent,Yo=!0)),Ce=hc(X,Re),0<Ce.length&&(Re=new fl(Re,s,null,u,ie),ae.push({event:Re,listeners:Ce}),Ae?Re.data=Ae:(Ae=wy(u),Ae!==null&&(Re.data=Ae)))),(Ae=Hn?g2(s,u):y2(s,u))&&(X=hc(X,"onBeforeInput"),0<X.length&&(ie=new fl("onBeforeInput","beforeinput",null,u,ie),ae.push({event:ie,listeners:X}),ie.data=Ae))}By(ae,i)})}function wl(s,i,u){return{instance:s,listener:i,currentTarget:u}}function hc(s,i){for(var u=i+"Capture",f=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Ct(s,u),x!=null&&f.unshift(wl(s,x,y)),x=Ct(s,i),x!=null&&f.push(wl(s,x,y))),s=s.return}return f}function Zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uy(s,i,u,f,y){for(var x=i._reactName,S=[];u!==null&&u!==f;){var V=u,O=V.alternate,X=V.stateNode;if(O!==null&&O===f)break;V.tag===5&&X!==null&&(V=X,y?(O=Ct(u,x),O!=null&&S.unshift(wl(u,O,V))):y||(O=Ct(u,x),O!=null&&S.push(wl(u,O,V)))),u=u.return}S.length!==0&&s.push({event:i,listeners:S})}var P2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function zy(s){return(typeof s=="string"?s:""+s).replace(P2,`
`).replace(R2,"")}function fc(s,i,u){if(i=zy(i),zy(s)!==i&&u)throw Error(n(425))}function pc(){}var Oh=null,Bh=null;function $h(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,N2=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,D2=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy!="undefined"?function(s){return Hy.resolve(null).then(s).catch(V2)}:Uh;function V2(s){setTimeout(function(){throw s})}function zh(s,i){var u=i,f=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(f===0){s.removeChild(y),Ar(i);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=y}while(u);Ar(i)}function ui(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Wy(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}var ea=Math.random().toString(36).slice(2),ts="__reactFiber$"+ea,_l="__reactProps$"+ea,Ts="__reactContainer$"+ea,Hh="__reactEvents$"+ea,F2="__reactListeners$"+ea,L2="__reactHandles$"+ea;function Ji(s){var i=s[ts];if(i)return i;for(var u=s.parentNode;u;){if(i=u[Ts]||u[ts]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=Wy(s);s!==null;){if(u=s[ts])return u;s=Wy(s)}return i}s=u,u=s.parentNode}return null}function bl(s){return s=s[ts]||s[Ts],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function mc(s){return s[_l]||null}var Wh=[],na=-1;function ci(s){return{current:s}}function ct(s){0>na||(s.current=Wh[na],Wh[na]=null,na--)}function it(s,i){na++,Wh[na]=s.current,s.current=i}var di={},dn=ci(di),Pn=ci(!1),Zi=di;function ra(s,i){var u=s.type.contextTypes;if(!u)return di;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in u)y[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=y),y}function Rn(s){return s=s.childContextTypes,s!=null}function gc(){ct(Pn),ct(dn)}function Gy(s,i,u){if(dn.current!==di)throw Error(n(168));it(dn,i),it(Pn,u)}function qy(s,i,u){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var y in f)if(!(y in i))throw Error(n(108,Ee(s)||"Unknown",y));return le({},u,f)}function yc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||di,Zi=dn.current,it(dn,s),it(Pn,Pn.current),!0}function Ky(s,i,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=qy(s,i,Zi),f.__reactInternalMemoizedMergedChildContext=s,ct(Pn),ct(dn),it(dn,s)):ct(Pn),it(Pn,u)}var Es=null,vc=!1,Gh=!1;function Qy(s){Es===null?Es=[s]:Es.push(s)}function M2(s){vc=!0,Qy(s)}function hi(){if(!Gh&&Es!==null){Gh=!0;var s=0,i=We;try{var u=Es;for(We=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Es=null,vc=!1}catch(y){throw Es!==null&&(Es=Es.slice(s+1)),Fo(Hi,hi),y}finally{We=i,Gh=!1}}return null}var sa=[],ia=0,xc=null,wc=0,ir=[],or=0,eo=null,js=1,Cs="";function to(s,i){sa[ia++]=wc,sa[ia++]=xc,xc=s,wc=i}function Yy(s,i,u){ir[or++]=js,ir[or++]=Cs,ir[or++]=eo,eo=s;var f=js;s=Cs;var y=32-bn(f)-1;f&=~(1<<y),u+=1;var x=32-bn(i)+y;if(30<x){var S=y-y%5;x=(f&(1<<S)-1).toString(32),f>>=S,y-=S,js=1<<32-bn(i)+y|u<<y|f,Cs=x+s}else js=1<<x|u<<y|f,Cs=s}function qh(s){s.return!==null&&(to(s,1),Yy(s,1,0))}function Kh(s){for(;s===xc;)xc=sa[--ia],sa[ia]=null,wc=sa[--ia],sa[ia]=null;for(;s===eo;)eo=ir[--or],ir[or]=null,Cs=ir[--or],ir[or]=null,js=ir[--or],ir[or]=null}var Wn=null,Gn=null,ft=!1,Pr=null;function Xy(s,i){var u=cr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=s,i=s.deletions,i===null?(s.deletions=[u],s.flags|=16):i.push(u)}function Jy(s,i){switch(s.tag){case 5:var u=s.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Wn=s,Gn=ui(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Wn=s,Gn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=eo!==null?{id:js,overflow:Cs}:null,s.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=cr(18,null,null,0),u.stateNode=i,u.return=s,s.child=u,Wn=s,Gn=null,!0):!1;default:return!1}}function Qh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Yh(s){if(ft){var i=Gn;if(i){var u=i;if(!Jy(s,i)){if(Qh(s))throw Error(n(418));i=ui(u.nextSibling);var f=Wn;i&&Jy(s,i)?Xy(f,u):(s.flags=s.flags&-4097|2,ft=!1,Wn=s)}}else{if(Qh(s))throw Error(n(418));s.flags=s.flags&-4097|2,ft=!1,Wn=s}}}function Zy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wn=s}function _c(s){if(s!==Wn)return!1;if(!ft)return Zy(s),ft=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!$h(s.type,s.memoizedProps)),i&&(i=Gn)){if(Qh(s))throw ev(),Error(n(418));for(;i;)Xy(s,i),i=ui(i.nextSibling)}if(Zy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(i===0){Gn=ui(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}s=s.nextSibling}Gn=null}}else Gn=Wn?ui(s.stateNode.nextSibling):null;return!0}function ev(){for(var s=Gn;s;)s=ui(s.nextSibling)}function oa(){Gn=Wn=null,ft=!1}function Xh(s){Pr===null?Pr=[s]:Pr.push(s)}var O2=G.ReactCurrentBatchConfig;function Sl(s,i,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var y=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(S){var V=y.refs;S===null?delete V[x]:V[x]=S},i._stringRef=x,i)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function bc(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function tv(s){var i=s._init;return i(s._payload)}function nv(s){function i(K,U){if(s){var Q=K.deletions;Q===null?(K.deletions=[U],K.flags|=16):Q.push(U)}}function u(K,U){if(!s)return null;for(;U!==null;)i(K,U),U=U.sibling;return null}function f(K,U){for(K=new Map;U!==null;)U.key!==null?K.set(U.key,U):K.set(U.index,U),U=U.sibling;return K}function y(K,U){return K=wi(K,U),K.index=0,K.sibling=null,K}function x(K,U,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<U?(K.flags|=2,U):Q):(K.flags|=2,U)):(K.flags|=1048576,U)}function S(K){return s&&K.alternate===null&&(K.flags|=2),K}function V(K,U,Q,ce){return U===null||U.tag!==6?(U=zf(Q,K.mode,ce),U.return=K,U):(U=y(U,Q),U.return=K,U)}function O(K,U,Q,ce){var Se=Q.type;return Se===j?ie(K,U,Q.props.children,ce,Q.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===we&&tv(Se)===U.type)?(ce=y(U,Q.props),ce.ref=Sl(K,U,Q),ce.return=K,ce):(ce=Gc(Q.type,Q.key,Q.props,null,K.mode,ce),ce.ref=Sl(K,U,Q),ce.return=K,ce)}function X(K,U,Q,ce){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=Hf(Q,K.mode,ce),U.return=K,U):(U=y(U,Q.children||[]),U.return=K,U)}function ie(K,U,Q,ce,Se){return U===null||U.tag!==7?(U=uo(Q,K.mode,ce,Se),U.return=K,U):(U=y(U,Q),U.return=K,U)}function ae(K,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=zf(""+U,K.mode,Q),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return Q=Gc(U.type,U.key,U.props,null,K.mode,Q),Q.ref=Sl(K,null,U),Q.return=K,Q;case Y:return U=Hf(U,K.mode,Q),U.return=K,U;case we:var ce=U._init;return ae(K,ce(U._payload),Q)}if(Cn(U)||fe(U))return U=uo(U,K.mode,Q,null),U.return=K,U;bc(K,U)}return null}function se(K,U,Q,ce){var Se=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Se!==null?null:V(K,U,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===Se?O(K,U,Q,ce):null;case Y:return Q.key===Se?X(K,U,Q,ce):null;case we:return Se=Q._init,se(K,U,Se(Q._payload),ce)}if(Cn(Q)||fe(Q))return Se!==null?null:ie(K,U,Q,ce,null);bc(K,Q)}return null}function ge(K,U,Q,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return K=K.get(Q)||null,V(U,K,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case H:return K=K.get(ce.key===null?Q:ce.key)||null,O(U,K,ce,Se);case Y:return K=K.get(ce.key===null?Q:ce.key)||null,X(U,K,ce,Se);case we:var Ce=ce._init;return ge(K,U,Q,Ce(ce._payload),Se)}if(Cn(ce)||fe(ce))return K=K.get(Q)||null,ie(U,K,ce,Se,null);bc(U,ce)}return null}function xe(K,U,Q,ce){for(var Se=null,Ce=null,Ae=U,Re=U=0,Wt=null;Ae!==null&&Re<Q.length;Re++){Ae.index>Re?(Wt=Ae,Ae=null):Wt=Ae.sibling;var Ye=se(K,Ae,Q[Re],ce);if(Ye===null){Ae===null&&(Ae=Wt);break}s&&Ae&&Ye.alternate===null&&i(K,Ae),U=x(Ye,U,Re),Ce===null?Se=Ye:Ce.sibling=Ye,Ce=Ye,Ae=Wt}if(Re===Q.length)return u(K,Ae),ft&&to(K,Re),Se;if(Ae===null){for(;Re<Q.length;Re++)Ae=ae(K,Q[Re],ce),Ae!==null&&(U=x(Ae,U,Re),Ce===null?Se=Ae:Ce.sibling=Ae,Ce=Ae);return ft&&to(K,Re),Se}for(Ae=f(K,Ae);Re<Q.length;Re++)Wt=ge(Ae,K,Re,Q[Re],ce),Wt!==null&&(s&&Wt.alternate!==null&&Ae.delete(Wt.key===null?Re:Wt.key),U=x(Wt,U,Re),Ce===null?Se=Wt:Ce.sibling=Wt,Ce=Wt);return s&&Ae.forEach(function(_i){return i(K,_i)}),ft&&to(K,Re),Se}function _e(K,U,Q,ce){var Se=fe(Q);if(typeof Se!="function")throw Error(n(150));if(Q=Se.call(Q),Q==null)throw Error(n(151));for(var Ce=Se=null,Ae=U,Re=U=0,Wt=null,Ye=Q.next();Ae!==null&&!Ye.done;Re++,Ye=Q.next()){Ae.index>Re?(Wt=Ae,Ae=null):Wt=Ae.sibling;var _i=se(K,Ae,Ye.value,ce);if(_i===null){Ae===null&&(Ae=Wt);break}s&&Ae&&_i.alternate===null&&i(K,Ae),U=x(_i,U,Re),Ce===null?Se=_i:Ce.sibling=_i,Ce=_i,Ae=Wt}if(Ye.done)return u(K,Ae),ft&&to(K,Re),Se;if(Ae===null){for(;!Ye.done;Re++,Ye=Q.next())Ye=ae(K,Ye.value,ce),Ye!==null&&(U=x(Ye,U,Re),Ce===null?Se=Ye:Ce.sibling=Ye,Ce=Ye);return ft&&to(K,Re),Se}for(Ae=f(K,Ae);!Ye.done;Re++,Ye=Q.next())Ye=ge(Ae,K,Re,Ye.value,ce),Ye!==null&&(s&&Ye.alternate!==null&&Ae.delete(Ye.key===null?Re:Ye.key),U=x(Ye,U,Re),Ce===null?Se=Ye:Ce.sibling=Ye,Ce=Ye);return s&&Ae.forEach(function(vT){return i(K,vT)}),ft&&to(K,Re),Se}function At(K,U,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var Se=Q.key,Ce=U;Ce!==null;){if(Ce.key===Se){if(Se=Q.type,Se===j){if(Ce.tag===7){u(K,Ce.sibling),U=y(Ce,Q.props.children),U.return=K,K=U;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===we&&tv(Se)===Ce.type){u(K,Ce.sibling),U=y(Ce,Q.props),U.ref=Sl(K,Ce,Q),U.return=K,K=U;break e}u(K,Ce);break}else i(K,Ce);Ce=Ce.sibling}Q.type===j?(U=uo(Q.props.children,K.mode,ce,Q.key),U.return=K,K=U):(ce=Gc(Q.type,Q.key,Q.props,null,K.mode,ce),ce.ref=Sl(K,U,Q),ce.return=K,K=ce)}return S(K);case Y:e:{for(Ce=Q.key;U!==null;){if(U.key===Ce)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){u(K,U.sibling),U=y(U,Q.children||[]),U.return=K,K=U;break e}else{u(K,U);break}else i(K,U);U=U.sibling}U=Hf(Q,K.mode,ce),U.return=K,K=U}return S(K);case we:return Ce=Q._init,At(K,U,Ce(Q._payload),ce)}if(Cn(Q))return xe(K,U,Q,ce);if(fe(Q))return _e(K,U,Q,ce);bc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,U!==null&&U.tag===6?(u(K,U.sibling),U=y(U,Q),U.return=K,K=U):(u(K,U),U=zf(Q,K.mode,ce),U.return=K,K=U),S(K)):u(K,U)}return At}var aa=nv(!0),rv=nv(!1),Sc=ci(null),Tc=null,la=null,Jh=null;function Zh(){Jh=la=Tc=null}function ef(s){var i=Sc.current;ct(Sc),s._currentValue=i}function tf(s,i,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===u)break;s=s.return}}function ua(s,i){Tc=s,Jh=la=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Nn=!0),s.firstContext=null)}function ar(s){var i=s._currentValue;if(Jh!==s)if(s={context:s,memoizedValue:i,next:null},la===null){if(Tc===null)throw Error(n(308));la=s,Tc.dependencies={lanes:0,firstContext:s}}else la=la.next=s;return i}var no=null;function nf(s){no===null?no=[s]:no.push(s)}function sv(s,i,u,f){var y=i.interleaved;return y===null?(u.next=u,nf(i)):(u.next=y.next,y.next=u),i.interleaved=u,As(s,f)}function As(s,i){s.lanes|=i;var u=s.alternate;for(u!==null&&(u.lanes|=i),u=s,s=s.return;s!==null;)s.childLanes|=i,u=s.alternate,u!==null&&(u.childLanes|=i),u=s,s=s.return;return u.tag===3?u.stateNode:null}var fi=!1;function rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ks(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function pi(s,i,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ke&2)!==0){var y=f.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),f.pending=i,As(s,u)}return y=f.interleaved,y===null?(i.next=i,nf(f)):(i.next=y.next,y.next=i),f.interleaved=i,As(s,u)}function Ec(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,ri(s,u)}}function ov(s,i){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?y=x=S:x=x.next=S,u=u.next}while(u!==null);x===null?y=x=i:x=x.next=i}else y=x=i;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}function jc(s,i,u,f){var y=s.updateQueue;fi=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var O=V,X=O.next;O.next=null,S===null?x=X:S.next=X,S=O;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==S&&(V===null?ie.firstBaseUpdate=X:V.next=X,ie.lastBaseUpdate=O))}if(x!==null){var ae=y.baseState;S=0,ie=X=O=null,V=x;do{var se=V.lane,ge=V.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var xe=s,_e=V;switch(se=i,ge=u,_e.tag){case 1:if(xe=_e.payload,typeof xe=="function"){ae=xe.call(ge,ae,se);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=_e.payload,se=typeof xe=="function"?xe.call(ge,ae,se):xe,se==null)break e;ae=le({},ae,se);break e;case 2:fi=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,se=y.effects,se===null?y.effects=[V]:se.push(V))}else ge={eventTime:ge,lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(X=ie=ge,O=ae):ie=ie.next=ge,S|=se;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;se=V,V=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(O=ae),y.baseState=O,y.firstBaseUpdate=X,y.lastBaseUpdate=ie,i=y.shared.interleaved,i!==null){y=i;do S|=y.lane,y=y.next;while(y!==i)}else x===null&&(y.shared.lanes=0);io|=S,s.lanes=S,s.memoizedState=ae}}function av(s,i,u){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],y=f.callback;if(y!==null){if(f.callback=null,f=u,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var Tl={},ns=ci(Tl),El=ci(Tl),jl=ci(Tl);function ro(s){if(s===Tl)throw Error(n(174));return s}function sf(s,i){switch(it(jl,i),it(El,s),it(ns,Tl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:bt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=bt(i,s)}ct(ns),it(ns,i)}function ca(){ct(ns),ct(El),ct(jl)}function lv(s){ro(jl.current);var i=ro(ns.current),u=bt(i,s.type);i!==u&&(it(El,s),it(ns,u))}function of(s){El.current===s&&(ct(ns),ct(El))}var yt=ci(0);function Cc(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var af=[];function lf(){for(var s=0;s<af.length;s++)af[s]._workInProgressVersionPrimary=null;af.length=0}var Ac=G.ReactCurrentDispatcher,uf=G.ReactCurrentBatchConfig,so=0,vt=null,Ot=null,zt=null,kc=!1,Cl=!1,Al=0,B2=0;function hn(){throw Error(n(321))}function cf(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!Ir(s[u],i[u]))return!1;return!0}function df(s,i,u,f,y,x){if(so=x,vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ac.current=s===null||s.memoizedState===null?H2:W2,s=u(f,y),Cl){x=0;do{if(Cl=!1,Al=0,25<=x)throw Error(n(301));x+=1,zt=Ot=null,i.updateQueue=null,Ac.current=G2,s=u(f,y)}while(Cl)}if(Ac.current=Rc,i=Ot!==null&&Ot.next!==null,so=0,zt=Ot=vt=null,kc=!1,i)throw Error(n(300));return s}function hf(){var s=Al!==0;return Al=0,s}function rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?vt.memoizedState=zt=s:zt=zt.next=s,zt}function lr(){if(Ot===null){var s=vt.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var i=zt===null?vt.memoizedState:zt.next;if(i!==null)zt=i,Ot=s;else{if(s===null)throw Error(n(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},zt===null?vt.memoizedState=zt=s:zt=zt.next=s}return zt}function kl(s,i){return typeof i=="function"?i(s):i}function ff(s){var i=lr(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=Ot,y=f.baseQueue,x=u.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}f.baseQueue=y=x,u.pending=null}if(y!==null){x=y.next,f=f.baseState;var V=S=null,O=null,X=x;do{var ie=X.lane;if((so&ie)===ie)O!==null&&(O=O.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var ae={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};O===null?(V=O=ae,S=f):O=O.next=ae,vt.lanes|=ie,io|=ie}X=X.next}while(X!==null&&X!==x);O===null?S=f:O.next=V,Ir(f,i.memoizedState)||(Nn=!0),i.memoizedState=f,i.baseState=S,i.baseQueue=O,u.lastRenderedState=f}if(s=u.interleaved,s!==null){y=s;do x=y.lane,vt.lanes|=x,io|=x,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function pf(s){var i=lr(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,x=i.memoizedState;if(y!==null){u.pending=null;var S=y=y.next;do x=s(x,S.action),S=S.next;while(S!==y);Ir(x,i.memoizedState)||(Nn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),u.lastRenderedState=x}return[x,f]}function uv(){}function cv(s,i){var u=vt,f=lr(),y=i(),x=!Ir(f.memoizedState,y);if(x&&(f.memoizedState=y,Nn=!0),f=f.queue,mf(fv.bind(null,u,f,s),[s]),f.getSnapshot!==i||x||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,Il(9,hv.bind(null,u,f,y,i),void 0,null),Ht===null)throw Error(n(349));(so&30)!==0||dv(u,i,y)}return y}function dv(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=vt.updateQueue,i===null?(i={lastEffect:null,stores:null},vt.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function hv(s,i,u,f){i.value=u,i.getSnapshot=f,pv(i)&&mv(s)}function fv(s,i,u){return u(function(){pv(i)&&mv(s)})}function pv(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!Ir(s,u)}catch(f){return!0}}function mv(s){var i=As(s,1);i!==null&&Vr(i,s,1,-1)}function gv(s){var i=rs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:s},i.queue=s,s=s.dispatch=z2.bind(null,vt,s),[i.memoizedState,s]}function Il(s,i,u,f){return s={tag:s,create:i,destroy:u,deps:f,next:null},i=vt.updateQueue,i===null?(i={lastEffect:null,stores:null},vt.updateQueue=i,i.lastEffect=s.next=s):(u=i.lastEffect,u===null?i.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,i.lastEffect=s)),s}function yv(){return lr().memoizedState}function Ic(s,i,u,f){var y=rs();vt.flags|=s,y.memoizedState=Il(1|i,u,void 0,f===void 0?null:f)}function Pc(s,i,u,f){var y=lr();f=f===void 0?null:f;var x=void 0;if(Ot!==null){var S=Ot.memoizedState;if(x=S.destroy,f!==null&&cf(f,S.deps)){y.memoizedState=Il(i,u,x,f);return}}vt.flags|=s,y.memoizedState=Il(1|i,u,x,f)}function vv(s,i){return Ic(8390656,8,s,i)}function mf(s,i){return Pc(2048,8,s,i)}function xv(s,i){return Pc(4,2,s,i)}function wv(s,i){return Pc(4,4,s,i)}function _v(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function bv(s,i,u){return u=u!=null?u.concat([s]):null,Pc(4,4,_v.bind(null,i,s),u)}function gf(){}function Sv(s,i){var u=lr();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&cf(i,f[1])?f[0]:(u.memoizedState=[s,i],s)}function Tv(s,i){var u=lr();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&cf(i,f[1])?f[0]:(s=s(),u.memoizedState=[s,i],s)}function Ev(s,i,u){return(so&21)===0?(s.baseState&&(s.baseState=!1,Nn=!0),s.memoizedState=u):(Ir(u,i)||(u=qi(),vt.lanes|=u,io|=u,s.baseState=!0),i)}function $2(s,i){var u=We;We=u!==0&&4>u?u:4,s(!0);var f=uf.transition;uf.transition={};try{s(!1),i()}finally{We=u,uf.transition=f}}function jv(){return lr().memoizedState}function U2(s,i,u){var f=vi(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Cv(s))Av(i,u);else if(u=sv(s,i,u,f),u!==null){var y=En();Vr(u,s,f,y),kv(u,i,f)}}function z2(s,i,u){var f=vi(s),y={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cv(s))Av(i,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var S=i.lastRenderedState,V=x(S,u);if(y.hasEagerState=!0,y.eagerState=V,Ir(V,S)){var O=i.interleaved;O===null?(y.next=y,nf(i)):(y.next=O.next,O.next=y),i.interleaved=y;return}}catch(X){}finally{}u=sv(s,i,y,f),u!==null&&(y=En(),Vr(u,s,f,y),kv(u,i,f))}}function Cv(s){var i=s.alternate;return s===vt||i!==null&&i===vt}function Av(s,i){Cl=kc=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function kv(s,i,u){if((u&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,ri(s,u)}}var Rc={readContext:ar,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},H2={readContext:ar,useCallback:function(s,i){return rs().memoizedState=[s,i===void 0?null:i],s},useContext:ar,useEffect:vv,useImperativeHandle:function(s,i,u){return u=u!=null?u.concat([s]):null,Ic(4194308,4,_v.bind(null,i,s),u)},useLayoutEffect:function(s,i){return Ic(4194308,4,s,i)},useInsertionEffect:function(s,i){return Ic(4,2,s,i)},useMemo:function(s,i){var u=rs();return i=i===void 0?null:i,s=s(),u.memoizedState=[s,i],s},useReducer:function(s,i,u){var f=rs();return i=u!==void 0?u(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=U2.bind(null,vt,s),[f.memoizedState,s]},useRef:function(s){var i=rs();return s={current:s},i.memoizedState=s},useState:gv,useDebugValue:gf,useDeferredValue:function(s){return rs().memoizedState=s},useTransition:function(){var s=gv(!1),i=s[0];return s=$2.bind(null,s[1]),rs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,u){var f=vt,y=rs();if(ft){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Ht===null)throw Error(n(349));(so&30)!==0||dv(f,i,u)}y.memoizedState=u;var x={value:u,getSnapshot:i};return y.queue=x,vv(fv.bind(null,f,x,s),[s]),f.flags|=2048,Il(9,hv.bind(null,f,x,u,i),void 0,null),u},useId:function(){var s=rs(),i=Ht.identifierPrefix;if(ft){var u=Cs,f=js;u=(f&~(1<<32-bn(f)-1)).toString(32)+u,i=":"+i+"R"+u,u=Al++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=B2++,i=":"+i+"r"+u.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},W2={readContext:ar,useCallback:Sv,useContext:ar,useEffect:mf,useImperativeHandle:bv,useInsertionEffect:xv,useLayoutEffect:wv,useMemo:Tv,useReducer:ff,useRef:yv,useState:function(){return ff(kl)},useDebugValue:gf,useDeferredValue:function(s){var i=lr();return Ev(i,Ot.memoizedState,s)},useTransition:function(){var s=ff(kl)[0],i=lr().memoizedState;return[s,i]},useMutableSource:uv,useSyncExternalStore:cv,useId:jv,unstable_isNewReconciler:!1},G2={readContext:ar,useCallback:Sv,useContext:ar,useEffect:mf,useImperativeHandle:bv,useInsertionEffect:xv,useLayoutEffect:wv,useMemo:Tv,useReducer:pf,useRef:yv,useState:function(){return pf(kl)},useDebugValue:gf,useDeferredValue:function(s){var i=lr();return Ot===null?i.memoizedState=s:Ev(i,Ot.memoizedState,s)},useTransition:function(){var s=pf(kl)[0],i=lr().memoizedState;return[s,i]},useMutableSource:uv,useSyncExternalStore:cv,useId:jv,unstable_isNewReconciler:!1};function Rr(s,i){if(s&&s.defaultProps){i=le({},i),s=s.defaultProps;for(var u in s)i[u]===void 0&&(i[u]=s[u]);return i}return i}function yf(s,i,u,f){i=s.memoizedState,u=u(f,i),u=u==null?i:le({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Nc={isMounted:function(s){return(s=s._reactInternals)?Sr(s)===s:!1},enqueueSetState:function(s,i,u){s=s._reactInternals;var f=En(),y=vi(s),x=ks(f,y);x.payload=i,u!=null&&(x.callback=u),i=pi(s,x,y),i!==null&&(Vr(i,s,y,f),Ec(i,s,y))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var f=En(),y=vi(s),x=ks(f,y);x.tag=1,x.payload=i,u!=null&&(x.callback=u),i=pi(s,x,y),i!==null&&(Vr(i,s,y,f),Ec(i,s,y))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=En(),f=vi(s),y=ks(u,f);y.tag=2,i!=null&&(y.callback=i),i=pi(s,y,f),i!==null&&(Vr(i,s,f,u),Ec(i,s,f))}};function Iv(s,i,u,f,y,x,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,S):i.prototype&&i.prototype.isPureReactComponent?!gl(u,f)||!gl(y,x):!0}function Pv(s,i,u){var f=!1,y=di,x=i.contextType;return typeof x=="object"&&x!==null?x=ar(x):(y=Rn(i)?Zi:dn.current,f=i.contextTypes,x=(f=f!=null)?ra(s,y):di),i=new i(u,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Nc,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),i}function Rv(s,i,u,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,f),i.state!==s&&Nc.enqueueReplaceState(i,i.state,null)}function vf(s,i,u,f){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},rf(s);var x=i.contextType;typeof x=="object"&&x!==null?y.context=ar(x):(x=Rn(i)?Zi:dn.current,y.context=ra(s,x)),y.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(yf(s,i,x,u),y.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&Nc.enqueueReplaceState(y,y.state,null),jc(s,u,y,f),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function da(s,i){try{var u="",f=i;do u+=ke(f),f=f.return;while(f);var y=u}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:y,digest:null}}function xf(s,i,u){return{value:s,source:null,stack:u!=null?u:null,digest:i!=null?i:null}}function wf(s,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var q2=typeof WeakMap=="function"?WeakMap:Map;function Nv(s,i,u){u=ks(-1,u),u.tag=3,u.payload={element:null};var f=i.value;return u.callback=function(){Bc||(Bc=!0,Vf=f),wf(s,i)},u}function Dv(s,i,u){u=ks(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=i.value;u.payload=function(){return f(y)},u.callback=function(){wf(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){wf(s,i),typeof f!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),u}function Vv(s,i,u){var f=s.pingCache;if(f===null){f=s.pingCache=new q2;var y=new Set;f.set(i,y)}else y=f.get(i),y===void 0&&(y=new Set,f.set(i,y));y.has(u)||(y.add(u),s=aT.bind(null,s,i,u),i.then(s,s))}function Fv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Lv(s,i,u,f,y){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ks(-1,1),i.tag=2,pi(u,i,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var K2=G.ReactCurrentOwner,Nn=!1;function Tn(s,i,u,f){i.child=s===null?rv(i,null,u,f):aa(i,s.child,u,f)}function Mv(s,i,u,f,y){u=u.render;var x=i.ref;return ua(i,y),f=df(s,i,u,f,x,y),u=hf(),s!==null&&!Nn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~y,Is(s,i,y)):(ft&&u&&qh(i),i.flags|=1,Tn(s,i,f,y),i.child)}function Ov(s,i,u,f,y){if(s===null){var x=u.type;return typeof x=="function"&&!Uf(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=x,Bv(s,i,x,f,y)):(s=Gc(u.type,null,f,i,i.mode,y),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&y)===0){var S=x.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(S,f)&&s.ref===i.ref)return Is(s,i,y)}return i.flags|=1,s=wi(x,f),s.ref=i.ref,s.return=i,i.child=s}function Bv(s,i,u,f,y){if(s!==null){var x=s.memoizedProps;if(gl(x,f)&&s.ref===i.ref)if(Nn=!1,i.pendingProps=f=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Nn=!0);else return i.lanes=s.lanes,Is(s,i,y)}return _f(s,i,u,f,y)}function $v(s,i,u){var f=i.pendingProps,y=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(fa,qn),qn|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,it(fa,qn),qn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:u,it(fa,qn),qn|=f}else x!==null?(f=x.baseLanes|u,i.memoizedState=null):f=u,it(fa,qn),qn|=f;return Tn(s,i,y,u),i.child}function Uv(s,i){var u=i.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function _f(s,i,u,f,y){var x=Rn(u)?Zi:dn.current;return x=ra(i,x),ua(i,y),u=df(s,i,u,f,x,y),f=hf(),s!==null&&!Nn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~y,Is(s,i,y)):(ft&&f&&qh(i),i.flags|=1,Tn(s,i,u,y),i.child)}function zv(s,i,u,f,y){if(Rn(u)){var x=!0;yc(i)}else x=!1;if(ua(i,y),i.stateNode===null)Vc(s,i),Pv(i,u,f),vf(i,u,f,y),f=!0;else if(s===null){var S=i.stateNode,V=i.memoizedProps;S.props=V;var O=S.context,X=u.contextType;typeof X=="object"&&X!==null?X=ar(X):(X=Rn(u)?Zi:dn.current,X=ra(i,X));var ie=u.getDerivedStateFromProps,ae=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==f||O!==X)&&Rv(i,S,f,X),fi=!1;var se=i.memoizedState;S.state=se,jc(i,f,S,y),O=i.memoizedState,V!==f||se!==O||Pn.current||fi?(typeof ie=="function"&&(yf(i,u,ie,f),O=i.memoizedState),(V=fi||Iv(i,u,V,f,se,O,X))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=O),S.props=f,S.state=O,S.context=X,f=V):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{S=i.stateNode,iv(s,i),V=i.memoizedProps,X=i.type===i.elementType?V:Rr(i.type,V),S.props=X,ae=i.pendingProps,se=S.context,O=u.contextType,typeof O=="object"&&O!==null?O=ar(O):(O=Rn(u)?Zi:dn.current,O=ra(i,O));var ge=u.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==ae||se!==O)&&Rv(i,S,f,O),fi=!1,se=i.memoizedState,S.state=se,jc(i,f,S,y);var xe=i.memoizedState;V!==ae||se!==xe||Pn.current||fi?(typeof ge=="function"&&(yf(i,u,ge,f),xe=i.memoizedState),(X=fi||Iv(i,u,X,f,se,xe,O)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,xe,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,xe,O)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=xe),S.props=f,S.state=xe,S.context=O,f=X):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),f=!1)}return bf(s,i,u,f,x,y)}function bf(s,i,u,f,y,x){Uv(s,i);var S=(i.flags&128)!==0;if(!f&&!S)return y&&Ky(i,u,!1),Is(s,i,x);f=i.stateNode,K2.current=i;var V=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&S?(i.child=aa(i,s.child,null,x),i.child=aa(i,null,V,x)):Tn(s,i,V,x),i.memoizedState=f.state,y&&Ky(i,u,!0),i.child}function Hv(s){var i=s.stateNode;i.pendingContext?Gy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Gy(s,i.context,!1),sf(s,i.containerInfo)}function Wv(s,i,u,f,y){return oa(),Xh(y),i.flags|=256,Tn(s,i,u,f),i.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function Tf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Gv(s,i,u){var f=i.pendingProps,y=yt.current,x=!1,S=(i.flags&128)!==0,V;if((V=S)||(V=s!==null&&s.memoizedState===null?!1:(y&2)!==0),V?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),it(yt,y&1),s===null)return Yh(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=f.children,s=f.fallback,x?(f=i.mode,x=i.child,S={mode:"hidden",children:S},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=qc(S,f,0,null),s=uo(s,f,u,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=Tf(u),i.memoizedState=Sf,s):Ef(i,S));if(y=s.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return Q2(s,i,S,f,V,y,u);if(x){x=f.fallback,S=i.mode,y=s.child,V=y.sibling;var O={mode:"hidden",children:f.children};return(S&1)===0&&i.child!==y?(f=i.child,f.childLanes=0,f.pendingProps=O,i.deletions=null):(f=wi(y,O),f.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=wi(V,x):(x=uo(x,S,u,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,S=s.child.memoizedState,S=S===null?Tf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=s.childLanes&~u,i.memoizedState=Sf,f}return x=s.child,s=x.sibling,f=wi(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=u),f.return=i,f.sibling=null,s!==null&&(u=i.deletions,u===null?(i.deletions=[s],i.flags|=16):u.push(s)),i.child=f,i.memoizedState=null,f}function Ef(s,i){return i=qc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Dc(s,i,u,f){return f!==null&&Xh(f),aa(i,s.child,null,u),s=Ef(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Q2(s,i,u,f,y,x,S){if(u)return i.flags&256?(i.flags&=-257,f=xf(Error(n(422))),Dc(s,i,S,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,y=i.mode,f=qc({mode:"visible",children:f.children},y,0,null),x=uo(x,y,S,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&aa(i,s.child,null,S),i.child.memoizedState=Tf(S),i.memoizedState=Sf,x);if((i.mode&1)===0)return Dc(s,i,S,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var V=f.dgst;return f=V,x=Error(n(419)),f=xf(x,f,void 0),Dc(s,i,S,f)}if(V=(S&s.childLanes)!==0,Nn||V){if(f=Ht,f!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|S))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,As(s,y),Vr(f,s,y,-1))}return $f(),f=xf(Error(n(421))),Dc(s,i,S,f)}return y.data==="$?"?(i.flags|=128,i.child=s.child,i=lT.bind(null,s),y._reactRetry=i,null):(s=x.treeContext,Gn=ui(y.nextSibling),Wn=i,ft=!0,Pr=null,s!==null&&(ir[or++]=js,ir[or++]=Cs,ir[or++]=eo,js=s.id,Cs=s.overflow,eo=i),i=Ef(i,f.children),i.flags|=4096,i)}function qv(s,i,u){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),tf(s.return,i,u)}function jf(s,i,u,f,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=y)}function Kv(s,i,u){var f=i.pendingProps,y=f.revealOrder,x=f.tail;if(Tn(s,i,f.children,u),f=yt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qv(s,u,i);else if(s.tag===19)qv(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(it(yt,f),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(u=i.child,y=null;u!==null;)s=u.alternate,s!==null&&Cc(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),jf(i,!1,y,u,x);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(s=y.alternate,s!==null&&Cc(s)===null){i.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}jf(i,!0,u,null,x);break;case"together":jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Is(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),io|=i.lanes,(u&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,u=wi(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=wi(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function Y2(s,i,u){switch(i.tag){case 3:Hv(i),oa();break;case 5:lv(i);break;case 1:Rn(i.type)&&yc(i);break;case 4:sf(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,y=i.memoizedProps.value;it(Sc,f._currentValue),f._currentValue=y;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(it(yt,yt.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Gv(s,i,u):(it(yt,yt.current&1),s=Is(s,i,u),s!==null?s.sibling:null);it(yt,yt.current&1);break;case 19:if(f=(u&i.childLanes)!==0,(s.flags&128)!==0){if(f)return Kv(s,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),it(yt,yt.current),f)break;return null;case 22:case 23:return i.lanes=0,$v(s,i,u)}return Is(s,i,u)}var Qv,Cf,Yv,Xv;Qv=function(s,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Cf=function(){},Yv=function(s,i,u,f){var y=s.memoizedProps;if(y!==f){s=i.stateNode,ro(ns.current);var x=null;switch(u){case"input":y=jt(s,y),f=jt(s,f),x=[];break;case"select":y=le({},y,{value:void 0}),f=le({},f,{value:void 0}),x=[];break;case"textarea":y=Hr(s,y),f=Hr(s,f),x=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=pc)}Xs(u,f);var S;u=null;for(X in y)if(!f.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var V=y[X];for(S in V)V.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in f){var O=f[X];if(V=y!=null?y[X]:void 0,f.hasOwnProperty(X)&&O!==V&&(O!=null||V!=null))if(X==="style")if(V){for(S in V)!V.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in O)O.hasOwnProperty(S)&&V[S]!==O[S]&&(u||(u={}),u[S]=O[S])}else u||(x||(x=[]),x.push(X,u)),u=O;else X==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,V=V?V.__html:void 0,O!=null&&V!==O&&(x=x||[]).push(X,O)):X==="children"?typeof O!="string"&&typeof O!="number"||(x=x||[]).push(X,""+O):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(O!=null&&X==="onScroll"&&ut("scroll",s),x||V===O||(x=[])):(x=x||[]).push(X,O))}u&&(x=x||[]).push("style",u);var X=x;(i.updateQueue=X)&&(i.flags|=4)}},Xv=function(s,i,u,f){u!==f&&(i.flags|=4)};function Pl(s,i){if(!ft)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function fn(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(i)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,i}function X2(s,i,u){var f=i.pendingProps;switch(Kh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(i),null;case 1:return Rn(i.type)&&gc(),fn(i),null;case 3:return f=i.stateNode,ca(),ct(Pn),ct(dn),lf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(_c(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pr!==null&&(Mf(Pr),Pr=null))),Cf(s,i),fn(i),null;case 5:of(i);var y=ro(jl.current);if(u=i.type,s!==null&&i.stateNode!=null)Yv(s,i,u,f,y),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return fn(i),null}if(s=ro(ns.current),_c(i)){f=i.stateNode,u=i.type;var x=i.memoizedProps;switch(f[ts]=i,f[_l]=x,s=(i.mode&1)!==0,u){case"dialog":ut("cancel",f),ut("close",f);break;case"iframe":case"object":case"embed":ut("load",f);break;case"video":case"audio":for(y=0;y<vl.length;y++)ut(vl[y],f);break;case"source":ut("error",f);break;case"img":case"image":case"link":ut("error",f),ut("load",f);break;case"details":ut("toggle",f);break;case"input":On(f,x),ut("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},ut("invalid",f);break;case"textarea":vr(f,x),ut("invalid",f)}Xs(u,x),y=null;for(var S in x)if(x.hasOwnProperty(S)){var V=x[S];S==="children"?typeof V=="string"?f.textContent!==V&&(x.suppressHydrationWarning!==!0&&fc(f.textContent,V,s),y=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&fc(f.textContent,V,s),y=["children",""+V]):o.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&ut("scroll",f)}switch(u){case"input":Pt(f),ps(f,x,!0);break;case"textarea":Pt(f),Wr(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=pc)}f=y,i.updateQueue=f,f!==null&&(i.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=gt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[ts]=i,s[_l]=f,Qv(s,i,!1,!1),i.stateNode=s;e:{switch(S=Js(u,f),u){case"dialog":ut("cancel",s),ut("close",s),y=f;break;case"iframe":case"object":case"embed":ut("load",s),y=f;break;case"video":case"audio":for(y=0;y<vl.length;y++)ut(vl[y],s);y=f;break;case"source":ut("error",s),y=f;break;case"img":case"image":case"link":ut("error",s),ut("load",s),y=f;break;case"details":ut("toggle",s),y=f;break;case"input":On(s,f),y=jt(s,f),ut("invalid",s);break;case"option":y=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},y=le({},f,{value:void 0}),ut("invalid",s);break;case"textarea":vr(s,f),y=Hr(s,f),ut("invalid",s);break;default:y=f}Xs(u,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var O=V[x];x==="style"?Qs(s,O):x==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&qs(s,O)):x==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&wr(s,O):typeof O=="number"&&wr(s,""+O):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?O!=null&&x==="onScroll"&&ut("scroll",s):O!=null&&L(s,x,O,S))}switch(u){case"input":Pt(s),ps(s,f,!1);break;case"textarea":Pt(s),Wr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Me(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?An(s,!!f.multiple,x,!1):f.defaultValue!=null&&An(s,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=pc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return fn(i),null;case 6:if(s&&i.stateNode!=null)Xv(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(u=ro(jl.current),ro(ns.current),_c(i)){if(f=i.stateNode,u=i.memoizedProps,f[ts]=i,(x=f.nodeValue!==u)&&(s=Wn,s!==null))switch(s.tag){case 3:fc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&fc(f.nodeValue,u,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[ts]=i,i.stateNode=f}return fn(i),null;case 13:if(ct(yt),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ft&&Gn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ev(),oa(),i.flags|=98560,x=!1;else if(x=_c(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[ts]=i}else oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fn(i),x=!1}else Pr!==null&&(Mf(Pr),Pr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(yt.current&1)!==0?Bt===0&&(Bt=3):$f())),i.updateQueue!==null&&(i.flags|=4),fn(i),null);case 4:return ca(),Cf(s,i),s===null&&xl(i.stateNode.containerInfo),fn(i),null;case 10:return ef(i.type._context),fn(i),null;case 17:return Rn(i.type)&&gc(),fn(i),null;case 19:if(ct(yt),x=i.memoizedState,x===null)return fn(i),null;if(f=(i.flags&128)!==0,S=x.rendering,S===null)if(f)Pl(x,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(S=Cc(s),S!==null){for(i.flags|=128,Pl(x,!1),f=S.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=u,u=i.child;u!==null;)x=u,s=f,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,s=S.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return it(yt,yt.current&1|2),i.child}s=s.sibling}x.tail!==null&&st()>pa&&(i.flags|=128,f=!0,Pl(x,!1),i.lanes=4194304)}else{if(!f)if(s=Cc(S),s!==null){if(i.flags|=128,f=!0,u=s.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Pl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!ft)return fn(i),null}else 2*st()-x.renderingStartTime>pa&&u!==1073741824&&(i.flags|=128,f=!0,Pl(x,!1),i.lanes=4194304);x.isBackwards?(S.sibling=i.child,i.child=S):(u=x.last,u!==null?u.sibling=S:i.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=st(),i.sibling=null,u=yt.current,it(yt,f?u&1|2:u&1),i):(fn(i),null);case 22:case 23:return Bf(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(qn&1073741824)!==0&&(fn(i),i.subtreeFlags&6&&(i.flags|=8192)):fn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function J2(s,i){switch(Kh(i),i.tag){case 1:return Rn(i.type)&&gc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ca(),ct(Pn),ct(dn),lf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return of(i),null;case 13:if(ct(yt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));oa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ct(yt),null;case 4:return ca(),null;case 10:return ef(i.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var Fc=!1,pn=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ha(s,i){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){St(s,i,f)}else u.current=null}function Af(s,i,u){try{u()}catch(f){St(s,i,f)}}var Jv=!1;function eT(s,i){if(Oh=oi,s=Iy(),Ph(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch(ce){u=null;break e}var S=0,V=-1,O=-1,X=0,ie=0,ae=s,se=null;t:for(;;){for(var ge;ae!==u||y!==0&&ae.nodeType!==3||(V=S+y),ae!==x||f!==0&&ae.nodeType!==3||(O=S+f),ae.nodeType===3&&(S+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)se=ae,ae=ge;for(;;){if(ae===s)break t;if(se===u&&++X===y&&(V=S),se===x&&++ie===f&&(O=S),(ge=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=ge}u=V===-1||O===-1?null:{start:V,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Bh={focusedElem:s,selectionRange:u},oi=!1,ye=i;ye!==null;)if(i=ye,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ye=s;else for(;ye!==null;){i=ye;try{var xe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var _e=xe.memoizedProps,At=xe.memoizedState,K=i.stateNode,U=K.getSnapshotBeforeUpdate(i.elementType===i.type?_e:Rr(i.type,_e),At);K.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){St(i,i.return,ce)}if(s=i.sibling,s!==null){s.return=i.return,ye=s;break}ye=i.return}return xe=Jv,Jv=!1,xe}function Rl(s,i,u){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&Af(i,u,x)}y=y.next}while(y!==f)}}function Lc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==i)}}function kf(s){var i=s.ref;if(i!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof i=="function"?i(s):i.current=s}}function Zv(s){var i=s.alternate;i!==null&&(s.alternate=null,Zv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[ts],delete i[_l],delete i[Hh],delete i[F2],delete i[L2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ex(s){return s.tag===5||s.tag===3||s.tag===4}function tx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ex(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function If(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(s,i):u.insertBefore(s,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(s,u)):(i=u,i.appendChild(s)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=pc));else if(f!==4&&(s=s.child,s!==null))for(If(s,i,u),s=s.sibling;s!==null;)If(s,i,u),s=s.sibling}function Pf(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Pf(s,i,u),s=s.sibling;s!==null;)Pf(s,i,u),s=s.sibling}var Jt=null,Nr=!1;function mi(s,i,u){for(u=u.child;u!==null;)nx(s,i,u),u=u.sibling}function nx(s,i,u){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Wi,u)}catch(V){}switch(u.tag){case 5:pn||ha(u,i);case 6:var f=Jt,y=Nr;Jt=null,mi(s,i,u),Jt=f,Nr=y,Jt!==null&&(Nr?(s=Jt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Jt.removeChild(u.stateNode));break;case 18:Jt!==null&&(Nr?(s=Jt,u=u.stateNode,s.nodeType===8?zh(s.parentNode,u):s.nodeType===1&&zh(s,u),Ar(s)):zh(Jt,u.stateNode));break;case 4:f=Jt,y=Nr,Jt=u.stateNode.containerInfo,Nr=!0,mi(s,i,u),Jt=f,Nr=y;break;case 0:case 11:case 14:case 15:if(!pn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var x=y,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&Af(u,i,S),y=y.next}while(y!==f)}mi(s,i,u);break;case 1:if(!pn&&(ha(u,i),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(V){St(u,i,V)}mi(s,i,u);break;case 21:mi(s,i,u);break;case 22:u.mode&1?(pn=(f=pn)||u.memoizedState!==null,mi(s,i,u),pn=f):mi(s,i,u);break;default:mi(s,i,u)}}function rx(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Z2),i.forEach(function(f){var y=uT.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}}function Dr(s,i){var u=i.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f];try{var x=s,S=i,V=S;e:for(;V!==null;){switch(V.tag){case 5:Jt=V.stateNode,Nr=!1;break e;case 3:Jt=V.stateNode.containerInfo,Nr=!0;break e;case 4:Jt=V.stateNode.containerInfo,Nr=!0;break e}V=V.return}if(Jt===null)throw Error(n(160));nx(x,S,y),Jt=null,Nr=!1;var O=y.alternate;O!==null&&(O.return=null),y.return=null}catch(X){St(y,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)sx(i,s),i=i.sibling}function sx(s,i){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Dr(i,s),ss(s),f&4){try{Rl(3,s,s.return),Lc(3,s)}catch(_e){St(s,s.return,_e)}try{Rl(5,s,s.return)}catch(_e){St(s,s.return,_e)}}break;case 1:Dr(i,s),ss(s),f&512&&u!==null&&ha(u,u.return);break;case 5:if(Dr(i,s),ss(s),f&512&&u!==null&&ha(u,u.return),s.flags&32){var y=s.stateNode;try{wr(y,"")}catch(_e){St(s,s.return,_e)}}if(f&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,S=u!==null?u.memoizedProps:x,V=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&er(y,x),Js(V,S);var X=Js(V,x);for(S=0;S<O.length;S+=2){var ie=O[S],ae=O[S+1];ie==="style"?Qs(y,ae):ie==="dangerouslySetInnerHTML"?qs(y,ae):ie==="children"?wr(y,ae):L(y,ie,ae,X)}switch(V){case"input":lt(y,x);break;case"textarea":xr(y,x);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var ge=x.value;ge!=null?An(y,!!x.multiple,ge,!1):se!==!!x.multiple&&(x.defaultValue!=null?An(y,!!x.multiple,x.defaultValue,!0):An(y,!!x.multiple,x.multiple?[]:"",!1))}y[_l]=x}catch(_e){St(s,s.return,_e)}}break;case 6:if(Dr(i,s),ss(s),f&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(_e){St(s,s.return,_e)}}break;case 3:if(Dr(i,s),ss(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ar(i.containerInfo)}catch(_e){St(s,s.return,_e)}break;case 4:Dr(i,s),ss(s);break;case 13:Dr(i,s),ss(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Df=st())),f&4&&rx(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(pn=(X=pn)||ie,Dr(i,s),pn=X):Dr(i,s),ss(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&(s.mode&1)!==0)for(ye=s,ie=s.child;ie!==null;){for(ae=ye=ie;ye!==null;){switch(se=ye,ge=se.child,se.tag){case 0:case 11:case 14:case 15:Rl(4,se,se.return);break;case 1:ha(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){f=se,u=se.return;try{i=f,xe.props=i.memoizedProps,xe.state=i.memoizedState,xe.componentWillUnmount()}catch(_e){St(f,u,_e)}}break;case 5:ha(se,se.return);break;case 22:if(se.memoizedState!==null){ax(ae);continue}}ge!==null?(ge.return=se,ye=ge):ax(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,X?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=ae.stateNode,O=ae.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,V.style.display=Ks("display",S))}catch(_e){St(s,s.return,_e)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(_e){St(s,s.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Dr(i,s),ss(s),f&4&&rx(s);break;case 21:break;default:Dr(i,s),ss(s)}}function ss(s){var i=s.flags;if(i&2){try{e:{for(var u=s.return;u!==null;){if(ex(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(wr(y,""),f.flags&=-33);var x=tx(s);Pf(s,x,y);break;case 3:case 4:var S=f.stateNode.containerInfo,V=tx(s);If(s,V,S);break;default:throw Error(n(161))}}catch(O){St(s,s.return,O)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function tT(s,i,u){ye=s,ix(s)}function ix(s,i,u){for(var f=(s.mode&1)!==0;ye!==null;){var y=ye,x=y.child;if(y.tag===22&&f){var S=y.memoizedState!==null||Fc;if(!S){var V=y.alternate,O=V!==null&&V.memoizedState!==null||pn;V=Fc;var X=pn;if(Fc=S,(pn=O)&&!X)for(ye=y;ye!==null;)S=ye,O=S.child,S.tag===22&&S.memoizedState!==null?lx(y):O!==null?(O.return=S,ye=O):lx(y);for(;x!==null;)ye=x,ix(x),x=x.sibling;ye=y,Fc=V,pn=X}ox(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,ye=x):ox(s)}}function ox(s){for(;ye!==null;){var i=ye;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:pn||Lc(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!pn)if(u===null)f.componentDidMount();else{var y=i.elementType===i.type?u.memoizedProps:Rr(i.type,u.memoizedProps);f.componentDidUpdate(y,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&av(i,x,f);break;case 3:var S=i.updateQueue;if(S!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}av(i,S,u)}break;case 5:var V=i.stateNode;if(u===null&&i.flags&4){u=V;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&Ar(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pn||i.flags&512&&kf(i)}catch(se){St(i,i.return,se)}}if(i===s){ye=null;break}if(u=i.sibling,u!==null){u.return=i.return,ye=u;break}ye=i.return}}function ax(s){for(;ye!==null;){var i=ye;if(i===s){ye=null;break}var u=i.sibling;if(u!==null){u.return=i.return,ye=u;break}ye=i.return}}function lx(s){for(;ye!==null;){var i=ye;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Lc(4,i)}catch(O){St(i,u,O)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var y=i.return;try{f.componentDidMount()}catch(O){St(i,y,O)}}var x=i.return;try{kf(i)}catch(O){St(i,x,O)}break;case 5:var S=i.return;try{kf(i)}catch(O){St(i,S,O)}}}catch(O){St(i,i.return,O)}if(i===s){ye=null;break}var V=i.sibling;if(V!==null){V.return=i.return,ye=V;break}ye=i.return}}var nT=Math.ceil,Mc=G.ReactCurrentDispatcher,Rf=G.ReactCurrentOwner,ur=G.ReactCurrentBatchConfig,Ke=0,Ht=null,Nt=null,Zt=0,qn=0,fa=ci(0),Bt=0,Nl=null,io=0,Oc=0,Nf=0,Dl=null,Dn=null,Df=0,pa=1/0,Ps=null,Bc=!1,Vf=null,gi=null,$c=!1,yi=null,Uc=0,Vl=0,Ff=null,zc=-1,Hc=0;function En(){return(Ke&6)!==0?st():zc!==-1?zc:zc=st()}function vi(s){return(s.mode&1)===0?1:(Ke&2)!==0&&Zt!==0?Zt&-Zt:O2.transition!==null?(Hc===0&&(Hc=qi()),Hc):(s=We,s!==0||(s=window.event,s=s===void 0?16:ul(s.type)),s)}function Vr(s,i,u,f){if(50<Vl)throw Vl=0,Ff=null,Error(n(185));ni(s,u,f),((Ke&2)===0||s!==Ht)&&(s===Ht&&((Ke&2)===0&&(Oc|=u),Bt===4&&xi(s,Zt)),Vn(s,f),u===1&&Ke===0&&(i.mode&1)===0&&(pa=st()+500,vc&&hi()))}function Vn(s,i){var u=s.callbackNode;xs(s,i);var f=Gi(s,s===Ht?Zt:0);if(f===0)u!==null&&sl(u),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(u!=null&&sl(u),i===1)s.tag===0?M2(cx.bind(null,s)):Qy(cx.bind(null,s)),D2(function(){(Ke&6)===0&&hi()}),u=null;else{switch(si(f)){case 1:u=Hi;break;case 4:u=Zs;break;case 16:u=nr;break;case 536870912:u=Hu;break;default:u=nr}u=vx(u,ux.bind(null,s))}s.callbackPriority=i,s.callbackNode=u}}function ux(s,i){if(zc=-1,Hc=0,(Ke&6)!==0)throw Error(n(327));var u=s.callbackNode;if(ma()&&s.callbackNode!==u)return null;var f=Gi(s,s===Ht?Zt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Wc(s,f);else{i=f;var y=Ke;Ke|=2;var x=hx();(Ht!==s||Zt!==i)&&(Ps=null,pa=st()+500,ao(s,i));do try{iT();break}catch(V){dx(s,V)}while(!0);Zh(),Mc.current=x,Ke=y,Nt!==null?i=0:(Ht=null,Zt=0,i=Bt)}if(i!==0){if(i===2&&(y=Un(s),y!==0&&(f=y,i=Lf(s,y))),i===1)throw u=Nl,ao(s,0),xi(s,f),Vn(s,st()),u;if(i===6)xi(s,f);else{if(y=s.current.alternate,(f&30)===0&&!rT(y)&&(i=Wc(s,f),i===2&&(x=Un(s),x!==0&&(f=x,i=Lf(s,x))),i===1))throw u=Nl,ao(s,0),xi(s,f),Vn(s,st()),u;switch(s.finishedWork=y,s.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:lo(s,Dn,Ps);break;case 3:if(xi(s,f),(f&130023424)===f&&(i=Df+500-st(),10<i)){if(Gi(s,0)!==0)break;if(y=s.suspendedLanes,(y&f)!==f){En(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Uh(lo.bind(null,s,Dn,Ps),i);break}lo(s,Dn,Ps);break;case 4:if(xi(s,f),(f&4194240)===f)break;for(i=s.eventTimes,y=-1;0<f;){var S=31-bn(f);x=1<<S,S=i[S],S>y&&(y=S),f&=~x}if(f=y,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*nT(f/1960))-f,10<f){s.timeoutHandle=Uh(lo.bind(null,s,Dn,Ps),f);break}lo(s,Dn,Ps);break;case 5:lo(s,Dn,Ps);break;default:throw Error(n(329))}}}return Vn(s,st()),s.callbackNode===u?ux.bind(null,s):null}function Lf(s,i){var u=Dl;return s.current.memoizedState.isDehydrated&&(ao(s,i).flags|=256),s=Wc(s,i),s!==2&&(i=Dn,Dn=u,i!==null&&Mf(i)),s}function Mf(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function rT(s){for(var i=s;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var y=u[f],x=y.getSnapshot;y=y.value;try{if(!Ir(x(),y))return!1}catch(S){return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(s,i){for(i&=~Nf,i&=~Oc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var u=31-bn(i),f=1<<u;s[u]=-1,i&=~f}}function cx(s){if((Ke&6)!==0)throw Error(n(327));ma();var i=Gi(s,0);if((i&1)===0)return Vn(s,st()),null;var u=Wc(s,i);if(s.tag!==0&&u===2){var f=Un(s);f!==0&&(i=f,u=Lf(s,f))}if(u===1)throw u=Nl,ao(s,0),xi(s,i),Vn(s,st()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,lo(s,Dn,Ps),Vn(s,st()),null}function Of(s,i){var u=Ke;Ke|=1;try{return s(i)}finally{Ke=u,Ke===0&&(pa=st()+500,vc&&hi())}}function oo(s){yi!==null&&yi.tag===0&&(Ke&6)===0&&ma();var i=Ke;Ke|=1;var u=ur.transition,f=We;try{if(ur.transition=null,We=1,s)return s()}finally{We=f,ur.transition=u,Ke=i,(Ke&6)===0&&hi()}}function Bf(){qn=fa.current,ct(fa)}function ao(s,i){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,N2(u)),Nt!==null)for(u=Nt.return;u!==null;){var f=u;switch(Kh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&gc();break;case 3:ca(),ct(Pn),ct(dn),lf();break;case 5:of(f);break;case 4:ca();break;case 13:ct(yt);break;case 19:ct(yt);break;case 10:ef(f.type._context);break;case 22:case 23:Bf()}u=u.return}if(Ht=s,Nt=s=wi(s.current,null),Zt=qn=i,Bt=0,Nl=null,Nf=Oc=io=0,Dn=Dl=null,no!==null){for(i=0;i<no.length;i++)if(u=no[i],f=u.interleaved,f!==null){u.interleaved=null;var y=f.next,x=u.pending;if(x!==null){var S=x.next;x.next=y,f.next=S}u.pending=f}no=null}return s}function dx(s,i){do{var u=Nt;try{if(Zh(),Ac.current=Rc,kc){for(var f=vt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}kc=!1}if(so=0,zt=Ot=vt=null,Cl=!1,Al=0,Rf.current=null,u===null||u.return===null){Bt=1,Nl=i,Nt=null;break}e:{var x=s,S=u.return,V=u,O=i;if(i=Zt,V.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=O,ie=V,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=Fv(S);if(ge!==null){ge.flags&=-257,Lv(ge,S,V,x,i),ge.mode&1&&Vv(x,X,i),i=ge,O=X;var xe=i.updateQueue;if(xe===null){var _e=new Set;_e.add(O),i.updateQueue=_e}else xe.add(O);break e}else{if((i&1)===0){Vv(x,X,i),$f();break e}O=Error(n(426))}}else if(ft&&V.mode&1){var At=Fv(S);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),Lv(At,S,V,x,i),Xh(da(O,V));break e}}x=O=da(O,V),Bt!==4&&(Bt=2),Dl===null?Dl=[x]:Dl.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var K=Nv(x,O,i);ov(x,K);break e;case 1:V=O;var U=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(gi===null||!gi.has(Q)))){x.flags|=65536,i&=-i,x.lanes|=i;var ce=Dv(x,V,i);ov(x,ce);break e}}x=x.return}while(x!==null)}px(u)}catch(Se){i=Se,Nt===u&&u!==null&&(Nt=u=u.return);continue}break}while(!0)}function hx(){var s=Mc.current;return Mc.current=Rc,s===null?Rc:s}function $f(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Ht===null||(io&268435455)===0&&(Oc&268435455)===0||xi(Ht,Zt)}function Wc(s,i){var u=Ke;Ke|=2;var f=hx();(Ht!==s||Zt!==i)&&(Ps=null,ao(s,i));do try{sT();break}catch(y){dx(s,y)}while(!0);if(Zh(),Ke=u,Mc.current=f,Nt!==null)throw Error(n(261));return Ht=null,Zt=0,Bt}function sT(){for(;Nt!==null;)fx(Nt)}function iT(){for(;Nt!==null&&!Uu();)fx(Nt)}function fx(s){var i=yx(s.alternate,s,qn);s.memoizedProps=s.pendingProps,i===null?px(s):Nt=i,Rf.current=null}function px(s){var i=s;do{var u=i.alternate;if(s=i.return,(i.flags&32768)===0){if(u=X2(u,i,qn),u!==null){Nt=u;return}}else{if(u=J2(u,i),u!==null){u.flags&=32767,Nt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Bt=6,Nt=null;return}}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=s}while(i!==null);Bt===0&&(Bt=5)}function lo(s,i,u){var f=We,y=ur.transition;try{ur.transition=null,We=1,oT(s,i,u,f)}finally{ur.transition=y,We=f}return null}function oT(s,i,u,f){do ma();while(yi!==null);if((Ke&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(nt(s,x),s===Ht&&(Nt=Ht=null,Zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||$c||($c=!0,vx(nr,function(){return ma(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=ur.transition,ur.transition=null;var S=We;We=1;var V=Ke;Ke|=4,Rf.current=null,eT(s,u),sx(u,s),j2(Bh),oi=!!Oh,Bh=Oh=null,s.current=u,tT(u),Sh(),Ke=V,We=S,ur.transition=x}else s.current=u;if($c&&($c=!1,yi=s,Uc=y),x=s.pendingLanes,x===0&&(gi=null),Wu(u.stateNode),Vn(s,st()),i!==null)for(f=s.onRecoverableError,u=0;u<i.length;u++)y=i[u],f(y.value,{componentStack:y.stack,digest:y.digest});if(Bc)throw Bc=!1,s=Vf,Vf=null,s;return(Uc&1)!==0&&s.tag!==0&&ma(),x=s.pendingLanes,(x&1)!==0?s===Ff?Vl++:(Vl=0,Ff=s):Vl=0,hi(),null}function ma(){if(yi!==null){var s=si(Uc),i=ur.transition,u=We;try{if(ur.transition=null,We=16>s?16:s,yi===null)var f=!1;else{if(s=yi,yi=null,Uc=0,(Ke&6)!==0)throw Error(n(331));var y=Ke;for(Ke|=4,ye=s.current;ye!==null;){var x=ye,S=x.child;if((ye.flags&16)!==0){var V=x.deletions;if(V!==null){for(var O=0;O<V.length;O++){var X=V[O];for(ye=X;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Rl(8,ie,x)}var ae=ie.child;if(ae!==null)ae.return=ie,ye=ae;else for(;ye!==null;){ie=ye;var se=ie.sibling,ge=ie.return;if(Zv(ie),ie===X){ye=null;break}if(se!==null){se.return=ge,ye=se;break}ye=ge}}}var xe=x.alternate;if(xe!==null){var _e=xe.child;if(_e!==null){xe.child=null;do{var At=_e.sibling;_e.sibling=null,_e=At}while(_e!==null)}}ye=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,ye=S;else e:for(;ye!==null;){if(x=ye,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Rl(9,x,x.return)}var K=x.sibling;if(K!==null){K.return=x.return,ye=K;break e}ye=x.return}}var U=s.current;for(ye=U;ye!==null;){S=ye;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,ye=Q;else e:for(S=U;ye!==null;){if(V=ye,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Lc(9,V)}}catch(Se){St(V,V.return,Se)}if(V===S){ye=null;break e}var ce=V.sibling;if(ce!==null){ce.return=V.return,ye=ce;break e}ye=V.return}}if(Ke=y,hi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Wi,s)}catch(Se){}f=!0}return f}finally{We=u,ur.transition=i}}return!1}function mx(s,i,u){i=da(u,i),i=Nv(s,i,1),s=pi(s,i,1),i=En(),s!==null&&(ni(s,1,i),Vn(s,i))}function St(s,i,u){if(s.tag===3)mx(s,s,u);else for(;i!==null;){if(i.tag===3){mx(i,s,u);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(gi===null||!gi.has(f))){s=da(u,s),s=Dv(i,s,1),i=pi(i,s,1),s=En(),i!==null&&(ni(i,1,s),Vn(i,s));break}}i=i.return}}function aT(s,i,u){var f=s.pingCache;f!==null&&f.delete(i),i=En(),s.pingedLanes|=s.suspendedLanes&u,Ht===s&&(Zt&u)===u&&(Bt===4||Bt===3&&(Zt&130023424)===Zt&&500>st()-Df?ao(s,0):Nf|=u),Vn(s,i)}function gx(s,i){i===0&&((s.mode&1)===0?i=1:(i=Mo,Mo<<=1,(Mo&130023424)===0&&(Mo=4194304)));var u=En();s=As(s,i),s!==null&&(ni(s,i,u),Vn(s,u))}function lT(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),gx(s,u)}function uT(s,i){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),gx(s,u)}var yx;yx=function(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps||Pn.current)Nn=!0;else{if((s.lanes&u)===0&&(i.flags&128)===0)return Nn=!1,Y2(s,i,u);Nn=(s.flags&131072)!==0}else Nn=!1,ft&&(i.flags&1048576)!==0&&Yy(i,wc,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Vc(s,i),s=i.pendingProps;var y=ra(i,dn.current);ua(i,u),y=df(null,i,f,s,y,u);var x=hf();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rn(f)?(x=!0,yc(i)):x=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,rf(i),y.updater=Nc,i.stateNode=y,y._reactInternals=i,vf(i,f,s,u),i=bf(null,i,f,!0,x,u)):(i.tag=0,ft&&x&&qh(i),Tn(null,i,y,u),i=i.child),i;case 16:f=i.elementType;e:{switch(Vc(s,i),s=i.pendingProps,y=f._init,f=y(f._payload),i.type=f,y=i.tag=dT(f),s=Rr(f,s),y){case 0:i=_f(null,i,f,s,u);break e;case 1:i=zv(null,i,f,s,u);break e;case 11:i=Mv(null,i,f,s,u);break e;case 14:i=Ov(null,i,f,Rr(f.type,s),u);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:Rr(f,y),_f(s,i,f,y,u);case 1:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:Rr(f,y),zv(s,i,f,y,u);case 3:e:{if(Hv(i),s===null)throw Error(n(387));f=i.pendingProps,x=i.memoizedState,y=x.element,iv(s,i),jc(i,f,null,u);var S=i.memoizedState;if(f=S.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){y=da(Error(n(423)),i),i=Wv(s,i,f,u,y);break e}else if(f!==y){y=da(Error(n(424)),i),i=Wv(s,i,f,u,y);break e}else for(Gn=ui(i.stateNode.containerInfo.firstChild),Wn=i,ft=!0,Pr=null,u=rv(i,null,f,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(oa(),f===y){i=Is(s,i,u);break e}Tn(s,i,f,u)}i=i.child}return i;case 5:return lv(i),s===null&&Yh(i),f=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,S=y.children,$h(f,y)?S=null:x!==null&&$h(f,x)&&(i.flags|=32),Uv(s,i),Tn(s,i,S,u),i.child;case 6:return s===null&&Yh(i),null;case 13:return Gv(s,i,u);case 4:return sf(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=aa(i,null,f,u):Tn(s,i,f,u),i.child;case 11:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:Rr(f,y),Mv(s,i,f,y,u);case 7:return Tn(s,i,i.pendingProps,u),i.child;case 8:return Tn(s,i,i.pendingProps.children,u),i.child;case 12:return Tn(s,i,i.pendingProps.children,u),i.child;case 10:e:{if(f=i.type._context,y=i.pendingProps,x=i.memoizedProps,S=y.value,it(Sc,f._currentValue),f._currentValue=S,x!==null)if(Ir(x.value,S)){if(x.children===y.children&&!Pn.current){i=Is(s,i,u);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var V=x.dependencies;if(V!==null){S=x.child;for(var O=V.firstContext;O!==null;){if(O.context===f){if(x.tag===1){O=ks(-1,u&-u),O.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),X.pending=O}}x.lanes|=u,O=x.alternate,O!==null&&(O.lanes|=u),tf(x.return,u,i),V.lanes|=u;break}O=O.next}}else if(x.tag===10)S=x.type===i.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=u,V=S.alternate,V!==null&&(V.lanes|=u),tf(S,u,i),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===i){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}Tn(s,i,y.children,u),i=i.child}return i;case 9:return y=i.type,f=i.pendingProps.children,ua(i,u),y=ar(y),f=f(y),i.flags|=1,Tn(s,i,f,u),i.child;case 14:return f=i.type,y=Rr(f,i.pendingProps),y=Rr(f.type,y),Ov(s,i,f,y,u);case 15:return Bv(s,i,i.type,i.pendingProps,u);case 17:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:Rr(f,y),Vc(s,i),i.tag=1,Rn(f)?(s=!0,yc(i)):s=!1,ua(i,u),Pv(i,f,y),vf(i,f,y,u),bf(null,i,f,!0,s,u);case 19:return Kv(s,i,u);case 22:return $v(s,i,u)}throw Error(n(156,i.tag))};function vx(s,i){return Fo(s,i)}function cT(s,i,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(s,i,u,f){return new cT(s,i,u,f)}function Uf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dT(s){if(typeof s=="function")return Uf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===je)return 14}return 2}function wi(s,i){var u=s.alternate;return u===null?(u=cr(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Gc(s,i,u,f,y,x){var S=2;if(f=s,typeof s=="function")Uf(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case j:return uo(u.children,y,x,i);case T:S=8,y|=8;break;case A:return s=cr(12,u,i,y|2),s.elementType=A,s.lanes=x,s;case I:return s=cr(13,u,i,y),s.elementType=I,s.lanes=x,s;case he:return s=cr(19,u,i,y),s.elementType=he,s.lanes=x,s;case ue:return qc(u,y,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:S=10;break e;case F:S=9;break e;case M:S=11;break e;case je:S=14;break e;case we:S=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=cr(S,u,i,y),i.elementType=s,i.type=f,i.lanes=x,i}function uo(s,i,u,f){return s=cr(7,s,f,i),s.lanes=u,s}function qc(s,i,u,f){return s=cr(22,s,f,i),s.elementType=ue,s.lanes=u,s.stateNode={isHidden:!1},s}function zf(s,i,u){return s=cr(6,s,null,i),s.lanes=u,s}function Hf(s,i,u){return i=cr(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function hT(s,i,u,f,y){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Wf(s,i,u,f,y,x,S,V,O){return s=new hT(s,i,u,V,O),i===1?(i=1,x===!0&&(i|=8)):i=0,x=cr(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(x),s}function fT(s,i,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:s,containerInfo:i,implementation:u}}function xx(s){if(!s)return di;s=s._reactInternals;e:{if(Sr(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Rn(u))return qy(s,u,i)}return i}function wx(s,i,u,f,y,x,S,V,O){return s=Wf(u,f,!0,s,y,x,S,V,O),s.context=xx(null),u=s.current,f=En(),y=vi(u),x=ks(f,y),x.callback=i!=null?i:null,pi(u,x,y),s.current.lanes=y,ni(s,y,f),Vn(s,f),s}function Kc(s,i,u,f){var y=i.current,x=En(),S=vi(y);return u=xx(u),i.context===null?i.context=u:i.pendingContext=u,i=ks(x,S),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=pi(y,i,S),s!==null&&(Vr(s,y,S,x),Ec(s,y,S)),S}function Qc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _x(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function Gf(s,i){_x(s,i),(s=s.alternate)&&_x(s,i)}function pT(){return null}var bx=typeof reportError=="function"?reportError:function(s){console.error(s)};function qf(s){this._internalRoot=s}Yc.prototype.render=qf.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Kc(s,i,null,null)},Yc.prototype.unmount=qf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;oo(function(){Kc(null,s,null,null)}),i[Ts]=null}};function Yc(s){this._internalRoot=s}Yc.prototype.unstable_scheduleHydration=function(s){if(s){var i=Yu();s={blockedOn:null,target:s,priority:i};for(var u=0;u<Xr.length&&i!==0&&i<Xr[u].priority;u++);Xr.splice(u,0,s),u===0&&Zu(s)}};function Kf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sx(){}function mT(s,i,u,f,y){if(y){if(typeof f=="function"){var x=f;f=function(){var X=Qc(S);x.call(X)}}var S=wx(i,f,s,0,null,!1,!1,"",Sx);return s._reactRootContainer=S,s[Ts]=S.current,xl(s.nodeType===8?s.parentNode:s),oo(),S}for(;y=s.lastChild;)s.removeChild(y);if(typeof f=="function"){var V=f;f=function(){var X=Qc(O);V.call(X)}}var O=Wf(s,0,!1,null,null,!1,!1,"",Sx);return s._reactRootContainer=O,s[Ts]=O.current,xl(s.nodeType===8?s.parentNode:s),oo(function(){Kc(i,O,u,f)}),O}function Jc(s,i,u,f,y){var x=u._reactRootContainer;if(x){var S=x;if(typeof y=="function"){var V=y;y=function(){var O=Qc(S);V.call(O)}}Kc(i,S,s,y)}else S=mT(u,i,s,y,f);return Qc(S)}Ku=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var u=ei(i.pendingLanes);u!==0&&(ri(i,u|1),Vn(i,st()),(Ke&6)===0&&(pa=st()+500,hi()))}break;case 13:oo(function(){var f=As(s,1);if(f!==null){var y=En();Vr(f,s,1,y)}}),Gf(s,1)}},Oo=function(s){if(s.tag===13){var i=As(s,134217728);if(i!==null){var u=En();Vr(i,s,134217728,u)}Gf(s,134217728)}},Qu=function(s){if(s.tag===13){var i=vi(s),u=As(s,i);if(u!==null){var f=En();Vr(u,s,i,f)}Gf(s,i)}},Yu=function(){return We},Xu=function(s,i){var u=We;try{return We=s,i()}finally{We=u}},gs=function(s,i,u){switch(i){case"input":if(lt(s,u),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var f=u[i];if(f!==s&&f.form===s.form){var y=mc(f);if(!y)throw Error(n(90));Qt(f),lt(f,y)}}}break;case"textarea":xr(s,u);break;case"select":i=u.value,i!=null&&An(s,!!u.multiple,i,!1)}},Bi=Of,el=oo;var gT={usingClientEntryPoint:!1,Events:[bl,ta,mc,Qr,Za,Of]},Fl={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yT={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=rl(s),s===null?null:s.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||pT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Wi=Zc.inject(yT),$n=Zc}catch(s){}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gT,Fn.createPortal=function(s,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(i))throw Error(n(200));return fT(s,i,null,u)},Fn.createRoot=function(s,i){if(!Kf(s))throw Error(n(299));var u=!1,f="",y=bx;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Wf(s,1,!1,null,null,u,!1,f,y),s[Ts]=i.current,xl(s.nodeType===8?s.parentNode:s),new qf(i)},Fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=rl(i),s=s===null?null:s.stateNode,s},Fn.flushSync=function(s){return oo(s)},Fn.hydrate=function(s,i,u){if(!Xc(i))throw Error(n(200));return Jc(null,s,i,!0,u)},Fn.hydrateRoot=function(s,i,u){if(!Kf(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,y=!1,x="",S=bx;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),i=wx(i,null,s,1,u!=null?u:null,y,!1,x,S),s[Ts]=i.current,xl(s),f)for(s=0;s<f.length;s++)u=f[s],y=u._getVersion,y=y(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,y]:i.mutableSourceEagerHydrationData.push(u,y);return new Yc(i)},Fn.render=function(s,i,u){if(!Xc(i))throw Error(n(200));return Jc(null,s,i,!1,u)},Fn.unmountComponentAtNode=function(s){if(!Xc(s))throw Error(n(40));return s._reactRootContainer?(oo(function(){Jc(null,null,s,!1,function(){s._reactRootContainer=null,s[Ts]=null})}),!0):!1},Fn.unstable_batchedUpdates=Of,Fn.unstable_renderSubtreeIntoContainer=function(s,i,u,f){if(!Xc(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Jc(s,i,u,!1,f)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Px;function Cw(){if(Px)return Xf.exports;Px=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xf.exports=TT(),Xf.exports}var Rx;function ET(){if(Rx)return ed;Rx=1;var t=Cw();return ed.createRoot=t.createRoot,ed.hydrateRoot=t.hydrateRoot,ed}var jT=ET();const CT=Om(jT);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nx="popstate";function AT(t={}){function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=Co(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Kp("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof l=="string"?l:su(l))}function r(o,l){mr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return IT(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function mr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function kT(){return Math.random().toString(36).substring(2,10)}function Dx(t,e){return{usr:t.state,key:t.key,idx:e}}function Kp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||r||kT()}}function su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function IT(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,h="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function w(){h="POP";let k=g(),$=k==null?null:k-m;m=k,p&&p({action:h,location:N.location,delta:$})}function _(k,$){h="PUSH";let W=Kp(N.location,k,$);n&&n(W,k),m=g()+1;let L=Dx(W,m),G=N.createHref(W);try{c.pushState(L,"",G)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(G)}l&&p&&p({action:h,location:N.location,delta:1})}function E(k,$){h="REPLACE";let W=Kp(N.location,k,$);n&&n(W,k),m=g();let L=Dx(W,m),G=N.createHref(W);c.replaceState(L,"",G),l&&p&&p({action:h,location:N.location,delta:0})}function P(k){return PT(k)}let N={get action(){return h},get location(){return t(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Nx,w),p=k,()=>{o.removeEventListener(Nx,w),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let $=P(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:_,replace:E,go(k){return c.go(k)}};return N}function PT(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:su(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Aw(t,e,n="/"){return RT(t,e,n,!1)}function RT(t,e,n,r){let o=typeof e=="string"?Co(e):e,l=Bs(o.pathname||"/",n);if(l==null)return null;let c=kw(t);NT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=HT(l);h=UT(c[p],m,r)}return h}function kw(t,e=[],n=[],r="",o=!1){let l=(c,h,p=o,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&p)return;mt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=Vs([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),kw(c.children,e,_,w,p)),!(c.path==null&&!c.index)&&e.push({path:w,score:BT(w,c.index),routesMeta:_})};return t.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,h);else for(let m of Iw(c.path))l(c,h,!0,m)}),e}function Iw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=Iw(r.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function NT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$T(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DT=/^:[\w-]+$/,VT=3,FT=2,LT=1,MT=10,OT=-2,Vx=t=>t==="*";function BT(t,e){let n=t.split("/"),r=n.length;return n.some(Vx)&&(r+=OT),e&&(r+=FT),n.filter(o=>!Vx(o)).reduce((o,l)=>o+(DT.test(l)?VT:l===""?LT:MT),r)}function $T(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function UT(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",w=kd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),_=p.route;if(!w&&m&&n&&!r[r.length-1].route.index&&(w=kd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Vs([l,w.pathname]),pathnameBase:KT(Vs([l,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(l=Vs([l,w.pathnameBase]))}return c}function kd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:w},_)=>{if(g==="*"){let P=h[_]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const E=h[_];return w&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function zT(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function HT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WT(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:GT(n,e):e,search:QT(r),hash:YT(o)}}function GT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ep(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $m(t){let e=qT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Um(t,e,n,r=!1){let o;typeof t=="string"?o=Co(t):(o={...t},mt(!o.pathname||!o.pathname.includes("?"),ep("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),ep("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),ep("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=n;else{let w=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;o.pathname=_.join("/")}h=w>=0?e[w]:"/"}let p=WT(o,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),KT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Pw=["POST","PUT","PATCH","DELETE"];new Set(Pw);var JT=["GET",...Pw];new Set(JT);var za=R.createContext(null);za.displayName="DataRouter";var Kd=R.createContext(null);Kd.displayName="DataRouterState";R.createContext(!1);var Rw=R.createContext({isTransitioning:!1});Rw.displayName="ViewTransition";var ZT=R.createContext(new Map);ZT.displayName="Fetchers";var eE=R.createContext(null);eE.displayName="Await";var Ur=R.createContext(null);Ur.displayName="Navigation";var _u=R.createContext(null);_u.displayName="Location";var gr=R.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var zm=R.createContext(null);zm.displayName="RouteError";function tE(t,{relative:e}={}){mt(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Ur),{hash:o,pathname:l,search:c}=bu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Vs([n,l])),r.createHref({pathname:h,search:c,hash:o})}function Ha(){return R.useContext(_u)!=null}function fs(){return mt(Ha(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(_u).location}var Nw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dw(t){R.useContext(Ur).static||R.useLayoutEffect(t)}function Ao(){let{isDataRoute:t}=R.useContext(gr);return t?gE():nE()}function nE(){mt(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(za),{basename:e,navigator:n}=R.useContext(Ur),{matches:r}=R.useContext(gr),{pathname:o}=fs(),l=JSON.stringify($m(r)),c=R.useRef(!1);return Dw(()=>{c.current=!0}),R.useCallback((p,m={})=>{if(mr(c.current,Nw),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=Um(p,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Vs([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,o,t])}var rE=R.createContext(null);function sE(t){let e=R.useContext(gr).outlet;return e&&R.createElement(rE.Provider,{value:t},e)}function Hm(){let{matches:t}=R.useContext(gr),e=t[t.length-1];return e?e.params:{}}function bu(t,{relative:e}={}){let{matches:n}=R.useContext(gr),{pathname:r}=fs(),o=JSON.stringify($m(n));return R.useMemo(()=>Um(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function iE(t,e){return Vw(t,e)}function Vw(t,e,n,r,o){var W;mt(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(Ur),{matches:c}=R.useContext(gr),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",w=h&&h.route;{let L=w&&w.path||"";Fw(m,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=fs(),E;if(e){let L=typeof e=="string"?Co(e):e;mt(g==="/"||((W=L.pathname)==null?void 0:W.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=_;let P=E.pathname||"/",N=P;if(g!=="/"){let L=g.replace(/^\//,"").split("/");N="/"+P.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=Aw(t,{pathname:N});mr(w||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),mr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=cE(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Vs([g,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Vs([g,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,r,o);return e&&$?R.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},$):$}function oE(){let t=mE(),e=XT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var aE=R.createElement(oE,null),lE=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(gr.Provider,{value:this.props.routeContext},R.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uE({routeContext:t,match:e,children:n}){let r=R.useContext(za);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(gr.Provider,{value:t},n)}function cE(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:w,errors:_}=n,E=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,g,w)=>{let _,E=!1,P=null,N=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,P=g.route.errorElement||aE,h&&(p<0&&w===0?(Fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===w&&(E=!0,N=g.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,w+1)),$=()=>{let W;return _?W=P:E?W=N:g.route.Component?W=R.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=m,R.createElement(uE,{match:g,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?R.createElement(lE,{location:n.location,revalidation:n.revalidation,component:P,error:_,children:$(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):$()},null)}function Wm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dE(t){let e=R.useContext(za);return mt(e,Wm(t)),e}function hE(t){let e=R.useContext(Kd);return mt(e,Wm(t)),e}function fE(t){let e=R.useContext(gr);return mt(e,Wm(t)),e}function Gm(t){let e=fE(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pE(){return Gm("useRouteId")}function mE(){var r;let t=R.useContext(zm),e=hE("useRouteError"),n=Gm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gE(){let{router:t}=dE("useNavigate"),e=Gm("useNavigate"),n=R.useRef(!1);return Dw(()=>{n.current=!0}),R.useCallback(async(o,l={})=>{mr(n.current,Nw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Fx={};function Fw(t,e,n){!e&&!Fx[t]&&(Fx[t]=!0,mr(!1,n))}R.memo(yE);function yE({routes:t,future:e,state:n,unstable_onError:r}){return Vw(t,void 0,n,r,e)}function tp({to:t,replace:e,state:n,relative:r}){mt(Ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(Ur);mr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(gr),{pathname:c}=fs(),h=Ao(),p=Um(t,$m(l),c,r==="path"),m=JSON.stringify(p);return R.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function Lw(t){return sE(t.context)}function ee(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vE({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){mt(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:m="",hash:g="",state:w=null,key:_="default"}=n,E=R.useMemo(()=>{let P=Bs(p,c);return P==null?null:{location:{pathname:P,search:m,hash:g,state:w,key:_},navigationType:r}},[c,p,m,g,w,_,r]);return mr(E!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:R.createElement(Ur.Provider,{value:h},R.createElement(_u.Provider,{children:e,value:E}))}function xE({children:t,location:e}){return iE(Qp(t),e)}function Qp(t,e=[]){let n=[];return R.Children.forEach(t,(r,o)=>{if(!R.isValidElement(r))return;let l=[...e,o];if(r.type===R.Fragment){n.push.apply(n,Qp(r.props.children,l));return}mt(r.type===ee,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Qp(r.props.children,l)),n.push(c)}),n}var gd="get",yd="application/x-www-form-urlencoded";function Qd(t){return t!=null&&typeof t.tagName=="string"}function wE(t){return Qd(t)&&t.tagName.toLowerCase()==="button"}function _E(t){return Qd(t)&&t.tagName.toLowerCase()==="form"}function bE(t){return Qd(t)&&t.tagName.toLowerCase()==="input"}function SE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TE(t,e){return t.button===0&&(!e||e==="_self")&&!SE(t)}var td=null;function EE(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch(t){td=!0}return td}var jE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function np(t){return t!=null&&!jE.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yd}"`),null):t}function CE(t,e){let n,r,o,l,c;if(_E(t)){let h=t.getAttribute("action");r=h?Bs(h,e):null,n=t.getAttribute("method")||gd,o=np(t.getAttribute("enctype"))||yd,l=new FormData(t)}else if(wE(t)||bE(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?Bs(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||gd,o=np(t.getAttribute("formenctype"))||np(h.getAttribute("enctype"))||yd,l=new FormData(h,t),!EE()){let{name:m,type:g,value:w}=t;if(g==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,w)}}else{if(Qd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gd,r=null,o=yd,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function AE(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PE(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await kE(l,n);return c.links?c.links():[]}return[]}));return VE(r.flat(1).filter(IE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lx(t,e,n,r,o,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var g;return n[m].pathname!==p.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{var w;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function RE(t,e,{includeHydrateFallback:n}={}){return NE(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function NE(t){return[...new Set(t)]}function DE(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function VE(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(DE(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function Mw(){let t=R.useContext(za);return qm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FE(){let t=R.useContext(Kd);return qm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Km=R.createContext(void 0);Km.displayName="FrameworkContext";function Ow(){let t=R.useContext(Km);return qm(t,"You must render this element inside a <HydratedRouter> element"),t}function LE(t,e){let n=R.useContext(Km),[r,o]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:w}=e,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=$=>{$.forEach(W=>{c(W.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[t]),R.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let E=()=>{o(!0)},P=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Ml(h,E),onBlur:Ml(p,P),onMouseEnter:Ml(m,E),onMouseLeave:Ml(g,P),onTouchStart:Ml(w,E)}]:[!1,_,{}]}function Ml(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ME({page:t,...e}){let{router:n}=Mw(),r=R.useMemo(()=>Aw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(BE,{page:t,matches:r,...e}):null}function OE(t){let{manifest:e,routeModules:n}=Ow(),[r,o]=R.useState([]);return R.useEffect(()=>{let l=!1;return PE(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function BE({page:t,matches:e,...n}){let r=fs(),{manifest:o,routeModules:l}=Ow(),{basename:c}=Mw(),{loaderData:h,matches:p}=FE(),m=R.useMemo(()=>Lx(t,e,p,o,r,"data"),[t,e,p,o,r]),g=R.useMemo(()=>Lx(t,e,p,o,r,"assets"),[t,e,p,o,r]),w=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,N=!1;if(e.forEach($=>{var L;let W=o.routes[$.route.id];!W||!W.hasLoader||(!m.some(G=>G.route.id===$.route.id)&&$.route.id in h&&((L=l[$.route.id])!=null&&L.shouldRevalidate)||W.hasClientLoader?N=!0:P.add($.route.id))}),P.size===0)return[];let k=AE(t,c,"data");return N&&P.size>0&&k.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[k.pathname+k.search]},[c,h,r,o,m,e,t,l]),_=R.useMemo(()=>RE(g,o),[g,o]),E=OE(g);return R.createElement(R.Fragment,null,w.map(P=>R.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),_.map(P=>R.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),E.map(({key:P,link:N})=>R.createElement("link",{key:P,nonce:n.nonce,...N})))}function $E(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bw=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Bw&&(window.__reactRouterVersion="7.9.1")}catch(t){}function UE({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=AT({window:n,v5Compat:!0}));let o=r.current,[l,c]=R.useState({action:o.action,location:o.location}),h=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(vE,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:g,viewTransition:w,..._},E){let{basename:P}=R.useContext(Ur),N=typeof m=="string"&&$w.test(m),k,$=!1;if(typeof m=="string"&&N&&(k=m,Bw))try{let A=new URL(window.location.href),D=m.startsWith("//")?new URL(A.protocol+m):new URL(m),F=Bs(D.pathname,P);D.origin===A.origin&&F!=null?m=F+D.search+D.hash:$=!0}catch(A){mr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=tE(m,{relative:o}),[L,G,H]=LE(r,_),Y=WE(m,{replace:c,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:w});function j(A){e&&e(A),A.defaultPrevented||Y(A)}let T=R.createElement("a",{..._,...H,href:k||W,onClick:$||l?e:j,ref:$E(E,G),target:p,"data-discover":!N&&n==="render"?"true":void 0});return L&&!N?R.createElement(R.Fragment,null,T,R.createElement(ME,{page:W})):T});on.displayName="Link";var Qn=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...m},g){let w=bu(c,{relative:m.relative}),_=fs(),E=R.useContext(Kd),{navigator:P,basename:N}=R.useContext(Ur),k=E!=null&&YE(w)&&h===!0,$=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,W=_.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(W=W.toLowerCase(),L=L?L.toLowerCase():null,$=$.toLowerCase()),L&&N&&(L=Bs(L,N)||L);const G=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let H=W===$||!o&&W.startsWith($)&&W.charAt(G)==="/",Y=L!=null&&(L===$||!o&&L.startsWith($)&&L.charAt($.length)==="/"),j={isActive:H,isPending:Y,isTransitioning:k},T=H?e:void 0,A;typeof r=="function"?A=r(j):A=[r,H?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(j):l;return R.createElement(on,{...m,"aria-current":T,className:A,ref:g,style:D,to:c,viewTransition:h},typeof p=="function"?p(j):p)});Qn.displayName="NavLink";var zE=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=gd,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:w,..._},E)=>{let P=KE(),N=QE(h,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&$w.test(h),W=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let G=L.nativeEvent.submitter,H=(G==null?void 0:G.getAttribute("formmethod"))||c;P(G||L.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:w})};return R.createElement("form",{ref:E,method:k,action:N,onSubmit:r?p:W,..._,"data-discover":!$&&t==="render"?"true":void 0})});zE.displayName="Form";function HE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uw(t){let e=R.useContext(za);return mt(e,HE(t)),e}function WE(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=Ao(),p=fs(),m=bu(t,{relative:l});return R.useCallback(g=>{if(TE(g,e)){g.preventDefault();let w=n!==void 0?n:su(p)===su(m);h(t,{replace:w,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,m,n,r,e,t,o,l,c])}var GE=0,qE=()=>`__${String(++GE)}__`;function KE(){let{router:t}=Uw("useSubmit"),{basename:e}=R.useContext(Ur),n=pE();return R.useCallback(async(r,o={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=CE(r,e);if(o.navigate===!1){let g=o.fetcherKey||qE();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function QE(t,{relative:e}={}){let{basename:n}=R.useContext(Ur),r=R.useContext(gr);mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...bu(t||".",{relative:e})},c=fs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Vs([n,l.pathname])),su(l)}function YE(t,{relative:e}={}){let n=R.useContext(Rw);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Uw("useViewTransitionState"),o=bu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kd(o.pathname,c)!=null||kd(o.pathname,l)!=null}var XE=Cw();const JE=Om(XE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ej=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Mx=t=>{const e=ej(t);return e.charAt(0).toUpperCase()+e.slice(1)},zw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...h},p)=>R.createElement("svg",{ref:p,...nj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zw("lucide",o),...!l&&!tj(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>R.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(t,e)=>{const n=R.forwardRef(({className:r,...o},l)=>R.createElement(rj,{ref:l,iconNode:e,className:zw(`lucide-${ZE(Mx(t))}`,`lucide-${t}`,r),...o}));return n.displayName=Mx(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Yd=Et("aperture",sj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oj=Et("bell",ij);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lj=Et("book-open",aj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cj=Et("chevron-right",uj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hj=Et("compass",dj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Hw=Et("diamond",fj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],mj=Et("folder-search",pj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yj=Et("globe",gj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Ww=Et("hexagon",vj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wj=Et("house",xj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bj=Et("layers",_j);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Tj=Et("layout-dashboard",Sj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],jj=Et("messages-square",Ej);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],Aj=Et("pin-off",Cj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Ij=Et("pin",kj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rj=Et("settings",Pj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Gw=Et("shapes",Nj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Su=Et("shield",Dj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fj=Et("star",Vj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Mj=Et("trophy",Lj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bj=Et("upload",Oj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qw=Et("zap",$j),Uj="_topbar_1rfl9_3",zj="_topbarLeft_1rfl9_39",Hj="_searchWrap_1rfl9_55",Wj="_topbarRight_1rfl9_109",Gj="_ico_1rfl9_125",qj="_btnIco_1rfl9_139",Kj="_pill_1rfl9_173",Qj="_onlyExpanded_1rfl9_195",Yj="_upload_1rfl9_201",Xj="_label_1rfl9_231",Jj="_avatarBtn_1rfl9_237",Zj="_avatar_1rfl9_237",mn={topbar:Uj,topbarLeft:zj,searchWrap:Hj,topbarRight:Wj,ico:Gj,btnIco:qj,pill:Kj,onlyExpanded:Qj,upload:Yj,label:Xj,avatarBtn:Jj,avatar:Zj},Kw=R.createContext(null);function eC({children:t,role:e}){const[n,r]=R.useState(!1),[o,l]=R.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),h=R.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),p=R.useCallback(()=>r(!1),[]),m=R.useMemo(()=>({isOpen:n,open:h,close:p,activeTab:o,setTab:l,canUse:c}),[n,h,p,o,c]);return a.jsx(Kw.Provider,{value:m,children:t})}function Qw(){const t=R.useContext(Kw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var Ox={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],h=t[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,h=c?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,g=l>>2,w=(l&3)<<4|h>>4;let _=(h&15)<<2|m>>6,E=m&63;p||(E=64,c||(_=64)),r.push(n[g],n[w],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||w==null)throw new nC;const _=l<<2|h>>4;if(r.push(_),m!==64){const E=h<<4&240|m>>2;if(r.push(E),w!==64){const P=m<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(t){const e=Yw(t);return Xw.encodeByteArray(e,!0)},Id=function(t){return rC(t).replace(/\./g,"")},sC=function(t){try{return Xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>iC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process=="undefined"||typeof Ox=="undefined")return;const t=Ox.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lC=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&sC(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return oC()||aC()||lC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uC=t=>{var e,n;return(n=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cC=t=>{const e=uC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jw=()=>{var t;return(t=Qm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Id(JSON.stringify(n)),Id(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){var t;const e=(t=Qm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function mC(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gC(){try{return typeof indexedDB=="object"}catch(t){return!1}}function yC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="FirebaseError";class Wa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vC,Object.setPrototypeOf(this,Wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zw.prototype.create)}}class Zw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?xC(l,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Wa(o,h,r)}}function xC(t,e){return t.replace(wC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const wC=/\{\$([^}]+)}/g;function Yp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(Bx(l)&&Bx(c)){if(!Yp(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Bx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){return t&&t._delegate?t._delegate:t}class iu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SC(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bC(t){return t===po?void 0:t}function SC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _C(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const EC={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},jC=Qe.INFO,CC={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},AC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=CC[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e_{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const kC=(t,e)=>e.some(n=>t instanceof n);let $x,Ux;function IC(){return $x||($x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PC(){return Ux||(Ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t_=new WeakMap,Xp=new WeakMap,n_=new WeakMap,rp=new WeakMap,Ym=new WeakMap;function RC(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ki(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&t_.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function NC(t){if(Xp.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xp.set(t,e)}let Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DC(t){Jp=t(Jp)}function VC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sp(this),e,...n);return n_.set(r,e.sort?e.sort():[e]),ki(r)}:PC().includes(t)?function(...e){return t.apply(sp(this),e),ki(t_.get(this))}:function(...e){return ki(t.apply(sp(this),e))}}function FC(t){return typeof t=="function"?VC(t):(t instanceof IDBTransaction&&NC(t),kC(t,IC())?new Proxy(t,Jp):t)}function ki(t){if(t instanceof IDBRequest)return RC(t);if(rp.has(t))return rp.get(t);const e=FC(t);return e!==t&&(rp.set(t,e),Ym.set(e,t)),e}const sp=t=>Ym.get(t);function LC(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),h=ki(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ki(c.result),p.oldVersion,p.newVersion,ki(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const MC=["get","getKey","getAll","getAllKeys","count"],OC=["put","add","delete","clear"],ip=new Map;function zx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ip.get(e))return ip.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=OC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||MC.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&p.done]))[0]};return ip.set(e,l),l}DC(t=>({...t,get:(e,n,r)=>zx(e,n)||t.get(e,n,r),has:(e,n)=>!!zx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($C(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $C(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",Hx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new e_("@firebase/app"),UC="@firebase/app-compat",zC="@firebase/analytics-compat",HC="@firebase/analytics",WC="@firebase/app-check-compat",GC="@firebase/app-check",qC="@firebase/auth",KC="@firebase/auth-compat",QC="@firebase/database",YC="@firebase/data-connect",XC="@firebase/database-compat",JC="@firebase/functions",ZC="@firebase/functions-compat",eA="@firebase/installations",tA="@firebase/installations-compat",nA="@firebase/messaging",rA="@firebase/messaging-compat",sA="@firebase/performance",iA="@firebase/performance-compat",oA="@firebase/remote-config",aA="@firebase/remote-config-compat",lA="@firebase/storage",uA="@firebase/storage-compat",cA="@firebase/firestore",dA="@firebase/vertexai-preview",hA="@firebase/firestore-compat",fA="firebase",pA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",mA={[Zp]:"fire-core",[UC]:"fire-core-compat",[HC]:"fire-analytics",[zC]:"fire-analytics-compat",[GC]:"fire-app-check",[WC]:"fire-app-check-compat",[qC]:"fire-auth",[KC]:"fire-auth-compat",[QC]:"fire-rtdb",[YC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[JC]:"fire-fn",[ZC]:"fire-fn-compat",[eA]:"fire-iid",[tA]:"fire-iid-compat",[nA]:"fire-fcm",[rA]:"fire-fcm-compat",[sA]:"fire-perf",[iA]:"fire-perf-compat",[oA]:"fire-rc",[aA]:"fire-rc-compat",[lA]:"fire-gcs",[uA]:"fire-gcs-compat",[cA]:"fire-fst",[hA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new Map,gA=new Map,tm=new Map;function Wx(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pd(t){const e=t.name;if(tm.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of ou.values())Wx(n,t);for(const n of gA.values())Wx(n,t);return!0}function yA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Zw("app","Firebase",vA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=pA;function r_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(n||(n=Jw()),!n)throw Ii.create("no-options");const l=ou.get(o);if(l){if(Yp(n,l.options)&&Yp(r,l.config))return l;throw Ii.create("duplicate-app",{appName:o})}const c=new TC(o);for(const p of tm.values())c.addComponent(p);const h=new xA(n,r,c);return ou.set(o,h),h}function s_(t=em){const e=ou.get(t);if(!e&&t===em&&Jw())return r_();if(!e)throw Ii.create("no-app",{appName:t});return e}function _A(){return Array.from(ou.values())}function ka(t,e,n){var r;let o=(r=mA[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(h.join(" "));return}Pd(new iu(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebase-heartbeat-database",SA=1,au="firebase-heartbeat-store";let op=null;function i_(){return op||(op=LC(bA,SA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),op}async function TA(t){try{const n=(await i_()).transaction(au),r=await n.objectStore(au).get(o_(t));return await n.done,r}catch(e){if(e instanceof Wa)$s.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function Gx(t,e){try{const r=(await i_()).transaction(au,"readwrite");await r.objectStore(au).put(e,o_(t)),await r.done}catch(n){if(n instanceof Wa)$s.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function o_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1024,jA=720*60*60*1e3;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=qx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=jA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qx(),{heartbeatsToSend:r,unsentEntries:o}=AA(this._heartbeatsCache.heartbeats),l=Id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $s.warn(n),""}}}function qx(){return new Date().toISOString().substring(0,10)}function AA(t,e=EA){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Kx(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gC()?yC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Kx(t){return Id(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){Pd(new iu("platform-logger",e=>new BC(e),"PRIVATE")),Pd(new iu("heartbeat",e=>new CA(e),"PRIVATE")),ka(Zp,Hx,t),ka(Zp,Hx,"esm2017"),ka("fire-js","")}IA("");var Qx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,a_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,T){function A(){}A.prototype=T.prototype,j.D=T.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(D,F,M){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return T.prototype[F].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,T,A){A||(A=0);var D=Array(16);if(typeof T=="string")for(var F=0;16>F;++F)D[F]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(F=0;16>F;++F)D[F]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=j.g[0],A=j.g[1],F=j.g[2];var M=j.g[3],I=T+(M^A&(F^M))+D[0]+3614090360&4294967295;T=A+(I<<7&4294967295|I>>>25),I=M+(F^T&(A^F))+D[1]+3905402710&4294967295,M=T+(I<<12&4294967295|I>>>20),I=F+(A^M&(T^A))+D[2]+606105819&4294967295,F=M+(I<<17&4294967295|I>>>15),I=A+(T^F&(M^T))+D[3]+3250441966&4294967295,A=F+(I<<22&4294967295|I>>>10),I=T+(M^A&(F^M))+D[4]+4118548399&4294967295,T=A+(I<<7&4294967295|I>>>25),I=M+(F^T&(A^F))+D[5]+1200080426&4294967295,M=T+(I<<12&4294967295|I>>>20),I=F+(A^M&(T^A))+D[6]+2821735955&4294967295,F=M+(I<<17&4294967295|I>>>15),I=A+(T^F&(M^T))+D[7]+4249261313&4294967295,A=F+(I<<22&4294967295|I>>>10),I=T+(M^A&(F^M))+D[8]+1770035416&4294967295,T=A+(I<<7&4294967295|I>>>25),I=M+(F^T&(A^F))+D[9]+2336552879&4294967295,M=T+(I<<12&4294967295|I>>>20),I=F+(A^M&(T^A))+D[10]+4294925233&4294967295,F=M+(I<<17&4294967295|I>>>15),I=A+(T^F&(M^T))+D[11]+2304563134&4294967295,A=F+(I<<22&4294967295|I>>>10),I=T+(M^A&(F^M))+D[12]+1804603682&4294967295,T=A+(I<<7&4294967295|I>>>25),I=M+(F^T&(A^F))+D[13]+4254626195&4294967295,M=T+(I<<12&4294967295|I>>>20),I=F+(A^M&(T^A))+D[14]+2792965006&4294967295,F=M+(I<<17&4294967295|I>>>15),I=A+(T^F&(M^T))+D[15]+1236535329&4294967295,A=F+(I<<22&4294967295|I>>>10),I=T+(F^M&(A^F))+D[1]+4129170786&4294967295,T=A+(I<<5&4294967295|I>>>27),I=M+(A^F&(T^A))+D[6]+3225465664&4294967295,M=T+(I<<9&4294967295|I>>>23),I=F+(T^A&(M^T))+D[11]+643717713&4294967295,F=M+(I<<14&4294967295|I>>>18),I=A+(M^T&(F^M))+D[0]+3921069994&4294967295,A=F+(I<<20&4294967295|I>>>12),I=T+(F^M&(A^F))+D[5]+3593408605&4294967295,T=A+(I<<5&4294967295|I>>>27),I=M+(A^F&(T^A))+D[10]+38016083&4294967295,M=T+(I<<9&4294967295|I>>>23),I=F+(T^A&(M^T))+D[15]+3634488961&4294967295,F=M+(I<<14&4294967295|I>>>18),I=A+(M^T&(F^M))+D[4]+3889429448&4294967295,A=F+(I<<20&4294967295|I>>>12),I=T+(F^M&(A^F))+D[9]+568446438&4294967295,T=A+(I<<5&4294967295|I>>>27),I=M+(A^F&(T^A))+D[14]+3275163606&4294967295,M=T+(I<<9&4294967295|I>>>23),I=F+(T^A&(M^T))+D[3]+4107603335&4294967295,F=M+(I<<14&4294967295|I>>>18),I=A+(M^T&(F^M))+D[8]+1163531501&4294967295,A=F+(I<<20&4294967295|I>>>12),I=T+(F^M&(A^F))+D[13]+2850285829&4294967295,T=A+(I<<5&4294967295|I>>>27),I=M+(A^F&(T^A))+D[2]+4243563512&4294967295,M=T+(I<<9&4294967295|I>>>23),I=F+(T^A&(M^T))+D[7]+1735328473&4294967295,F=M+(I<<14&4294967295|I>>>18),I=A+(M^T&(F^M))+D[12]+2368359562&4294967295,A=F+(I<<20&4294967295|I>>>12),I=T+(A^F^M)+D[5]+4294588738&4294967295,T=A+(I<<4&4294967295|I>>>28),I=M+(T^A^F)+D[8]+2272392833&4294967295,M=T+(I<<11&4294967295|I>>>21),I=F+(M^T^A)+D[11]+1839030562&4294967295,F=M+(I<<16&4294967295|I>>>16),I=A+(F^M^T)+D[14]+4259657740&4294967295,A=F+(I<<23&4294967295|I>>>9),I=T+(A^F^M)+D[1]+2763975236&4294967295,T=A+(I<<4&4294967295|I>>>28),I=M+(T^A^F)+D[4]+1272893353&4294967295,M=T+(I<<11&4294967295|I>>>21),I=F+(M^T^A)+D[7]+4139469664&4294967295,F=M+(I<<16&4294967295|I>>>16),I=A+(F^M^T)+D[10]+3200236656&4294967295,A=F+(I<<23&4294967295|I>>>9),I=T+(A^F^M)+D[13]+681279174&4294967295,T=A+(I<<4&4294967295|I>>>28),I=M+(T^A^F)+D[0]+3936430074&4294967295,M=T+(I<<11&4294967295|I>>>21),I=F+(M^T^A)+D[3]+3572445317&4294967295,F=M+(I<<16&4294967295|I>>>16),I=A+(F^M^T)+D[6]+76029189&4294967295,A=F+(I<<23&4294967295|I>>>9),I=T+(A^F^M)+D[9]+3654602809&4294967295,T=A+(I<<4&4294967295|I>>>28),I=M+(T^A^F)+D[12]+3873151461&4294967295,M=T+(I<<11&4294967295|I>>>21),I=F+(M^T^A)+D[15]+530742520&4294967295,F=M+(I<<16&4294967295|I>>>16),I=A+(F^M^T)+D[2]+3299628645&4294967295,A=F+(I<<23&4294967295|I>>>9),I=T+(F^(A|~M))+D[0]+4096336452&4294967295,T=A+(I<<6&4294967295|I>>>26),I=M+(A^(T|~F))+D[7]+1126891415&4294967295,M=T+(I<<10&4294967295|I>>>22),I=F+(T^(M|~A))+D[14]+2878612391&4294967295,F=M+(I<<15&4294967295|I>>>17),I=A+(M^(F|~T))+D[5]+4237533241&4294967295,A=F+(I<<21&4294967295|I>>>11),I=T+(F^(A|~M))+D[12]+1700485571&4294967295,T=A+(I<<6&4294967295|I>>>26),I=M+(A^(T|~F))+D[3]+2399980690&4294967295,M=T+(I<<10&4294967295|I>>>22),I=F+(T^(M|~A))+D[10]+4293915773&4294967295,F=M+(I<<15&4294967295|I>>>17),I=A+(M^(F|~T))+D[1]+2240044497&4294967295,A=F+(I<<21&4294967295|I>>>11),I=T+(F^(A|~M))+D[8]+1873313359&4294967295,T=A+(I<<6&4294967295|I>>>26),I=M+(A^(T|~F))+D[15]+4264355552&4294967295,M=T+(I<<10&4294967295|I>>>22),I=F+(T^(M|~A))+D[6]+2734768916&4294967295,F=M+(I<<15&4294967295|I>>>17),I=A+(M^(F|~T))+D[13]+1309151649&4294967295,A=F+(I<<21&4294967295|I>>>11),I=T+(F^(A|~M))+D[4]+4149444226&4294967295,T=A+(I<<6&4294967295|I>>>26),I=M+(A^(T|~F))+D[11]+3174756917&4294967295,M=T+(I<<10&4294967295|I>>>22),I=F+(T^(M|~A))+D[2]+718787259&4294967295,F=M+(I<<15&4294967295|I>>>17),I=A+(M^(F|~T))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(F+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+F&4294967295,j.g[3]=j.g[3]+M&4294967295}r.prototype.u=function(j,T){T===void 0&&(T=j.length);for(var A=T-this.blockSize,D=this.B,F=this.h,M=0;M<T;){if(F==0)for(;M<=A;)o(this,j,M),M+=this.blockSize;if(typeof j=="string"){for(;M<T;)if(D[F++]=j.charCodeAt(M++),F==this.blockSize){o(this,D),F=0;break}}else for(;M<T;)if(D[F++]=j[M++],F==this.blockSize){o(this,D),F=0;break}}this.h=F,this.o+=T},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;var A=8*this.o;for(T=j.length-8;T<j.length;++T)j[T]=A&255,A/=256;for(this.u(j),j=Array(16),T=A=0;4>T;++T)for(var D=0;32>D;D+=8)j[A++]=this.g[T]>>>D&255;return j};function l(j,T){var A=h;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=T(j)}function c(j,T){this.h=T;for(var A=[],D=!0,F=j.length-1;0<=F;F--){var M=j[F]|0;D&&M==T||(A[F]=M,D=!1)}this.g=A}var h={};function p(j){return-128<=j&&128>j?l(j,function(T){return new c([T|0],0>T?-1:0)}):new c([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return k(m(-j));for(var T=[],A=1,D=0;j>=A;D++)T[D]=j/A|0,A*=4294967296;return new c(T,0)}function g(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return k(g(j.substring(1),T));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(T,8)),D=w,F=0;F<j.length;F+=8){var M=Math.min(8,j.length-F),I=parseInt(j.substring(F,F+M),T);8>M?(M=m(Math.pow(T,M)),D=D.j(M).add(m(I))):(D=D.j(A),D=D.add(m(I)))}return D}var w=p(0),_=p(1),E=p(16777216);t=c.prototype,t.m=function(){if(N(this))return-k(this).m();for(var j=0,T=1,A=0;A<this.g.length;A++){var D=this.i(A);j+=(0<=D?D:4294967296+D)*T,T*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(P(this))return"0";if(N(this))return"-"+k(this).toString(j);for(var T=m(Math.pow(j,6)),A=this,D="";;){var F=G(A,T).g;A=$(A,F.j(T));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=F,P(A))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function P(j){if(j.h!=0)return!1;for(var T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function N(j){return j.h==-1}t.l=function(j){return j=$(this,j),N(j)?-1:P(j)?0:1};function k(j){for(var T=j.g.length,A=[],D=0;D<T;D++)A[D]=~j.g[D];return new c(A,~j.h).add(_)}t.abs=function(){return N(this)?k(this):this},t.add=function(j){for(var T=Math.max(this.g.length,j.g.length),A=[],D=0,F=0;F<=T;F++){var M=D+(this.i(F)&65535)+(j.i(F)&65535),I=(M>>>16)+(this.i(F)>>>16)+(j.i(F)>>>16);D=I>>>16,M&=65535,I&=65535,A[F]=I<<16|M}return new c(A,A[A.length-1]&-2147483648?-1:0)};function $(j,T){return j.add(k(T))}t.j=function(j){if(P(this)||P(j))return w;if(N(this))return N(j)?k(this).j(k(j)):k(k(this).j(j));if(N(j))return k(this.j(k(j)));if(0>this.l(E)&&0>j.l(E))return m(this.m()*j.m());for(var T=this.g.length+j.g.length,A=[],D=0;D<2*T;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var F=0;F<j.g.length;F++){var M=this.i(D)>>>16,I=this.i(D)&65535,he=j.i(F)>>>16,je=j.i(F)&65535;A[2*D+2*F]+=I*je,W(A,2*D+2*F),A[2*D+2*F+1]+=M*je,W(A,2*D+2*F+1),A[2*D+2*F+1]+=I*he,W(A,2*D+2*F+1),A[2*D+2*F+2]+=M*he,W(A,2*D+2*F+2)}for(D=0;D<T;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=T;D<2*T;D++)A[D]=0;return new c(A,0)};function W(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function L(j,T){this.g=j,this.h=T}function G(j,T){if(P(T))throw Error("division by zero");if(P(j))return new L(w,w);if(N(j))return T=G(k(j),T),new L(k(T.g),k(T.h));if(N(T))return T=G(j,k(T)),new L(k(T.g),T.h);if(30<j.g.length){if(N(j)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var A=_,D=T;0>=D.l(j);)A=H(A),D=H(D);var F=Y(A,1),M=Y(D,1);for(D=Y(D,2),A=Y(A,2);!P(D);){var I=M.add(D);0>=I.l(j)&&(F=F.add(A),M=I),D=Y(D,1),A=Y(A,1)}return T=$(j,F.j(T)),new L(F,T)}for(F=w;0<=j.l(T);){for(A=Math.max(1,Math.floor(j.m()/T.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=m(A),I=M.j(T);N(I)||0<I.l(j);)A-=D,M=m(A),I=M.j(T);P(M)&&(M=_),F=F.add(M),j=$(j,I)}return new L(F,j)}t.A=function(j){return G(this,j).h},t.and=function(j){for(var T=Math.max(this.g.length,j.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)&j.i(D);return new c(A,this.h&j.h)},t.or=function(j){for(var T=Math.max(this.g.length,j.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)|j.i(D);return new c(A,this.h|j.h)},t.xor=function(j){for(var T=Math.max(this.g.length,j.g.length),A=[],D=0;D<T;D++)A[D]=this.i(D)^j.i(D);return new c(A,this.h^j.h)};function H(j){for(var T=j.g.length+1,A=[],D=0;D<T;D++)A[D]=j.i(D)<<1|j.i(D-1)>>>31;return new c(A,j.h)}function Y(j,T){var A=T>>5;T%=32;for(var D=j.g.length-A,F=[],M=0;M<D;M++)F[M]=0<T?j.i(M+A)>>>T|j.i(M+A+1)<<32-T:j.i(M+A);return new c(F,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a_=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,_o=c}).apply(typeof Qx!="undefined"?Qx:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var nd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,zl,u_,vd,nm,c_,d_,h_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(d,v){if(v)e:{var b=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var q=d[C];if(!(q in b))break e;b=b[q]}d=d[d.length-1],C=b[d],v=v(C),v!=C&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var b=0,C=!1,q={next:function(){if(!C&&b<d.length){var J=b++;return{value:v(J,d[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(d){return d||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,b){return d.call.apply(d.bind,arguments)}function w(d,v,b){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,C),d.apply(v,q)}}return function(){return d.apply(v,arguments)}}function _(d,v,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,_.apply(null,arguments)}function E(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function P(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(C,q,J){for(var de=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)de[Ze-2]=arguments[Ze];return v.prototype[q].apply(C,de)}}function N(d){const v=d.length;if(0<v){const b=Array(v);for(let C=0;C<v;C++)b[C]=d[C];return b}return[]}function k(d,v){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(p(C)){const q=d.length||0,J=C.length||0;d.length=q+J;for(let de=0;de<J;de++)d[q+de]=C[de]}else d.push(C)}}class ${constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function W(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var H=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Y(d,v,b){for(const C in d)v.call(b,d[C],C,d)}function j(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function T(d){const v={};for(const b in d)v[b]=d[b];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,v){let b,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(b in C)d[b]=C[b];for(let J=0;J<A.length;J++)b=A[J],Object.prototype.hasOwnProperty.call(C,b)&&(d[b]=C[b])}}function F(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function M(d){h.setTimeout(()=>{throw d},0)}function I(){var d=fe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class he{constructor(){this.h=this.g=null}add(v,b){const C=je.get();C.set(v,b),this.h?this.h.next=C:this.g=C,this.h=C}}var je=new $(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ne=!1,fe=new he,le=()=>{const d=h.Promise.resolve(void 0);ue=()=>{d.then(z)}};var z=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(b){M(b)}var v=je;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ne=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch(b){}return d})();function ke(d,v){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(H){e:{try{G(v.nodeName);var q=!0;break e}catch(J){}q=!1}q||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ke.aa.h.call(this)}}P(ke,ve);var me={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ve(d,v,b,C,q){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!C,this.ha=q,this.key=++Me,this.da=this.fa=!1}function Be(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Pt(d){this.src=d,this.g={},this.h=0}Pt.prototype.add=function(d,v,b,C,q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var de=Lt(d,v,C,q);return-1<de?(v=d[de],b||(v.fa=!1)):(v=new Ve(v,this.src,J,!!C,q),v.fa=b,d.push(v)),v};function Qt(d,v){var b=v.type;if(b in d.g){var C=d.g[b],q=Array.prototype.indexOf.call(C,v,void 0),J;(J=0<=q)&&Array.prototype.splice.call(C,q,1),J&&(Be(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Lt(d,v,b,C){for(var q=0;q<d.length;++q){var J=d[q];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==C)return q}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),On={};function er(d,v,b,C,q){if(Array.isArray(v)){for(var J=0;J<v.length;J++)er(d,v[J],b,C,q);return null}return b=Wr(b),d&&d[Ee]?d.K(v,b,m(C)?!!C.capture:!1,q):lt(d,v,b,!1,C,q)}function lt(d,v,b,C,q,J){if(!v)throw Error("Invalid event type");var de=m(q)?!!q.capture:!!q,Ze=vr(d);if(Ze||(d[jt]=Ze=new Pt(d)),b=Ze.add(v,b,C,de,J),b.proxy)return b;if(C=ps(),b.proxy=C,C.src=d,C.listener=b,d.addEventListener)Pe||(q=de),q===void 0&&(q=!1),d.addEventListener(v.toString(),C,q);else if(d.attachEvent)d.attachEvent(An(v.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ps(){function d(b){return v.call(d.src,d.listener,b)}const v=Hr;return d}function yr(d,v,b,C,q){if(Array.isArray(v))for(var J=0;J<v.length;J++)yr(d,v[J],b,C,q);else C=m(C)?!!C.capture:!!C,b=Wr(b),d&&d[Ee]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],b=Lt(J,b,C,q),-1<b&&(Be(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=vr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Lt(v,b,C,q)),(b=-1<d?v[d]:null)&&Cn(b))}function Cn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ee])Qt(v.i,d);else{var b=d.type,C=d.proxy;v.removeEventListener?v.removeEventListener(b,C,d.capture):v.detachEvent?v.detachEvent(An(b),C):v.addListener&&v.removeListener&&v.removeListener(C),(b=vr(v))?(Qt(b,d),b.h==0&&(b.src=null,v[jt]=null)):Be(d)}}}function An(d){return d in On?On[d]:On[d]="on"+d}function Hr(d,v){if(d.da)d=!0;else{v=new ke(v,this);var b=d.listener,C=d.ha||d.src;d.fa&&Cn(d),d=b.call(C,v)}return d}function vr(d){return d=d[jt],d instanceof Pt?d:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(d){return typeof d=="function"?d:(d[xr]||(d[xr]=function(v){return d.handleEvent(v)}),d[xr])}function gt(){Z.call(this),this.i=new Pt(this),this.M=this,this.F=null}P(gt,Z),gt.prototype[Ee]=!0,gt.prototype.removeEventListener=function(d,v,b,C){yr(this,d,v,b,C)};function bt(d,v){var b,C=d.F;if(C)for(b=[];C;C=C.F)b.push(C);if(d=d.M,C=v.type||v,typeof v=="string")v=new ve(v,d);else if(v instanceof ve)v.target=v.target||d;else{var q=v;v=new ve(C,d),D(v,q)}if(q=!0,b)for(var J=b.length-1;0<=J;J--){var de=v.g=b[J];q=tr(de,C,!0,v)&&q}if(de=v.g=d,q=tr(de,C,!0,v)&&q,q=tr(de,C,!1,v)&&q,b)for(J=0;J<b.length;J++)de=v.g=b[J],q=tr(de,C,!1,v)&&q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],C=0;C<b.length;C++)Be(b[C]);delete d.g[v],d.h--}}this.F=null},gt.prototype.K=function(d,v,b,C){return this.i.add(String(d),v,!1,b,C)},gt.prototype.L=function(d,v,b,C){return this.i.add(String(d),v,!0,b,C)};function tr(d,v,b,C){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,J=0;J<v.length;++J){var de=v[J];if(de&&!de.da&&de.capture==b){var Ze=de.listener,Mt=de.ha||de.src;de.fa&&Qt(d.i,de),q=Ze.call(Mt,C)!==!1&&q}}return q&&!C.defaultPrevented}function qs(d,v,b){if(typeof d=="function")b&&(d=_(d,b));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function wr(d){d.g=qs(()=>{d.g=null,d.i&&(d.i=!1,wr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Gr extends Z{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(d){Z.call(this),this.h=d,this.g={}}P(qr,Z);var Ks=[];function Qs(d){Y(d.g,function(v,b){this.g.hasOwnProperty(b)&&Cn(v)},d),d.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Qs(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=h.JSON.stringify,Xs=h.JSON.parse,Js=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Kr(){}Kr.prototype.h=null;function ms(d){return d.h||(d.h=d.i())}function gs(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){ve.call(this,"d")}P(Bn,ve);function ys(){ve.call(this,"c")}P(ys,ve);var Qr={},Za=null;function Bi(){return Za=Za||new gt}Qr.La="serverreachability";function el(d){ve.call(this,Qr.La,d)}P(el,ve);function vs(d){const v=Bi();bt(v,new el(v))}Qr.STAT_EVENT="statevent";function tl(d,v){ve.call(this,Qr.STAT_EVENT,d),this.stat=v}P(tl,ve);function Ct(d){const v=Bi();bt(v,new tl(v,d))}Qr.Ma="timingevent";function Ro(d,v){ve.call(this,Qr.Ma,d),this.size=v}P(Ro,ve);function _r(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Ui(d,v,b,C,q,J){d.info(function(){if(d.g)if(J)for(var de="",Ze=J.split("&"),Mt=0;Mt<Ze.length;Mt++){var Ge=Ze[Mt].split("=");if(1<Ge.length){var Ut=Ge[0];Ge=Ge[1];var Rt=Ut.split("_");de=2<=Rt.length&&Rt[1]=="type"?de+(Ut+"="+Ge+"&"):de+(Ut+"=redacted&")}}else de=null;else de=J;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+v+`
`+b+`
`+de})}function No(d,v,b,C,q,J,de){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+v+`
`+b+`
`+J+" "+de})}function br(d,v,b,C){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+bh(d,b)+(C?" "+C:"")})}function nl(d,v){d.info(function(){return"TIMEOUT: "+v})}$i.prototype.info=function(){};function bh(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var C=b[d];if(!(2>C.length)){var q=C[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return Ys(b)}catch(Ze){return v}}var Do={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function zi(){}P(zi,Kr),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Sr=new zi;function Tr(d,v,b,C){this.j=d,this.i=v,this.l=b,this.R=C||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}var rl={},Vo={};function Fo(d,v,b){d.L=1,d.v=ri(Un(v)),d.m=b,d.P=!0,sl(d,null)}function sl(d,v){d.F=Date.now(),st(d),d.A=Un(d.v);var b=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),ii(b.i,"t",C),d.C=0,b=d.j.J,d.h=new $u,d.g=ic(d.j,b?v:null,!d.m),0<d.O&&(d.M=new Gr(_(d.Y,d,d.g),d.O)),v=d.U,b=d.g,C=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ks[0]=q.toString()),q=Ks);for(var J=0;J<q.length;J++){var de=er(b,q[J],C||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),vs(),Ui(d.i,d.u,d.A,d.l,d.R,d.m)}Tr.prototype.ca=function(d){d=d.target;const v=this.M;v&&In(d)==3?v.j():this.Y(d)},Tr.prototype.Y=function(d){try{if(d==this.g)e:{const Rt=In(this.g);var v=this.g.Ba();const sr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||cl(this.g)))){this.J||Rt!=4||v==7||(v==8||0>=sr?vs(3):vs(2)),Hi(this);var b=this.g.Z();this.X=b;t:if(Uu(this)){var C=cl(this.g);d="";var q=C.length,J=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){nr(this),Zs(this);var de="";break t}this.h.i=new h.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,d+=this.h.i.decode(C[v],{stream:!(J&&v==q-1)});C.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,No(this.i,this.u,this.A,this.l,this.R,Rt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Mt=this.g;if((Ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ze)){var Ge=Ze;break t}}Ge=null}if(b=Ge)br(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,il(this,b);else{this.o=!1,this.s=3,Ct(12),nr(this),Zs(this);break e}}if(this.P){b=!0;let Hn;for(;!this.J&&this.C<de.length;)if(Hn=Sh(this,de),Hn==Vo){Rt==4&&(this.s=4,Ct(14),b=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==rl){this.s=4,Ct(15),br(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else br(this.i,this.l,Hn,null),il(this,Hn);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||de.length!=0||this.h.h||(this.s=1,Ct(16),b=!1),this.o=this.o&&b,!b)br(this.i,this.l,de,"[Invalid Chunked Response]"),nr(this),Zs(this);else if(0<de.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),hl(Ut),Ut.M=!0,Ct(11))}}else br(this.i,this.l,de,null),il(this,de);Rt==4&&nr(this),this.o&&!this.J&&(Rt==4?qo(this.j,this):(this.o=!1,st(this)))}else Uo(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),nr(this),Zs(this)}}}catch(Rt){}finally{}};function Uu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Sh(d,v){var b=d.C,C=v.indexOf(`
`,b);return C==-1?Vo:(b=Number(v.substring(b,C)),isNaN(b)?rl:(C+=1,C+b>v.length?Vo:(v=v.slice(C,C+b),d.C=C+b,v)))}Tr.prototype.cancel=function(){this.J=!0,nr(this)};function st(d){d.S=Date.now()+d.I,zu(d,d.I)}function zu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_r(_(d.ba,d),v)}function Hi(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Tr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(nl(this.i,this.A),this.L!=2&&(vs(),Ct(17)),nr(this),this.s=2,Zs(this)):zu(this,this.S-d)};function Zs(d){d.j.G==0||d.J||qo(d.j,d)}function nr(d){Hi(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Qs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function il(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||bn(b.h,d))){if(!d.K&&bn(b.h,d)&&b.G==3){try{var C=b.Da.g.parse(v)}catch(Ge){C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Go(b),kr(b);else break e;Wo(b),Ct(18)}}else b.za=q[1],0<b.za-b.T&&37500>q[2]&&b.F&&b.v==0&&!b.C&&(b.C=_r(_(b.Za,b),6e3));if(1>=Wu(b.h)&&b.ca){try{b.ca()}catch(Ge){}b.ca=void 0}}else Ss(b,11)}else if((d.K||b.g==d)&&Go(b),!W(v))for(q=b.Da.g.parse(v),v=0;v<q.length;v++){let Ge=q[v];if(b.T=Ge[0],Ge=Ge[1],b.G==2)if(Ge[0]=="c"){b.K=Ge[1],b.ia=Ge[2];const Ut=Ge[3];Ut!=null&&(b.la=Ut,b.j.info("VER="+b.la));const Rt=Ge[4];Rt!=null&&(b.Aa=Rt,b.j.info("SVER="+b.Aa));const sr=Ge[5];sr!=null&&typeof sr=="number"&&0<sr&&(C=1.5*sr,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Hn=d.g;if(Hn){const Xi=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var J=C.h;J.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ol(J,J.h),J.h=null))}if(C.D){const Qo=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(C.ya=Qo,nt(C.I,C.D,Qo))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var de=d;if(C.qa=sc(C,C.J?C.ia:null,C.W),de.K){Gu(C.h,de);var Ze=de,Mt=C.L;Mt&&(Ze.I=Mt),Ze.B&&(Hi(Ze),st(Ze)),C.g=de}else Yi(C);0<b.i.length&&Zr(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Ss(b,7);else b.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ss(b,7):Xt(b):Ge[0]!="noop"&&b.l&&b.l.ta(Ge),b.v=0)}}vs(4)}catch(Ge){}}var Hu=class{constructor(d,v){this.g=d,this.map=v}};function Wi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $n(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Wu(d){return d.h?1:d.g?d.g.size:0}function bn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function ol(d,v){d.g?d.g.add(v):d.h=v}function Gu(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Wi.prototype.cancel=function(){if(this.i=qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function qu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return N(d.i)}function Lo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map!="undefined"&&d instanceof Map||typeof Set!="undefined"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],b=d.length,C=0;C<b;C++)v.push(d[C]);return v}v=[],b=0;for(C in d)v[b++]=d[C];return v}function Mo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map!="undefined"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set!="undefined"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const C in d)v[b++]=C;return v}}}function ei(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=Mo(d),C=Lo(d),q=C.length,J=0;J<q;J++)v.call(void 0,C[J],b&&b[J],d)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var C=d[b].indexOf("="),q=null;if(0<=C){var J=d[b].substring(0,C);q=d[b].substring(C+1)}else J=d[b];v(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof xs){this.h=d.h,qi(this,d.j),this.o=d.o,this.g=d.g,ti(this,d.s),this.l=d.l;var v=d.i,b=new Yr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),ni(this,b),this.m=d.m}else d&&(v=String(d).match(Gi))?(this.h=!1,qi(this,v[1]||"",!0),this.o=We(v[2]||""),this.g=We(v[3]||"",!0),ti(this,v[4]),this.l=We(v[5]||"",!0),ni(this,v[6]||"",!0),this.m=We(v[7]||"")):(this.h=!1,this.i=new Yr(null,this.h))}xs.prototype.toString=function(){var d=[],v=this.j;v&&d.push(si(v,Oo,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(si(v,Oo,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(si(b,b.charAt(0)=="/"?Yu:Qu,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",si(b,al)),d.join("")};function Un(d){return new xs(d)}function qi(d,v,b){d.j=b?We(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function ti(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ni(d,v,b){v instanceof Yr?(d.i=v,Xr(d.i,d.h)):(b||(v=si(v,Xu)),d.i=new Yr(v,d.h))}function nt(d,v,b){d.i.set(v,b)}function ri(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function We(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function si(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Ku),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ku(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Oo=/[#\/\?@]/g,Qu=/[#\?:]/g,Yu=/[#\?]/g,Xu=/[#\?@]/g,al=/#/g;function Yr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Yt(d){d.g||(d.g=new Map,d.h=0,d.i&&Th(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Yr.prototype,t.add=function(d,v){Yt(this),this.i=null,d=rr(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Er(d,v){Yt(d),v=rr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function jr(d,v){return Yt(d),v=rr(d,v),d.g.has(v)}t.forEach=function(d,v){Yt(this),this.g.forEach(function(b,C){b.forEach(function(q){d.call(v,q,C,this)},this)},this)},t.na=function(){Yt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let C=0;C<v.length;C++){const q=d[C];for(let J=0;J<q.length;J++)b.push(v[C])}return b},t.V=function(d){Yt(this);let v=[];if(typeof d=="string")jr(this,d)&&(v=v.concat(this.g.get(rr(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},t.set=function(d,v){return Yt(this),this.i=null,d=rr(this,d),jr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ii(d,v,b){Er(d,v),0<b.length&&(d.i=null,d.g.set(rr(d,v),N(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var C=v[b];const J=encodeURIComponent(String(C)),de=this.V(C);for(C=0;C<de.length;C++){var q=J;de[C]!==""&&(q+="="+encodeURIComponent(String(de[C]))),d.push(q)}}return this.i=d.join("&")};function rr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Xr(d,v){v&&!d.j&&(Yt(d),d.i=null,d.g.forEach(function(b,C){var q=C.toLowerCase();C!=q&&(Er(this,C),ii(this,q,b))},d)),d.j=v}function Eh(d,v){const b=new $i;if(h.Image){const C=new Image;C.onload=E(kn,b,"TestLoadImage: loaded",!0,v,C),C.onerror=E(kn,b,"TestLoadImage: error",!1,v,C),C.onabort=E(kn,b,"TestLoadImage: abort",!1,v,C),C.ontimeout=E(kn,b,"TestLoadImage: timeout",!1,v,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else v(!1)}function Ju(d,v){const b=new $i,C=new AbortController,q=setTimeout(()=>{C.abort(),kn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:C.signal}).then(J=>{clearTimeout(q),J.ok?kn(b,"TestPingServer: ok",!0,v):kn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),kn(b,"TestPingServer: error",!1,v)})}function kn(d,v,b,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(b)}catch(J){}}function jh(){this.g=new Js}function Zu(d,v,b){const C=b||"";try{ei(d,function(q,J){let de=q;m(q)&&(de=Ys(q)),v.push(C+J+"="+encodeURIComponent(de))})}catch(q){throw v.push(C+"type="+encodeURIComponent("_badmap")),q}}function ws(d){this.l=d.Ub||null,this.j=d.eb||!1}P(ws,Kr),ws.prototype.g=function(){return new Ki(this.l,this.j)},ws.prototype.i=(function(d){return function(){return d}})({});function Ki(d,v){gt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ki,gt),t=Ki.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Ar(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!="undefined"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Cr(this):Ar(this),this.readyState==3&&ec(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Cr(this))},t.Qa=function(d){this.g&&(this.response=d,Cr(this))},t.ga=function(){this.g&&Cr(this)};function Cr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ar(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function Ar(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function _s(d){let v="";return Y(d,function(b,C){v+=C,v+=":",v+=b,v+=`\r
`}),v}function oi(d,v,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=_s(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):nt(d,v,b))}function ht(d){gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ht,gt);var Ch=/^https?$/i,ll=["POST","PUT"];t=ht.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?ms(this.o):ms(Sr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){Qi(this,J);return}if(d=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)b.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())b.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ll,v,void 0))||C||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of b)this.g.setRequestHeader(J,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$o(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Qi(this,J)}};function Qi(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Bo(d),zn(d)}function Bo(d){d.A||(d.A=!0,bt(d,"complete"),bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,bt(this,"complete"),bt(this,"abort"),zn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zn(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ul(this):this.bb())},t.bb=function(){ul(this)};function ul(d){if(d.h&&typeof c!="undefined"&&(!d.v[1]||In(d)!=4||d.Z()!=2)){if(d.u&&In(d)==4)qs(d.Ea,0,d);else if(bt(d,"readystatechange"),In(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var C;if(C=de===0){var q=String(d.D).match(Gi)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),C=!Ch.test(q?q.toLowerCase():"")}b=C}if(b)bt(d,"complete"),bt(d,"success");else{d.m=6;try{var J=2<In(d)?d.g.statusText:""}catch(Ze){J=""}d.l=J+" ["+d.Z()+"]",Bo(d)}}finally{zn(d)}}}}function zn(d,v){if(d.g){$o(d);const b=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||bt(d,"ready");try{b.onreadystatechange=C}catch(q){}}}function $o(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function In(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<In(this)?this.g.status:-1}catch(d){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(d){return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Xs(v)}};function cl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch(v){return null}}function Uo(d){const v={};d=(d.g&&2<=In(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(W(d[C]))continue;var b=F(d[C]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[q]||[];v[q]=J,J.push(b)}j(v,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function dl(d){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,d),this.cb=Jr("retryDelaySeedMs",1e4,d),this.Wa=Jr("forwardChannelMaxRetries",2,d),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(d&&d.concurrentRequestLimit),this.Da=new jh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dl.prototype,t.la=8,t.G=1,t.connect=function(d,v,b,C){Ct(0),this.W=d,this.H=v||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=sc(this,null,this.W),Zr(this)};function Xt(d){if(zo(d),d.G==3){var v=d.U++,b=Un(d.I);if(nt(b,"SID",d.K),nt(b,"RID",v),nt(b,"TYPE","terminate"),bs(d,b),v=new Tr(d,d.j,v),v.L=2,v.v=ri(Un(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.v.toString(),"")}catch(C){}!b&&h.Image&&(new Image().src=v.v,b=!0),b||(v.g=ic(v.j,null),v.g.ea(v.v)),v.F=Date.now(),st(v)}rc(d)}function kr(d){d.g&&(hl(d),d.g.cancel(),d.g=null)}function zo(d){kr(d),d.u&&(h.clearTimeout(d.u),d.u=null),Go(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Zr(d){if(!$n(d.h)&&!d.s){d.s=!0;var v=d.Ga;ue||le(),ne||(ue(),ne=!0),fe.add(v,d),d.B=0}}function Ah(d,v){return Wu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_r(_(d.Ga,d,v),nc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new Tr(this,this.j,d);let J=this.o;if(this.S&&(J?(J=T(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ai(this,q,v),b=Un(this.I),nt(b,"RID",d),nt(b,"CVER",22),this.D&&nt(b,"X-HTTP-Session-Id",this.D),bs(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(_s(J)))+"&"+v:this.m&&oi(b,this.m,J)),ol(this.h,q),this.Ua&&nt(b,"TYPE","init"),this.P?(nt(b,"$req",v),nt(b,"SID","null"),q.T=!0,Fo(q,b,null)):Fo(q,b,v),this.G=2}}else this.G==3&&(d?Ho(this,d):this.i.length==0||$n(this.h)||Ho(this))};function Ho(d,v){var b;v?b=v.l:b=d.U++;const C=Un(d.I);nt(C,"SID",d.K),nt(C,"RID",b),nt(C,"AID",d.T),bs(d,C),d.m&&d.o&&oi(C,d.m,d.o),b=new Tr(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=ai(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ol(d.h,b),Fo(b,C,v)}function bs(d,v){d.H&&Y(d.H,function(b,C){nt(v,C,b)}),d.l&&ei({},function(b,C){nt(v,C,b)})}function ai(d,v,b){b=Math.min(d.i.length,b);var C=d.l?_(d.l.Na,d.l,d):null;e:{var q=d.i;let J=-1;for(;;){const de=["count="+b];J==-1?0<b?(J=q[0].g,de.push("ofs="+J)):J=0:de.push("ofs="+J);let Ze=!0;for(let Mt=0;Mt<b;Mt++){let Ge=q[Mt].g;const Ut=q[Mt].map;if(Ge-=J,0>Ge)J=Math.max(0,q[Mt].g-100),Ze=!1;else try{Zu(Ut,de,"req"+Ge+"_")}catch(Rt){C&&C(Ut)}}if(Ze){C=de.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,C}function Yi(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ue||le(),ne||(ue(),ne=!0),fe.add(v,d),d.v=0}}function Wo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_r(_(d.Fa,d),nc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_r(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),kr(this),tc(this))};function hl(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function tc(d){d.g=new Tr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Un(d.qa);nt(v,"RID","rpc"),nt(v,"SID",d.K),nt(v,"AID",d.T),nt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(v,"TO",d.ja),nt(v,"TYPE","xmlhttp"),bs(d,v),d.m&&d.o&&oi(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=ri(Un(v)),b.m=null,b.P=!0,sl(b,d)}t.Za=function(){this.C!=null&&(this.C=null,kr(this),Wo(this),Ct(19))};function Go(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function qo(d,v){var b=null;if(d.g==v){Go(d),hl(d),d.g=null;var C=2}else if(bn(d.h,v))b=v.D,Gu(d.h,v),C=1;else return;if(d.G!=0){if(v.o)if(C==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var q=d.B;C=Bi(),bt(C,new Ro(C,b)),Zr(d)}else Yi(d);else if(q=v.s,q==3||q==0&&0<v.X||!(C==1&&Ah(d,v)||C==2&&Wo(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),q){case 1:Ss(d,5);break;case 4:Ss(d,10);break;case 3:Ss(d,6);break;default:Ss(d,2)}}}function nc(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function Ss(d,v){if(d.j.info("Error code "+v),v==2){var b=_(d.fb,d),C=d.Xa;const q=!C;C=new xs(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qi(C,"https"),ri(C),q?Eh(C.toString(),b):Ju(C.toString(),b)}else Ct(2);d.G=0,d.l&&d.l.sa(v),rc(d),zo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function rc(d){if(d.G=0,d.ka=[],d.l){const v=qu(d.h);(v.length!=0||d.i.length!=0)&&(k(d.ka,v),k(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function sc(d,v,b){var C=b instanceof xs?Un(b):new xs(b);if(C.g!="")v&&(C.g=v+"."+C.g),ti(C,C.s);else{var q=h.location;C=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var J=new xs(null);C&&qi(J,C),v&&(J.g=v),q&&ti(J,q),b&&(J.l=b),C=J}return b=d.D,v=d.ya,b&&v&&nt(C,b,v),nt(C,"VER",d.la),bs(d,C),C}function ic(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ht(new ws({eb:b})):new ht(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fl(){}t=fl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ko(){}Ko.prototype.g=function(d,v){return new Sn(d,v)};function Sn(d,v){gt.call(this),this.g=new dl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!W(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!W(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new es(this)}P(Sn,gt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Xt(this.g)},Sn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Ys(d),d=b);v.i.push(new Hu(v.Ya++,d)),v.G==3&&Zr(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,Sn.aa.N.call(this)};function oc(d){Bn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}P(oc,Bn);function ac(){ys.call(this),this.status=1}P(ac,ys);function es(d){this.g=d}P(es,fl),es.prototype.ua=function(){bt(this.g,"a")},es.prototype.ta=function(d){bt(this.g,new oc(d))},es.prototype.sa=function(d){bt(this.g,new ac)},es.prototype.ra=function(){bt(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,h_=function(){return new Ko},d_=function(){return Bi()},c_=Qr,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,vd=Do,Bu.COMPLETE="complete",u_=Bu,gs.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",gt.prototype.listen=gt.prototype.K,zl=gs,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,l_=ht}).apply(typeof nd!="undefined"?nd:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Yx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new e_("@firebase/firestore");function Ol(){return So.logLevel}function be(t,...e){if(So.logLevel<=Qe.DEBUG){const n=e.map(Xm);So.debug(`Firestore (${Ga}): ${t}`,...n)}}function Us(t,...e){if(So.logLevel<=Qe.ERROR){const n=e.map(Xm);So.error(`Firestore (${Ga}): ${t}`,...n)}}function Ra(t,...e){if(So.logLevel<=Qe.WARN){const n=e.map(Xm);So.warn(`Firestore (${Ga}): ${t}`,...n)}}function Xm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: `+t;throw Us(e),new Error(e)}function tt(t,e){t||Ne()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Wa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class RA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NA{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let l=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string"),new f_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new vn(e)}}class DA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){tt(this.o===void 0);const r=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string"),this.R=n.token,new FA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=MA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Na(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new $t(0,0))}static max(){return new Fe(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(),r===void 0?r=e.length-n:r>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends lu{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const OA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends lu{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return OA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(l(),o++)}if(l(),c)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}function BA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Ri(o,Te.empty(),e)}function $A(t){return new Ri(t.readTime,t.key,-1)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(Fe.min(),Te.empty(),-1)}static max(){return new Ri(Fe.max(),Te.empty(),-1)}}function UA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==zA)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,l=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++l,c&&l===o&&n()}),(p=>r(p)))})),c=!0,l===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next((g=>{c[m]=g,++h,h===l&&r(c)}),(g=>o(g)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function WA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jm.oe=-1;function Xd(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function GA(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:rn.RED,this.left=o!=null?o:rn.EMPTY,this.right=l!=null?l:rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new rn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,r,o,l){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new un(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new g_("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const qA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(tt(!!t),typeof t=="string"){let e=0;const n=qA.exec(t);if(tt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zm(t){const e=t.mapValue.fields.__previous_value__;return Jd(e)?Zm(e):e}function uu(t){const e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,o,l,c,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd={mapValue:{}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jd(t)?4:YA(t)?9007199254740991:QA(t)?10:11:Ne()}function hs(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ni(o.timestampValue),h=Ni(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return To(o.bytesValue).isEqual(To(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),h=It(l.doubleValue);return c===h?Rd(c)===Rd(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Na(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Xx(c)!==Xx(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!hs(c[p],h[p])))return!1;return!0})(t,e);default:return Ne()}}function du(t,e){return(t.values||[]).find((n=>hs(n,e)))!==void 0}function Da(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return Zx(t.timestampValue,e.timestampValue);case 4:return Zx(uu(t),uu(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=To(l),p=To(c);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const g=Je(h[m],p[m]);if(g!==0)return g}return Je(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Je(It(l.latitude),It(c.latitude));return h!==0?h:Je(It(l.longitude),It(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return e0(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var h,p,m,g;const w=l.fields||{},_=c.fields||{},E=(h=w.value)===null||h===void 0?void 0:h.arrayValue,P=(p=_.value)===null||p===void 0?void 0:p.arrayValue,N=Je(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:e0(E,P)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===sd.mapValue&&c===sd.mapValue)return 0;if(l===sd.mapValue)return 1;if(c===sd.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let w=0;w<p.length&&w<g.length;++w){const _=Je(p[w],g[w]);if(_!==0)return _;const E=Da(h[p[w]],m[g[w]]);if(E!==0)return E}return Je(p.length,g.length)})(t.mapValue,e.mapValue);default:throw Ne()}}function Zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Ni(t),r=Ni(e),o=Je(n.seconds,r.seconds);return o!==0?o:Je(n.nanos,r.nanos)}function e0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=Da(n[o],r[o]);if(l)return l}return Je(n.length,r.length)}function Va(t){return rm(t)}function rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ni(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return To(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=rm(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${rm(n.fields[c])}`;return o+"}"})(t.mapValue):Ne()}function Nd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sm(t){return!!t&&"integerValue"in t}function eg(t){return!!t&&"arrayValue"in t}function t0(t){return!!t&&"nullValue"in t}function n0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function QA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yl(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=an.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=Yl(c):o.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ko(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new Mn(Yl(this.value))}}function y_(t){const e=[];return ko(t.fields,((n,r)=>{const o=new an([n]);if(xd(r)){const l=y_(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,o,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new xn(e,0,Fe.min(),Fe.min(),Fe.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,o){return new xn(e,1,n,Fe.min(),r,o,0)}static newNoDocument(e,n){return new xn(e,2,n,Fe.min(),Fe.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Fe.min(),Fe.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function r0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=Te.comparator(Te.fromName(c.referenceValue),n.key):r=Da(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function XA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{}class Ft extends v_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZA(e,n,r):n==="array-contains"?new nk(e,r):n==="in"?new rk(e,r):n==="not-in"?new sk(e,r):n==="array-contains-any"?new ik(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ek(e,r):new tk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends v_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $r(e,n)}matches(e){return x_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function x_(t){return t.op==="and"}function w_(t){return JA(t)&&x_(t)}function JA(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function im(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(w_(t))return t.filters.map((e=>im(e))).join(",");{const e=t.filters.map((n=>im(n))).join(",");return`${t.op}(${e})`}}function __(t,e){return t instanceof Ft?(function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&hs(r.value,o.value)})(t,e):t instanceof $r?(function(r,o){return o instanceof $r&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,h)=>l&&__(c,o.filters[h])),!0):!1})(t,e):void Ne()}function b_(t){return t instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`})(t):t instanceof $r?(function(n){return n.op.toString()+" {"+n.getFilters().map(b_).join(" ,")+"}"})(t):"Filter"}class ZA extends Ft{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class ek extends Ft{constructor(e,n){super(e,"in",n),this.keys=S_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tk extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=S_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function S_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Te.fromName(r.referenceValue)))}class nk extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eg(n)&&du(n.arrayValue,this.value)}}class rk extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class sk extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!du(this.value.arrayValue,n)}}class ik extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n=null,r=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function i0(t,e=null,n=[],r=[],o=null,l=null,c=null){return new ok(t,e,n,r,o,l,c)}function tg(t){const e=Le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>im(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Va(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Va(r))).join(",")),e.ue=n}return e.ue}function ng(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!__(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s0(t.startAt,e.startAt)&&s0(t.endAt,e.endAt)}function om(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n=null,r=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ak(t,e,n,r,o,l,c,h){return new Gs(t,e,n,r,o,l,c,h)}function rg(t){return new Gs(t)}function o0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sg(t){return t.collectionGroup!==null}function Ia(t){const e=Le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new un(an.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new hu(l,r))})),n.has(an.keyField().canonicalString())||e.ce.push(new hu(an.keyField(),r))}return e.ce}function ls(t){const e=Le(t);return e.le||(e.le=lk(e,Ia(t))),e.le}function lk(t,e){if(t.limitType==="F")return i0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new hu(o.field,l)}));const n=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;return i0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function am(t,e){const n=t.filters.concat([e]);return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dd(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zd(t,e){return ng(ls(t),ls(e))&&t.limitType===e.limitType}function T_(t){return`${tg(ls(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>b_(o))).join(", ")}]`),Xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Va(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Va(o))).join(",")),`Target(${r})`})(ls(t))}; limitType=${t.limitType})`}function eh(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Te.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of Ia(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,p){const m=r0(c,h,p);return c.inclusive?m<=0:m<0})(r.startAt,Ia(r),o)||r.endAt&&!(function(c,h,p){const m=r0(c,h,p);return c.inclusive?m>=0:m>0})(r.endAt,Ia(r),o))})(t,e)}function uk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E_(t){return(e,n)=>{let r=!1;for(const o of Ia(t)){const l=ck(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function ck(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?Da(p,m):Ne()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return m_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new wt(Te.comparator);function zs(){return dk}const j_=new wt(Te.comparator);function Hl(...t){let e=j_;for(const n of t)e=e.insert(n.key,n);return e}function C_(t){let e=j_;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function vo(){return Xl()}function A_(){return Xl()}function Xl(){return new qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hk=new wt(Te.comparator),fk=new un(Te.comparator);function He(...t){let e=fk;for(const n of t)e=e.add(n);return e}const pk=new un(Je);function mk(){return pk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function k_(t){return{integerValue:""+t}}function gk(t,e){return GA(e)?k_(e):ig(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function yk(t,e,n){return t instanceof fu?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Jd(l)&&(l=Zm(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof pu?P_(t,e):t instanceof mu?R_(t,e):(function(o,l){const c=I_(o,l),h=a0(c)+a0(o.Pe);return sm(c)&&sm(o.Pe)?k_(h):ig(o.serializer,h)})(t,e)}function vk(t,e,n){return t instanceof pu?P_(t,e):t instanceof mu?R_(t,e):n}function I_(t,e){return t instanceof Vd?(function(r){return sm(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class fu extends th{}class pu extends th{constructor(e){super(),this.elements=e}}function P_(t,e){const n=N_(e);for(const r of t.elements)n.some((o=>hs(o,r)))||n.push(r);return{arrayValue:{values:n}}}class mu extends th{constructor(e){super(),this.elements=e}}function R_(t,e){let n=N_(e);for(const r of t.elements)n=n.filter((o=>!hs(o,r)));return{arrayValue:{values:n}}}class Vd extends th{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function a0(t){return It(t.integerValue||t.doubleValue)}function N_(t){return eg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.field=e,this.transform=n}}function wk(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof pu&&o instanceof pu||r instanceof mu&&o instanceof mu?Na(r.elements,o.elements,hs):r instanceof Vd&&o instanceof Vd?hs(r.Pe,o.Pe):r instanceof fu&&o instanceof fu})(t.transform,e.transform)}class _k{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nh{}function D_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new og(t.key,Or.none()):new ju(t.key,t.data,Or.none());{const n=t.data,r=Mn.empty();let o=new un(an.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new Li(t.key,r,new Yn(o.toArray()),Or.none())}}function bk(t,e,n){t instanceof ju?(function(o,l,c){const h=o.value.clone(),p=u0(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Li?(function(o,l,c){if(!wd(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=u0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(V_(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Jl(t,e,n,r){return t instanceof ju?(function(l,c,h,p){if(!wd(l.precondition,c))return h;const m=l.value.clone(),g=c0(l.fieldTransforms,p,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Li?(function(l,c,h,p){if(!wd(l.precondition,c))return h;const m=c0(l.fieldTransforms,p,c),g=c.data;return g.setAll(V_(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(l,c,h){return wd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function Sk(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=I_(r.transform,o||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,l))}return n||null}function l0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Na(r,o,((l,c)=>wk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends nh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Li extends nh{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function V_(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function u0(t,e,n){const r=new Map;tt(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,h=e.data.field(l.field);r.set(l.field,vk(c,h,n[o]))}return r}function c0(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,yk(l,c,e))}return r}class og extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tk extends nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&bk(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A_();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(o.key)?null:h;const p=D_(c,h);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,((n,r)=>l0(n,r)))&&Na(this.baseMutations,e.baseMutations,((n,r)=>l0(n,r)))}}class ag{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){tt(e.mutations.length===r.length);let o=(function(){return hk})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new ag(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function Ak(t){switch(t){default:return Ne();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function F_(t){if(t===void 0)return Us("GRPC error has no .code"),te.UNKNOWN;switch(t){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return Ne()}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new _o([4294967295,4294967295],0);function d0(t){const e=kk().encode(t),n=new a_;return n.update(e),new Uint8Array(n.digest())}function h0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _o([n,r],0),new _o([o,l],0)]}class lg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_o.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(_o.fromNumber(r)));return o.compare(Ik)===1&&(o=new _o([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=d0(e),[r,o]=h0(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new lg(l,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const n=d0(e),[r,o]=h0(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rh(Fe.min(),o,new wt(Je),zs(),He())}}class Cu{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class L_{constructor(e,n){this.targetId=e,this.me=n}}class M_{constructor(e,n,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class f0{constructor(){this.fe=0,this.ge=m0(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),n=He(),r=He();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ne()}})),new Cu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=m0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pk{constructor(e){this.Le=e,this.Be=new Map,this.ke=zs(),this.qe=p0(),this.Qe=new wt(Je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ne()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(om(l))if(r===0){const c=new Te(l.path);this.Ue(n,c,xn.newNoDocument(c,Fe.min()))}else tt(r===1);else{const c=this.Ye(n);if(c!==r){const h=this.Ze(e),p=h?this.Xe(h,e,c):1;if(p!==0){this.je(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,h;try{c=To(r).toUint8Array()}catch(p){if(p instanceof g_)return Ra("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new lg(c,o,l)}catch(p){return Ra(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const h=this.Je(c);if(h){if(l.current&&om(h.target)){const p=new Te(h.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,xn.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=He();this.qe.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new rh(e,n,this.Qe,this.ke,r);return this.ke=zs(),this.qe=p0(),this.Qe=new wt(Je),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new f0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new un(Je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new f0),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function p0(){return new wt(Te.comparator)}function m0(){return new wt(Te.comparator)}const Rk={asc:"ASCENDING",desc:"DESCENDING"},Nk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dk={and:"AND",or:"OR"};class Vk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function Fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fk(t,e){return Fd(t,e.toTimestamp())}function us(t){return tt(!!t),Fe.fromTimestamp((function(n){const r=Ni(n);return new $t(r.seconds,r.nanos)})(t))}function ug(t,e){return um(t,e).canonicalString()}function um(t,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function B_(t){const e=rt.fromString(t);return tt(W_(e)),e}function cm(t,e){return ug(t.databaseId,e.path)}function ap(t,e){const n=B_(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(U_(n))}function $_(t,e){return ug(t.databaseId,e)}function Lk(t){const e=B_(t);return e.length===4?rt.emptyPath():U_(e)}function dm(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U_(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g0(t,e,n){return{name:cm(t,e),fields:n.value.mapValue.fields}}function Mk(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(tt(g===void 0||typeof g=="string"),cn.fromBase64String(g||"")):(tt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),cn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?te.UNKNOWN:F_(m.code);return new pe(g,m.message||"")})(c);n=new M_(r,o,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ap(t,r.document.name),l=us(r.document.updateTime),c=r.document.createTime?us(r.document.createTime):Fe.min(),h=new Mn({mapValue:{fields:r.document.fields}}),p=xn.newFoundDocument(o,l,c,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new _d(m,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ap(t,r.document),l=r.readTime?us(r.readTime):Fe.min(),c=xn.newNoDocument(o,l),h=r.removedTargetIds||[];n=new _d([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ap(t,r.document),l=r.removedTargetIds||[];n=new _d([],l,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new Ck(o,l),h=r.targetId;n=new L_(h,c)}}return n}function Ok(t,e){let n;if(e instanceof ju)n={update:g0(t,e.key,e.value)};else if(e instanceof og)n={delete:cm(t,e.key)};else if(e instanceof Li)n={update:g0(t,e.key,e.data),updateMask:Kk(e.fieldMask)};else{if(!(e instanceof Tk))return Ne();n={verify:cm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vd)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ne()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Fk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne()})(t,e.precondition)),n}function Bk(t,e){return t&&t.length>0?(tt(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?us(o.updateTime):us(l);return c.isEqual(Fe.min())&&(c=us(l)),new _k(c,o.transformResults||[])})(n,e)))):[]}function $k(t,e){return{documents:[$_(t,e.path)]}}function Uk(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$_(t,o);const l=(function(m){if(m.length!==0)return H_($r.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:ba(_.field),direction:Wk(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=lm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:o}}function zk(t){let e=Lk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){tt(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(w){const _=z_(w);return _ instanceof $r&&w_(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((_=>(function(P){return new hu(Sa(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(w){let _;return _=typeof w=="object"?w.value:w,Xd(_)?null:_})(n.limit));let p=null;n.startAt&&(p=(function(w){const _=!!w.before,E=w.values||[];return new Fa(E,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const _=!w.before,E=w.values||[];return new Fa(E,_)})(n.endAt)),ak(e,o,c,l,h,"F",p,m)}function Hk(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sa(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sa(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sa(n.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sa(n.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}})(t):t.fieldFilter!==void 0?(function(n){return Ft.create(Sa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $r.create(n.compositeFilter.filters.map((r=>z_(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}})(n.compositeFilter.op))})(t):Ne()}function Wk(t){return Rk[t]}function Gk(t){return Nk[t]}function qk(t){return Dk[t]}function ba(t){return{fieldPath:t.canonicalString()}}function Sa(t){return an.fromServerFormat(t.fieldPath)}function H_(t){return t instanceof Ft?(function(n){if(n.op==="=="){if(n0(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NAN"}};if(t0(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n0(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NOT_NAN"}};if(t0(n.value))return{unaryFilter:{field:ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(n.field),op:Gk(n.op),value:n.value}}})(t):t instanceof $r?(function(n){const r=n.getFilters().map((o=>H_(o)));return r.length===1?r[0]:{compositeFilter:{op:qk(n.op),filters:r}}})(t):Ne()}function Kk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function W_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,o,l=Fe.min(),c=Fe.min(),h=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.ct=e}}function Yk(t){const e=zk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.un=new Jk}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ri.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new un(rt.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new un(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new La(0)}static kn(){return new La(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.changes=new qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Jl(r.mutation,o,Yn.empty(),$t.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const o=vo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=Hl();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=vo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let l=zs();const c=Xl(),h=(function(){return Xl()})();return n.forEach(((p,m)=>{const g=r.get(m.key);o.has(m.key)&&(g===void 0||g.mutation instanceof Li)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Jl(g.mutation,m,g.mutation.getFieldMask(),$t.now())):c.set(m.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>{var w;return h.set(m,new eI(g,(w=c.get(m))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,n){const r=Xl();let o=new wt(((c,h)=>c-h)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let g=r.get(p)||Yn.empty();g=h.applyToLocalView(m,g),r.set(p,g);const w=(o.get(h.batchId)||He()).add(p);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,g=p.value,w=A_();g.forEach((_=>{if(!l.has(_)){const E=D_(n.get(_),r.get(_));E!==null&&w.set(_,E),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):oe.resolve(vo());let h=-1,p=l;return c.next((m=>oe.forEach(m,((g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{p=p.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,He()))).next((g=>({batchId:h,changes:C_(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=Hl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=Hl();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(p=>{const m=(function(w,_){return new Gs(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((g=>{g.forEach(((w,_)=>{c=c.insert(w,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((p,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,xn.newInvalidDocument(g)))}));let h=Hl();return c.forEach(((p,m)=>{const g=l.get(p);g!==void 0&&Jl(g.mutation,m,Yn.empty(),$t.now()),eh(n,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:us(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:Yk(o.bundledQuery),readTime:us(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.overlays=new wt(Te.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vo();return oe.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=vo(),l=n.length+1,c=new Te(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new wt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=vo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=vo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=o)););return oe.resolve(h)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jk(n,r));let l=this.Ir.get(n);l===void 0&&(l=He(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Tr=new un(qt.Er),this.dr=new un(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Te(new rt([])),r=new qt(n,e),o=new qt(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Te(new rt([])),r=new qt(n,e),o=new qt(n,e+1);let l=He();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new qt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Te.comparator(e.key,n.key)||Je(e.wr,n.wr)}static Ar(e,n){return Je(e.wr,n.wr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new un(qt.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ek(l,n,r,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new qt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const h=this.Dr(c.wr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Je);return n.forEach((o=>{const l=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(h=>{r=r.add(h.wr)}))})),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Te.isDocumentKey(l)||(l=l.child(""));const c=new qt(new Te(l),0);let h=new un(Je);return this.br.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.wr)),!0)}),c),oe.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,(o=>{const l=new qt(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new qt(n,0),o=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.Mr=e,this.docs=(function(){return new wt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=zs();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():xn.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=zs();const c=n.path,h=new Te(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:g}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||UA($A(g),r)<=0||(o.has(g.key)||eh(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Ne()}Or(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new aI(this)}getSize(e){return oe.resolve(this.size)}}class aI extends Zk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.persistence=e,this.Nr=new qa((n=>tg(n)),ng),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cg,this.targetCount=0,this.kr=La.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new La(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),oe.waitFor(l).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jm(0),this.Kr=!1,this.Kr=!0,this.$r=new sI,this.referenceDelegate=e(this),this.Ur=new lI(this),this.indexManager=new Xk,this.remoteDocumentCache=(function(o){return new oI(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Qk(n),this.Gr=new nI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new iI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const o=new cI(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return oe.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class cI extends HA{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Jr=new cg,this.Yr=null}static Zr(e){return new dg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,(r=>{const o=Te.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Fe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=He(),o=He();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return mC()?8:WA(fC())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dI;return this.Xi(e,n,c).next((h=>{if(l.result=h,this.zi)return this.es(e,n,c,h.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(Ol()<=Qe.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(Ol()<=Qe.DEBUG&&be("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Ol()<=Qe.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):oe.resolve())}Yi(e,n){if(o0(n))return oe.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dd(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=He(...l);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.ts(n,h);return this.ns(n,m,c,p.readTime)?this.Yi(e,Dd(n,null,"F")):this.rs(e,m,n,p)}))))})))))}Zi(e,n,r,o){return o0(n)||o.isEqual(Fe.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?oe.resolve(null):(Ol()<=Qe.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_a(n)),this.rs(e,c,n,BA(o,-1)).next((h=>h)))}))}ts(e,n){let r=new un(E_(e));return n.forEach(((o,l)=>{eh(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return Ol()<=Qe.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",_a(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ri.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new wt(Je),this._s=new qa((l=>tg(l)),ng),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function pI(t,e,n,r){return new fI(t,e,n,r)}async function G_(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let p=He();for(const m of o){c.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}return n.localDocuments.getDocuments(r,p).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function mI(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,g){const w=m.batch,_=w.keys();let E=oe.resolve();return _.forEach((P=>{E=E.next((()=>g.getEntry(p,P))).next((N=>{const k=m.docVersions.get(P);tt(k!==null),N.version.compareTo(k)<0&&(w.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),g.addEntry(N)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(p,w)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=He();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function q_(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function gI(t,e){const n=Le(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];e.targetChanges.forEach(((g,w)=>{const _=o.get(w);if(!_)return;h.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,w))));let E=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?E=E.withResumeToken(cn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),o=o.insert(w,E),(function(N,k,$){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(_,E,g)&&h.push(n.Ur.updateTargetData(l,E))}));let p=zs(),m=He();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(yI(l,c,e.documentUpdates).next((g=>{p=g.Ps,m=g.Is}))),!r.isEqual(Fe.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(g)}return oe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.os=o,l)))}function yI(t,e,n){let r=He(),o=He();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=zs();return n.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function vI(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xI(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,oe.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new Ai(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function hm(t,e,n){const r=Le(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Eu(c))throw c;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function y0(t,e,n){const r=Le(t);let o=Fe.min(),l=He();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,g){const w=Le(p),_=w._s.get(g);return _!==void 0?oe.resolve(w.os.get(_)):w.Ur.getTargetData(m,g)})(r,c,ls(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:Fe.min(),n?l:He()))).next((h=>(wI(r,uk(e),h),{documents:h,Ts:l})))))}function wI(t,e,n){let r=t.us.get(e)||Fe.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class v0{constructor(){this.activeTargetIds=mk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _I{constructor(){this.so=new v0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new v0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id=null;function lp(){return id===null?id=(function(){return 268435456+Math.round(2147483648*Math.random())})():id++,"0x"+id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class EI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const h=lp(),p=this.xo(n,r.toUriEncodedString());be("RestConnection",`Sending RPC '${n}' ${h}:`,p,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,l,c),this.No(n,p,m,o).then((g=>(be("RestConnection",`Received RPC '${n}' ${h}: `,g),g)),(g=>{throw Ra("RestConnection",`RPC '${n}' ${h} failed with error: `,g,"url: ",p,"request:",o),g}))}Lo(n,r,o,l,c,h){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ga})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=SI[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=lp();return new Promise(((c,h)=>{const p=new l_;p.setWithCredentials(!0),p.listenOnce(u_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case vd.NO_ERROR:const g=p.getResponseJson();be(gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case vd.TIMEOUT:be(gn,`RPC '${e}' ${l} timed out`),h(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const w=p.getStatus();if(be(gn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const P=(function(k){const $=k.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN})(E.status);h(new pe(P,E.message))}else h(new pe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{be(gn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(o);be(gn,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",m,r,15)}))}Bo(e,n,r){const o=lp(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=h_(),h=d_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const g=l.join("");be(gn,`Creating RPC '${e}' stream ${o}: ${g}`,p);const w=c.createWebChannel(g,p);let _=!1,E=!1;const P=new TI({Io:k=>{E?be(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(_||(be(gn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),_=!0),be(gn,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},To:()=>w.close()}),N=(k,$,W)=>{k.listen($,(L=>{try{W(L)}catch(G){setTimeout((()=>{throw G}),0)}}))};return N(w,zl.EventType.OPEN,(()=>{E||(be(gn,`RPC '${e}' stream ${o} transport opened.`),P.yo())})),N(w,zl.EventType.CLOSE,(()=>{E||(E=!0,be(gn,`RPC '${e}' stream ${o} transport closed`),P.So())})),N(w,zl.EventType.ERROR,(k=>{E||(E=!0,Ra(gn,`RPC '${e}' stream ${o} transport errored:`,k),P.So(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),N(w,zl.EventType.MESSAGE,(k=>{var $;if(!E){const W=k.data[0];tt(!!W);const L=W,G=L.error||(($=L[0])===null||$===void 0?void 0:$.error);if(G){be(gn,`RPC '${e}' stream ${o} received error:`,G);const H=G.status;let Y=(function(A){const D=Dt[A];if(D!==void 0)return F_(D)})(H),j=G.message;Y===void 0&&(Y=te.INTERNAL,j="Unknown error status: "+H+" with message "+G.message),E=!0,P.So(new pe(Y,j)),w.close()}else be(gn,`RPC '${e}' stream ${o} received:`,W),P.bo(W)}})),N(h,c_.STAT_EVENT,(k=>{k.stat===nm.PROXY?be(gn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===nm.NOPROXY&&be(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.wo()}),0),P}}function up(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new Vk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,o,l,c,h,p){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new K_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends Q_{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Mk(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Fe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?us(c.readTime):Fe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=dm(this.serializer),n.addTarget=(function(l,c){let h;const p=c.target;if(h=om(p)?{documents:$k(l,p)}:{query:Uk(l,p)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=O_(l,c.resumeToken);const m=lm(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Fe.min())>0){h.readTime=Fd(l,c.snapshotVersion.toTimestamp());const m=lm(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=Hk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=dm(this.serializer),n.removeTarget=e,this.a_(n)}}class CI extends Q_{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Bk(e.writeResults,e.commitTime),r=us(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=dm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ok(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,um(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(te.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,um(n,r),o,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(te.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class kI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Us(n),this.D_=!1):be("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{Io(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const m=Le(p);m.L_.add(4),await Au(m),m.q_.set("Unknown"),m.L_.delete(4),await ih(m)})(this))}))})),this.q_=new kI(r,o)}}async function ih(t){if(Io(t))for(const e of t.B_)await e(!0)}async function Au(t){for(const e of t.B_)await e(!1)}function Y_(t,e){const n=Le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),gg(n)?mg(n):Ka(n).r_()&&pg(n,e))}function fg(t,e){const n=Le(t),r=Ka(n);n.N_.delete(e),r.r_()&&X_(n,e),n.N_.size===0&&(r.r_()?r.o_():Io(n)&&n.q_.set("Unknown"))}function pg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).A_(e)}function X_(t,e){t.Q_.xe(e),Ka(t).R_(e)}function mg(t){t.Q_=new Pk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.q_.v_()}function gg(t){return Io(t)&&!Ka(t).n_()&&t.N_.size>0}function Io(t){return Le(t).L_.size===0}function J_(t){t.Q_=void 0}async function PI(t){t.q_.set("Online")}async function RI(t){t.N_.forEach(((e,n)=>{pg(t,e)}))}async function NI(t,e){J_(t),gg(t)?(t.q_.M_(e),mg(t)):t.q_.set("Unknown")}async function DI(t,e,n){if(t.q_.set("Online"),e instanceof M_&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const h of l.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ld(t,r)}else if(e instanceof _d?t.Q_.Ke(e):e instanceof L_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Fe.min()))try{const r=await q_(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const h=l.Q_.rt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=l.N_.get(m);g&&l.N_.set(m,g.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const g=l.N_.get(p);if(!g)return;l.N_.set(p,g.withResumeToken(cn.EMPTY_BYTE_STRING,g.snapshotVersion)),X_(l,p);const w=new Ai(g.target,p,m,g.sequenceNumber);pg(l,w)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await Ld(t,r)}}async function Ld(t,e,n){if(!Eu(e))throw e;t.L_.add(1),await Au(t),t.q_.set("Offline"),n||(n=()=>q_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ih(t)}))}function Z_(t,e){return e().catch((n=>Ld(t,n,e)))}async function oh(t){const e=Le(t),n=Di(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VI(e);)try{const o=await vI(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,FI(e,o)}catch(o){await Ld(e,o)}eb(e)&&tb(e)}function VI(t){return Io(t)&&t.O_.length<10}function FI(t,e){t.O_.push(e);const n=Di(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eb(t){return Io(t)&&!Di(t).n_()&&t.O_.length>0}function tb(t){Di(t).start()}async function LI(t){Di(t).p_()}async function MI(t){const e=Di(t);for(const n of t.O_)e.m_(n.mutations)}async function OI(t,e,n){const r=t.O_.shift(),o=ag.from(r,e,n);await Z_(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await oh(t)}async function BI(t,e){e&&Di(t).V_&&await(async function(r,o){if((function(c){return Ak(c)&&c!==te.ABORTED})(o.code)){const l=r.O_.shift();Di(r).s_(),await Z_(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await oh(r)}})(t,e),eb(t)&&tb(t)}async function w0(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=Io(n);n.L_.add(3),await Au(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ih(n)}async function $I(t,e){const n=Le(t);e?(n.L_.delete(2),await ih(n)):e||(n.L_.add(2),await Au(n),n.q_.set("Unknown"))}function Ka(t){return t.K_||(t.K_=(function(n,r,o){const l=Le(n);return l.w_(),new jI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:PI.bind(null,t),Ro:RI.bind(null,t),mo:NI.bind(null,t),d_:DI.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),gg(t)?mg(t):t.q_.set("Unknown")):(await t.K_.stop(),J_(t))}))),t.K_}function Di(t){return t.U_||(t.U_=(function(n,r,o){const l=Le(n);return l.w_(),new CI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:LI.bind(null,t),mo:BI.bind(null,t),f_:MI.bind(null,t),g_:OI.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await oh(t)):(await t.U_.stop(),t.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,h=new yg(e,n,c,o,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(t,e){if(Us("AsyncQueue",`${e}: ${t}`),Eu(t))return new pe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Hl(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new Pa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.W_=new wt(Te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ma{constructor(e,n,r,o,l,c,h,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Ma(e,n,Pa.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class zI{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Le(n),l=o.queries;o.queries=b0(),l.forEach(((c,h)=>{for(const p of h.j_)p.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function b0(){return new qa((t=>T_(t)),Zd)}async function nb(t,e){const n=Le(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new UI,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=vg(c,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&xg(n)}async function rb(t,e){const n=Le(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HI(t,e){const n=Le(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const h of c.j_)h.X_(o)&&(r=!0);c.z_=o}}r&&xg(n)}function WI(t,e,n){const r=Le(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function xg(t){t.Y_.forEach((e=>{e.next()}))}var fm,S0;(S0=fm||(fm={})).ea="default",S0.Cache="cache";class sb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.key=e}}class ob{constructor(e){this.key=e}}class GI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=E_(e),this.Ra=new Pa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new _0,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,w)=>{const _=o.get(g),E=eh(this.query,w)?w:null,P=!!_&&this.mutatedKeys.has(_.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;_&&E?_.data.isEqual(E.data)?P!==N&&(r.track({type:3,doc:E}),k=!0):this.ga(_,E)||(r.track({type:2,doc:E}),k=!0,(p&&this.Aa(E,p)>0||m&&this.Aa(E,m)<0)&&(h=!0)):!_&&E?(r.track({type:0,doc:E}),k=!0):_&&!E&&(r.track({type:1,doc:_}),k=!0,(p||m)&&(h=!0)),k&&(E?(c=c.add(E),l=N?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:h,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,w)=>(function(E,P){const N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return N(E)-N(P)})(g.type,w.type)||this.Aa(g.doc,w.doc))),this.pa(r),o=o!=null&&o;const h=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,m=p!==this.Ea;return this.Ea=p,c.length!==0||m?{snapshot:new Ma(this.query,e.Ra,l,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=He(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new ob(r))})),this.da.forEach((r=>{e.has(r)||n.push(new ib(r))})),n}ba(e){this.Ta=e.Ts,this.da=He();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ma.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KI{constructor(e){this.key=e,this.va=!1}}class QI{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new qa((h=>T_(h)),Zd),this.Ma=new Map,this.xa=new Set,this.Oa=new wt(Te.comparator),this.Na=new Map,this.La=new cg,this.Ba={},this.ka=new Map,this.qa=La.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YI(t,e,n=!0){const r=hb(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await ab(r,e,n,!0),o}async function XI(t,e){const n=hb(t);await ab(n,e,!0,!1)}async function ab(t,e,n,r){const o=await xI(t.localStore,ls(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await JI(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Y_(t.remoteStore,o),h}async function JI(t,e,n,r,o){t.Ka=(w,_,E)=>(async function(N,k,$,W){let L=k.view.ma($);L.ns&&(L=await y0(N.localStore,k.query,!1).then((({documents:j})=>k.view.ma(j,L))));const G=W&&W.targetChanges.get(k.targetId),H=W&&W.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(L,N.isPrimaryClient,G,H);return E0(N,k.targetId,Y.wa),Y.snapshot})(t,w,_,E);const l=await y0(t.localStore,e,!0),c=new GI(e,l.Ts),h=c.ma(l.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=c.applyChanges(h,t.isPrimaryClient,p);E0(t,n,m.wa);const g=new qI(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function ZI(t,e,n){const r=Le(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!Zd(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&fg(r.remoteStore,o.targetId),pm(r,o.targetId)})).catch(Tu)):(pm(r,o.targetId),await hm(r.localStore,o.targetId,!0))}async function eP(t,e){const n=Le(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function tP(t,e,n){const r=lP(t);try{const o=await(function(c,h){const p=Le(c),m=$t.now(),g=h.reduce(((E,P)=>E.add(P.key)),He());let w,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let P=zs(),N=He();return p.cs.getEntries(E,g).next((k=>{P=k,P.forEach((($,W)=>{W.isValidDocument()||(N=N.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(E,P))).next((k=>{w=k;const $=[];for(const W of h){const L=Sk(W,w.get(W.key).overlayedDocument);L!=null&&$.push(new Li(W.key,L,y_(L.value.mapValue),Or.exists(!0)))}return p.mutationQueue.addMutationBatch(E,m,$,h)})).next((k=>{_=k;const $=k.applyToLocalDocumentSet(w,N);return p.documentOverlayCache.saveOverlays(E,k.batchId,$)}))})).then((()=>({batchId:_.batchId,changes:C_(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let m=c.Ba[c.currentUser.toKey()];m||(m=new wt(Je)),m=m.insert(h,p),c.Ba[c.currentUser.toKey()]=m})(r,o.batchId,n),await ku(r,o.changes),await oh(r.remoteStore)}catch(o){const l=vg(o,"Failed to persist write");n.reject(l)}}async function lb(t,e){const n=Le(t);try{const r=await gI(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?tt(c.va):o.removedDocuments.size>0&&(tt(c.va),c.va=!1))})),await ku(n,r,e)}catch(r){await Tu(r)}}function T0(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Le(c);p.onlineState=h;let m=!1;p.queries.forEach(((g,w)=>{for(const _ of w.j_)_.Z_(h)&&(m=!0)})),m&&xg(p)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nP(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new wt(Te.comparator);c=c.insert(l,xn.newNoDocument(l,Fe.min()));const h=He().add(l),p=new rh(Fe.min(),new Map,new wt(Je),c,h);await lb(r,p),r.Oa=r.Oa.remove(l),r.Na.delete(e),wg(r)}else await hm(r.localStore,e,!1).then((()=>pm(r,e,n))).catch(Tu)}async function rP(t,e){const n=Le(t),r=e.batch.batchId;try{const o=await mI(n.localStore,e);cb(n,r,null),ub(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,o)}catch(o){await Tu(o)}}async function sP(t,e,n){const r=Le(t);try{const o=await(function(c,h){const p=Le(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return p.mutationQueue.lookupMutationBatch(m,h).next((w=>(tt(w!==null),g=w.keys(),p.mutationQueue.removeMutationBatch(m,w)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>p.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);cb(r,e,n),ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,o)}catch(o){await Tu(o)}}function ub(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function cb(t,e,n){const r=Le(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||db(t,r)}))}function db(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(fg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wg(t))}function E0(t,e,n){for(const r of n)r instanceof ib?(t.La.addReference(r.key,e),iP(t,r)):r instanceof ob?(be("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||db(t,r.key)):Ne()}function iP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(be("SyncEngine","New document in limbo: "+n),t.xa.add(r),wg(t))}function wg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Te(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new KI(n)),t.Oa=t.Oa.insert(n,r),Y_(t.remoteStore,new Ai(ls(rg(n.path)),r,"TargetPurposeLimboResolution",Jm.oe))}}async function ku(t,e,n){const r=Le(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((h,p)=>{c.push(r.Ka(p,e,n).then((m=>{var g;if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(p.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=hg.Wi(p.targetId,m);l.push(w)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(p,m){const g=Le(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(m,(_=>oe.forEach(_.$i,(E=>g.persistence.referenceDelegate.addReference(w,_.targetId,E))).next((()=>oe.forEach(_.Ui,(E=>g.persistence.referenceDelegate.removeReference(w,_.targetId,E)))))))))}catch(w){if(!Eu(w))throw w;be("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const _=w.targetId;if(!w.fromCache){const E=g.os.get(_),P=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(P);g.os=g.os.insert(_,N)}}})(r.localStore,l))}async function oP(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await G_(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((h=>{h.forEach((p=>{p.reject(new pe(te.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.hs)}}function aP(t,e){const n=Le(t),r=n.Na.get(e);if(r&&r.va)return He().add(r.key);{let o=He();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const h=n.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function hb(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nP.bind(null,e),e.Ca.d_=HI.bind(null,e.eventManager),e.Ca.$a=WI.bind(null,e.eventManager),e}function lP(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sP.bind(null,e),e}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return pI(this.persistence,new hI,e.initialUser,this.serializer)}Ga(e){return new uI(dg.Zr,this.serializer)}Wa(e){return new _I}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oP.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zI})()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),r=(function(l){return new EI(l)})(e.databaseInfo);return(function(l,c,h,p){return new AI(l,c,h,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,h){return new II(r,o,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>T0(this.syncEngine,n,0)),(function(){return x0.D()?new x0:new bI})())}createSyncEngine(e,n){return(function(o,l,c,h,p,m,g){const w=new QI(o,l,c,h,p,m);return g&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Le(o);be("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Au(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=p_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{be("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await G_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function j0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cP(t);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>w0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>w0(e.remoteStore,o))),t._onlineComponents=e}async function cP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ra("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new Md)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await cp(t,new Md);return t._offlineComponents}async function pb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await j0(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await j0(t,new mm))),t._onlineComponents}function dP(t){return pb(t).then((e=>e.syncEngine))}async function mb(t){const e=await pb(t),n=e.eventManager;return n.onListen=YI.bind(null,e.syncEngine),n.onUnlisten=ZI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eP.bind(null,e.syncEngine),n}function hP(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const g=new fb({next:_=>{g.Za(),c.enqueueAndForget((()=>rb(l,w)));const E=_.docs.has(h);!E&&_.fromCache?m.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&p&&p.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),w=new sb(rg(h.path),g,{includeMetadataChanges:!0,_a:!0});return nb(l,w)})(await mb(t),t.asyncQueue,e,n,r))),r.promise}function fP(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const g=new fb({next:_=>{g.Za(),c.enqueueAndForget((()=>rb(l,w))),_.fromCache&&p.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),w=new sb(h,g,{includeMetadataChanges:!0,_a:!0});return nb(l,w)})(await mb(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e,n){if(!n)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pP(t,e,n,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A0(t){if(!Te.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(Te.isDocumentKey(t))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function jo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(t);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mP(t,e){if(e<=0)throw new pe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iu{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new PA;switch(r.type){case"firstParty":return new VA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=C0.get(n);r&&(be("ComponentProvider","Removing Datastore"),C0.delete(n),r.terminate())})(this),Promise.resolve()}}function gP(t,e,n,r={}){var o;const l=(t=jo(t,Iu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=vn.MOCK_USER;else{h=hC(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new vn(m)}t._authCredentials=new RA(new f_(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Pi extends zr{constructor(e,n,r){super(e,n,rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Te(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function yb(t,e,...n){if(t=Br(t),_g("collection","path",e),t instanceof Iu){const r=rt.fromString(e,...n);return k0(r),new Pi(t,null,r)}{if(!(t instanceof Xn||t instanceof Pi))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return k0(r),new Pi(t.firestore,null,r)}}function yP(t,e){if(t=jo(t,Iu),_g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zr(t,null,(function(r){return new Gs(rt.emptyPath(),r)})(e))}function pr(t,e,...n){if(t=Br(t),arguments.length===1&&(e=p_.newId()),_g("doc","path",e),t instanceof Iu){const r=rt.fromString(e,...n);return A0(r),new Xn(t,null,new Te(r))}{if(!(t instanceof Xn||t instanceof Pi))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return A0(r),new Xn(t.firestore,t instanceof Pi?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new K_(this,"async_queue_retry"),this.Vu=()=>{const r=up();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Fs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Eu(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(r);throw Us("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class lh extends Iu{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new P0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P0(e),this._firestoreClient=void 0,await e}}}function vP(t,e){const n=typeof t=="object"?t:s_(),r=typeof t=="string"?t:"(default)",o=yA(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=cC("firestore");l&&gP(o,...l)}return o}function uh(t){if(t._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xP(t),t._firestoreClient}function xP(t){var e,n,r;const o=t._freezeSettings(),l=(function(h,p,m,g){return new KA(h,p,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gb(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new uP(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(cn.fromBase64String(e))}catch(n){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=/^__.*__$/;class _P{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class vb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Tg{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Od(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xb(this.Cu)&&wP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sh(e)}Qu(e,n,r,o=!1){return new Tg({Cu:e,methodName:n,qu:r,path:an.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new bP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SP(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);Cg("Data must be an object, but it was:",c,r);const h=_b(r,c);let p,m;if(l.merge)p=new Yn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const w of l.mergeFields){const _=gm(e,w,n);if(!c.contains(_))throw new pe(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Sb(g,_)||g.push(_)}p=new Yn(g),m=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,m=c.fieldTransforms;return new _P(new Mn(h),p,m)}class hh extends dh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}class jg extends dh{_toFieldTransform(e){return new xk(e.path,new fu)}isEqual(e){return e instanceof jg}}function TP(t,e,n,r){const o=t.Qu(1,e,n);Cg("Data must be an object, but it was:",o,r);const l=[],c=Mn.empty();ko(r,((p,m)=>{const g=Ag(e,p,n);m=Br(m);const w=o.Nu(g);if(m instanceof hh)l.push(g);else{const _=Pu(m,w);_!=null&&(l.push(g),c.set(g,_))}}));const h=new Yn(l);return new vb(c,h,o.fieldTransforms)}function EP(t,e,n,r,o,l){const c=t.Qu(1,e,n),h=[gm(e,r,n)],p=[o];if(l.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(gm(e,l[_])),p.push(l[_+1]);const m=[],g=Mn.empty();for(let _=h.length-1;_>=0;--_)if(!Sb(m,h[_])){const E=h[_];let P=p[_];P=Br(P);const N=c.Nu(E);if(P instanceof hh)m.push(E);else{const k=Pu(P,N);k!=null&&(m.push(E),g.set(E,k))}}const w=new Yn(m);return new vb(g,w,c.fieldTransforms)}function wb(t,e,n,r=!1){return Pu(n,t.Qu(r?4:3,e))}function Pu(t,e){if(bb(t=Br(t)))return Cg("Unsupported field value:",e,t),_b(t,e);if(t instanceof dh)return(function(r,o){if(!xb(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const h of r){let p=Pu(h,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Br(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gk(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=$t.fromDate(r);return{timestampValue:Fd(o.serializer,l)}}if(r instanceof $t){const l=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(o.serializer,l)}}if(r instanceof bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:O_(o.serializer,r._byteString)};if(r instanceof Xn){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ug(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Sg)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return ig(h.serializer,p)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${ah(r)}`)})(t,e)}function _b(t,e){const n={};return m_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,((r,o)=>{const l=Pu(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function bb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof bg||t instanceof Oa||t instanceof Xn||t instanceof dh||t instanceof Sg)}function Cg(t,e,n){if(!bb(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=ah(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function gm(t,e,n){if((e=Br(e))instanceof ch)return e._internalPath;if(typeof e=="string")return Ag(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,n)}const jP=new RegExp("[~\\*/\\[\\]]");function Ag(t,e,n){if(e.search(jP)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ch(...e.split("."))._internalPath}catch(r){throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Od(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new pe(te.INVALID_ARGUMENT,h+t+p)}function Sb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CP extends kg{data(){return super.data()}}function fh(t,e){return typeof e=="string"?Ag(t,e):e instanceof ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class Ru extends Ig{}function Ei(t,e,...n){let r=[];e instanceof Ig&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((p=>p instanceof Pg)).length,h=l.filter((p=>p instanceof ph)).length;if(c>1||c>0&&h>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class ph extends Ru{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ph(e,n,r)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new zr(e.firestore,e.converter,am(e._query,n))}_parse(e){const n=Eg(e.firestore);return(function(l,c,h,p,m,g,w){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){N0(w,g);const E=[];for(const P of w)E.push(R0(p,l,P));_={arrayValue:{values:E}}}else _=R0(p,l,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||N0(w,g),_=wb(h,c,w,g==="in"||g==="not-in");return Ft.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bd(t,e,n){const r=e,o=fh("where",t);return ph._create(o,r,n)}class Pg extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const h=l.getFlattenedFilters();for(const p of h)Eb(c,p),c=am(c,p)})(e._query,n),new zr(e.firestore,e.converter,am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends Ru{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(l,c)})(e._query,this._field,this._direction);return new zr(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Gs(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function od(t,e="asc"){const n=e,r=fh("orderBy",t);return Rg._create(r,n)}class Ng extends Ru{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ng(e,n,r)}_apply(e){return new zr(e.firestore,e.converter,Dd(e._query,this._limit,this._limitType))}}function ji(t){return mP("limit",t),Ng._create("limit",t,"F")}class Dg extends Ru{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Dg(e,n,r)}_apply(e){const n=Tb(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,(function(o,l){return new Gs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function ad(...t){return Dg._create("startAt",t,!0)}class Vg extends Ru{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Vg(e,n,r)}_apply(e){const n=Tb(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,(function(o,l){return new Gs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function ld(...t){return Vg._create("endAt",t,!0)}function Tb(t,e,n,r){if(n[0]=Br(n[0]),n[0]instanceof kg)return(function(l,c,h,p,m){if(!p)throw new pe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const w of Ia(l))if(w.field.isKeyField())g.push(Nd(c,p.key));else{const _=p.data.field(w.field);if(Jd(_))throw new pe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=w.field.canonicalString();throw new pe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(_)}return new Fa(g,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Eg(t.firestore);return(function(c,h,p,m,g,w){const _=c.explicitOrderBy;if(g.length>_.length)throw new pe(te.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let P=0;P<g.length;P++){const N=g[P];if(_[P].field.isKeyField()){if(typeof N!="string")throw new pe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof N}`);if(!sg(c)&&N.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${N}' contains a slash.`);const k=c.path.child(rt.fromString(N));if(!Te.isDocumentKey(k))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const $=new Te(k);E.push(Nd(h,$))}else{const k=wb(p,m,N);E.push(k)}}return new Fa(E,w)})(t._query,t.firestore._databaseId,o,e,n,r)}}function R0(t,e,n){if(typeof(n=Br(n))=="string"){if(n==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sg(e)&&n.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!Te.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nd(t,new Te(r))}if(n instanceof Xn)return Nd(t,n._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function N0(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(t,e){const n=(function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kP{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>It(c.doubleValue)));return new Sg(l)}convertGeoPoint(e){return new bg(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);tt(W_(r));const o=new cu(r.get(1),r.get(3)),l=new Te(r.popFirst(5));return o.isEqual(n)||Us(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jb extends kg{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends jb{data(e={}){return super.data(e)}}class PP{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new Sd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Gl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Sd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Gl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:RP(h.type),doc:p,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){t=jo(t,Xn);const e=jo(t.firestore,lh);return hP(uh(e),t._key).then((n=>DP(e,t,n)))}class Cb extends kP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function Ci(t){t=jo(t,zr);const e=jo(t.firestore,lh),n=uh(e),r=new Cb(e);return AP(t._query),fP(n,t._query).then((o=>new PP(e,r,t,o)))}function NP(t,e){return(function(r,o){const l=new Fs;return r.asyncQueue.enqueueAndForget((async()=>tP(await dP(r),o,l))),l.promise})(uh(t),e)}function DP(t,e,n){const r=n.docs.get(e._key),o=new Cb(t);return new jb(t,o,e._key,r,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Eg(e)}set(e,n,r){this._verifyNotCommitted();const o=dp(e,this._firestore),l=IP(o.converter,n,r),c=SP(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,Or.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=dp(e,this._firestore);let c;return c=typeof(n=Br(n))=="string"||n instanceof ch?EP(this._dataReader,"WriteBatch.update",l._key,n,r,o):TP(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=dp(e,this._firestore);return this._mutations=this._mutations.concat(new og(n._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dp(t,e){if((t=Br(t)).firestore!==e)throw new pe(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function bi(){return new jg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){return uh(t=jo(t,lh)),new VP(t,(e=>NP(t,e)))}(function(e,n=!0){(function(o){Ga=o})(wA),Pd(new iu("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new lh(new NA(r.getProvider("auth-internal")),new LA(r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(m.options.projectId,g)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ka(Yx,"4.7.3",e),ka(Yx,"4.7.3","esm2017")})();var LP="firebase",MP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(LP,MP,"app");const Fg={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Fg.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const OP=_A().length?s_():r_(Fg),sn=vP(OP);console.log("[FB] projectId =",Fg.projectId);const Fr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Lr=t=>`https://drive.google.com/uc?export=view&id=${t}`,Ab=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Hs=[{key:"warrior",label:"Warrior",iconUrl:Lr(Fr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Lr(Fr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Lr(Fr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Lr(Fr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Lr(Fr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Lr(Fr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Lr(Fr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Lr(Fr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Lr(Fr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Lr(Fr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Lr(Fr.paladin),fallback:""}],ym=Object.fromEntries(Hs.map(t=>[t.key,t])),vm=new Map;function _t(t,e){vm.set(Ab(t),e)}for(const t of Hs)_t(t.key,t.key),_t(t.label,t.key);_t("war","warrior");_t("krieger","warrior");_t("magier","mage");_t("jaeger","scout");_t("jger","scout");_t("assa","assassin");_t("meuchelmoerder","assassin");_t("meuchelmrder","assassin");_t("demonhunter","demon-hunter");_t("dh","demon-hunter");_t("daemonenjaeger","demon-hunter");_t("dmonenjger","demon-hunter");_t("zerker","berserker");_t("battlemage","battle-mage");_t("kampfmagier","battle-mage");_t("bm","battle-mage");_t("druide","druid");_t("barde","bard");_t("necro","necromancer");_t("nekromant","necromancer");_t("pala","paladin");function BP(t){const e=Ab(t);if(!e)return{};const n=vm.get(e);if(n){const r=ym[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of vm.entries())if(r.startsWith(e)||e.startsWith(r)){const l=ym[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const $P=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Hs,CLASS_BY_KEY:ym,iconForClassName:BP},Symbol.toStringTag,{value:"Module"}));function Lg(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function xm(t){if(!t)return;const e=Lg(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function kb(t,e=64){if(!t)return;const n=Lg(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function Ib(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function Pb(t,e,n,r){const o=xm(t);return o?Ib(o,{w:e,h:n,fit:r}):void 0}function Nu(t,e=64){const n=kb(t,e);return n?Ib(n,{w:e,h:e,fit:"contain"}):void 0}const UP=Object.assign(t=>xm(t),{id:Lg,direct:xm,thumb:kb,proxy:Pb,thumbProxy:Nu}),hp=t=>Number.isFinite(t),ga=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},zP=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function HP(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=Hs.find(l=>n(l.label)===r);if(o||(o=Hs.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return Nu(o.iconUrl,e)}function WP(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function GP({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=Ao(),[r,o]=De.useState(""),[l,c]=De.useState(""),[h,p]=De.useState(!1),[m,g]=De.useState(null),[w,_]=De.useState([]),[E,P]=De.useState([]),[N,k]=De.useState([]),[$,W]=De.useState(-1),L=De.useRef(null);De.useEffect(()=>{const j=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(j)},[r]),De.useEffect(()=>{async function j(){g(null);const T=l;if(T.length<1){_([]),P([]),k([]),W(-1);return}p(!0);try{let A=function(ke){var Be,Pt,Qt,Lt,jt,On,er,lt,ps,yr,Cn,An,Hr,vr,xr,Wr,gt,bt,tr,qs,wr,Gr,qr,Ks,Qs,Ys,Xs,Js,Kr,ms,gs,_n,Bn,ys;const me=ke.data(),{root:Ee,id:Me}=WP(ke),Ve=Me||me.playerId||me.guildIdentifier||"";if(Ee==="players"||me.playerId&&!me.guildIdentifier){if(!Ve||he.has(Ve))return;he.add(Ve),we.push({kind:"player",id:Ve,name:(Qt=(Pt=me.name)!=null?Pt:(Be=me.values)==null?void 0:Be.Name)!=null?Qt:null,nameFold:(Lt=me.nameFold)!=null?Lt:null,server:(er=(On=me.server)!=null?On:(jt=me.values)==null?void 0:jt.Server)!=null?er:null,guildName:(yr=(ps=me.guildName)!=null?ps:(lt=me.values)==null?void 0:lt.Guild)!=null?yr:null,className:(Hr=(An=me.className)!=null?An:(Cn=me.values)==null?void 0:Cn.Class)!=null?Hr:null,level:ga((xr=me.level)!=null?xr:(vr=me.values)==null?void 0:vr.Level),ts:ga(me.timestamp)});return}if(Ee==="guilds"||me.guildIdentifier&&!me.playerId){if(!Ve||je.has(Ve))return;je.add(Ve),ue.push({kind:"guild",id:Ve,name:(bt=(gt=me.name)!=null?gt:(Wr=me.values)==null?void 0:Wr.Name)!=null?bt:null,nameFold:(tr=me.nameFold)!=null?tr:null,server:(Gr=(wr=me.server)!=null?wr:(qs=me.values)==null?void 0:qs.Server)!=null?Gr:null,memberCount:ga((Ys=(Ks=me.memberCount)!=null?Ks:(qr=me.values)==null?void 0:qr["Guild Member Count"])!=null?Ys:(Qs=me.values)==null?void 0:Qs.GuildMemberCount),hofRank:ga((ys=(_n=(ms=(Js=me.hofRank)!=null?Js:(Xs=me.values)==null?void 0:Xs["Hall of Fame Rank"])!=null?ms:(Kr=me.values)==null?void 0:Kr.HoF)!=null?_n:(gs=me.values)==null?void 0:gs.Rank)!=null?ys:(Bn=me.values)==null?void 0:Bn["Guild Rank"]),ts:ga(me.timestamp)});return}};const D=zP(T),F=yP(sn,"latest"),M=await Ci(Ei(F,od("nameFold"),ad(D),ld(D+""),ji(e*6))),I=await Ci(Ei(F,bd("nameNgrams","array-contains",D),ji(e*6))),he=new Set,je=new Set,we=[],ue=[];M.forEach(A),I.forEach(A);const ne=yb(sn,"servers"),fe=T.toLowerCase(),le=T.toUpperCase(),z=[Ci(Ei(ne,od("displayName"),ad(T),ld(T+""),ji(e*4))),Ci(Ei(ne,od("code"),ad(le),ld(le+""),ji(e*4))),Ci(Ei(ne,od("host"),ad(fe),ld(fe+""),ji(e*4)))],Z=await Promise.allSettled(z),ve=new Set,Pe=[];for(const ke of Z)ke.status==="fulfilled"&&ke.value.forEach(me=>{var Ve,Be,Pt,Qt,Lt;const Ee=me.data(),Me=me.id;!Me||ve.has(Me)||(ve.add(Me),Pe.push({kind:"server",id:Me,displayName:(Ve=Ee.displayName)!=null?Ve:null,code:(Be=Ee.code)!=null?Be:null,host:(Pt=Ee.host)!=null?Pt:null,region:(Qt=Ee.region)!=null?Qt:null,type:(Lt=Ee.type)!=null?Lt:null,numericId:ga(Ee.numericId),active:typeof Ee.active=="boolean"?Ee.active:null}))});_(we.slice(0,e)),P(ue.slice(0,e)),k(Pe.slice(0,e)),W(we.length+ue.length+Pe.length?0:-1)}catch(A){g((A==null?void 0:A.message)||"Unbekannter Fehler bei der Suche."),_([]),P([]),k([]),W(-1)}finally{p(!1)}}return j(),()=>{}},[l,e]),De.useEffect(()=>{const j=T=>{L.current&&(L.current.contains(T.target)||(_([]),P([]),k([]),W(-1)))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const G=[...w,...E,...N],H=j=>{j.kind==="player"?n(`/player/${encodeURIComponent(j.id)}`):j.kind==="guild"?n(`/guild/${encodeURIComponent(j.id)}`):n(`/server/${encodeURIComponent(j.id)}`),_([]),P([]),k([]),W(-1),o("")},Y=j=>{if(G.length)if(j.key==="ArrowDown")j.preventDefault(),W(T=>(T+1)%G.length);else if(j.key==="ArrowUp")j.preventDefault(),W(T=>(T-1+G.length)%G.length);else if(j.key==="Enter"){j.preventDefault();const T=G[$>=0?$:0];T&&H(T)}else j.key==="Escape"&&(_([]),P([]),k([]),W(-1))};return a.jsxs("div",{ref:L,style:Oe.wrap,children:[a.jsx("input",{style:Oe.input,placeholder:t,value:r,onChange:j=>o(j.target.value),onKeyDown:Y,"aria-label":"Spieler, Gilden und Server suchen"}),(h||m||w.length||E.length||N.length)&&a.jsxs("div",{style:Oe.dropdown,children:[h&&a.jsx("div",{style:Oe.hint,children:"Suche"}),m&&!h&&a.jsxs("div",{style:Oe.err,children:[" ",m]}),!h&&!m&&(w.length>0||E.length>0||N.length>0)&&a.jsxs(a.Fragment,{children:[w.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:Oe.sectionHdr,children:"Spieler"}),w.map((j,T)=>{var F,M,I;const A=T===$,D=HP(j.className,64);return a.jsxs("button",{onClick:()=>H(j),style:A?Oe.itemActive:Oe.item,title:j.name||"",onMouseEnter:()=>W(T),children:[a.jsx("div",{style:Oe.iconBoxPlain,children:D?a.jsx("img",{src:D,alt:"",style:Oe.iconImgShadow,onError:he=>{const je=he.currentTarget.parentElement;je&&(je.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):a.jsx("div",{style:Oe.iconFallback,children:(j.className||" ? ").toString().slice(0,2)})}),a.jsxs("div",{style:Oe.meta,children:[a.jsxs("div",{style:Oe.line1,children:[a.jsx("span",{style:Oe.name,children:(F=j.name)!=null?F:"Unbekannt"}),hp(j.level)&&a.jsxs("span",{style:Oe.badge,children:["Lvl ",j.level]})]}),a.jsxs("div",{style:Oe.line2,children:[j.guildName?a.jsxs("span",{children:["",j.guildName,""]}):a.jsx("span",{style:Oe.muted,children:""}),a.jsx("span",{style:Oe.sep,children:""}),a.jsx("span",{children:(M=j.className)!=null?M:"Klasse ?"}),a.jsx("span",{style:Oe.sep,children:""}),a.jsx("span",{children:(I=j.server)!=null?I:"Server ?"})]})]})]},`p-${j.id}-${T}`)})]}),E.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:Oe.sectionHdr,children:"Gilden"}),E.map((j,T)=>{var F,M;const A=w.length+T,D=A===$;return a.jsxs("button",{onClick:()=>H(j),style:D?Oe.itemActive:Oe.item,title:j.name||"",onMouseEnter:()=>W(A),children:[a.jsx("div",{style:Oe.iconBox,children:""}),a.jsxs("div",{style:Oe.meta,children:[a.jsxs("div",{style:Oe.line1,children:[a.jsx("span",{style:Oe.name,children:(F=j.name)!=null?F:"Unbekannt"}),hp(j.hofRank)&&a.jsxs("span",{style:Oe.badge,children:["HoF #",j.hofRank]})]}),a.jsxs("div",{style:Oe.line2,children:[a.jsx("span",{children:(M=j.server)!=null?M:"Server ?"}),a.jsx("span",{style:Oe.sep,children:""}),a.jsx("span",{children:hp(j.memberCount)?`${j.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${j.id}-${T}`)})]}),N.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:Oe.sectionHdr,children:"Server"}),N.map((j,T)=>{var F,M,I,he,je,we;const A=w.length+E.length+T,D=A===$;return a.jsxs("button",{onClick:()=>H(j),style:D?Oe.itemActive:Oe.item,title:j.displayName||j.code||j.host||"",onMouseEnter:()=>W(A),children:[a.jsx("div",{style:Oe.iconBoxPlain,children:a.jsx("div",{style:Oe.serverGlyph,children:""})}),a.jsxs("div",{style:Oe.meta,children:[a.jsxs("div",{style:Oe.line1,children:[a.jsx("span",{style:Oe.name,children:(I=(M=(F=j.displayName)!=null?F:j.code)!=null?M:j.host)!=null?I:j.id}),j.active!=null&&a.jsx("span",{style:Oe.badge,children:j.active?"Aktiv":"Inaktiv"})]}),a.jsxs("div",{style:Oe.line2,children:[a.jsx("span",{children:(he=j.code)!=null?he:""}),a.jsx("span",{style:Oe.sep,children:""}),a.jsx("span",{children:(je=j.host)!=null?je:""}),a.jsx("span",{style:Oe.sep,children:""}),a.jsx("span",{children:(we=j.region)!=null?we:""}),j.type?a.jsxs(a.Fragment,{children:[a.jsx("span",{style:Oe.sep,children:""}),a.jsx("span",{children:j.type.toUpperCase()})]}):null]})]})]},`s-${j.id}-${T}`)})]})]}),!h&&!m&&w.length===0&&E.length===0&&N.length===0&&l.length>=1&&a.jsx("div",{style:Oe.hint,children:"Keine Treffer"})]})]})}const Oe={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function qP(t){var h,p,m;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,$P];for(const g of c){if(!g)continue;const w=(m=(p=(h=g[n])!=null?h:g[r])!=null?p:g[o])!=null?m:g[l];if(typeof w=="string")return w}}function KP({user:t}){var o;const{open:e,canUse:n}=Qw(),r=()=>{e({tab:"json"})};return a.jsxs("header",{className:mn.topbar,children:[a.jsxs("div",{className:mn.topbarLeft,children:[a.jsx("button",{className:mn.btnIco,"aria-label":"Benachrichtigungen",children:a.jsx(oj,{className:mn.ico})}),a.jsx("button",{className:mn.btnIco,"aria-label":"Favoriten",children:a.jsx(Fj,{className:mn.ico})})]}),a.jsx("div",{className:mn.searchWrap,children:a.jsx(GP,{placeholder:"Suchen (Spieler)",getClassIcon:qP,maxResults:10})}),a.jsxs("div",{className:mn.topbarRight,children:[a.jsxs("a",{className:`${mn.pill} ${mn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[a.jsx(yj,{className:mn.ico}),"www.sfgame.net"]}),a.jsxs("button",{className:mn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[a.jsx(Bj,{className:mn.ico}),a.jsx("span",{className:mn.label,children:"Scan hochladen"})]}),a.jsx("button",{className:mn.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:a.jsx("img",{className:mn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const QP="_root_xd4sk_3",YP="_expanded_xd4sk_45",XP="_headRow_xd4sk_55",JP="_headTitle_xd4sk_63",ZP="_headDot_xd4sk_65",eR="_headLabel_xd4sk_67",tR="_pinBtn_xd4sk_69",nR="_navScroll_xd4sk_81",rR="_pad_xd4sk_83",sR="_segCard_xd4sk_89",iR="_segTitle_xd4sk_121",oR="_navCol_xd4sk_139",aR="_navItemWrap_xd4sk_141",lR="_navBtn_xd4sk_147",uR="_navBtnActive_xd4sk_171",cR="_label_xd4sk_175",dR="_trailing_xd4sk_205",hR="_isOpen_xd4sk_253",fR="_footer_xd4sk_279",pR="_login_xd4sk_281",mR="_legal_xd4sk_303",gR="_labelText_xd4sk_327",yR="_char_xd4sk_337",vR="_mainNavCard_xd4sk_405",Xe={root:QP,expanded:YP,headRow:XP,headTitle:JP,headDot:ZP,headLabel:eR,pinBtn:tR,navScroll:nR,pad:rR,segCard:sR,segTitle:iR,navCol:oR,navItemWrap:aR,navBtn:lR,navBtnActive:uR,label:cR,trailing:dR,isOpen:hR,footer:fR,login:pR,legal:mR,labelText:gR,char:yR,mainNavCard:vR},xR="_panel_90cjk_1",wR="_open_90cjk_31",_R="_col_90cjk_43",fp={panel:xR,open:wR,col:_R};function bR(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function SR({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,h]=De.useState({left:0,top:0});return De.useEffect(()=>{if(!e||!t)return;const p=()=>h(bR(t));p();const m=new ResizeObserver(p);return m.observe(document.documentElement),window.addEventListener("scroll",p,!0),window.addEventListener("resize",p),()=>{m.disconnect(),window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)}},[e,t]),typeof document=="undefined"?null:JE.createPortal(a.jsx("div",{className:`${fp.panel} ${e?fp.open:""}`,style:{left:c.left,top:c.top},onMouseEnter:o,onMouseLeave:l,role:"menu",children:a.jsx("div",{className:fp.col,children:n.map(p=>r(p))})}),document.body)}const TR=[{to:"/",label:"Home",icon:a.jsx(wj,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:a.jsx(Tj,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:a.jsx(Su,{className:"ico"})},{to:"/playground",label:"Playground",icon:a.jsx(Yd,{className:"ico"})}],ER=[{to:"/discover",label:"Discover",icon:a.jsx(hj,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:a.jsx(Mj,{className:"ico"})},{to:"/guides",label:"Guides",icon:a.jsx(lj,{className:"ico"})},{to:"/community",label:"Community",icon:a.jsx(jj,{className:"ico"})},{to:"/scans",label:"Scans",icon:a.jsx(mj,{className:"ico"})},{to:"/settings",label:"Settings",icon:a.jsx(Rj,{className:"ico"})}],wm={"/discover":[{to:"/players",label:"Players"},{to:"/players/profile",label:"Player Profile"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},jR=220;function CR(t=jR){const[e,n]=De.useState(!1),r=De.useRef(null),o=De.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=De.useCallback(()=>{o(),n(!0)},[o]),c=De.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return De.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function Mg({text:t,isOpen:e,duration:n=1,step:r=45}){const o=De.useMemo(()=>Array.from(t),[t]);return a.jsx("span",{className:Xe.label,children:a.jsx("span",{className:Xe.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>a.jsx("span",{className:Xe.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function AR({it:t,collapsed:e,allowSubmenus:n}){var g,w;const r=((w=(g=wm[t.to])==null?void 0:g.length)!=null?w:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:h}=CR(),p=De.useRef(null),m=De.useCallback(()=>{if(!n||!r){h(!1);return}l()},[n,r,l,h]);return a.jsxs("div",{ref:p,className:`${Xe.navItemWrap} ${o?Xe.isOpen:""}`,onMouseEnter:m,onMouseLeave:c,children:[a.jsxs(Qn,{to:t.to,end:!!t.end,className:({isActive:_})=>`${Xe.navBtn} ${_?Xe.navBtnActive:""}`,children:[t.icon,a.jsx(Mg,{text:t.label,isOpen:!e}),r&&!e&&a.jsx("span",{className:Xe.trailing,"aria-hidden":"true",children:a.jsx(cj,{className:"ico"})})]}),r&&a.jsx(SR,{anchorEl:p.current,open:o,items:wm[t.to],renderLink:_=>a.jsx(Qn,{to:_.to,className:({isActive:E})=>`link ${E?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function D0({title:t,items:e,collapsed:n,allowSubmenus:r}){return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:`${Xe.navTitle} ${Xe.segTitle}`,children:t}),a.jsx("div",{className:Xe.navCol,children:e.map(o=>wm[o.to]?a.jsx(AR,{it:o,collapsed:n,allowSubmenus:r},o.to):a.jsxs(Qn,{to:o.to,end:!!o.end,className:({isActive:l})=>`${Xe.navBtn} ${l?Xe.navBtnActive:""}`,children:[o.icon,a.jsx(Mg,{text:o.label,isOpen:!n})]},o.to))})]})}const kR=90,IR=180;function PR({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=De.useRef(null),c=De.useRef(null),[h,p]=De.useState(!1),m=De.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=De.useCallback(()=>{!o||n||(m(),p(!1),l.current=window.setTimeout(()=>e(!0),kR))},[o,n,m,e]),w=De.useCallback(()=>{!o||n||(m(),c.current=window.setTimeout(()=>{e(!1),p(!1)},IR))},[o,n,m,e]);De.useEffect(()=>()=>m(),[m]),De.useEffect(()=>{n&&p(!0)},[n]);const _=N=>{N.propertyName==="width"&&t&&!n&&p(!0)};De.useEffect(()=>{if(t&&!n){const N=window.setTimeout(()=>p(!0),250);return()=>window.clearTimeout(N)}},[t,n]);const E=!t,P=n||t&&h;return a.jsxs("aside",{id:"sidebar-root",className:`${Xe.root} ${t?Xe.expanded:""}`,"data-collapsed":E?"true":"false",onMouseEnter:g,onMouseLeave:w,onTransitionEnd:_,"aria-label":"Navigation",children:[a.jsxs("div",{className:Xe.headRow,children:[a.jsxs("div",{className:Xe.headTitle,children:[a.jsx("span",{className:Xe.headDot})," ",a.jsx("span",{className:Xe.headLabel,children:"Navigation"})]}),a.jsx("button",{className:Xe.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?a.jsx(Ij,{className:"ico"}):a.jsx(Aj,{className:"ico"})})]}),a.jsx("div",{className:Xe.navScroll,children:a.jsxs("div",{className:Xe.pad,children:[a.jsx("div",{className:`${Xe.segCard} ${Xe.mainNavCard}`,children:a.jsx(D0,{items:TR,collapsed:E,allowSubmenus:P})}),a.jsx("div",{className:Xe.segTitle,children:"Kategorien"}),a.jsx("div",{className:`${Xe.segCard} ${Xe.mainNavCard}`,children:a.jsx(D0,{items:ER,collapsed:E,allowSubmenus:P})})]})}),a.jsxs("div",{className:`${Xe.footer} ${Xe.segCard} ${Xe.mainNavCard}`,children:[a.jsxs("button",{className:Xe.login,type:"button",children:[a.jsx(Su,{className:"ico"}),a.jsx(Mg,{text:"Logout",isOpen:!E})]}),a.jsx("div",{className:Xe.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const pp="/test/assets/logo-sfdatahub-CUdhlsEb.png";function RR({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:pp;return a.jsxs("div",{className:"logo-dock",children:[a.jsx(Qn,{to:r,"aria-label":"Go to home",children:a.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:h=>{const p=h.currentTarget;p.src!==pp&&(p.src=pp)}})}),n]})}function NR(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),o=n||t,l=R.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return a.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[a.jsx(RR,{src:"/logo.png"}),a.jsx(KP,{}),a.jsx("div",{className:"logo-fill"}),a.jsx(PR,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),a.jsx("div",{className:"content",children:a.jsx("div",{className:"content-inner",children:a.jsx("div",{className:"content-body",children:a.jsx(Lw,{})})})})]})}function DR(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Home"})})}const Rb=R.createContext({});function VR(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Og=R.createContext(null),Nb=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function FR(t=!0){const e=R.useContext(Og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=R.useId();R.useEffect(()=>{t&&o(l)},[t]);const c=R.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Bg=typeof window!="undefined",LR=Bg?R.useLayoutEffect:R.useEffect,Jn=t=>t;let Db=Jn;function $g(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ba=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ls=t=>t*1e3,Ms=t=>t/1e3,MR={useManualTiming:!1};function OR(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,g=!1,w=!1)=>{const E=w&&r?e:n;return g&&l.add(m),E.has(m)||E.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(h),e.clear(),r=!1,o&&(o=!1,p.process(m))}};return p}const ud=["read","resolveKeyframes","update","preRender","render","postRender"],BR=40;function Vb(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=ud.reduce(($,W)=>($[W]=OR(l),$),{}),{read:h,resolveKeyframes:p,update:m,preRender:g,render:w,postRender:_}=c,E=()=>{const $=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min($-o.timestamp,BR),1),o.timestamp=$,o.isProcessing=!0,h.process(o),p.process(o),m.process(o),g.process(o),w.process(o),_.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(E))},P=()=>{n=!0,r=!0,o.isProcessing||t(E)};return{schedule:ud.reduce(($,W)=>{const L=c[W];return $[W]=(G,H=!1,Y=!1)=>(n||P(),L.schedule(G,H,Y)),$},{}),cancel:$=>{for(let W=0;W<ud.length;W++)c[ud[W]].cancel($)},state:o,steps:c}}const{schedule:dt,cancel:Vi,state:nn,steps:mp}=Vb(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Jn,!0),Fb=R.createContext({strict:!1}),V0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$a={};for(const t in V0)$a[t]={isEnabled:e=>V0[t].some(n=>!!e[n])};function $R(t){for(const e in t)$a[e]={...$a[e],...t[e]}}const UR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UR.has(t)}let Lb=t=>!Bd(t);function zR(t){t&&(Lb=e=>e.startsWith("on")?!Bd(e):t(e))}try{zR(require("@emotion/is-prop-valid").default)}catch(t){}function HR(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Lb(o)||n===!0&&Bd(o)||!e&&!Bd(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function WR(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const gh=R.createContext({});function gu(t){return typeof t=="string"||Array.isArray(t)}function yh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zg=["initial",...Ug];function vh(t){return yh(t.animate)||zg.some(e=>gu(t[e]))}function Mb(t){return!!(vh(t)||t.variants)}function GR(t,e){if(vh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gu(n)?n:void 0,animate:gu(r)?r:void 0}}return t.inherit!==!1?e:{}}function qR(t){const{initial:e,animate:n}=GR(t,R.useContext(gh));return R.useMemo(()=>({initial:e,animate:n}),[F0(e),F0(n)])}function F0(t){return Array.isArray(t)?t.join(" "):t}const KR=Symbol.for("motionComponentSymbol");function Ta(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QR(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ta(n)&&(n.current=r))},[e])}const Hg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YR="framerAppearId",Ob="data-"+Hg(YR),{schedule:Wg}=Vb(queueMicrotask,!1),Bb=R.createContext({});function XR(t,e,n,r,o){var l,c;const{visualElement:h}=R.useContext(gh),p=R.useContext(Fb),m=R.useContext(Og),g=R.useContext(Nb).reducedMotion,w=R.useRef(null);r=r||p.renderer,!w.current&&r&&(w.current=r(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const _=w.current,E=R.useContext(Bb);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&JR(w.current,n,o,E);const P=R.useRef(!1);R.useInsertionEffect(()=>{_&&P.current&&_.update(n,m)});const N=n[Ob],k=R.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return LR(()=>{_&&(P.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Wg.render(_.render),k.current&&_.animationState&&_.animationState.animateChanges())}),R.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)===null||$===void 0||$.call(window,N)}),k.current=!1))}),_}function JR(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$b(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&Ta(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:p,layoutRoot:m})}function $b(t){if(t)return t.options.allowProjection!==!1?t.projection:$b(t.parent)}function ZR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&$R(t);function h(m,g){let w;const _={...R.useContext(Nb),...m,layoutId:eN(m)},{isStatic:E}=_,P=qR(m),N=r(m,E);if(!E&&Bg){tN();const k=nN(_);w=k.MeasureLayout,P.visualElement=XR(o,N,_,e,k.ProjectionNode)}return a.jsxs(gh.Provider,{value:P,children:[w&&P.visualElement?a.jsx(w,{visualElement:P.visualElement,..._}):null,n(o,m,QR(N,P.visualElement,g),N,E,P.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=R.forwardRef(h);return p[KR]=o,p}function eN({layoutId:t}){const e=R.useContext(Rb).id;return e&&t!==void 0?e+"-"+t:t}function tN(t,e){R.useContext(Fb).strict}function nN(t){const{drag:e,layout:n}=$a;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gg(t){return typeof t!="string"||t.includes("-")?!1:!!(rN.indexOf(t)>-1||/[A-Z]/u.test(t))}function L0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qg(t,e,n,r){if(typeof e=="function"){const[o,l]=L0(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=L0(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const _m=t=>Array.isArray(t),sN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),iN=t=>_m(t)?t[t.length-1]||0:t,wn=t=>!!(t&&t.getVelocity);function Td(t){const e=wn(t)?t.get():t;return sN(e)?e.toValue():e}function oN({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:aN(r,o,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:r,current:h,...c}),c.onUpdate=h=>n(h)),c}const Ub=t=>(e,n)=>{const r=R.useContext(gh),o=R.useContext(Og),l=()=>oN(t,e,r,o);return n?l():VR(l)};function aN(t,e,n,r){const o={},l=r(t,{});for(const _ in l)o[_]=Td(l[_]);let{initial:c,animate:h}=t;const p=vh(t),m=Mb(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const w=g?h:c;if(w&&typeof w!="boolean"&&!yh(w)){const _=Array.isArray(w)?w:[w];for(let E=0;E<_.length;E++){const P=qg(t,_[E]);if(P){const{transitionEnd:N,transition:k,...$}=P;for(const W in $){let L=$[W];if(Array.isArray(L)){const G=g?L.length-1:0;L=L[G]}L!==null&&(o[W]=L)}for(const W in N)o[W]=N[W]}}}return o}const Qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(Qa),zb=t=>e=>typeof e=="string"&&e.startsWith(t),Hb=zb("--"),lN=zb("var(--"),Kg=t=>lN(t)?uN.test(t.split("/*")[0].trim()):!1,uN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>n>e?e:n<t?t:n,Ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yu={...Ya,transform:t=>Ws(0,1,t)},cd={...Ya,default:1},Du=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ti=Du("deg"),cs=Du("%"),Ie=Du("px"),cN=Du("vh"),dN=Du("vw"),M0={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},hN={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},fN={rotate:Ti,rotateX:Ti,rotateY:Ti,rotateZ:Ti,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:Ti,skewX:Ti,skewY:Ti,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:yu,originX:M0,originY:M0,originZ:Ie},O0={...Ya,transform:Math.round},Qg={...hN,...fN,zIndex:O0,size:Ie,fillOpacity:yu,strokeOpacity:yu,numOctaves:O0},pN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mN=Qa.length;function gN(t,e,n){let r="",o=!0;for(let l=0;l<mN;l++){const c=Qa[l],h=t[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const m=Wb(h,Qg[c]);if(!p){o=!1;const g=pN[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Yg(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,h=!1;for(const p in e){const m=e[p];if(Po.has(p)){c=!0;continue}else if(Hb(p)){o[p]=m;continue}else{const g=Wb(m,Qg[p]);p.startsWith("origin")?(h=!0,l[p]=g):r[p]=g}}if(e.transform||(c||n?r.transform=gN(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${p} ${m} ${g}`}}const yN={offset:"stroke-dashoffset",array:"stroke-dasharray"},vN={offset:"strokeDashoffset",array:"strokeDasharray"};function xN(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?yN:vN;t[l.offset]=Ie.transform(-r);const c=Ie.transform(e),h=Ie.transform(n);t[l.array]=`${c} ${h}`}function B0(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function wN(t,e,n){const r=B0(e,t.x,t.width),o=B0(n,t.y,t.height);return`${r} ${o}`}function Xg(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...m},g,w){if(Yg(t,m,w),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E,dimensions:P}=t;_.transform&&(P&&(E.transform=_.transform),delete _.transform),P&&(o!==void 0||l!==void 0||E.transform)&&(E.transformOrigin=wN(P,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),c!==void 0&&xN(_,c,h,p,!1)}const Jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Gb=()=>({...Jg(),attrs:{}}),Zg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qb(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const Kb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qb(t,e,n,r){qb(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Kb.has(o)?o:Hg(o),e.attrs[o])}const $d={};function _N(t){Object.assign($d,t)}function Yb(t,{layout:e,layoutId:n}){return Po.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$d[t]||t==="opacity")}function ey(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(wn(o[c])||e.style&&wn(e.style[c])||Yb(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function Xb(t,e,n){const r=ey(t,e,n);for(const o in t)if(wn(t[o])||wn(e[o])){const l=Qa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function bN(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const $0=["x","y","width","height","cx","cy","r"],SN={useVisualState:Ub({scrapeMotionValuesFromProps:Xb,createRenderState:Gb,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in o)if(Po.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<$0.length;h++){const p=$0[h];t[p]!==e[p]&&(c=!0)}c&&dt.read(()=>{bN(n,r),dt.render(()=>{Xg(r,o,Zg(n.tagName),t.transformTemplate),Qb(n,r)})})}})},TN={useVisualState:Ub({scrapeMotionValuesFromProps:ey,createRenderState:Jg})};function Jb(t,e,n){for(const r in e)!wn(e[r])&&!Yb(r,n)&&(t[r]=e[r])}function EN({transformTemplate:t},e){return R.useMemo(()=>{const n=Jg();return Yg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jN(t,e){const n=t.style||{},r={};return Jb(r,n,t),Object.assign(r,EN(t,e)),r}function CN(t,e){const n={},r=jN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function AN(t,e,n,r){const o=R.useMemo(()=>{const l=Gb();return Xg(l,e,Zg(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Jb(l,t.style,t),o.style={...l,...o.style}}return o}function kN(t=!1){return(n,r,o,{latestValues:l},c)=>{const p=(Gg(n)?AN:CN)(r,l,c,n),m=HR(r,typeof n=="string",t),g=n!==R.Fragment?{...m,...p,ref:o}:{},{children:w}=r,_=R.useMemo(()=>wn(w)?w.get():w,[w]);return R.createElement(n,{...g,children:_})}}function IN(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Gg(r)?SN:TN,preloadedFeatures:t,useRender:kN(o),createVisualElement:e,Component:r};return ZR(c)}}function Zb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xh(t,e,n){const r=t.getProps();return qg(r,e,n!==void 0?n:r.custom,t)}const PN=$g(()=>window.ScrollTimeline!==void 0);class RN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(PN()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class NN extends RN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ty(t,e){return t?t[e]||t.default||t:void 0}const bm=2e4;function eS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bm;)e+=n,r=t.next(e);return e>=bm?1/0:e}function ny(t){return typeof t=="function"}function U0(t,e){t.timeline=e,t.onfinish=null}const ry=t=>Array.isArray(t)&&typeof t[0]=="number",DN={linearEasing:void 0};function VN(t,e){const n=$g(t);return()=>{var r;return(r=DN[e])!==null&&r!==void 0?r:n()}}const Ud=VN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),tS=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(Ba(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function nS(t){return!!(typeof t=="function"&&Ud()||!t||typeof t=="string"&&(t in Sm||Ud())||ry(t)||Array.isArray(t)&&t.every(nS))}const ql=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Sm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function rS(t,e){if(t)return typeof t=="function"&&Ud()?tS(t,e):ry(t)?ql(t):Array.isArray(t)?t.map(n=>rS(n,e)||Sm.easeOut):Sm[t]}const Mr={x:!1,y:!1};function sS(){return Mr.x||Mr.y}function FN(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function iS(t,e){const n=FN(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function z0(t){return e=>{e.pointerType==="touch"||sS()||t(e)}}function LN(t,e,n={}){const[r,o,l]=iS(t,n),c=z0(h=>{const{target:p}=h,m=e(h);if(typeof m!="function"||!p)return;const g=z0(w=>{m(w),p.removeEventListener("pointerleave",g)});p.addEventListener("pointerleave",g,o)});return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}const oS=(t,e)=>e?t===e?!0:oS(t,e.parentElement):!1,sy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ON(t){return MN.has(t.tagName)||t.tabIndex!==-1}const Kl=new WeakSet;function H0(t){return e=>{e.key==="Enter"&&t(e)}}function gp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=H0(()=>{if(Kl.has(n))return;gp(n,"down");const o=H0(()=>{gp(n,"up")}),l=()=>gp(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function W0(t){return sy(t)&&!sS()}function $N(t,e,n={}){const[r,o,l]=iS(t,n),c=h=>{const p=h.currentTarget;if(!W0(h)||Kl.has(p))return;Kl.add(p);const m=e(h),g=(E,P)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),!(!W0(E)||!Kl.has(p))&&(Kl.delete(p),typeof m=="function"&&m(E,{success:P}))},w=E=>{g(E,n.useGlobalTarget||oS(p,E.target))},_=E=>{g(E,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{!ON(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h.addEventListener("focus",m=>BN(m,o),o)}),l}function UN(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}const aS=new Set(["width","height","top","left","right","bottom",...Qa]);let Ed;function zN(){Ed=void 0}const ds={now:()=>(Ed===void 0&&ds.set(nn.isProcessing||MR.useManualTiming?nn.timestamp:performance.now()),Ed),set:t=>{Ed=t,queueMicrotask(zN)}};function iy(t,e){t.indexOf(e)===-1&&t.push(e)}function oy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ay{constructor(){this.subscriptions=[]}add(e){return iy(this.subscriptions,e),()=>oy(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lS(t,e){return e?t*(1e3/e):0}const G0=30,HN=t=>!isNaN(parseFloat(t));class WN{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=ds.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ay);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G0);return lS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vu(t,e){return new WN(t,e)}function GN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vu(n))}function qN(t,e){const n=xh(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const h=iN(l[c]);GN(t,c,h)}}function KN(t){return!!(wn(t)&&t.add)}function Tm(t,e){const n=t.getValue("willChange");if(KN(n))return n.add(e)}function uS(t){return t.props[Ob]}const cS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QN=1e-7,YN=12;function XN(t,e,n,r,o){let l,c,h=0;do c=e+(n-e)/2,l=cS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>QN&&++h<YN);return c}function Vu(t,e,n,r){if(t===e&&n===r)return Jn;const o=l=>XN(l,0,1,t,n);return l=>l===0||l===1?l:cS(o(l),e,r)}const dS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hS=t=>e=>1-t(1-e),fS=Vu(.33,1.53,.69,.99),ly=hS(fS),pS=dS(ly),mS=t=>(t*=2)<1?.5*ly(t):.5*(2-Math.pow(2,-10*(t-1))),uy=t=>1-Math.sin(Math.acos(t)),gS=hS(uy),yS=dS(uy),vS=t=>/^0[^.\s]+$/u.test(t);function JN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vS(t):!0}const Zl=t=>Math.round(t*1e5)/1e5,cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZN(t){return t==null}const eD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dy=(t,e)=>n=>!!(typeof n=="string"&&eD.test(n)&&n.startsWith(t)||e&&!ZN(n)&&Object.prototype.hasOwnProperty.call(n,e)),xS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,h]=r.match(cy);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},tD=t=>Ws(0,255,t),yp={...Ya,transform:t=>Math.round(tD(t))},xo={test:dy("rgb","red"),parse:xS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yp.transform(t)+", "+yp.transform(e)+", "+yp.transform(n)+", "+Zl(yu.transform(r))+")"};function nD(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Em={test:dy("#"),parse:nD,transform:xo.transform},Ea={test:dy("hsl","hue"),parse:xS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cs.transform(Zl(e))+", "+cs.transform(Zl(n))+", "+Zl(yu.transform(r))+")"},yn={test:t=>xo.test(t)||Em.test(t)||Ea.test(t),parse:t=>xo.test(t)?xo.parse(t):Ea.test(t)?Ea.parse(t):Em.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xo.transform(t):Ea.transform(t)},rD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(rD))===null||n===void 0?void 0:n.length)||0)>0}const wS="number",_S="color",iD="var",oD="var(",q0="${}",aD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(aD,p=>(yn.test(p)?(r.color.push(l),o.push(_S),n.push(yn.parse(p))):p.startsWith(oD)?(r.var.push(l),o.push(iD),n.push(p)):(r.number.push(l),o.push(wS),n.push(parseFloat(p))),++l,q0)).split(q0);return{values:n,split:h,indexes:r,types:o}}function bS(t){return xu(t).values}function SS(t){const{split:e,types:n}=xu(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const h=n[c];h===wS?l+=Zl(o[c]):h===_S?l+=yn.transform(o[c]):l+=o[c]}return l}}const lD=t=>typeof t=="number"?0:t;function uD(t){const e=bS(t);return SS(t)(e.map(lD))}const Fi={test:sD,parse:bS,createTransformer:SS,getAnimatableNone:uD},cD=new Set(["brightness","contrast","saturate","opacity"]);function dD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cy)||[];if(!r)return t;const o=n.replace(r,"");let l=cD.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const hD=/\b([a-z-]*)\(.*?\)/gu,jm={...Fi,getAnimatableNone:t=>{const e=t.match(hD);return e?e.map(dD).join(" "):t}},fD={...Qg,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:jm,WebkitFilter:jm},hy=t=>fD[t];function TS(t,e){let n=hy(t);return n!==jm&&(n=Fi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pD=new Set(["auto","none","0"]);function mD(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!pD.has(l)&&xu(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=TS(n,o)}const K0=t=>t===Ya||t===Ie,Q0=(t,e)=>parseFloat(t.split(", ")[e]),Y0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Q0(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?Q0(l[1],t):0}},gD=new Set(["x","y","z"]),yD=Qa.filter(t=>!gD.has(t));function vD(t){const e=[];return yD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Y0(4,13),y:Y0(5,14)};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const bo=new Set;let Cm=!1,Am=!1;function ES(){if(Am){const t=Array.from(bo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=vD(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var h;(h=r.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Am=!1,Cm=!1,bo.forEach(t=>t.complete()),bo.clear()}function jS(){bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Am=!0)})}function xD(){jS(),ES()}class fy{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bo.add(this),Cm||(Cm=!0,dt.read(jS),dt.resolveKeyframes(ES))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const p=r.readValue(n,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _D(t){const e=wD.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function AS(t,e,n=1){const[r,o]=_D(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return CS(c)?parseFloat(c):c}return Kg(o)?AS(o,e,n+1):o}const kS=t=>e=>e.test(t),bD={test:t=>t==="auto",parse:t=>t},IS=[Ya,Ie,cs,Ti,dN,cN,bD],X0=t=>IS.find(kS(t));class PS extends fy{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),Kg(m))){const g=AS(m,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!aS.has(r)||e.length!==2)return;const[o,l]=e,c=X0(o),h=X0(l);if(c!==h)if(K0(c)&&K0(h))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)JN(e[o])&&r.push(o);r.length&&mD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,h=o[c];o[c]=Ua[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{n.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const J0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fi.test(t)||t==="0")&&!t.startsWith("url("));function SD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function TD(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=J0(o,e),h=J0(l,e);return!c||!h?!1:SD(t)||(n==="spring"||ny(n))&&r}const ED=t=>t!==null;function wh(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(ED),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const jD=40;class RS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ds.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>jD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ds.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!TD(e,r,o,l))if(c)this.options.duration=0;else{p&&p(wh(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xt=(t,e,n)=>t+(e-t)*n;function vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,p=2*n-h;o=vp(p,h,t+1/3),l=vp(p,h,t),c=vp(p,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function zd(t,e){return n=>n>0?e:t}const xp=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},AD=[Em,xo,Ea],kD=t=>AD.find(e=>e.test(t));function Z0(t){const e=kD(t);if(!e)return!1;let n=e.parse(t);return e===Ea&&(n=CD(n)),n}const e1=(t,e)=>{const n=Z0(t),r=Z0(e);if(!n||!r)return zd(t,e);const o={...n};return l=>(o.red=xp(n.red,r.red,l),o.green=xp(n.green,r.green,l),o.blue=xp(n.blue,r.blue,l),o.alpha=xt(n.alpha,r.alpha,l),xo.transform(o))},ID=(t,e)=>n=>e(t(n)),Fu=(...t)=>t.reduce(ID),km=new Set(["none","hidden"]);function PD(t,e){return km.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RD(t,e){return n=>xt(t,e,n)}function py(t){return typeof t=="number"?RD:typeof t=="string"?Kg(t)?zd:yn.test(t)?e1:VD:Array.isArray(t)?NS:typeof t=="object"?yn.test(t)?e1:ND:zd}function NS(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>py(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function ND(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=py(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function DD(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][o[c]],p=(n=t.values[h])!==null&&n!==void 0?n:0;r[l]=p,o[c]++}return r}const VD=(t,e)=>{const n=Fi.createTransformer(e),r=xu(t),o=xu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?km.has(t)&&!o.values.length||km.has(e)&&!r.values.length?PD(t,e):Fu(NS(DD(r,o),o.values),n):zd(t,e)};function DS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):py(t)(t,e)}const FD=5;function VS(t,e,n){const r=Math.max(e-FD,0);return lS(n-t(r),e-r)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wp=.001;function LD({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:r=Tt.mass}){let o,l,c=1-e;c=Ws(Tt.minDamping,Tt.maxDamping,c),t=Ws(Tt.minDuration,Tt.maxDuration,Ms(t)),c<1?(o=m=>{const g=m*c,w=g*t,_=g-n,E=Im(m,c),P=Math.exp(-w);return wp-_/E*P},l=m=>{const w=m*c*t,_=w*n+n,E=Math.pow(c,2)*Math.pow(m,2)*t,P=Math.exp(-w),N=Im(Math.pow(m,2),c);return(-o(m)+wp>0?-1:1)*((_-E)*P)/N}):(o=m=>{const g=Math.exp(-m*t),w=(m-n)*t+1;return-wp+g*w},l=m=>{const g=Math.exp(-m*t),w=(n-m)*(t*t);return g*w});const h=5/t,p=OD(o,l,h);if(t=Ls(t),isNaN(p))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const MD=12;function OD(t,e,n){let r=n;for(let o=1;o<MD;o++)r=r-t(r)/e(r);return r}function Im(t,e){return t*Math.sqrt(1-e*e)}const BD=["duration","bounce"],$D=["stiffness","damping","mass"];function t1(t,e){return e.some(n=>t[n]!==void 0)}function UD(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!t1(t,$D)&&t1(t,BD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Tt.mass,stiffness:o,damping:l}}else{const n=LD(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function FS(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:g,duration:w,velocity:_,isResolvedFromDuration:E}=UD({...n,velocity:-Ms(n.velocity||0)}),P=_||0,N=m/(2*Math.sqrt(p*g)),k=c-l,$=Ms(Math.sqrt(p/g)),W=Math.abs(k)<5;r||(r=W?Tt.restSpeed.granular:Tt.restSpeed.default),o||(o=W?Tt.restDelta.granular:Tt.restDelta.default);let L;if(N<1){const H=Im($,N);L=Y=>{const j=Math.exp(-N*$*Y);return c-j*((P+N*$*k)/H*Math.sin(H*Y)+k*Math.cos(H*Y))}}else if(N===1)L=H=>c-Math.exp(-$*H)*(k+(P+$*k)*H);else{const H=$*Math.sqrt(N*N-1);L=Y=>{const j=Math.exp(-N*$*Y),T=Math.min(H*Y,300);return c-j*((P+N*$*k)*Math.sinh(T)+H*k*Math.cosh(T))/H}}const G={calculatedDuration:E&&w||null,next:H=>{const Y=L(H);if(E)h.done=H>=w;else{let j=0;N<1&&(j=H===0?Ls(P):VS(L,H,Y));const T=Math.abs(j)<=r,A=Math.abs(c-Y)<=o;h.done=T&&A}return h.value=h.done?c:Y,h},toString:()=>{const H=Math.min(eS(G),bm),Y=tS(j=>G.next(H*j).value,H,30);return H+"ms "+Y}};return G}function n1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:g}){const w=t[0],_={done:!1,value:w},E=T=>h!==void 0&&T<h||p!==void 0&&T>p,P=T=>h===void 0?p:p===void 0||Math.abs(h-T)<Math.abs(p-T)?h:p;let N=n*e;const k=w+N,$=c===void 0?k:c(k);$!==k&&(N=$-w);const W=T=>-N*Math.exp(-T/r),L=T=>$+W(T),G=T=>{const A=W(T),D=L(T);_.done=Math.abs(A)<=m,_.value=_.done?$:D};let H,Y;const j=T=>{E(_.value)&&(H=T,Y=FS({keyframes:[_.value,P(_.value)],velocity:VS(L,T,_.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return j(0),{calculatedDuration:null,next:T=>{let A=!1;return!Y&&H===void 0&&(A=!0,G(T),j(T)),H!==void 0&&T>=H?Y.next(T-H):(!A&&G(T),_)}}}const zD=Vu(.42,0,1,1),HD=Vu(0,0,.58,1),LS=Vu(.42,0,.58,1),WD=t=>Array.isArray(t)&&typeof t[0]!="number",GD={linear:Jn,easeIn:zD,easeInOut:LS,easeOut:HD,circIn:uy,circInOut:yS,circOut:gS,backIn:ly,backInOut:pS,backOut:fS,anticipate:mS},r1=t=>{if(ry(t)){Db(t.length===4);const[e,n,r,o]=t;return Vu(e,n,r,o)}else if(typeof t=="string")return GD[t];return t};function qD(t,e,n){const r=[],o=n||DS,l=t.length-1;for(let c=0;c<l;c++){let h=o(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||Jn:e;h=Fu(p,h)}r.push(h)}return r}function KD(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(Db(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=qD(e,r,o),p=h.length,m=g=>{if(c&&g<t[0])return e[0];let w=0;if(p>1)for(;w<t.length-2&&!(g<t[w+1]);w++);const _=Ba(t[w],t[w+1],g);return h[w](_)};return n?g=>m(Ws(t[0],t[l-1],g)):m}function QD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Ba(0,e,r);t.push(xt(n,1,o))}}function YD(t){const e=[0];return QD(e,t.length-1),e}function XD(t,e){return t.map(n=>n*e)}function JD(t,e){return t.map(()=>e||LS).splice(0,t.length-1)}function Hd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=WD(r)?r.map(r1):r1(r),l={done:!1,value:e[0]},c=XD(n&&n.length===e.length?n:YD(e),t),h=KD(c,e,{ease:Array.isArray(o)?o:JD(e,o)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const ZD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>Vi(e),now:()=>nn.isProcessing?nn.timestamp:ds.now()}},eV={decay:n1,inertia:n1,tween:Hd,keyframes:Hd,spring:FS},tV=t=>t/100;class my extends RS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||fy,h=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(l,h,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,h=ny(n)?n:eV[n]||Hd;let p,m;h!==Hd&&typeof e[0]!="number"&&(p=Fu(tV,DS(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=eS(g));const{calculatedDuration:w}=g,_=w+o,E=_*(r+1)-o;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:_,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:g,resolvedDuration:w}=r;if(this.startTime===null)return l.next(0);const{delay:_,repeat:E,repeatType:P,repeatDelay:N,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const $=this.currentTime-_*(this.speed>=0?1:-1),W=this.speed>=0?$<0:$>g;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let L=this.currentTime,G=l;if(E){const T=Math.min(this.currentTime,g)/w;let A=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&A--,A=Math.min(A,E+1),!!(A%2)&&(P==="reverse"?(D=1-D,N&&(D-=N/w)):P==="mirror"&&(G=c)),L=Ws(0,1,D)*w}const H=W?{done:!1,value:p[0]}:G.next(L);h&&(H.value=h(H.value));let{done:Y}=H;!W&&m!==null&&(Y=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return j&&o!==void 0&&(H.value=wh(p,this.options,o)),k&&k(H.value),j&&this.finish(),H}get duration(){const{resolved:e}=this;return e?Ms(e.calculatedDuration):0}get time(){return Ms(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ms(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nV=new Set(["opacity","clipPath","filter","transform"]);function rV(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:p}={}){const m={[e]:n};p&&(m.offset=p);const g=rS(h,o);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const sV=$g(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Wd=10,iV=2e4;function oV(t){return ny(t.type)||t.type==="spring"||!nS(t.ease)}function aV(t,e){const n=new my({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<iV;)r=n.sample(l),o.push(r.value),l+=Wd;return{times:void 0,keyframes:o,duration:l-Wd,ease:"linear"}}const MS={anticipate:mS,backInOut:pS,circInOut:yS};function lV(t){return t in MS}class s1 extends RS{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new PS(l,(c,h)=>this.onKeyframesResolved(c,h),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:h,name:p,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Ud()&&lV(l)&&(l=MS[l]),oV(this.options)){const{onComplete:w,onUpdate:_,motionValue:E,element:P,...N}=this.options,k=aV(e,N);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,o=k.times,l=k.ease,c="keyframes"}const g=rV(h.owner.current,p,e,{...this.options,duration:r,times:o,ease:l});return g.startTime=m!=null?m:this.calcStartTime(),this.pendingTimeline?(U0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:w}=this.options;h.set(wh(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ms(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ms(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ls(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Jn;const{animation:r}=n;U0(r,e)}return Jn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:w,element:_,...E}=this.options,P=new my({...E,keyframes:r,duration:o,type:l,ease:c,times:h,isGenerator:!0}),N=Ls(this.time);m.setWithVelocity(P.sample(N-Wd).value,P.sample(N).value,Wd)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=n.owner.getProps();return sV()&&r&&nV.has(r)&&!p&&!m&&!o&&l!=="mirror"&&c!==0&&h!=="inertia"}}const uV={type:"spring",stiffness:500,damping:25,restSpeed:10},cV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dV={type:"keyframes",duration:.8},hV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fV=(t,{keyframes:e})=>e.length>2?dV:Po.has(t)?t.startsWith("scale")?cV(e[1]):uV:hV;function pV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...g}){return!!Object.keys(g).length}const gy=(t,e,n,r={},o,l)=>c=>{const h=ty(r,t)||{},p=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ls(p);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};pV(h)||(g={...g,...fV(t,g)}),g.duration&&(g.duration=Ls(g.duration)),g.repeatDelay&&(g.repeatDelay=Ls(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const _=wh(g.keyframes,h);if(_!==void 0)return dt.update(()=>{g.onUpdate(_),g.onComplete()}),new NN([])}return!l&&s1.supports(g)?new s1(g):new my(g)};function mV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OS(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...p}=e;r&&(c=r);const m=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const w in p){const _=t.getValue(w,(l=t.latestValues[w])!==null&&l!==void 0?l:null),E=p[w];if(E===void 0||g&&mV(g,w))continue;const P={delay:n,...ty(c||{},w)};let N=!1;if(window.MotionHandoffAnimation){const $=uS(t);if($){const W=window.MotionHandoffAnimation($,w,dt);W!==null&&(P.startTime=W,N=!0)}}Tm(t,w),_.start(gy(w,_,E,t.shouldReduceMotion&&aS.has(w)?{type:!1}:P,t,N));const k=_.animation;k&&m.push(k)}return h&&Promise.all(m).then(()=>{dt.update(()=>{h&&qN(t,h)})}),m}function Pm(t,e,n={}){var r;const o=xh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(OS(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:_}=l;return gV(t,e,g+m,w,_,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,g]=p==="beforeChildren"?[c,h]:[h,c];return m().then(()=>g())}else return Promise.all([c(),h(n.delay)])}function gV(t,e,n=0,r=0,o=1,l){const c=[],h=(t.variantChildren.size-1)*r,p=o===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(t.variantChildren).sort(yV).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(Pm(m,e,{...l,delay:n+p(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function yV(t,e){return t.sortNodePosition(e)}function vV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>Pm(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=Pm(t,e,n);else{const o=typeof e=="function"?xh(t,e,n.custom):e;r=Promise.all(OS(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const xV=zg.length;function BS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xV;n++){const r=zg[n],o=t.props[r];(gu(o)||o===!1)&&(e[r]=o)}return e}const wV=[...Ug].reverse(),_V=Ug.length;function bV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vV(t,n,r)))}function SV(t){let e=bV(t),n=i1(),r=!0;const o=p=>(m,g)=>{var w;const _=xh(t,g,p==="exit"?(w=t.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(_){const{transition:E,transitionEnd:P,...N}=_;m={...m,...N,...P}}return m};function l(p){e=p(t)}function c(p){const{props:m}=t,g=BS(t.parent)||{},w=[],_=new Set;let E={},P=1/0;for(let k=0;k<_V;k++){const $=wV[k],W=n[$],L=m[$]!==void 0?m[$]:g[$],G=gu(L),H=$===p?W.isActive:null;H===!1&&(P=k);let Y=L===g[$]&&L!==m[$]&&G;if(Y&&r&&t.manuallyAnimateOnMount&&(Y=!1),W.protectedKeys={...E},!W.isActive&&H===null||!L&&!W.prevProp||yh(L)||typeof L=="boolean")continue;const j=TV(W.prevProp,L);let T=j||$===p&&W.isActive&&!Y&&G||k>P&&G,A=!1;const D=Array.isArray(L)?L:[L];let F=D.reduce(o($),{});H===!1&&(F={});const{prevResolvedValues:M={}}=W,I={...M,...F},he=ue=>{T=!0,_.has(ue)&&(A=!0,_.delete(ue)),W.needsAnimating[ue]=!0;const ne=t.getValue(ue);ne&&(ne.liveStyle=!1)};for(const ue in I){const ne=F[ue],fe=M[ue];if(E.hasOwnProperty(ue))continue;let le=!1;_m(ne)&&_m(fe)?le=!Zb(ne,fe):le=ne!==fe,le?ne!=null?he(ue):_.add(ue):ne!==void 0&&_.has(ue)?he(ue):W.protectedKeys[ue]=!0}W.prevProp=L,W.prevResolvedValues=F,W.isActive&&(E={...E,...F}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(Y&&j)||A)&&w.push(...D.map(ue=>({animation:ue,options:{type:$}})))}if(_.size){const k={};_.forEach($=>{const W=t.getBaseTarget($),L=t.getValue($);L&&(L.liveStyle=!0),k[$]=W!=null?W:null}),w.push({animation:k})}let N=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(w):Promise.resolve()}function h(p,m){var g;if(n[p].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var E;return(E=_.animationState)===null||E===void 0?void 0:E.setActive(p,m)}),n[p].isActive=m;const w=c(p);for(const _ in n)n[_].protectedKeys={};return w}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=i1(),r=!0}}}function TV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Zb(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i1(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EV extends Mi{constructor(e){super(e),e.animationState||(e.animationState=SV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let jV=0;class CV extends Mi{constructor(){super(...arguments),this.id=jV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AV={animation:{Feature:EV},exit:{Feature:CV}};function wu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const kV=t=>e=>sy(e)&&t(e,Lu(e));function eu(t,e,n,r){return wu(t,e,kV(n),r)}const o1=(t,e)=>Math.abs(t-e);function IV(t,e){const n=o1(t.x,e.x),r=o1(t.y,e.y);return Math.sqrt(n**2+r**2)}class $S{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=bp(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=IV(w.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:P}=w,{timestamp:N}=nn;this.history.push({...P,timestamp:N});const{onStart:k,onMove:$}=this.handlers;_||(k&&k(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=_p(_,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:P,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=bp(w.type==="pointercancel"?this.lastMoveEventInfo:_p(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,k),P&&P(w,k)},!sy(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Lu(e),h=_p(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=nn;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,bp(h,this.history)),this.removeListeners=Fu(eu(this.contextWindow,"pointermove",this.handlePointerMove),eu(this.contextWindow,"pointerup",this.handlePointerUp),eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}}function _p(t,e){return e?{point:e(t.point)}:t}function a1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bp({point:t},e){return{point:t,delta:a1(t,US(e)),offset:a1(t,PV(e)),velocity:RV(e,.1)}}function PV(t){return t[0]}function US(t){return t[t.length-1]}function RV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=US(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const l=Ms(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const zS=1e-4,NV=1-zS,DV=1+zS,HS=.01,VV=0-HS,FV=0+HS;function Zn(t){return t.max-t.min}function LV(t,e,n){return Math.abs(t-e)<=n}function l1(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=NV&&t.scale<=DV||isNaN(t.scale))&&(t.scale=1),(t.translate>=VV&&t.translate<=FV||isNaN(t.translate))&&(t.translate=0)}function tu(t,e,n,r){l1(t.x,e.x,n.x,r?r.originX:void 0),l1(t.y,e.y,n.y,r?r.originY:void 0)}function u1(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function MV(t,e,n){u1(t.x,e.x,n.x),u1(t.y,e.y,n.y)}function c1(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function nu(t,e,n){c1(t.x,e.x,n.x),c1(t.y,e.y,n.y)}function OV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function d1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BV(t,{top:e,left:n,bottom:r,right:o}){return{x:d1(t.x,n,o),y:d1(t.y,e,r)}}function h1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $V(t,e){return{x:h1(t.x,e.x),y:h1(t.y,e.y)}}function UV(t,e){let n=.5;const r=Zn(t),o=Zn(e);return o>r?n=Ba(e.min,e.max-r,t.min):r>o&&(n=Ba(t.min,t.max-o,e.min)),Ws(0,1,n)}function zV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rm=.35;function HV(t=Rm){return t===!1?t=0:t===!0&&(t=Rm),{x:f1(t,"left","right"),y:f1(t,"top","bottom")}}function f1(t,e,n){return{min:p1(t,e),max:p1(t,n)}}function p1(t,e){return typeof t=="number"?t:t[e]||0}const m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ja=()=>({x:m1(),y:m1()}),g1=()=>({min:0,max:0}),kt=()=>({x:g1(),y:g1()});function fr(t){return[t("x"),t("y")]}function WS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function WV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sp(t){return t===void 0||t===1}function Nm({scale:t,scaleX:e,scaleY:n}){return!Sp(t)||!Sp(e)||!Sp(n)}function mo(t){return Nm(t)||GS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GS(t){return y1(t.x)||y1(t.y)}function y1(t){return t&&t!=="0%"}function Gd(t,e,n){const r=t-n,o=e*r;return n+o}function v1(t,e,n,r,o){return o!==void 0&&(t=Gd(t,o,r)),Gd(t,n,r)+e}function Dm(t,e=0,n=1,r,o){t.min=v1(t.min,e,n,r,o),t.max=v1(t.max,e,n,r,o)}function qS(t,{x:e,y:n}){Dm(t.x,e.translate,e.scale,e.originPoint),Dm(t.y,n.translate,n.scale,n.originPoint)}const x1=.999999999999,w1=1.0000000000001;function qV(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let h=0;h<o;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Aa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,qS(t,c)),r&&mo(l.latestValues)&&Aa(t,l.latestValues))}e.x<w1&&e.x>x1&&(e.x=1),e.y<w1&&e.y>x1&&(e.y=1)}function Ca(t,e){t.min=t.min+e,t.max=t.max+e}function _1(t,e,n,r,o=.5){const l=xt(t.min,t.max,o);Dm(t,e,n,l,r)}function Aa(t,e){_1(t.x,e.x,e.scaleX,e.scale,e.originX),_1(t.y,e.y,e.scaleY,e.scale,e.originY)}function KS(t,e){return WS(GV(t.getBoundingClientRect(),e))}function KV(t,e,n){const r=KS(t,n),{scroll:o}=e;return o&&(Ca(r.x,o.offset.x),Ca(r.y,o.offset.y)),r}const QS=({current:t})=>t?t.ownerDocument.defaultView:null,QV=new WeakMap;class YV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(g).point)},l=(g,w)=>{const{drag:_,dragPropagation:E,onDragStart:P}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UN(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(k=>{let $=this.getAxisMotionValue(k).get()||0;if(cs.test($)){const{projection:W}=this.visualElement;if(W&&W.layout){const L=W.layout.layoutBox[k];L&&($=Zn(L)*(parseFloat($)/100))}}this.originPoint[k]=$}),P&&dt.postRender(()=>P(g,w)),Tm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,w)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:P,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:k}=w;if(E&&this.currentDirection===null){this.currentDirection=XV(k),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,k),this.updateAxis("y",w.point,k),this.visualElement.render(),N&&N(g,w)},h=(g,w)=>this.stop(g,w),p=()=>fr(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $S(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:QS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&dt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!dd(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=OV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Ta(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=BV(o.layoutBox,n):this.constraints=!1,this.elastic=HV(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&fr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=zV(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ta(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=KV(r,o.root,this.visualElement.getTransformPagePoint());let c=$V(o.layout.layoutBox,l);if(n){const h=n(WV(c));this.hasMutatedConstraints=!!h,h&&(c=WS(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=fr(g=>{if(!dd(g,n,this.currentDirection))return;let w=p&&p[g]||{};c&&(w={min:0,max:0});const _=o?200:1e6,E=o?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(g,P)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Tm(this.visualElement,e),r.start(gy(e,r,0,n,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:r}=this.getProps();if(!dd(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];l.set(e[n]-xt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ta(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};fr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();o[c]=UV({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fr(c=>{if(!dd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(xt(p,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;QV.set(this.visualElement,this);const e=this.visualElement.current,n=eu(e,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Ta(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),dt.read(r);const c=wu(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(fr(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=p[g].translate,w.set(w.get()+p[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Rm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JV extends Mi{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new YV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const b1=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class ZV extends Mi{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new $S(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:b1(e),onStart:b1(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&dt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=S1(t,e.target.x),r=S1(t,e.target.y);return`${n}% ${r}%`}},e4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Fi.parse(t);if(o.length>5)return r;const l=Fi.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,p=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=p;const m=xt(h,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class t4 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;_N(n4),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),jd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||dt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YS(t){const[e,n]=FR(),r=R.useContext(Rb);return a.jsx(t4,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(Bb),isPresent:e,safeToRemove:n})}const n4={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:e4};function r4(t,e,n){const r=wn(t)?t:vu(t);return r.start(gy("",r,e,n)),r.animation}function s4(t){return t instanceof SVGElement&&t.tagName!=="svg"}const i4=(t,e)=>t.depth-e.depth;class o4{constructor(){this.children=[],this.isDirty=!1}add(e){iy(this.children,e),this.isDirty=!0}remove(e){oy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(i4),this.isDirty=!1,this.children.forEach(e)}}function a4(t,e){const n=ds.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(Vi(r),t(l-e))};return dt.read(r,!0),()=>Vi(r)}const XS=["TopLeft","TopRight","BottomLeft","BottomRight"],l4=XS.length,T1=t=>typeof t=="string"?parseFloat(t):t,E1=t=>typeof t=="number"||Ie.test(t);function u4(t,e,n,r,o,l){o?(t.opacity=xt(0,n.opacity!==void 0?n.opacity:1,c4(r)),t.opacityExit=xt(e.opacity!==void 0?e.opacity:1,0,d4(r))):l&&(t.opacity=xt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<l4;c++){const h=`border${XS[c]}Radius`;let p=j1(e,h),m=j1(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||E1(p)===E1(m)?(t[h]=Math.max(xt(T1(p),T1(m),r),0),(cs.test(m)||cs.test(p))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function j1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const c4=JS(0,.5,gS),d4=JS(.5,.95,Jn);function JS(t,e,n){return r=>r<t?0:r>e?1:n(Ba(t,e,r))}function C1(t,e){t.min=e.min,t.max=e.max}function dr(t,e){C1(t.x,e.x),C1(t.y,e.y)}function A1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function k1(t,e,n,r,o){return t-=e,t=Gd(t,1/n,r),o!==void 0&&(t=Gd(t,1/o,r)),t}function h4(t,e=0,n=1,r=.5,o,l=t,c=t){if(cs.test(e)&&(e=parseFloat(e),e=xt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=xt(l.min,l.max,r);t===l&&(h-=e),t.min=k1(t.min,e,n,h,o),t.max=k1(t.max,e,n,h,o)}function I1(t,e,[n,r,o],l,c){h4(t,e[n],e[r],e[o],e.scale,l,c)}const f4=["x","scaleX","originX"],p4=["y","scaleY","originY"];function P1(t,e,n,r){I1(t.x,e,f4,n?n.x:void 0,r?r.x:void 0),I1(t.y,e,p4,n?n.y:void 0,r?r.y:void 0)}function R1(t){return t.translate===0&&t.scale===1}function ZS(t){return R1(t.x)&&R1(t.y)}function N1(t,e){return t.min===e.min&&t.max===e.max}function m4(t,e){return N1(t.x,e.x)&&N1(t.y,e.y)}function D1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function e2(t,e){return D1(t.x,e.x)&&D1(t.y,e.y)}function V1(t){return Zn(t.x)/Zn(t.y)}function F1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class g4{constructor(){this.members=[]}add(e){iy(this.members,e),e.scheduleRender()}remove(e){if(oy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y4(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:w,rotateY:_,skewX:E,skewY:P}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),P&&(r+=`skewY(${P}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(r+=`scale(${h}, ${p})`),r||"none"}const go={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ql=typeof window!="undefined"&&window.MotionDebug!==void 0,Tp=["","X","Y","Z"],v4={visibility:"hidden"},L1=1e3;let x4=0;function Ep(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function t2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&t2(r)}function n2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=x4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ql&&(go.totalNodes=go.resolvedTargetDeltas=go.recalculatedProjection=0),this.nodes.forEach(b4),this.nodes.forEach(C4),this.nodes.forEach(A4),this.nodes.forEach(S4),Ql&&window.MotionDebug.record(go)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new o4)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ay),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s4(c),this.instance=c;const{layoutId:p,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),t){let w;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=a4(_,250),jd.hasAnimatedSinceResize&&(jd.hasAnimatedSinceResize=!1,this.nodes.forEach(O1))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||N4,{onLayoutAnimationStart:k,onLayoutAnimationComplete:$}=g.getProps(),W=!this.targetLayout||!e2(this.targetLayout,P)||E,L=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||L||_&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,L);const G={...ty(N,"layout"),onPlay:k,onComplete:$};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else _||O1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M1);return}this.isUpdating||this.nodes.forEach(E4),this.isUpdating=!1,this.nodes.forEach(j4),this.nodes.forEach(w4),this.nodes.forEach(_4),this.clearAllSnapshots();const h=ds.now();nn.delta=Ws(0,1e3/60,h-nn.timestamp),nn.timestamp=h,nn.isProcessing=!0,mp.update.process(nn),mp.preRender.process(nn),mp.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T4),this.sharedNodes.forEach(I4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!ZS(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||mo(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),D4(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return kt();const p=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(V4))){const{scroll:g}=this.root;g&&(Ca(p.x,g.offset.x),Ca(p.y,g.offset.y))}return p}removeElementScroll(c){var h;const p=kt();if(dr(p,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return p;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:w,options:_}=g;g!==this.root&&w&&_.layoutScroll&&(w.wasRoot&&dr(p,c),Ca(p.x,w.offset.x),Ca(p.y,w.offset.y))}return p}applyTransform(c,h=!1){const p=kt();dr(p,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Aa(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),mo(g.latestValues)&&Aa(p,g.latestValues)}return mo(this.latestValues)&&Aa(p,this.latestValues),p}removeTransform(c){const h=kt();dr(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!mo(m.latestValues))continue;Nm(m.latestValues)&&m.updateSnapshot();const g=kt(),w=m.measurePageBox();dr(g,w),P1(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return mo(this.latestValues)&&P1(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:_}=this.options;if(!(!this.layout||!(w||_))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),nu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),qS(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),nu(this.relativeTargetOrigin,this.target,E.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ql&&go.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nm(this.parent.latestValues)||GS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||w))return;dr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;qV(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=kt());const{target:P}=h;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(A1(this.prevProjectionDelta.x,this.projectionDelta.x),A1(this.prevProjectionDelta.y,this.projectionDelta.y)),tu(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!F1(this.projectionDelta.x,this.prevProjectionDelta.x)||!F1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),Ql&&go.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ja(),this.projectionDelta=ja(),this.projectionDeltaWithTransform=ja()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},w=ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=kt(),E=p?p.source:void 0,P=this.layout?this.layout.source:void 0,N=E!==P,k=this.getStack(),$=!k||k.members.length<=1,W=!!(N&&!$&&this.options.crossfade===!0&&!this.path.some(R4));this.animationProgress=0;let L;this.mixTargetDelta=G=>{const H=G/1e3;B1(w.x,c.x,H),B1(w.y,c.y,H),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P4(this.relativeTarget,this.relativeTargetOrigin,_,H),L&&m4(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=kt()),dr(L,this.relativeTarget)),N&&(this.animationValues=g,u4(g,m,this.latestValues,H,W,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{jd.hasAnimatedSinceResize=!0,this.currentAnimation=r4(0,L1,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:g}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&r2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||kt();const w=Zn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const _=Zn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+_}dr(h,p),Aa(h,g),tu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new g4),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&Ep("z",c,m,this.animationValues);for(let g=0;g<Tp.length;g++)Ep(`rotate${Tp[g]}`,c,m,this.animationValues),Ep(`skew${Tp[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return v4;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Td(c==null?void 0:c.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Td(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const _=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=y4(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:E,y:P}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${P.origin*100}% 0`,w.animationValues?m.opacity=w===this?(p=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=w===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in $d){if(_[N]===void 0)continue;const{correct:k,applyTo:$}=$d[N],W=m.transform==="none"?_[N]:k(_[N],w);if($){const L=$.length;for(let G=0;G<L;G++)m[$[G]]=W}else m[N]=W}return this.options.layoutId&&(m.pointerEvents=w===this?Td(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(M1),this.root.sharedNodes.clear()}}}function w4(t){t.updateLayout()}function _4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?fr(w=>{const _=c?n.measuredBox[w]:n.layoutBox[w],E=Zn(_);_.min=r[w].min,_.max=_.min+E}):r2(l,n.layoutBox,r)&&fr(w=>{const _=c?n.measuredBox[w]:n.layoutBox[w],E=Zn(r[w]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+E)});const h=ja();tu(h,r,n.layoutBox);const p=ja();c?tu(p,t.applyTransform(o,!0),n.measuredBox):tu(p,r,n.layoutBox);const m=!ZS(h);let g=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:_,layout:E}=w;if(_&&E){const P=kt();nu(P,n.layoutBox,_.layoutBox);const N=kt();nu(N,r,E.layoutBox),e2(P,N)||(g=!0),w.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=P,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function b4(t){Ql&&go.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T4(t){t.clearSnapshot()}function M1(t){t.clearMeasurements()}function E4(t){t.isLayoutDirty=!1}function j4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C4(t){t.resolveTargetDelta()}function A4(t){t.calcProjection()}function k4(t){t.resetSkewAndRotation()}function I4(t){t.removeLeadSnapshot()}function B1(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $1(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function P4(t,e,n,r){$1(t.x,e.x,n.x,r),$1(t.y,e.y,n.y,r)}function R4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const N4={duration:.45,ease:[.4,0,.1,1]},U1=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),z1=U1("applewebkit/")&&!U1("chrome/")?Math.round:Jn;function H1(t){t.min=z1(t.min),t.max=z1(t.max)}function D4(t){H1(t.x),H1(t.y)}function r2(t,e,n){return t==="position"||t==="preserve-aspect"&&!LV(V1(e),V1(n),.2)}function V4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const F4=n2({attachResizeListener:(t,e)=>wu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jp={current:void 0},s2=n2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jp.current){const t=new F4({});t.mount(window),t.setOptions({layoutScroll:!0}),jp.current=t}return jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),L4={pan:{Feature:ZV},drag:{Feature:JV,ProjectionNode:s2,MeasureLayout:YS}};function W1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&dt.postRender(()=>l(e,Lu(e)))}class M4 extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=LN(e,n=>(W1(this.node,n,"Start"),r=>W1(this.node,r,"End"))))}unmount(){}}class O4 extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fu(wu(this.node.current,"focus",()=>this.onFocus()),wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G1(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&dt.postRender(()=>l(e,Lu(e)))}class B4 extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=$N(e,n=>(G1(this.node,n,"Start"),(r,{success:o})=>G1(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vm=new WeakMap,Cp=new WeakMap,$4=t=>{const e=Vm.get(t.target);e&&e(t)},U4=t=>{t.forEach($4)};function z4({root:t,...e}){const n=t||document;Cp.has(n)||Cp.set(n,{});const r=Cp.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(U4,{root:t,...e})),r[o]}function H4(t,e,n){const r=z4(e);return Vm.set(t,n),r.observe(t),()=>{Vm.delete(t),r.unobserve(t)}}const W4={some:0,all:1};class G4 extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:W4[o]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),_=m?g:w;_&&_(p)};return H4(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(q4(e,n))&&this.startObserver()}unmount(){}}function q4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const K4={inView:{Feature:G4},tap:{Feature:B4},focus:{Feature:O4},hover:{Feature:M4}},Q4={layout:{ProjectionNode:s2,MeasureLayout:YS}},qd={current:null},yy={current:!1};function i2(){if(yy.current=!0,!!Bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qd.current=t.matches;t.addListener(e),e()}else qd.current=!1}const Y4=[...IS,yn,Fi],X4=t=>Y4.find(kS(t)),q1=new WeakMap;function J4(t,e,n){for(const r in e){const o=e[r],l=n[r];if(wn(o))t.addValue(r,o);else if(wn(l))t.addValue(r,vu(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,vu(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const K1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=ds.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,dt.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=vh(n),this.isVariantNode=Mb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const P=_[E];p[E]!==void 0&&wn(P)&&P.set(p[E],!1)}}mount(e){this.current=e,q1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yy.current||i2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){q1.delete(this.current),this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Po.has(e),o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $a){const n=$a[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<K1.length;r++){const o=K1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=J4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(CS(o)||vS(o))?o=parseFloat(o):!X4(o)&&Fi.test(n)&&(o=TS(e,n)),this.setBaseTarget(e,wn(o)?o.get():o)),wn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=qg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!wn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ay),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class o2 extends Z4{constructor(){super(...arguments),this.KeyframeResolver=PS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eF(t){return window.getComputedStyle(t)}class tF extends o2{constructor(){super(...arguments),this.type="html",this.renderInstance=qb}readValueFromInstance(e,n){if(Po.has(n)){const r=hy(n);return r&&r.default||0}else{const r=eF(e),o=(Hb(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KS(e,n)}build(e,n,r){Yg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ey(e,n,r)}}class nF extends o2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const r=hy(n);return r&&r.default||0}return n=Kb.has(n)?n:Hg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Xb(e,n,r)}build(e,n,r){Xg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){Qb(e,n,r,o)}mount(e){this.isSVGTag=Zg(e.tagName),super.mount(e)}}const rF=(t,e)=>Gg(t)?new nF(e):new tF(e,{allowProjection:t!==R.Fragment}),sF=IN({...AV,...K4,...L4,...Q4},rF),iF=WR(sF);function oF(){!yy.current&&i2();const[t]=R.useState(qd.current);return t}const wo={bg:"#0C1C2E",nav:"#0A1728",border:"#2B4C73",icon:"#5C8BC6"};function aF(){return a.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+wo.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function lF(){return a.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[a.jsxs("defs",{children:[a.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[a.jsx("stop",{offset:"0%",stopColor:wo.icon,stopOpacity:"0.42"}),a.jsx("stop",{offset:"70%",stopColor:wo.icon,stopOpacity:"0"})]}),a.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[a.jsx("stop",{offset:"0%",stopColor:wo.icon,stopOpacity:"0.20"}),a.jsx("stop",{offset:"70%",stopColor:wo.icon,stopOpacity:"0"})]})]}),a.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),a.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function Q1({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=oF();return a.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:wo.border,background:"var(--nav, "+wo.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[a.jsx(aF,{}),a.jsx(iF.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),a.jsx(lF,{}),a.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const Ap={borderColor:"#2B4C73",background:"#1A2F4A"},hd={borderColor:"#2B4C73",background:"#152A42"};function Os({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:h,rounded:p="rounded-3xl",padded:m=!0,centerFramed:g=!1,leftWidth:w=0,rightWidth:_=0,stickyRails:E=!0,mode:P="card",outerPadding:N="px-4 py-3",leftPlacement:k="inside",stickyTopbar:$=!0,stickySubheader:W=!0,shellViewportOffset:L="var(--app-topbar-h,72px)",topbarHeight:G=56}){const H={"--left":typeof w=="number"?`${w}px`:w,"--right":typeof _=="number"?`${_}px`:_},Y=a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Ap,children:t}),(e||n||r)&&a.jsxs("div",{className:[$?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Ap,children:[a.jsxs("div",{className:"min-w-0",children:[e&&a.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&a.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?a.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&a.jsx("div",{className:[W?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...W?{top:$?`${G}px`:0}:{},...Ap},children:o})]}),j=P==="card"?({children:A})=>a.jsx(Q1,{rounded:p,padded:m,children:A}):({children:A})=>a.jsx("div",{className:`w-full ${N}`,children:A}),T=a.jsx("div",{className:"relative min-h-0 h-full",style:H,children:a.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...hd,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):w?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"}),g?a.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:hd,children:h}):a.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:h}),c?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...hd,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"})]})});return k==="bleed"&&P==="card"?a.jsx("div",{className:`w-full ${N}`,children:a.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[Y,a.jsx("div",{className:"flex-1 min-h-0",style:H,children:a.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...hd,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):w?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"}),a.jsx(Q1,{rounded:p,padded:m,children:a.jsx("div",{className:"flex-1 min-h-0 h-full",children:T})})]})})]})}):a.jsx(j,{children:a.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${L})`},children:[Y,a.jsx("div",{className:"flex-1 min-h-0",children:T})]})})}function uF(){return a.jsx(Os,{hex:a.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:a.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:a.jsx(cF,{}),right:a.jsx(dF,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsx(kp,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),a.jsx(kp,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),a.jsx(kp,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function cF(){return a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ip,{to:"/dashboard/kpis",children:"KPIs"}),a.jsx(Ip,{to:"/dashboard/activity",children:"Activity"}),a.jsx(Ip,{to:"/dashboard/progression",children:"Progression"})]})]})}function dF(){return a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),a.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),a.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),a.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function kp({to:t,title:e,desc:n}){return a.jsxs(on,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[a.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?a.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Ip({to:t,children:e}){return a.jsx(on,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function hF(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard  KPIs"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(Pp,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),a.jsx(Pp,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),a.jsx(Pp,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Pp({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),a.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function fF(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard  Activity"}),a.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),a.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[a.jsx("li",{children:" Neues Scan-File hochgeladen"}),a.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),a.jsx("li",{children:" Gilden-Event geplant"})]})]})}function pF(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard  Progression"}),a.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[a.jsx(Rp,{title:"Scrapbook 100%",progress:72}),a.jsx(Rp,{title:"Fortress Ausbaustufe",progress:48}),a.jsx(Rp,{title:"Underworld Boss",progress:35})]})]})}function Rp({title:t,progress:e}){return a.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),a.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),a.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function mF(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Discover"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(ya,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),a.jsx(ya,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),a.jsx(ya,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),a.jsx(ya,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),a.jsx(ya,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),a.jsx(ya,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function ya({to:t,title:e,desc:n}){return a.jsxs(on,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}const Fm=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(Fm.map(t=>[t.id,t]));const a2="TL_FILTERS_V2",os={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function gF(){var t;try{const e=localStorage.getItem(a2);if(!e)return os;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:os.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:os.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:os.filterMode;return{...os,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:os.sortBy}}catch(e){return os}}function yF(t){try{localStorage.setItem(a2,JSON.stringify(t))}catch(e){}}const l2=R.createContext(null);function vF({children:t}){const[e,n]=R.useState(()=>gF());R.useEffect(()=>{yF(e)},[e]);const r=G=>n(H=>({...H,servers:Array.from(new Set(G))})),o=G=>n(H=>{const Y=new Set(H.servers);return Y.has(G)?Y.delete(G):Y.add(G),{...H,servers:Array.from(Y)}}),l=()=>n(G=>({...G,servers:[]})),c=G=>n(H=>({...H,classes:Array.from(new Set(G))})),h=G=>n(H=>{const Y=new Set(H.classes);return Y.has(G)?Y.delete(G):Y.add(G),{...H,classes:Array.from(Y)}}),p=()=>n(G=>({...G,classes:[]})),m=G=>n(H=>({...H,days:G})),g=G=>m(G),w=G=>n(H=>({...H,sortBy:G||"level"})),_=G=>n(H=>({...H,favoritesOnly:!!G})),E=G=>n(H=>({...H,activeOnly:!!G})),P=G=>n(H=>({...H,filterMode:G})),N=G=>n(H=>({...H,listView:G})),k=G=>n(H=>({...H,bottomFilterOpen:!!G})),$=G=>n(H=>({...H,serverSheetOpen:!!G})),W=()=>n(os),L=R.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:h,clearClasses:p,setDays:m,setRange:g,setSortBy:w,setFavoritesOnly:_,setActiveOnly:E,setFilterMode:P,setListView:N,setBottomFilterOpen:k,setServerSheetOpen:$,resetFilters:W}),[e]);return a.jsx(l2.Provider,{value:L,children:t})}function Mu(){const t=R.useContext(l2);return t||{...os,range:os.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const xF="_hudWrap_107o7_9",wF="_hudBtn_107o7_11",_F="_hudSubBtn_107o7_15",bF="_iconRow_107o7_19",SF="_segmented_107o7_21",TF="_sortLabel_107o7_27",EF="_sortSelect_107o7_29",jF="_chip_107o7_31",CF="_isActive_107o7_33",Ln={hudWrap:xF,hudBtn:wF,hudSubBtn:_F,iconRow:bF,segmented:SF,sortLabel:TF,sortSelect:EF,chip:jF,isActive:CF};function AF({active:t=!1,title:e,iconUrl:n,fallback:r="",size:o=40,onClick:l}){const c=Math.round(o*.7),h=De.useMemo(()=>{const $=[],W=Pb(n,c*2,c*2,"contain");W&&$.push(W);const L=Nu(n,c*2);return L&&L!==W&&$.push(L),!$.length&&n&&$.push(n),$},[n,c]),[p,m]=De.useState(0),[g,w]=De.useState(!1),[_,E]=De.useState(!1);De.useEffect(()=>m(0),[h]);const P=h[p]||"",N={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(N.background="rgba(255,255,255,.04)"),t&&(N.outline="2px solid #5C8BC6");const k={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return a.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onFocus:()=>E(!0),onBlur:()=>E(!1),style:N,children:P?a.jsx("img",{src:P,alt:e||"class",width:c,height:c,loading:"lazy",style:k,onError:()=>{m($=>$+1<h.length?$+1:$)}}):a.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function kF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:h,setQuickFav:p,quickActive:m,setQuickActive:g,filterMode:w,setBottomFilterOpen:_,serverSheetOpen:E,setServerSheetOpen:P,resetAll:N}=Mu();return a.jsxs("div",{className:Ln.hudWrap,children:[a.jsxs("button",{type:"button",className:Ln.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),P(!0)},"aria-haspopup":"dialog","aria-expanded":E||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),a.jsxs("div",{className:Ln.iconRow,children:[Hs.map(k=>a.jsx(AF,{active:e.includes(k.key),title:k.label,iconUrl:k.iconUrl,fallback:k.fallback,size:40,onClick:()=>n($=>$.includes(k.key)?$.filter(W=>W!==k.key):[...$,k.key])},k.key)),a.jsx("button",{type:"button",className:Ln.hudSubBtn,onClick:()=>n(Hs.map(k=>k.key)),children:"All"}),a.jsx("button",{type:"button",className:Ln.hudSubBtn,onClick:()=>n([]),children:"None"})]}),a.jsx("div",{className:Ln.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(k=>a.jsx("button",{type:"button","aria-pressed":r===k,onClick:()=>o(k),children:k},k))}),a.jsx("label",{className:Ln.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),a.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:k=>c(k.target.value),className:Ln.sortSelect,"aria-label":"Sort",children:[a.jsx("option",{value:"level",children:"Level"}),a.jsx("option",{value:"scrapbook",children:"Scrapbook"}),a.jsx("option",{value:"activity",children:"Activity"}),a.jsx("option",{value:"lastScan",children:"Last scan"})]}),a.jsx("button",{type:"button",className:`${Ln.chip} ${h?Ln.isActive:""}`,onClick:()=>p(k=>!k),children:" Favorites"}),a.jsx("button",{type:"button",className:`${Ln.chip} ${m?Ln.isActive:""}`,onClick:()=>g(k=>!k),children:" Active"}),a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("button",{type:"button",className:Ln.hudSubBtn,onClick:N,children:"Reset"}),w==="sheet"&&a.jsx("button",{type:"button",className:Ln.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Kt={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function IF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:h}){const[p,m]=R.useState(""),g=R.useRef(null),[w,_]=R.useState(null),[E,P]=R.useState(!1);R.useEffect(()=>{if(!t)return;const L=G=>{G.key==="Escape"&&e()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[t,e]),R.useEffect(()=>{if(t&&g.current){const L=g.current.querySelector("#sheet-serversearch");L==null||L.focus()}},[t]);const N=R.useMemo(()=>["EU","US","INT","Fusion"].every(G=>{var H;return!((H=r==null?void 0:r[G])!=null&&H.length)}),[r]);R.useEffect(()=>{if(!t||!N)return;let L=!0;return(async()=>{try{P(!0);const G=await mh(pr(sn,"stats_public","toplists_bundle_v1"));if(!L)return;const H=G.data()||{},Y=Array.isArray(H.servers)?H.servers:JSON.parse(H.servers||"[]");_(PF(Y))}catch(G){_(null)}finally{L&&P(!1)}})(),()=>{L=!1}},[t,N]);const k=R.useMemo(()=>N?w!=null?w:{EU:[],US:[],INT:[],Fusion:[]}:r,[N,r,w]),$=R.useMemo(()=>Object.keys(k),[k]),W=L=>{const G=p.trim().toLowerCase();return G?L.toLowerCase().includes(G):!0};return t?a.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:NF,onClick:L=>{L.target===L.currentTarget&&e()},children:a.jsxs("div",{ref:g,style:n==="modal"?u2:DF,className:"sf-server-sheet",children:[a.jsxs("div",{style:VF,children:[a.jsx("h2",{id:"server-dialog-title",style:FF,children:"Select servers"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{type:"button",onClick:h,style:Y1,children:"Clear"}),a.jsx("button",{type:"button",onClick:e,style:zF,children:"Done"})]})]}),a.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[a.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),a.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:p,onChange:L=>m(L.target.value),"aria-label":"Search servers",autoComplete:"off",style:MF})]}),a.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:$.map(L=>{const G=(k[L]||[]).filter(W);return a.jsxs("section",{"aria-labelledby":`region-${L}`,children:[a.jsxs("div",{style:OF,children:[a.jsxs("h3",{id:`region-${L}`,style:LF,children:[L," ",E&&N?a.jsx("span",{style:{marginLeft:6,fontSize:12,color:Kt.text2},children:"(loading)"}):null]}),a.jsx("div",{style:{display:"flex",gap:8},children:a.jsx("button",{type:"button",style:Y1,onClick:()=>{c?c(L):G.filter(Y=>!o.includes(Y)).forEach(l)},children:"Select all"})})]}),a.jsxs("div",{style:BF,children:[G.map(H=>{const Y=o.includes(H);return a.jsx("button",{type:"button",onClick:()=>l(H),"aria-pressed":Y,title:H,style:{...$F,...Y?UF:null},children:H},H)}),G.length===0&&a.jsx("div",{style:{color:Kt.text2,fontSize:13,padding:"4px 2px"},children:E&&N?"Loading":"No servers found"})]})]},L)})})]})}):null}function PF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(RF)),e}function RF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const NF={position:"fixed",inset:0,background:Kt.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},u2={width:"min(900px, 100%)",background:Kt.tile,border:`1px solid ${Kt.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Kt.text},DF={...u2,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},VF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},FF={fontSize:18,margin:0},LF={fontSize:14,margin:0,color:Kt.text2},MF={width:"100%",background:Kt.input,color:Kt.text,border:`1px solid ${Kt.line}`,borderRadius:12,padding:"10px 12px"},OF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},BF={display:"flex",flexWrap:"wrap",gap:8},$F={background:Kt.chip,border:`1px solid ${Kt.line}`,padding:"6px 10px",borderRadius:999,color:Kt.text},UF={outline:`2px solid ${Kt.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},zF={background:"#25456B",color:Kt.text,border:`1px solid ${Kt.accent}`,borderRadius:10,padding:"8px 12px"},Y1={background:"transparent",color:Kt.text,border:`1px solid ${Kt.line}`,borderRadius:10,padding:"8px 12px"},HF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=HF,document.head.appendChild(e)}}const ln={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function WF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:h,quickFav:p,setQuickFav:m,quickActive:g,setQuickActive:w}=Mu(),_=R.useRef(null);return R.useEffect(()=>{if(!t)return;const E=P=>{P.key==="Escape"&&e()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,e]),R.useEffect(()=>{if(t&&_.current){const E=_.current.querySelector("#sheet-search");E==null||E.focus()}},[t]),t?a.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:GF,onClick:E=>{E.target===E.currentTarget&&e()},children:a.jsxs("div",{ref:_,style:qF,children:[a.jsxs("div",{style:KF,children:[a.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:ln.text},children:"Filters"}),a.jsx("button",{type:"button",onClick:e,style:YF,children:"Done"})]}),a.jsxs("div",{style:{display:"grid",gap:8},children:[a.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),a.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:E=>r(E.target.value),"aria-label":"Search",autoComplete:"off",style:c2})]}),a.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[a.jsx("span",{style:{color:ln.text2,fontSize:12},children:"Range"}),a.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(E=>a.jsx("button",{type:"button","aria-pressed":o===E,onClick:()=>l(E),style:{...Np,...o===E?Dp:null},children:E},E))})]}),a.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[a.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:ln.text2,fontSize:12},children:"Sort"}),a.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:E=>h(E.target.value),"aria-label":"Sort",autoComplete:"off",style:QF,children:[a.jsx("option",{value:"sum",children:"Base Sum"}),a.jsx("option",{value:"main",children:"Main Base Stat"}),a.jsx("option",{value:"constitution",children:"Constitution"}),a.jsx("option",{value:"level",children:"Level"}),a.jsx("option",{value:"delta",children:" Rank"}),a.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[a.jsx("button",{type:"button",onClick:()=>m(E=>!E),"aria-pressed":p,style:{...Np,...p?Dp:null},children:" Favorites"}),a.jsx("button",{type:"button",onClick:()=>w(E=>!E),"aria-pressed":g,style:{...Np,...g?Dp:null},children:" Active"})]})]})}):null}const GF={position:"fixed",inset:0,background:ln.backdrop,zIndex:60,display:"grid",alignItems:"end"},qF={background:ln.tile,borderTop:`1px solid ${ln.line}`,borderLeft:`1px solid ${ln.line}`,borderRight:`1px solid ${ln.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:ln.text,maxHeight:"80vh",overflow:"auto"},KF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},c2={width:"100%",background:ln.input,color:ln.text,border:`1px solid ${ln.line}`,borderRadius:12,padding:"10px 12px"},QF={...c2,appearance:"none"},Np={background:"#14273E",border:`1px solid ${ln.line}`,padding:"6px 10px",borderRadius:999,color:ln.text},Dp={outline:`2px solid ${ln.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},YF={background:"#25456B",color:ln.text,border:`1px solid ${ln.accent}`,borderRadius:10,padding:"8px 12px"},XF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=XF,document.head.appendChild(e)}}function JF(){var o;const t=Mu(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:a.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[a.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:a.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,h,p,m,g,w,_;return a.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[a.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),a.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(h=l.server)!=null?h:""})]}),a.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",a.jsx("span",{style:{textTransform:"uppercase"},children:(p=l.class)!=null?p:""}),"  Lv ",(m=l.level)!=null?m:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[a.jsx(Vp,{children:l.active?"Active":"Idle"}),l.favorite&&a.jsx(Vp,{children:" Fav"}),a.jsx(Vp,{children:`Scan ${(w=l.lastScanDays)!=null?w:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,h,p,m;return a.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",a.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(h=l.server)!=null?h:"","  Lv ",(p=l.level)!=null?p:"",")"]})]},(m=l.id)!=null?m:`${l.name}-${l.server}`)})})]})}function Vp({children:t}){return a.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const d2=R.createContext(null),X1=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function ZF(t,e){return t.timeRange===e.timeRange&&X1(t.servers,e.servers)&&X1(t.classes,e.classes)}function e5(t,e){return t.field===e.field&&t.dir===e.dir}function t5({children:t}){const[e,n]=R.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=R.useState({field:"Level",dir:"desc"}),[l,c]=R.useState({loading:!1,error:null,data:[],lastUpdated:null}),h=R.useCallback(w=>{n(_=>{const E=typeof w=="function"?w(_):{..._,...w};return ZF(_,E)?_:E})},[]),p=R.useCallback(w=>{o(_=>{const E=typeof w=="function"?w(_):w;return e5(_,E)?_:E})},[]),m=R.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);R.useEffect(()=>{let w=!1;return w||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{w=!0}},[m]);const g=R.useMemo(()=>({state:l,filters:e,sort:r,setFilters:h,setSort:p}),[l,e,r,h,p]);return a.jsx(d2.Provider,{value:g,children:t})}function n5(){const t=R.useContext(d2);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function r5(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function s5(){const t=Mu(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:h,setServerSheetOpen:p,servers:m,setServers:g,classes:w,range:_,sortBy:E}=t;return a.jsxs(a.Fragment,{children:[a.jsxs(Os,{mode:"card",title:"Top Lists",actions:a.jsx(o5,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?a.jsx(kF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[a.jsx(JF,{}),r==="table"&&a.jsx(t5,{db:sn,children:a.jsx(i5,{servers:m!=null?m:[],classes:w!=null?w:[],range:_!=null?_:"all",sortKey:E!=null?E:"level"})})]}),a.jsx(IF,{mode:"modal",open:h,onClose:()=>p(!1),serversByRegion:Fm,selected:m,onToggle:P=>g(N=>N.includes(P)?N.filter(k=>k!==P):[...N,P]),onSelectAllInRegion:P=>g(Fm[P]),onClearAll:()=>g([])}),a.jsx(WF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function i5({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=n5(),{loading:h,error:p,data:m,lastUpdated:g}=o;R.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),R.useEffect(()=>{const _=r5(r);c(_)},[r,c]);const w=_=>_==null?"":new Intl.NumberFormat("en").format(_);return a.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[a.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[a.jsxs("div",{children:[h?"Loading":p?"Error":"Ready","  ",m.length," rows"]}),a.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),p&&a.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[a.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),a.jsx("div",{style:{wordBreak:"break-all"},children:p}),a.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{padding:"8px 6px"},children:"#"}),a.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),a.jsxs("tbody",{children:[m.map((_,E)=>{var P,N,k;return a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),a.jsx("td",{style:{padding:"8px 6px"},children:_[" Rank"]}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Level)}),a.jsx("td",{style:{padding:"8px 6px"},children:(P=_.Guild)!=null?P:""}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Main)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Con)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_["Sum Base Stats"])}),a.jsx("td",{style:{padding:"8px 6px"},children:(N=_.Ratio)!=null?N:""}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Mine)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Treasury)}),a.jsx("td",{style:{padding:"8px 6px"},children:(k=_["Last Scan"])!=null?k:""}),a.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${E}`)}),h&&m.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!h&&!p&&m.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function o5(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=Mu();return a.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[a.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[a.jsx(J1,{to:"/toplists/players",label:"Players"}),a.jsx(J1,{to:"/toplists/guilds",label:"Guilds"})]}),a.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),a.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[a.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),a.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),a.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),a.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),a.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[a.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),a.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),a.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function J1({to:t,label:e}){return a.jsx(Qn,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const a5=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function l5(){return a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),a5.map(t=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[a.jsxs("div",{children:["#",t.rank]}),a.jsxs("div",{children:[t.name,"  ",t.server]}),a.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),a.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function u5(t="players"){const e=Ao(),{search:n,pathname:r}=fs();return[new URLSearchParams(n).get("tab")||t,h=>{const p=new URLSearchParams(n);p.set("tab",h),e(`${r}?${p.toString()}`,{replace:!1})}]}function c5(){const[t,e]=u5("players");return a.jsx(vF,{children:t==="players"?a.jsx(s5,{tab:t,setTab:e}):a.jsx(l5,{tab:t,setTab:e})})}function d5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players  Browse"})})}function h5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players  Rankings"})})}function f5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players  Stats"})})}const et={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Z1({children:t,style:e}){return a.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function p5({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return a.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${et.tileAlt}, ${et.active})`,color:et.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${et.line}`},"aria-hidden":!0,children:n||"?"})}function m5({className:t,label:e,size:n=36}){const r=m=>m.toLowerCase().replace(/[^a-z0-9]+/g,""),o=r(t||"");let l=Hs.find(m=>r(m.label)===o)||Hs.find(m=>r(m.label).startsWith(o)||o.startsWith(r(m.label)));const c=l?Nu(l.iconUrl,n*2):void 0,[h,p]=R.useState(!1);return!c||h?a.jsx(p5,{label:e,size:n}):a.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:a.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>p(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function Fp({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:et.tileAlt,border:`1px solid ${et.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{style:{fontSize:12,color:et.textSoft,marginBottom:4},children:t}),a.jsx("div",{style:{fontSize:22,color:et.title,fontWeight:700},children:e}),n?a.jsx("div",{style:{fontSize:12,color:et.textSoft,marginTop:4},children:n}):null]})}function $l({children:t}){return a.jsx("div",{style:{background:et.tileAlt,padding:15,borderRadius:12,border:`1px solid ${et.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const fd=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},g5=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},y5=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Lp(){var k,$,W,L,G,H,Y,j;const t=Hm(),e=t.id||t.pid||t.playerId||t.player||"",n=Ao(),[r,o]=R.useState(!0),[l,c]=R.useState(null),[h,p]=R.useState(null),[m,g]=R.useState("Statistiken");R.useEffect(()=>{let T=!1;async function A(){var D,F,M,I,he,je,we,ue,ne,fe,le,z,Z,ve,Pe,ke,me,Ee,Me,Ve,Be,Pt,Qt,Lt;o(!0),c(null);try{const jt=(e||"").trim();if(!jt){c("Kein Spieler gewhlt."),o(!1);return}const On=pr(sn,`players/${jt}/latest/latest`),er=await mh(On);if(!er.exists()){c("Spieler nicht gefunden."),o(!1);return}const lt=er.data(),ps=(M=fd((F=lt.level)!=null?F:(D=lt.values)==null?void 0:D.Level))!=null?M:null,yr=((je=(he=lt.className)!=null?he:(I=lt.values)==null?void 0:I.Class)!=null?je:null)||null,Cn=((ne=(ue=lt.guildName)!=null?ue:(we=lt.values)==null?void 0:we.Guild)!=null?ne:null)||null,An=(z=(le=lt.name)!=null?le:(fe=lt.values)==null?void 0:fe.Name)!=null?z:jt,Hr=(Pe=(ve=lt.server)!=null?ve:(Z=lt.values)==null?void 0:Z.Server)!=null?Pe:null,vr=(Ee=fd((me=lt.totalStats)!=null?me:(ke=lt.values)==null?void 0:ke["Total Stats"]))!=null?Ee:null,xr=(Lt=fd((Qt=(Be=(Me=lt.values)==null?void 0:Me.Album)!=null?Be:(Ve=lt.values)==null?void 0:Ve["Album %"])!=null?Qt:(Pt=lt.values)==null?void 0:Pt.AlbumPct))!=null?Lt:null,Wr=g5(fd(lt.timestamp));T||p({id:jt,name:An,className:yr,level:ps,guild:Cn,server:Hr,scrapbookPct:xr,totalStats:vr,lastScanDays:Wr})}catch(jt){T||c((jt==null?void 0:jt.message)||"Fehler beim Laden.")}finally{T||o(!1)}}return A(),()=>{T=!0}},[e]);const w=R.useMemo(()=>a.jsxs("div",{style:{padding:24,color:et.textSoft},children:[l!=null?l:"Unbekannter Fehler.",a.jsx("div",{style:{marginTop:12},children:a.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:et.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),_=a.jsx("div",{style:{padding:16,color:et.textSoft},children:"Lade Spielerprofil"}),E=a.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${et.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:y5.map(T=>{const A=T===m;return a.jsx("button",{role:"tab","aria-selected":A,onClick:()=>g(T),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${A?et.active:"transparent"}`,background:A?"rgba(45,78,120,0.35)":"transparent",color:et.title,cursor:"pointer"},children:T},T)})}),P=a.jsxs("div",{style:{marginTop:12},children:[m==="Statistiken"&&a.jsx($l,{children:a.jsxs("div",{style:{color:et.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),m==="Charts"&&a.jsx($l,{children:a.jsxs("div",{style:{color:et.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),m==="Fortschritt"&&a.jsx($l,{children:a.jsxs("div",{style:{color:et.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),m==="Vergleich"&&a.jsx($l,{children:a.jsxs("div",{style:{color:et.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),m==="Historie"&&a.jsx($l,{children:a.jsxs("div",{style:{color:et.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),N=r?_:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${et.line}`},children:a.jsxs(Z1,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[a.jsx(m5,{className:(k=h.className)!=null?k:void 0,label:h.name,size:36}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:18,color:et.title,fontWeight:700},children:h.name}),a.jsxs("div",{style:{fontSize:12,color:et.textSoft},children:[($=h.className)!=null?$:"Klasse ?","  ",(W=h.guild)!=null?W:"","  ",(L=h.server)!=null?L:""]})]})]})}),a.jsxs(Z1,{style:{paddingTop:12,paddingBottom:24},children:[a.jsxs("div",{style:{background:et.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${et.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{children:a.jsx("h2",{style:{margin:0,color:et.title,fontSize:24,fontWeight:800},children:h.name})}),a.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[a.jsxs("span",{style:{color:et.textSoft},children:["Zuletzt aktualisiert: ",(G=h.lastScanDays)!=null?G:0," Tag(e) her"]}),a.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[a.jsx(Fp,{label:"Level",value:(H=h.level)!=null?H:"?"}),a.jsx(Fp,{label:"Total Stats",value:h.totalStats!=null?h.totalStats.toLocaleString():"?"}),a.jsx(Fp,{label:"Gilde",value:(Y=h.guild)!=null?Y:"",hint:(j=h.server)!=null?j:""})]}),E,P]})]}):w;return a.jsx(Os,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:N})}function v5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(ew,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),a.jsx(ew,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function ew({to:t,title:e,desc:n}){return a.jsxs(on,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function x5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds  Rankings"}),a.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function w5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds  Stats"}),a.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function _5(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const b5={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function S5(t){var n;const e=_5(t);return(n=b5[e])!=null?n:null}function T5(t,e=128){const n=S5(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=UP(n),o=Nu(r,e);return{id:n,url:r,thumb:o,fallback:""}}function E5(t,e=128){return T5(t,e).thumb}const pt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function tw({children:t,style:e}){return a.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function j5({name:t,size:e=36}){const n=E5(t,e*2);return a.jsx("div",{style:{width:e,height:e,display:"grid",placeItems:"center",background:"transparent",borderRadius:8,overflow:"visible"},"aria-hidden":!0,children:n?a.jsx("img",{src:n,alt:"",style:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:r=>{const o=r.currentTarget.parentElement;o&&(o.innerHTML=`<div style="font-size:${Math.round(e*.7)}px;filter:drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"></div>`)}}):a.jsx("div",{style:{fontSize:Math.round(e*.72),filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},children:""})})}function Mp({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:pt.tileAlt,border:`1px solid ${pt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{style:{fontSize:12,color:pt.textSoft,marginBottom:4},children:t}),a.jsx("div",{style:{fontSize:22,color:pt.title,fontWeight:700},children:e}),n?a.jsx("div",{style:{fontSize:12,color:pt.textSoft,marginTop:4},children:n}):null]})}function Op({children:t}){return a.jsx("div",{style:{background:pt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${pt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Bp=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},C5=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},A5=["bersicht","Rankings","Historie"];function $p(){var k,$,W,L,G;const t=Hm(),e=t.id||t.gid||t.guildId||t.guild||"",n=Ao(),[r,o]=R.useState(!0),[l,c]=R.useState(null),[h,p]=R.useState(null),[m,g]=R.useState("bersicht");R.useEffect(()=>{let H=!1;async function Y(){var j,T,A,D,F,M,I,he,je,we,ue,ne,fe,le,z,Z,ve,Pe,ke,me;o(!0),c(null);try{const Ee=e.trim();if(!Ee){c("Keine Gilde gewhlt."),o(!1);return}const Me=pr(sn,`guilds/${Ee}/latest/latest`),Ve=await mh(Me);if(!Ve.exists()){c("Gilde nicht gefunden."),o(!1);return}const Be=Ve.data(),Pt=(A=(T=Be.name)!=null?T:(j=Be.values)==null?void 0:j.Name)!=null?A:Ee,Qt=(M=(F=Be.server)!=null?F:(D=Be.values)==null?void 0:D.Server)!=null?M:null,Lt=(ue=Bp((we=(he=Be.memberCount)!=null?he:(I=Be.values)==null?void 0:I["Guild Member Count"])!=null?we:(je=Be.values)==null?void 0:je.GuildMemberCount))!=null?ue:null,jt=(me=Bp((ke=(ve=(z=(fe=Be.hofRank)!=null?fe:(ne=Be.values)==null?void 0:ne["Hall of Fame Rank"])!=null?z:(le=Be.values)==null?void 0:le.HoF)!=null?ve:(Z=Be.values)==null?void 0:Z.Rank)!=null?ke:(Pe=Be.values)==null?void 0:Pe["Guild Rank"]))!=null?me:null,On=C5(Bp(Be.timestamp));H||p({id:Ee,name:Pt,server:Qt,memberCount:Lt,hofRank:jt,lastScanDays:On})}catch(Ee){H||c((Ee==null?void 0:Ee.message)||"Fehler beim Laden.")}finally{H||o(!1)}}return Y(),()=>{H=!0}},[e]);const w=R.useMemo(()=>a.jsxs("div",{style:{padding:24,color:pt.textSoft},children:[l!=null?l:"Unbekannter Fehler.",a.jsx("div",{style:{marginTop:12},children:a.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:pt.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),_=a.jsx("div",{style:{padding:16,color:pt.textSoft},children:"Lade Gildenprofil"}),E=a.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${pt.line}`,marginTop:16},role:"tablist","aria-label":"Gildenprofil Tabs",children:A5.map(H=>{const Y=H===m;return a.jsx("button",{role:"tab","aria-selected":Y,onClick:()=>g(H),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${Y?pt.active:"transparent"}`,background:Y?"rgba(45,78,120,0.35)":"transparent",color:pt.title,cursor:"pointer"},children:H},H)})}),P=a.jsxs("div",{style:{marginTop:12},children:[m==="bersicht"&&a.jsx(Op,{children:a.jsxs("div",{style:{color:pt.textSoft},children:["Platzhalter ",a.jsx("b",{children:"bersicht"}),"  spter: Mitgliederliste, Aktivitt, Gildenbeschreibung."]})}),m==="Rankings"&&a.jsx(Op,{children:a.jsxs("div",{style:{color:pt.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Rankings"}),"  Server-/Global-Rnge, Entwicklung."]})}),m==="Historie"&&a.jsx(Op,{children:a.jsxs("div",{style:{color:pt.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),N=r?_:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${pt.line}`},children:a.jsxs(tw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[a.jsx(j5,{name:h.name,size:36}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:18,color:pt.title,fontWeight:700},children:h.name}),a.jsxs("div",{style:{fontSize:12,color:pt.textSoft},children:[(k=h.server)!=null?k:"Server ?"," "," ",h.memberCount!=null?`${h.memberCount} Mitglieder`:"Mitglieder ?"," ",h.hofRank!=null?` HoF #${h.hofRank}`:""]})]})]})}),a.jsxs(tw,{style:{paddingTop:12,paddingBottom:24},children:[a.jsxs("div",{style:{background:pt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${pt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0,color:pt.title,fontSize:24,fontWeight:800},children:h.name}),a.jsxs("div",{style:{marginTop:6,color:pt.textSoft,fontSize:13},children:[($=h.server)!=null?$:"Server ?"," "," ",h.memberCount!=null?`${h.memberCount} Mitglieder`:"Mitglieder ?"," ",h.hofRank!=null?` HoF #${h.hofRank}`:""]})]}),a.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[a.jsxs("span",{style:{color:pt.textSoft},children:["Zuletzt aktualisiert: ",(W=h.lastScanDays)!=null?W:0," Tag(e) her"]}),a.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[a.jsx(Mp,{label:"Mitglieder",value:(L=h.memberCount)!=null?L:"?"}),a.jsx(Mp,{label:"HoF-Rang",value:h.hofRank!=null?`#${h.hofRank}`:"?"}),a.jsx(Mp,{label:"Server",value:(G=h.server)!=null?G:""})]}),E,P]})]}):w;return a.jsx(Os,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,padded:!0,children:N})}function k5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(nw,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),a.jsx(nw,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function nw({to:t,title:e,desc:n}){return a.jsxs(on,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function I5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers  Rankings"}),a.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function P5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers  Stats"}),a.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Gt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function rw({children:t,style:e}){return a.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function R5({size:t=36}){return a.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:a.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function va({label:t,value:e}){return a.jsxs("div",{style:{background:Gt.tileAlt,border:`1px solid ${Gt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{style:{fontSize:12,color:Gt.textSoft,marginBottom:4},children:t}),a.jsx("div",{style:{fontSize:22,color:Gt.title,fontWeight:700},children:e})]})}function N5(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),o=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const h=n.match(/^([A-Z]{2})(\d{1,3})$/);if(h){const p=h[1],m=String(parseInt(h[2],10)),g=p==="EU"?"eu":p==="US"?"us":p==="AM"?"net":p.toLowerCase();c=`s${m}.sfgame.${g}`}return Array.from(new Set([e,n,r,o,l,c].filter(Boolean)))}function Up(){var N,k,$,W;const t=Hm(),e=Ao(),n=fs(),r=t.id||t.sid||t.serverId||t.server||"",[o,l]=R.useState(!0),[c,h]=R.useState(null),[p,m]=R.useState(null),[g,w]=R.useState(null);R.useEffect(()=>{let L=!1;async function G(){l(!0),h(null),m(null),w(null);try{const H=r.trim();if(!H)throw new Error("Kein Server gewhlt.");const Y=pr(sn,`servers/${H}`),j=await mh(Y);if(j.exists()){L||(m(j.id),w(j.data()));return}const T=yb(sn,"servers"),A=N5(H),D=[];for(const he of A)D.push(Ci(Ei(T,bd("code","==",he),ji(1)))),D.push(Ci(Ei(T,bd("displayName","==",he),ji(1)))),D.push(Ci(Ei(T,bd("host","==",he),ji(1))));const F=await Promise.allSettled(D);let M=null,I=null;for(const he of F){if(he.status!=="fulfilled")continue;const je=he.value;if(!je.empty){const we=je.docs[0];M=we.id,I=we.data();break}}if(!M||!I)throw new Error("Server nicht gefunden.");L||(m(M),w(I),M!==H&&e(`/server/${encodeURIComponent(M)}`,{replace:!0,state:{from:n.pathname}}))}catch(H){L||h((H==null?void 0:H.message)||"Fehler beim Laden.")}finally{L||l(!1)}}return G(),()=>{L=!0}},[r,e,n.pathname]);const _=R.useMemo(()=>a.jsxs("div",{style:{padding:24,color:Gt.textSoft},children:[c!=null?c:"Unbekannter Fehler.",a.jsx("div",{style:{marginTop:12},children:a.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Gt.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(o)return a.jsx(Os,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:a.jsx("div",{style:{padding:16,color:Gt.textSoft},children:"Lade Serverprofil"})});if(!g)return a.jsx(Os,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:_});const E=g.displayName||g.code||p||r,P=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return a.jsxs(Os,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[a.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Gt.line}`},children:a.jsxs(rw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[a.jsx(R5,{size:36}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:18,color:Gt.title,fontWeight:700},children:E}),a.jsxs("div",{style:{fontSize:12,color:Gt.textSoft},children:[g.host||"","  ",g.region||"","  ",((N=g.type)==null?void 0:N.toUpperCase())||""]})]})]})}),a.jsxs(rw,{style:{paddingTop:12,paddingBottom:24},children:[a.jsxs("div",{style:{background:Gt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Gt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0,color:Gt.title,fontSize:24,fontWeight:800},children:E}),a.jsxs("div",{style:{marginTop:6,color:Gt.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((k=g.type)==null?void 0:k.toUpperCase())||""]})]}),a.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[a.jsxs("span",{style:{color:Gt.textSoft},children:["Status: ",P]}),a.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[a.jsx(va,{label:"Code",value:g.code||""}),a.jsx(va,{label:"Host",value:g.host||""}),a.jsx(va,{label:"Region",value:g.region||""}),a.jsx(va,{label:"Typ",value:(($=g.type)==null?void 0:$.toUpperCase())||""}),a.jsx(va,{label:"Numeric ID",value:(W=g.numericId)!=null?W:""}),a.jsx(va,{label:"Status",value:P})]}),a.jsxs("div",{style:{marginTop:16,background:Gt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Gt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Gt.textSoft},children:["Platzhalter ",a.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}function D5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guides"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(Rs,{to:"/guides/fortress",title:"Fortress",desc:"Bau- und Ressourcenpfade"}),a.jsx(Rs,{to:"/guides/underworld",title:"Underworld",desc:"Dmonen, Folterkeller, Gegner"}),a.jsx(Rs,{to:"/guides/arena-am",title:"Arena/AM",desc:"AM-Routen & Strider-Setups"}),a.jsx(Rs,{to:"/guides/dungeons",title:"Dungeons",desc:"Dungeons, Epics, Hotkeys"}),a.jsx(Rs,{to:"/guides/hellevator",title:"Hellevator",desc:"Etagen & Belohnungen"}),a.jsx(Rs,{to:"/guides/legendary-dungeon",title:"Legendary Dungeon",desc:"Mechaniken & Tipps"}),a.jsx(Rs,{to:"/guides/events",title:"Events",desc:"Kalender, Event-Zyklen"}),a.jsx(Rs,{to:"/guides/calculators",title:"Calculators",desc:"Stats, Gems, Fortress, "}),a.jsx(Rs,{to:"/guides/infographics",title:"Infografiken",desc:"Cheatsheets & bersichten"})]})]})}function Rs({to:t,title:e,desc:n}){return a.jsxs(on,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function V5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Fortress"}),a.jsx("p",{style:{opacity:.8},children:"Bau-Reihenfolgen, Ressourcen, Skip-Orders (Platzhalter)."})]})}function F5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Underworld"}),a.jsx("p",{style:{opacity:.8},children:"Unterwelt + Calculator, Pro-Pack-Skip (Platzhalter)."})]})}function L5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Arena / AM"}),a.jsx("p",{style:{opacity:.8},children:"AM-Run-Boni, Striders AM-Guide (Platzhalter)."})]})}function M5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Dungeons"}),a.jsx("p",{style:{opacity:.8},children:"bersicht ber Dungeons, Epics & Legendaries (Platzhalter)."})]})}function O5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Hellevator"}),a.jsx("p",{style:{opacity:.8},children:"Etagen-Belohnungen und Tipps (Platzhalter)."})]})}function B5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Legendary Dungeon"}),a.jsx("p",{style:{opacity:.8},children:"Mechaniken, Epics & Strategien (Platzhalter)."})]})}function $5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Events"}),a.jsx("p",{style:{opacity:.8},children:"Eventkalender, Zyklen & Tipps (Platzhalter)."})]})}function U5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Calculators"}),a.jsx("p",{style:{opacity:.8},children:"Stats-, Gem-, Fortress-, Underworld-Rechner (Platzhalter)."})]})}function z5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Infografiken"}),a.jsx("p",{style:{opacity:.8},children:"Cheatsheets, Hotkeys und Visuals (Platzhalter)."})]})}function H5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsxs(on,{to:"/community/scans",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Scans"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Community-Uploads"})]}),a.jsxs(on,{to:"/community/predictions",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Predictions"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Tipps, Votes & Prognosen"})]}),a.jsxs(on,{to:"/community/creators",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Creators"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Streams, Videos, Guides"})]}),a.jsxs(on,{to:"/community/news",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"News"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Updates & Ankndigungen"})]}),a.jsxs(on,{to:"/community/feedback",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Feedback"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Feature-Wnsche & Bugreports"})]})]})]})}function W5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Scans"}),a.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function G5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Predictions"}),a.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function q5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Creators"}),a.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function K5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Feedback"}),a.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}function Q5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  News"}),a.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function Y5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsxs(on,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),a.jsxs(on,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function X5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans  Letzter Scan"}),a.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function J5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans  Archiv"}),a.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function Z5(){return a.jsx(Os,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:a.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:a.jsx(eL,{}),right:a.jsx(tL,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[a.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),a.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsx(zp,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),a.jsx(zp,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),a.jsx(zp,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function eL(){return a.jsxs("nav",{className:"space-y-2 text-sm",children:[a.jsx(pd,{to:"/guild-hub/planner",children:"Planner"}),a.jsx(pd,{to:"/guild-hub/fusion",children:"Fusion"}),a.jsx(pd,{to:"/guild-hub/waitlist",children:"Waitlist"}),a.jsx(pd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function tL(){return a.jsxs("aside",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),a.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function zp({to:t,title:e,desc:n}){return a.jsxs(on,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[a.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?a.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function pd({to:t,children:e}){return a.jsx(on,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function nL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Planner"})})}function rL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Fusion"})})}function sL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Waitlist"})})}function iL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Activity"})})}function oL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Imports"})})}function aL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Announcements"})})}function lL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Events"})})}function uL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Roles"})})}function cL(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Settings"})})}function dL(){return a.jsx(Os,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:a.jsx("div",{className:"space-y-4",children:a.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[a.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",a.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),a.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",a.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const en={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12}};function hL(){return a.jsx("div",{style:en.wrap,children:a.jsxs("div",{style:en.grid,children:[a.jsxs("aside",{style:en.tile,children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),a.jsx("p",{style:en.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),a.jsxs("nav",{children:[a.jsx(Qn,{to:"list-views",style:({isActive:t})=>({...en.link,...t?en.active:{}}),children:"List-View Switcher"}),a.jsx(Qn,{to:"rescan-widget",style:({isActive:t})=>({...en.link,...t?en.active:{}}),children:"Rescan Widget (auto)"}),a.jsx(Qn,{to:"upload-sim",style:({isActive:t})=>({...en.link,...t?en.active:{}}),children:"Upload Simulator"}),a.jsx(Qn,{to:"hud/game-buttons",style:({isActive:t})=>({...en.link,...t?en.active:{}}),children:"HUD  Game Buttons"}),a.jsx(Qn,{to:"theme-maker",style:({isActive:t})=>({...en.link,...t?en.active:{}}),children:"Theme / Template Maker"}),a.jsx(Qn,{to:"theme-maker-pro",style:({isActive:t})=>({...en.link,...t?en.active:{}}),children:"Theme / Template Maker  Pro"})]})]}),a.jsx("section",{style:en.tile,children:a.jsx(Lw,{})})]})})}function fL(){return a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),a.jsx("div",{className:"mt-4 grid gap-3",children:a.jsx(Qn,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const re={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},pL=()=>a.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),yo={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function mL(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Xa(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",mL(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function h2(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},h={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},p={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},m={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},w={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},E={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:h,neon:p,plasma:m,aurora:g,satin:w,matte:_,holo:E}[t.material]}function Oi(t){const e={color:re.title,borderColor:re.border,...h2(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Ou=({children:t})=>a.jsx("span",{className:"relative z-10",children:t});function Ja({fx:t,clip:e}){return a.jsxs(a.Fragment,{children:[t.shine&&a.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:a.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&a.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&a.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&a.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&a.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>a.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function gL({fx:t,children:e}){const n=Xa(t),r=Oi(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),a.jsx(Ja,{fx:t,clip:o}),t.withIcon&&a.jsx(Hw,{size:16,className:"relative z-10"}),a.jsx(Ou,{children:e})]})}function yL({fx:t,children:e}){const n=Xa(t),r=Oi(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),a.jsx(Ja,{fx:t,clip:o}),t.withIcon&&a.jsx(Ww,{size:16,className:"relative z-10"}),a.jsx(Ou,{children:e})]})}function vL({fx:t,children:e}){const n=Xa(t),r=Oi(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),a.jsx(Ja,{fx:t,clip:o}),t.withIcon&&a.jsx(Su,{size:16,className:"relative z-10"}),a.jsx(Ou,{children:e})]})}function xL({fx:t,children:e}){const n=Xa(t),r=Oi(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${re.tile}, ${re.active})`}}),a.jsx(Ja,{fx:t,clip:o}),t.withIcon&&a.jsx(Gw,{size:16,className:"relative z-10"}),a.jsx(Ou,{children:e})]})}function wL({fx:t,children:e}){const n=Xa(t),r=Oi(t);return a.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[a.jsx(Ja,{fx:t}),t.withIcon&&a.jsx(Yd,{size:16,className:"relative z-10"}),a.jsx(Ou,{children:e})]})}function _L({fx:t,tabs:e}){const[n,r]=R.useState(0);return a.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:e.map((o,l)=>a.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?re.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&a.jsx(Yd,{size:14,className:"inline mr-1"}),o]},l))})}function bL({fx:t}){const e=Xa(t),n=Oi(t);return a.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:a.jsx(qw,{})})}const Lm={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function SL({fx:t,setFx:e}){const n=(h,p)=>e(m=>({...m,[h]:p})),r=h=>e(p=>({...p,[h]:!p[h]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return a.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${re.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Presets"}),Object.keys(Lm).map(h=>a.jsx("button",{onClick:()=>e(p=>Lm[h](p)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:re.btn,borderColor:re.border,color:re.title},children:h},h))]}),a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${re.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Material"}),o.map(h=>a.jsx("button",{onClick:()=>n("material",h),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===h?"":"opacity-70"}`,style:{backgroundColor:t.material===h?re.active:re.btn,borderColor:re.border,color:re.title},children:h},h)),a.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:re.title},children:"Size"}),["sm","md","lg"].map(h=>a.jsx("button",{onClick:()=>n("size",h),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===h?"":"opacity-70"}`,style:{backgroundColor:t.size===h?re.active:re.btn,borderColor:re.border,color:re.title},children:h.toUpperCase()},h)),a.jsx("button",{onClick:()=>e(h=>({...h,withIcon:!h.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?re.active:re.btn,borderColor:re.border,color:re.title},children:"Icon"}),a.jsx("button",{onClick:()=>e(h=>({...h,disabled:!h.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?re.active:re.btn,borderColor:re.border,color:re.title},children:"Disabled"})]}),a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${re.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Core FX"}),l.map(([h,p])=>a.jsx("button",{onClick:()=>r(h),className:`px-2.5 py-1 rounded-md border text-xs ${t[h]?"":"opacity-70"}`,style:{backgroundColor:t[h]?re.active:re.btn,borderColor:re.border,color:re.title},children:p},h))]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Advanced"}),c.map(([h,p])=>a.jsx("button",{onClick:()=>r(h),className:`px-2.5 py-1 rounded-md border text-xs ${t[h]?"":"opacity-70"}`,style:{backgroundColor:t[h]?re.active:re.btn,borderColor:re.border,color:re.title},children:p},h))]}),a.jsx("button",{onClick:()=>e(yo),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:re.btn,borderColor:re.border,color:re.title},children:"Reset"})]})}function at({fx:t,className:e="",style:n={},children:r,clip:o}){const l=Oi(t);return a.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[a.jsx(Ja,{fx:t,clip:o}),a.jsx("div",{className:"relative z-10",children:r})]})}function jn({fx:t,className:e="",children:n}){return a.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:n})}function TL({fx:t}){const[e,n]=R.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Toggle Chips"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return a.jsx(at,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(c=>l?c.filter(h=>h!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function EL({fx:t}){return a.jsxs(jn,{fx:t,className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",style:{color:re.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>a.jsx(at,{fx:t,className:"rounded-xl border p-2",style:{borderColor:re.border},children:a.jsxs("button",{className:"relative",children:[a.jsx(qw,{size:16}),e===3&&a.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function jL({fx:t}){return a.jsxs(at,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Breadcrumb HUD"}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>a.jsx(at,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:re.border},children:e},e))})]})}function CL({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Stat Tiles"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>a.jsxs(at,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:re.border},children:[a.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),a.jsx("div",{className:"text-sm",children:n.v}),a.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function AL({fx:t}){const[e,n]=R.useState(.66);return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Meter / Energy Bar"}),a.jsx(at,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:re.border},children:a.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),a.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function kL({fx:t}){return a.jsxs(jn,{fx:t,className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Badge / Medal"}),a.jsxs(at,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:re.border},children:[a.jsx(Su,{size:16}),a.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function IL({fx:t}){const[e,n]=R.useState(!1);return a.jsxs(jn,{fx:t,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Toast / Notification"}),a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&a.jsxs(at,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:re.border},children:[a.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),a.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function PL({fx:t}){const[e,n]=R.useState(!0);return a.jsxs(jn,{fx:t,className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Toggle Switch"}),a.jsxs(at,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:re.border},children:[a.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),a.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function RL({fx:t}){const[e,n]=R.useState(!1),r=["Overview","Stats","Activity","Hydra"];return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Dropdown HUD"}),a.jsx(at,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&a.jsx(at,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:re.border},children:r.map(o=>a.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function NL({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Radial Menu (Preview)"}),a.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,h=56+Math.sin(o)*l;return a.jsx(at,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:h,borderColor:re.border},children:n},n)}),a.jsx(at,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:re.border},children:"Menu"})]})]})}function DL({fx:t}){const e=[1,2,3,4,5],[n,r]=R.useState(2);return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Pagination HUD"}),a.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>a.jsx(at,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:re.border},children:a.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function VL({fx:t}){const[e,n]=R.useState(!1);return a.jsxs(jn,{fx:t,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Modal HUD"}),a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&a.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:a.jsxs(at,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:re.border},children:[a.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),a.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function FL({fx:t}){const[e,n]=R.useState("");return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Search HUD"}),a.jsx(at,{fx:t,className:"rounded-lg border p-2",style:{borderColor:re.border},children:a.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function LL({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=R.useState("Bravo");return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"List Selectable"}),a.jsx("div",{className:"space-y-2",children:e.map(o=>a.jsx(at,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:re.border},children:a.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function ML({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=R.useState(1);return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Steps"}),a.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>a.jsxs(De.Fragment,{children:[a.jsx(at,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:re.border},children:l+1}),l<e.length-1&&a.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),a.jsx(at,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function OL({fx:t}){const e=["","","","","",""];return a.jsxs(jn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Dock Bar"}),a.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>a.jsx(at,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:re.border},children:n},r))})]})}function BL(){const[t,e]=R.useState(yo);return a.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:re.bg,color:re.txt},children:[a.jsx(pL,{}),a.jsxs("header",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(bj,{}),a.jsx("h1",{className:"text-xl font-bold",style:{color:re.title},children:"Game Buttons Playground"}),a.jsx("span",{className:"text-xs",style:{color:re.txt2},children:"(Materials + FX extended + Presets)"})]})}),a.jsx(SL,{fx:t,setFx:e})]}),a.jsxs("section",{className:"grid gap-4",children:[a.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold mb-3",style:{color:re.title},children:"Shapes"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(gL,{fx:t,children:[a.jsx(Hw,{size:16})," Diamond"]}),a.jsxs(yL,{fx:t,children:[a.jsx(Ww,{size:16})," Hex"]}),a.jsxs(vL,{fx:t,children:[a.jsx(Su,{size:16})," Octagon/Shield"]}),a.jsxs(xL,{fx:t,children:[a.jsx(Gw,{size:16})," Shard"]}),a.jsxs(wL,{fx:t,children:[a.jsx(Yd,{size:16})," Pill/Chip"]}),a.jsx(bL,{fx:t})]})]}),a.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold",style:{color:re.title},children:"Tabs"}),a.jsx(_L,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),a.jsx("section",{className:"grid gap-4",children:a.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold mb-3",style:{color:re.title},children:"More HUD Patterns"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[a.jsx(TL,{fx:t}),a.jsx(EL,{fx:t}),a.jsx(jL,{fx:t}),a.jsx(CL,{fx:t}),a.jsx(AL,{fx:t}),a.jsx(kL,{fx:t}),a.jsx(IL,{fx:t}),a.jsx(PL,{fx:t}),a.jsx(RL,{fx:t}),a.jsx(NL,{fx:t}),a.jsx(DL,{fx:t}),a.jsx(VL,{fx:t}),a.jsx(FL,{fx:t}),a.jsx(LL,{fx:t}),a.jsx(ML,{fx:t}),a.jsx(OL,{fx:t})]})]})}),a.jsx($L,{}),a.jsx("footer",{className:"text-center text-xs",style:{color:re.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function $L(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(yo.material),"Material type present");const e=Oi(yo);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=h2({...yo,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof yo[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Lm).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...yo});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const ru={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},sw={Arcade:{...ru,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...ru,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},xa={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},f2={display:"grid",gap:8,alignItems:"center"};function Ns({label:t,value:e,onChange:n}){return a.jsxs("label",{style:{...f2,gridTemplateColumns:"120px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Hp({label:t,value:e,min:n,max:r,onChange:o}){return a.jsxs("label",{style:{...f2,gridTemplateColumns:"120px 1fr 70px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),a.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function iw(){const[t,e]=De.useState(ru),n=De.useRef(null),r=p=>{const m=n.current;m&&(m.style.setProperty("--page",p.page),m.style.setProperty("--tile",p.tile),m.style.setProperty("--tile-hover",p.tileHover),m.style.setProperty("--nav",p.nav),m.style.setProperty("--active",p.active),m.style.setProperty("--text",p.text),m.style.setProperty("--text-soft",p.textSoft),m.style.setProperty("--title",p.title),m.style.setProperty("--line",p.line),m.style.setProperty("--radius",`${p.radius}px`),m.style.setProperty("--shadow",`0 8px ${p.shadow}px rgba(0,0,0,0.25)`),m.style.setProperty("--gap",`${p.gap}px`))};De.useEffect(()=>{r(t)},[t]);const o=p=>e(sw[p]),l=()=>e(ru),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(p),m.download="sfdatahub-theme.json",m.click()},h=async p=>{const m=await p.text();e({...ru,...JSON.parse(m)})};return a.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[a.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(sw).map(p=>a.jsx("button",{style:xa,onClick:()=>o(p),children:p},p)),a.jsx("button",{style:xa,onClick:l,children:"Default"}),a.jsx("button",{style:xa,onClick:c,children:"Export JSON"}),a.jsxs("label",{style:{...xa,display:"inline-block"},children:["Import JSON",a.jsx("input",{type:"file",accept:"application/json",onChange:p=>p.target.files&&h(p.target.files[0]),style:{display:"none"}})]})]}),a.jsx(Ns,{label:"Page",value:t.page,onChange:p=>e(m=>({...m,page:p}))}),a.jsx(Ns,{label:"Tile",value:t.tile,onChange:p=>e(m=>({...m,tile:p}))}),a.jsx(Ns,{label:"Tile Hover",value:t.tileHover,onChange:p=>e(m=>({...m,tileHover:p}))}),a.jsx(Ns,{label:"Nav",value:t.nav,onChange:p=>e(m=>({...m,nav:p}))}),a.jsx(Ns,{label:"Active",value:t.active,onChange:p=>e(m=>({...m,active:p}))}),a.jsx(Ns,{label:"Text",value:t.text,onChange:p=>e(m=>({...m,text:p}))}),a.jsx(Ns,{label:"Text Soft",value:t.textSoft,onChange:p=>e(m=>({...m,textSoft:p}))}),a.jsx(Ns,{label:"Title",value:t.title,onChange:p=>e(m=>({...m,title:p}))}),a.jsx(Ns,{label:"Line",value:t.line,onChange:p=>e(m=>({...m,line:p}))}),a.jsx(Hp,{label:"Radius",value:t.radius,min:8,max:28,onChange:p=>e(m=>({...m,radius:p}))}),a.jsx(Hp,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:p=>e(m=>({...m,shadow:p}))}),a.jsx(Hp,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:p=>e(m=>({...m,gap:p}))})]}),a.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[a.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),a.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),a.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[a.jsx("button",{style:{...xa,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),a.jsx("button",{style:xa,children:"Secondary"})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((p,m)=>a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[a.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",m+1]}),a.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},m))})]})]})]})}const Mm={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},ow={"SFDataHub (Default)":{...Mm},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},_h={display:"grid",gap:8,alignItems:"center"},ho={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},fo={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function hr({label:t,value:e,onChange:n}){return a.jsxs("label",{style:{..._h,gridTemplateColumns:"140px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ds({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return a.jsxs("label",{style:{..._h,gridTemplateColumns:"140px 1fr 70px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:h=>l(parseFloat(h.target.value))}),a.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:h=>l(parseFloat(h.target.value||"0"))})]})}function UL({label:t,checked:e,onChange:n}){return a.jsxs("label",{style:{..._h,gridTemplateColumns:"1fr 46px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function aw(){const[t,e]=De.useState(Mm),n=De.useRef(null),r=m=>{const g=n.current;g&&(g.style.setProperty("--page",m.page),g.style.setProperty("--tile",m.tile),g.style.setProperty("--tile-hover",m.tileHover),g.style.setProperty("--nav",m.nav),g.style.setProperty("--active",m.active),g.style.setProperty("--text",m.text),g.style.setProperty("--text-soft",m.textSoft),g.style.setProperty("--title",m.title),g.style.setProperty("--line",m.line),g.style.setProperty("--accent",m.accent),g.style.setProperty("--success",m.success),g.style.setProperty("--warning",m.warning),g.style.setProperty("--danger",m.danger),g.style.setProperty("--radius",`${m.radius}px`),g.style.setProperty("--border",`${m.border}px`),g.style.setProperty("--gap",`${m.gap}px`),g.style.setProperty("--shadow",`0 10px ${m.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${m.surfaceOpacity}%`),g.style.setProperty("--noise",`${m.noise}%`),g.style.setProperty("--font",m.fontFamily),g.style.setProperty("--font-size",`${m.fontSize}px`),g.style.setProperty("--heading-tight",m.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${m.glow}`),g.style.setProperty("--scanlines",`${m.scanlines}`))};De.useEffect(()=>{r(t)},[t]);const o=(m,g)=>e(w=>({...w,[m]:g})),l=m=>e(g=>({...g,...ow[m]})),c=()=>{const m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(m),g.download="sfdatahub-theme-pro.json",g.click()},h=async m=>{try{const g=await m.text(),w=JSON.parse(g);e({...t,...w})}catch(g){}},p={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return a.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[a.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(ow).map(m=>a.jsx("button",{style:ho,onClick:()=>l(m),children:m},m)),a.jsx("button",{style:ho,onClick:()=>e(Mm),children:"Reset"}),a.jsx("button",{style:ho,onClick:c,children:"Export"}),a.jsxs("label",{style:{...ho,display:"inline-block"},children:["Import",a.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:m=>m.target.files&&h(m.target.files[0])})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(hr,{label:"Page",value:t.page,onChange:m=>o("page",m)}),a.jsx(hr,{label:"Tile",value:t.tile,onChange:m=>o("tile",m)}),a.jsx(hr,{label:"Tile Hover",value:t.tileHover,onChange:m=>o("tileHover",m)}),a.jsx(hr,{label:"Active",value:t.active,onChange:m=>o("active",m)}),a.jsx(hr,{label:"Text",value:t.text,onChange:m=>o("text",m)}),a.jsx(hr,{label:"Text Soft",value:t.textSoft,onChange:m=>o("textSoft",m)}),a.jsx(hr,{label:"Title",value:t.title,onChange:m=>o("title",m)}),a.jsx(hr,{label:"Line",value:t.line,onChange:m=>o("line",m)}),a.jsx(hr,{label:"Accent",value:t.accent,onChange:m=>o("accent",m)}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[a.jsx(hr,{label:"Success",value:t.success,onChange:m=>o("success",m)}),a.jsx(hr,{label:"Warning",value:t.warning,onChange:m=>o("warning",m)}),a.jsx(hr,{label:"Danger",value:t.danger,onChange:m=>o("danger",m)})]})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(Ds,{label:"Radius",min:0,max:28,value:t.radius,onChange:m=>o("radius",m)}),a.jsx(Ds,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:m=>o("border",m)}),a.jsx(Ds,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:m=>o("gap",m)}),a.jsx(Ds,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:m=>o("shadow",m)}),a.jsx(Ds,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:m=>o("surfaceOpacity",m),suffix:"%"}),a.jsx(Ds,{label:"Noise",min:0,max:20,value:t.noise,onChange:m=>o("noise",m),suffix:"%"})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsxs("label",{style:{..._h,gridTemplateColumns:"140px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),a.jsx("input",{value:t.fontFamily,onChange:m=>o("fontFamily",m.target.value)})]}),a.jsx(Ds,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:m=>o("fontSize",m)}),a.jsx(UL,{label:"Headings tighter",checked:t.headingsTight,onChange:m=>o("headingsTight",m)})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(Ds,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:m=>o("glow",m)}),a.jsx(Ds,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:m=>o("scanlines",m)})]})]})]}),a.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[a.jsxs("span",{style:fo,children:[a.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),a.jsx("span",{style:{...fo,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),a.jsx("span",{style:{...fo,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),a.jsx("span",{style:{...fo,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),a.jsxs("span",{style:fo,children:["Radius: ",t.radius]}),a.jsxs("span",{style:fo,children:["Shadow: ",t.shadow]}),a.jsxs("span",{style:fo,children:["Noise: ",t.noise,"%"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:p.name}),a.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[p.className,"  ",p.guild," ",a.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",p.server,")"]})]})]}),a.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:p.level,pct:p.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:p.scrapbook+"%",pct:p.scrapbook/100,color:"var(--success)"},{label:"Power",value:p.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:p.activity+"%",pct:p.activity/100,color:"var(--accent)"}].map((m,g)=>a.jsxs("div",{style:{display:"grid",gap:4},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[a.jsx("span",{children:m.label}),a.jsx("span",{style:{color:"var(--title)"},children:m.value})]}),a.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:a.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(m.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${m.color} 75%, transparent), ${m.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${m.color} 40%, transparent)`}})})]},g))}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[a.jsx("button",{style:{...ho,background:"var(--tile-hover)"},children:"Open Profile"}),a.jsx("button",{style:{...ho,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((m,g)=>a.jsx("button",{style:{...ho,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:m},m))}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((m,g)=>a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:m.k}),a.jsx("div",{style:{fontWeight:800,fontSize:24},children:m.v}),a.jsx("div",{style:{fontSize:12,color:m.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:m.trend})]},g))}),a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[a.jsx("div",{style:{padding:10},children:"Attribute"}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((m,g)=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[a.jsx("div",{style:{padding:10},children:m[0]}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:m[1]}),a.jsx("div",{style:{padding:10,textAlign:"right",color:m[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:m[2]})]},g))]})]})]}),a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const lw=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function zL(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:lw[n%lw.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Wp={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function uw(){const[t,e]=R.useState("rows"),[n,r]=R.useState(0),[o,l]=R.useState(""),[c,h]=R.useState(60),p=R.useMemo(()=>zL(240),[]),m=R.useMemo(()=>p.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[p,n,o,c]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),a.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[a.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[a.jsx("option",{value:"rows",children:"Compact Rows"}),a.jsx("option",{value:"cards",children:"Card Grid"}),a.jsx("option",{value:"masonry",children:"Masonry"})]}),a.jsx("input",{placeholder:"Search",value:o,onChange:g=>l(g.target.value)}),a.jsxs("label",{children:["Min Level ",a.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),a.jsxs("label",{children:["Limit ",a.jsx("input",{type:"number",value:c,onChange:g=>h(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&a.jsx("div",{style:{...Wp,padding:0,overflow:"hidden"},children:m.map(g=>{var w;return a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:700},children:[g.name," ",a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),a.jsx("div",{style:{fontSize:24,fontWeight:700},children:(w=g.kpi)==null?void 0:w.toFixed(1)})]})]},g.id)})}),t==="cards"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(g=>{var w;return a.jsxs("div",{style:Wp,children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{style:{fontWeight:700},children:g.name}),a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),a.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[a.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),a.jsx("span",{style:{fontSize:24,fontWeight:700},children:(w=g.kpi)==null?void 0:w.toFixed(1)})]})]},g.id)})}),t==="masonry"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(g=>a.jsxs("div",{style:{...Wp,height:140+parseInt(g.id)%3*40},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{style:{fontWeight:700},children:g.name}),a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),a.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function cw(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function dw(){const[t,e]=R.useState(120),[n,r]=R.useState(()=>cw(24));R.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const h=Math.floor(Math.random()*c.length),p=[...c];return p[h]={...p[h],lastScanMinsAgo:0},p})},5e3);return()=>clearInterval(l)},[]),R.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(h=>({...h,lastScanMinsAgo:h.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=R.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),a.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[a.jsxs("label",{children:["Freshness TTL (min) ",a.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),a.jsx("button",{onClick:()=>r(cw(24)),children:"Reset Demo Data"})]}),a.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),a.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[a.jsx("div",{children:"Player"}),a.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[a.jsxs("div",{children:[l.name," ",a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),a.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&a.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function HL(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function hw(){const[t,e]=R.useState("idle"),[n,r]=R.useState(null),[o,l]=R.useState(!1),c=R.useCallback(async h=>{var m;h.preventDefault(),l(!1);const p=(m=h.dataTransfer.files)==null?void 0:m[0];if(p){e("validating");try{const g=await p.text(),{isHar:w,isSf:_}=HL(g);if(e("parsing"),await new Promise(E=>setTimeout(E,600)),!w&&!_){e("error"),r({isHar:w,isSf:_,sizeKB:Math.round(p.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:w,isSf:_,sizeKB:Math.round(p.size/1024),summary:`Detected: ${w?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),a.jsx("div",{onDragOver:h=>{h.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),a.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),a.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",t]}),n?a.jsxs("ul",{children:[a.jsxs("li",{children:["isHar: ",String(n.isHar)]}),a.jsxs("li",{children:["isSf: ",String(n.isSf)]}),a.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&a.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&a.jsxs("li",{children:["summary: ",n.summary]})]}):a.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const B={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},WL={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},GL={maxWidth:1200,margin:"0 auto"},qL={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function KL(){return a.jsx("div",{style:WL,children:a.jsxs("div",{style:GL,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"HAR Import Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:qL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),a.jsxs("div",{style:{border:`1px dashed ${B.line}`,borderRadius:12,padding:24,textAlign:"center",background:B.tileAlt},children:["Drop .har file here or"," ",a.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),a.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const QL={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},YL={maxWidth:1200,margin:"0 auto"},XL={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function JL(){return a.jsx("div",{style:QL,children:a.jsxs("div",{style:YL,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"JSON/CSV Import Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:XL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),a.jsxs("div",{style:{display:"grid",gap:8},children:[a.jsxs("label",{children:["Upload JSON ",a.jsx("input",{type:"file",accept:".json"})]}),a.jsxs("label",{children:["Upload CSV ",a.jsx("input",{type:"file",accept:".csv"})]})]}),a.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const ZL={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},eM={maxWidth:1200,margin:"0 auto"},tM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function nM(){return a.jsx("div",{style:ZL,children:a.jsxs("div",{style:eM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Index Schema Viewer Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:tM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const rM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},sM={maxWidth:1200,margin:"0 auto"},iM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function oM(){return a.jsx("div",{style:rM,children:a.jsxs("div",{style:sM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Player Profile (Contained) Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:iM,children:[a.jsxs("div",{style:{display:"flex",gap:12},children:[a.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${B.line}`}}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"4px 0",color:B.title},children:"NightRaven"}),a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>a.jsx("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const aM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},lM={maxWidth:1200,margin:"0 auto"},uM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function cM(){return a.jsx("div",{style:aM,children:a.jsxs("div",{style:lM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Guild Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:uM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[a.jsx("b",{style:{color:B.title},children:"Ravens"}),a.jsx("span",{children:"Avg Lvl 465"}),a.jsx("span",{children:"Fresh scans 82%"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[a.jsx("b",{style:{color:B.title},children:"Arcana"}),a.jsx("span",{children:"Avg Lvl 458"}),a.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const dM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},hM={maxWidth:1200,margin:"0 auto"},fM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function pM(){return a.jsx("div",{style:dM,children:a.jsxs("div",{style:hM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Server Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:fM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const mM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},gM={maxWidth:1200,margin:"0 auto"},yM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function vM(){return a.jsx("div",{style:mM,children:a.jsxs("div",{style:gM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Rankings Views Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:yM,children:[a.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>a.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${B.line}`,borderRadius:10},children:t},t))}),a.jsx("div",{style:{border:`1px solid ${B.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[a.jsx("b",{style:{color:B.title},children:t.name}),a.jsx("span",{children:t.delta}),a.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const xM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},wM={maxWidth:1200,margin:"0 auto"},_M={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function bM(){return a.jsx("div",{style:xM,children:a.jsxs("div",{style:wM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"KPI Dashboard Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsx("div",{style:_M,children:a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>a.jsx("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const SM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},TM={maxWidth:1200,margin:"0 auto"},EM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function jM(){return a.jsx("div",{style:SM,children:a.jsxs("div",{style:TM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Progression Tracker Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:EM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),a.jsx("div",{style:{height:160,border:`1px dashed ${B.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const CM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},AM={maxWidth:1200,margin:"0 auto"},kM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function IM(){return a.jsx("div",{style:CM,children:a.jsxs("div",{style:AM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Legendary & Pets Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsx("div",{style:kM,children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:"Legendary Tracker"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Shadow Bow "}),a.jsx("li",{children:"Mythic Ring "})]})]}),a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:"Pets"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Firewolf 4/5"}),a.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const PM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},RM={maxWidth:1200,margin:"0 auto"},NM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function DM(){return a.jsx("div",{style:PM,children:a.jsxs("div",{style:RM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Community Scans Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:NM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>a.jsx("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const VM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},FM={maxWidth:1200,margin:"0 auto"},LM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function MM(){return a.jsx("div",{style:VM,children:a.jsxs("div",{style:FM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Creator Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:LM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const OM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},BM={maxWidth:1200,margin:"0 auto"},$M={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function UM(){return a.jsx("div",{style:OM,children:a.jsxs("div",{style:BM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Feedback Form Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:$M,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),a.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[a.jsx("span",{children:"Category"}),a.jsxs("select",{style:{background:"#152A42",color:B.text,border:`1px solid ${B.line}`,borderRadius:8,padding:"6px 8px"},children:[a.jsx("option",{children:"UI"}),a.jsx("option",{children:"Data"}),a.jsx("option",{children:"Bug"})]})]}),a.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[a.jsx("span",{children:"Message"}),a.jsx("textarea",{rows:4,style:{background:"#152A42",color:B.text,border:`1px solid ${B.line}`,borderRadius:8,padding:"6px 8px"}})]}),a.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${B.line}`,borderRadius:10},children:"Send"})]})})]})})}const zM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},HM={maxWidth:1200,margin:"0 auto"},WM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function GM(){return a.jsx("div",{style:zM,children:a.jsxs("div",{style:HM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Feedback Admin Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:WM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),a.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("span",{children:t}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),a.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const qM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},KM={maxWidth:1200,margin:"0 auto"},QM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function YM(){return a.jsx("div",{style:qM,children:a.jsxs("div",{style:KM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Tutorials Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:QM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Step highlights"}),a.jsx("li",{children:"Progress bar"}),a.jsx("li",{children:"Badges"})]})]})})]})})}const XM={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},JM={maxWidth:1200,margin:"0 auto"},ZM={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function e3(){return a.jsx("div",{style:XM,children:a.jsxs("div",{style:JM,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Wiki & FAQ Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:ZM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),a.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${B.line}`,borderRadius:10}}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"How to import HAR?"}),a.jsx("li",{children:"What data is stored?"})]})]})})]})})}const t3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},n3={maxWidth:1200,margin:"0 auto"},r3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function s3(){return a.jsx("div",{style:t3,children:a.jsxs("div",{style:n3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Settings Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:r3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[a.jsxs("label",{children:["Language",a.jsxs("select",{style:{marginLeft:8},children:[a.jsx("option",{children:"EN"}),a.jsx("option",{children:"DE"})]})]}),a.jsxs("label",{children:["Theme",a.jsxs("select",{style:{marginLeft:8},children:[a.jsx("option",{children:"Dark"}),a.jsx("option",{children:"Custom"})]})]}),a.jsxs("label",{children:["Notifications",a.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),a.jsxs("label",{children:["Privacy",a.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const i3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},o3={maxWidth:1200,margin:"0 auto"},a3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function l3(){return a.jsx("div",{style:i3,children:a.jsxs("div",{style:o3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"ToS & Privacy Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:a3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),a.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${B.line}`,borderRadius:10,padding:10,marginTop:8},children:a.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),a.jsxs("label",{style:{marginTop:8},children:[a.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const u3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},c3={maxWidth:1200,margin:"0 auto"},d3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function h3(){return a.jsx("div",{style:u3,children:a.jsxs("div",{style:c3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Transparency Viewer Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:d3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),a.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${B.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const f3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},p3={maxWidth:1200,margin:"0 auto"},m3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function g3(){return a.jsx("div",{style:f3,children:a.jsxs("div",{style:p3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"PWA Update Flow Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:m3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),a.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const y3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},v3={maxWidth:1200,margin:"0 auto"},x3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function w3(){return a.jsx("div",{style:y3,children:a.jsxs("div",{style:v3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"PWA Install Prompt Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:x3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[a.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${B.line}`,borderRadius:20}}),a.jsxs("div",{children:[a.jsx("b",{style:{color:B.title},children:"Install SFDataHub"}),a.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),a.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const _3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},b3={maxWidth:1200,margin:"0 auto"},S3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function T3(){return a.jsx("div",{style:_3,children:a.jsxs("div",{style:b3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Connect Manual Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:S3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10,marginTop:8},children:[a.jsx("b",{style:{color:B.title},children:"View source"}),a.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const E3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},j3={maxWidth:1200,margin:"0 auto"},C3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function A3(){return a.jsx("div",{style:E3,children:a.jsxs("div",{style:j3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Connect Userscript Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:C3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx("div",{children:"Install/Enable check"}),a.jsx("div",{children:"Events preview"})]})]})})]})})}const k3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},I3={maxWidth:1200,margin:"0 auto"},P3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function R3(){return a.jsx("div",{style:k3,children:a.jsxs("div",{style:I3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Exports Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:P3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:"CSV/Excel"}),a.jsx("div",{children:"Tabs, widths, locales"})]}),a.jsxs("div",{style:{background:B.tileAlt,border:`1px solid ${B.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:B.title},children:"JSON API"}),a.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const N3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},D3={maxWidth:1200,margin:"0 auto"},V3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function F3(){return a.jsx("div",{style:N3,children:a.jsxs("div",{style:D3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Deeplinks Demo Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:V3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),a.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${B.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const L3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},M3={maxWidth:1200,margin:"0 auto"},O3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function B3(){return a.jsx("div",{style:L3,children:a.jsxs("div",{style:M3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Servers Editor Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:O3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[a.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),a.jsxs("select",{children:[a.jsx("option",{children:"Active"}),a.jsx("option",{children:"Disabled"})]}),a.jsx("button",{children:"Add"})]})]})})]})})}const $3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},U3={maxWidth:1200,margin:"0 auto"},z3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function H3(){return a.jsx("div",{style:$3,children:a.jsxs("div",{style:U3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Jobs & Queues Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:z3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),a.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const W3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},G3={maxWidth:1200,margin:"0 auto"},q3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function K3(){return a.jsx("div",{style:W3,children:a.jsxs("div",{style:G3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Feature Flags Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:q3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[a.jsx("span",{children:"Beta: New Rankings"}),a.jsx("label",{children:a.jsx("input",{type:"checkbox",defaultChecked:!0})}),a.jsx("span",{children:"Widgets v2"}),a.jsx("label",{children:a.jsx("input",{type:"checkbox"})})]})]})})]})})}const Q3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},Y3={maxWidth:1200,margin:"0 auto"},X3={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function J3(){return a.jsx("div",{style:Q3,children:a.jsxs("div",{style:Y3,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Table Performance Lab Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:X3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),a.jsx("div",{style:{height:160,border:`1px dashed ${B.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Z3={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},e6={maxWidth:1200,margin:"0 auto"},t6={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function n6(){return a.jsx("div",{style:Z3,children:a.jsxs("div",{style:e6,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:t6,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),a.jsx("div",{style:{height:180,border:`1px dashed ${B.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const r6={minHeight:"100vh",background:B.page,color:B.text,padding:"24px 16px"},s6={maxWidth:1200,margin:"0 auto"},i6={background:B.tile,border:`1px solid ${B.line}`,borderRadius:12,padding:12};function o6(){return a.jsx("div",{style:r6,children:a.jsxs("div",{style:s6,children:[a.jsx("h1",{style:{color:B.title,marginTop:0},children:"Accessibility Pass Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:i6,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"Focus ring visible"}),a.jsx("li",{children:"Skip links"}),a.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const a6="_backdrop_19xh2_1",l6="_panel_19xh2_19",u6="_header_19xh2_43",c6="_tabs_19xh2_63",d6="_tabBtn_19xh2_75",h6="_tabActive_19xh2_97",f6="_closeBtn_19xh2_101",p6="_content_19xh2_123",is={backdrop:a6,panel:l6,header:u6,tabs:c6,tabBtn:d6,tabActive:h6,closeBtn:f6,content:p6},Cd=t=>String(t!=null?t:"").trim(),Si=t=>Cd(t).toUpperCase(),ot=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Ad=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),fw=t=>{const e=Ad(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},pw=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Gp=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},$e={PLAYERS:{IDENTIFIER:ot("Identifier"),PID:ot("ID"),GUILD_IDENTIFIER:ot("Guild Identifier"),SERVER:ot("Server"),NAME:ot("Name"),TIMESTAMP:ot("Timestamp"),LEVEL:ot("Level"),CLASS:ot("Class"),GUILD:ot("Guild")},GUILDS:{GUILD_IDENTIFIER:ot("Guild Identifier"),SERVER:ot("Server"),NAME:ot("Name"),MEMBER_COUNT:ot("Guild Member Count"),TIMESTAMP:ot("Timestamp"),HOF:ot("Hall of Fame Rank"),HOF_ALT:ot("HoF"),RANK:ot("Rank"),GUILD_RANK:ot("Guild Rank")}},m6=new Set([ot("Strength"),ot("Dexterity"),ot("Intelligence"),ot("Constitution"),ot("Luck"),ot("Attribute")]),g6=["equipment"],y6=t=>m6.has(t)||g6.some(e=>t.includes(e)),ze=(t,e)=>{for(const n of Object.keys(t))if(ot(n)===e)return t[n]},v6=(t,e)=>e.map(n=>ze(t,n)).find(n=>n!=null&&String(n)!=="");function mw(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),h=Number(n[4]),p=Number(n[5]),m=n[6]?Number(n[6]):0,g=new Date(c,l,o,h,p,m);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function gw(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),h=l.toString().padStart(2,"0");return`${c}-W${h}`}function yw(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function vw(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function xw(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function x6(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function w6(t){var p;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=x6((p=n[0])!=null?p:""),o=m=>{const g=[];let w="",_=!1;for(let E=0;E<m.length;E++){const P=m[E];P==='"'?_&&m[E+1]==='"'?(w+='"',E++):_=!_:P===r&&!_?(g.push(w),w=""):w+=P}return g.push(w),g},c=(n[0]?o(n[0]).map(Cd):[]).map((m,g)=>m||`col${g}`),h=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const g=o(n[m]);if(g.every(_=>Cd(_)===""))continue;const w={};for(let _=0;_<c.length;_++)w[c[_]]=g[_]!=null?Cd(g[_]):"";h.push(w)}return{headers:c,rows:h}}const ww=120,_w=40,bw=120;async function wa(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=FP(sn),c=t.slice(o,o+e);for(const h of c)h(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(h=>setTimeout(h,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function md(t,e){const n={};for(const r of e){const o=ot(r);if(y6(o)){let l=null,c;for(const h of t){const p=h.row[r];if(p==null||p==="")continue;const m=Number(String(p).replace(/[^0-9.-]/g,""));Number.isNaN(m)||(l==null||m>l)&&(l=m,c=p)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const h=t[c].row[r];if(h!=null&&String(h)!==""){l=h;break}}n[r]=l}}return n}async function Sw(t,e){var g,w,_,E,P;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=w6(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const h=new Set;for(const N of c)Object.keys(N).forEach(k=>h.add(k));const p=Array.from(h);if(e.kind==="players"){const N=[],k=[],$=[],W=new Map;for(const L of c){const G=(g=ze(L,$e.PLAYERS.PID))!=null?g:ze(L,$e.PLAYERS.IDENTIFIER),H=String(G!=null?G:"").trim();if(!H){l.skippedMissingIdentifier++;continue}const Y=mw(ze(L,$e.PLAYERS.TIMESTAMP));if(Y==null){l.skippedBadTs++;continue}const j=(()=>{const T=ze(L,$e.PLAYERS.SERVER);return T&&String(T).trim()!==""?Si(T):void 0})();if(!j){l.skippedMissingServer++;continue}N.push(T=>{const A=pr(sn,`players/${H}/scans/${Y}`);T.set(A,{playerId:H,server:j,timestamp:Y,timestampRaw:ze(L,$e.PLAYERS.TIMESTAMP),name:ze(L,$e.PLAYERS.NAME)||null,values:L,createdAt:bi()},{merge:!0})}),l.writtenScanPlayers++,W.has(H)||W.set(H,[]),W.get(H).push({row:L,ts:Y})}for(const[L,G]of W){G.sort((we,ue)=>we.ts-ue.ts);const H=G[G.length-1],Y=Si(ze(H.row,$e.PLAYERS.SERVER)||""),j=ze(H.row,$e.PLAYERS.NAME)||null,T=ze(H.row,$e.PLAYERS.LEVEL),A=ze(H.row,$e.PLAYERS.CLASS),D=ze(H.row,$e.PLAYERS.GUILD),F=(_=(w=ze(H.row,$e.PLAYERS.NAME))!=null?w:j)!=null?_:"",M=fw(F),I=pw(M);k.push(we=>{const ue=pr(sn,`players/${L}/latest/latest`);we.set(ue,{playerId:L,server:Y,timestamp:H.ts,timestampRaw:ze(H.row,$e.PLAYERS.TIMESTAMP),name:j,values:H.row,updatedAt:bi(),nameFold:Ad(F),nameTokens:M,nameNgrams:I,level:Gp(T),className:A!=null&&String(A).trim()!==""?String(A):null,guildName:D!=null&&String(D).trim()!==""?String(D):null,guildNameFold:D?Ad(D):null},{merge:!0})}),l.writtenLatestPlayers++;const he=new Map,je=new Map;for(const we of G){const ue=gw(we.ts),ne=vw(we.ts);he.has(ue)||he.set(ue,[]),je.has(ne)||je.set(ne,[]),he.get(ue).push(we),je.get(ne).push(we)}for(const[we,ue]of he){ue.sort((z,Z)=>z.ts-Z.ts);const ne=md(ue,p),fe=yw(ue[ue.length-1].ts),le=ue[ue.length-1];$.push(z=>{const Z=pr(sn,`players/${L}/history_weekly/${we}`);z.set(Z,{playerId:L,weekId:we,periodStartSec:fe.start,periodEndSec:fe.end,lastTs:le.ts,lastTimestampRaw:ze(le.row,$e.PLAYERS.TIMESTAMP),server:Si(ze(le.row,$e.PLAYERS.SERVER)||""),name:ze(le.row,$e.PLAYERS.NAME)||null,values:ne,updatedAt:bi()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[we,ue]of je){ue.sort((z,Z)=>z.ts-Z.ts);const ne=md(ue,p),fe=xw(ue[ue.length-1].ts),le=ue[ue.length-1];$.push(z=>{const Z=pr(sn,`players/${L}/history_monthly/${we}`);z.set(Z,{playerId:L,monthId:we,periodStartSec:fe.start,periodEndSec:fe.end,lastTs:le.ts,lastTimestampRaw:ze(le.row,$e.PLAYERS.TIMESTAMP),server:Si(ze(le.row,$e.PLAYERS.SERVER)||""),name:ze(le.row,$e.PLAYERS.NAME)||null,values:ne,updatedAt:bi()},{merge:!0})}),l.writtenMonthlyPlayers++}}await wa(N,ww,"scans",e.onProgress),await wa(k,_w,"latest",e.onProgress),await wa($,bw,"history",e.onProgress)}if(e.kind==="guilds"){const N=[],k=[],$=[],W=new Map;for(const L of c){const G=String((E=ze(L,$e.GUILDS.GUILD_IDENTIFIER))!=null?E:"").trim();if(!G){l.skippedMissingGuildIdentifier++;continue}const H=mw(ze(L,$e.GUILDS.TIMESTAMP));if(H==null){l.skippedBadTsGuild++;continue}const Y=(()=>{const j=ze(L,$e.GUILDS.SERVER);return j&&String(j).trim()!==""?Si(j):void 0})();if(!Y){l.skippedMissingServer++;continue}N.push(j=>{const T=pr(sn,`guilds/${G}/scans/${H}`);j.set(T,{guildIdentifier:G,server:Y,timestamp:H,timestampRaw:ze(L,$e.GUILDS.TIMESTAMP),name:ze(L,$e.GUILDS.NAME)||null,values:L,createdAt:bi()},{merge:!0})}),l.writtenScanGuilds++,W.has(G)||W.set(G,[]),W.get(G).push({row:L,ts:H})}for(const[L,G]of W){G.sort((I,he)=>I.ts-he.ts);const H=G[G.length-1],Y=(P=ze(H.row,$e.GUILDS.NAME))!=null?P:"",j=fw(Y),T=pw(j),A=Gp(ze(H.row,$e.GUILDS.MEMBER_COUNT)),D=Gp(v6(H.row,[$e.GUILDS.HOF,$e.GUILDS.HOF_ALT,$e.GUILDS.RANK,$e.GUILDS.GUILD_RANK]));k.push(I=>{const he=pr(sn,`guilds/${L}/latest/latest`);I.set(he,{guildIdentifier:L,server:Si(ze(H.row,$e.GUILDS.SERVER)||""),timestamp:H.ts,timestampRaw:ze(H.row,$e.GUILDS.TIMESTAMP),name:ze(H.row,$e.GUILDS.NAME)||null,values:H.row,updatedAt:bi(),nameFold:Ad(Y),nameTokens:j,nameNgrams:T,memberCount:A,hofRank:D},{merge:!0})}),l.writtenLatestGuilds++;const F=new Map,M=new Map;for(const I of G){const he=gw(I.ts),je=vw(I.ts);F.has(he)||F.set(he,[]),M.has(je)||M.set(je,[]),F.get(he).push(I),M.get(je).push(I)}for(const[I,he]of F){he.sort((ne,fe)=>ne.ts-fe.ts);const je=md(he,p),we=yw(he[he.length-1].ts),ue=he[he.length-1];$.push(ne=>{const fe=pr(sn,`guilds/${L}/history_weekly/${I}`);ne.set(fe,{guildIdentifier:L,weekId:I,periodStartSec:we.start,periodEndSec:we.end,lastTs:ue.ts,lastTimestampRaw:ze(ue.row,$e.GUILDS.TIMESTAMP),server:Si(ze(ue.row,$e.GUILDS.SERVER)||""),name:ze(ue.row,$e.GUILDS.NAME)||null,values:je,updatedAt:bi()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[I,he]of M){he.sort((ne,fe)=>ne.ts-fe.ts);const je=md(he,p),we=xw(he[he.length-1].ts),ue=he[he.length-1];$.push(ne=>{const fe=pr(sn,`guilds/${L}/history_monthly/${I}`);ne.set(fe,{guildIdentifier:L,monthId:I,periodStartSec:we.start,periodEndSec:we.end,lastTs:ue.ts,lastTimestampRaw:ze(ue.row,$e.GUILDS.TIMESTAMP),server:Si(ze(ue.row,$e.GUILDS.SERVER)||""),name:ze(ue.row,$e.GUILDS.NAME)||null,values:je,updatedAt:bi()},{merge:!0})}),l.writtenMonthlyGuilds++}}await wa(N,ww,"scans",e.onProgress),await wa(k,_w,"latest",e.onProgress),await wa($,bw,"history",e.onProgress)}const m=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:m-n}}const qp=t=>String(t!=null?t:"").trim(),Kn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function _6(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function Tw(t){var p;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=_6((p=n[0])!=null?p:""),o=m=>{const g=[];let w="",_=!1;for(let E=0;E<m.length;E++){const P=m[E];P==='"'?_&&m[E+1]==='"'?(w+='"',E++):_=!_:P===r&&!_?(g.push(w),w=""):w+=P}return g.push(w),g},c=(n[0]?o(n[0]).map(qp):[]).map((m,g)=>m||`col${g}`),h=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const g=o(n[m]);if(g.every(_=>qp(_)===""))continue;const w={};for(let _=0;_<c.length;_++)w[c[_]]=g[_]!=null?qp(g[_]):"";h.push(w)}return{headers:c,rows:h,delimiter:r}}const Vt={PLAYERS:{IDENTIFIER:Kn("Identifier"),GUILD_IDENTIFIER:Kn("Guild Identifier"),TIMESTAMP:Kn("Timestamp"),NAME:Kn("Name"),SERVER:Kn("Server"),OWN:Kn("Own")},GUILDS:{GUILD_IDENTIFIER:Kn("Guild Identifier"),GUILD_MEMBER_COUNT:Kn("Guild Member Count"),NAME:Kn("Name"),TIMESTAMP:Kn("Timestamp")}},p2=(t,e)=>{const n=new Set(t.map(Kn));return e.every(r=>n.has(r))},as=(t,e)=>{for(const n of Object.keys(t))if(Kn(n)===e)return t[n]};function b6(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function Ew(t){const e=t.map(Kn),n=l=>e.includes(l);let r=0,o=0;return n(Vt.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Vt.PLAYERS.IDENTIFIER)&&(r+=2),n(Vt.PLAYERS.TIMESTAMP)&&(r+=1),n(Vt.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(Vt.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(Vt.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(Vt.PLAYERS.IDENTIFIER)?"players":"guilds"}function jw(t,e){const n=b6(t);if(n!=="unknown"){const o=Ew(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=Ew(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function m2(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function S6(t,e){var r;const n=[];if(!p2(e,[Vt.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=as(o,Vt.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=as(o,Vt.PLAYERS.SERVER),h=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:as(o,Vt.PLAYERS.IDENTIFIER)||void 0,name:as(o,Vt.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(as(o,Vt.PLAYERS.OWN)).toLowerCase()),server:h,tsSec:(r=m2(as(o,Vt.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function T6(t,e){const n=[];if(!p2(e,[Vt.GUILDS.GUILD_IDENTIFIER,Vt.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=as(r,Vt.GUILDS.GUILD_IDENTIFIER),l=Number(as(r,Vt.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=m2(as(r,Vt.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:as(r,Vt.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function E6(t,e){var k,$,W,L,G,H;const n=[],r=new Map;for(const Y of t){const j=Y.id||"",T=(k=Y.server)==null?void 0:k.toUpperCase();if(j){const A=`${T!=null?T:"NO"}::${j}`;r.has(A)||r.set(A,{server:T,id:j,name:Y.name||"",own:!!Y.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(Y=>Y.own).length,h=new Map;for(const Y of r.values())Y.server&&h.set(Y.server,(($=h.get(Y.server))!=null?$:0)+1);const p=Array.from(h.entries()).map(([Y,j])=>({server:Y,players:j})).sort((Y,j)=>j.players-Y.players),m=p.length,g=new Map;for(const Y of t)g.set(Y.guildIdentifier,((W=g.get(Y.guildIdentifier))!=null?W:0)+1);const w=new Set,_=new Map;for(const Y of e)w.add(Y.guildIdentifier),_.set(Y.guildIdentifier,{name:Y.name||"",declared:Y.memberCount});for(const Y of g.keys())w.add(Y);let E=0;const P=[];for(const Y of w){const j=(L=_.get(Y))==null?void 0:L.declared,T=(G=g.get(Y))!=null?G:0,A=j!=null&&T===j;A&&E++,P.push({id:Y,name:((H=_.get(Y))==null?void 0:H.name)||"",declaredCount:j!=null?j:0,playersCount:T,full:A})}[..._.values()].some(Y=>Number.isFinite(Y.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),P.sort((Y,j)=>Y.name?Y.name.localeCompare(j.name):Y.id.localeCompare(j.id));const N=Array.from(r.values()).sort((Y,j)=>(Y.server||"")===(j.server||"")?Y.name.localeCompare(j.name):(Y.server||"").localeCompare(j.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:m,perServer:p,guildsRepresented:w.size,fullyScannedGuilds:E,notes:n,playersList:N,guildsList:P}}function j6(){const[t,e]=R.useState([]),[n,r]=R.useState(null),[o,l]=R.useState(!1),[c,h]=R.useState(null),[p,m]=R.useState(!1),[g,w]=R.useState(null),[_,E]=R.useState([]),[P,N]=R.useState(null);R.useEffect(()=>{const j=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=j}},[]);const k=R.useCallback(async j=>{var T;l(!0),h(null),r(null),E([]),w(null);try{const A=Array.from(j).slice(0,2),D=[];let F=[],M=[];for(const I of A){const he=I,je=await he.text(),we=Tw(je),{kind:ue,warn:ne}=jw(he.name,we.headers);D.push({name:he.name,size:he.size||je.length,rows:we.rows.length,delimiter:we.delimiter,text:je,kind:ue,warn:ne}),ue==="players"?F=F.concat(S6(we.rows,we.headers)):ue==="guilds"&&(M=M.concat(T6(we.rows,we.headers)))}e(D),r(E6(F,M))}catch(A){h(String((T=A==null?void 0:A.message)!=null?T:A))}finally{l(!1)}},[]),$=R.useCallback(async j=>{!j||j.length===0||await k(j)},[k]),W=R.useCallback(async j=>{j.preventDefault();const T=j.dataTransfer.files;!T||!T.length||await k(T)},[k]);async function L(){var j;if(t.length){m(!0),N({phase:"prepare",current:0,total:0}),w(null),E([]);try{let T=[],A=[];for(const M of t){const I=Tw(M.text),{kind:he}=jw(M.name,I.headers);he==="players"&&(T=T.concat(I.rows)),he==="guilds"&&(A=A.concat(I.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!T.length,hasGuildsCsv:!!A.length,playersRows:T.length,guildsRows:A.length}),!A.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!T.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const D=await Sw(null,{kind:"guilds",rows:A,onProgress:M=>N(M)});console.info("[Import Report] guilds",D);const F=await Sw(null,{kind:"players",rows:T,onProgress:M=>N(M)});console.info("[Import Report] players",F),N({phase:"done",current:1,total:1}),E([D,F]),w("Import abgeschlossen.")}catch(T){console.error("[UploadCenter] Import error:",T),w(`Fehler beim Import: ${(j=T==null?void 0:T.message)!=null?j:T}`)}finally{m(!1),setTimeout(()=>N(null),1200)}}}const G=R.useMemo(()=>t.map(j=>`${j.name} (${j.rows} rows, ${j.delimiter}, ${j.kind}${j.warn?" ":""})`),[t]),H=R.useMemo(()=>t.reduce((j,T)=>j+T.rows,0),[t]),Y=P?Math.floor(100*P.current/Math.max(1,P.total||1)):0;return a.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[a.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[a.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),a.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[G.map((j,T)=>a.jsx("span",{className:"uc-chip",title:t[T].warn||"",children:j},T)),t.length>0&&a.jsxs("span",{className:"uc-chip",children:["Total: ",H," rows"]})]}),a.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[P&&a.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:a.jsx("div",{style:{width:`${Y}%`,height:"100%",background:"#2E75F0"}})}),a.jsxs("span",{style:{color:"#D6E4F7"},children:[Y,"%"]})]}),a.jsx("button",{onClick:L,disabled:!t.length||!n||p,className:"uc-btn",children:p?"Loading":"Load to DB"}),g&&a.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),a.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[a.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),a.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:j=>$(j.target.files),disabled:o})]}),a.jsx("div",{onDragOver:j=>j.preventDefault(),onDrop:W,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&a.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&a.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[a.jsx("b",{children:"Fehler:"})," ",c]}),n&&a.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[a.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:a.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),a.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[a.jsx(Ul,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),a.jsx(Ul,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),a.jsx(Ul,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),a.jsx(Ul,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),a.jsx(Ul,{label:"Verschiedene Server",value:n.servers})]}),a.jsxs("div",{style:{marginTop:12},children:[a.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Server"}),a.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),a.jsx("tbody",{children:n.perServer.map(j=>a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:j.server}),a.jsx("td",{style:{textAlign:"right"},children:j.players})]},j.server))})]})]}),a.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[a.jsxs("details",{children:[a.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),a.jsx("div",{style:{marginTop:8},children:a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Server"}),a.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),a.jsx("th",{style:{textAlign:"left"},children:"Name"}),a.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),a.jsx("tbody",{children:n.playersList.map((j,T)=>{var A,D;return a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:(A=j.server)!=null?A:""}),a.jsx("td",{children:j.id}),a.jsx("td",{children:j.name||""}),a.jsx("td",{children:j.own?"":""})]},`${(D=j.server)!=null?D:"NO"}-${j.id}-${T}`)})})]})})]}),a.jsxs("details",{open:!0,children:[a.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),a.jsx("div",{style:{marginTop:8},children:a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),a.jsx("th",{style:{textAlign:"left"},children:"Name"}),a.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),a.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),a.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),a.jsx("tbody",{children:n.guildsList.map((j,T)=>a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:j.id}),a.jsx("td",{children:j.name||""}),a.jsx("td",{style:{textAlign:"right"},children:j.declaredCount||0}),a.jsx("td",{style:{textAlign:"right"},children:j.playersCount}),a.jsx("td",{style:{textAlign:"center"},children:j.full?"":""})]},`${j.id}-${T}`))})]})})]})]}),!!n.notes.length&&a.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",a.jsx("ul",{children:n.notes.map((j,T)=>a.jsx("li",{children:j},T))})]})]})]})}function Ul({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[a.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),a.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&a.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function C6(){return a.jsxs("div",{children:[a.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),a.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",a.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function A6(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=Qw();return!t||!o?null:a.jsx("div",{className:is.backdrop,onClick:e,children:a.jsxs("div",{className:is.panel,onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:is.header,children:[a.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),a.jsxs("div",{className:is.tabs,children:[a.jsx("button",{type:"button",className:`${is.tabBtn} ${n==="csv"?is.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),a.jsx("button",{type:"button",className:`${is.tabBtn} ${n==="json"?is.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),a.jsx("button",{type:"button",className:is.closeBtn,onClick:e,children:"Schlieen"})]}),a.jsx("div",{className:is.content,children:n==="csv"?a.jsx(j6,{}):a.jsx(C6,{})})]})})}const k6=t=>()=>a.jsx("div",{style:{padding:16},children:a.jsx("h2",{style:{color:"var(--title)"},children:t})}),tn=k6("Diese Unterseite existiert in der neuen Struktur nicht mehr.");CT.createRoot(document.getElementById("root")).render(a.jsx(De.StrictMode,{children:a.jsxs(eC,{role:"admin",children:[a.jsx(UE,{children:a.jsx(xE,{children:a.jsxs(ee,{element:a.jsx(NR,{}),children:[a.jsx(ee,{path:"/",element:a.jsx(DR,{})}),a.jsx(ee,{path:"/dashboard",element:a.jsx(uF,{})}),a.jsx(ee,{path:"/dashboard/kpis",element:a.jsx(hF,{})}),a.jsx(ee,{path:"/dashboard/activity",element:a.jsx(fF,{})}),a.jsx(ee,{path:"/dashboard/progression",element:a.jsx(pF,{})}),a.jsx(ee,{path:"/discover",element:a.jsx(mF,{})}),a.jsx(ee,{path:"/toplists",element:a.jsx(c5,{})}),a.jsx(ee,{path:"/players",element:a.jsx(d5,{})}),a.jsx(ee,{path:"/players/rankings",element:a.jsx(h5,{})}),a.jsx(ee,{path:"/players/stats",element:a.jsx(f5,{})}),a.jsx(ee,{path:"/players/profile",element:a.jsx(Lp,{})}),a.jsx(ee,{path:"/players/profile/:playerId",element:a.jsx(Lp,{})}),a.jsx(ee,{path:"/player/:playerId",element:a.jsx(Lp,{})}),a.jsx(ee,{path:"/guilds",element:a.jsx(v5,{})}),a.jsx(ee,{path:"/guilds/rankings",element:a.jsx(x5,{})}),a.jsx(ee,{path:"/guilds/stats",element:a.jsx(w5,{})}),a.jsx(ee,{path:"/guilds/profile",element:a.jsx($p,{})}),a.jsx(ee,{path:"/guilds/profile/:guildId",element:a.jsx($p,{})}),a.jsx(ee,{path:"/guild/:guildId",element:a.jsx($p,{})}),a.jsx(ee,{path:"/servers",element:a.jsx(k5,{})}),a.jsx(ee,{path:"/servers/rankings",element:a.jsx(I5,{})}),a.jsx(ee,{path:"/servers/stats",element:a.jsx(P5,{})}),a.jsx(ee,{path:"/servers/profile",element:a.jsx(Up,{})}),"               ",a.jsx(ee,{path:"/servers/profile/:serverId",element:a.jsx(Up,{})}),"     ",a.jsx(ee,{path:"/server/:serverId",element:a.jsx(Up,{})}),"              ",a.jsx(ee,{path:"/guides",element:a.jsx(D5,{})}),a.jsx(ee,{path:"/guides/fortress",element:a.jsx(V5,{})}),a.jsx(ee,{path:"/guides/underworld",element:a.jsx(F5,{})}),a.jsx(ee,{path:"/guides/arena-am",element:a.jsx(L5,{})}),a.jsx(ee,{path:"/guides/dungeons",element:a.jsx(M5,{})}),a.jsx(ee,{path:"/guides/hellevator",element:a.jsx(O5,{})}),a.jsx(ee,{path:"/guides/legendary-dungeon",element:a.jsx(B5,{})}),a.jsx(ee,{path:"/guides/events",element:a.jsx($5,{})}),a.jsx(ee,{path:"/guides/calculators",element:a.jsx(U5,{})}),a.jsx(ee,{path:"/guides/infographics",element:a.jsx(z5,{})}),a.jsx(ee,{path:"/community",element:a.jsx(H5,{})}),a.jsx(ee,{path:"/community/scans",element:a.jsx(W5,{})}),a.jsx(ee,{path:"/community/predictions",element:a.jsx(G5,{})}),a.jsx(ee,{path:"/community/creators",element:a.jsx(q5,{})}),a.jsx(ee,{path:"/community/feedback",element:a.jsx(K5,{})}),a.jsx(ee,{path:"/community/news",element:a.jsx(Q5,{})}),a.jsx(ee,{path:"/scans",element:a.jsx(Y5,{})}),a.jsx(ee,{path:"/scans/latest",element:a.jsx(X5,{})}),a.jsx(ee,{path:"/scans/archive",element:a.jsx(J5,{})}),a.jsx(ee,{path:"/guild-hub",element:a.jsx(Z5,{})}),a.jsx(ee,{path:"/guild-hub/planner",element:a.jsx(nL,{})}),a.jsx(ee,{path:"/guild-hub/fusion",element:a.jsx(rL,{})}),a.jsx(ee,{path:"/guild-hub/waitlist",element:a.jsx(sL,{})}),a.jsx(ee,{path:"/guild-hub/activity",element:a.jsx(iL,{})}),a.jsx(ee,{path:"/guild-hub/imports",element:a.jsx(oL,{})}),a.jsx(ee,{path:"/guild-hub/announcements",element:a.jsx(aL,{})}),a.jsx(ee,{path:"/guild-hub/events",element:a.jsx(lL,{})}),a.jsx(ee,{path:"/guild-hub/roles",element:a.jsx(uL,{})}),a.jsx(ee,{path:"/guild-hub/settings",element:a.jsx(cL,{})}),a.jsx(ee,{path:"/settings",element:a.jsx(dL,{})}),a.jsxs(ee,{path:"/playground",element:a.jsx(hL,{}),children:[a.jsx(ee,{index:!0,element:a.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),a.jsx(ee,{path:"list-views",element:a.jsx(uw,{})}),a.jsx(ee,{path:"rescan-widget",element:a.jsx(dw,{})}),a.jsx(ee,{path:"upload-sim",element:a.jsx(hw,{})}),a.jsx(ee,{path:"theme-maker",element:a.jsx(iw,{})}),a.jsx(ee,{path:"theme-maker-pro",element:a.jsx(aw,{})}),a.jsx(ee,{path:"hud",element:a.jsx(fL,{})}),a.jsx(ee,{path:"hud/game-buttons",element:a.jsx(BL,{})}),a.jsx(ee,{path:"core-ui/theme-maker",element:a.jsx(iw,{})}),a.jsx(ee,{path:"core-ui/theme-maker-pro",element:a.jsx(aw,{})}),a.jsx(ee,{path:"core-ui/list-views",element:a.jsx(uw,{})}),a.jsx(ee,{path:"sync/rescan",element:a.jsx(dw,{})}),a.jsx(ee,{path:"upload/sim",element:a.jsx(hw,{})}),a.jsx(ee,{path:"import/har",element:a.jsx(KL,{})}),a.jsx(ee,{path:"import/json-csv",element:a.jsx(JL,{})}),a.jsx(ee,{path:"import/schema",element:a.jsx(nM,{})}),a.jsx(ee,{path:"hubs/player-contained",element:a.jsx(oM,{})}),a.jsx(ee,{path:"hubs/guilds",element:a.jsx(cM,{})}),a.jsx(ee,{path:"hubs/servers",element:a.jsx(pM,{})}),a.jsx(ee,{path:"rankings/views",element:a.jsx(vM,{})}),a.jsx(ee,{path:"analytics/kpi",element:a.jsx(bM,{})}),a.jsx(ee,{path:"analytics/progression",element:a.jsx(jM,{})}),a.jsx(ee,{path:"analytics/legendary-pets",element:a.jsx(IM,{})}),a.jsx(ee,{path:"community/scans",element:a.jsx(DM,{})}),a.jsx(ee,{path:"community/creators",element:a.jsx(MM,{})}),a.jsx(ee,{path:"feedback/form",element:a.jsx(UM,{})}),a.jsx(ee,{path:"feedback/admin",element:a.jsx(GM,{})}),a.jsx(ee,{path:"help/tutorials",element:a.jsx(YM,{})}),a.jsx(ee,{path:"help/wiki",element:a.jsx(e3,{})}),a.jsx(ee,{path:"legal/tos",element:a.jsx(l3,{})}),a.jsx(ee,{path:"legal/transparency",element:a.jsx(h3,{})}),a.jsx(ee,{path:"settings",element:a.jsx(s3,{})}),a.jsx(ee,{path:"pwa/update",element:a.jsx(g3,{})}),a.jsx(ee,{path:"pwa/install",element:a.jsx(w3,{})}),a.jsx(ee,{path:"connect/manual",element:a.jsx(T3,{})}),a.jsx(ee,{path:"connect/userscript",element:a.jsx(A3,{})}),a.jsx(ee,{path:"interop/exports",element:a.jsx(R3,{})}),a.jsx(ee,{path:"interop/deeplinks",element:a.jsx(F3,{})}),a.jsx(ee,{path:"admin/servers",element:a.jsx(B3,{})}),a.jsx(ee,{path:"admin/jobs",element:a.jsx(H3,{})}),a.jsx(ee,{path:"admin/flags",element:a.jsx(K3,{})}),a.jsx(ee,{path:"perf/table-lab",element:a.jsx(J3,{})}),a.jsx(ee,{path:"mobile/filters",element:a.jsx(n6,{})}),a.jsx(ee,{path:"qa/a11y",element:a.jsx(o6,{})})]}),a.jsx(ee,{path:"/latest-scan",element:a.jsx(tp,{to:"/scans/latest",replace:!0})}),a.jsx(ee,{path:"/old-scans",element:a.jsx(tp,{to:"/scans/archive",replace:!0})}),a.jsx(ee,{path:"/favorites",element:tn()}),a.jsx(ee,{path:"/notifications",element:tn()}),a.jsx(ee,{path:"/guilds/planner",element:tn()}),a.jsx(ee,{path:"/guilds/fusion",element:tn()}),a.jsx(ee,{path:"/guilds/academy",element:tn()}),a.jsx(ee,{path:"/toplists/players",element:tn()}),a.jsx(ee,{path:"/toplists/guilds",element:tn()}),a.jsx(ee,{path:"/toplists/servers",element:tn()}),a.jsx(ee,{path:"/settings/profile",element:tn()}),a.jsx(ee,{path:"/settings/account",element:tn()}),a.jsx(ee,{path:"/settings/appearance",element:tn()}),a.jsx(ee,{path:"/players/search",element:tn()}),a.jsx(ee,{path:"/players/compare",element:tn()}),a.jsx(ee,{path:"/servers/list",element:tn()}),a.jsx(ee,{path:"/servers/trend",element:tn()}),a.jsx(ee,{path:"/scans/upload",element:tn()}),a.jsx(ee,{path:"/scans/history",element:tn()}),a.jsx(ee,{path:"*",element:a.jsx(tp,{to:"/",replace:!0})})]})})}),a.jsx(A6,{})]})}));
