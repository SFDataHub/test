(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function _m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ff={exports:{}},Cl={},Mf={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function eE(){if(ix)return Fe;ix=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function A(H,ee,ge){this.props=H,this.context=ee,this.refs=R,this.updater=ge||E}A.prototype.isReactComponent={},A.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function $(){}$.prototype=A.prototype;function q(H,ee,ge){this.props=H,this.context=ee,this.refs=R,this.updater=ge||E}var F=q.prototype=new $;F.constructor=q,I(F,A.prototype),F.isPureReactComponent=!0;var K=Array.isArray,B=Object.prototype.hasOwnProperty,Q={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(H,ee,ge){var Re,Ne={},Me=null,$e=null;if(ee!=null)for(Re in ee.ref!==void 0&&($e=ee.ref),ee.key!==void 0&&(Me=""+ee.key),ee)B.call(ee,Re)&&!C.hasOwnProperty(Re)&&(Ne[Re]=ee[Re]);var Ue=arguments.length-2;if(Ue===1)Ne.children=ge;else if(1<Ue){for(var Xe=Array(Ue),St=0;St<Ue;St++)Xe[St]=arguments[St+2];Ne.children=Xe}if(H&&H.defaultProps)for(Re in Ue=H.defaultProps,Ue)Ne[Re]===void 0&&(Ne[Re]=Ue[Re]);return{$$typeof:t,type:H,key:Me,ref:$e,props:Ne,_owner:Q.current}}function k(H,ee){return{$$typeof:t,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function M(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return ee[ge]})}var U=/\/+/g;function P(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):ee.toString(36)}function ve(H,ee,ge,Re,Ne){var Me=typeof H;(Me==="undefined"||Me==="boolean")&&(H=null);var $e=!1;if(H===null)$e=!0;else switch(Me){case"string":case"number":$e=!0;break;case"object":switch(H.$$typeof){case t:case e:$e=!0}}if($e)return $e=H,Ne=Ne($e),H=Re===""?"."+P($e,0):Re,K(Ne)?(ge="",H!=null&&(ge=H.replace(U,"$&/")+"/"),ve(Ne,ee,ge,"",function(St){return St})):Ne!=null&&(V(Ne)&&(Ne=k(Ne,ge+(!Ne.key||$e&&$e.key===Ne.key?"":(""+Ne.key).replace(U,"$&/")+"/")+H)),ee.push(Ne)),1;if($e=0,Re=Re===""?".":Re+":",K(H))for(var Ue=0;Ue<H.length;Ue++){Me=H[Ue];var Xe=Re+P(Me,Ue);$e+=ve(Me,ee,ge,Xe,Ne)}else if(Xe=_(H),typeof Xe=="function")for(H=Xe.call(H),Ue=0;!(Me=H.next()).done;)Me=Me.value,Xe=Re+P(Me,Ue++),$e+=ve(Me,ee,ge,Xe,Ne);else if(Me==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return $e}function Ve(H,ee,ge){if(H==null)return H;var Re=[],Ne=0;return ve(H,Re,"","",function(Me){return ee.call(ge,Me,Ne++)}),Re}function Te(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var ce={current:null},J={transition:null},fe={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:J,ReactCurrentOwner:Q};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Ve,forEach:function(H,ee,ge){Ve(H,function(){ee.apply(this,arguments)},ge)},count:function(H){var ee=0;return Ve(H,function(){ee++}),ee},toArray:function(H){return Ve(H,function(ee){return ee})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Fe.Component=A,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=q,Fe.StrictMode=r,Fe.Suspense=p,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Fe.act=ue,Fe.cloneElement=function(H,ee,ge){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Re=I({},H.props),Ne=H.key,Me=H.ref,$e=H._owner;if(ee!=null){if(ee.ref!==void 0&&(Me=ee.ref,$e=Q.current),ee.key!==void 0&&(Ne=""+ee.key),H.type&&H.type.defaultProps)var Ue=H.type.defaultProps;for(Xe in ee)B.call(ee,Xe)&&!C.hasOwnProperty(Xe)&&(Re[Xe]=ee[Xe]===void 0&&Ue!==void 0?Ue[Xe]:ee[Xe])}var Xe=arguments.length-2;if(Xe===1)Re.children=ge;else if(1<Xe){Ue=Array(Xe);for(var St=0;St<Xe;St++)Ue[St]=arguments[St+2];Re.children=Ue}return{$$typeof:t,type:H.type,key:Ne,ref:Me,props:Re,_owner:$e}},Fe.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},Fe.createElement=T,Fe.createFactory=function(H){var ee=T.bind(null,H);return ee.type=H,ee},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(H){return{$$typeof:h,render:H}},Fe.isValidElement=V,Fe.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Te}},Fe.memo=function(H,ee){return{$$typeof:m,type:H,compare:ee===void 0?null:ee}},Fe.startTransition=function(H){var ee=J.transition;J.transition={};try{H()}finally{J.transition=ee}},Fe.unstable_act=ue,Fe.useCallback=function(H,ee){return ce.current.useCallback(H,ee)},Fe.useContext=function(H){return ce.current.useContext(H)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(H){return ce.current.useDeferredValue(H)},Fe.useEffect=function(H,ee){return ce.current.useEffect(H,ee)},Fe.useId=function(){return ce.current.useId()},Fe.useImperativeHandle=function(H,ee,ge){return ce.current.useImperativeHandle(H,ee,ge)},Fe.useInsertionEffect=function(H,ee){return ce.current.useInsertionEffect(H,ee)},Fe.useLayoutEffect=function(H,ee){return ce.current.useLayoutEffect(H,ee)},Fe.useMemo=function(H,ee){return ce.current.useMemo(H,ee)},Fe.useReducer=function(H,ee,ge){return ce.current.useReducer(H,ee,ge)},Fe.useRef=function(H){return ce.current.useRef(H)},Fe.useState=function(H){return ce.current.useState(H)},Fe.useSyncExternalStore=function(H,ee,ge){return ce.current.useSyncExternalStore(H,ee,ge)},Fe.useTransition=function(){return ce.current.useTransition()},Fe.version="18.3.1",Fe}var ox;function bm(){return ox||(ox=1,Mf.exports=eE()),Mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function tE(){if(ax)return Cl;ax=1;var t=bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var g,w={},_=null,E=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(E=p.ref);for(g in p)r.call(p,g)&&!l.hasOwnProperty(g)&&(w[g]=p[g]);if(h&&h.defaultProps)for(g in p=h.defaultProps,p)w[g]===void 0&&(w[g]=p[g]);return{$$typeof:e,type:h,key:_,ref:E,props:w,_owner:o.current}}return Cl.Fragment=n,Cl.jsx=c,Cl.jsxs=c,Cl}var lx;function nE(){return lx||(lx=1,Ff.exports=tE()),Ff.exports}var a=nE(),N=bm();const ke=_m(N);var Hc={},Lf={exports:{}},Tn={},Of={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function rE(){return ux||(ux=1,(function(t){function e(J,fe){var ue=J.length;J.push(fe);e:for(;0<ue;){var H=ue-1>>>1,ee=J[H];if(0<o(ee,fe))J[H]=fe,J[ue]=ee,ue=H;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var fe=J[0],ue=J.pop();if(ue!==fe){J[0]=ue;e:for(var H=0,ee=J.length,ge=ee>>>1;H<ge;){var Re=2*(H+1)-1,Ne=J[Re],Me=Re+1,$e=J[Me];if(0>o(Ne,ue))Me<ee&&0>o($e,Ne)?(J[H]=$e,J[Me]=ue,H=Me):(J[H]=Ne,J[Re]=ue,H=Re);else if(Me<ee&&0>o($e,ue))J[H]=$e,J[Me]=ue,H=Me;else break e}}return fe}function o(J,fe){var ue=J.sortIndex-fe.sortIndex;return ue!==0?ue:J.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],g=1,w=null,_=3,E=!1,I=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(J){for(var fe=n(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=J)r(m),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=n(m)}}function K(J){if(R=!1,F(J),!I)if(n(p)!==null)I=!0,Te(B);else{var fe=n(m);fe!==null&&ce(K,fe.startTime-J)}}function B(J,fe){I=!1,R&&(R=!1,$(T),T=-1),E=!0;var ue=_;try{for(F(fe),w=n(p);w!==null&&(!(w.expirationTime>fe)||J&&!M());){var H=w.callback;if(typeof H=="function"){w.callback=null,_=w.priorityLevel;var ee=H(w.expirationTime<=fe);fe=t.unstable_now(),typeof ee=="function"?w.callback=ee:w===n(p)&&r(p),F(fe)}else r(p);w=n(p)}if(w!==null)var ge=!0;else{var Re=n(m);Re!==null&&ce(K,Re.startTime-fe),ge=!1}return ge}finally{w=null,_=ue,E=!1}}var Q=!1,C=null,T=-1,k=5,V=-1;function M(){return!(t.unstable_now()-V<k)}function U(){if(C!==null){var J=t.unstable_now();V=J;var fe=!0;try{fe=C(!0,J)}finally{fe?P():(Q=!1,C=null)}}else Q=!1}var P;if(typeof q=="function")P=function(){q(U)};else if(typeof MessageChannel!="undefined"){var ve=new MessageChannel,Ve=ve.port2;ve.port1.onmessage=U,P=function(){Ve.postMessage(null)}}else P=function(){A(U,0)};function Te(J){C=J,Q||(Q=!0,P())}function ce(J,fe){T=A(function(){J(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,Te(B))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var ue=_;_=fe;try{return J()}finally{_=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ue=_;_=J;try{return fe()}finally{_=ue}},t.unstable_scheduleCallback=function(J,fe,ue){var H=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?H+ue:H):ue=H,J){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,J={id:g++,callback:fe,priorityLevel:J,startTime:ue,expirationTime:ee,sortIndex:-1},ue>H?(J.sortIndex=ue,e(m,J),n(p)===null&&J===n(m)&&(R?($(T),T=-1):R=!0,ce(K,ue-H))):(J.sortIndex=ee,e(p,J),I||E||(I=!0,Te(B))),J},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(J){var fe=_;return function(){var ue=_;_=fe;try{return J.apply(this,arguments)}finally{_=ue}}}})(Bf)),Bf}var cx;function sE(){return cx||(cx=1,Of.exports=rE()),Of.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function iE(){if(dx)return Tn;dx=1;var t=bm(),e=sE();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function _(s){return p.call(w,s)?!0:p.call(g,s)?!1:m.test(s)?w[s]=!0:(g[s]=!0,!1)}function E(s,i,u,f){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,i,u,f){if(i===null||typeof i=="undefined"||E(s,i,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function R(s,i,u,f,y,x,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];A[i]=new R(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace($,q);A[i]=new R(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace($,q);A[i]=new R(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace($,q);A[i]=new R(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,i,u,f){var y=A.hasOwnProperty(i)?A[i]:null;(y!==null?y.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(I(i,u,y,f)&&(u=null),f||y===null?_(i)&&(u===null?s.removeAttribute(i):s.setAttribute(i,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(i=y.attributeName,f=y.attributeNamespace,u===null?s.removeAttribute(i):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,f?s.setAttributeNS(f,i,u):s.setAttribute(i,u))))}var K=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),Q=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),J=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,H;function ee(s){if(H===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||""}return`
`+H+s}var ge=!1;function Re(s,i){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var f=X}Reflect.construct(s,[],i)}else{try{i.call()}catch(X){f=X}s.call(i.prototype)}else{try{throw Error()}catch(X){f=X}s()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),x=f.stack.split(`
`),S=y.length-1,D=x.length-1;1<=S&&0<=D&&y[S]!==x[D];)D--;for(;1<=S&&0<=D;S--,D--)if(y[S]!==x[D]){if(S!==1||D!==1)do if(S--,D--,0>D||y[S]!==x[D]){var L=`
`+y[S].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=S&&0<=D);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ne(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case Q:return"Portal";case k:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ve:return i=s.displayName||null,i!==null?i:Me(s.type)||"Memo";case Te:i=s._payload,s=s._init;try{return Me(s(i))}catch(u){}}return null}function $e(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function St(s){var i=Xe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return y.call(this)},set:function(S){f=""+S,x.call(this,S)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bn(s){s._valueTracker||(s._valueTracker=St(s))}function es(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var u=i.getValue(),f="";return s&&(f=Xe(s)?s.checked?"true":"false":s.value),s=f,s!==u?(i.setValue(s),!0):!1}function or(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(i){return s.body}}function Pr(s,i){var u=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:s._wrapperState.initialChecked})}function ts(s,i){var u=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;u=Ue(i.value!=null?i.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ds(s,i){i=i.checked,i!=null&&F(s,"checked",i,!1)}function Vs(s,i){Ds(s,i);var u=Ue(i.value),f=i.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ns(s,i.type,u):i.hasOwnProperty("defaultValue")&&ns(s,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Ci(s,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,u||i===s.value||(s.value=i),s.defaultValue=i}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ns(s,i,u){(i!=="number"||or(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var $n=Array.isArray;function Un(s,i,u,f){if(s=s.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=i.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ue(u),i=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}i!==null||s[y].disabled||(i=s[y])}i!==null&&(i.selected=!0)}}function Fs(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function rs(s,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if($n(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}s._wrapperState={initialValue:Ue(u)}}function ss(s,i){var u=Ue(i.value),f=Ue(i.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),i.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Ms(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?vt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var zn,Ls=(function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,u,f,y){MSApp.execUnsafeLocalFunction(function(){return s(i,u,f,y)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ar(s,i){if(i){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=i;return}}s.textContent=i}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nr=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(s){Nr.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Rr[i]=Rr[s]})});function Os(s,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Rr.hasOwnProperty(s)&&Rr[s]?(""+i).trim():i+"px"}function Bs(s,i){s=s.style;for(var u in i)if(i.hasOwnProperty(u)){var f=u.indexOf("--")===0,y=Os(u,i[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,y):s[u]=y}}var $s=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(s,i){if(i){if($s[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function zs(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function _o(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bo=null,Hn=null,Dr=null;function So(s){if(s=hl(s)){if(typeof bo!="function")throw Error(n(280));var i=s.stateNode;i&&(i=ic(i),bo(s.stateNode,s.type,i))}}function Vr(s){Hn?Dr?Dr.push(s):Dr=[s]:Hn=s}function za(){if(Hn){var s=Hn,i=Dr;if(Dr=Hn=null,So(s),i)for(s=0;s<i.length;s++)So(i[s])}}function ki(s,i){return s(i)}function Ha(){}var is=!1;function Wa(s,i,u){if(is)return s(i,u);is=!0;try{return ki(s,i,u)}finally{is=!1,(Hn!==null||Dr!==null)&&(Ha(),za())}}function Et(s,i){var u=s.stateNode;if(u===null)return null;var f=ic(u);if(f===null)return null;u=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var Eo=!1;if(h)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch(s){Eo=!1}function Ii(s,i,u,f,y,x,S,D,L){var X=Array.prototype.slice.call(arguments,3);try{i.apply(u,X)}catch(ie){this.onError(ie)}}var Pi=!1,To=null,ur=!1,Ga=null,uh={onError:function(s){Pi=!0,To=s}};function jo(s,i,u,f,y,x,S,D,L){Pi=!1,To=null,Ii.apply(uh,arguments)}function Iu(s,i,u,f,y,x,S,D,L){if(jo.apply(this,arguments),Pi){if(Pi){var X=To;Pi=!1,To=null}else throw Error(n(198));ur||(ur=!0,Ga=X)}}function cr(s){var i=s,u=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(u=i.return),s=i.return;while(s)}return i.tag===3?u:null}function Ri(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function dr(s){if(cr(s)!==s)throw Error(n(188))}function Pu(s){var i=s.alternate;if(!i){if(i=cr(s),i===null)throw Error(n(188));return i!==s?null:s}for(var u=s,f=i;;){var y=u.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===u)return dr(y),s;if(x===f)return dr(y),i;x=x.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=x;else{for(var S=!1,D=y.child;D;){if(D===u){S=!0,u=y,f=x;break}if(D===f){S=!0,f=y,u=x;break}D=D.sibling}if(!S){for(D=x.child;D;){if(D===u){S=!0,u=x,f=y;break}if(D===f){S=!0,f=x,u=y;break}D=D.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:i}function qa(s){return s=Pu(s),s!==null?Co(s):null}function Co(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Co(s);if(i!==null)return i;s=s.sibling}return null}var Ao=e.unstable_scheduleCallback,Ka=e.unstable_cancelCallback,Ru=e.unstable_shouldYield,ch=e.unstable_requestPaint,tt=e.unstable_now,Nu=e.unstable_getCurrentPriorityLevel,Ni=e.unstable_ImmediatePriority,Hs=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Du=e.unstable_IdlePriority,Di=null,An=null;function Vu(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Di,s,void 0,(s.current.flags&128)===128)}catch(i){}}var fn=Math.clz32?Math.clz32:Mu,Ya=Math.log,Fu=Math.LN2;function Mu(s){return s>>>=0,s===0?32:31-(Ya(s)/Fu|0)|0}var ko=64,Io=4194304;function Ws(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Vi(s,i){var u=s.pendingLanes;if(u===0)return 0;var f=0,y=s.suspendedLanes,x=s.pingedLanes,S=u&268435455;if(S!==0){var D=S&~y;D!==0?f=Ws(D):(x&=S,x!==0&&(f=Ws(x)))}else S=u&~y,S!==0?f=Ws(S):x!==0&&(f=Ws(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&y)===0&&(y=f&-f,x=i&-i,y>=x||y===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=u&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)u=31-fn(i),y=1<<u,f|=s[u],i&=~y;return f}function dh(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(s,i){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var S=31-fn(x),D=1<<S,L=y[S];L===-1?((D&u)===0||(D&f)!==0)&&(y[S]=dh(D,i)):L<=i&&(s.expiredLanes|=D),x&=~D}}function kn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Fi(){var s=ko;return ko<<=1,(ko&4194240)===0&&(ko=64),s}function Gs(s){for(var i=[],u=0;31>u;u++)i.push(s);return i}function qs(s,i,u){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-fn(i),s[i]=u}function et(s,i){var u=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-fn(u),x=1<<y;i[y]=0,f[y]=-1,s[y]=-1,u&=~x}}function Ks(s,i){var u=s.entangledLanes|=i;for(s=s.entanglements;u;){var f=31-fn(u),y=1<<f;y&i|s[f]&i&&(s[f]|=i),u&=~y}}var Be=0;function Qs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Lu,Po,Ou,Bu,$u,Xa=!1,Fr=[],zt=null,hr=null,fr=null,Ys=new Map,Gn=new Map,Mr=[],hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(s,i){switch(s){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Ys.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(i.pointerId)}}function vn(s,i,u,f,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},i!==null&&(i=hl(i),i!==null&&Po(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),s)}function fh(s,i,u,f,y){switch(i){case"focusin":return zt=vn(zt,s,i,u,f,y),!0;case"dragenter":return hr=vn(hr,s,i,u,f,y),!0;case"mouseover":return fr=vn(fr,s,i,u,f,y),!0;case"pointerover":var x=y.pointerId;return Ys.set(x,vn(Ys.get(x)||null,s,i,u,f,y)),!0;case"gotpointercapture":return x=y.pointerId,Gn.set(x,vn(Gn.get(x)||null,s,i,u,f,y)),!0}return!1}function zu(s){var i=$i(s.target);if(i!==null){var u=cr(i);if(u!==null){if(i=u.tag,i===13){if(i=Ri(u),i!==null){s.blockedOn=i,$u(s.priority,function(){Ou(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function as(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var u=Ro(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Ai=f,u.target.dispatchEvent(f),Ai=null}else return i=hl(u),i!==null&&Po(i),s.blockedOn=u,!1;i.shift()}return!0}function Mi(s,i,u){as(s)&&u.delete(i)}function Hu(){Xa=!1,zt!==null&&as(zt)&&(zt=null),hr!==null&&as(hr)&&(hr=null),fr!==null&&as(fr)&&(fr=null),Ys.forEach(Mi),Gn.forEach(Mi)}function pr(s,i){s.blockedOn===i&&(s.blockedOn=null,Xa||(Xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hu)))}function mr(s){function i(y){return pr(y,s)}if(0<Fr.length){pr(Fr[0],s);for(var u=1;u<Fr.length;u++){var f=Fr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(zt!==null&&pr(zt,s),hr!==null&&pr(hr,s),fr!==null&&pr(fr,s),Ys.forEach(i),Gn.forEach(i),u=0;u<Mr.length;u++)f=Mr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Mr.length&&(u=Mr[0],u.blockedOn===null);)zu(u),u.blockedOn===null&&Mr.shift()}var ls=K.ReactCurrentBatchConfig,Xs=!0;function ut(s,i,u,f){var y=Be,x=ls.transition;ls.transition=null;try{Be=1,Ja(s,i,u,f)}finally{Be=y,ls.transition=x}}function ph(s,i,u,f){var y=Be,x=ls.transition;ls.transition=null;try{Be=4,Ja(s,i,u,f)}finally{Be=y,ls.transition=x}}function Ja(s,i,u,f){if(Xs){var y=Ro(s,i,u,f);if(y===null)Th(s,i,f,Li,u),Uu(s,f);else if(fh(y,s,i,u,f))f.stopPropagation();else if(Uu(s,f),i&4&&-1<hh.indexOf(s)){for(;y!==null;){var x=hl(y);if(x!==null&&Lu(x),x=Ro(s,i,u,f),x===null&&Th(s,i,f,Li,u),x===y)break;y=x}y!==null&&f.stopPropagation()}else Th(s,i,f,null,u)}}var Li=null;function Ro(s,i,u,f){if(Li=null,s=_o(f),s=$i(s),s!==null)if(i=cr(s),i===null)s=null;else if(u=i.tag,u===13){if(s=Ri(i),s!==null)return s;s=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Li=s,null}function Za(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nu()){case Ni:return 1;case Hs:return 4;case Wn:case Qa:return 16;case Du:return 536870912;default:return 16}default:return 16}}var In=null,No=null,xn=null;function el(){if(xn)return xn;var s,i=No,u=i.length,f,y="value"in In?In.value:In.textContent,x=y.length;for(s=0;s<u&&i[s]===y[s];s++);var S=u-s;for(f=1;f<=S&&i[u-f]===y[x-f];f++);return xn=y.slice(s,1<f?1-f:void 0)}function Do(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Lr(){return!0}function tl(){return!1}function Ht(s){function i(u,f,y,x,S){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(x):x[D]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Lr:tl,this.isPropagationStopped=tl,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),i}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Ht(gr),Or=ue({},gr,{view:0,detail:0}),mh=Ht(Or),Fo,us,Js,Oi=ue({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Js&&(Js&&s.type==="mousemove"?(Fo=s.screenX-Js.screenX,us=s.screenY-Js.screenY):us=Fo=0,Js=s),Fo)},movementY:function(s){return"movementY"in s?s.movementY:us}}),Mo=Ht(Oi),nl=ue({},Oi,{dataTransfer:0}),Wu=Ht(nl),Lo=ue({},Or,{relatedTarget:0}),Oo=Ht(Lo),Gu=ue({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=Ht(Gu),qu=ue({},gr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ku=Ht(qu),Qu=ue({},gr,{data:0}),rl=Ht(Qu),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Yu[s])?!!i[s]:!1}function Br(){return Xu}var d=ue({},Or,{key:function(s){if(s.key){var i=Bo[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Do(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?Do(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Do(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Ht(d),b=ue({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=Ht(b),W=ue({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),Z=Ht(W),de=ue({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Ht(de),Nt=ue({},Oi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Ht(Nt),Mt=[9,13,27,32],At=h&&"CompositionEvent"in window,qn=null;h&&"documentMode"in document&&(qn=document.documentMode);var Pn=h&&"TextEvent"in window&&!qn,Bi=h&&(!At||qn&&8<qn&&11>=qn),$o=" ",Zg=!1;function ey(s,i){switch(s){case"keyup":return Mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function XS(s,i){switch(s){case"compositionend":return ty(i);case"keypress":return i.which!==32?null:(Zg=!0,$o);case"textInput":return s=i.data,s===$o&&Zg?null:s;default:return null}}function JS(s,i){if(Uo)return s==="compositionend"||!At&&ey(s,i)?(s=el(),xn=No=In=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Bi&&i.locale!=="ko"?null:i.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!ZS[s.type]:i==="textarea"}function ry(s,i,u,f){Vr(f),i=nc(i,"onChange"),0<i.length&&(u=new Vo("onChange","change",null,u,f),s.push({event:u,listeners:i}))}var sl=null,il=null;function e2(s){_y(s,0)}function Ju(s){var i=qo(s);if(es(i))return s}function t2(s,i){if(s==="change")return i}var sy=!1;if(h){var gh;if(h){var yh="oninput"in document;if(!yh){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),yh=typeof iy.oninput=="function"}gh=yh}else gh=!1;sy=gh&&(!document.documentMode||9<document.documentMode)}function oy(){sl&&(sl.detachEvent("onpropertychange",ay),il=sl=null)}function ay(s){if(s.propertyName==="value"&&Ju(il)){var i=[];ry(i,il,s,_o(s)),Wa(e2,i)}}function n2(s,i,u){s==="focusin"?(oy(),sl=i,il=u,sl.attachEvent("onpropertychange",ay)):s==="focusout"&&oy()}function r2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ju(il)}function s2(s,i){if(s==="click")return Ju(i)}function i2(s,i){if(s==="input"||s==="change")return Ju(i)}function o2(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var yr=typeof Object.is=="function"?Object.is:o2;function ol(s,i){if(yr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var u=Object.keys(s),f=Object.keys(i);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!p.call(i,y)||!yr(s[y],i[y]))return!1}return!0}function ly(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uy(s,i){var u=ly(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=i&&f>=i)return{node:u,offset:i-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ly(u)}}function cy(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?cy(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function dy(){for(var s=window,i=or();i instanceof s.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch(f){u=!1}if(u)s=i.contentWindow;else break;i=or(s.document)}return i}function vh(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function a2(s){var i=dy(),u=s.focusedElem,f=s.selectionRange;if(i!==u&&u&&u.ownerDocument&&cy(u.ownerDocument.documentElement,u)){if(f!==null&&vh(u)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(s,u.value.length);else if(s=(i=u.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,x=Math.min(f.start,y);f=f.end===void 0?x:Math.min(f.end,y),!s.extend&&x>f&&(y=f,f=x,x=y),y=uy(u,x);var S=uy(u,f);y&&S&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),s.addRange(i)))}}for(i=[],s=u;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)s=i[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var l2=h&&"documentMode"in document&&11>=document.documentMode,zo=null,xh=null,al=null,wh=!1;function hy(s,i,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wh||zo==null||zo!==or(f)||(f=zo,"selectionStart"in f&&vh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&ol(al,f)||(al=f,f=nc(xh,"onSelect"),0<f.length&&(i=new Vo("onSelect","select",null,i,u),s.push({event:i,listeners:f}),i.target=zo)))}function Zu(s,i){var u={};return u[s.toLowerCase()]=i.toLowerCase(),u["Webkit"+s]="webkit"+i,u["Moz"+s]="moz"+i,u}var Ho={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},_h={},fy={};h&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function ec(s){if(_h[s])return _h[s];if(!Ho[s])return s;var i=Ho[s],u;for(u in i)if(i.hasOwnProperty(u)&&u in fy)return _h[s]=i[u];return s}var py=ec("animationend"),my=ec("animationiteration"),gy=ec("animationstart"),yy=ec("transitionend"),vy=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(s,i){vy.set(s,i),l(i,[s])}for(var bh=0;bh<xy.length;bh++){var Sh=xy[bh],u2=Sh.toLowerCase(),c2=Sh[0].toUpperCase()+Sh.slice(1);Zs(u2,"on"+c2)}Zs(py,"onAnimationEnd"),Zs(my,"onAnimationIteration"),Zs(gy,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(yy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function wy(s,i,u){var f=s.type||"unknown-event";s.currentTarget=u,Iu(f,i,void 0,s),s.currentTarget=null}function _y(s,i){i=(i&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var S=f.length-1;0<=S;S--){var D=f[S],L=D.instance,X=D.currentTarget;if(D=D.listener,L!==x&&y.isPropagationStopped())break e;wy(y,D,X),x=L}else for(S=0;S<f.length;S++){if(D=f[S],L=D.instance,X=D.currentTarget,D=D.listener,L!==x&&y.isPropagationStopped())break e;wy(y,D,X),x=L}}}if(ur)throw s=Ga,ur=!1,Ga=null,s}function it(s,i){var u=i[Ph];u===void 0&&(u=i[Ph]=new Set);var f=s+"__bubble";u.has(f)||(by(i,s,2,!1),u.add(f))}function Eh(s,i,u){var f=0;i&&(f|=4),by(u,s,f,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[tc]){s[tc]=!0,r.forEach(function(u){u!=="selectionchange"&&(d2.has(u)||Eh(u,!1,s),Eh(u,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[tc]||(i[tc]=!0,Eh("selectionchange",!1,i))}}function by(s,i,u,f){switch(Za(i)){case 1:var y=ut;break;case 4:y=ph;break;default:y=Ja}u=y.bind(null,i,u,s),y=void 0,!Eo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(i,u,{capture:!0,passive:y}):s.addEventListener(i,u,!0):y!==void 0?s.addEventListener(i,u,{passive:y}):s.addEventListener(i,u,!1)}function Th(s,i,u,f,y){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var D=f.stateNode.containerInfo;if(D===y||D.nodeType===8&&D.parentNode===y)break;if(S===4)for(S=f.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===y||L.nodeType===8&&L.parentNode===y))return;S=S.return}for(;D!==null;){if(S=$i(D),S===null)return;if(L=S.tag,L===5||L===6){f=x=S;continue e}D=D.parentNode}}f=f.return}Wa(function(){var X=x,ie=_o(u),ae=[];e:{var se=vy.get(s);if(se!==void 0){var pe=Vo,ye=s;switch(s){case"keypress":if(Do(u)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":ye="focus",pe=Oo;break;case"focusout":ye="blur",pe=Oo;break;case"beforeblur":case"afterblur":pe=Oo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Z;break;case py:case my:case gy:pe=cs;break;case yy:pe=Je;break;case"scroll":pe=mh;break;case"wheel":pe=ze;break;case"copy":case"cut":case"paste":pe=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=j}var xe=(i&4)!==0,Tt=!xe&&s==="scroll",G=xe?se!==null?se+"Capture":null:se;xe=[];for(var z=X,Y;z!==null;){Y=z;var le=Y.stateNode;if(Y.tag===5&&le!==null&&(Y=le,G!==null&&(le=Et(z,G),le!=null&&xe.push(cl(z,le,Y)))),Tt)break;z=z.return}0<xe.length&&(se=new pe(se,ye,null,u,ie),ae.push({event:se,listeners:xe}))}}if((i&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",se&&u!==Ai&&(ye=u.relatedTarget||u.fromElement)&&($i(ye)||ye[ds]))break e;if((pe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(ye=u.relatedTarget||u.toElement,pe=X,ye=ye?$i(ye):null,ye!==null&&(Tt=cr(ye),ye!==Tt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=X),pe!==ye)){if(xe=Mo,le="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(xe=j,le="onPointerLeave",G="onPointerEnter",z="pointer"),Tt=pe==null?se:qo(pe),Y=ye==null?se:qo(ye),se=new xe(le,z+"leave",pe,u,ie),se.target=Tt,se.relatedTarget=Y,le=null,$i(ie)===X&&(xe=new xe(G,z+"enter",ye,u,ie),xe.target=Y,xe.relatedTarget=Tt,le=xe),Tt=le,pe&&ye)t:{for(xe=pe,G=ye,z=0,Y=xe;Y;Y=Wo(Y))z++;for(Y=0,le=G;le;le=Wo(le))Y++;for(;0<z-Y;)xe=Wo(xe),z--;for(;0<Y-z;)G=Wo(G),Y--;for(;z--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Wo(xe),G=Wo(G)}xe=null}else xe=null;pe!==null&&Sy(ae,se,pe,xe,!1),ye!==null&&Tt!==null&&Sy(ae,Tt,ye,xe,!0)}}e:{if(se=X?qo(X):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var _e=t2;else if(ny(se))if(sy)_e=i2;else{_e=r2;var Se=n2}else(pe=se.nodeName)&&pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=s2);if(_e&&(_e=_e(s,X))){ry(ae,_e,u,ie);break e}Se&&Se(s,se,X),s==="focusout"&&(Se=se._wrapperState)&&Se.controlled&&se.type==="number"&&ns(se,"number",se.value)}switch(Se=X?qo(X):window,s){case"focusin":(ny(Se)||Se.contentEditable==="true")&&(zo=Se,xh=X,al=null);break;case"focusout":al=xh=zo=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,hy(ae,u,ie);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":hy(ae,u,ie)}var Ee;if(At)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Uo?ey(s,u)&&(Ce="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Bi&&u.locale!=="ko"&&(Uo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Uo&&(Ee=el()):(In=ie,No="value"in In?In.value:In.textContent,Uo=!0)),Se=nc(X,Ce),0<Se.length&&(Ce=new rl(Ce,s,null,u,ie),ae.push({event:Ce,listeners:Se}),Ee?Ce.data=Ee:(Ee=ty(u),Ee!==null&&(Ce.data=Ee)))),(Ee=Pn?XS(s,u):JS(s,u))&&(X=nc(X,"onBeforeInput"),0<X.length&&(ie=new rl("onBeforeInput","beforeinput",null,u,ie),ae.push({event:ie,listeners:X}),ie.data=Ee))}_y(ae,i)})}function cl(s,i,u){return{instance:s,listener:i,currentTarget:u}}function nc(s,i){for(var u=i+"Capture",f=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Et(s,u),x!=null&&f.unshift(cl(s,x,y)),x=Et(s,i),x!=null&&f.push(cl(s,x,y))),s=s.return}return f}function Wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sy(s,i,u,f,y){for(var x=i._reactName,S=[];u!==null&&u!==f;){var D=u,L=D.alternate,X=D.stateNode;if(L!==null&&L===f)break;D.tag===5&&X!==null&&(D=X,y?(L=Et(u,x),L!=null&&S.unshift(cl(u,L,D))):y||(L=Et(u,x),L!=null&&S.push(cl(u,L,D)))),u=u.return}S.length!==0&&s.push({event:i,listeners:S})}var h2=/\r\n?/g,f2=/\u0000|\uFFFD/g;function Ey(s){return(typeof s=="string"?s:""+s).replace(h2,`
`).replace(f2,"")}function rc(s,i,u){if(i=Ey(i),Ey(s)!==i&&u)throw Error(n(425))}function sc(){}var jh=null,Ch=null;function Ah(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty!="undefined"?function(s){return Ty.resolve(null).then(s).catch(g2)}:kh;function g2(s){setTimeout(function(){throw s})}function Ih(s,i){var u=i,f=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(f===0){s.removeChild(y),mr(i);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=y}while(u);mr(i)}function ei(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function jy(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return s;i--}else u==="/$"&&i++}s=s.previousSibling}return null}var Go=Math.random().toString(36).slice(2),$r="__reactFiber$"+Go,dl="__reactProps$"+Go,ds="__reactContainer$"+Go,Ph="__reactEvents$"+Go,y2="__reactListeners$"+Go,v2="__reactHandles$"+Go;function $i(s){var i=s[$r];if(i)return i;for(var u=s.parentNode;u;){if(i=u[ds]||u[$r]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(s=jy(s);s!==null;){if(u=s[$r])return u;s=jy(s)}return i}s=u,u=s.parentNode}return null}function hl(s){return s=s[$r]||s[ds],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ic(s){return s[dl]||null}var Rh=[],Ko=-1;function ti(s){return{current:s}}function ot(s){0>Ko||(s.current=Rh[Ko],Rh[Ko]=null,Ko--)}function nt(s,i){Ko++,Rh[Ko]=s.current,s.current=i}var ni={},nn=ti(ni),wn=ti(!1),Ui=ni;function Qo(s,i){var u=s.type.contextTypes;if(!u)return ni;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in u)y[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=y),y}function _n(s){return s=s.childContextTypes,s!=null}function oc(){ot(wn),ot(nn)}function Cy(s,i,u){if(nn.current!==ni)throw Error(n(168));nt(nn,i),nt(wn,u)}function Ay(s,i,u){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var y in f)if(!(y in i))throw Error(n(108,$e(s)||"Unknown",y));return ue({},u,f)}function ac(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ni,Ui=nn.current,nt(nn,s),nt(wn,wn.current),!0}function ky(s,i,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=Ay(s,i,Ui),f.__reactInternalMemoizedMergedChildContext=s,ot(wn),ot(nn),nt(nn,s)):ot(wn),nt(wn,u)}var hs=null,lc=!1,Nh=!1;function Iy(s){hs===null?hs=[s]:hs.push(s)}function x2(s){lc=!0,Iy(s)}function ri(){if(!Nh&&hs!==null){Nh=!0;var s=0,i=Be;try{var u=hs;for(Be=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}hs=null,lc=!1}catch(y){throw hs!==null&&(hs=hs.slice(s+1)),Ao(Ni,ri),y}finally{Be=i,Nh=!1}}return null}var Yo=[],Xo=0,uc=null,cc=0,Kn=[],Qn=0,zi=null,fs=1,ps="";function Hi(s,i){Yo[Xo++]=cc,Yo[Xo++]=uc,uc=s,cc=i}function Py(s,i,u){Kn[Qn++]=fs,Kn[Qn++]=ps,Kn[Qn++]=zi,zi=s;var f=fs;s=ps;var y=32-fn(f)-1;f&=~(1<<y),u+=1;var x=32-fn(i)+y;if(30<x){var S=y-y%5;x=(f&(1<<S)-1).toString(32),f>>=S,y-=S,fs=1<<32-fn(i)+y|u<<y|f,ps=x+s}else fs=1<<x|u<<y|f,ps=s}function Dh(s){s.return!==null&&(Hi(s,1),Py(s,1,0))}function Vh(s){for(;s===uc;)uc=Yo[--Xo],Yo[Xo]=null,cc=Yo[--Xo],Yo[Xo]=null;for(;s===zi;)zi=Kn[--Qn],Kn[Qn]=null,ps=Kn[--Qn],Kn[Qn]=null,fs=Kn[--Qn],Kn[Qn]=null}var Rn=null,Nn=null,ct=!1,vr=null;function Ry(s,i){var u=Zn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=s,i=s.deletions,i===null?(s.deletions=[u],s.flags|=16):i.push(u)}function Ny(s,i){switch(s.tag){case 5:var u=s.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Rn=s,Nn=ei(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Rn=s,Nn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=zi!==null?{id:fs,overflow:ps}:null,s.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Zn(18,null,null,0),u.stateNode=i,u.return=s,s.child=u,Rn=s,Nn=null,!0):!1;default:return!1}}function Fh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mh(s){if(ct){var i=Nn;if(i){var u=i;if(!Ny(s,i)){if(Fh(s))throw Error(n(418));i=ei(u.nextSibling);var f=Rn;i&&Ny(s,i)?Ry(f,u):(s.flags=s.flags&-4097|2,ct=!1,Rn=s)}}else{if(Fh(s))throw Error(n(418));s.flags=s.flags&-4097|2,ct=!1,Rn=s}}}function Dy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rn=s}function dc(s){if(s!==Rn)return!1;if(!ct)return Dy(s),ct=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ah(s.type,s.memoizedProps)),i&&(i=Nn)){if(Fh(s))throw Vy(),Error(n(418));for(;i;)Ry(s,i),i=ei(i.nextSibling)}if(Dy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(i===0){Nn=ei(s.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}s=s.nextSibling}Nn=null}}else Nn=Rn?ei(s.stateNode.nextSibling):null;return!0}function Vy(){for(var s=Nn;s;)s=ei(s.nextSibling)}function Jo(){Nn=Rn=null,ct=!1}function Lh(s){vr===null?vr=[s]:vr.push(s)}var w2=K.ReactCurrentBatchConfig;function fl(s,i,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var y=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(S){var D=y.refs;S===null?delete D[x]:D[x]=S},i._stringRef=x,i)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function hc(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Fy(s){var i=s._init;return i(s._payload)}function My(s){function i(G,z){if(s){var Y=G.deletions;Y===null?(G.deletions=[z],G.flags|=16):Y.push(z)}}function u(G,z){if(!s)return null;for(;z!==null;)i(G,z),z=z.sibling;return null}function f(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function y(G,z){return G=di(G,z),G.index=0,G.sibling=null,G}function x(G,z,Y){return G.index=Y,s?(Y=G.alternate,Y!==null?(Y=Y.index,Y<z?(G.flags|=2,z):Y):(G.flags|=2,z)):(G.flags|=1048576,z)}function S(G){return s&&G.alternate===null&&(G.flags|=2),G}function D(G,z,Y,le){return z===null||z.tag!==6?(z=If(Y,G.mode,le),z.return=G,z):(z=y(z,Y),z.return=G,z)}function L(G,z,Y,le){var _e=Y.type;return _e===C?ie(G,z,Y.props.children,le,Y.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Te&&Fy(_e)===z.type)?(le=y(z,Y.props),le.ref=fl(G,z,Y),le.return=G,le):(le=Fc(Y.type,Y.key,Y.props,null,G.mode,le),le.ref=fl(G,z,Y),le.return=G,le)}function X(G,z,Y,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Pf(Y,G.mode,le),z.return=G,z):(z=y(z,Y.children||[]),z.return=G,z)}function ie(G,z,Y,le,_e){return z===null||z.tag!==7?(z=Ji(Y,G.mode,le,_e),z.return=G,z):(z=y(z,Y),z.return=G,z)}function ae(G,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return z=If(""+z,G.mode,Y),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return Y=Fc(z.type,z.key,z.props,null,G.mode,Y),Y.ref=fl(G,null,z),Y.return=G,Y;case Q:return z=Pf(z,G.mode,Y),z.return=G,z;case Te:var le=z._init;return ae(G,le(z._payload),Y)}if($n(z)||fe(z))return z=Ji(z,G.mode,Y,null),z.return=G,z;hc(G,z)}return null}function se(G,z,Y,le){var _e=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return _e!==null?null:D(G,z,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return Y.key===_e?L(G,z,Y,le):null;case Q:return Y.key===_e?X(G,z,Y,le):null;case Te:return _e=Y._init,se(G,z,_e(Y._payload),le)}if($n(Y)||fe(Y))return _e!==null?null:ie(G,z,Y,le,null);hc(G,Y)}return null}function pe(G,z,Y,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get(Y)||null,D(z,G,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case B:return G=G.get(le.key===null?Y:le.key)||null,L(z,G,le,_e);case Q:return G=G.get(le.key===null?Y:le.key)||null,X(z,G,le,_e);case Te:var Se=le._init;return pe(G,z,Y,Se(le._payload),_e)}if($n(le)||fe(le))return G=G.get(Y)||null,ie(z,G,le,_e,null);hc(z,le)}return null}function ye(G,z,Y,le){for(var _e=null,Se=null,Ee=z,Ce=z=0,Bt=null;Ee!==null&&Ce<Y.length;Ce++){Ee.index>Ce?(Bt=Ee,Ee=null):Bt=Ee.sibling;var qe=se(G,Ee,Y[Ce],le);if(qe===null){Ee===null&&(Ee=Bt);break}s&&Ee&&qe.alternate===null&&i(G,Ee),z=x(qe,z,Ce),Se===null?_e=qe:Se.sibling=qe,Se=qe,Ee=Bt}if(Ce===Y.length)return u(G,Ee),ct&&Hi(G,Ce),_e;if(Ee===null){for(;Ce<Y.length;Ce++)Ee=ae(G,Y[Ce],le),Ee!==null&&(z=x(Ee,z,Ce),Se===null?_e=Ee:Se.sibling=Ee,Se=Ee);return ct&&Hi(G,Ce),_e}for(Ee=f(G,Ee);Ce<Y.length;Ce++)Bt=pe(Ee,G,Ce,Y[Ce],le),Bt!==null&&(s&&Bt.alternate!==null&&Ee.delete(Bt.key===null?Ce:Bt.key),z=x(Bt,z,Ce),Se===null?_e=Bt:Se.sibling=Bt,Se=Bt);return s&&Ee.forEach(function(hi){return i(G,hi)}),ct&&Hi(G,Ce),_e}function xe(G,z,Y,le){var _e=fe(Y);if(typeof _e!="function")throw Error(n(150));if(Y=_e.call(Y),Y==null)throw Error(n(151));for(var Se=_e=null,Ee=z,Ce=z=0,Bt=null,qe=Y.next();Ee!==null&&!qe.done;Ce++,qe=Y.next()){Ee.index>Ce?(Bt=Ee,Ee=null):Bt=Ee.sibling;var hi=se(G,Ee,qe.value,le);if(hi===null){Ee===null&&(Ee=Bt);break}s&&Ee&&hi.alternate===null&&i(G,Ee),z=x(hi,z,Ce),Se===null?_e=hi:Se.sibling=hi,Se=hi,Ee=Bt}if(qe.done)return u(G,Ee),ct&&Hi(G,Ce),_e;if(Ee===null){for(;!qe.done;Ce++,qe=Y.next())qe=ae(G,qe.value,le),qe!==null&&(z=x(qe,z,Ce),Se===null?_e=qe:Se.sibling=qe,Se=qe);return ct&&Hi(G,Ce),_e}for(Ee=f(G,Ee);!qe.done;Ce++,qe=Y.next())qe=pe(Ee,G,Ce,qe.value,le),qe!==null&&(s&&qe.alternate!==null&&Ee.delete(qe.key===null?Ce:qe.key),z=x(qe,z,Ce),Se===null?_e=qe:Se.sibling=qe,Se=qe);return s&&Ee.forEach(function(Z2){return i(G,Z2)}),ct&&Hi(G,Ce),_e}function Tt(G,z,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:e:{for(var _e=Y.key,Se=z;Se!==null;){if(Se.key===_e){if(_e=Y.type,_e===C){if(Se.tag===7){u(G,Se.sibling),z=y(Se,Y.props.children),z.return=G,G=z;break e}}else if(Se.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Te&&Fy(_e)===Se.type){u(G,Se.sibling),z=y(Se,Y.props),z.ref=fl(G,Se,Y),z.return=G,G=z;break e}u(G,Se);break}else i(G,Se);Se=Se.sibling}Y.type===C?(z=Ji(Y.props.children,G.mode,le,Y.key),z.return=G,G=z):(le=Fc(Y.type,Y.key,Y.props,null,G.mode,le),le.ref=fl(G,z,Y),le.return=G,G=le)}return S(G);case Q:e:{for(Se=Y.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){u(G,z.sibling),z=y(z,Y.children||[]),z.return=G,G=z;break e}else{u(G,z);break}else i(G,z);z=z.sibling}z=Pf(Y,G.mode,le),z.return=G,G=z}return S(G);case Te:return Se=Y._init,Tt(G,z,Se(Y._payload),le)}if($n(Y))return ye(G,z,Y,le);if(fe(Y))return xe(G,z,Y,le);hc(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,z!==null&&z.tag===6?(u(G,z.sibling),z=y(z,Y),z.return=G,G=z):(u(G,z),z=If(Y,G.mode,le),z.return=G,G=z),S(G)):u(G,z)}return Tt}var Zo=My(!0),Ly=My(!1),fc=ti(null),pc=null,ea=null,Oh=null;function Bh(){Oh=ea=pc=null}function $h(s){var i=fc.current;ot(fc),s._currentValue=i}function Uh(s,i,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===u)break;s=s.return}}function ta(s,i){pc=s,Oh=ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(bn=!0),s.firstContext=null)}function Yn(s){var i=s._currentValue;if(Oh!==s)if(s={context:s,memoizedValue:i,next:null},ea===null){if(pc===null)throw Error(n(308));ea=s,pc.dependencies={lanes:0,firstContext:s}}else ea=ea.next=s;return i}var Wi=null;function zh(s){Wi===null?Wi=[s]:Wi.push(s)}function Oy(s,i,u,f){var y=i.interleaved;return y===null?(u.next=u,zh(i)):(u.next=y.next,y.next=u),i.interleaved=u,ms(s,f)}function ms(s,i){s.lanes|=i;var u=s.alternate;for(u!==null&&(u.lanes|=i),u=s,s=s.return;s!==null;)s.childLanes|=i,u=s.alternate,u!==null&&(u.childLanes|=i),u=s,s=s.return;return u.tag===3?u.stateNode:null}var si=!1;function Hh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function gs(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ii(s,i,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(We&2)!==0){var y=f.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),f.pending=i,ms(s,u)}return y=f.interleaved,y===null?(i.next=i,zh(f)):(i.next=y.next,y.next=i),f.interleaved=i,ms(s,u)}function mc(s,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,Ks(s,u)}}function $y(s,i){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?y=x=S:x=x.next=S,u=u.next}while(u!==null);x===null?y=x=i:x=x.next=i}else y=x=i;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=i:s.next=i,u.lastBaseUpdate=i}function gc(s,i,u,f){var y=s.updateQueue;si=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var L=D,X=L.next;L.next=null,S===null?x=X:S.next=X,S=L;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==S&&(D===null?ie.firstBaseUpdate=X:D.next=X,ie.lastBaseUpdate=L))}if(x!==null){var ae=y.baseState;S=0,ie=X=L=null,D=x;do{var se=D.lane,pe=D.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ye=s,xe=D;switch(se=i,pe=u,xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){ae=ye.call(pe,ae,se);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,se=typeof ye=="function"?ye.call(pe,ae,se):ye,se==null)break e;ae=ue({},ae,se);break e;case 2:si=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,se=y.effects,se===null?y.effects=[D]:se.push(D))}else pe={eventTime:pe,lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(X=ie=pe,L=ae):ie=ie.next=pe,S|=se;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;se=D,D=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(L=ae),y.baseState=L,y.firstBaseUpdate=X,y.lastBaseUpdate=ie,i=y.shared.interleaved,i!==null){y=i;do S|=y.lane,y=y.next;while(y!==i)}else x===null&&(y.shared.lanes=0);Ki|=S,s.lanes=S,s.memoizedState=ae}}function Uy(s,i,u){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],y=f.callback;if(y!==null){if(f.callback=null,f=u,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var pl={},Ur=ti(pl),ml=ti(pl),gl=ti(pl);function Gi(s){if(s===pl)throw Error(n(174));return s}function Wh(s,i){switch(nt(gl,i),nt(ml,s),nt(Ur,pl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:xt(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=xt(i,s)}ot(Ur),nt(Ur,i)}function na(){ot(Ur),ot(ml),ot(gl)}function zy(s){Gi(gl.current);var i=Gi(Ur.current),u=xt(i,s.type);i!==u&&(nt(ml,s),nt(Ur,u))}function Gh(s){ml.current===s&&(ot(Ur),ot(ml))}var ft=ti(0);function yc(s){for(var i=s;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qh=[];function Kh(){for(var s=0;s<qh.length;s++)qh[s]._workInProgressVersionPrimary=null;qh.length=0}var vc=K.ReactCurrentDispatcher,Qh=K.ReactCurrentBatchConfig,qi=0,pt=null,Dt=null,Lt=null,xc=!1,yl=!1,vl=0,_2=0;function rn(){throw Error(n(321))}function Yh(s,i){if(i===null)return!1;for(var u=0;u<i.length&&u<s.length;u++)if(!yr(s[u],i[u]))return!1;return!0}function Xh(s,i,u,f,y,x){if(qi=x,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,vc.current=s===null||s.memoizedState===null?T2:j2,s=u(f,y),yl){x=0;do{if(yl=!1,vl=0,25<=x)throw Error(n(301));x+=1,Lt=Dt=null,i.updateQueue=null,vc.current=C2,s=u(f,y)}while(yl)}if(vc.current=bc,i=Dt!==null&&Dt.next!==null,qi=0,Lt=Dt=pt=null,xc=!1,i)throw Error(n(300));return s}function Jh(){var s=vl!==0;return vl=0,s}function zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?pt.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Xn(){if(Dt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var i=Lt===null?pt.memoizedState:Lt.next;if(i!==null)Lt=i,Dt=s;else{if(s===null)throw Error(n(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Lt===null?pt.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function xl(s,i){return typeof i=="function"?i(s):i}function Zh(s){var i=Xn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=Dt,y=f.baseQueue,x=u.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}f.baseQueue=y=x,u.pending=null}if(y!==null){x=y.next,f=f.baseState;var D=S=null,L=null,X=x;do{var ie=X.lane;if((qi&ie)===ie)L!==null&&(L=L.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:s(f,X.action);else{var ae={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};L===null?(D=L=ae,S=f):L=L.next=ae,pt.lanes|=ie,Ki|=ie}X=X.next}while(X!==null&&X!==x);L===null?S=f:L.next=D,yr(f,i.memoizedState)||(bn=!0),i.memoizedState=f,i.baseState=S,i.baseQueue=L,u.lastRenderedState=f}if(s=u.interleaved,s!==null){y=s;do x=y.lane,pt.lanes|=x,Ki|=x,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function ef(s){var i=Xn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,x=i.memoizedState;if(y!==null){u.pending=null;var S=y=y.next;do x=s(x,S.action),S=S.next;while(S!==y);yr(x,i.memoizedState)||(bn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),u.lastRenderedState=x}return[x,f]}function Hy(){}function Wy(s,i){var u=pt,f=Xn(),y=i(),x=!yr(f.memoizedState,y);if(x&&(f.memoizedState=y,bn=!0),f=f.queue,tf(Ky.bind(null,u,f,s),[s]),f.getSnapshot!==i||x||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,wl(9,qy.bind(null,u,f,y,i),void 0,null),Ot===null)throw Error(n(349));(qi&30)!==0||Gy(u,i,y)}return y}function Gy(s,i,u){s.flags|=16384,s={getSnapshot:i,value:u},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.stores=[s]):(u=i.stores,u===null?i.stores=[s]:u.push(s))}function qy(s,i,u,f){i.value=u,i.getSnapshot=f,Qy(i)&&Yy(s)}function Ky(s,i,u){return u(function(){Qy(i)&&Yy(s)})}function Qy(s){var i=s.getSnapshot;s=s.value;try{var u=i();return!yr(s,u)}catch(f){return!0}}function Yy(s){var i=ms(s,1);i!==null&&br(i,s,1,-1)}function Xy(s){var i=zr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:s},i.queue=s,s=s.dispatch=E2.bind(null,pt,s),[i.memoizedState,s]}function wl(s,i,u,f){return s={tag:s,create:i,destroy:u,deps:f,next:null},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.lastEffect=s.next=s):(u=i.lastEffect,u===null?i.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,i.lastEffect=s)),s}function Jy(){return Xn().memoizedState}function wc(s,i,u,f){var y=zr();pt.flags|=s,y.memoizedState=wl(1|i,u,void 0,f===void 0?null:f)}function _c(s,i,u,f){var y=Xn();f=f===void 0?null:f;var x=void 0;if(Dt!==null){var S=Dt.memoizedState;if(x=S.destroy,f!==null&&Yh(f,S.deps)){y.memoizedState=wl(i,u,x,f);return}}pt.flags|=s,y.memoizedState=wl(1|i,u,x,f)}function Zy(s,i){return wc(8390656,8,s,i)}function tf(s,i){return _c(2048,8,s,i)}function ev(s,i){return _c(4,2,s,i)}function tv(s,i){return _c(4,4,s,i)}function nv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function rv(s,i,u){return u=u!=null?u.concat([s]):null,_c(4,4,nv.bind(null,i,s),u)}function nf(){}function sv(s,i){var u=Xn();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&Yh(i,f[1])?f[0]:(u.memoizedState=[s,i],s)}function iv(s,i){var u=Xn();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&Yh(i,f[1])?f[0]:(s=s(),u.memoizedState=[s,i],s)}function ov(s,i,u){return(qi&21)===0?(s.baseState&&(s.baseState=!1,bn=!0),s.memoizedState=u):(yr(u,i)||(u=Fi(),pt.lanes|=u,Ki|=u,s.baseState=!0),i)}function b2(s,i){var u=Be;Be=u!==0&&4>u?u:4,s(!0);var f=Qh.transition;Qh.transition={};try{s(!1),i()}finally{Be=u,Qh.transition=f}}function av(){return Xn().memoizedState}function S2(s,i,u){var f=ui(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},lv(s))uv(i,u);else if(u=Oy(s,i,u,f),u!==null){var y=gn();br(u,s,f,y),cv(u,i,f)}}function E2(s,i,u){var f=ui(s),y={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(lv(s))uv(i,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var S=i.lastRenderedState,D=x(S,u);if(y.hasEagerState=!0,y.eagerState=D,yr(D,S)){var L=i.interleaved;L===null?(y.next=y,zh(i)):(y.next=L.next,L.next=y),i.interleaved=y;return}}catch(X){}finally{}u=Oy(s,i,y,f),u!==null&&(y=gn(),br(u,s,f,y),cv(u,i,f))}}function lv(s){var i=s.alternate;return s===pt||i!==null&&i===pt}function uv(s,i){yl=xc=!0;var u=s.pending;u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i}function cv(s,i,u){if((u&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,u|=f,i.lanes=u,Ks(s,u)}}var bc={readContext:Yn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},T2={readContext:Yn,useCallback:function(s,i){return zr().memoizedState=[s,i===void 0?null:i],s},useContext:Yn,useEffect:Zy,useImperativeHandle:function(s,i,u){return u=u!=null?u.concat([s]):null,wc(4194308,4,nv.bind(null,i,s),u)},useLayoutEffect:function(s,i){return wc(4194308,4,s,i)},useInsertionEffect:function(s,i){return wc(4,2,s,i)},useMemo:function(s,i){var u=zr();return i=i===void 0?null:i,s=s(),u.memoizedState=[s,i],s},useReducer:function(s,i,u){var f=zr();return i=u!==void 0?u(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=S2.bind(null,pt,s),[f.memoizedState,s]},useRef:function(s){var i=zr();return s={current:s},i.memoizedState=s},useState:Xy,useDebugValue:nf,useDeferredValue:function(s){return zr().memoizedState=s},useTransition:function(){var s=Xy(!1),i=s[0];return s=b2.bind(null,s[1]),zr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,u){var f=pt,y=zr();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Ot===null)throw Error(n(349));(qi&30)!==0||Gy(f,i,u)}y.memoizedState=u;var x={value:u,getSnapshot:i};return y.queue=x,Zy(Ky.bind(null,f,x,s),[s]),f.flags|=2048,wl(9,qy.bind(null,f,x,u,i),void 0,null),u},useId:function(){var s=zr(),i=Ot.identifierPrefix;if(ct){var u=ps,f=fs;u=(f&~(1<<32-fn(f)-1)).toString(32)+u,i=":"+i+"R"+u,u=vl++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=_2++,i=":"+i+"r"+u.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},j2={readContext:Yn,useCallback:sv,useContext:Yn,useEffect:tf,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:Zh,useRef:Jy,useState:function(){return Zh(xl)},useDebugValue:nf,useDeferredValue:function(s){var i=Xn();return ov(i,Dt.memoizedState,s)},useTransition:function(){var s=Zh(xl)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:av,unstable_isNewReconciler:!1},C2={readContext:Yn,useCallback:sv,useContext:Yn,useEffect:tf,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:ef,useRef:Jy,useState:function(){return ef(xl)},useDebugValue:nf,useDeferredValue:function(s){var i=Xn();return Dt===null?i.memoizedState=s:ov(i,Dt.memoizedState,s)},useTransition:function(){var s=ef(xl)[0],i=Xn().memoizedState;return[s,i]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:av,unstable_isNewReconciler:!1};function xr(s,i){if(s&&s.defaultProps){i=ue({},i),s=s.defaultProps;for(var u in s)i[u]===void 0&&(i[u]=s[u]);return i}return i}function rf(s,i,u,f){i=s.memoizedState,u=u(f,i),u=u==null?i:ue({},i,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Sc={isMounted:function(s){return(s=s._reactInternals)?cr(s)===s:!1},enqueueSetState:function(s,i,u){s=s._reactInternals;var f=gn(),y=ui(s),x=gs(f,y);x.payload=i,u!=null&&(x.callback=u),i=ii(s,x,y),i!==null&&(br(i,s,y,f),mc(i,s,y))},enqueueReplaceState:function(s,i,u){s=s._reactInternals;var f=gn(),y=ui(s),x=gs(f,y);x.tag=1,x.payload=i,u!=null&&(x.callback=u),i=ii(s,x,y),i!==null&&(br(i,s,y,f),mc(i,s,y))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var u=gn(),f=ui(s),y=gs(u,f);y.tag=2,i!=null&&(y.callback=i),i=ii(s,y,f),i!==null&&(br(i,s,f,u),mc(i,s,f))}};function dv(s,i,u,f,y,x,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,S):i.prototype&&i.prototype.isPureReactComponent?!ol(u,f)||!ol(y,x):!0}function hv(s,i,u){var f=!1,y=ni,x=i.contextType;return typeof x=="object"&&x!==null?x=Yn(x):(y=_n(i)?Ui:nn.current,f=i.contextTypes,x=(f=f!=null)?Qo(s,y):ni),i=new i(u,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sc,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),i}function fv(s,i,u,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,f),i.state!==s&&Sc.enqueueReplaceState(i,i.state,null)}function sf(s,i,u,f){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},Hh(s);var x=i.contextType;typeof x=="object"&&x!==null?y.context=Yn(x):(x=_n(i)?Ui:nn.current,y.context=Qo(s,x)),y.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(rf(s,i,x,u),y.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&Sc.enqueueReplaceState(y,y.state,null),gc(s,u,y,f),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function ra(s,i){try{var u="",f=i;do u+=Ne(f),f=f.return;while(f);var y=u}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:y,digest:null}}function of(s,i,u){return{value:s,source:null,stack:u!=null?u:null,digest:i!=null?i:null}}function af(s,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var A2=typeof WeakMap=="function"?WeakMap:Map;function pv(s,i,u){u=gs(-1,u),u.tag=3,u.payload={element:null};var f=i.value;return u.callback=function(){Ic||(Ic=!0,bf=f),af(s,i)},u}function mv(s,i,u){u=gs(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=i.value;u.payload=function(){return f(y)},u.callback=function(){af(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){af(s,i),typeof f!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),u}function gv(s,i,u){var f=s.pingCache;if(f===null){f=s.pingCache=new A2;var y=new Set;f.set(i,y)}else y=f.get(i),y===void 0&&(y=new Set,f.set(i,y));y.has(u)||(y.add(u),s=U2.bind(null,s,i,u),i.then(s,s))}function yv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function vv(s,i,u,f,y){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=gs(-1,1),i.tag=2,ii(u,i,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var k2=K.ReactCurrentOwner,bn=!1;function mn(s,i,u,f){i.child=s===null?Ly(i,null,u,f):Zo(i,s.child,u,f)}function xv(s,i,u,f,y){u=u.render;var x=i.ref;return ta(i,y),f=Xh(s,i,u,f,x,y),u=Jh(),s!==null&&!bn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~y,ys(s,i,y)):(ct&&u&&Dh(i),i.flags|=1,mn(s,i,f,y),i.child)}function wv(s,i,u,f,y){if(s===null){var x=u.type;return typeof x=="function"&&!kf(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=x,_v(s,i,x,f,y)):(s=Fc(u.type,null,f,i,i.mode,y),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&y)===0){var S=x.memoizedProps;if(u=u.compare,u=u!==null?u:ol,u(S,f)&&s.ref===i.ref)return ys(s,i,y)}return i.flags|=1,s=di(x,f),s.ref=i.ref,s.return=i,i.child=s}function _v(s,i,u,f,y){if(s!==null){var x=s.memoizedProps;if(ol(x,f)&&s.ref===i.ref)if(bn=!1,i.pendingProps=f=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(bn=!0);else return i.lanes=s.lanes,ys(s,i,y)}return lf(s,i,u,f,y)}function bv(s,i,u){var f=i.pendingProps,y=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ia,Dn),Dn|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,nt(ia,Dn),Dn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:u,nt(ia,Dn),Dn|=f}else x!==null?(f=x.baseLanes|u,i.memoizedState=null):f=u,nt(ia,Dn),Dn|=f;return mn(s,i,y,u),i.child}function Sv(s,i){var u=i.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function lf(s,i,u,f,y){var x=_n(u)?Ui:nn.current;return x=Qo(i,x),ta(i,y),u=Xh(s,i,u,f,x,y),f=Jh(),s!==null&&!bn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~y,ys(s,i,y)):(ct&&f&&Dh(i),i.flags|=1,mn(s,i,u,y),i.child)}function Ev(s,i,u,f,y){if(_n(u)){var x=!0;ac(i)}else x=!1;if(ta(i,y),i.stateNode===null)Tc(s,i),hv(i,u,f),sf(i,u,f,y),f=!0;else if(s===null){var S=i.stateNode,D=i.memoizedProps;S.props=D;var L=S.context,X=u.contextType;typeof X=="object"&&X!==null?X=Yn(X):(X=_n(u)?Ui:nn.current,X=Qo(i,X));var ie=u.getDerivedStateFromProps,ae=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==f||L!==X)&&fv(i,S,f,X),si=!1;var se=i.memoizedState;S.state=se,gc(i,f,S,y),L=i.memoizedState,D!==f||se!==L||wn.current||si?(typeof ie=="function"&&(rf(i,u,ie,f),L=i.memoizedState),(D=si||dv(i,u,D,f,se,L,X))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=L),S.props=f,S.state=L,S.context=X,f=D):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{S=i.stateNode,By(s,i),D=i.memoizedProps,X=i.type===i.elementType?D:xr(i.type,D),S.props=X,ae=i.pendingProps,se=S.context,L=u.contextType,typeof L=="object"&&L!==null?L=Yn(L):(L=_n(u)?Ui:nn.current,L=Qo(i,L));var pe=u.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==ae||se!==L)&&fv(i,S,f,L),si=!1,se=i.memoizedState,S.state=se,gc(i,f,S,y);var ye=i.memoizedState;D!==ae||se!==ye||wn.current||si?(typeof pe=="function"&&(rf(i,u,pe,f),ye=i.memoizedState),(X=si||dv(i,u,X,f,se,ye,L)||!1)?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,ye,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,ye,L)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ye),S.props=f,S.state=ye,S.context=L,f=X):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&se===s.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&se===s.memoizedState||(i.flags|=1024),f=!1)}return uf(s,i,u,f,x,y)}function uf(s,i,u,f,y,x){Sv(s,i);var S=(i.flags&128)!==0;if(!f&&!S)return y&&ky(i,u,!1),ys(s,i,x);f=i.stateNode,k2.current=i;var D=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&S?(i.child=Zo(i,s.child,null,x),i.child=Zo(i,null,D,x)):mn(s,i,D,x),i.memoizedState=f.state,y&&ky(i,u,!0),i.child}function Tv(s){var i=s.stateNode;i.pendingContext?Cy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Cy(s,i.context,!1),Wh(s,i.containerInfo)}function jv(s,i,u,f,y){return Jo(),Lh(y),i.flags|=256,mn(s,i,u,f),i.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function df(s){return{baseLanes:s,cachePool:null,transitions:null}}function Cv(s,i,u){var f=i.pendingProps,y=ft.current,x=!1,S=(i.flags&128)!==0,D;if((D=S)||(D=s!==null&&s.memoizedState===null?!1:(y&2)!==0),D?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),nt(ft,y&1),s===null)return Mh(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=f.children,s=f.fallback,x?(f=i.mode,x=i.child,S={mode:"hidden",children:S},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=Mc(S,f,0,null),s=Ji(s,f,u,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=df(u),i.memoizedState=cf,s):hf(i,S));if(y=s.memoizedState,y!==null&&(D=y.dehydrated,D!==null))return I2(s,i,S,f,D,y,u);if(x){x=f.fallback,S=i.mode,y=s.child,D=y.sibling;var L={mode:"hidden",children:f.children};return(S&1)===0&&i.child!==y?(f=i.child,f.childLanes=0,f.pendingProps=L,i.deletions=null):(f=di(y,L),f.subtreeFlags=y.subtreeFlags&14680064),D!==null?x=di(D,x):(x=Ji(x,S,u,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,S=s.child.memoizedState,S=S===null?df(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=s.childLanes&~u,i.memoizedState=cf,f}return x=s.child,s=x.sibling,f=di(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=u),f.return=i,f.sibling=null,s!==null&&(u=i.deletions,u===null?(i.deletions=[s],i.flags|=16):u.push(s)),i.child=f,i.memoizedState=null,f}function hf(s,i){return i=Mc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Ec(s,i,u,f){return f!==null&&Lh(f),Zo(i,s.child,null,u),s=hf(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function I2(s,i,u,f,y,x,S){if(u)return i.flags&256?(i.flags&=-257,f=of(Error(n(422))),Ec(s,i,S,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,y=i.mode,f=Mc({mode:"visible",children:f.children},y,0,null),x=Ji(x,y,S,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Zo(i,s.child,null,S),i.child.memoizedState=df(S),i.memoizedState=cf,x);if((i.mode&1)===0)return Ec(s,i,S,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var D=f.dgst;return f=D,x=Error(n(419)),f=of(x,f,void 0),Ec(s,i,S,f)}if(D=(S&s.childLanes)!==0,bn||D){if(f=Ot,f!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|S))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,ms(s,y),br(f,s,y,-1))}return Af(),f=of(Error(n(421))),Ec(s,i,S,f)}return y.data==="$?"?(i.flags|=128,i.child=s.child,i=z2.bind(null,s),y._reactRetry=i,null):(s=x.treeContext,Nn=ei(y.nextSibling),Rn=i,ct=!0,vr=null,s!==null&&(Kn[Qn++]=fs,Kn[Qn++]=ps,Kn[Qn++]=zi,fs=s.id,ps=s.overflow,zi=i),i=hf(i,f.children),i.flags|=4096,i)}function Av(s,i,u){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),Uh(s.return,i,u)}function ff(s,i,u,f,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=y)}function kv(s,i,u){var f=i.pendingProps,y=f.revealOrder,x=f.tail;if(mn(s,i,f.children,u),f=ft.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Av(s,u,i);else if(s.tag===19)Av(s,u,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(nt(ft,f),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(u=i.child,y=null;u!==null;)s=u.alternate,s!==null&&yc(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),ff(i,!1,y,u,x);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(s=y.alternate,s!==null&&yc(s)===null){i.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}ff(i,!0,u,null,x);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Tc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function ys(s,i,u){if(s!==null&&(i.dependencies=s.dependencies),Ki|=i.lanes,(u&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,u=di(s,s.pendingProps),i.child=u,u.return=i;s.sibling!==null;)s=s.sibling,u=u.sibling=di(s,s.pendingProps),u.return=i;u.sibling=null}return i.child}function P2(s,i,u){switch(i.tag){case 3:Tv(i),Jo();break;case 5:zy(i);break;case 1:_n(i.type)&&ac(i);break;case 4:Wh(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,y=i.memoizedProps.value;nt(fc,f._currentValue),f._currentValue=y;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(nt(ft,ft.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Cv(s,i,u):(nt(ft,ft.current&1),s=ys(s,i,u),s!==null?s.sibling:null);nt(ft,ft.current&1);break;case 19:if(f=(u&i.childLanes)!==0,(s.flags&128)!==0){if(f)return kv(s,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),nt(ft,ft.current),f)break;return null;case 22:case 23:return i.lanes=0,bv(s,i,u)}return ys(s,i,u)}var Iv,pf,Pv,Rv;Iv=function(s,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},pf=function(){},Pv=function(s,i,u,f){var y=s.memoizedProps;if(y!==f){s=i.stateNode,Gi(Ur.current);var x=null;switch(u){case"input":y=Pr(s,y),f=Pr(s,f),x=[];break;case"select":y=ue({},y,{value:void 0}),f=ue({},f,{value:void 0}),x=[];break;case"textarea":y=Fs(s,y),f=Fs(s,f),x=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=sc)}Us(u,f);var S;u=null;for(X in y)if(!f.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var D=y[X];for(S in D)D.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in f){var L=f[X];if(D=y!=null?y[X]:void 0,f.hasOwnProperty(X)&&L!==D&&(L!=null||D!=null))if(X==="style")if(D){for(S in D)!D.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in L)L.hasOwnProperty(S)&&D[S]!==L[S]&&(u||(u={}),u[S]=L[S])}else u||(x||(x=[]),x.push(X,u)),u=L;else X==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(x=x||[]).push(X,L)):X==="children"?typeof L!="string"&&typeof L!="number"||(x=x||[]).push(X,""+L):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(L!=null&&X==="onScroll"&&it("scroll",s),x||D===L||(x=[])):(x=x||[]).push(X,L))}u&&(x=x||[]).push("style",u);var X=x;(i.updateQueue=X)&&(i.flags|=4)}},Rv=function(s,i,u,f){u!==f&&(i.flags|=4)};function _l(s,i){if(!ct)switch(s.tailMode){case"hidden":i=s.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function sn(s){var i=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(i)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,i}function R2(s,i,u){var f=i.pendingProps;switch(Vh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(i),null;case 1:return _n(i.type)&&oc(),sn(i),null;case 3:return f=i.stateNode,na(),ot(wn),ot(nn),Kh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(dc(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vr!==null&&(Tf(vr),vr=null))),pf(s,i),sn(i),null;case 5:Gh(i);var y=Gi(gl.current);if(u=i.type,s!==null&&i.stateNode!=null)Pv(s,i,u,f,y),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return sn(i),null}if(s=Gi(Ur.current),dc(i)){f=i.stateNode,u=i.type;var x=i.memoizedProps;switch(f[$r]=i,f[dl]=x,s=(i.mode&1)!==0,u){case"dialog":it("cancel",f),it("close",f);break;case"iframe":case"object":case"embed":it("load",f);break;case"video":case"audio":for(y=0;y<ll.length;y++)it(ll[y],f);break;case"source":it("error",f);break;case"img":case"image":case"link":it("error",f),it("load",f);break;case"details":it("toggle",f);break;case"input":ts(f,x),it("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},it("invalid",f);break;case"textarea":rs(f,x),it("invalid",f)}Us(u,x),y=null;for(var S in x)if(x.hasOwnProperty(S)){var D=x[S];S==="children"?typeof D=="string"?f.textContent!==D&&(x.suppressHydrationWarning!==!0&&rc(f.textContent,D,s),y=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(x.suppressHydrationWarning!==!0&&rc(f.textContent,D,s),y=["children",""+D]):o.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&it("scroll",f)}switch(u){case"input":Bn(f),Ci(f,x,!0);break;case"textarea":Bn(f),Ms(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=sc)}f=y,i.updateQueue=f,f!==null&&(i.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=vt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[$r]=i,s[dl]=f,Iv(s,i,!1,!1),i.stateNode=s;e:{switch(S=zs(u,f),u){case"dialog":it("cancel",s),it("close",s),y=f;break;case"iframe":case"object":case"embed":it("load",s),y=f;break;case"video":case"audio":for(y=0;y<ll.length;y++)it(ll[y],s);y=f;break;case"source":it("error",s),y=f;break;case"img":case"image":case"link":it("error",s),it("load",s),y=f;break;case"details":it("toggle",s),y=f;break;case"input":ts(s,f),y=Pr(s,f),it("invalid",s);break;case"option":y=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},y=ue({},f,{value:void 0}),it("invalid",s);break;case"textarea":rs(s,f),y=Fs(s,f),it("invalid",s);break;default:y=f}Us(u,y),D=y;for(x in D)if(D.hasOwnProperty(x)){var L=D[x];x==="style"?Bs(s,L):x==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ls(s,L)):x==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&ar(s,L):typeof L=="number"&&ar(s,""+L):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?L!=null&&x==="onScroll"&&it("scroll",s):L!=null&&F(s,x,L,S))}switch(u){case"input":Bn(s),Ci(s,f,!1);break;case"textarea":Bn(s),Ms(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ue(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Un(s,!!f.multiple,x,!1):f.defaultValue!=null&&Un(s,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=sc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return sn(i),null;case 6:if(s&&i.stateNode!=null)Rv(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(u=Gi(gl.current),Gi(Ur.current),dc(i)){if(f=i.stateNode,u=i.memoizedProps,f[$r]=i,(x=f.nodeValue!==u)&&(s=Rn,s!==null))switch(s.tag){case 3:rc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&rc(f.nodeValue,u,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[$r]=i,i.stateNode=f}return sn(i),null;case 13:if(ot(ft),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Nn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Vy(),Jo(),i.flags|=98560,x=!1;else if(x=dc(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[$r]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;sn(i),x=!1}else vr!==null&&(Tf(vr),vr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(ft.current&1)!==0?Vt===0&&(Vt=3):Af())),i.updateQueue!==null&&(i.flags|=4),sn(i),null);case 4:return na(),pf(s,i),s===null&&ul(i.stateNode.containerInfo),sn(i),null;case 10:return $h(i.type._context),sn(i),null;case 17:return _n(i.type)&&oc(),sn(i),null;case 19:if(ot(ft),x=i.memoizedState,x===null)return sn(i),null;if(f=(i.flags&128)!==0,S=x.rendering,S===null)if(f)_l(x,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(S=yc(s),S!==null){for(i.flags|=128,_l(x,!1),f=S.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=u,u=i.child;u!==null;)x=u,s=f,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,s=S.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return nt(ft,ft.current&1|2),i.child}s=s.sibling}x.tail!==null&&tt()>oa&&(i.flags|=128,f=!0,_l(x,!1),i.lanes=4194304)}else{if(!f)if(s=yc(S),s!==null){if(i.flags|=128,f=!0,u=s.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),_l(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!ct)return sn(i),null}else 2*tt()-x.renderingStartTime>oa&&u!==1073741824&&(i.flags|=128,f=!0,_l(x,!1),i.lanes=4194304);x.isBackwards?(S.sibling=i.child,i.child=S):(u=x.last,u!==null?u.sibling=S:i.child=S,x.last=S)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=tt(),i.sibling=null,u=ft.current,nt(ft,f?u&1|2:u&1),i):(sn(i),null);case 22:case 23:return Cf(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Dn&1073741824)!==0&&(sn(i),i.subtreeFlags&6&&(i.flags|=8192)):sn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function N2(s,i){switch(Vh(i),i.tag){case 1:return _n(i.type)&&oc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return na(),ot(wn),ot(nn),Kh(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Gh(i),null;case 13:if(ot(ft),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Jo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ot(ft),null;case 4:return na(),null;case 10:return $h(i.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var jc=!1,on=!1,D2=typeof WeakSet=="function"?WeakSet:Set,me=null;function sa(s,i){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){wt(s,i,f)}else u.current=null}function mf(s,i,u){try{u()}catch(f){wt(s,i,f)}}var Nv=!1;function V2(s,i){if(jh=Xs,s=dy(),vh(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch(le){u=null;break e}var S=0,D=-1,L=-1,X=0,ie=0,ae=s,se=null;t:for(;;){for(var pe;ae!==u||y!==0&&ae.nodeType!==3||(D=S+y),ae!==x||f!==0&&ae.nodeType!==3||(L=S+f),ae.nodeType===3&&(S+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)se=ae,ae=pe;for(;;){if(ae===s)break t;if(se===u&&++X===y&&(D=S),se===x&&++ie===f&&(L=S),(pe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=pe}u=D===-1||L===-1?null:{start:D,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ch={focusedElem:s,selectionRange:u},Xs=!1,me=i;me!==null;)if(i=me,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,me=s;else for(;me!==null;){i=me;try{var ye=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var xe=ye.memoizedProps,Tt=ye.memoizedState,G=i.stateNode,z=G.getSnapshotBeforeUpdate(i.elementType===i.type?xe:xr(i.type,xe),Tt);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Y=i.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){wt(i,i.return,le)}if(s=i.sibling,s!==null){s.return=i.return,me=s;break}me=i.return}return ye=Nv,Nv=!1,ye}function bl(s,i,u){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&mf(i,u,x)}y=y.next}while(y!==f)}}function Cc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==i)}}function gf(s){var i=s.ref;if(i!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof i=="function"?i(s):i.current=s}}function Dv(s){var i=s.alternate;i!==null&&(s.alternate=null,Dv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[$r],delete i[dl],delete i[Ph],delete i[y2],delete i[v2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Vv(s){return s.tag===5||s.tag===3||s.tag===4}function Fv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yf(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(s,i):u.insertBefore(s,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(s,u)):(i=u,i.appendChild(s)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=sc));else if(f!==4&&(s=s.child,s!==null))for(yf(s,i,u),s=s.sibling;s!==null;)yf(s,i,u),s=s.sibling}function vf(s,i,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?u.insertBefore(s,i):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(vf(s,i,u),s=s.sibling;s!==null;)vf(s,i,u),s=s.sibling}var Wt=null,wr=!1;function oi(s,i,u){for(u=u.child;u!==null;)Mv(s,i,u),u=u.sibling}function Mv(s,i,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Di,u)}catch(D){}switch(u.tag){case 5:on||sa(u,i);case 6:var f=Wt,y=wr;Wt=null,oi(s,i,u),Wt=f,wr=y,Wt!==null&&(wr?(s=Wt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(wr?(s=Wt,u=u.stateNode,s.nodeType===8?Ih(s.parentNode,u):s.nodeType===1&&Ih(s,u),mr(s)):Ih(Wt,u.stateNode));break;case 4:f=Wt,y=wr,Wt=u.stateNode.containerInfo,wr=!0,oi(s,i,u),Wt=f,wr=y;break;case 0:case 11:case 14:case 15:if(!on&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var x=y,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&mf(u,i,S),y=y.next}while(y!==f)}oi(s,i,u);break;case 1:if(!on&&(sa(u,i),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(D){wt(u,i,D)}oi(s,i,u);break;case 21:oi(s,i,u);break;case 22:u.mode&1?(on=(f=on)||u.memoizedState!==null,oi(s,i,u),on=f):oi(s,i,u);break;default:oi(s,i,u)}}function Lv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new D2),i.forEach(function(f){var y=H2.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}}function _r(s,i){var u=i.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f];try{var x=s,S=i,D=S;e:for(;D!==null;){switch(D.tag){case 5:Wt=D.stateNode,wr=!1;break e;case 3:Wt=D.stateNode.containerInfo,wr=!0;break e;case 4:Wt=D.stateNode.containerInfo,wr=!0;break e}D=D.return}if(Wt===null)throw Error(n(160));Mv(x,S,y),Wt=null,wr=!1;var L=y.alternate;L!==null&&(L.return=null),y.return=null}catch(X){wt(y,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ov(i,s),i=i.sibling}function Ov(s,i){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(i,s),Hr(s),f&4){try{bl(3,s,s.return),Cc(3,s)}catch(xe){wt(s,s.return,xe)}try{bl(5,s,s.return)}catch(xe){wt(s,s.return,xe)}}break;case 1:_r(i,s),Hr(s),f&512&&u!==null&&sa(u,u.return);break;case 5:if(_r(i,s),Hr(s),f&512&&u!==null&&sa(u,u.return),s.flags&32){var y=s.stateNode;try{ar(y,"")}catch(xe){wt(s,s.return,xe)}}if(f&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,S=u!==null?u.memoizedProps:x,D=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{D==="input"&&x.type==="radio"&&x.name!=null&&Ds(y,x),zs(D,S);var X=zs(D,x);for(S=0;S<L.length;S+=2){var ie=L[S],ae=L[S+1];ie==="style"?Bs(y,ae):ie==="dangerouslySetInnerHTML"?Ls(y,ae):ie==="children"?ar(y,ae):F(y,ie,ae,X)}switch(D){case"input":Vs(y,x);break;case"textarea":ss(y,x);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var pe=x.value;pe!=null?Un(y,!!x.multiple,pe,!1):se!==!!x.multiple&&(x.defaultValue!=null?Un(y,!!x.multiple,x.defaultValue,!0):Un(y,!!x.multiple,x.multiple?[]:"",!1))}y[dl]=x}catch(xe){wt(s,s.return,xe)}}break;case 6:if(_r(i,s),Hr(s),f&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(xe){wt(s,s.return,xe)}}break;case 3:if(_r(i,s),Hr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{mr(i.containerInfo)}catch(xe){wt(s,s.return,xe)}break;case 4:_r(i,s),Hr(s);break;case 13:_r(i,s),Hr(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(_f=tt())),f&4&&Lv(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(on=(X=on)||ie,_r(i,s),on=X):_r(i,s),Hr(s),f&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ie&&(s.mode&1)!==0)for(me=s,ie=s.child;ie!==null;){for(ae=me=ie;me!==null;){switch(se=me,pe=se.child,se.tag){case 0:case 11:case 14:case 15:bl(4,se,se.return);break;case 1:sa(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){f=se,u=se.return;try{i=f,ye.props=i.memoizedProps,ye.state=i.memoizedState,ye.componentWillUnmount()}catch(xe){wt(f,u,xe)}}break;case 5:sa(se,se.return);break;case 22:if(se.memoizedState!==null){Uv(ae);continue}}pe!==null?(pe.return=se,me=pe):Uv(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,X?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(D=ae.stateNode,L=ae.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=Os("display",S))}catch(xe){wt(s,s.return,xe)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(xe){wt(s,s.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:_r(i,s),Hr(s),f&4&&Lv(s);break;case 21:break;default:_r(i,s),Hr(s)}}function Hr(s){var i=s.flags;if(i&2){try{e:{for(var u=s.return;u!==null;){if(Vv(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(ar(y,""),f.flags&=-33);var x=Fv(s);vf(s,x,y);break;case 3:case 4:var S=f.stateNode.containerInfo,D=Fv(s);yf(s,D,S);break;default:throw Error(n(161))}}catch(L){wt(s,s.return,L)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function F2(s,i,u){me=s,Bv(s)}function Bv(s,i,u){for(var f=(s.mode&1)!==0;me!==null;){var y=me,x=y.child;if(y.tag===22&&f){var S=y.memoizedState!==null||jc;if(!S){var D=y.alternate,L=D!==null&&D.memoizedState!==null||on;D=jc;var X=on;if(jc=S,(on=L)&&!X)for(me=y;me!==null;)S=me,L=S.child,S.tag===22&&S.memoizedState!==null?zv(y):L!==null?(L.return=S,me=L):zv(y);for(;x!==null;)me=x,Bv(x),x=x.sibling;me=y,jc=D,on=X}$v(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,me=x):$v(s)}}function $v(s){for(;me!==null;){var i=me;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:on||Cc(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!on)if(u===null)f.componentDidMount();else{var y=i.elementType===i.type?u.memoizedProps:xr(i.type,u.memoizedProps);f.componentDidUpdate(y,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Uy(i,x,f);break;case 3:var S=i.updateQueue;if(S!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Uy(i,S,u)}break;case 5:var D=i.stateNode;if(u===null&&i.flags&4){u=D;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&mr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}on||i.flags&512&&gf(i)}catch(se){wt(i,i.return,se)}}if(i===s){me=null;break}if(u=i.sibling,u!==null){u.return=i.return,me=u;break}me=i.return}}function Uv(s){for(;me!==null;){var i=me;if(i===s){me=null;break}var u=i.sibling;if(u!==null){u.return=i.return,me=u;break}me=i.return}}function zv(s){for(;me!==null;){var i=me;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Cc(4,i)}catch(L){wt(i,u,L)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var y=i.return;try{f.componentDidMount()}catch(L){wt(i,y,L)}}var x=i.return;try{gf(i)}catch(L){wt(i,x,L)}break;case 5:var S=i.return;try{gf(i)}catch(L){wt(i,S,L)}}}catch(L){wt(i,i.return,L)}if(i===s){me=null;break}var D=i.sibling;if(D!==null){D.return=i.return,me=D;break}me=i.return}}var M2=Math.ceil,Ac=K.ReactCurrentDispatcher,xf=K.ReactCurrentOwner,Jn=K.ReactCurrentBatchConfig,We=0,Ot=null,kt=null,Gt=0,Dn=0,ia=ti(0),Vt=0,Sl=null,Ki=0,kc=0,wf=0,El=null,Sn=null,_f=0,oa=1/0,vs=null,Ic=!1,bf=null,ai=null,Pc=!1,li=null,Rc=0,Tl=0,Sf=null,Nc=-1,Dc=0;function gn(){return(We&6)!==0?tt():Nc!==-1?Nc:Nc=tt()}function ui(s){return(s.mode&1)===0?1:(We&2)!==0&&Gt!==0?Gt&-Gt:w2.transition!==null?(Dc===0&&(Dc=Fi()),Dc):(s=Be,s!==0||(s=window.event,s=s===void 0?16:Za(s.type)),s)}function br(s,i,u,f){if(50<Tl)throw Tl=0,Sf=null,Error(n(185));qs(s,u,f),((We&2)===0||s!==Ot)&&(s===Ot&&((We&2)===0&&(kc|=u),Vt===4&&ci(s,Gt)),En(s,f),u===1&&We===0&&(i.mode&1)===0&&(oa=tt()+500,lc&&ri()))}function En(s,i){var u=s.callbackNode;os(s,i);var f=Vi(s,s===Ot?Gt:0);if(f===0)u!==null&&Ka(u),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(u!=null&&Ka(u),i===1)s.tag===0?x2(Wv.bind(null,s)):Iy(Wv.bind(null,s)),m2(function(){(We&6)===0&&ri()}),u=null;else{switch(Qs(f)){case 1:u=Ni;break;case 4:u=Hs;break;case 16:u=Wn;break;case 536870912:u=Du;break;default:u=Wn}u=Zv(u,Hv.bind(null,s))}s.callbackPriority=i,s.callbackNode=u}}function Hv(s,i){if(Nc=-1,Dc=0,(We&6)!==0)throw Error(n(327));var u=s.callbackNode;if(aa()&&s.callbackNode!==u)return null;var f=Vi(s,s===Ot?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Vc(s,f);else{i=f;var y=We;We|=2;var x=qv();(Ot!==s||Gt!==i)&&(vs=null,oa=tt()+500,Yi(s,i));do try{B2();break}catch(D){Gv(s,D)}while(!0);Bh(),Ac.current=x,We=y,kt!==null?i=0:(Ot=null,Gt=0,i=Vt)}if(i!==0){if(i===2&&(y=kn(s),y!==0&&(f=y,i=Ef(s,y))),i===1)throw u=Sl,Yi(s,0),ci(s,f),En(s,tt()),u;if(i===6)ci(s,f);else{if(y=s.current.alternate,(f&30)===0&&!L2(y)&&(i=Vc(s,f),i===2&&(x=kn(s),x!==0&&(f=x,i=Ef(s,x))),i===1))throw u=Sl,Yi(s,0),ci(s,f),En(s,tt()),u;switch(s.finishedWork=y,s.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:Xi(s,Sn,vs);break;case 3:if(ci(s,f),(f&130023424)===f&&(i=_f+500-tt(),10<i)){if(Vi(s,0)!==0)break;if(y=s.suspendedLanes,(y&f)!==f){gn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=kh(Xi.bind(null,s,Sn,vs),i);break}Xi(s,Sn,vs);break;case 4:if(ci(s,f),(f&4194240)===f)break;for(i=s.eventTimes,y=-1;0<f;){var S=31-fn(f);x=1<<S,S=i[S],S>y&&(y=S),f&=~x}if(f=y,f=tt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*M2(f/1960))-f,10<f){s.timeoutHandle=kh(Xi.bind(null,s,Sn,vs),f);break}Xi(s,Sn,vs);break;case 5:Xi(s,Sn,vs);break;default:throw Error(n(329))}}}return En(s,tt()),s.callbackNode===u?Hv.bind(null,s):null}function Ef(s,i){var u=El;return s.current.memoizedState.isDehydrated&&(Yi(s,i).flags|=256),s=Vc(s,i),s!==2&&(i=Sn,Sn=u,i!==null&&Tf(i)),s}function Tf(s){Sn===null?Sn=s:Sn.push.apply(Sn,s)}function L2(s){for(var i=s;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var y=u[f],x=y.getSnapshot;y=y.value;try{if(!yr(x(),y))return!1}catch(S){return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(s,i){for(i&=~wf,i&=~kc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var u=31-fn(i),f=1<<u;s[u]=-1,i&=~f}}function Wv(s){if((We&6)!==0)throw Error(n(327));aa();var i=Vi(s,0);if((i&1)===0)return En(s,tt()),null;var u=Vc(s,i);if(s.tag!==0&&u===2){var f=kn(s);f!==0&&(i=f,u=Ef(s,f))}if(u===1)throw u=Sl,Yi(s,0),ci(s,i),En(s,tt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Xi(s,Sn,vs),En(s,tt()),null}function jf(s,i){var u=We;We|=1;try{return s(i)}finally{We=u,We===0&&(oa=tt()+500,lc&&ri())}}function Qi(s){li!==null&&li.tag===0&&(We&6)===0&&aa();var i=We;We|=1;var u=Jn.transition,f=Be;try{if(Jn.transition=null,Be=1,s)return s()}finally{Be=f,Jn.transition=u,We=i,(We&6)===0&&ri()}}function Cf(){Dn=ia.current,ot(ia)}function Yi(s,i){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,p2(u)),kt!==null)for(u=kt.return;u!==null;){var f=u;switch(Vh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&oc();break;case 3:na(),ot(wn),ot(nn),Kh();break;case 5:Gh(f);break;case 4:na();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:$h(f.type._context);break;case 22:case 23:Cf()}u=u.return}if(Ot=s,kt=s=di(s.current,null),Gt=Dn=i,Vt=0,Sl=null,wf=kc=Ki=0,Sn=El=null,Wi!==null){for(i=0;i<Wi.length;i++)if(u=Wi[i],f=u.interleaved,f!==null){u.interleaved=null;var y=f.next,x=u.pending;if(x!==null){var S=x.next;x.next=y,f.next=S}u.pending=f}Wi=null}return s}function Gv(s,i){do{var u=kt;try{if(Bh(),vc.current=bc,xc){for(var f=pt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}xc=!1}if(qi=0,Lt=Dt=pt=null,yl=!1,vl=0,xf.current=null,u===null||u.return===null){Vt=1,Sl=i,kt=null;break}e:{var x=s,S=u.return,D=u,L=i;if(i=Gt,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var X=L,ie=D,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=yv(S);if(pe!==null){pe.flags&=-257,vv(pe,S,D,x,i),pe.mode&1&&gv(x,X,i),i=pe,L=X;var ye=i.updateQueue;if(ye===null){var xe=new Set;xe.add(L),i.updateQueue=xe}else ye.add(L);break e}else{if((i&1)===0){gv(x,X,i),Af();break e}L=Error(n(426))}}else if(ct&&D.mode&1){var Tt=yv(S);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),vv(Tt,S,D,x,i),Lh(ra(L,D));break e}}x=L=ra(L,D),Vt!==4&&(Vt=2),El===null?El=[x]:El.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var G=pv(x,L,i);$y(x,G);break e;case 1:D=L;var z=x.type,Y=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(ai===null||!ai.has(Y)))){x.flags|=65536,i&=-i,x.lanes|=i;var le=mv(x,D,i);$y(x,le);break e}}x=x.return}while(x!==null)}Qv(u)}catch(_e){i=_e,kt===u&&u!==null&&(kt=u=u.return);continue}break}while(!0)}function qv(){var s=Ac.current;return Ac.current=bc,s===null?bc:s}function Af(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ot===null||(Ki&268435455)===0&&(kc&268435455)===0||ci(Ot,Gt)}function Vc(s,i){var u=We;We|=2;var f=qv();(Ot!==s||Gt!==i)&&(vs=null,Yi(s,i));do try{O2();break}catch(y){Gv(s,y)}while(!0);if(Bh(),We=u,Ac.current=f,kt!==null)throw Error(n(261));return Ot=null,Gt=0,Vt}function O2(){for(;kt!==null;)Kv(kt)}function B2(){for(;kt!==null&&!Ru();)Kv(kt)}function Kv(s){var i=Jv(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,i===null?Qv(s):kt=i,xf.current=null}function Qv(s){var i=s;do{var u=i.alternate;if(s=i.return,(i.flags&32768)===0){if(u=R2(u,i,Dn),u!==null){kt=u;return}}else{if(u=N2(u,i),u!==null){u.flags&=32767,kt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,kt=null;return}}if(i=i.sibling,i!==null){kt=i;return}kt=i=s}while(i!==null);Vt===0&&(Vt=5)}function Xi(s,i,u){var f=Be,y=Jn.transition;try{Jn.transition=null,Be=1,$2(s,i,u,f)}finally{Jn.transition=y,Be=f}return null}function $2(s,i,u,f){do aa();while(li!==null);if((We&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(et(s,x),s===Ot&&(kt=Ot=null,Gt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Pc||(Pc=!0,Zv(Wn,function(){return aa(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Jn.transition,Jn.transition=null;var S=Be;Be=1;var D=We;We|=4,xf.current=null,V2(s,u),Ov(u,s),a2(Ch),Xs=!!jh,Ch=jh=null,s.current=u,F2(u),ch(),We=D,Be=S,Jn.transition=x}else s.current=u;if(Pc&&(Pc=!1,li=s,Rc=y),x=s.pendingLanes,x===0&&(ai=null),Vu(u.stateNode),En(s,tt()),i!==null)for(f=s.onRecoverableError,u=0;u<i.length;u++)y=i[u],f(y.value,{componentStack:y.stack,digest:y.digest});if(Ic)throw Ic=!1,s=bf,bf=null,s;return(Rc&1)!==0&&s.tag!==0&&aa(),x=s.pendingLanes,(x&1)!==0?s===Sf?Tl++:(Tl=0,Sf=s):Tl=0,ri(),null}function aa(){if(li!==null){var s=Qs(Rc),i=Jn.transition,u=Be;try{if(Jn.transition=null,Be=16>s?16:s,li===null)var f=!1;else{if(s=li,li=null,Rc=0,(We&6)!==0)throw Error(n(331));var y=We;for(We|=4,me=s.current;me!==null;){var x=me,S=x.child;if((me.flags&16)!==0){var D=x.deletions;if(D!==null){for(var L=0;L<D.length;L++){var X=D[L];for(me=X;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:bl(8,ie,x)}var ae=ie.child;if(ae!==null)ae.return=ie,me=ae;else for(;me!==null;){ie=me;var se=ie.sibling,pe=ie.return;if(Dv(ie),ie===X){me=null;break}if(se!==null){se.return=pe,me=se;break}me=pe}}}var ye=x.alternate;if(ye!==null){var xe=ye.child;if(xe!==null){ye.child=null;do{var Tt=xe.sibling;xe.sibling=null,xe=Tt}while(xe!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,me=S;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:bl(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,me=G;break e}me=x.return}}var z=s.current;for(me=z;me!==null;){S=me;var Y=S.child;if((S.subtreeFlags&2064)!==0&&Y!==null)Y.return=S,me=Y;else e:for(S=z;me!==null;){if(D=me,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Cc(9,D)}}catch(_e){wt(D,D.return,_e)}if(D===S){me=null;break e}var le=D.sibling;if(le!==null){le.return=D.return,me=le;break e}me=D.return}}if(We=y,ri(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Di,s)}catch(_e){}f=!0}return f}finally{Be=u,Jn.transition=i}}return!1}function Yv(s,i,u){i=ra(u,i),i=pv(s,i,1),s=ii(s,i,1),i=gn(),s!==null&&(qs(s,1,i),En(s,i))}function wt(s,i,u){if(s.tag===3)Yv(s,s,u);else for(;i!==null;){if(i.tag===3){Yv(i,s,u);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ai===null||!ai.has(f))){s=ra(u,s),s=mv(i,s,1),i=ii(i,s,1),s=gn(),i!==null&&(qs(i,1,s),En(i,s));break}}i=i.return}}function U2(s,i,u){var f=s.pingCache;f!==null&&f.delete(i),i=gn(),s.pingedLanes|=s.suspendedLanes&u,Ot===s&&(Gt&u)===u&&(Vt===4||Vt===3&&(Gt&130023424)===Gt&&500>tt()-_f?Yi(s,0):wf|=u),En(s,i)}function Xv(s,i){i===0&&((s.mode&1)===0?i=1:(i=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var u=gn();s=ms(s,i),s!==null&&(qs(s,i,u),En(s,u))}function z2(s){var i=s.memoizedState,u=0;i!==null&&(u=i.retryLane),Xv(s,u)}function H2(s,i){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),Xv(s,u)}var Jv;Jv=function(s,i,u){if(s!==null)if(s.memoizedProps!==i.pendingProps||wn.current)bn=!0;else{if((s.lanes&u)===0&&(i.flags&128)===0)return bn=!1,P2(s,i,u);bn=(s.flags&131072)!==0}else bn=!1,ct&&(i.flags&1048576)!==0&&Py(i,cc,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Tc(s,i),s=i.pendingProps;var y=Qo(i,nn.current);ta(i,u),y=Xh(null,i,f,s,y,u);var x=Jh();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,_n(f)?(x=!0,ac(i)):x=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Hh(i),y.updater=Sc,i.stateNode=y,y._reactInternals=i,sf(i,f,s,u),i=uf(null,i,f,!0,x,u)):(i.tag=0,ct&&x&&Dh(i),mn(null,i,y,u),i=i.child),i;case 16:f=i.elementType;e:{switch(Tc(s,i),s=i.pendingProps,y=f._init,f=y(f._payload),i.type=f,y=i.tag=G2(f),s=xr(f,s),y){case 0:i=lf(null,i,f,s,u);break e;case 1:i=Ev(null,i,f,s,u);break e;case 11:i=xv(null,i,f,s,u);break e;case 14:i=wv(null,i,f,xr(f.type,s),u);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:xr(f,y),lf(s,i,f,y,u);case 1:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:xr(f,y),Ev(s,i,f,y,u);case 3:e:{if(Tv(i),s===null)throw Error(n(387));f=i.pendingProps,x=i.memoizedState,y=x.element,By(s,i),gc(i,f,null,u);var S=i.memoizedState;if(f=S.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){y=ra(Error(n(423)),i),i=jv(s,i,f,u,y);break e}else if(f!==y){y=ra(Error(n(424)),i),i=jv(s,i,f,u,y);break e}else for(Nn=ei(i.stateNode.containerInfo.firstChild),Rn=i,ct=!0,vr=null,u=Ly(i,null,f,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Jo(),f===y){i=ys(s,i,u);break e}mn(s,i,f,u)}i=i.child}return i;case 5:return zy(i),s===null&&Mh(i),f=i.type,y=i.pendingProps,x=s!==null?s.memoizedProps:null,S=y.children,Ah(f,y)?S=null:x!==null&&Ah(f,x)&&(i.flags|=32),Sv(s,i),mn(s,i,S,u),i.child;case 6:return s===null&&Mh(i),null;case 13:return Cv(s,i,u);case 4:return Wh(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Zo(i,null,f,u):mn(s,i,f,u),i.child;case 11:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:xr(f,y),xv(s,i,f,y,u);case 7:return mn(s,i,i.pendingProps,u),i.child;case 8:return mn(s,i,i.pendingProps.children,u),i.child;case 12:return mn(s,i,i.pendingProps.children,u),i.child;case 10:e:{if(f=i.type._context,y=i.pendingProps,x=i.memoizedProps,S=y.value,nt(fc,f._currentValue),f._currentValue=S,x!==null)if(yr(x.value,S)){if(x.children===y.children&&!wn.current){i=ys(s,i,u);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var D=x.dependencies;if(D!==null){S=x.child;for(var L=D.firstContext;L!==null;){if(L.context===f){if(x.tag===1){L=gs(-1,u&-u),L.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),X.pending=L}}x.lanes|=u,L=x.alternate,L!==null&&(L.lanes|=u),Uh(x.return,u,i),D.lanes|=u;break}L=L.next}}else if(x.tag===10)S=x.type===i.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),Uh(S,u,i),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===i){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}mn(s,i,y.children,u),i=i.child}return i;case 9:return y=i.type,f=i.pendingProps.children,ta(i,u),y=Yn(y),f=f(y),i.flags|=1,mn(s,i,f,u),i.child;case 14:return f=i.type,y=xr(f,i.pendingProps),y=xr(f.type,y),wv(s,i,f,y,u);case 15:return _v(s,i,i.type,i.pendingProps,u);case 17:return f=i.type,y=i.pendingProps,y=i.elementType===f?y:xr(f,y),Tc(s,i),i.tag=1,_n(f)?(s=!0,ac(i)):s=!1,ta(i,u),hv(i,f,y),sf(i,f,y,u),uf(null,i,f,!0,s,u);case 19:return kv(s,i,u);case 22:return bv(s,i,u)}throw Error(n(156,i.tag))};function Zv(s,i){return Ao(s,i)}function W2(s,i,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,i,u,f){return new W2(s,i,u,f)}function kf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function G2(s){if(typeof s=="function")return kf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Ve)return 14}return 2}function di(s,i){var u=s.alternate;return u===null?(u=Zn(s.tag,i,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=i,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,i=s.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Fc(s,i,u,f,y,x){var S=2;if(f=s,typeof s=="function")kf(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case C:return Ji(u.children,y,x,i);case T:S=8,y|=8;break;case k:return s=Zn(12,u,i,y|2),s.elementType=k,s.lanes=x,s;case P:return s=Zn(13,u,i,y),s.elementType=P,s.lanes=x,s;case ve:return s=Zn(19,u,i,y),s.elementType=ve,s.lanes=x,s;case ce:return Mc(u,y,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:S=10;break e;case M:S=9;break e;case U:S=11;break e;case Ve:S=14;break e;case Te:S=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Zn(S,u,i,y),i.elementType=s,i.type=f,i.lanes=x,i}function Ji(s,i,u,f){return s=Zn(7,s,f,i),s.lanes=u,s}function Mc(s,i,u,f){return s=Zn(22,s,f,i),s.elementType=ce,s.lanes=u,s.stateNode={isHidden:!1},s}function If(s,i,u){return s=Zn(6,s,null,i),s.lanes=u,s}function Pf(s,i,u){return i=Zn(4,s.children!==null?s.children:[],s.key,i),i.lanes=u,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function q2(s,i,u,f,y){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Rf(s,i,u,f,y,x,S,D,L){return s=new q2(s,i,u,D,L),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Zn(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hh(x),s}function K2(s,i,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:s,containerInfo:i,implementation:u}}function ex(s){if(!s)return ni;s=s._reactInternals;e:{if(cr(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(_n(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(_n(u))return Ay(s,u,i)}return i}function tx(s,i,u,f,y,x,S,D,L){return s=Rf(u,f,!0,s,y,x,S,D,L),s.context=ex(null),u=s.current,f=gn(),y=ui(u),x=gs(f,y),x.callback=i!=null?i:null,ii(u,x,y),s.current.lanes=y,qs(s,y,f),En(s,f),s}function Lc(s,i,u,f){var y=i.current,x=gn(),S=ui(y);return u=ex(u),i.context===null?i.context=u:i.pendingContext=u,i=gs(x,S),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=ii(y,i,S),s!==null&&(br(s,y,S,x),mc(s,y,S)),S}function Oc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function nx(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<i?u:i}}function Nf(s,i){nx(s,i),(s=s.alternate)&&nx(s,i)}function Q2(){return null}var rx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Df(s){this._internalRoot=s}Bc.prototype.render=Df.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));Lc(s,i,null,null)},Bc.prototype.unmount=Df.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Qi(function(){Lc(null,s,null,null)}),i[ds]=null}};function Bc(s){this._internalRoot=s}Bc.prototype.unstable_scheduleHydration=function(s){if(s){var i=Bu();s={blockedOn:null,target:s,priority:i};for(var u=0;u<Mr.length&&i!==0&&i<Mr[u].priority;u++);Mr.splice(u,0,s),u===0&&zu(s)}};function Vf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $c(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function sx(){}function Y2(s,i,u,f,y){if(y){if(typeof f=="function"){var x=f;f=function(){var X=Oc(S);x.call(X)}}var S=tx(i,f,s,0,null,!1,!1,"",sx);return s._reactRootContainer=S,s[ds]=S.current,ul(s.nodeType===8?s.parentNode:s),Qi(),S}for(;y=s.lastChild;)s.removeChild(y);if(typeof f=="function"){var D=f;f=function(){var X=Oc(L);D.call(X)}}var L=Rf(s,0,!1,null,null,!1,!1,"",sx);return s._reactRootContainer=L,s[ds]=L.current,ul(s.nodeType===8?s.parentNode:s),Qi(function(){Lc(i,L,u,f)}),L}function Uc(s,i,u,f,y){var x=u._reactRootContainer;if(x){var S=x;if(typeof y=="function"){var D=y;y=function(){var L=Oc(S);D.call(L)}}Lc(i,S,s,y)}else S=Y2(u,i,s,y,f);return Oc(S)}Lu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var u=Ws(i.pendingLanes);u!==0&&(Ks(i,u|1),En(i,tt()),(We&6)===0&&(oa=tt()+500,ri()))}break;case 13:Qi(function(){var f=ms(s,1);if(f!==null){var y=gn();br(f,s,1,y)}}),Nf(s,1)}},Po=function(s){if(s.tag===13){var i=ms(s,134217728);if(i!==null){var u=gn();br(i,s,134217728,u)}Nf(s,134217728)}},Ou=function(s){if(s.tag===13){var i=ui(s),u=ms(s,i);if(u!==null){var f=gn();br(u,s,i,f)}Nf(s,i)}},Bu=function(){return Be},$u=function(s,i){var u=Be;try{return Be=s,i()}finally{Be=u}},bo=function(s,i,u){switch(i){case"input":if(Vs(s,u),i=u.name,u.type==="radio"&&i!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var f=u[i];if(f!==s&&f.form===s.form){var y=ic(f);if(!y)throw Error(n(90));es(f),Vs(f,y)}}}break;case"textarea":ss(s,u);break;case"select":i=u.value,i!=null&&Un(s,!!u.multiple,i,!1)}},ki=jf,Ha=Qi;var X2={usingClientEntryPoint:!1,Events:[hl,qo,ic,Vr,za,jf]},jl={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J2={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=qa(s),s===null?null:s.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Di=zc.inject(J2),An=zc}catch(s){}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2,Tn.createPortal=function(s,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(i))throw Error(n(200));return K2(s,i,null,u)},Tn.createRoot=function(s,i){if(!Vf(s))throw Error(n(299));var u=!1,f="",y=rx;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Rf(s,1,!1,null,null,u,!1,f,y),s[ds]=i.current,ul(s.nodeType===8?s.parentNode:s),new Df(i)},Tn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=qa(i),s=s===null?null:s.stateNode,s},Tn.flushSync=function(s){return Qi(s)},Tn.hydrate=function(s,i,u){if(!$c(i))throw Error(n(200));return Uc(null,s,i,!0,u)},Tn.hydrateRoot=function(s,i,u){if(!Vf(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,y=!1,x="",S=rx;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),i=tx(i,null,s,1,u!=null?u:null,y,!1,x,S),s[ds]=i.current,ul(s),f)for(s=0;s<f.length;s++)u=f[s],y=u._getVersion,y=y(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,y]:i.mutableSourceEagerHydrationData.push(u,y);return new Bc(i)},Tn.render=function(s,i,u){if(!$c(i))throw Error(n(200));return Uc(null,s,i,!1,u)},Tn.unmountComponentAtNode=function(s){if(!$c(s))throw Error(n(40));return s._reactRootContainer?(Qi(function(){Uc(null,null,s,!1,function(){s._reactRootContainer=null,s[ds]=null})}),!0):!1},Tn.unstable_batchedUpdates=jf,Tn.unstable_renderSubtreeIntoContainer=function(s,i,u,f){if(!$c(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Uc(s,i,u,!1,f)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var hx;function aw(){if(hx)return Lf.exports;hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lf.exports=iE(),Lf.exports}var fx;function oE(){if(fx)return Hc;fx=1;var t=aw();return Hc.createRoot=t.createRoot,Hc.hydrateRoot=t.hydrateRoot,Hc}var aE=oE();const lE=_m(aE);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var px="popstate";function uE(t={}){function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=yo(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ip("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof l=="string"?l:Kl(l))}function r(o,l){ir(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return dE(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function ir(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function cE(){return Math.random().toString(36).substring(2,10)}function mx(t,e){return{usr:t.state,key:t.key,idx:e}}function Ip(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||r||cE()}}function Kl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dE(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,h="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function w(){h="POP";let A=g(),$=A==null?null:A-m;m=A,p&&p({action:h,location:R.location,delta:$})}function _(A,$){h="PUSH";let q=Ip(R.location,A,$);n&&n(q,A),m=g()+1;let F=mx(q,m),K=R.createHref(q);try{c.pushState(F,"",K)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(K)}l&&p&&p({action:h,location:R.location,delta:1})}function E(A,$){h="REPLACE";let q=Ip(R.location,A,$);n&&n(q,A),m=g();let F=mx(q,m),K=R.createHref(q);c.replaceState(F,"",K),l&&p&&p({action:h,location:R.location,delta:0})}function I(A){return hE(A)}let R={get action(){return h},get location(){return t(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(px,w),p=A,()=>{o.removeEventListener(px,w),p=null}},createHref(A){return e(o,A)},createURL:I,encodeLocation(A){let $=I(A);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:_,replace:E,go(A){return c.go(A)}};return R}function hE(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Kl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lw(t,e,n="/"){return fE(t,e,n,!1)}function fE(t,e,n,r){let o=typeof e=="string"?yo(e):e,l=Cs(o.pathname||"/",n);if(l==null)return null;let c=uw(t);pE(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=TE(l);h=SE(c[p],m,r)}return h}function uw(t,e=[],n=[],r="",o=!1){let l=(c,h,p=o,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&p)return;ht(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=Ss([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),uw(c.children,e,_,w,p)),!(c.path==null&&!c.index)&&e.push({path:w,score:_E(w,c.index),routesMeta:_})};return t.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,h);else for(let m of cw(c.path))l(c,h,!0,m)}),e}function cw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=cw(r.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function pE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mE=/^:[\w-]+$/,gE=3,yE=2,vE=1,xE=10,wE=-2,gx=t=>t==="*";function _E(t,e){let n=t.split("/"),r=n.length;return n.some(gx)&&(r+=wE),e&&(r+=yE),n.filter(o=>!gx(o)).reduce((o,l)=>o+(mE.test(l)?gE:l===""?vE:xE),r)}function bE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function SE(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",w=pd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),_=p.route;if(!w&&m&&n&&!r[r.length-1].route.index&&(w=pd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Ss([l,w.pathname]),pathnameBase:kE(Ss([l,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(l=Ss([l,w.pathnameBase]))}return c}function pd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EE(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:w},_)=>{if(g==="*"){let I=h[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const E=h[_];return w&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function EE(t,e=!1,n=!0){ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function TE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jE(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?yo(t):t;return{pathname:n?n.startsWith("/")?n:CE(n,e):e,search:IE(r),hash:PE(o)}}function CE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $f(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sm(t){let e=AE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Em(t,e,n,r=!1){let o;typeof t=="string"?o=yo(t):(o={...t},ht(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=n;else{let w=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;o.pathname=_.join("/")}h=w>=0?e[w]:"/"}let p=jE(o,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Ss=t=>t.join("/").replace(/\/\/+/g,"/"),kE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dw=["POST","PUT","PATCH","DELETE"];new Set(dw);var NE=["GET",...dw];new Set(NE);var Na=N.createContext(null);Na.displayName="DataRouter";var Dd=N.createContext(null);Dd.displayName="DataRouterState";N.createContext(!1);var hw=N.createContext({isTransitioning:!1});hw.displayName="ViewTransition";var DE=N.createContext(new Map);DE.displayName="Fetchers";var VE=N.createContext(null);VE.displayName="Await";var Ar=N.createContext(null);Ar.displayName="Navigation";var hu=N.createContext(null);hu.displayName="Location";var kr=N.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Tm=N.createContext(null);Tm.displayName="RouteError";function FE(t,{relative:e}={}){ht(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Ar),{hash:o,pathname:l,search:c}=fu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ss([n,l])),r.createHref({pathname:h,search:c,hash:o})}function Da(){return N.useContext(hu)!=null}function Rs(){return ht(Da(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(hu).location}var fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(t){N.useContext(Ar).static||N.useLayoutEffect(t)}function Vd(){let{isDataRoute:t}=N.useContext(kr);return t?XE():ME()}function ME(){ht(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Na),{basename:e,navigator:n}=N.useContext(Ar),{matches:r}=N.useContext(kr),{pathname:o}=Rs(),l=JSON.stringify(Sm(r)),c=N.useRef(!1);return pw(()=>{c.current=!0}),N.useCallback((p,m={})=>{if(ir(c.current,fw),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=Em(p,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ss([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,o,t])}var LE=N.createContext(null);function OE(t){let e=N.useContext(kr).outlet;return e&&N.createElement(LE.Provider,{value:t},e)}function fu(t,{relative:e}={}){let{matches:n}=N.useContext(kr),{pathname:r}=Rs(),o=JSON.stringify(Sm(n));return N.useMemo(()=>Em(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function BE(t,e){return mw(t,e)}function mw(t,e,n,r,o){var q;ht(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(Ar),{matches:c}=N.useContext(kr),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",w=h&&h.route;{let F=w&&w.path||"";gw(m,!w||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Rs(),E;if(e){let F=typeof e=="string"?yo(e):e;ht(g==="/"||((q=F.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let I=E.pathname||"/",R=I;if(g!=="/"){let F=g.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let A=lw(t,{pathname:R});ir(w||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ir(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=WE(A&&A.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:Ss([g,l.encodeLocation?l.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Ss([g,l.encodeLocation?l.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),c,n,r,o);return e&&$?N.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},$):$}function $E(){let t=YE(),e=RE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,c)}var UE=N.createElement($E,null),zE=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(kr.Provider,{value:this.props.routeContext},N.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HE({routeContext:t,match:e,children:n}){let r=N.useContext(Na);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(kr.Provider,{value:t},n)}function WE(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);ht(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:w,errors:_}=n,E=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,g,w)=>{let _,E=!1,I=null,R=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,I=g.route.errorElement||UE,h&&(p<0&&w===0?(gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):p===w&&(E=!0,R=g.route.hydrateFallbackElement||null)));let A=e.concat(l.slice(0,w+1)),$=()=>{let q;return _?q=I:E?q=R:g.route.Component?q=N.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,N.createElement(HE,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?N.createElement(zE,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:$(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):$()},null)}function jm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(t){let e=N.useContext(Na);return ht(e,jm(t)),e}function qE(t){let e=N.useContext(Dd);return ht(e,jm(t)),e}function KE(t){let e=N.useContext(kr);return ht(e,jm(t)),e}function Cm(t){let e=KE(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QE(){return Cm("useRouteId")}function YE(){var r;let t=N.useContext(Tm),e=qE("useRouteError"),n=Cm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function XE(){let{router:t}=GE("useNavigate"),e=Cm("useNavigate"),n=N.useRef(!1);return pw(()=>{n.current=!0}),N.useCallback(async(o,l={})=>{ir(n.current,fw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var yx={};function gw(t,e,n){!e&&!yx[t]&&(yx[t]=!0,ir(!1,n))}N.memo(JE);function JE({routes:t,future:e,state:n,unstable_onError:r}){return mw(t,void 0,n,r,e)}function Uf({to:t,replace:e,state:n,relative:r}){ht(Da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Ar);ir(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(kr),{pathname:c}=Rs(),h=Vd(),p=Em(t,Sm(l),c,r==="path"),m=JSON.stringify(p);return N.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function yw(t){return OE(t.context)}function ne(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZE({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){ht(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=yo(n));let{pathname:p="/",search:m="",hash:g="",state:w=null,key:_="default"}=n,E=N.useMemo(()=>{let I=Cs(p,c);return I==null?null:{location:{pathname:I,search:m,hash:g,state:w,key:_},navigationType:r}},[c,p,m,g,w,_,r]);return ir(E!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:N.createElement(Ar.Provider,{value:h},N.createElement(hu.Provider,{children:e,value:E}))}function eT({children:t,location:e}){return BE(Pp(t),e)}function Pp(t,e=[]){let n=[];return N.Children.forEach(t,(r,o)=>{if(!N.isValidElement(r))return;let l=[...e,o];if(r.type===N.Fragment){n.push.apply(n,Pp(r.props.children,l));return}ht(r.type===ne,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Pp(r.props.children,l)),n.push(c)}),n}var nd="get",rd="application/x-www-form-urlencoded";function Fd(t){return t!=null&&typeof t.tagName=="string"}function tT(t){return Fd(t)&&t.tagName.toLowerCase()==="button"}function nT(t){return Fd(t)&&t.tagName.toLowerCase()==="form"}function rT(t){return Fd(t)&&t.tagName.toLowerCase()==="input"}function sT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iT(t,e){return t.button===0&&(!e||e==="_self")&&!sT(t)}var Wc=null;function oT(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch(t){Wc=!0}return Wc}var aT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(t){return t!=null&&!aT.has(t)?(ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):t}function lT(t,e){let n,r,o,l,c;if(nT(t)){let h=t.getAttribute("action");r=h?Cs(h,e):null,n=t.getAttribute("method")||nd,o=zf(t.getAttribute("enctype"))||rd,l=new FormData(t)}else if(tT(t)||rT(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?Cs(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||nd,o=zf(t.getAttribute("formenctype"))||zf(h.getAttribute("enctype"))||rd,l=new FormData(h,t),!oT()){let{name:m,type:g,value:w}=t;if(g==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,w)}}else{if(Fd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nd,r=null,o=rd,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Am(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function uT(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function cT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hT(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await cT(l,n);return c.links?c.links():[]}return[]}));return gT(r.flat(1).filter(dT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vx(t,e,n,r,o,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var g;return n[m].pathname!==p.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{var w;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function fT(t,e,{includeHydrateFallback:n}={}){return pT(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function pT(t){return[...new Set(t)]}function mT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gT(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(mT(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function vw(){let t=N.useContext(Na);return Am(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yT(){let t=N.useContext(Dd);return Am(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var km=N.createContext(void 0);km.displayName="FrameworkContext";function xw(){let t=N.useContext(km);return Am(t,"You must render this element inside a <HydratedRouter> element"),t}function vT(t,e){let n=N.useContext(km),[r,o]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:w}=e,_=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=$=>{$.forEach(q=>{c(q.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[t]),N.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let E=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Al(h,E),onBlur:Al(p,I),onMouseEnter:Al(m,E),onMouseLeave:Al(g,I),onTouchStart:Al(w,E)}]:[!1,_,{}]}function Al(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xT({page:t,...e}){let{router:n}=vw(),r=N.useMemo(()=>lw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(_T,{page:t,matches:r,...e}):null}function wT(t){let{manifest:e,routeModules:n}=xw(),[r,o]=N.useState([]);return N.useEffect(()=>{let l=!1;return hT(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function _T({page:t,matches:e,...n}){let r=Rs(),{manifest:o,routeModules:l}=xw(),{basename:c}=vw(),{loaderData:h,matches:p}=yT(),m=N.useMemo(()=>vx(t,e,p,o,r,"data"),[t,e,p,o,r]),g=N.useMemo(()=>vx(t,e,p,o,r,"assets"),[t,e,p,o,r]),w=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,R=!1;if(e.forEach($=>{var F;let q=o.routes[$.route.id];!q||!q.hasLoader||(!m.some(K=>K.route.id===$.route.id)&&$.route.id in h&&((F=l[$.route.id])!=null&&F.shouldRevalidate)||q.hasClientLoader?R=!0:I.add($.route.id))}),I.size===0)return[];let A=uT(t,c,"data");return R&&I.size>0&&A.searchParams.set("_routes",e.filter($=>I.has($.route.id)).map($=>$.route.id).join(",")),[A.pathname+A.search]},[c,h,r,o,m,e,t,l]),_=N.useMemo(()=>fT(g,o),[g,o]),E=wT(g);return N.createElement(N.Fragment,null,w.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),_.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),E.map(({key:I,link:R})=>N.createElement("link",{key:I,nonce:n.nonce,...R})))}function bT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ww=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{ww&&(window.__reactRouterVersion="7.9.1")}catch(t){}function ST({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=uE({window:n,v5Compat:!0}));let o=r.current,[l,c]=N.useState({action:o.action,location:o.location}),h=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(ZE,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:g,viewTransition:w,..._},E){let{basename:I}=N.useContext(Ar),R=typeof m=="string"&&_w.test(m),A,$=!1;if(typeof m=="string"&&R&&(A=m,ww))try{let k=new URL(window.location.href),V=m.startsWith("//")?new URL(k.protocol+m):new URL(m),M=Cs(V.pathname,I);V.origin===k.origin&&M!=null?m=M+V.search+V.hash:$=!0}catch(k){ir(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=FE(m,{relative:o}),[F,K,B]=vT(r,_),Q=jT(m,{replace:c,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:w});function C(k){e&&e(k),k.defaultPrevented||Q(k)}let T=N.createElement("a",{..._,...B,href:A||q,onClick:$||l?e:C,ref:bT(E,K),target:p,"data-discover":!R&&n==="render"?"true":void 0});return F&&!R?N.createElement(N.Fragment,null,T,N.createElement(xT,{page:q})):T});Xt.displayName="Link";var Fn=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...m},g){let w=fu(c,{relative:m.relative}),_=Rs(),E=N.useContext(Dd),{navigator:I,basename:R}=N.useContext(Ar),A=E!=null&&PT(w)&&h===!0,$=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,q=_.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(q=q.toLowerCase(),F=F?F.toLowerCase():null,$=$.toLowerCase()),F&&R&&(F=Cs(F,R)||F);const K=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let B=q===$||!o&&q.startsWith($)&&q.charAt(K)==="/",Q=F!=null&&(F===$||!o&&F.startsWith($)&&F.charAt($.length)==="/"),C={isActive:B,isPending:Q,isTransitioning:A},T=B?e:void 0,k;typeof r=="function"?k=r(C):k=[r,B?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(C):l;return N.createElement(Xt,{...m,"aria-current":T,className:k,ref:g,style:V,to:c,viewTransition:h},typeof p=="function"?p(C):p)});Fn.displayName="NavLink";var ET=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=nd,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:w,..._},E)=>{let I=kT(),R=IT(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&_w.test(h),q=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let K=F.nativeEvent.submitter,B=(K==null?void 0:K.getAttribute("formmethod"))||c;I(K||F.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:w})};return N.createElement("form",{ref:E,method:A,action:R,onSubmit:r?p:q,..._,"data-discover":!$&&t==="render"?"true":void 0})});ET.displayName="Form";function TT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bw(t){let e=N.useContext(Na);return ht(e,TT(t)),e}function jT(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=Vd(),p=Rs(),m=fu(t,{relative:l});return N.useCallback(g=>{if(iT(g,e)){g.preventDefault();let w=n!==void 0?n:Kl(p)===Kl(m);h(t,{replace:w,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,m,n,r,e,t,o,l,c])}var CT=0,AT=()=>`__${String(++CT)}__`;function kT(){let{router:t}=bw("useSubmit"),{basename:e}=N.useContext(Ar),n=QE();return N.useCallback(async(r,o={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=lT(r,e);if(o.navigate===!1){let g=o.fetcherKey||AT();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function IT(t,{relative:e}={}){let{basename:n}=N.useContext(Ar),r=N.useContext(kr);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...fu(t||".",{relative:e})},c=Rs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ss([n,l.pathname])),Kl(l)}function PT(t,{relative:e}={}){let n=N.useContext(hw);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bw("useViewTransitionState"),o=fu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pd(o.pathname,c)!=null||pd(o.pathname,l)!=null}var RT=aw();const NT=_m(RT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xx=t=>{const e=VT(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),FT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...h},p)=>N.createElement("svg",{ref:p,...MT,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Sw("lucide",o),...!l&&!FT(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>N.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(t,e)=>{const n=N.forwardRef(({className:r,...o},l)=>N.createElement(LT,{ref:l,iconNode:e,className:Sw(`lucide-${DT(xx(t))}`,`lucide-${t}`,r),...o}));return n.displayName=xx(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Md=bt("aperture",OT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$T=bt("bell",BT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zT=bt("book-open",UT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WT=bt("chevron-right",HT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qT=bt("compass",GT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Ew=bt("diamond",KT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],YT=bt("folder-search",QT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],JT=bt("globe",XT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Tw=bt("hexagon",ZT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],tj=bt("house",ej);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rj=bt("layers",nj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ij=bt("layout-dashboard",sj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],aj=bt("messages-square",oj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],uj=bt("pin-off",lj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],dj=bt("pin",cj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fj=bt("settings",hj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],jw=bt("shapes",pj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pu=bt("shield",mj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yj=bt("star",gj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],xj=bt("trophy",vj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_j=bt("upload",wj);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Cw=bt("zap",bj),Sj="_topbar_1rfl9_3",Ej="_topbarLeft_1rfl9_39",Tj="_searchWrap_1rfl9_55",jj="_topbarRight_1rfl9_109",Cj="_ico_1rfl9_125",Aj="_btnIco_1rfl9_139",kj="_pill_1rfl9_173",Ij="_onlyExpanded_1rfl9_195",Pj="_upload_1rfl9_201",Rj="_label_1rfl9_231",Nj="_avatarBtn_1rfl9_237",Dj="_avatar_1rfl9_237",an={topbar:Sj,topbarLeft:Ej,searchWrap:Tj,topbarRight:jj,ico:Cj,btnIco:Aj,pill:kj,onlyExpanded:Ij,upload:Pj,label:Rj,avatarBtn:Nj,avatar:Dj},Aw=N.createContext(null);function Vj({children:t,role:e}){const[n,r]=N.useState(!1),[o,l]=N.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),h=N.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),p=N.useCallback(()=>r(!1),[]),m=N.useMemo(()=>({isOpen:n,open:h,close:p,activeTab:o,setTab:l,canUse:c}),[n,h,p,o,c]);return a.jsx(Aw.Provider,{value:m,children:t})}function kw(){const t=N.useContext(Aw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var wx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Fj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],h=t[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,h=c?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,g=l>>2,w=(l&3)<<4|h>>4;let _=(h&15)<<2|m>>6,E=m&63;p||(E=64,c||(_=64)),r.push(n[g],n[w],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||w==null)throw new Mj;const _=l<<2|h>>4;if(r.push(_),m!==64){const E=h<<4&240|m>>2;if(r.push(E),w!==64){const I=m<<6&192|w;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lj=function(t){const e=Iw(t);return Pw.encodeByteArray(e,!0)},md=function(t){return Lj(t).replace(/\./g,"")},Oj=function(t){try{return Pw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=()=>Bj().__FIREBASE_DEFAULTS__,Uj=()=>{if(typeof process=="undefined"||typeof wx=="undefined")return;const t=wx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zj=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Oj(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return $j()||Uj()||zj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hj=t=>{var e,n;return(n=(e=Im())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wj=t=>{const e=Hj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rw=()=>{var t;return(t=Im())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[md(JSON.stringify(n)),md(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qj(){var t;const e=(t=Im())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function Yj(){return!Qj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xj(){try{return typeof indexedDB=="object"}catch(t){return!1}}function Jj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="FirebaseError";class Va extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zj,Object.setPrototypeOf(this,Va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nw.prototype.create)}}class Nw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?eC(l,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Va(o,h,r)}}function eC(t,e){return t.replace(tC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const tC=/\{\$([^}]+)}/g;function Rp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(_x(l)&&_x(c)){if(!Rp(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function _x(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){return t&&t._delegate?t._delegate:t}class Ql{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sC(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rC(t){return t===no?void 0:t}function sC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const oC={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},aC=Ge.INFO,lC={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},uC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=lC[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dw{constructor(e){this.name=e,this._logLevel=aC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const cC=(t,e)=>e.some(n=>t instanceof n);let bx,Sx;function dC(){return bx||(bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hC(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vw=new WeakMap,Np=new WeakMap,Fw=new WeakMap,Hf=new WeakMap,Pm=new WeakMap;function fC(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(yi(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Vw.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function pC(t){if(Np.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Np.set(t,e)}let Dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mC(t){Dp=t(Dp)}function gC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wf(this),e,...n);return Fw.set(r,e.sort?e.sort():[e]),yi(r)}:hC().includes(t)?function(...e){return t.apply(Wf(this),e),yi(Vw.get(this))}:function(...e){return yi(t.apply(Wf(this),e))}}function yC(t){return typeof t=="function"?gC(t):(t instanceof IDBTransaction&&pC(t),cC(t,dC())?new Proxy(t,Dp):t)}function yi(t){if(t instanceof IDBRequest)return fC(t);if(Hf.has(t))return Hf.get(t);const e=yC(t);return e!==t&&(Hf.set(t,e),Pm.set(e,t)),e}const Wf=t=>Pm.get(t);function vC(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),h=yi(c);return r&&c.addEventListener("upgradeneeded",p=>{r(yi(c.result),p.oldVersion,p.newVersion,yi(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const xC=["get","getKey","getAll","getAllKeys","count"],wC=["put","add","delete","clear"],Gf=new Map;function Ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=wC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||xC.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&p.done]))[0]};return Gf.set(e,l),l}mC(t=>({...t,get:(e,n,r)=>Ex(e,n)||t.get(e,n,r),has:(e,n)=>!!Ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vp="@firebase/app",Tx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Dw("@firebase/app"),SC="@firebase/app-compat",EC="@firebase/analytics-compat",TC="@firebase/analytics",jC="@firebase/app-check-compat",CC="@firebase/app-check",AC="@firebase/auth",kC="@firebase/auth-compat",IC="@firebase/database",PC="@firebase/data-connect",RC="@firebase/database-compat",NC="@firebase/functions",DC="@firebase/functions-compat",VC="@firebase/installations",FC="@firebase/installations-compat",MC="@firebase/messaging",LC="@firebase/messaging-compat",OC="@firebase/performance",BC="@firebase/performance-compat",$C="@firebase/remote-config",UC="@firebase/remote-config-compat",zC="@firebase/storage",HC="@firebase/storage-compat",WC="@firebase/firestore",GC="@firebase/vertexai-preview",qC="@firebase/firestore-compat",KC="firebase",QC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",YC={[Vp]:"fire-core",[SC]:"fire-core-compat",[TC]:"fire-analytics",[EC]:"fire-analytics-compat",[CC]:"fire-app-check",[jC]:"fire-app-check-compat",[AC]:"fire-auth",[kC]:"fire-auth-compat",[IC]:"fire-rtdb",[PC]:"fire-data-connect",[RC]:"fire-rtdb-compat",[NC]:"fire-fn",[DC]:"fire-fn-compat",[VC]:"fire-iid",[FC]:"fire-iid-compat",[MC]:"fire-fcm",[LC]:"fire-fcm-compat",[OC]:"fire-perf",[BC]:"fire-perf-compat",[$C]:"fire-rc",[UC]:"fire-rc-compat",[zC]:"fire-gcs",[HC]:"fire-gcs-compat",[WC]:"fire-fst",[qC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[KC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new Map,XC=new Map,Mp=new Map;function jx(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gd(t){const e=t.name;if(Mp.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Mp.set(e,t);for(const n of Yl.values())jx(n,t);for(const n of XC.values())jx(n,t);return!0}function JC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new Nw("app","Firebase",ZC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=QC;function Mw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(n||(n=Rw()),!n)throw vi.create("no-options");const l=Yl.get(o);if(l){if(Rp(n,l.options)&&Rp(r,l.config))return l;throw vi.create("duplicate-app",{appName:o})}const c=new iC(o);for(const p of Mp.values())c.addComponent(p);const h=new eA(n,r,c);return Yl.set(o,h),h}function Lw(t=Fp){const e=Yl.get(t);if(!e&&t===Fp&&Rw())return Mw();if(!e)throw vi.create("no-app",{appName:t});return e}function nA(){return Array.from(Yl.values())}function xa(t,e,n){var r;let o=(r=YC[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(h.join(" "));return}gd(new Ql(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebase-heartbeat-database",sA=1,Xl="firebase-heartbeat-store";let qf=null;function Ow(){return qf||(qf=vC(rA,sA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),qf}async function iA(t){try{const n=(await Ow()).transaction(Xl),r=await n.objectStore(Xl).get(Bw(t));return await n.done,r}catch(e){if(e instanceof Va)As.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(n.message)}}}async function Cx(t,e){try{const r=(await Ow()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,Bw(t)),await r.done}catch(n){if(n instanceof Va)As.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});As.warn(r.message)}}}function Bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1024,aA=720*60*60*1e3;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ax();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=aA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){As.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ax(),{heartbeatsToSend:r,unsentEntries:o}=uA(this._heartbeatsCache.heartbeats),l=md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return As.warn(n),""}}}function Ax(){return new Date().toISOString().substring(0,10)}function uA(t,e=oA){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),kx(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xj()?Jj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function kx(t){return md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){gd(new Ql("platform-logger",e=>new _C(e),"PRIVATE")),gd(new Ql("heartbeat",e=>new lA(e),"PRIVATE")),xa(Vp,Tx,t),xa(Vp,Tx,"esm2017"),xa("fire-js","")}dA("");var Ix=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,$w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function k(){}k.prototype=T.prototype,C.D=T.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(V,M,U){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return T.prototype[M].apply(V,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,k){k||(k=0);var V=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)V[M]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(M=0;16>M;++M)V[M]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=C.g[0],k=C.g[1],M=C.g[2];var U=C.g[3],P=T+(U^k&(M^U))+V[0]+3614090360&4294967295;T=k+(P<<7&4294967295|P>>>25),P=U+(M^T&(k^M))+V[1]+3905402710&4294967295,U=T+(P<<12&4294967295|P>>>20),P=M+(k^U&(T^k))+V[2]+606105819&4294967295,M=U+(P<<17&4294967295|P>>>15),P=k+(T^M&(U^T))+V[3]+3250441966&4294967295,k=M+(P<<22&4294967295|P>>>10),P=T+(U^k&(M^U))+V[4]+4118548399&4294967295,T=k+(P<<7&4294967295|P>>>25),P=U+(M^T&(k^M))+V[5]+1200080426&4294967295,U=T+(P<<12&4294967295|P>>>20),P=M+(k^U&(T^k))+V[6]+2821735955&4294967295,M=U+(P<<17&4294967295|P>>>15),P=k+(T^M&(U^T))+V[7]+4249261313&4294967295,k=M+(P<<22&4294967295|P>>>10),P=T+(U^k&(M^U))+V[8]+1770035416&4294967295,T=k+(P<<7&4294967295|P>>>25),P=U+(M^T&(k^M))+V[9]+2336552879&4294967295,U=T+(P<<12&4294967295|P>>>20),P=M+(k^U&(T^k))+V[10]+4294925233&4294967295,M=U+(P<<17&4294967295|P>>>15),P=k+(T^M&(U^T))+V[11]+2304563134&4294967295,k=M+(P<<22&4294967295|P>>>10),P=T+(U^k&(M^U))+V[12]+1804603682&4294967295,T=k+(P<<7&4294967295|P>>>25),P=U+(M^T&(k^M))+V[13]+4254626195&4294967295,U=T+(P<<12&4294967295|P>>>20),P=M+(k^U&(T^k))+V[14]+2792965006&4294967295,M=U+(P<<17&4294967295|P>>>15),P=k+(T^M&(U^T))+V[15]+1236535329&4294967295,k=M+(P<<22&4294967295|P>>>10),P=T+(M^U&(k^M))+V[1]+4129170786&4294967295,T=k+(P<<5&4294967295|P>>>27),P=U+(k^M&(T^k))+V[6]+3225465664&4294967295,U=T+(P<<9&4294967295|P>>>23),P=M+(T^k&(U^T))+V[11]+643717713&4294967295,M=U+(P<<14&4294967295|P>>>18),P=k+(U^T&(M^U))+V[0]+3921069994&4294967295,k=M+(P<<20&4294967295|P>>>12),P=T+(M^U&(k^M))+V[5]+3593408605&4294967295,T=k+(P<<5&4294967295|P>>>27),P=U+(k^M&(T^k))+V[10]+38016083&4294967295,U=T+(P<<9&4294967295|P>>>23),P=M+(T^k&(U^T))+V[15]+3634488961&4294967295,M=U+(P<<14&4294967295|P>>>18),P=k+(U^T&(M^U))+V[4]+3889429448&4294967295,k=M+(P<<20&4294967295|P>>>12),P=T+(M^U&(k^M))+V[9]+568446438&4294967295,T=k+(P<<5&4294967295|P>>>27),P=U+(k^M&(T^k))+V[14]+3275163606&4294967295,U=T+(P<<9&4294967295|P>>>23),P=M+(T^k&(U^T))+V[3]+4107603335&4294967295,M=U+(P<<14&4294967295|P>>>18),P=k+(U^T&(M^U))+V[8]+1163531501&4294967295,k=M+(P<<20&4294967295|P>>>12),P=T+(M^U&(k^M))+V[13]+2850285829&4294967295,T=k+(P<<5&4294967295|P>>>27),P=U+(k^M&(T^k))+V[2]+4243563512&4294967295,U=T+(P<<9&4294967295|P>>>23),P=M+(T^k&(U^T))+V[7]+1735328473&4294967295,M=U+(P<<14&4294967295|P>>>18),P=k+(U^T&(M^U))+V[12]+2368359562&4294967295,k=M+(P<<20&4294967295|P>>>12),P=T+(k^M^U)+V[5]+4294588738&4294967295,T=k+(P<<4&4294967295|P>>>28),P=U+(T^k^M)+V[8]+2272392833&4294967295,U=T+(P<<11&4294967295|P>>>21),P=M+(U^T^k)+V[11]+1839030562&4294967295,M=U+(P<<16&4294967295|P>>>16),P=k+(M^U^T)+V[14]+4259657740&4294967295,k=M+(P<<23&4294967295|P>>>9),P=T+(k^M^U)+V[1]+2763975236&4294967295,T=k+(P<<4&4294967295|P>>>28),P=U+(T^k^M)+V[4]+1272893353&4294967295,U=T+(P<<11&4294967295|P>>>21),P=M+(U^T^k)+V[7]+4139469664&4294967295,M=U+(P<<16&4294967295|P>>>16),P=k+(M^U^T)+V[10]+3200236656&4294967295,k=M+(P<<23&4294967295|P>>>9),P=T+(k^M^U)+V[13]+681279174&4294967295,T=k+(P<<4&4294967295|P>>>28),P=U+(T^k^M)+V[0]+3936430074&4294967295,U=T+(P<<11&4294967295|P>>>21),P=M+(U^T^k)+V[3]+3572445317&4294967295,M=U+(P<<16&4294967295|P>>>16),P=k+(M^U^T)+V[6]+76029189&4294967295,k=M+(P<<23&4294967295|P>>>9),P=T+(k^M^U)+V[9]+3654602809&4294967295,T=k+(P<<4&4294967295|P>>>28),P=U+(T^k^M)+V[12]+3873151461&4294967295,U=T+(P<<11&4294967295|P>>>21),P=M+(U^T^k)+V[15]+530742520&4294967295,M=U+(P<<16&4294967295|P>>>16),P=k+(M^U^T)+V[2]+3299628645&4294967295,k=M+(P<<23&4294967295|P>>>9),P=T+(M^(k|~U))+V[0]+4096336452&4294967295,T=k+(P<<6&4294967295|P>>>26),P=U+(k^(T|~M))+V[7]+1126891415&4294967295,U=T+(P<<10&4294967295|P>>>22),P=M+(T^(U|~k))+V[14]+2878612391&4294967295,M=U+(P<<15&4294967295|P>>>17),P=k+(U^(M|~T))+V[5]+4237533241&4294967295,k=M+(P<<21&4294967295|P>>>11),P=T+(M^(k|~U))+V[12]+1700485571&4294967295,T=k+(P<<6&4294967295|P>>>26),P=U+(k^(T|~M))+V[3]+2399980690&4294967295,U=T+(P<<10&4294967295|P>>>22),P=M+(T^(U|~k))+V[10]+4293915773&4294967295,M=U+(P<<15&4294967295|P>>>17),P=k+(U^(M|~T))+V[1]+2240044497&4294967295,k=M+(P<<21&4294967295|P>>>11),P=T+(M^(k|~U))+V[8]+1873313359&4294967295,T=k+(P<<6&4294967295|P>>>26),P=U+(k^(T|~M))+V[15]+4264355552&4294967295,U=T+(P<<10&4294967295|P>>>22),P=M+(T^(U|~k))+V[6]+2734768916&4294967295,M=U+(P<<15&4294967295|P>>>17),P=k+(U^(M|~T))+V[13]+1309151649&4294967295,k=M+(P<<21&4294967295|P>>>11),P=T+(M^(k|~U))+V[4]+4149444226&4294967295,T=k+(P<<6&4294967295|P>>>26),P=U+(k^(T|~M))+V[11]+3174756917&4294967295,U=T+(P<<10&4294967295|P>>>22),P=M+(T^(U|~k))+V[2]+718787259&4294967295,M=U+(P<<15&4294967295|P>>>17),P=k+(U^(M|~T))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var k=T-this.blockSize,V=this.B,M=this.h,U=0;U<T;){if(M==0)for(;U<=k;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<T;)if(V[M++]=C.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<T;)if(V[M++]=C[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var k=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=k&255,k/=256;for(this.u(C),C=Array(16),T=k=0;4>T;++T)for(var V=0;32>V;V+=8)C[k++]=this.g[T]>>>V&255;return C};function l(C,T){var k=h;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=T(C)}function c(C,T){this.h=T;for(var k=[],V=!0,M=C.length-1;0<=M;M--){var U=C[M]|0;V&&U==T||(k[M]=U,V=!1)}this.g=k}var h={};function p(C){return-128<=C&&128>C?l(C,function(T){return new c([T|0],0>T?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return A(m(-C));for(var T=[],k=1,V=0;C>=k;V++)T[V]=C/k|0,k*=4294967296;return new c(T,0)}function g(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return A(g(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(T,8)),V=w,M=0;M<C.length;M+=8){var U=Math.min(8,C.length-M),P=parseInt(C.substring(M,M+U),T);8>U?(U=m(Math.pow(T,U)),V=V.j(U).add(m(P))):(V=V.j(k),V=V.add(m(P)))}return V}var w=p(0),_=p(1),E=p(16777216);t=c.prototype,t.m=function(){if(R(this))return-A(this).m();for(var C=0,T=1,k=0;k<this.g.length;k++){var V=this.i(k);C+=(0<=V?V:4294967296+V)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(R(this))return"-"+A(this).toString(C);for(var T=m(Math.pow(C,6)),k=this,V="";;){var M=K(k,T).g;k=$(k,M.j(T));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=M,I(k))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function R(C){return C.h==-1}t.l=function(C){return C=$(this,C),R(C)?-1:I(C)?0:1};function A(C){for(var T=C.g.length,k=[],V=0;V<T;V++)k[V]=~C.g[V];return new c(k,~C.h).add(_)}t.abs=function(){return R(this)?A(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],V=0,M=0;M<=T;M++){var U=V+(this.i(M)&65535)+(C.i(M)&65535),P=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=P>>>16,U&=65535,P&=65535,k[M]=P<<16|U}return new c(k,k[k.length-1]&-2147483648?-1:0)};function $(C,T){return C.add(A(T))}t.j=function(C){if(I(this)||I(C))return w;if(R(this))return R(C)?A(this).j(A(C)):A(A(this).j(C));if(R(C))return A(this.j(A(C)));if(0>this.l(E)&&0>C.l(E))return m(this.m()*C.m());for(var T=this.g.length+C.g.length,k=[],V=0;V<2*T;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<C.g.length;M++){var U=this.i(V)>>>16,P=this.i(V)&65535,ve=C.i(M)>>>16,Ve=C.i(M)&65535;k[2*V+2*M]+=P*Ve,q(k,2*V+2*M),k[2*V+2*M+1]+=U*Ve,q(k,2*V+2*M+1),k[2*V+2*M+1]+=P*ve,q(k,2*V+2*M+1),k[2*V+2*M+2]+=U*ve,q(k,2*V+2*M+2)}for(V=0;V<T;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=T;V<2*T;V++)k[V]=0;return new c(k,0)};function q(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function F(C,T){this.g=C,this.h=T}function K(C,T){if(I(T))throw Error("division by zero");if(I(C))return new F(w,w);if(R(C))return T=K(A(C),T),new F(A(T.g),A(T.h));if(R(T))return T=K(C,A(T)),new F(A(T.g),T.h);if(30<C.g.length){if(R(C)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var k=_,V=T;0>=V.l(C);)k=B(k),V=B(V);var M=Q(k,1),U=Q(V,1);for(V=Q(V,2),k=Q(k,2);!I(V);){var P=U.add(V);0>=P.l(C)&&(M=M.add(k),U=P),V=Q(V,1),k=Q(k,1)}return T=$(C,M.j(T)),new F(M,T)}for(M=w;0<=C.l(T);){for(k=Math.max(1,Math.floor(C.m()/T.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=m(k),P=U.j(T);R(P)||0<P.l(C);)k-=V,U=m(k),P=U.j(T);I(U)&&(U=_),M=M.add(U),C=$(C,P)}return new F(M,C)}t.A=function(C){return K(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],V=0;V<T;V++)k[V]=this.i(V)&C.i(V);return new c(k,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],V=0;V<T;V++)k[V]=this.i(V)|C.i(V);return new c(k,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),k=[],V=0;V<T;V++)k[V]=this.i(V)^C.i(V);return new c(k,this.h^C.h)};function B(C){for(var T=C.g.length+1,k=[],V=0;V<T;V++)k[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(k,C.h)}function Q(C,T){var k=T>>5;T%=32;for(var V=C.g.length-k,M=[],U=0;U<V;U++)M[U]=0<T?C.i(U+k)>>>T|C.i(U+k+1)<<32-T:C.i(U+k);return new c(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$w=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,uo=c}).apply(typeof Ix!="undefined"?Ix:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Gc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uw,Nl,zw,sd,Lp,Hw,Ww,Gw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(d,v){if(v)e:{var b=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var W=d[j];if(!(W in b))break e;b=b[W]}d=d[d.length-1],j=b[d],v=v(j),v!=j&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var b=0,j=!1,W={next:function(){if(!j&&b<d.length){var Z=b++;return{value:v(Z,d[Z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(d){return d||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,b){return d.call.apply(d.bind,arguments)}function w(d,v,b){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,j),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function _(d,v,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,_.apply(null,arguments)}function E(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var j=b.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function I(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(j,W,Z){for(var de=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)de[Je-2]=arguments[Je];return v.prototype[W].apply(j,de)}}function R(d){const v=d.length;if(0<v){const b=Array(v);for(let j=0;j<v;j++)b[j]=d[j];return b}return[]}function A(d,v){for(let b=1;b<arguments.length;b++){const j=arguments[b];if(p(j)){const W=d.length||0,Z=j.length||0;d.length=W+Z;for(let de=0;de<Z;de++)d[W+de]=j[de]}else d.push(j)}}class ${constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function q(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var B=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function Q(d,v,b){for(const j in d)v.call(b,d[j],j,d)}function C(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function T(d){const v={};for(const b in d)v[b]=d[b];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,v){let b,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(b in j)d[b]=j[b];for(let Z=0;Z<k.length;Z++)b=k[Z],Object.prototype.hasOwnProperty.call(j,b)&&(d[b]=j[b])}}function M(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function U(d){h.setTimeout(()=>{throw d},0)}function P(){var d=fe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ve{constructor(){this.h=this.g=null}add(v,b){const j=Ve.get();j.set(v,b),this.h?this.h.next=j:this.g=j,this.h=j}}var Ve=new $(()=>new Te,d=>d.reset());class Te{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,J=!1,fe=new ve,ue=()=>{const d=h.Promise.resolve(void 0);ce=()=>{d.then(H)}};var H=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(b){U(b)}var v=Ve;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}J=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch(b){}return d})();function Ne(d,v){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(B){e:{try{K(v.nodeName);var W=!0;break e}catch(Z){}W=!1}W||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}I(Ne,ge);var Me={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function Xe(d,v,b,j,W){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!j,this.ha=W,this.key=++Ue,this.da=this.fa=!1}function St(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Bn(d){this.src=d,this.g={},this.h=0}Bn.prototype.add=function(d,v,b,j,W){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var de=or(d,v,j,W);return-1<de?(v=d[de],b||(v.fa=!1)):(v=new Xe(v,this.src,Z,!!j,W),v.fa=b,d.push(v)),v};function es(d,v){var b=v.type;if(b in d.g){var j=d.g[b],W=Array.prototype.indexOf.call(j,v,void 0),Z;(Z=0<=W)&&Array.prototype.splice.call(j,W,1),Z&&(St(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function or(d,v,b,j){for(var W=0;W<d.length;++W){var Z=d[W];if(!Z.da&&Z.listener==v&&Z.capture==!!b&&Z.ha==j)return W}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),ts={};function Ds(d,v,b,j,W){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Ds(d,v[Z],b,j,W);return null}return b=Ms(b),d&&d[$e]?d.K(v,b,m(j)?!!j.capture:!1,W):Vs(d,v,b,!1,j,W)}function Vs(d,v,b,j,W,Z){if(!v)throw Error("Invalid event type");var de=m(W)?!!W.capture:!!W,Je=rs(d);if(Je||(d[Pr]=Je=new Bn(d)),b=Je.add(v,b,j,de,Z),b.proxy)return b;if(j=Ci(),b.proxy=j,j.src=d,j.listener=b,d.addEventListener)Re||(W=de),W===void 0&&(W=!1),d.addEventListener(v.toString(),j,W);else if(d.attachEvent)d.attachEvent(Un(v.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ci(){function d(b){return v.call(d.src,d.listener,b)}const v=Fs;return d}function ns(d,v,b,j,W){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)ns(d,v[Z],b,j,W);else j=m(j)?!!j.capture:!!j,b=Ms(b),d&&d[$e]?(d=d.i,v=String(v).toString(),v in d.g&&(Z=d.g[v],b=or(Z,b,j,W),-1<b&&(St(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete d.g[v],d.h--)))):d&&(d=rs(d))&&(v=d.g[v.toString()],d=-1,v&&(d=or(v,b,j,W)),(b=-1<d?v[d]:null)&&$n(b))}function $n(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[$e])es(v.i,d);else{var b=d.type,j=d.proxy;v.removeEventListener?v.removeEventListener(b,j,d.capture):v.detachEvent?v.detachEvent(Un(b),j):v.addListener&&v.removeListener&&v.removeListener(j),(b=rs(v))?(es(b,d),b.h==0&&(b.src=null,v[Pr]=null)):St(d)}}}function Un(d){return d in ts?ts[d]:ts[d]="on"+d}function Fs(d,v){if(d.da)d=!0;else{v=new Ne(v,this);var b=d.listener,j=d.ha||d.src;d.fa&&$n(d),d=b.call(j,v)}return d}function rs(d){return d=d[Pr],d instanceof Bn?d:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ms(d){return typeof d=="function"?d:(d[ss]||(d[ss]=function(v){return d.handleEvent(v)}),d[ss])}function vt(){ee.call(this),this.i=new Bn(this),this.M=this,this.F=null}I(vt,ee),vt.prototype[$e]=!0,vt.prototype.removeEventListener=function(d,v,b,j){ns(this,d,v,b,j)};function xt(d,v){var b,j=d.F;if(j)for(b=[];j;j=j.F)b.push(j);if(d=d.M,j=v.type||v,typeof v=="string")v=new ge(v,d);else if(v instanceof ge)v.target=v.target||d;else{var W=v;v=new ge(j,d),V(v,W)}if(W=!0,b)for(var Z=b.length-1;0<=Z;Z--){var de=v.g=b[Z];W=zn(de,j,!0,v)&&W}if(de=v.g=d,W=zn(de,j,!0,v)&&W,W=zn(de,j,!1,v)&&W,b)for(Z=0;Z<b.length;Z++)de=v.g=b[Z],W=zn(de,j,!1,v)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],j=0;j<b.length;j++)St(b[j]);delete d.g[v],d.h--}}this.F=null},vt.prototype.K=function(d,v,b,j){return this.i.add(String(d),v,!1,b,j)},vt.prototype.L=function(d,v,b,j){return this.i.add(String(d),v,!0,b,j)};function zn(d,v,b,j){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==b){var Je=de.listener,Nt=de.ha||de.src;de.fa&&es(d.i,de),W=Je.call(Nt,j)!==!1&&W}}return W&&!j.defaultPrevented}function Ls(d,v,b){if(typeof d=="function")b&&(d=_(d,b));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function ar(d){d.g=Ls(()=>{d.g=null,d.i&&(d.i=!1,ar(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Rr extends ee{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ar(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(d){ee.call(this),this.h=d,this.g={}}I(Nr,ee);var Os=[];function Bs(d){Q(d.g,function(v,b){this.g.hasOwnProperty(b)&&$n(v)},d),d.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Bs(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=h.JSON.stringify,Us=h.JSON.parse,zs=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Ai(){}Ai.prototype.h=null;function _o(d){return d.h||(d.h=d.i())}function bo(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){ge.call(this,"d")}I(Dr,ge);function So(){ge.call(this,"c")}I(So,ge);var Vr={},za=null;function ki(){return za=za||new vt}Vr.La="serverreachability";function Ha(d){ge.call(this,Vr.La,d)}I(Ha,ge);function is(d){const v=ki();xt(v,new Ha(v))}Vr.STAT_EVENT="statevent";function Wa(d,v){ge.call(this,Vr.STAT_EVENT,d),this.stat=v}I(Wa,ge);function Et(d){const v=ki();xt(v,new Wa(v,d))}Vr.Ma="timingevent";function Eo(d,v){ge.call(this,Vr.Ma,d),this.size=v}I(Eo,ge);function lr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Pi(d,v,b,j,W,Z){d.info(function(){if(d.g)if(Z)for(var de="",Je=Z.split("&"),Nt=0;Nt<Je.length;Nt++){var ze=Je[Nt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var At=Mt.split("_");de=2<=At.length&&At[1]=="type"?de+(Mt+"="+ze+"&"):de+(Mt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+v+`
`+b+`
`+de})}function To(d,v,b,j,W,Z,de){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+v+`
`+b+`
`+Z+" "+de})}function ur(d,v,b,j){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+uh(d,b)+(j?" "+j:"")})}function Ga(d,v){d.info(function(){return"TIMEOUT: "+v})}Ii.prototype.info=function(){};function uh(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var j=b[d];if(!(2>j.length)){var W=j[1];if(Array.isArray(W)&&!(1>W.length)){var Z=W[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<W.length;de++)W[de]=""}}}}return $s(b)}catch(Je){return v}}var jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function Ri(){}I(Ri,Ai),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},cr=new Ri;function dr(d,v,b,j){this.j=d,this.i=v,this.l=b,this.R=j||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var qa={},Co={};function Ao(d,v,b){d.L=1,d.v=Ks(kn(v)),d.m=b,d.P=!0,Ka(d,null)}function Ka(d,v){d.F=Date.now(),tt(d),d.A=kn(d.v);var b=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),Ys(b.i,"t",j),d.C=0,b=d.j.J,d.h=new Pu,d.g=Qu(d.j,b?v:null,!d.m),0<d.O&&(d.M=new Rr(_(d.Y,d,d.g),d.O)),v=d.U,b=d.g,j=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Os[0]=W.toString()),W=Os);for(var Z=0;Z<W.length;Z++){var de=Ds(b,W[Z],j||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),is(),Pi(d.i,d.u,d.A,d.l,d.R,d.m)}dr.prototype.ca=function(d){d=d.target;const v=this.M;v&&xn(d)==3?v.j():this.Y(d)},dr.prototype.Y=function(d){try{if(d==this.g)e:{const At=xn(this.g);var v=this.g.Ba();const qn=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||At!=4||v==7||(v==8||0>=qn?is(3):is(2)),Ni(this);var b=this.g.Z();this.X=b;t:if(Ru(this)){var j=el(this.g);d="";var W=j.length,Z=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Wn(this),Hs(this);var de="";break t}this.h.i=new h.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(j[v],{stream:!(Z&&v==W-1)});j.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=b==200,To(this.i,this.u,this.A,this.l,this.R,At,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Nt=this.g;if((Je=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Je)){var ze=Je;break t}}ze=null}if(b=ze)ur(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,b);else{this.o=!1,this.s=3,Et(12),Wn(this),Hs(this);break e}}if(this.P){b=!0;let Pn;for(;!this.J&&this.C<de.length;)if(Pn=ch(this,de),Pn==Co){At==4&&(this.s=4,Et(14),b=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==qa){this.s=4,Et(15),ur(this.i,this.l,de,"[Invalid Chunk]"),b=!1;break}else ur(this.i,this.l,Pn,null),Qa(this,Pn);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||de.length!=0||this.h.h||(this.s=1,Et(16),b=!1),this.o=this.o&&b,!b)ur(this.i,this.l,de,"[Invalid Chunked Response]"),Wn(this),Hs(this);else if(0<de.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),nl(Mt),Mt.M=!0,Et(11))}}else ur(this.i,this.l,de,null),Qa(this,de);At==4&&Wn(this),this.o&&!this.J&&(At==4?Oo(this.j,this):(this.o=!1,tt(this)))}else Do(this.g),b==400&&0<de.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Wn(this),Hs(this)}}}catch(At){}finally{}};function Ru(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ch(d,v){var b=d.C,j=v.indexOf(`
`,b);return j==-1?Co:(b=Number(v.substring(b,j)),isNaN(b)?qa:(j+=1,j+b>v.length?Co:(v=v.slice(j,j+b),d.C=j+b,v)))}dr.prototype.cancel=function(){this.J=!0,Wn(this)};function tt(d){d.S=Date.now()+d.I,Nu(d,d.I)}function Nu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=lr(_(d.ba,d),v)}function Ni(d){d.B&&(h.clearTimeout(d.B),d.B=null)}dr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ga(this.i,this.A),this.L!=2&&(is(),Et(17)),Wn(this),this.s=2,Hs(this)):Nu(this,this.S-d)};function Hs(d){d.j.G==0||d.J||Oo(d.j,d)}function Wn(d){Ni(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Bs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Qa(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||fn(b.h,d))){if(!d.K&&fn(b.h,d)&&b.G==3){try{var j=b.Da.g.parse(v)}catch(ze){j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Lo(b),gr(b);else break e;Mo(b),Et(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=lr(_(b.Za,b),6e3));if(1>=Vu(b.h)&&b.ca){try{b.ca()}catch(ze){}b.ca=void 0}}else cs(b,11)}else if((d.K||b.g==d)&&Lo(b),!q(v))for(W=b.Da.g.parse(v),v=0;v<W.length;v++){let ze=W[v];if(b.T=ze[0],ze=ze[1],b.G==2)if(ze[0]=="c"){b.K=ze[1],b.ia=ze[2];const Mt=ze[3];Mt!=null&&(b.la=Mt,b.j.info("VER="+b.la));const At=ze[4];At!=null&&(b.Aa=At,b.j.info("SVER="+b.Aa));const qn=ze[5];qn!=null&&typeof qn=="number"&&0<qn&&(j=1.5*qn,b.L=j,b.j.info("backChannelRequestTimeoutMs_="+j)),j=b;const Pn=d.g;if(Pn){const Bi=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var Z=j.h;Z.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ya(Z,Z.h),Z.h=null))}if(j.D){const $o=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(j.ya=$o,et(j.I,j.D,$o))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),j=b;var de=d;if(j.qa=Ku(j,j.J?j.ia:null,j.W),de.K){Fu(j.h,de);var Je=de,Nt=j.L;Nt&&(Je.I=Nt),Je.B&&(Ni(Je),tt(Je)),j.g=de}else Oi(j);0<b.i.length&&Or(b)}else ze[0]!="stop"&&ze[0]!="close"||cs(b,7);else b.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?cs(b,7):Ht(b):ze[0]!="noop"&&b.l&&b.l.ta(ze),b.v=0)}}is(4)}catch(ze){}}var Du=class{constructor(d,v){this.g=d,this.map=v}};function Di(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vu(d){return d.h?1:d.g?d.g.size:0}function fn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ya(d,v){d.g?d.g.add(v):d.h=v}function Fu(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Di.prototype.cancel=function(){if(this.i=Mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Mu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return R(d.i)}function ko(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map!="undefined"&&d instanceof Map||typeof Set!="undefined"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],b=d.length,j=0;j<b;j++)v.push(d[j]);return v}v=[],b=0;for(j in d)v[b++]=d[j];return v}function Io(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map!="undefined"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set!="undefined"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const j in d)v[b++]=j;return v}}}function Ws(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=Io(d),j=ko(d),W=j.length,Z=0;Z<W;Z++)v.call(void 0,j[Z],b&&b[Z],d)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dh(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var j=d[b].indexOf("="),W=null;if(0<=j){var Z=d[b].substring(0,j);W=d[b].substring(j+1)}else Z=d[b];v(Z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function os(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof os){this.h=d.h,Fi(this,d.j),this.o=d.o,this.g=d.g,Gs(this,d.s),this.l=d.l;var v=d.i,b=new Fr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),qs(this,b),this.m=d.m}else d&&(v=String(d).match(Vi))?(this.h=!1,Fi(this,v[1]||"",!0),this.o=Be(v[2]||""),this.g=Be(v[3]||"",!0),Gs(this,v[4]),this.l=Be(v[5]||"",!0),qs(this,v[6]||"",!0),this.m=Be(v[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}os.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Qs(v,Po,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Qs(v,Po,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Qs(b,b.charAt(0)=="/"?Bu:Ou,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Qs(b,Xa)),d.join("")};function kn(d){return new os(d)}function Fi(d,v,b){d.j=b?Be(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Gs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function qs(d,v,b){v instanceof Fr?(d.i=v,Mr(d.i,d.h)):(b||(v=Qs(v,$u)),d.i=new Fr(v,d.h))}function et(d,v,b){d.i.set(v,b)}function Ks(d){return et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Be(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qs(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Lu),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Lu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Po=/[#\/\?@]/g,Ou=/[#\?:]/g,Bu=/[#\?]/g,$u=/[#\?@]/g,Xa=/#/g;function Fr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function zt(d){d.g||(d.g=new Map,d.h=0,d.i&&dh(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Fr.prototype,t.add=function(d,v){zt(this),this.i=null,d=Gn(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function hr(d,v){zt(d),v=Gn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function fr(d,v){return zt(d),v=Gn(d,v),d.g.has(v)}t.forEach=function(d,v){zt(this),this.g.forEach(function(b,j){b.forEach(function(W){d.call(v,W,j,this)},this)},this)},t.na=function(){zt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let j=0;j<v.length;j++){const W=d[j];for(let Z=0;Z<W.length;Z++)b.push(v[j])}return b},t.V=function(d){zt(this);let v=[];if(typeof d=="string")fr(this,d)&&(v=v.concat(this.g.get(Gn(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},t.set=function(d,v){return zt(this),this.i=null,d=Gn(this,d),fr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Ys(d,v,b){hr(d,v),0<b.length&&(d.i=null,d.g.set(Gn(d,v),R(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var j=v[b];const Z=encodeURIComponent(String(j)),de=this.V(j);for(j=0;j<de.length;j++){var W=Z;de[j]!==""&&(W+="="+encodeURIComponent(String(de[j]))),d.push(W)}}return this.i=d.join("&")};function Gn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Mr(d,v){v&&!d.j&&(zt(d),d.i=null,d.g.forEach(function(b,j){var W=j.toLowerCase();j!=W&&(hr(this,j),Ys(this,W,b))},d)),d.j=v}function hh(d,v){const b=new Ii;if(h.Image){const j=new Image;j.onload=E(vn,b,"TestLoadImage: loaded",!0,v,j),j.onerror=E(vn,b,"TestLoadImage: error",!1,v,j),j.onabort=E(vn,b,"TestLoadImage: abort",!1,v,j),j.ontimeout=E(vn,b,"TestLoadImage: timeout",!1,v,j),h.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else v(!1)}function Uu(d,v){const b=new Ii,j=new AbortController,W=setTimeout(()=>{j.abort(),vn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:j.signal}).then(Z=>{clearTimeout(W),Z.ok?vn(b,"TestPingServer: ok",!0,v):vn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),vn(b,"TestPingServer: error",!1,v)})}function vn(d,v,b,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(b)}catch(Z){}}function fh(){this.g=new zs}function zu(d,v,b){const j=b||"";try{Ws(d,function(W,Z){let de=W;m(W)&&(de=$s(W)),v.push(j+Z+"="+encodeURIComponent(de))})}catch(W){throw v.push(j+"type="+encodeURIComponent("_badmap")),W}}function as(d){this.l=d.Ub||null,this.j=d.eb||!1}I(as,Ai),as.prototype.g=function(){return new Mi(this.l,this.j)},as.prototype.i=(function(d){return function(){return d}})({});function Mi(d,v){vt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Mi,vt),t=Mi.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,mr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!="undefined"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?pr(this):mr(this),this.readyState==3&&Hu(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,pr(this))},t.Qa=function(d){this.g&&(this.response=d,pr(this))},t.ga=function(){this.g&&pr(this)};function pr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,mr(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function mr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ls(d){let v="";return Q(d,function(b,j){v+=j,v+=":",v+=b,v+=`\r
`}),v}function Xs(d,v,b){e:{for(j in b){var j=!1;break e}j=!0}j||(b=ls(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):et(d,v,b))}function ut(d){vt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ut,vt);var ph=/^https?$/i,Ja=["POST","PUT"];t=ut.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,b,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?_o(this.o):_o(cr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Z){Li(this,Z);return}if(d=b||"",b=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)b.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Z of j.keys())b.set(Z,j.get(Z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ja,v,void 0))||j||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of b)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Li(this,Z)}};function Li(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ro(d),In(d)}function Ro(d){d.A||(d.A=!0,xt(d,"complete"),xt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,xt(this,"complete"),xt(this,"abort"),In(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},t.bb=function(){Za(this)};function Za(d){if(d.h&&typeof c!="undefined"&&(!d.v[1]||xn(d)!=4||d.Z()!=2)){if(d.u&&xn(d)==4)Ls(d.Ea,0,d);else if(xt(d,"readystatechange"),xn(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var j;if(j=de===0){var W=String(d.D).match(Vi)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),j=!ph.test(W?W.toLowerCase():"")}b=j}if(b)xt(d,"complete"),xt(d,"success");else{d.m=6;try{var Z=2<xn(d)?d.g.statusText:""}catch(Je){Z=""}d.l=Z+" ["+d.Z()+"]",Ro(d)}}finally{In(d)}}}}function In(d,v){if(d.g){No(d);const b=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||xt(d,"ready");try{b.onreadystatechange=j}catch(W){}}}function No(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch(d){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(d){return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Us(v)}};function el(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch(v){return null}}function Do(d){const v={};d=(d.g&&2<=xn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(q(d[j]))continue;var b=M(d[j]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=v[W]||[];v[W]=Z,Z.push(b)}C(v,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function tl(d){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,d),this.cb=Lr("retryDelaySeedMs",1e4,d),this.Wa=Lr("forwardChannelMaxRetries",2,d),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(d&&d.concurrentRequestLimit),this.Da=new fh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tl.prototype,t.la=8,t.G=1,t.connect=function(d,v,b,j){Et(0),this.W=d,this.H=v||{},b&&j!==void 0&&(this.H.OSID=b,this.H.OAID=j),this.F=this.X,this.I=Ku(this,null,this.W),Or(this)};function Ht(d){if(Vo(d),d.G==3){var v=d.U++,b=kn(d.I);if(et(b,"SID",d.K),et(b,"RID",v),et(b,"TYPE","terminate"),us(d,b),v=new dr(d,d.j,v),v.L=2,v.v=Ks(kn(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.v.toString(),"")}catch(j){}!b&&h.Image&&(new Image().src=v.v,b=!0),b||(v.g=Qu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),tt(v)}qu(d)}function gr(d){d.g&&(nl(d),d.g.cancel(),d.g=null)}function Vo(d){gr(d),d.u&&(h.clearTimeout(d.u),d.u=null),Lo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Or(d){if(!An(d.h)&&!d.s){d.s=!0;var v=d.Ga;ce||ue(),J||(ce(),J=!0),fe.add(v,d),d.B=0}}function mh(d,v){return Vu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=lr(_(d.Ga,d,v),Gu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new dr(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=T(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(W.H=Z,Z=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var j=this.i[b];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Js(this,W,v),b=kn(this.I),et(b,"RID",d),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),us(this,b),Z&&(this.O?v="headers="+encodeURIComponent(String(ls(Z)))+"&"+v:this.m&&Xs(b,this.m,Z)),Ya(this.h,W),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",v),et(b,"SID","null"),W.T=!0,Ao(W,b,null)):Ao(W,b,v),this.G=2}}else this.G==3&&(d?Fo(this,d):this.i.length==0||An(this.h)||Fo(this))};function Fo(d,v){var b;v?b=v.l:b=d.U++;const j=kn(d.I);et(j,"SID",d.K),et(j,"RID",b),et(j,"AID",d.T),us(d,j),d.m&&d.o&&Xs(j,d.m,d.o),b=new dr(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Js(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ya(d.h,b),Ao(b,j,v)}function us(d,v){d.H&&Q(d.H,function(b,j){et(v,j,b)}),d.l&&Ws({},function(b,j){et(v,j,b)})}function Js(d,v,b){b=Math.min(d.i.length,b);var j=d.l?_(d.l.Na,d.l,d):null;e:{var W=d.i;let Z=-1;for(;;){const de=["count="+b];Z==-1?0<b?(Z=W[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let Je=!0;for(let Nt=0;Nt<b;Nt++){let ze=W[Nt].g;const Mt=W[Nt].map;if(ze-=Z,0>ze)Z=Math.max(0,W[Nt].g-100),Je=!1;else try{zu(Mt,de,"req"+ze+"_")}catch(At){j&&j(Mt)}}if(Je){j=de.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,j}function Oi(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ce||ue(),J||(ce(),J=!0),fe.add(v,d),d.v=0}}function Mo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=lr(_(d.Fa,d),Gu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=lr(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),gr(this),Wu(this))};function nl(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Wu(d){d.g=new dr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=kn(d.qa);et(v,"RID","rpc"),et(v,"SID",d.K),et(v,"AID",d.T),et(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&et(v,"TO",d.ja),et(v,"TYPE","xmlhttp"),us(d,v),d.m&&d.o&&Xs(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Ks(kn(v)),b.m=null,b.P=!0,Ka(b,d)}t.Za=function(){this.C!=null&&(this.C=null,gr(this),Mo(this),Et(19))};function Lo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Oo(d,v){var b=null;if(d.g==v){Lo(d),nl(d),d.g=null;var j=2}else if(fn(d.h,v))b=v.D,Fu(d.h,v),j=1;else return;if(d.G!=0){if(v.o)if(j==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;j=ki(),xt(j,new Eo(j,b)),Or(d)}else Oi(d);else if(W=v.s,W==3||W==0&&0<v.X||!(j==1&&mh(d,v)||j==2&&Mo(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),W){case 1:cs(d,5);break;case 4:cs(d,10);break;case 3:cs(d,6);break;default:cs(d,2)}}}function Gu(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function cs(d,v){if(d.j.info("Error code "+v),v==2){var b=_(d.fb,d),j=d.Xa;const W=!j;j=new os(j||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Fi(j,"https"),Ks(j),W?hh(j.toString(),b):Uu(j.toString(),b)}else Et(2);d.G=0,d.l&&d.l.sa(v),qu(d),Vo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function qu(d){if(d.G=0,d.ka=[],d.l){const v=Mu(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ka,v),A(d.ka,d.i),d.h.i.length=0,R(d.i),d.i.length=0),d.l.ra()}}function Ku(d,v,b){var j=b instanceof os?kn(b):new os(b);if(j.g!="")v&&(j.g=v+"."+j.g),Gs(j,j.s);else{var W=h.location;j=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var Z=new os(null);j&&Fi(Z,j),v&&(Z.g=v),W&&Gs(Z,W),b&&(Z.l=b),j=Z}return b=d.D,v=d.ya,b&&v&&et(j,b,v),et(j,"VER",d.la),us(d,j),j}function Qu(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ut(new as({eb:b})):new ut(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}t=rl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bo(){}Bo.prototype.g=function(d,v){return new pn(d,v)};function pn(d,v){vt.call(this),this.g=new tl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!q(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!q(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Br(this)}I(pn,vt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ht(this.g)},pn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=$s(d),d=b);v.i.push(new Du(v.Ya++,d)),v.G==3&&Or(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,pn.aa.N.call(this)};function Yu(d){Dr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}I(Yu,Dr);function Xu(){So.call(this),this.status=1}I(Xu,So);function Br(d){this.g=d}I(Br,rl),Br.prototype.ua=function(){xt(this.g,"a")},Br.prototype.ta=function(d){xt(this.g,new Yu(d))},Br.prototype.sa=function(d){xt(this.g,new Xu)},Br.prototype.ra=function(){xt(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Gw=function(){return new Bo},Ww=function(){return ki()},Hw=Vr,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,sd=jo,Iu.COMPLETE="complete",zw=Iu,bo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Nl=bo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Uw=ut}).apply(typeof Gc!="undefined"?Gc:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Px="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Dw("@firebase/firestore");function kl(){return ho.logLevel}function we(t,...e){if(ho.logLevel<=Ge.DEBUG){const n=e.map(Rm);ho.debug(`Firestore (${Fa}): ${t}`,...n)}}function ks(t,...e){if(ho.logLevel<=Ge.ERROR){const n=e.map(Rm);ho.error(`Firestore (${Fa}): ${t}`,...n)}}function ba(t,...e){if(ho.logLevel<=Ge.WARN){const n=e.map(Rm);ho.warn(`Firestore (${Fa}): ${t}`,...n)}}function Rm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+t;throw ks(e),new Error(e)}function Ze(t,e){t||Ae()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Va{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let l=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Es)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new qw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new cn(e)}}class mA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ze(this.o===void 0);const r=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new yA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=xA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Sa(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ft(0,0))}static max(){return new Ie(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Jl{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Jl{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(l(),o++)}if(l(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}function _A(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new xi(o,be.empty(),e)}function bA(t){return new xi(t.readTime,t.key,-1)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(Ie.min(),be.empty(),-1)}static max(){return new xi(Ie.max(),be.empty(),-1)}}function SA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==EA)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,l=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++l,c&&l===o&&n()}),(p=>r(p)))})),c=!0,l===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next((g=>{c[m]=g,++h,h===l&&r(c)}),(g=>o(g)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function jA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nm.oe=-1;function Ld(t){return t==null}function yd(t){return t===0&&1/t==-1/0}function CA(t){return typeof t=="number"&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:Yt.RED,this.left=o!=null?o:Yt.EMPTY,this.right=l!=null?l:Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Yt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,o,l){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nx(this.data.getIterator())}getIteratorFrom(e){return new Nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class Nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new en(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Yw("Invalid base64 string: "+l):l}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const AA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=AA.exec(t);if(Ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fo(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dm(t){const e=t.mapValue.fields.__previous_value__;return Od(e)?Dm(e):e}function Zl(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,o,l,c,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc={mapValue:{}};function po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Od(t)?4:PA(t)?9007199254740991:IA(t)?10:11:Ae()}function Zr(t,e){if(t===e)return!0;const n=po(t);if(n!==po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=wi(o.timestampValue),h=wi(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return fo(o.bytesValue).isEqual(fo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Ct(o.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Ct(o.integerValue)===Ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Ct(o.doubleValue),h=Ct(l.doubleValue);return c===h?yd(c)===yd(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Rx(c)!==Rx(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Zr(c[p],h[p])))return!1;return!0})(t,e);default:return Ae()}}function tu(t,e){return(t.values||[]).find((n=>Zr(n,e)))!==void 0}function Ea(t,e){if(t===e)return 0;const n=po(t),r=po(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Ct(l.integerValue||l.doubleValue),p=Ct(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return Dx(t.timestampValue,e.timestampValue);case 4:return Dx(Zl(t),Zl(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=fo(l),p=fo(c);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const g=Qe(h[m],p[m]);if(g!==0)return g}return Qe(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Qe(Ct(l.latitude),Ct(c.latitude));return h!==0?h:Qe(Ct(l.longitude),Ct(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Vx(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var h,p,m,g;const w=l.fields||{},_=c.fields||{},E=(h=w.value)===null||h===void 0?void 0:h.arrayValue,I=(p=_.value)===null||p===void 0?void 0:p.arrayValue,R=Qe(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:Vx(E,I)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Kc.mapValue&&c===Kc.mapValue)return 0;if(l===Kc.mapValue)return 1;if(c===Kc.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let w=0;w<p.length&&w<g.length;++w){const _=Qe(p[w],g[w]);if(_!==0)return _;const E=Ea(h[p[w]],m[g[w]]);if(E!==0)return E}return Qe(p.length,g.length)})(t.mapValue,e.mapValue);default:throw Ae()}}function Dx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=wi(t),r=wi(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function Vx(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=Ea(n[o],r[o]);if(l)return l}return Qe(n.length,r.length)}function Ta(t){return Op(t)}function Op(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=Op(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Op(n.fields[c])}`;return o+"}"})(t.mapValue):Ae()}function vd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bp(t){return!!t&&"integerValue"in t}function Vm(t){return!!t&&"arrayValue"in t}function Fx(t){return!!t&&"nullValue"in t}function Mx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function IA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bl(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Jt.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=h.popLast()}c?r[h.lastSegment()]=Bl(c):o.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];id(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){vo(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new Cn(Bl(this.value))}}function Xw(t){const e=[];return vo(t.fields,((n,r)=>{const o=new Jt([n]);if(id(r)){const l=Xw(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,o,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,Ie.min(),Ie.min(),Ie.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,o){return new dn(e,1,n,Ie.min(),r,o,0)}static newNoDocument(e,n){return new dn(e,2,n,Ie.min(),Ie.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ie.min(),Ie.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.position=e,this.inclusive=n}}function Lx(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=be.comparator(be.fromName(c.referenceValue),n.key):r=Ea(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ox(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function RA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{}class Rt extends Jw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DA(e,n,r):n==="array-contains"?new MA(e,r):n==="in"?new LA(e,r):n==="not-in"?new OA(e,r):n==="array-contains-any"?new BA(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VA(e,r):new FA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ea(n,this.value)):n!==null&&po(this.value)===po(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends Jw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Cr(e,n)}matches(e){return Zw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zw(t){return t.op==="and"}function e_(t){return NA(t)&&Zw(t)}function NA(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function $p(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+Ta(t.value);if(e_(t))return t.filters.map((e=>$p(e))).join(",");{const e=t.filters.map((n=>$p(n))).join(",");return`${t.op}(${e})`}}function t_(t,e){return t instanceof Rt?(function(r,o){return o instanceof Rt&&r.op===o.op&&r.field.isEqual(o.field)&&Zr(r.value,o.value)})(t,e):t instanceof Cr?(function(r,o){return o instanceof Cr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,h)=>l&&t_(c,o.filters[h])),!0):!1})(t,e):void Ae()}function n_(t){return t instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ta(n.value)}`})(t):t instanceof Cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(n_).join(" ,")+"}"})(t):"Filter"}class DA extends Rt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class VA extends Rt{constructor(e,n){super(e,"in",n),this.keys=r_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FA extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=r_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function r_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>be.fromName(r.referenceValue)))}class MA extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&tu(n.arrayValue,this.value)}}class LA extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class OA extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}}class BA extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>tu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n=null,r=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function Bx(t,e=null,n=[],r=[],o=null,l=null,c=null){return new $A(t,e,n,r,o,l,c)}function Fm(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$p(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ta(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ta(r))).join(",")),e.ue=n}return e.ue}function Mm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ox(t.startAt,e.startAt)&&Ox(t.endAt,e.endAt)}function Up(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n=null,r=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UA(t,e,n,r,o,l,c,h){return new Ns(t,e,n,r,o,l,c,h)}function Lm(t){return new Ns(t)}function $x(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Om(t){return t.collectionGroup!==null}function wa(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new en(Jt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new nu(l,r))})),n.has(Jt.keyField().canonicalString())||e.ce.push(new nu(Jt.keyField(),r))}return e.ce}function Kr(t){const e=Pe(t);return e.le||(e.le=zA(e,wa(t))),e.le}function zA(t,e){if(t.limitType==="F")return Bx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new nu(o.field,l)}));const n=t.endAt?new ja(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ja(t.startAt.position,t.startAt.inclusive):null;return Bx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zp(t,e){const n=t.filters.concat([e]);return new Ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xd(t,e,n){return new Ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bd(t,e){return Mm(Kr(t),Kr(e))&&t.limitType===e.limitType}function s_(t){return`${Fm(Kr(t))}|lt:${t.limitType}`}function da(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>n_(o))).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Ta(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Ta(o))).join(",")),`Target(${r})`})(Kr(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):be.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of wa(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,p){const m=Lx(c,h,p);return c.inclusive?m<=0:m<0})(r.startAt,wa(r),o)||r.endAt&&!(function(c,h,p){const m=Lx(c,h,p);return c.inclusive?m>=0:m>0})(r.endAt,wa(r),o))})(t,e)}function HA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i_(t){return(e,n)=>{let r=!1;for(const o of wa(t)){const l=WA(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function WA(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?Ea(p,m):Ae()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new gt(be.comparator);function Is(){return GA}const o_=new gt(be.comparator);function Dl(...t){let e=o_;for(const n of t)e=e.insert(n.key,n);return e}function a_(t){let e=o_;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oo(){return $l()}function l_(){return $l()}function $l(){return new Ma((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qA=new gt(be.comparator),KA=new en(be.comparator);function Oe(...t){let e=KA;for(const n of t)e=e.add(n);return e}const QA=new en(Qe);function YA(){return QA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function u_(t){return{integerValue:""+t}}function XA(t,e){return CA(e)?u_(e):Bm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function JA(t,e,n){return t instanceof ru?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Od(l)&&(l=Dm(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof su?d_(t,e):t instanceof iu?h_(t,e):(function(o,l){const c=c_(o,l),h=Ux(c)+Ux(o.Pe);return Bp(c)&&Bp(o.Pe)?u_(h):Bm(o.serializer,h)})(t,e)}function ZA(t,e,n){return t instanceof su?d_(t,e):t instanceof iu?h_(t,e):n}function c_(t,e){return t instanceof wd?(function(r){return Bp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class ru extends Ud{}class su extends Ud{constructor(e){super(),this.elements=e}}function d_(t,e){const n=f_(e);for(const r of t.elements)n.some((o=>Zr(o,r)))||n.push(r);return{arrayValue:{values:n}}}class iu extends Ud{constructor(e){super(),this.elements=e}}function h_(t,e){let n=f_(e);for(const r of t.elements)n=n.filter((o=>!Zr(o,r)));return{arrayValue:{values:n}}}class wd extends Ud{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ux(t){return Ct(t.integerValue||t.doubleValue)}function f_(t){return Vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.field=e,this.transform=n}}function tk(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof su&&o instanceof su||r instanceof iu&&o instanceof iu?Sa(r.elements,o.elements,Zr):r instanceof wd&&o instanceof wd?Zr(r.Pe,o.Pe):r instanceof ru&&o instanceof ru})(t.transform,e.transform)}class nk{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zd{}function p_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $m(t.key,jr.none()):new yu(t.key,t.data,jr.none());{const n=t.data,r=Cn.empty();let o=new en(Jt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new Ei(t.key,r,new Mn(o.toArray()),jr.none())}}function rk(t,e,n){t instanceof yu?(function(o,l,c){const h=o.value.clone(),p=Hx(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ei?(function(o,l,c){if(!od(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=Hx(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(m_(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ul(t,e,n,r){return t instanceof yu?(function(l,c,h,p){if(!od(l.precondition,c))return h;const m=l.value.clone(),g=Wx(l.fieldTransforms,p,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ei?(function(l,c,h,p){if(!od(l.precondition,c))return h;const m=Wx(l.fieldTransforms,p,c),g=c.data;return g.setAll(m_(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(t,e,n,r):(function(l,c,h){return od(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function sk(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=c_(r.transform,o||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,l))}return n||null}function zx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Sa(r,o,((l,c)=>tk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends zd{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ei extends zd{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function m_(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Hx(t,e,n){const r=new Map;Ze(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,h=e.data.field(l.field);r.set(l.field,ZA(c,h,n[o]))}return r}function Wx(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,JA(l,c,e))}return r}class $m extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ik extends zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rk(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=l_();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(o.key)?null:h;const p=p_(c,h);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,((n,r)=>zx(n,r)))&&Sa(this.baseMutations,e.baseMutations,((n,r)=>zx(n,r)))}}class Um{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ze(e.mutations.length===r.length);let o=(function(){return qA})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new Um(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,He;function uk(t){switch(t){default:return Ae();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function g_(t){if(t===void 0)return ks("GRPC error has no .code"),te.UNKNOWN;switch(t){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return Ae()}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new uo([4294967295,4294967295],0);function Gx(t){const e=ck().encode(t),n=new $w;return n.update(e),new Uint8Array(n.digest())}function qx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new uo([n,r],0),new uo([o,l],0)]}class zm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=uo.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(uo.fromNumber(r)));return o.compare(dk)===1&&(o=new uo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gx(e),[r,o]=qx(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new zm(l,o,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const n=Gx(e),[r,o]=qx(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd(Ie.min(),o,new gt(Qe),Is(),Oe())}}class vu{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class y_{constructor(e,n){this.targetId=e,this.me=n}}class v_{constructor(e,n,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Kx{constructor(){this.fe=0,this.ge=Yx(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae()}})),new vu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Yx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Is(),this.qe=Qx(),this.Qe=new gt(Qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ae()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(Up(l))if(r===0){const c=new be(l.path);this.Ue(n,c,dn.newNoDocument(c,Ie.min()))}else Ze(r===1);else{const c=this.Ye(n);if(c!==r){const h=this.Ze(e),p=h?this.Xe(h,e,c):1;if(p!==0){this.je(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,h;try{c=fo(r).toUint8Array()}catch(p){if(p instanceof Yw)return ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new zm(c,o,l)}catch(p){return ba(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const h=this.Je(c);if(h){if(l.current&&Up(h.target)){const p=new be(h.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,dn.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Oe();this.qe.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Hd(e,n,this.Qe,this.ke,r);return this.ke=Is(),this.qe=Qx(),this.Qe=new gt(Qe),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(Qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kx),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qx(){return new gt(be.comparator)}function Yx(){return new gt(be.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class gk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hp(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function _d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yk(t,e){return _d(t,e.toTimestamp())}function Qr(t){return Ze(!!t),Ie.fromTimestamp((function(n){const r=wi(n);return new Ft(r.seconds,r.nanos)})(t))}function Hm(t,e){return Wp(t,e).canonicalString()}function Wp(t,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function w_(t){const e=at.fromString(t);return Ze(T_(e)),e}function Gp(t,e){return Hm(t.databaseId,e.path)}function Kf(t,e){const n=w_(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(b_(n))}function __(t,e){return Hm(t.databaseId,e)}function vk(t){const e=w_(t);return e.length===4?at.emptyPath():b_(e)}function qp(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b_(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xx(t,e,n){return{name:Gp(t,e),fields:n.value.mapValue.fields}}function xk(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(Ze(g===void 0||typeof g=="string"),tn.fromBase64String(g||"")):(Ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array),tn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?te.UNKNOWN:g_(m.code);return new he(g,m.message||"")})(c);n=new v_(r,o,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kf(t,r.document.name),l=Qr(r.document.updateTime),c=r.document.createTime?Qr(r.document.createTime):Ie.min(),h=new Cn({mapValue:{fields:r.document.fields}}),p=dn.newFoundDocument(o,l,c,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new ad(m,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Kf(t,r.document),l=r.readTime?Qr(r.readTime):Ie.min(),c=dn.newNoDocument(o,l),h=r.removedTargetIds||[];n=new ad([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Kf(t,r.document),l=r.removedTargetIds||[];n=new ad([],l,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new lk(o,l),h=r.targetId;n=new y_(h,c)}}return n}function wk(t,e){let n;if(e instanceof yu)n={update:Xx(t,e.key,e.value)};else if(e instanceof $m)n={delete:Gp(t,e.key)};else if(e instanceof Ei)n={update:Xx(t,e.key,e.data),updateMask:kk(e.fieldMask)};else{if(!(e instanceof ik))return Ae();n={verify:Gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof ru)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wd)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ae()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:yk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()})(t,e.precondition)),n}function _k(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?Qr(o.updateTime):Qr(l);return c.isEqual(Ie.min())&&(c=Qr(l)),new nk(c,o.transformResults||[])})(n,e)))):[]}function bk(t,e){return{documents:[__(t,e.path)]}}function Sk(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=__(t,o);const l=(function(m){if(m.length!==0)return E_(Cr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:ha(_.field),direction:jk(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Hp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:o}}function Ek(t){let e=vk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ze(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(w){const _=S_(w);return _ instanceof Cr&&e_(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((_=>(function(I){return new nu(fa(I.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(w){let _;return _=typeof w=="object"?w.value:w,Ld(_)?null:_})(n.limit));let p=null;n.startAt&&(p=(function(w){const _=!!w.before,E=w.values||[];return new ja(E,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const _=!w.before,E=w.values||[];return new ja(E,_)})(n.endAt)),UA(e,o,c,l,h,"F",p,m)}function Tk(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=fa(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fa(n.unaryFilter.field);return Rt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fa(n.unaryFilter.field);return Rt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}})(t):t.fieldFilter!==void 0?(function(n){return Rt.create(fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Cr.create(n.compositeFilter.filters.map((r=>S_(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}})(n.compositeFilter.op))})(t):Ae()}function jk(t){return fk[t]}function Ck(t){return pk[t]}function Ak(t){return mk[t]}function ha(t){return{fieldPath:t.canonicalString()}}function fa(t){return Jt.fromServerFormat(t.fieldPath)}function E_(t){return t instanceof Rt?(function(n){if(n.op==="=="){if(Mx(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NAN"}};if(Fx(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mx(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NAN"}};if(Fx(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(n.field),op:Ck(n.op),value:n.value}}})(t):t instanceof Cr?(function(n){const r=n.getFilters().map((o=>E_(o)));return r.length===1?r[0]:{compositeFilter:{op:Ak(n.op),filters:r}}})(t):Ae()}function kk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function T_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r,o,l=Ie.min(),c=Ie.min(),h=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.ct=e}}function Pk(t){const e=Ek({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.un=new Nk}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(xi.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Nk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new en(at.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ca(0)}static kn(){return new Ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.changes=new Ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ul(r.mutation,o,Mn.empty(),Ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Oe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Oe()){const o=oo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=Dl();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=oo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Oe())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,o){let l=Is();const c=$l(),h=(function(){return $l()})();return n.forEach(((p,m)=>{const g=r.get(m.key);o.has(m.key)&&(g===void 0||g.mutation instanceof Ei)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Ul(g.mutation,m,g.mutation.getFieldMask(),Ft.now())):c.set(m.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>{var w;return h.set(m,new Vk(g,(w=c.get(m))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,n){const r=$l();let o=new gt(((c,h)=>c-h)),l=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let g=r.get(p)||Mn.empty();g=h.applyToLocalView(m,g),r.set(p,g);const w=(o.get(h.batchId)||Oe()).add(p);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,g=p.value,w=l_();g.forEach((_=>{if(!l.has(_)){const E=p_(n.get(_),r.get(_));E!==null&&w.set(_,E),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Om(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):oe.resolve(oo());let h=-1,p=l;return c.next((m=>oe.forEach(m,((g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{p=p.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Oe()))).next((g=>({batchId:h,changes:a_(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=Dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=Dl();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(p=>{const m=(function(w,_){return new Ns(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((g=>{g.forEach(((w,_)=>{c=c.insert(w,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((p,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,dn.newInvalidDocument(g)))}));let h=Dl();return c.forEach(((p,m)=>{const g=l.get(p);g!==void 0&&Ul(g.mutation,m,Mn.empty(),Ft.now()),$d(n,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qr(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:Pk(o.bundledQuery),readTime:Qr(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.overlays=new gt(be.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oo();return oe.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=oo(),l=n.length+1,c=new be(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new gt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=oo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=oo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=o)););return oe.resolve(h)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ak(n,r));let l=this.Ir.get(n);l===void 0&&(l=Oe(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Tr=new en($t.Er),this.dr=new en($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new $t(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new be(new at([])),r=new $t(n,e),o=new $t(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new at([])),r=new $t(n,e),o=new $t(n,e+1);let l=Oe();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||Qe(e.wr,n.wr)}static Ar(e,n){return Qe(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en($t.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ok(l,n,r,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new $t(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const h=this.Dr(c.wr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Qe);return n.forEach((o=>{const l=new $t(o,0),c=new $t(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(h=>{r=r.add(h.wr)}))})),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;be.isDocumentKey(l)||(l=l.child(""));const c=new $t(new be(l),0);let h=new en(Qe);return this.br.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.wr)),!0)}),c),oe.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,(o=>{const l=new $t(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new $t(n,0),o=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.Mr=e,this.docs=(function(){return new gt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Is();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=Is();const c=n.path,h=new be(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:g}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||SA(bA(g),r)<=0||(o.has(g.key)||$d(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Ae()}Or(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Uk(this)}getSize(e){return oe.resolve(this.size)}}class Uk extends Dk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.persistence=e,this.Nr=new Ma((n=>Fm(n)),Mm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wm,this.targetCount=0,this.kr=Ca.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),oe.waitFor(l).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nm(0),this.Kr=!1,this.Kr=!0,this.$r=new Ok,this.referenceDelegate=e(this),this.Ur=new zk(this),this.indexManager=new Rk,this.remoteDocumentCache=(function(o){return new $k(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Ik(n),this.Gr=new Mk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Bk(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const o=new Wk(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return oe.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class Wk extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Jr=new Wm,this.Yr=null}static Zr(e){return new Gm(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,(r=>{const o=be.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Oe(),o=Oe();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new qm(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Yj()?8:jA(Kj())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Gk;return this.Xi(e,n,c).next((h=>{if(l.result=h,this.zi)return this.es(e,n,c,h.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(kl()<=Ge.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(kl()<=Ge.DEBUG&&we("QueryEngine","Query:",da(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(kl()<=Ge.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):oe.resolve())}Yi(e,n){if($x(n))return oe.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xd(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Oe(...l);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.ts(n,h);return this.ns(n,m,c,p.readTime)?this.Yi(e,xd(n,null,"F")):this.rs(e,m,n,p)}))))})))))}Zi(e,n,r,o){return $x(n)||o.isEqual(Ie.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?oe.resolve(null):(kl()<=Ge.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),da(n)),this.rs(e,c,n,_A(o,-1)).next((h=>h)))}))}ts(e,n){let r=new en(i_(e));return n.forEach(((o,l)=>{$d(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return kl()<=Ge.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",da(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new gt(Qe),this._s=new Ma((l=>Fm(l)),Mm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function Qk(t,e,n,r){return new Kk(t,e,n,r)}async function j_(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let p=Oe();for(const m of o){c.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}return n.localDocuments.getDocuments(r,p).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Yk(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,g){const w=m.batch,_=w.keys();let E=oe.resolve();return _.forEach((I=>{E=E.next((()=>g.getEntry(p,I))).next((R=>{const A=m.docVersions.get(I);Ze(A!==null),R.version.compareTo(A)<0&&(w.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),g.addEntry(R)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(p,w)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=Oe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function C_(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function Xk(t,e){const n=Pe(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];e.targetChanges.forEach(((g,w)=>{const _=o.get(w);if(!_)return;h.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,w))));let E=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?E=E.withResumeToken(tn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),o=o.insert(w,E),(function(R,A,$){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(_,E,g)&&h.push(n.Ur.updateTargetData(l,E))}));let p=Is(),m=Oe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(Jk(l,c,e.documentUpdates).next((g=>{p=g.Ps,m=g.Is}))),!r.isEqual(Ie.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(g)}return oe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.os=o,l)))}function Jk(t,e,n){let r=Oe(),o=Oe();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Is();return n.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):we("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function Zk(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eI(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,oe.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new gi(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Kp(t,e,n){const r=Pe(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!gu(c))throw c;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function Jx(t,e,n){const r=Pe(t);let o=Ie.min(),l=Oe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,g){const w=Pe(p),_=w._s.get(g);return _!==void 0?oe.resolve(w.os.get(_)):w.Ur.getTargetData(m,g)})(r,c,Kr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:Ie.min(),n?l:Oe()))).next((h=>(tI(r,HA(e),h),{documents:h,Ts:l})))))}function tI(t,e,n){let r=t.us.get(e)||Ie.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class Zx{constructor(){this.activeTargetIds=YA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nI{constructor(){this.so=new Zx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Zx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Qf(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class oI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const h=Qf(),p=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${h}:`,p,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,l,c),this.No(n,p,m,o).then((g=>(we("RestConnection",`Received RPC '${n}' ${h}: `,g),g)),(g=>{throw ba("RestConnection",`RPC '${n}' ${h} failed with error: `,g,"url: ",p,"request:",o),g}))}Lo(n,r,o,l,c,h){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fa})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=sI[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=Qf();return new Promise(((c,h)=>{const p=new Uw;p.setWithCredentials(!0),p.listenOnce(zw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case sd.NO_ERROR:const g=p.getResponseJson();we(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case sd.TIMEOUT:we(ln,`RPC '${e}' ${l} timed out`),h(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const w=p.getStatus();if(we(ln,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const I=(function(A){const $=A.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN})(E.status);h(new he(I,E.message))}else h(new he(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{we(ln,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(o);we(ln,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",m,r,15)}))}Bo(e,n,r){const o=Qf(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Gw(),h=Ww(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const g=l.join("");we(ln,`Creating RPC '${e}' stream ${o}: ${g}`,p);const w=c.createWebChannel(g,p);let _=!1,E=!1;const I=new iI({Io:A=>{E?we(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(_||(we(ln,`Opening RPC '${e}' stream ${o} transport.`),w.open(),_=!0),we(ln,`RPC '${e}' stream ${o} sending:`,A),w.send(A))},To:()=>w.close()}),R=(A,$,q)=>{A.listen($,(F=>{try{q(F)}catch(K){setTimeout((()=>{throw K}),0)}}))};return R(w,Nl.EventType.OPEN,(()=>{E||(we(ln,`RPC '${e}' stream ${o} transport opened.`),I.yo())})),R(w,Nl.EventType.CLOSE,(()=>{E||(E=!0,we(ln,`RPC '${e}' stream ${o} transport closed`),I.So())})),R(w,Nl.EventType.ERROR,(A=>{E||(E=!0,ba(ln,`RPC '${e}' stream ${o} transport errored:`,A),I.So(new he(te.UNAVAILABLE,"The operation could not be completed")))})),R(w,Nl.EventType.MESSAGE,(A=>{var $;if(!E){const q=A.data[0];Ze(!!q);const F=q,K=F.error||(($=F[0])===null||$===void 0?void 0:$.error);if(K){we(ln,`RPC '${e}' stream ${o} received error:`,K);const B=K.status;let Q=(function(k){const V=It[k];if(V!==void 0)return g_(V)})(B),C=K.message;Q===void 0&&(Q=te.INTERNAL,C="Unknown error status: "+B+" with message "+K.message),E=!0,I.So(new he(Q,C)),w.close()}else we(ln,`RPC '${e}' stream ${o} received:`,q),I.bo(q)}})),R(h,Hw.STAT_EVENT,(A=>{A.stat===Lp.PROXY?we(ln,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Lp.NOPROXY&&we(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function Yf(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new gk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,r,o,l,c,h,p){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new A_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ks(n.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aI extends k_{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xk(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?Qr(c.readTime):Ie.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=qp(this.serializer),n.addTarget=(function(l,c){let h;const p=c.target;if(h=Up(p)?{documents:bk(l,p)}:{query:Sk(l,p)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=x_(l,c.resumeToken);const m=Hp(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ie.min())>0){h.readTime=_d(l,c.snapshotVersion.toTimestamp());const m=Hp(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=Tk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=qp(this.serializer),n.removeTarget=e,this.a_(n)}}class lI extends k_{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_k(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=qp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wk(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,Wp(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,Wp(n,r),o,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class cI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ks(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{xo(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const m=Pe(p);m.L_.add(4),await xu(m),m.q_.set("Unknown"),m.L_.delete(4),await Gd(m)})(this))}))})),this.q_=new cI(r,o)}}async function Gd(t){if(xo(t))for(const e of t.B_)await e(!0)}async function xu(t){for(const e of t.B_)await e(!1)}function I_(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Xm(n)?Ym(n):La(n).r_()&&Qm(n,e))}function Km(t,e){const n=Pe(t),r=La(n);n.N_.delete(e),r.r_()&&P_(n,e),n.N_.size===0&&(r.r_()?r.o_():xo(n)&&n.q_.set("Unknown"))}function Qm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).A_(e)}function P_(t,e){t.Q_.xe(e),La(t).R_(e)}function Ym(t){t.Q_=new hk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),La(t).start(),t.q_.v_()}function Xm(t){return xo(t)&&!La(t).n_()&&t.N_.size>0}function xo(t){return Pe(t).L_.size===0}function R_(t){t.Q_=void 0}async function hI(t){t.q_.set("Online")}async function fI(t){t.N_.forEach(((e,n)=>{Qm(t,e)}))}async function pI(t,e){R_(t),Xm(t)?(t.q_.M_(e),Ym(t)):t.q_.set("Unknown")}async function mI(t,e,n){if(t.q_.set("Online"),e instanceof v_&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const h of l.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bd(t,r)}else if(e instanceof ad?t.Q_.Ke(e):e instanceof y_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const r=await C_(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const h=l.Q_.rt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=l.N_.get(m);g&&l.N_.set(m,g.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const g=l.N_.get(p);if(!g)return;l.N_.set(p,g.withResumeToken(tn.EMPTY_BYTE_STRING,g.snapshotVersion)),P_(l,p);const w=new gi(g.target,p,m,g.sequenceNumber);Qm(l,w)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await bd(t,r)}}async function bd(t,e,n){if(!gu(e))throw e;t.L_.add(1),await xu(t),t.q_.set("Offline"),n||(n=()=>C_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gd(t)}))}function N_(t,e){return e().catch((n=>bd(t,n,e)))}async function qd(t){const e=Pe(t),n=_i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gI(e);)try{const o=await Zk(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,yI(e,o)}catch(o){await bd(e,o)}D_(e)&&V_(e)}function gI(t){return xo(t)&&t.O_.length<10}function yI(t,e){t.O_.push(e);const n=_i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function D_(t){return xo(t)&&!_i(t).n_()&&t.O_.length>0}function V_(t){_i(t).start()}async function vI(t){_i(t).p_()}async function xI(t){const e=_i(t);for(const n of t.O_)e.m_(n.mutations)}async function wI(t,e,n){const r=t.O_.shift(),o=Um.from(r,e,n);await N_(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await qd(t)}async function _I(t,e){e&&_i(t).V_&&await(async function(r,o){if((function(c){return uk(c)&&c!==te.ABORTED})(o.code)){const l=r.O_.shift();_i(r).s_(),await N_(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await qd(r)}})(t,e),D_(t)&&V_(t)}async function t0(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=xo(n);n.L_.add(3),await xu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gd(n)}async function bI(t,e){const n=Pe(t);e?(n.L_.delete(2),await Gd(n)):e||(n.L_.add(2),await xu(n),n.q_.set("Unknown"))}function La(t){return t.K_||(t.K_=(function(n,r,o){const l=Pe(n);return l.w_(),new aI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:hI.bind(null,t),Ro:fI.bind(null,t),mo:pI.bind(null,t),d_:mI.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Xm(t)?Ym(t):t.q_.set("Unknown")):(await t.K_.stop(),R_(t))}))),t.K_}function _i(t){return t.U_||(t.U_=(function(n,r,o){const l=Pe(n);return l.w_(),new lI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vI.bind(null,t),mo:_I.bind(null,t),f_:xI.bind(null,t),g_:wI.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await qd(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,h=new Jm(e,n,c,o,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(t,e){if(ks("AsyncQueue",`${e}: ${t}`),gu(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.W_=new gt(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Aa{constructor(e,n,r,o,l,c,h,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Aa(e,n,_a.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class EI{constructor(){this.queries=r0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Pe(n),l=o.queries;o.queries=r0(),l.forEach(((c,h)=>{for(const p of h.j_)p.onError(r)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function r0(){return new Ma((t=>s_(t)),Bd)}async function F_(t,e){const n=Pe(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new SI,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=Zm(c,`Initialization of query '${da(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&eg(n)}async function M_(t,e){const n=Pe(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TI(t,e){const n=Pe(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const h of c.j_)h.X_(o)&&(r=!0);c.z_=o}}r&&eg(n)}function jI(t,e,n){const r=Pe(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function eg(t){t.Y_.forEach((e=>{e.next()}))}var Qp,s0;(s0=Qp||(Qp={})).ea="default",s0.Cache="cache";class L_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.key=e}}class B_{constructor(e){this.key=e}}class CI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=i_(e),this.Ra=new _a(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new n0,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,w)=>{const _=o.get(g),E=$d(this.query,w)?w:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;_&&E?_.data.isEqual(E.data)?I!==R&&(r.track({type:3,doc:E}),A=!0):this.ga(_,E)||(r.track({type:2,doc:E}),A=!0,(p&&this.Aa(E,p)>0||m&&this.Aa(E,m)<0)&&(h=!0)):!_&&E?(r.track({type:0,doc:E}),A=!0):_&&!E&&(r.track({type:1,doc:_}),A=!0,(p||m)&&(h=!0)),A&&(E?(c=c.add(E),l=R?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:h,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,w)=>(function(E,I){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return R(E)-R(I)})(g.type,w.type)||this.Aa(g.doc,w.doc))),this.pa(r),o=o!=null&&o;const h=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,m=p!==this.Ea;return this.Ea=p,c.length!==0||m?{snapshot:new Aa(this.query,e.Ra,l,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new n0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new B_(r))})),this.da.forEach((r=>{e.has(r)||n.push(new O_(r))})),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Aa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class AI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kI{constructor(e){this.key=e,this.va=!1}}class II{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Ma((h=>s_(h)),Bd),this.Ma=new Map,this.xa=new Set,this.Oa=new gt(be.comparator),this.Na=new Map,this.La=new Wm,this.Ba={},this.ka=new Map,this.qa=Ca.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PI(t,e,n=!0){const r=G_(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await $_(r,e,n,!0),o}async function RI(t,e){const n=G_(t);await $_(n,e,!0,!1)}async function $_(t,e,n,r){const o=await eI(t.localStore,Kr(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await NI(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&I_(t.remoteStore,o),h}async function NI(t,e,n,r,o){t.Ka=(w,_,E)=>(async function(R,A,$,q){let F=A.view.ma($);F.ns&&(F=await Jx(R.localStore,A.query,!1).then((({documents:C})=>A.view.ma(C,F))));const K=q&&q.targetChanges.get(A.targetId),B=q&&q.targetMismatches.get(A.targetId)!=null,Q=A.view.applyChanges(F,R.isPrimaryClient,K,B);return o0(R,A.targetId,Q.wa),Q.snapshot})(t,w,_,E);const l=await Jx(t.localStore,e,!0),c=new CI(e,l.Ts),h=c.ma(l.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),m=c.applyChanges(h,t.isPrimaryClient,p);o0(t,n,m.wa);const g=new AI(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function DI(t,e,n){const r=Pe(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!Bd(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Kp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Km(r.remoteStore,o.targetId),Yp(r,o.targetId)})).catch(mu)):(Yp(r,o.targetId),await Kp(r.localStore,o.targetId,!0))}async function VI(t,e){const n=Pe(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Km(n.remoteStore,r.targetId))}async function FI(t,e,n){const r=zI(t);try{const o=await(function(c,h){const p=Pe(c),m=Ft.now(),g=h.reduce(((E,I)=>E.add(I.key)),Oe());let w,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Is(),R=Oe();return p.cs.getEntries(E,g).next((A=>{I=A,I.forEach((($,q)=>{q.isValidDocument()||(R=R.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(E,I))).next((A=>{w=A;const $=[];for(const q of h){const F=sk(q,w.get(q.key).overlayedDocument);F!=null&&$.push(new Ei(q.key,F,Xw(F.value.mapValue),jr.exists(!0)))}return p.mutationQueue.addMutationBatch(E,m,$,h)})).next((A=>{_=A;const $=A.applyToLocalDocumentSet(w,R);return p.documentOverlayCache.saveOverlays(E,A.batchId,$)}))})).then((()=>({batchId:_.batchId,changes:a_(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let m=c.Ba[c.currentUser.toKey()];m||(m=new gt(Qe)),m=m.insert(h,p),c.Ba[c.currentUser.toKey()]=m})(r,o.batchId,n),await wu(r,o.changes),await qd(r.remoteStore)}catch(o){const l=Zm(o,"Failed to persist write");n.reject(l)}}async function U_(t,e){const n=Pe(t);try{const r=await Xk(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Ze(c.va):o.removedDocuments.size>0&&(Ze(c.va),c.va=!1))})),await wu(n,r,e)}catch(r){await mu(r)}}function i0(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Pe(c);p.onlineState=h;let m=!1;p.queries.forEach(((g,w)=>{for(const _ of w.j_)_.Z_(h)&&(m=!0)})),m&&eg(p)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MI(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new gt(be.comparator);c=c.insert(l,dn.newNoDocument(l,Ie.min()));const h=Oe().add(l),p=new Hd(Ie.min(),new Map,new gt(Qe),c,h);await U_(r,p),r.Oa=r.Oa.remove(l),r.Na.delete(e),tg(r)}else await Kp(r.localStore,e,!1).then((()=>Yp(r,e,n))).catch(mu)}async function LI(t,e){const n=Pe(t),r=e.batch.batchId;try{const o=await Yk(n.localStore,e);H_(n,r,null),z_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,o)}catch(o){await mu(o)}}async function OI(t,e,n){const r=Pe(t);try{const o=await(function(c,h){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return p.mutationQueue.lookupMutationBatch(m,h).next((w=>(Ze(w!==null),g=w.keys(),p.mutationQueue.removeMutationBatch(m,w)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>p.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);H_(r,e,n),z_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,o)}catch(o){await mu(o)}}function z_(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function H_(t,e,n){const r=Pe(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Yp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||W_(t,r)}))}function W_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Km(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),tg(t))}function o0(t,e,n){for(const r of n)r instanceof O_?(t.La.addReference(r.key,e),BI(t,r)):r instanceof B_?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||W_(t,r.key)):Ae()}function BI(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),tg(t))}function tg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(at.fromString(e)),r=t.qa.next();t.Na.set(r,new kI(n)),t.Oa=t.Oa.insert(n,r),I_(t.remoteStore,new gi(Kr(Lm(n.path)),r,"TargetPurposeLimboResolution",Nm.oe))}}async function wu(t,e,n){const r=Pe(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((h,p)=>{c.push(r.Ka(p,e,n).then((m=>{var g;if((m||n)&&r.isPrimaryClient){const w=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(p.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=qm.Wi(p.targetId,m);l.push(w)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(p,m){const g=Pe(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(m,(_=>oe.forEach(_.$i,(E=>g.persistence.referenceDelegate.addReference(w,_.targetId,E))).next((()=>oe.forEach(_.Ui,(E=>g.persistence.referenceDelegate.removeReference(w,_.targetId,E)))))))))}catch(w){if(!gu(w))throw w;we("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const _=w.targetId;if(!w.fromCache){const E=g.os.get(_),I=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(I);g.os=g.os.insert(_,R)}}})(r.localStore,l))}async function $I(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await j_(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((h=>{h.forEach((p=>{p.reject(new he(te.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.hs)}}function UI(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let o=Oe();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const h=n.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function G_(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MI.bind(null,e),e.Ca.d_=TI.bind(null,e.eventManager),e.Ca.$a=jI.bind(null,e.eventManager),e}function zI(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OI.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Qk(this.persistence,new qk,e.initialUser,this.serializer)}Ga(e){return new Hk(Gm.Zr,this.serializer)}Wa(e){return new nI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class Xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$I.bind(null,this.syncEngine),await bI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EI})()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),r=(function(l){return new oI(l)})(e.databaseInfo);return(function(l,c,h,p){return new uI(l,c,h,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,h){return new dI(r,o,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>i0(this.syncEngine,n,0)),(function(){return e0.D()?new e0:new rI})())}createSyncEngine(e,n){return(function(o,l,c,h,p,m,g){const w=new II(o,l,c,h,p,m);return g&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Pe(o);we("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await xu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{we("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(we("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xf(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await j_(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function a0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WI(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>t0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>t0(e.remoteStore,o))),t._onlineComponents=e}async function WI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),await Xf(t,new Sd)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Xf(t,new Sd);return t._offlineComponents}async function K_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await a0(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await a0(t,new Xp))),t._onlineComponents}function GI(t){return K_(t).then((e=>e.syncEngine))}async function Q_(t){const e=await K_(t),n=e.eventManager;return n.onListen=PI.bind(null,e.syncEngine),n.onUnlisten=DI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VI.bind(null,e.syncEngine),n}function qI(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const g=new q_({next:_=>{g.Za(),c.enqueueAndForget((()=>M_(l,w)));const E=_.docs.has(h);!E&&_.fromCache?m.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&p&&p.source==="server"?m.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),w=new L_(Lm(h.path),g,{includeMetadataChanges:!0,_a:!0});return F_(l,w)})(await Q_(t),t.asyncQueue,e,n,r))),r.promise}function KI(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const g=new q_({next:_=>{g.Za(),c.enqueueAndForget((()=>M_(l,w))),_.fromCache&&p.source==="server"?m.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),w=new L_(h,g,{includeMetadataChanges:!0,_a:!0});return F_(l,w)})(await Q_(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QI(t,e,n,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u0(t){if(!be.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function mo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kd(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YI(t,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hA;switch(r.type){case"firstParty":return new gA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=l0.get(n);r&&(we("ComponentProvider","Removing Datastore"),l0.delete(n),r.terminate())})(this),Promise.resolve()}}function XI(t,e,n,r={}){var o;const l=(t=mo(t,Qd))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=cn.MOCK_USER;else{h=qj(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new cn(m)}t._authCredentials=new fA(new qw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ir(this.firestore,e,this._query)}}class sr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class ou extends Ir{constructor(e,n,r){super(e,n,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new be(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function JI(t,e){if(t=mo(t,Qd),X_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ir(t,null,(function(r){return new Ns(at.emptyPath(),r)})(e))}function bs(t,e,...n){if(t=Jr(t),arguments.length===1&&(e=Kw.newId()),X_("doc","path",e),t instanceof Qd){const r=at.fromString(e,...n);return u0(r),new sr(t,null,new be(r))}{if(!(t instanceof sr||t instanceof ou))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return u0(r),new sr(t.firestore,t instanceof ou?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new A_(this,"async_queue_retry"),this.Vu=()=>{const r=Yf();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Es;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gu(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(r);throw ks("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=Jm.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yd extends Qd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new d0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d0(e),this._firestoreClient=void 0,await e}}}function ZI(t,e){const n=typeof t=="object"?t:Lw(),r=typeof t=="string"?t:"(default)",o=JC(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=Wj("firestore");l&&XI(o,...l)}return o}function Xd(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eP(t),t._firestoreClient}function eP(t){var e,n,r;const o=t._freezeSettings(),l=(function(h,p,m,g){return new kA(h,p,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Y_(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new HI(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(tn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ka(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=/^__.*__$/;class nP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class J_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Z_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class sg{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ed(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Z_(this.Cu)&&tP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wd(e)}Qu(e,n,r,o=!1){return new sg({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new rP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sP(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);ag("Data must be an object, but it was:",c,r);const h=tb(r,c);let p,m;if(l.merge)p=new Mn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const w of l.mergeFields){const _=Jp(e,w,n);if(!c.contains(_))throw new he(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);rb(g,_)||g.push(_)}p=new Mn(g),m=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,m=c.fieldTransforms;return new nP(new Cn(h),p,m)}class eh extends Zd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}class og extends Zd{_toFieldTransform(e){return new ek(e.path,new ru)}isEqual(e){return e instanceof og}}function iP(t,e,n,r){const o=t.Qu(1,e,n);ag("Data must be an object, but it was:",o,r);const l=[],c=Cn.empty();vo(r,((p,m)=>{const g=lg(e,p,n);m=Jr(m);const w=o.Nu(g);if(m instanceof eh)l.push(g);else{const _=_u(m,w);_!=null&&(l.push(g),c.set(g,_))}}));const h=new Mn(l);return new J_(c,h,o.fieldTransforms)}function oP(t,e,n,r,o,l){const c=t.Qu(1,e,n),h=[Jp(e,r,n)],p=[o];if(l.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(Jp(e,l[_])),p.push(l[_+1]);const m=[],g=Cn.empty();for(let _=h.length-1;_>=0;--_)if(!rb(m,h[_])){const E=h[_];let I=p[_];I=Jr(I);const R=c.Nu(E);if(I instanceof eh)m.push(E);else{const A=_u(I,R);A!=null&&(m.push(E),g.set(E,A))}}const w=new Mn(m);return new J_(g,w,c.fieldTransforms)}function eb(t,e,n,r=!1){return _u(n,t.Qu(r?4:3,e))}function _u(t,e){if(nb(t=Jr(t)))return ag("Unsupported field value:",e,t),tb(t,e);if(t instanceof Zd)return(function(r,o){if(!Z_(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const h of r){let p=_u(h,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ft.fromDate(r);return{timestampValue:_d(o.serializer,l)}}if(r instanceof Ft){const l=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(o.serializer,l)}}if(r instanceof ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ka)return{bytesValue:x_(o.serializer,r._byteString)};if(r instanceof sr){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof rg)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return Bm(h.serializer,p)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${Kd(r)}`)})(t,e)}function tb(t,e){const n={};return Qw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,((r,o)=>{const l=_u(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function nb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof ng||t instanceof ka||t instanceof sr||t instanceof Zd||t instanceof rg)}function ag(t,e,n){if(!nb(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=Kd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Jp(t,e,n){if((e=Jr(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return lg(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const aP=new RegExp("[~\\*/\\[\\]]");function lg(t,e,n){if(e.search(aP)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jd(...e.split("."))._internalPath}catch(r){throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,h+t+p)}function rb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(th("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lP extends ug{data(){return super.data()}}function th(t,e){return typeof e=="string"?lg(t,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class bu extends cg{}function h0(t,e,...n){let r=[];e instanceof cg&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((p=>p instanceof dg)).length,h=l.filter((p=>p instanceof nh)).length;if(c>1||c>0&&h>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class nh extends bu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nh(e,n,r)}_apply(e){const n=this._parse(e);return ib(e._query,n),new Ir(e.firestore,e.converter,zp(e._query,n))}_parse(e){const n=ig(e.firestore);return(function(l,c,h,p,m,g,w){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){m0(w,g);const E=[];for(const I of w)E.push(p0(p,l,I));_={arrayValue:{values:E}}}else _=p0(p,l,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||m0(w,g),_=eb(h,c,w,g==="in"||g==="not-in");return Rt.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cP(t,e,n){const r=e,o=th("where",t);return nh._create(o,r,n)}class dg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const h=l.getFlattenedFilters();for(const p of h)ib(c,p),c=zp(c,p)})(e._query,n),new Ir(e.firestore,e.converter,zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends bu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hg(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(l,c)})(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Ns(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function dP(t,e="asc"){const n=e,r=th("orderBy",t);return hg._create(r,n)}class fg extends bu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new fg(e,n,r)}_apply(e){return new Ir(e.firestore,e.converter,xd(e._query,this._limit,this._limitType))}}function f0(t){return YI("limit",t),fg._create("limit",t,"F")}class pg extends bu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=sb(e,this.type,this._docOrFields,this._inclusive);return new Ir(e.firestore,e.converter,(function(o,l){return new Ns(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function hP(...t){return pg._create("startAt",t,!0)}class mg extends bu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mg(e,n,r)}_apply(e){const n=sb(e,this.type,this._docOrFields,this._inclusive);return new Ir(e.firestore,e.converter,(function(o,l){return new Ns(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function fP(...t){return mg._create("endAt",t,!0)}function sb(t,e,n,r){if(n[0]=Jr(n[0]),n[0]instanceof ug)return(function(l,c,h,p,m){if(!p)throw new he(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const w of wa(l))if(w.field.isKeyField())g.push(vd(c,p.key));else{const _=p.data.field(w.field);if(Od(_))throw new he(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=w.field.canonicalString();throw new he(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(_)}return new ja(g,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=ig(t.firestore);return(function(c,h,p,m,g,w){const _=c.explicitOrderBy;if(g.length>_.length)throw new he(te.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let I=0;I<g.length;I++){const R=g[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new he(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof R}`);if(!Om(c)&&R.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${R}' contains a slash.`);const A=c.path.child(at.fromString(R));if(!be.isDocumentKey(A))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const $=new be(A);E.push(vd(h,$))}else{const A=eb(p,m,R);E.push(A)}}return new ja(E,w)})(t._query,t.firestore._databaseId,o,e,n,r)}}function p0(t,e,n){if(typeof(n=Jr(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Om(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!be.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vd(t,new be(r))}if(n instanceof sr)return vd(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(n)}.`)}function m0(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ib(t,e){const n=(function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pP{convertValue(e,n="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>Ct(c.doubleValue)));return new rg(l)}convertGeoPoint(e){return new ng(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=wi(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ze(T_(r));const o=new eu(r.get(1),r.get(3)),l=new be(r.popFirst(5));return o.isEqual(n)||ks(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ob extends ug{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(th("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ld extends ob{data(e={}){return super.data(e)}}class gP{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ld(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new ld(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Fl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new ld(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Fl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:yP(h.type),doc:p,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){t=mo(t,sr);const e=mo(t.firestore,Yd);return qI(Xd(e),t._key).then((n=>wP(e,t,n)))}class ab extends pP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function g0(t){t=mo(t,Ir);const e=mo(t.firestore,Yd),n=Xd(e),r=new ab(e);return uP(t._query),KI(n,t._query).then((o=>new gP(e,r,t,o)))}function xP(t,e){return(function(r,o){const l=new Es;return r.asyncQueue.enqueueAndForget((async()=>FI(await GI(r),o,l))),l.promise})(Xd(t),e)}function wP(t,e,n){const r=n.docs.get(e._key),o=new ab(t);return new ob(t,o,e._key,r,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ig(e)}set(e,n,r){this._verifyNotCommitted();const o=Jf(e,this._firestore),l=mP(o.converter,n,r),c=sP(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,jr.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=Jf(e,this._firestore);let c;return c=typeof(n=Jr(n))=="string"||n instanceof Jd?oP(this._dataReader,"WriteBatch.update",l._key,n,r,o):iP(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jf(e,this._firestore);return this._mutations=this._mutations.concat(new $m(n._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jf(t,e){if((t=Jr(t)).firestore!==e)throw new he(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function fi(){return new og("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){return Xd(t=mo(t,Yd)),new _P(t,(e=>xP(t,e)))}(function(e,n=!0){(function(o){Fa=o})(tA),gd(new Ql("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new Yd(new pA(r.getProvider("auth-internal")),new vA(r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(m.options.projectId,g)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),xa(Px,"4.7.3",e),xa(Px,"4.7.3","esm2017")})();var SP="firebase",EP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xa(SP,EP,"app");const gg={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};gg.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const TP=nA().length?Lw():Mw(gg),rr=ZI(TP);console.log("[FB] projectId =",gg.projectId);const Sr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Er=t=>`https://drive.google.com/uc?export=view&id=${t}`,lb=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),go=[{key:"warrior",label:"Warrior",iconUrl:Er(Sr.warrior),fallback:"🗡️"},{key:"mage",label:"Mage",iconUrl:Er(Sr.mage),fallback:"✨"},{key:"scout",label:"Scout",iconUrl:Er(Sr.scout),fallback:"🏹"},{key:"assassin",label:"Assassin",iconUrl:Er(Sr.assassin),fallback:"🗡️"},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Er(Sr["demon-hunter"]),fallback:"😈🏹"},{key:"berserker",label:"Berserker",iconUrl:Er(Sr.berserker),fallback:"🪓"},{key:"battle-mage",label:"Battle Mage",iconUrl:Er(Sr["battle-mage"]),fallback:"🛡️✨"},{key:"druid",label:"Druid",iconUrl:Er(Sr.druid),fallback:"🌿"},{key:"bard",label:"Bard",iconUrl:Er(Sr.bard),fallback:"🎶"},{key:"necromancer",label:"Necromancer",iconUrl:Er(Sr.necromancer),fallback:"💀"},{key:"paladin",label:"Paladin",iconUrl:Er(Sr.paladin),fallback:"🛡️"}],Zp=Object.fromEntries(go.map(t=>[t.key,t])),em=new Map;function yt(t,e){em.set(lb(t),e)}for(const t of go)yt(t.key,t.key),yt(t.label,t.key);yt("war","warrior");yt("krieger","warrior");yt("magier","mage");yt("jaeger","scout");yt("jäger","scout");yt("assa","assassin");yt("meuchelmoerder","assassin");yt("meuchelmörder","assassin");yt("demonhunter","demon-hunter");yt("dh","demon-hunter");yt("daemonenjaeger","demon-hunter");yt("dämonenjäger","demon-hunter");yt("zerker","berserker");yt("battlemage","battle-mage");yt("kampfmagier","battle-mage");yt("bm","battle-mage");yt("druide","druid");yt("barde","bard");yt("necro","necromancer");yt("nekromant","necromancer");yt("pala","paladin");function jP(t){const e=lb(t);if(!e)return{};const n=em.get(e);if(n){const r=Zp[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of em.entries())if(r.startsWith(e)||e.startsWith(r)){const l=Zp[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const CP=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:go,CLASS_BY_KEY:Zp,iconForClassName:jP},Symbol.toStringTag,{value:"Module"}));function yg(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function tm(t){if(!t)return;const e=yg(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function ub(t,e=64){if(!t)return;const n=yg(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function cb(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function db(t,e,n,r){const o=tm(t);return o?cb(o,{w:e,h:n,fit:r}):void 0}function vg(t,e=64){const n=ub(t,e);return n?cb(n,{w:e,h:e,fit:"contain"}):void 0}Object.assign(t=>tm(t),{id:yg,direct:tm,thumb:ub,proxy:db,thumbProxy:vg});const Zf=t=>Number.isFinite(t),Il=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},AP=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function kP(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=go.find(l=>n(l.label)===r);if(o||(o=go.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return vg(o.iconUrl,e)}function IP(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function PP({placeholder:t="Suchen … (Spieler & Gilden)",maxPerSection:e=8}){const n=Vd(),[r,o]=ke.useState(""),[l,c]=ke.useState(""),[h,p]=ke.useState(!1),[m,g]=ke.useState(null),[w,_]=ke.useState([]),[E,I]=ke.useState([]),[R,A]=ke.useState(-1),$=ke.useRef(null);ke.useEffect(()=>{const B=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(B)},[r]),ke.useEffect(()=>{let B=!1;async function Q(){g(null);const C=l;if(C.length<1){_([]),I([]),A(-1);return}p(!0);try{let T=function(ce){var Re,Ne,Me,$e,Ue,Xe,St,Bn,es,or,Pr,ts,Ds,Vs,Ci,ns,$n,Un,Fs,rs,ss,Ms,vt,xt,zn,Ls,ar,Rr,Nr,Os,Bs,$s,Us,zs;const J=ce.data(),fe=!!J.playerId&&!J.guildIdentifier,ue=!!J.guildIdentifier&&!J.playerId,{root:H,id:ee}=IP(ce),ge=ee||J.playerId||J.guildIdentifier||"";if(fe||H==="players"){if(!ge||P.has(ge))return;P.add(ge),Ve.push({kind:"player",id:ge,name:(Me=(Ne=J.name)!=null?Ne:(Re=J.values)==null?void 0:Re.Name)!=null?Me:null,nameFold:($e=J.nameFold)!=null?$e:null,server:(St=(Xe=J.server)!=null?Xe:(Ue=J.values)==null?void 0:Ue.Server)!=null?St:null,guildName:(or=(es=J.guildName)!=null?es:(Bn=J.values)==null?void 0:Bn.Guild)!=null?or:null,className:(Ds=(ts=J.className)!=null?ts:(Pr=J.values)==null?void 0:Pr.Class)!=null?Ds:null,level:Il((Ci=J.level)!=null?Ci:(Vs=J.values)==null?void 0:Vs.Level),ts:Il(J.timestamp)});return}if(ue||H==="guilds"){if(!ge||ve.has(ge))return;ve.add(ge),Te.push({kind:"guild",id:ge,name:(Un=($n=J.name)!=null?$n:(ns=J.values)==null?void 0:ns.Name)!=null?Un:null,nameFold:(Fs=J.nameFold)!=null?Fs:null,server:(Ms=(ss=J.server)!=null?ss:(rs=J.values)==null?void 0:rs.Server)!=null?Ms:null,memberCount:Il((Ls=(xt=J.memberCount)!=null?xt:(vt=J.values)==null?void 0:vt["Guild Member Count"])!=null?Ls:(zn=J.values)==null?void 0:zn.GuildMemberCount),hofRank:Il((zs=($s=(Os=(Rr=J.hofRank)!=null?Rr:(ar=J.values)==null?void 0:ar["Hall of Fame Rank"])!=null?Os:(Nr=J.values)==null?void 0:Nr.HoF)!=null?$s:(Bs=J.values)==null?void 0:Bs.Rank)!=null?zs:(Us=J.values)==null?void 0:Us["Guild Rank"]),ts:Il(J.timestamp)});return}};const k=JI(rr,"latest"),V=AP(C),M=await g0(h0(k,dP("nameFold"),hP(V),fP(V+""),f0(e*4))),U=await g0(h0(k,cP("nameNgrams","array-contains",V),f0(e*4)));if(B)return;const P=new Set,ve=new Set,Ve=[],Te=[];M.forEach(T),U.forEach(T),_(Ve.slice(0,e)),I(Te.slice(0,e)),A(Ve.length+Te.length?0:-1)}catch(T){g((T==null?void 0:T.message)||"Unbekannter Fehler bei der Suche."),_([]),I([]),A(-1)}finally{B||p(!1)}}return Q(),()=>{B=!0}},[l,e]),ke.useEffect(()=>{const B=Q=>{$.current&&($.current.contains(Q.target)||(_([]),I([]),A(-1)))};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const q=B=>{B.kind==="player"?n(`/player/${encodeURIComponent(B.id)}`):n(`/guild/${encodeURIComponent(B.id)}`),_([]),I([]),A(-1),o("")},F=[...w,...E],K=B=>{if(F.length)if(B.key==="ArrowDown")B.preventDefault(),A(Q=>(Q+1)%F.length);else if(B.key==="ArrowUp")B.preventDefault(),A(Q=>(Q-1+F.length)%F.length);else if(B.key==="Enter"){B.preventDefault();const Q=F[R>=0?R:0];Q&&q(Q)}else B.key==="Escape"&&(_([]),I([]),A(-1))};return a.jsxs("div",{ref:$,style:Ye.wrap,children:[a.jsx("input",{style:Ye.input,placeholder:t,value:r,onChange:B=>o(B.target.value),onKeyDown:K,"aria-label":"Spieler und Gilden suchen"}),(h||m||w.length||E.length)&&a.jsxs("div",{style:Ye.dropdown,children:[h&&a.jsx("div",{style:Ye.hint,children:"Suche…"}),m&&!h&&a.jsxs("div",{style:Ye.err,children:["⚠️ ",m]}),!h&&!m&&(w.length>0||E.length>0)&&a.jsxs(a.Fragment,{children:[w.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:Ye.sectionHdr,children:"Spieler"}),w.map((B,Q)=>{var k,V,M;const C=Q===R,T=kP(B.className,64);return a.jsxs("button",{onClick:()=>q(B),style:C?Ye.itemActive:Ye.item,title:B.name||"",onMouseEnter:()=>A(Q),children:[a.jsx("div",{style:Ye.iconBox,children:T?a.jsx("img",{src:T,alt:"",style:Ye.iconImg,onError:U=>{const P=U.currentTarget.parentElement;P&&(P.innerHTML='<div style="font-size:12px;color:#B0C4D9;">🎭</div>')}}):a.jsx("div",{style:Ye.iconFallback,children:(B.className||" ? ").toString().slice(0,2)})}),a.jsxs("div",{style:Ye.meta,children:[a.jsxs("div",{style:Ye.line1,children:[a.jsx("span",{style:Ye.name,children:(k=B.name)!=null?k:"Unbekannt"}),Zf(B.level)&&a.jsxs("span",{style:Ye.badge,children:["Lvl ",B.level]})]}),a.jsxs("div",{style:Ye.line2,children:[B.guildName?a.jsxs("span",{children:["⟦",B.guildName,"⟧"]}):a.jsx("span",{style:Ye.muted,children:"—"}),a.jsx("span",{style:Ye.sep,children:"•"}),a.jsx("span",{children:(V=B.className)!=null?V:"Klasse ?"}),a.jsx("span",{style:Ye.sep,children:"•"}),a.jsx("span",{children:(M=B.server)!=null?M:"Server ?"})]})]})]},`p-${B.id}-${Q}`)})]}),E.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:Ye.sectionHdr,children:"Gilden"}),E.map((B,Q)=>{var k,V;const C=w.length+Q,T=C===R;return a.jsxs("button",{onClick:()=>q(B),style:T?Ye.itemActive:Ye.item,title:B.name||"",onMouseEnter:()=>A(C),children:[a.jsx("div",{style:Ye.iconBox,children:"🏰"}),a.jsxs("div",{style:Ye.meta,children:[a.jsxs("div",{style:Ye.line1,children:[a.jsx("span",{style:Ye.name,children:(k=B.name)!=null?k:"Unbekannt"}),Zf(B.hofRank)&&a.jsxs("span",{style:Ye.badge,children:["HoF #",B.hofRank]})]}),a.jsxs("div",{style:Ye.line2,children:[a.jsx("span",{children:(V=B.server)!=null?V:"Server ?"}),a.jsx("span",{style:Ye.sep,children:"•"}),a.jsx("span",{children:Zf(B.memberCount)?`${B.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${B.id}-${Q}`)})]})]}),!h&&!m&&w.length===0&&E.length===0&&l.length>=1&&a.jsx("div",{style:Ye.hint,children:"Keine Treffer"})]})]})}const Ye={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconImg:{width:"100%",height:"100%",objectFit:"contain"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function RP(t){var h,p,m;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,CP];for(const g of c){if(!g)continue;const w=(m=(p=(h=g[n])!=null?h:g[r])!=null?p:g[o])!=null?m:g[l];if(typeof w=="string")return w}}function NP({user:t}){var o;const{open:e,canUse:n}=kw(),r=()=>{e({tab:"json"})};return a.jsxs("header",{className:an.topbar,children:[a.jsxs("div",{className:an.topbarLeft,children:[a.jsx("button",{className:an.btnIco,"aria-label":"Benachrichtigungen",children:a.jsx($T,{className:an.ico})}),a.jsx("button",{className:an.btnIco,"aria-label":"Favoriten",children:a.jsx(yj,{className:an.ico})})]}),a.jsx("div",{className:an.searchWrap,children:a.jsx(PP,{placeholder:"Suchen (Spieler)…",getClassIcon:RP,maxResults:10})}),a.jsxs("div",{className:an.topbarRight,children:[a.jsxs("a",{className:`${an.pill} ${an.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[a.jsx(JT,{className:an.ico}),"www.sfgame.net"]}),a.jsxs("button",{className:an.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle benötigt)",children:[a.jsx(_j,{className:an.ico}),a.jsx("span",{className:an.label,children:"Scan hochladen"})]}),a.jsx("button",{className:an.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:a.jsx("img",{className:an.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const DP="_root_xd4sk_3",VP="_expanded_xd4sk_45",FP="_headRow_xd4sk_55",MP="_headTitle_xd4sk_63",LP="_headDot_xd4sk_65",OP="_headLabel_xd4sk_67",BP="_pinBtn_xd4sk_69",$P="_navScroll_xd4sk_81",UP="_pad_xd4sk_83",zP="_segCard_xd4sk_89",HP="_segTitle_xd4sk_121",WP="_navCol_xd4sk_139",GP="_navItemWrap_xd4sk_141",qP="_navBtn_xd4sk_147",KP="_navBtnActive_xd4sk_171",QP="_label_xd4sk_175",YP="_trailing_xd4sk_205",XP="_isOpen_xd4sk_253",JP="_footer_xd4sk_279",ZP="_login_xd4sk_281",eR="_legal_xd4sk_303",tR="_labelText_xd4sk_327",nR="_char_xd4sk_337",rR="_mainNavCard_xd4sk_405",Ke={root:DP,expanded:VP,headRow:FP,headTitle:MP,headDot:LP,headLabel:OP,pinBtn:BP,navScroll:$P,pad:UP,segCard:zP,segTitle:HP,navCol:WP,navItemWrap:GP,navBtn:qP,navBtnActive:KP,label:QP,trailing:YP,isOpen:XP,footer:JP,login:ZP,legal:eR,labelText:tR,char:nR,mainNavCard:rR},sR="_panel_90cjk_1",iR="_open_90cjk_31",oR="_col_90cjk_43",ep={panel:sR,open:iR,col:oR};function aR(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function lR({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,h]=ke.useState({left:0,top:0});return ke.useEffect(()=>{if(!e||!t)return;const p=()=>h(aR(t));p();const m=new ResizeObserver(p);return m.observe(document.documentElement),window.addEventListener("scroll",p,!0),window.addEventListener("resize",p),()=>{m.disconnect(),window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)}},[e,t]),typeof document=="undefined"?null:NT.createPortal(a.jsx("div",{className:`${ep.panel} ${e?ep.open:""}`,style:{left:c.left,top:c.top},onMouseEnter:o,onMouseLeave:l,role:"menu",children:a.jsx("div",{className:ep.col,children:n.map(p=>r(p))})}),document.body)}const uR=[{to:"/",label:"Home",icon:a.jsx(tj,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:a.jsx(ij,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:a.jsx(pu,{className:"ico"})},{to:"/playground",label:"Playground",icon:a.jsx(Md,{className:"ico"})}],cR=[{to:"/discover",label:"Discover",icon:a.jsx(qT,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:a.jsx(xj,{className:"ico"})},{to:"/guides",label:"Guides",icon:a.jsx(zT,{className:"ico"})},{to:"/community",label:"Community",icon:a.jsx(aj,{className:"ico"})},{to:"/scans",label:"Scans",icon:a.jsx(YT,{className:"ico"})},{to:"/settings",label:"Settings",icon:a.jsx(fj,{className:"ico"})}],nm={"/discover":[{to:"/players",label:"Players"},{to:"/players/profile",label:"Player Profile"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD · Game Buttons"}]},dR=220;function hR(t=dR){const[e,n]=ke.useState(!1),r=ke.useRef(null),o=ke.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=ke.useCallback(()=>{o(),n(!0)},[o]),c=ke.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return ke.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function xg({text:t,isOpen:e,duration:n=1,step:r=45}){const o=ke.useMemo(()=>Array.from(t),[t]);return a.jsx("span",{className:Ke.label,children:a.jsx("span",{className:Ke.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>a.jsx("span",{className:Ke.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?" ":l},`${t}-${c}`))})})}function fR({it:t,collapsed:e,allowSubmenus:n}){var g,w;const r=((w=(g=nm[t.to])==null?void 0:g.length)!=null?w:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:h}=hR(),p=ke.useRef(null),m=ke.useCallback(()=>{if(!n||!r){h(!1);return}l()},[n,r,l,h]);return a.jsxs("div",{ref:p,className:`${Ke.navItemWrap} ${o?Ke.isOpen:""}`,onMouseEnter:m,onMouseLeave:c,children:[a.jsxs(Fn,{to:t.to,end:!!t.end,className:({isActive:_})=>`${Ke.navBtn} ${_?Ke.navBtnActive:""}`,children:[t.icon,a.jsx(xg,{text:t.label,isOpen:!e}),r&&!e&&a.jsx("span",{className:Ke.trailing,"aria-hidden":"true",children:a.jsx(WT,{className:"ico"})})]}),r&&a.jsx(lR,{anchorEl:p.current,open:o,items:nm[t.to],renderLink:_=>a.jsx(Fn,{to:_.to,className:({isActive:E})=>`link ${E?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function y0({title:t,items:e,collapsed:n,allowSubmenus:r}){return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:`${Ke.navTitle} ${Ke.segTitle}`,children:t}),a.jsx("div",{className:Ke.navCol,children:e.map(o=>nm[o.to]?a.jsx(fR,{it:o,collapsed:n,allowSubmenus:r},o.to):a.jsxs(Fn,{to:o.to,end:!!o.end,className:({isActive:l})=>`${Ke.navBtn} ${l?Ke.navBtnActive:""}`,children:[o.icon,a.jsx(xg,{text:o.label,isOpen:!n})]},o.to))})]})}const pR=90,mR=180;function gR({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=ke.useRef(null),c=ke.useRef(null),[h,p]=ke.useState(!1),m=ke.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=ke.useCallback(()=>{!o||n||(m(),p(!1),l.current=window.setTimeout(()=>e(!0),pR))},[o,n,m,e]),w=ke.useCallback(()=>{!o||n||(m(),c.current=window.setTimeout(()=>{e(!1),p(!1)},mR))},[o,n,m,e]);ke.useEffect(()=>()=>m(),[m]),ke.useEffect(()=>{n&&p(!0)},[n]);const _=R=>{R.propertyName==="width"&&t&&!n&&p(!0)};ke.useEffect(()=>{if(t&&!n){const R=window.setTimeout(()=>p(!0),250);return()=>window.clearTimeout(R)}},[t,n]);const E=!t,I=n||t&&h;return a.jsxs("aside",{id:"sidebar-root",className:`${Ke.root} ${t?Ke.expanded:""}`,"data-collapsed":E?"true":"false",onMouseEnter:g,onMouseLeave:w,onTransitionEnd:_,"aria-label":"Navigation",children:[a.jsxs("div",{className:Ke.headRow,children:[a.jsxs("div",{className:Ke.headTitle,children:[a.jsx("span",{className:Ke.headDot})," ",a.jsx("span",{className:Ke.headLabel,children:"Navigation"})]}),a.jsx("button",{className:Ke.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?a.jsx(dj,{className:"ico"}):a.jsx(uj,{className:"ico"})})]}),a.jsx("div",{className:Ke.navScroll,children:a.jsxs("div",{className:Ke.pad,children:[a.jsx("div",{className:`${Ke.segCard} ${Ke.mainNavCard}`,children:a.jsx(y0,{items:uR,collapsed:E,allowSubmenus:I})}),a.jsx("div",{className:Ke.segTitle,children:"Kategorien"}),a.jsx("div",{className:`${Ke.segCard} ${Ke.mainNavCard}`,children:a.jsx(y0,{items:cR,collapsed:E,allowSubmenus:I})})]})}),a.jsxs("div",{className:`${Ke.footer} ${Ke.segCard} ${Ke.mainNavCard}`,children:[a.jsxs("button",{className:Ke.login,type:"button",children:[a.jsx(pu,{className:"ico"}),a.jsx(xg,{text:"Logout",isOpen:!E})]}),a.jsx("div",{className:Ke.legal,children:"© 2025 SFDataHub — Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const tp="/test/assets/logo-sfdatahub-CUdhlsEb.png";function yR({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:tp;return a.jsxs("div",{className:"logo-dock",children:[a.jsx(Fn,{to:r,"aria-label":"Go to home",children:a.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:h=>{const p=h.currentTarget;p.src!==tp&&(p.src=tp)}})}),n]})}function vR(){const[t,e]=N.useState(!1),[n,r]=N.useState(!1),o=n||t,l=N.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return a.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[a.jsx(yR,{src:"/logo.png"}),a.jsx(NP,{}),a.jsx("div",{className:"logo-fill"}),a.jsx(gR,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),a.jsx("div",{className:"content",children:a.jsx("div",{className:"content-inner",children:a.jsx("div",{className:"content-body",children:a.jsx(yw,{})})})})]})}function xR(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Home"})})}const hb=N.createContext({});function wR(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const wg=N.createContext(null),fb=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _R(t=!0){const e=N.useContext(wg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=N.useId();N.useEffect(()=>{t&&o(l)},[t]);const c=N.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const _g=typeof window!="undefined",bR=_g?N.useLayoutEffect:N.useEffect,Ln=t=>t;let pb=Ln;function bg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ia=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ts=t=>t*1e3,js=t=>t/1e3,SR={useManualTiming:!1};function ER(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,g=!1,w=!1)=>{const E=w&&r?e:n;return g&&l.add(m),E.has(m)||E.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(h),e.clear(),r=!1,o&&(o=!1,p.process(m))}};return p}const Yc=["read","resolveKeyframes","update","preRender","render","postRender"],TR=40;function mb(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Yc.reduce(($,q)=>($[q]=ER(l),$),{}),{read:h,resolveKeyframes:p,update:m,preRender:g,render:w,postRender:_}=c,E=()=>{const $=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min($-o.timestamp,TR),1),o.timestamp=$,o.isProcessing=!0,h.process(o),p.process(o),m.process(o),g.process(o),w.process(o),_.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(E))},I=()=>{n=!0,r=!0,o.isProcessing||t(E)};return{schedule:Yc.reduce(($,q)=>{const F=c[q];return $[q]=(K,B=!1,Q=!1)=>(n||I(),F.schedule(K,B,Q)),$},{}),cancel:$=>{for(let q=0;q<Yc.length;q++)c[Yc[q]].cancel($)},state:o,steps:c}}const{schedule:lt,cancel:bi,state:Qt,steps:np}=mb(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ln,!0),gb=N.createContext({strict:!1}),v0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pa={};for(const t in v0)Pa[t]={isEnabled:e=>v0[t].some(n=>!!e[n])};function jR(t){for(const e in t)Pa[e]={...Pa[e],...t[e]}}const CR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||CR.has(t)}let yb=t=>!Td(t);function AR(t){t&&(yb=e=>e.startsWith("on")?!Td(e):t(e))}try{AR(require("@emotion/is-prop-valid").default)}catch(t){}function kR(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(yb(o)||n===!0&&Td(o)||!e&&!Td(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function IR(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const rh=N.createContext({});function au(t){return typeof t=="string"||Array.isArray(t)}function sh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Sg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Eg=["initial",...Sg];function ih(t){return sh(t.animate)||Eg.some(e=>au(t[e]))}function vb(t){return!!(ih(t)||t.variants)}function PR(t,e){if(ih(t)){const{initial:n,animate:r}=t;return{initial:n===!1||au(n)?n:void 0,animate:au(r)?r:void 0}}return t.inherit!==!1?e:{}}function RR(t){const{initial:e,animate:n}=PR(t,N.useContext(rh));return N.useMemo(()=>({initial:e,animate:n}),[x0(e),x0(n)])}function x0(t){return Array.isArray(t)?t.join(" "):t}const NR=Symbol.for("motionComponentSymbol");function pa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DR(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pa(n)&&(n.current=r))},[e])}const Tg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VR="framerAppearId",xb="data-"+Tg(VR),{schedule:jg}=mb(queueMicrotask,!1),wb=N.createContext({});function FR(t,e,n,r,o){var l,c;const{visualElement:h}=N.useContext(rh),p=N.useContext(gb),m=N.useContext(wg),g=N.useContext(fb).reducedMotion,w=N.useRef(null);r=r||p.renderer,!w.current&&r&&(w.current=r(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const _=w.current,E=N.useContext(wb);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&MR(w.current,n,o,E);const I=N.useRef(!1);N.useInsertionEffect(()=>{_&&I.current&&_.update(n,m)});const R=n[xb],A=N.useRef(!!R&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,R))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,R)));return bR(()=>{_&&(I.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),jg.render(_.render),A.current&&_.animationState&&_.animationState.animateChanges())}),N.useEffect(()=>{_&&(!A.current&&_.animationState&&_.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)===null||$===void 0||$.call(window,R)}),A.current=!1))}),_}function MR(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_b(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&pa(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:p,layoutRoot:m})}function _b(t){if(t)return t.options.allowProjection!==!1?t.projection:_b(t.parent)}function LR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&jR(t);function h(m,g){let w;const _={...N.useContext(fb),...m,layoutId:OR(m)},{isStatic:E}=_,I=RR(m),R=r(m,E);if(!E&&_g){BR();const A=$R(_);w=A.MeasureLayout,I.visualElement=FR(o,R,_,e,A.ProjectionNode)}return a.jsxs(rh.Provider,{value:I,children:[w&&I.visualElement?a.jsx(w,{visualElement:I.visualElement,..._}):null,n(o,m,DR(R,I.visualElement,g),R,E,I.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=N.forwardRef(h);return p[NR]=o,p}function OR({layoutId:t}){const e=N.useContext(hb).id;return e&&t!==void 0?e+"-"+t:t}function BR(t,e){N.useContext(gb).strict}function $R(t){const{drag:e,layout:n}=Pa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const UR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cg(t){return typeof t!="string"||t.includes("-")?!1:!!(UR.indexOf(t)>-1||/[A-Z]/u.test(t))}function w0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ag(t,e,n,r){if(typeof e=="function"){const[o,l]=w0(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=w0(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const rm=t=>Array.isArray(t),zR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),HR=t=>rm(t)?t[t.length-1]||0:t,hn=t=>!!(t&&t.getVelocity);function ud(t){const e=hn(t)?t.get():t;return zR(e)?e.toValue():e}function WR({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:GR(r,o,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:r,current:h,...c}),c.onUpdate=h=>n(h)),c}const bb=t=>(e,n)=>{const r=N.useContext(rh),o=N.useContext(wg),l=()=>WR(t,e,r,o);return n?l():wR(l)};function GR(t,e,n,r){const o={},l=r(t,{});for(const _ in l)o[_]=ud(l[_]);let{initial:c,animate:h}=t;const p=ih(t),m=vb(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const w=g?h:c;if(w&&typeof w!="boolean"&&!sh(w)){const _=Array.isArray(w)?w:[w];for(let E=0;E<_.length;E++){const I=Ag(t,_[E]);if(I){const{transitionEnd:R,transition:A,...$}=I;for(const q in $){let F=$[q];if(Array.isArray(F)){const K=g?F.length-1:0;F=F[K]}F!==null&&(o[q]=F)}for(const q in R)o[q]=R[q]}}}return o}const Oa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=new Set(Oa),Sb=t=>e=>typeof e=="string"&&e.startsWith(t),Eb=Sb("--"),qR=Sb("var(--"),kg=t=>qR(t)?KR.test(t.split("/*")[0].trim()):!1,KR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ps=(t,e,n)=>n>e?e:n<t?t:n,Ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lu={...Ba,transform:t=>Ps(0,1,t)},Xc={...Ba,default:1},Su=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mi=Su("deg"),Yr=Su("%"),je=Su("px"),QR=Su("vh"),YR=Su("vw"),_0={...Yr,parse:t=>Yr.parse(t)/100,transform:t=>Yr.transform(t*100)},XR={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je},JR={rotate:mi,rotateX:mi,rotateY:mi,rotateZ:mi,scale:Xc,scaleX:Xc,scaleY:Xc,scaleZ:Xc,skew:mi,skewX:mi,skewY:mi,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:lu,originX:_0,originY:_0,originZ:je},b0={...Ba,transform:Math.round},Ig={...XR,...JR,zIndex:b0,size:je,fillOpacity:lu,strokeOpacity:lu,numOctaves:b0},ZR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eN=Oa.length;function tN(t,e,n){let r="",o=!0;for(let l=0;l<eN;l++){const c=Oa[l],h=t[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const m=Tb(h,Ig[c]);if(!p){o=!1;const g=ZR[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Pg(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,h=!1;for(const p in e){const m=e[p];if(wo.has(p)){c=!0;continue}else if(Eb(p)){o[p]=m;continue}else{const g=Tb(m,Ig[p]);p.startsWith("origin")?(h=!0,l[p]=g):r[p]=g}}if(e.transform||(c||n?r.transform=tN(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${p} ${m} ${g}`}}const nN={offset:"stroke-dashoffset",array:"stroke-dasharray"},rN={offset:"strokeDashoffset",array:"strokeDasharray"};function sN(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?nN:rN;t[l.offset]=je.transform(-r);const c=je.transform(e),h=je.transform(n);t[l.array]=`${c} ${h}`}function S0(t,e,n){return typeof t=="string"?t:je.transform(e+n*t)}function iN(t,e,n){const r=S0(e,t.x,t.width),o=S0(n,t.y,t.height);return`${r} ${o}`}function Rg(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...m},g,w){if(Pg(t,m,w),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E,dimensions:I}=t;_.transform&&(I&&(E.transform=_.transform),delete _.transform),I&&(o!==void 0||l!==void 0||E.transform)&&(E.transformOrigin=iN(I,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),c!==void 0&&sN(_,c,h,p,!1)}const Ng=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),jb=()=>({...Ng(),attrs:{}}),Dg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Cb(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const Ab=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kb(t,e,n,r){Cb(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Ab.has(o)?o:Tg(o),e.attrs[o])}const jd={};function oN(t){Object.assign(jd,t)}function Ib(t,{layout:e,layoutId:n}){return wo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jd[t]||t==="opacity")}function Vg(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(hn(o[c])||e.style&&hn(e.style[c])||Ib(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function Pb(t,e,n){const r=Vg(t,e,n);for(const o in t)if(hn(t[o])||hn(e[o])){const l=Oa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function aN(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const E0=["x","y","width","height","cx","cy","r"],lN={useVisualState:bb({scrapeMotionValuesFromProps:Pb,createRenderState:jb,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in o)if(wo.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<E0.length;h++){const p=E0[h];t[p]!==e[p]&&(c=!0)}c&&lt.read(()=>{aN(n,r),lt.render(()=>{Rg(r,o,Dg(n.tagName),t.transformTemplate),kb(n,r)})})}})},uN={useVisualState:bb({scrapeMotionValuesFromProps:Vg,createRenderState:Ng})};function Rb(t,e,n){for(const r in e)!hn(e[r])&&!Ib(r,n)&&(t[r]=e[r])}function cN({transformTemplate:t},e){return N.useMemo(()=>{const n=Ng();return Pg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dN(t,e){const n=t.style||{},r={};return Rb(r,n,t),Object.assign(r,cN(t,e)),r}function hN(t,e){const n={},r=dN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function fN(t,e,n,r){const o=N.useMemo(()=>{const l=jb();return Rg(l,e,Dg(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Rb(l,t.style,t),o.style={...l,...o.style}}return o}function pN(t=!1){return(n,r,o,{latestValues:l},c)=>{const p=(Cg(n)?fN:hN)(r,l,c,n),m=kR(r,typeof n=="string",t),g=n!==N.Fragment?{...m,...p,ref:o}:{},{children:w}=r,_=N.useMemo(()=>hn(w)?w.get():w,[w]);return N.createElement(n,{...g,children:_})}}function mN(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Cg(r)?lN:uN,preloadedFeatures:t,useRender:pN(o),createVisualElement:e,Component:r};return LR(c)}}function Nb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function oh(t,e,n){const r=t.getProps();return Ag(r,e,n!==void 0?n:r.custom,t)}const gN=bg(()=>window.ScrollTimeline!==void 0);class yN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(gN()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vN extends yN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Fg(t,e){return t?t[e]||t.default||t:void 0}const sm=2e4;function Db(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sm;)e+=n,r=t.next(e);return e>=sm?1/0:e}function Mg(t){return typeof t=="function"}function T0(t,e){t.timeline=e,t.onfinish=null}const Lg=t=>Array.isArray(t)&&typeof t[0]=="number",xN={linearEasing:void 0};function wN(t,e){const n=bg(t);return()=>{var r;return(r=xN[e])!==null&&r!==void 0?r:n()}}const Cd=wN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),Vb=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(Ia(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function Fb(t){return!!(typeof t=="function"&&Cd()||!t||typeof t=="string"&&(t in im||Cd())||Lg(t)||Array.isArray(t)&&t.every(Fb))}const Ml=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,im={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ml([0,.65,.55,1]),circOut:Ml([.55,0,1,.45]),backIn:Ml([.31,.01,.66,-.59]),backOut:Ml([.33,1.53,.69,.99])};function Mb(t,e){if(t)return typeof t=="function"&&Cd()?Vb(t,e):Lg(t)?Ml(t):Array.isArray(t)?t.map(n=>Mb(n,e)||im.easeOut):im[t]}const Tr={x:!1,y:!1};function Lb(){return Tr.x||Tr.y}function _N(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function Ob(t,e){const n=_N(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function j0(t){return e=>{e.pointerType==="touch"||Lb()||t(e)}}function bN(t,e,n={}){const[r,o,l]=Ob(t,n),c=j0(h=>{const{target:p}=h,m=e(h);if(typeof m!="function"||!p)return;const g=j0(w=>{m(w),p.removeEventListener("pointerleave",g)});p.addEventListener("pointerleave",g,o)});return r.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}const Bb=(t,e)=>e?t===e?!0:Bb(t,e.parentElement):!1,Og=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EN(t){return SN.has(t.tagName)||t.tabIndex!==-1}const Ll=new WeakSet;function C0(t){return e=>{e.key==="Enter"&&t(e)}}function rp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=C0(()=>{if(Ll.has(n))return;rp(n,"down");const o=C0(()=>{rp(n,"up")}),l=()=>rp(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function A0(t){return Og(t)&&!Lb()}function jN(t,e,n={}){const[r,o,l]=Ob(t,n),c=h=>{const p=h.currentTarget;if(!A0(h)||Ll.has(p))return;Ll.add(p);const m=e(h),g=(E,I)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),!(!A0(E)||!Ll.has(p))&&(Ll.delete(p),typeof m=="function"&&m(E,{success:I}))},w=E=>{g(E,n.useGlobalTarget||Bb(p,E.target))},_=E=>{g(E,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{!EN(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h.addEventListener("focus",m=>TN(m,o),o)}),l}function CN(t){return t==="x"||t==="y"?Tr[t]?null:(Tr[t]=!0,()=>{Tr[t]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}const $b=new Set(["width","height","top","left","right","bottom",...Oa]);let cd;function AN(){cd=void 0}const Xr={now:()=>(cd===void 0&&Xr.set(Qt.isProcessing||SR.useManualTiming?Qt.timestamp:performance.now()),cd),set:t=>{cd=t,queueMicrotask(AN)}};function Bg(t,e){t.indexOf(e)===-1&&t.push(e)}function $g(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ug{constructor(){this.subscriptions=[]}add(e){return Bg(this.subscriptions,e),()=>$g(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ub(t,e){return e?t*(1e3/e):0}const k0=30,kN=t=>!isNaN(parseFloat(t));class IN{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=Xr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ug);const r=this.events[e].add(n);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k0);return Ub(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(t,e){return new IN(t,e)}function PN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uu(n))}function RN(t,e){const n=oh(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const h=HR(l[c]);PN(t,c,h)}}function NN(t){return!!(hn(t)&&t.add)}function om(t,e){const n=t.getValue("willChange");if(NN(n))return n.add(e)}function zb(t){return t.props[xb]}const Hb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DN=1e-7,VN=12;function FN(t,e,n,r,o){let l,c,h=0;do c=e+(n-e)/2,l=Hb(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>DN&&++h<VN);return c}function Eu(t,e,n,r){if(t===e&&n===r)return Ln;const o=l=>FN(l,0,1,t,n);return l=>l===0||l===1?l:Hb(o(l),e,r)}const Wb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Gb=t=>e=>1-t(1-e),qb=Eu(.33,1.53,.69,.99),zg=Gb(qb),Kb=Wb(zg),Qb=t=>(t*=2)<1?.5*zg(t):.5*(2-Math.pow(2,-10*(t-1))),Hg=t=>1-Math.sin(Math.acos(t)),Yb=Gb(Hg),Xb=Wb(Hg),Jb=t=>/^0[^.\s]+$/u.test(t);function MN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Jb(t):!0}const zl=t=>Math.round(t*1e5)/1e5,Wg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LN(t){return t==null}const ON=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gg=(t,e)=>n=>!!(typeof n=="string"&&ON.test(n)&&n.startsWith(t)||e&&!LN(n)&&Object.prototype.hasOwnProperty.call(n,e)),Zb=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,h]=r.match(Wg);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},BN=t=>Ps(0,255,t),sp={...Ba,transform:t=>Math.round(BN(t))},ao={test:Gg("rgb","red"),parse:Zb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sp.transform(t)+", "+sp.transform(e)+", "+sp.transform(n)+", "+zl(lu.transform(r))+")"};function $N(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const am={test:Gg("#"),parse:$N,transform:ao.transform},ma={test:Gg("hsl","hue"),parse:Zb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yr.transform(zl(e))+", "+Yr.transform(zl(n))+", "+zl(lu.transform(r))+")"},un={test:t=>ao.test(t)||am.test(t)||ma.test(t),parse:t=>ao.test(t)?ao.parse(t):ma.test(t)?ma.parse(t):am.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ao.transform(t):ma.transform(t)},UN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Wg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(UN))===null||n===void 0?void 0:n.length)||0)>0}const eS="number",tS="color",HN="var",WN="var(",I0="${}",GN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(GN,p=>(un.test(p)?(r.color.push(l),o.push(tS),n.push(un.parse(p))):p.startsWith(WN)?(r.var.push(l),o.push(HN),n.push(p)):(r.number.push(l),o.push(eS),n.push(parseFloat(p))),++l,I0)).split(I0);return{values:n,split:h,indexes:r,types:o}}function nS(t){return cu(t).values}function rS(t){const{split:e,types:n}=cu(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const h=n[c];h===eS?l+=zl(o[c]):h===tS?l+=un.transform(o[c]):l+=o[c]}return l}}const qN=t=>typeof t=="number"?0:t;function KN(t){const e=nS(t);return rS(t)(e.map(qN))}const Si={test:zN,parse:nS,createTransformer:rS,getAnimatableNone:KN},QN=new Set(["brightness","contrast","saturate","opacity"]);function YN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Wg)||[];if(!r)return t;const o=n.replace(r,"");let l=QN.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const XN=/\b([a-z-]*)\(.*?\)/gu,lm={...Si,getAnimatableNone:t=>{const e=t.match(XN);return e?e.map(YN).join(" "):t}},JN={...Ig,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:lm,WebkitFilter:lm},qg=t=>JN[t];function sS(t,e){let n=qg(t);return n!==lm&&(n=Si),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ZN=new Set(["auto","none","0"]);function eD(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!ZN.has(l)&&cu(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=sS(n,o)}const P0=t=>t===Ba||t===je,R0=(t,e)=>parseFloat(t.split(", ")[e]),N0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return R0(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?R0(l[1],t):0}},tD=new Set(["x","y","z"]),nD=Oa.filter(t=>!tD.has(t));function rD(t){const e=[];return nD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:N0(4,13),y:N0(5,14)};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const co=new Set;let um=!1,cm=!1;function iS(){if(cm){const t=Array.from(co).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=rD(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var h;(h=r.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cm=!1,um=!1,co.forEach(t=>t.complete()),co.clear()}function oS(){co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cm=!0)})}function sD(){oS(),iS()}class Kg{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(co.add(this),um||(um=!0,lt.read(oS),lt.resolveKeyframes(iS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const p=r.readValue(n,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),co.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,co.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const aS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),iD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oD(t){const e=iD.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function lS(t,e,n=1){const[r,o]=oD(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return aS(c)?parseFloat(c):c}return kg(o)?lS(o,e,n+1):o}const uS=t=>e=>e.test(t),aD={test:t=>t==="auto",parse:t=>t},cS=[Ba,je,Yr,mi,YR,QR,aD],D0=t=>cS.find(uS(t));class dS extends Kg{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),kg(m))){const g=lS(m,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!$b.has(r)||e.length!==2)return;const[o,l]=e,c=D0(o),h=D0(l);if(c!==h)if(P0(c)&&P0(h))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)MN(e[o])&&r.push(o);r.length&&eD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,h=o[c];o[c]=Ra[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{n.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const V0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Si.test(t)||t==="0")&&!t.startsWith("url("));function lD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function uD(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=V0(o,e),h=V0(l,e);return!c||!h?!1:lD(t)||(n==="spring"||Mg(n))&&r}const cD=t=>t!==null;function ah(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(cD),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const dD=40;class hS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xr.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Xr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!uD(e,r,o,l))if(c)this.options.duration=0;else{p&&p(ah(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const mt=(t,e,n)=>t+(e-t)*n;function ip(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,p=2*n-h;o=ip(p,h,t+1/3),l=ip(p,h,t),c=ip(p,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Ad(t,e){return n=>n>0?e:t}const op=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},fD=[am,ao,ma],pD=t=>fD.find(e=>e.test(t));function F0(t){const e=pD(t);if(!e)return!1;let n=e.parse(t);return e===ma&&(n=hD(n)),n}const M0=(t,e)=>{const n=F0(t),r=F0(e);if(!n||!r)return Ad(t,e);const o={...n};return l=>(o.red=op(n.red,r.red,l),o.green=op(n.green,r.green,l),o.blue=op(n.blue,r.blue,l),o.alpha=mt(n.alpha,r.alpha,l),ao.transform(o))},mD=(t,e)=>n=>e(t(n)),Tu=(...t)=>t.reduce(mD),dm=new Set(["none","hidden"]);function gD(t,e){return dm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yD(t,e){return n=>mt(t,e,n)}function Qg(t){return typeof t=="number"?yD:typeof t=="string"?kg(t)?Ad:un.test(t)?M0:wD:Array.isArray(t)?fS:typeof t=="object"?un.test(t)?M0:vD:Ad}function fS(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>Qg(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function vD(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Qg(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function xD(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][o[c]],p=(n=t.values[h])!==null&&n!==void 0?n:0;r[l]=p,o[c]++}return r}const wD=(t,e)=>{const n=Si.createTransformer(e),r=cu(t),o=cu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?dm.has(t)&&!o.values.length||dm.has(e)&&!r.values.length?gD(t,e):Tu(fS(xD(r,o),o.values),n):Ad(t,e)};function pS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):Qg(t)(t,e)}const _D=5;function mS(t,e,n){const r=Math.max(e-_D,0);return Ub(n-t(r),e-r)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ap=.001;function bD({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:r=_t.mass}){let o,l,c=1-e;c=Ps(_t.minDamping,_t.maxDamping,c),t=Ps(_t.minDuration,_t.maxDuration,js(t)),c<1?(o=m=>{const g=m*c,w=g*t,_=g-n,E=hm(m,c),I=Math.exp(-w);return ap-_/E*I},l=m=>{const w=m*c*t,_=w*n+n,E=Math.pow(c,2)*Math.pow(m,2)*t,I=Math.exp(-w),R=hm(Math.pow(m,2),c);return(-o(m)+ap>0?-1:1)*((_-E)*I)/R}):(o=m=>{const g=Math.exp(-m*t),w=(m-n)*t+1;return-ap+g*w},l=m=>{const g=Math.exp(-m*t),w=(n-m)*(t*t);return g*w});const h=5/t,p=ED(o,l,h);if(t=Ts(t),isNaN(p))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const SD=12;function ED(t,e,n){let r=n;for(let o=1;o<SD;o++)r=r-t(r)/e(r);return r}function hm(t,e){return t*Math.sqrt(1-e*e)}const TD=["duration","bounce"],jD=["stiffness","damping","mass"];function L0(t,e){return e.some(n=>t[n]!==void 0)}function CD(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!L0(t,jD)&&L0(t,TD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:_t.mass,stiffness:o,damping:l}}else{const n=bD(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function gS(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:g,duration:w,velocity:_,isResolvedFromDuration:E}=CD({...n,velocity:-js(n.velocity||0)}),I=_||0,R=m/(2*Math.sqrt(p*g)),A=c-l,$=js(Math.sqrt(p/g)),q=Math.abs(A)<5;r||(r=q?_t.restSpeed.granular:_t.restSpeed.default),o||(o=q?_t.restDelta.granular:_t.restDelta.default);let F;if(R<1){const B=hm($,R);F=Q=>{const C=Math.exp(-R*$*Q);return c-C*((I+R*$*A)/B*Math.sin(B*Q)+A*Math.cos(B*Q))}}else if(R===1)F=B=>c-Math.exp(-$*B)*(A+(I+$*A)*B);else{const B=$*Math.sqrt(R*R-1);F=Q=>{const C=Math.exp(-R*$*Q),T=Math.min(B*Q,300);return c-C*((I+R*$*A)*Math.sinh(T)+B*A*Math.cosh(T))/B}}const K={calculatedDuration:E&&w||null,next:B=>{const Q=F(B);if(E)h.done=B>=w;else{let C=0;R<1&&(C=B===0?Ts(I):mS(F,B,Q));const T=Math.abs(C)<=r,k=Math.abs(c-Q)<=o;h.done=T&&k}return h.value=h.done?c:Q,h},toString:()=>{const B=Math.min(Db(K),sm),Q=Vb(C=>K.next(B*C).value,B,30);return B+"ms "+Q}};return K}function O0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:g}){const w=t[0],_={done:!1,value:w},E=T=>h!==void 0&&T<h||p!==void 0&&T>p,I=T=>h===void 0?p:p===void 0||Math.abs(h-T)<Math.abs(p-T)?h:p;let R=n*e;const A=w+R,$=c===void 0?A:c(A);$!==A&&(R=$-w);const q=T=>-R*Math.exp(-T/r),F=T=>$+q(T),K=T=>{const k=q(T),V=F(T);_.done=Math.abs(k)<=m,_.value=_.done?$:V};let B,Q;const C=T=>{E(_.value)&&(B=T,Q=gS({keyframes:[_.value,I(_.value)],velocity:mS(F,T,_.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return C(0),{calculatedDuration:null,next:T=>{let k=!1;return!Q&&B===void 0&&(k=!0,K(T),C(T)),B!==void 0&&T>=B?Q.next(T-B):(!k&&K(T),_)}}}const AD=Eu(.42,0,1,1),kD=Eu(0,0,.58,1),yS=Eu(.42,0,.58,1),ID=t=>Array.isArray(t)&&typeof t[0]!="number",PD={linear:Ln,easeIn:AD,easeInOut:yS,easeOut:kD,circIn:Hg,circInOut:Xb,circOut:Yb,backIn:zg,backInOut:Kb,backOut:qb,anticipate:Qb},B0=t=>{if(Lg(t)){pb(t.length===4);const[e,n,r,o]=t;return Eu(e,n,r,o)}else if(typeof t=="string")return PD[t];return t};function RD(t,e,n){const r=[],o=n||pS,l=t.length-1;for(let c=0;c<l;c++){let h=o(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||Ln:e;h=Tu(p,h)}r.push(h)}return r}function ND(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(pb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=RD(e,r,o),p=h.length,m=g=>{if(c&&g<t[0])return e[0];let w=0;if(p>1)for(;w<t.length-2&&!(g<t[w+1]);w++);const _=Ia(t[w],t[w+1],g);return h[w](_)};return n?g=>m(Ps(t[0],t[l-1],g)):m}function DD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Ia(0,e,r);t.push(mt(n,1,o))}}function VD(t){const e=[0];return DD(e,t.length-1),e}function FD(t,e){return t.map(n=>n*e)}function MD(t,e){return t.map(()=>e||yS).splice(0,t.length-1)}function kd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=ID(r)?r.map(B0):B0(r),l={done:!1,value:e[0]},c=FD(n&&n.length===e.length?n:VD(e),t),h=ND(c,e,{ease:Array.isArray(o)?o:MD(e,o)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const LD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>lt.update(e,!0),stop:()=>bi(e),now:()=>Qt.isProcessing?Qt.timestamp:Xr.now()}},OD={decay:O0,inertia:O0,tween:kd,keyframes:kd,spring:gS},BD=t=>t/100;class Yg extends hS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||Kg,h=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(l,h,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,h=Mg(n)?n:OD[n]||kd;let p,m;h!==kd&&typeof e[0]!="number"&&(p=Tu(BD,pS(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Db(g));const{calculatedDuration:w}=g,_=w+o,E=_*(r+1)-o;return{generator:g,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:_,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:g,resolvedDuration:w}=r;if(this.startTime===null)return l.next(0);const{delay:_,repeat:E,repeatType:I,repeatDelay:R,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const $=this.currentTime-_*(this.speed>=0?1:-1),q=this.speed>=0?$<0:$>g;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,K=l;if(E){const T=Math.min(this.currentTime,g)/w;let k=Math.floor(T),V=T%1;!V&&T>=1&&(V=1),V===1&&k--,k=Math.min(k,E+1),!!(k%2)&&(I==="reverse"?(V=1-V,R&&(V-=R/w)):I==="mirror"&&(K=c)),F=Ps(0,1,V)*w}const B=q?{done:!1,value:p[0]}:K.next(F);h&&(B.value=h(B.value));let{done:Q}=B;!q&&m!==null&&(Q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return C&&o!==void 0&&(B.value=ah(p,this.options,o)),A&&A(B.value),C&&this.finish(),B}get duration(){const{resolved:e}=this;return e?js(e.calculatedDuration):0}get time(){return js(this.currentTime)}set time(e){e=Ts(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=js(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $D=new Set(["opacity","clipPath","filter","transform"]);function UD(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:p}={}){const m={[e]:n};p&&(m.offset=p);const g=Mb(h,o);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const zD=bg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Id=10,HD=2e4;function WD(t){return Mg(t.type)||t.type==="spring"||!Fb(t.ease)}function GD(t,e){const n=new Yg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<HD;)r=n.sample(l),o.push(r.value),l+=Id;return{times:void 0,keyframes:o,duration:l-Id,ease:"linear"}}const vS={anticipate:Qb,backInOut:Kb,circInOut:Xb};function qD(t){return t in vS}class $0 extends hS{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new dS(l,(c,h)=>this.onKeyframesResolved(c,h),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:h,name:p,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Cd()&&qD(l)&&(l=vS[l]),WD(this.options)){const{onComplete:w,onUpdate:_,motionValue:E,element:I,...R}=this.options,A=GD(e,R);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,o=A.times,l=A.ease,c="keyframes"}const g=UD(h.owner.current,p,e,{...this.options,duration:r,times:o,ease:l});return g.startTime=m!=null?m:this.calcStartTime(),this.pendingTimeline?(T0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:w}=this.options;h.set(ah(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return js(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return js(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ts(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ln;const{animation:r}=n;T0(r,e)}return Ln}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:g,onComplete:w,element:_,...E}=this.options,I=new Yg({...E,keyframes:r,duration:o,type:l,ease:c,times:h,isGenerator:!0}),R=Ts(this.time);m.setWithVelocity(I.sample(R-Id).value,I.sample(R).value,Id)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=n.owner.getProps();return zD()&&r&&$D.has(r)&&!p&&!m&&!o&&l!=="mirror"&&c!==0&&h!=="inertia"}}const KD={type:"spring",stiffness:500,damping:25,restSpeed:10},QD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YD={type:"keyframes",duration:.8},XD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JD=(t,{keyframes:e})=>e.length>2?YD:wo.has(t)?t.startsWith("scale")?QD(e[1]):KD:XD;function ZD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...g}){return!!Object.keys(g).length}const Xg=(t,e,n,r={},o,l)=>c=>{const h=Fg(r,t)||{},p=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ts(p);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};ZD(h)||(g={...g,...JD(t,g)}),g.duration&&(g.duration=Ts(g.duration)),g.repeatDelay&&(g.repeatDelay=Ts(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const _=ah(g.keyframes,h);if(_!==void 0)return lt.update(()=>{g.onUpdate(_),g.onComplete()}),new vN([])}return!l&&$0.supports(g)?new $0(g):new Yg(g)};function eV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xS(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...p}=e;r&&(c=r);const m=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const w in p){const _=t.getValue(w,(l=t.latestValues[w])!==null&&l!==void 0?l:null),E=p[w];if(E===void 0||g&&eV(g,w))continue;const I={delay:n,...Fg(c||{},w)};let R=!1;if(window.MotionHandoffAnimation){const $=zb(t);if($){const q=window.MotionHandoffAnimation($,w,lt);q!==null&&(I.startTime=q,R=!0)}}om(t,w),_.start(Xg(w,_,E,t.shouldReduceMotion&&$b.has(w)?{type:!1}:I,t,R));const A=_.animation;A&&m.push(A)}return h&&Promise.all(m).then(()=>{lt.update(()=>{h&&RN(t,h)})}),m}function fm(t,e,n={}){var r;const o=oh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(xS(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:_}=l;return tV(t,e,g+m,w,_,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,g]=p==="beforeChildren"?[c,h]:[h,c];return m().then(()=>g())}else return Promise.all([c(),h(n.delay)])}function tV(t,e,n=0,r=0,o=1,l){const c=[],h=(t.variantChildren.size-1)*r,p=o===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(t.variantChildren).sort(nV).forEach((m,g)=>{m.notify("AnimationStart",e),c.push(fm(m,e,{...l,delay:n+p(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function nV(t,e){return t.sortNodePosition(e)}function rV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>fm(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=fm(t,e,n);else{const o=typeof e=="function"?oh(t,e,n.custom):e;r=Promise.all(xS(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const sV=Eg.length;function wS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sV;n++){const r=Eg[n],o=t.props[r];(au(o)||o===!1)&&(e[r]=o)}return e}const iV=[...Sg].reverse(),oV=Sg.length;function aV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rV(t,n,r)))}function lV(t){let e=aV(t),n=U0(),r=!0;const o=p=>(m,g)=>{var w;const _=oh(t,g,p==="exit"?(w=t.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(_){const{transition:E,transitionEnd:I,...R}=_;m={...m,...R,...I}}return m};function l(p){e=p(t)}function c(p){const{props:m}=t,g=wS(t.parent)||{},w=[],_=new Set;let E={},I=1/0;for(let A=0;A<oV;A++){const $=iV[A],q=n[$],F=m[$]!==void 0?m[$]:g[$],K=au(F),B=$===p?q.isActive:null;B===!1&&(I=A);let Q=F===g[$]&&F!==m[$]&&K;if(Q&&r&&t.manuallyAnimateOnMount&&(Q=!1),q.protectedKeys={...E},!q.isActive&&B===null||!F&&!q.prevProp||sh(F)||typeof F=="boolean")continue;const C=uV(q.prevProp,F);let T=C||$===p&&q.isActive&&!Q&&K||A>I&&K,k=!1;const V=Array.isArray(F)?F:[F];let M=V.reduce(o($),{});B===!1&&(M={});const{prevResolvedValues:U={}}=q,P={...U,...M},ve=ce=>{T=!0,_.has(ce)&&(k=!0,_.delete(ce)),q.needsAnimating[ce]=!0;const J=t.getValue(ce);J&&(J.liveStyle=!1)};for(const ce in P){const J=M[ce],fe=U[ce];if(E.hasOwnProperty(ce))continue;let ue=!1;rm(J)&&rm(fe)?ue=!Nb(J,fe):ue=J!==fe,ue?J!=null?ve(ce):_.add(ce):J!==void 0&&_.has(ce)?ve(ce):q.protectedKeys[ce]=!0}q.prevProp=F,q.prevResolvedValues=M,q.isActive&&(E={...E,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(Q&&C)||k)&&w.push(...V.map(ce=>({animation:ce,options:{type:$}})))}if(_.size){const A={};_.forEach($=>{const q=t.getBaseTarget($),F=t.getValue($);F&&(F.liveStyle=!0),A[$]=q!=null?q:null}),w.push({animation:A})}let R=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(w):Promise.resolve()}function h(p,m){var g;if(n[p].isActive===m)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var E;return(E=_.animationState)===null||E===void 0?void 0:E.setActive(p,m)}),n[p].isActive=m;const w=c(p);for(const _ in n)n[_].protectedKeys={};return w}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=U0(),r=!0}}}function uV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Nb(e,t):!1}function Zi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U0(){return{animate:Zi(!0),whileInView:Zi(),whileHover:Zi(),whileTap:Zi(),whileDrag:Zi(),whileFocus:Zi(),exit:Zi()}}class Ti{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cV extends Ti{constructor(e){super(e),e.animationState||(e.animationState=lV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let dV=0;class hV extends Ti{constructor(){super(...arguments),this.id=dV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fV={animation:{Feature:cV},exit:{Feature:hV}};function du(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ju(t){return{point:{x:t.pageX,y:t.pageY}}}const pV=t=>e=>Og(e)&&t(e,ju(e));function Hl(t,e,n,r){return du(t,e,pV(n),r)}const z0=(t,e)=>Math.abs(t-e);function mV(t,e){const n=z0(t.x,e.x),r=z0(t.y,e.y);return Math.sqrt(n**2+r**2)}class _S{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=up(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=mV(w.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:I}=w,{timestamp:R}=Qt;this.history.push({...I,timestamp:R});const{onStart:A,onMove:$}=this.handlers;_||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=lp(_,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:E,onSessionEnd:I,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=up(w.type==="pointercancel"?this.lastMoveEventInfo:lp(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,A),I&&I(w,A)},!Og(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=ju(e),h=lp(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=Qt;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,up(h,this.history)),this.removeListeners=Tu(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bi(this.updatePoint)}}function lp(t,e){return e?{point:e(t.point)}:t}function H0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function up({point:t},e){return{point:t,delta:H0(t,bS(e)),offset:H0(t,gV(e)),velocity:yV(e,.1)}}function gV(t){return t[0]}function bS(t){return t[t.length-1]}function yV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=bS(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ts(e)));)n--;if(!r)return{x:0,y:0};const l=js(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const SS=1e-4,vV=1-SS,xV=1+SS,ES=.01,wV=0-ES,_V=0+ES;function On(t){return t.max-t.min}function bV(t,e,n){return Math.abs(t-e)<=n}function W0(t,e,n,r=.5){t.origin=r,t.originPoint=mt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vV&&t.scale<=xV||isNaN(t.scale))&&(t.scale=1),(t.translate>=wV&&t.translate<=_V||isNaN(t.translate))&&(t.translate=0)}function Wl(t,e,n,r){W0(t.x,e.x,n.x,r?r.originX:void 0),W0(t.y,e.y,n.y,r?r.originY:void 0)}function G0(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function SV(t,e,n){G0(t.x,e.x,n.x),G0(t.y,e.y,n.y)}function q0(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Gl(t,e,n){q0(t.x,e.x,n.x),q0(t.y,e.y,n.y)}function EV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?mt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?mt(n,t,r.max):Math.min(t,n)),t}function K0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TV(t,{top:e,left:n,bottom:r,right:o}){return{x:K0(t.x,n,o),y:K0(t.y,e,r)}}function Q0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function jV(t,e){return{x:Q0(t.x,e.x),y:Q0(t.y,e.y)}}function CV(t,e){let n=.5;const r=On(t),o=On(e);return o>r?n=Ia(e.min,e.max-r,t.min):r>o&&(n=Ia(t.min,t.max-o,e.min)),Ps(0,1,n)}function AV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const pm=.35;function kV(t=pm){return t===!1?t=0:t===!0&&(t=pm),{x:Y0(t,"left","right"),y:Y0(t,"top","bottom")}}function Y0(t,e,n){return{min:X0(t,e),max:X0(t,n)}}function X0(t,e){return typeof t=="number"?t:t[e]||0}const J0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ga=()=>({x:J0(),y:J0()}),Z0=()=>({min:0,max:0}),jt=()=>({x:Z0(),y:Z0()});function nr(t){return[t("x"),t("y")]}function TS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function IV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cp(t){return t===void 0||t===1}function mm({scale:t,scaleX:e,scaleY:n}){return!cp(t)||!cp(e)||!cp(n)}function ro(t){return mm(t)||jS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jS(t){return e1(t.x)||e1(t.y)}function e1(t){return t&&t!=="0%"}function Pd(t,e,n){const r=t-n,o=e*r;return n+o}function t1(t,e,n,r,o){return o!==void 0&&(t=Pd(t,o,r)),Pd(t,n,r)+e}function gm(t,e=0,n=1,r,o){t.min=t1(t.min,e,n,r,o),t.max=t1(t.max,e,n,r,o)}function CS(t,{x:e,y:n}){gm(t.x,e.translate,e.scale,e.originPoint),gm(t.y,n.translate,n.scale,n.originPoint)}const n1=.999999999999,r1=1.0000000000001;function RV(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let h=0;h<o;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&va(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,CS(t,c)),r&&ro(l.latestValues)&&va(t,l.latestValues))}e.x<r1&&e.x>n1&&(e.x=1),e.y<r1&&e.y>n1&&(e.y=1)}function ya(t,e){t.min=t.min+e,t.max=t.max+e}function s1(t,e,n,r,o=.5){const l=mt(t.min,t.max,o);gm(t,e,n,l,r)}function va(t,e){s1(t.x,e.x,e.scaleX,e.scale,e.originX),s1(t.y,e.y,e.scaleY,e.scale,e.originY)}function AS(t,e){return TS(PV(t.getBoundingClientRect(),e))}function NV(t,e,n){const r=AS(t,n),{scroll:o}=e;return o&&(ya(r.x,o.offset.x),ya(r.y,o.offset.y)),r}const kS=({current:t})=>t?t.ownerDocument.defaultView:null,DV=new WeakMap;class VV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ju(g).point)},l=(g,w)=>{const{drag:_,dragPropagation:E,onDragStart:I}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CN(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(A=>{let $=this.getAxisMotionValue(A).get()||0;if(Yr.test($)){const{projection:q}=this.visualElement;if(q&&q.layout){const F=q.layout.layoutBox[A];F&&($=On(F)*(parseFloat($)/100))}}this.originPoint[A]=$}),I&&lt.postRender(()=>I(g,w)),om(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(g,w)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:I,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:A}=w;if(E&&this.currentDirection===null){this.currentDirection=FV(A),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",w.point,A),this.updateAxis("y",w.point,A),this.visualElement.render(),R&&R(g,w)},h=(g,w)=>this.stop(g,w),p=()=>nr(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new _S(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:kS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&lt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Jc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=EV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&pa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=TV(o.layoutBox,n):this.constraints=!1,this.elastic=kV(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&nr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=AV(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pa(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=NV(r,o.root,this.visualElement.getTransformPagePoint());let c=jV(o.layout.layoutBox,l);if(n){const h=n(IV(c));this.hasMutatedConstraints=!!h,h&&(c=TS(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=nr(g=>{if(!Jc(g,n,this.currentDirection))return;let w=p&&p[g]||{};c&&(w={min:0,max:0});const _=o?200:1e6,E=o?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(g,I)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return om(this.visualElement,e),r.start(Xg(e,r,0,n,this.visualElement,!1))}stopAnimation(){nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nr(n=>{const{drag:r}=this.getProps();if(!Jc(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];l.set(e[n]-mt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pa(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();o[c]=CV({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nr(c=>{if(!Jc(c,e,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(mt(p,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;DV.set(this.visualElement,this);const e=this.visualElement.current,n=Hl(e,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();pa(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),lt.read(r);const c=du(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(nr(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=p[g].translate,w.set(w.get()+p[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=pm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Jc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MV extends Ti{constructor(e){super(e),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new VV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const i1=t=>(e,n)=>{t&&lt.postRender(()=>t(e,n))};class LV extends Ti{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(e){this.session=new _S(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:i1(e),onStart:i1(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&lt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=o1(t,e.target.x),r=o1(t,e.target.y);return`${n}% ${r}%`}},OV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Si.parse(t);if(o.length>5)return r;const l=Si.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,p=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=p;const m=mt(h,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class BV extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;oN($V),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||lt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IS(t){const[e,n]=_R(),r=N.useContext(hb);return a.jsx(BV,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(wb),isPresent:e,safeToRemove:n})}const $V={borderRadius:{...Pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pl,borderTopRightRadius:Pl,borderBottomLeftRadius:Pl,borderBottomRightRadius:Pl,boxShadow:OV};function UV(t,e,n){const r=hn(t)?t:uu(t);return r.start(Xg("",r,e,n)),r.animation}function zV(t){return t instanceof SVGElement&&t.tagName!=="svg"}const HV=(t,e)=>t.depth-e.depth;class WV{constructor(){this.children=[],this.isDirty=!1}add(e){Bg(this.children,e),this.isDirty=!0}remove(e){$g(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HV),this.isDirty=!1,this.children.forEach(e)}}function GV(t,e){const n=Xr.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(bi(r),t(l-e))};return lt.read(r,!0),()=>bi(r)}const PS=["TopLeft","TopRight","BottomLeft","BottomRight"],qV=PS.length,a1=t=>typeof t=="string"?parseFloat(t):t,l1=t=>typeof t=="number"||je.test(t);function KV(t,e,n,r,o,l){o?(t.opacity=mt(0,n.opacity!==void 0?n.opacity:1,QV(r)),t.opacityExit=mt(e.opacity!==void 0?e.opacity:1,0,YV(r))):l&&(t.opacity=mt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<qV;c++){const h=`border${PS[c]}Radius`;let p=u1(e,h),m=u1(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||l1(p)===l1(m)?(t[h]=Math.max(mt(a1(p),a1(m),r),0),(Yr.test(m)||Yr.test(p))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,r))}function u1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QV=RS(0,.5,Yb),YV=RS(.5,.95,Ln);function RS(t,e,n){return r=>r<t?0:r>e?1:n(Ia(t,e,r))}function c1(t,e){t.min=e.min,t.max=e.max}function er(t,e){c1(t.x,e.x),c1(t.y,e.y)}function d1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function h1(t,e,n,r,o){return t-=e,t=Pd(t,1/n,r),o!==void 0&&(t=Pd(t,1/o,r)),t}function XV(t,e=0,n=1,r=.5,o,l=t,c=t){if(Yr.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=mt(l.min,l.max,r);t===l&&(h-=e),t.min=h1(t.min,e,n,h,o),t.max=h1(t.max,e,n,h,o)}function f1(t,e,[n,r,o],l,c){XV(t,e[n],e[r],e[o],e.scale,l,c)}const JV=["x","scaleX","originX"],ZV=["y","scaleY","originY"];function p1(t,e,n,r){f1(t.x,e,JV,n?n.x:void 0,r?r.x:void 0),f1(t.y,e,ZV,n?n.y:void 0,r?r.y:void 0)}function m1(t){return t.translate===0&&t.scale===1}function NS(t){return m1(t.x)&&m1(t.y)}function g1(t,e){return t.min===e.min&&t.max===e.max}function e4(t,e){return g1(t.x,e.x)&&g1(t.y,e.y)}function y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DS(t,e){return y1(t.x,e.x)&&y1(t.y,e.y)}function v1(t){return On(t.x)/On(t.y)}function x1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class t4{constructor(){this.members=[]}add(e){Bg(this.members,e),e.scheduleRender()}remove(e){if($g(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n4(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:w,rotateY:_,skewX:E,skewY:I}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),_&&(r+=`rotateY(${_}deg) `),E&&(r+=`skewX(${E}deg) `),I&&(r+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(r+=`scale(${h}, ${p})`),r||"none"}const so={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ol=typeof window!="undefined"&&window.MotionDebug!==void 0,dp=["","X","Y","Z"],r4={visibility:"hidden"},w1=1e3;let s4=0;function hp(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VS(r)}function FS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=s4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ol&&(so.totalNodes=so.resolvedTargetDeltas=so.recalculatedProjection=0),this.nodes.forEach(a4),this.nodes.forEach(h4),this.nodes.forEach(f4),this.nodes.forEach(l4),Ol&&window.MotionDebug.record(so)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new WV)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ug),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zV(c),this.instance=c;const{layoutId:p,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),t){let w;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=GV(_,250),dd.hasAnimatedSinceResize&&(dd.hasAnimatedSinceResize=!1,this.nodes.forEach(b1))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||v4,{onLayoutAnimationStart:A,onLayoutAnimationComplete:$}=g.getProps(),q=!this.targetLayout||!DS(this.targetLayout,I)||E,F=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||_&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,F);const K={...Fg(R,"layout"),onPlay:A,onComplete:$};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else _||b1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_1);return}this.isUpdating||this.nodes.forEach(c4),this.isUpdating=!1,this.nodes.forEach(d4),this.nodes.forEach(i4),this.nodes.forEach(o4),this.clearAllSnapshots();const h=Xr.now();Qt.delta=Ps(0,1e3/60,h-Qt.timestamp),Qt.timestamp=h,Qt.isProcessing=!0,np.update.process(Qt),np.preRender.process(Qt),np.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u4),this.sharedNodes.forEach(m4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!NS(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&(h||ro(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),x4(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return jt();const p=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(w4))){const{scroll:g}=this.root;g&&(ya(p.x,g.offset.x),ya(p.y,g.offset.y))}return p}removeElementScroll(c){var h;const p=jt();if(er(p,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return p;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:w,options:_}=g;g!==this.root&&w&&_.layoutScroll&&(w.wasRoot&&er(p,c),ya(p.x,w.offset.x),ya(p.y,w.offset.y))}return p}applyTransform(c,h=!1){const p=jt();er(p,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&va(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ro(g.latestValues)&&va(p,g.latestValues)}return ro(this.latestValues)&&va(p,this.latestValues),p}removeTransform(c){const h=jt();er(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!ro(m.latestValues))continue;mm(m.latestValues)&&m.updateSnapshot();const g=jt(),w=m.measurePageBox();er(g,w),p1(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ro(this.latestValues)&&p1(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:_}=this.options;if(!(!this.layout||!(w||_))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Gl(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),CS(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Gl(this.relativeTargetOrigin,this.target,E.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ol&&so.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mm(this.parent.latestValues)||jS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||w))return;er(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;RV(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=jt());const{target:I}=h;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(d1(this.prevProjectionDelta.x,this.projectionDelta.x),d1(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!x1(this.projectionDelta.x,this.prevProjectionDelta.x)||!x1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),Ol&&so.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ga(),this.projectionDelta=ga(),this.projectionDeltaWithTransform=ga()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},w=ga();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=jt(),E=p?p.source:void 0,I=this.layout?this.layout.source:void 0,R=E!==I,A=this.getStack(),$=!A||A.members.length<=1,q=!!(R&&!$&&this.options.crossfade===!0&&!this.path.some(y4));this.animationProgress=0;let F;this.mixTargetDelta=K=>{const B=K/1e3;S1(w.x,c.x,B),S1(w.y,c.y,B),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gl(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g4(this.relativeTarget,this.relativeTargetOrigin,_,B),F&&e4(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=jt()),er(F,this.relativeTarget)),R&&(this.animationValues=g,KV(g,m,this.latestValues,B,q,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{dd.hasAnimatedSinceResize=!0,this.currentAnimation=UV(0,w1,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:g}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&MS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||jt();const w=On(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const _=On(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+_}er(h,p),va(h,g),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new t4),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&hp("z",c,m,this.animationValues);for(let g=0;g<dp.length;g++)hp(`rotate${dp[g]}`,c,m,this.animationValues),hp(`skew${dp[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}getProjectionStyles(c){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r4;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=ud(c==null?void 0:c.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=ud(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const _=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=n4(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:E,y:I}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,w.animationValues?m.opacity=w===this?(p=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=w===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const R in jd){if(_[R]===void 0)continue;const{correct:A,applyTo:$}=jd[R],q=m.transform==="none"?_[R]:A(_[R],w);if($){const F=$.length;for(let K=0;K<F;K++)m[$[K]]=q}else m[R]=q}return this.options.layoutId&&(m.pointerEvents=w===this?ud(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(_1),this.root.sharedNodes.clear()}}}function i4(t){t.updateLayout()}function o4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?nr(w=>{const _=c?n.measuredBox[w]:n.layoutBox[w],E=On(_);_.min=r[w].min,_.max=_.min+E}):MS(l,n.layoutBox,r)&&nr(w=>{const _=c?n.measuredBox[w]:n.layoutBox[w],E=On(r[w]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+E)});const h=ga();Wl(h,r,n.layoutBox);const p=ga();c?Wl(p,t.applyTransform(o,!0),n.measuredBox):Wl(p,r,n.layoutBox);const m=!NS(h);let g=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:_,layout:E}=w;if(_&&E){const I=jt();Gl(I,n.layoutBox,_.layoutBox);const R=jt();Gl(R,r,E.layoutBox),DS(I,R)||(g=!0),w.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=I,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function a4(t){Ol&&so.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function l4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u4(t){t.clearSnapshot()}function _1(t){t.clearMeasurements()}function c4(t){t.isLayoutDirty=!1}function d4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h4(t){t.resolveTargetDelta()}function f4(t){t.calcProjection()}function p4(t){t.resetSkewAndRotation()}function m4(t){t.removeLeadSnapshot()}function S1(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function E1(t,e,n,r){t.min=mt(e.min,n.min,r),t.max=mt(e.max,n.max,r)}function g4(t,e,n,r){E1(t.x,e.x,n.x,r),E1(t.y,e.y,n.y,r)}function y4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const v4={duration:.45,ease:[.4,0,.1,1]},T1=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j1=T1("applewebkit/")&&!T1("chrome/")?Math.round:Ln;function C1(t){t.min=j1(t.min),t.max=j1(t.max)}function x4(t){C1(t.x),C1(t.y)}function MS(t,e,n){return t==="position"||t==="preserve-aspect"&&!bV(v1(e),v1(n),.2)}function w4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _4=FS({attachResizeListener:(t,e)=>du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fp={current:void 0},LS=FS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fp.current){const t=new _4({});t.mount(window),t.setOptions({layoutScroll:!0}),fp.current=t}return fp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),b4={pan:{Feature:LV},drag:{Feature:MV,ProjectionNode:LS,MeasureLayout:IS}};function A1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&lt.postRender(()=>l(e,ju(e)))}class S4 extends Ti{mount(){const{current:e}=this.node;e&&(this.unmount=bN(e,n=>(A1(this.node,n,"Start"),r=>A1(this.node,r,"End"))))}unmount(){}}class E4 extends Ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tu(du(this.node.current,"focus",()=>this.onFocus()),du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k1(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&lt.postRender(()=>l(e,ju(e)))}class T4 extends Ti{mount(){const{current:e}=this.node;e&&(this.unmount=jN(e,n=>(k1(this.node,n,"Start"),(r,{success:o})=>k1(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ym=new WeakMap,pp=new WeakMap,j4=t=>{const e=ym.get(t.target);e&&e(t)},C4=t=>{t.forEach(j4)};function A4({root:t,...e}){const n=t||document;pp.has(n)||pp.set(n,{});const r=pp.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(C4,{root:t,...e})),r[o]}function k4(t,e,n){const r=A4(e);return ym.set(t,n),r.observe(t),()=>{ym.delete(t),r.unobserve(t)}}const I4={some:0,all:1};class P4 extends Ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:I4[o]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),_=m?g:w;_&&_(p)};return k4(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R4(e,n))&&this.startObserver()}unmount(){}}function R4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const N4={inView:{Feature:P4},tap:{Feature:T4},focus:{Feature:E4},hover:{Feature:S4}},D4={layout:{ProjectionNode:LS,MeasureLayout:IS}},Rd={current:null},Jg={current:!1};function OS(){if(Jg.current=!0,!!_g)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rd.current=t.matches;t.addListener(e),e()}else Rd.current=!1}const V4=[...cS,un,Si],F4=t=>V4.find(uS(t)),I1=new WeakMap;function M4(t,e,n){for(const r in e){const o=e[r],l=n[r];if(hn(o))t.addValue(r,o);else if(hn(l))t.addValue(r,uu(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,uu(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const P1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Xr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,lt.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:g}=c;this.onUpdate=g,this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ih(n),this.isVariantNode=vb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const I=_[E];p[E]!==void 0&&hn(I)&&I.set(p[E],!1)}}mount(e){this.current=e,I1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Jg.current||OS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){I1.delete(this.current),this.projection&&this.projection.unmount(),bi(this.notifyUpdate),bi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wo.has(e),o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pa){const n=Pa[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<P1.length;r++){const o=P1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=M4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(aS(o)||Jb(o))?o=parseFloat(o):!F4(o)&&Si.test(n)&&(o=sS(e,n)),this.setBaseTarget(e,hn(o)?o.get():o)),hn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=Ag(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!hn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ug),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BS extends L4{constructor(){super(...arguments),this.KeyframeResolver=dS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function O4(t){return window.getComputedStyle(t)}class B4 extends BS{constructor(){super(...arguments),this.type="html",this.renderInstance=Cb}readValueFromInstance(e,n){if(wo.has(n)){const r=qg(n);return r&&r.default||0}else{const r=O4(e),o=(Eb(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AS(e,n)}build(e,n,r){Pg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Vg(e,n,r)}}class $4 extends BS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wo.has(n)){const r=qg(n);return r&&r.default||0}return n=Ab.has(n)?n:Tg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Pb(e,n,r)}build(e,n,r){Rg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){kb(e,n,r,o)}mount(e){this.isSVGTag=Dg(e.tagName),super.mount(e)}}const U4=(t,e)=>Cg(t)?new $4(e):new B4(e,{allowProjection:t!==N.Fragment}),z4=mN({...fV,...N4,...b4,...D4},U4),H4=IR(z4);function W4(){!Jg.current&&OS();const[t]=N.useState(Rd.current);return t}const lo={bg:"#0C1C2E",nav:"#0A1728",border:"#2B4C73",icon:"#5C8BC6"};function G4(){return a.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+lo.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function q4(){return a.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[a.jsxs("defs",{children:[a.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[a.jsx("stop",{offset:"0%",stopColor:lo.icon,stopOpacity:"0.42"}),a.jsx("stop",{offset:"70%",stopColor:lo.icon,stopOpacity:"0"})]}),a.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[a.jsx("stop",{offset:"0%",stopColor:lo.icon,stopOpacity:"0.20"}),a.jsx("stop",{offset:"70%",stopColor:lo.icon,stopOpacity:"0"})]})]}),a.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),a.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function R1({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=W4();return a.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:lo.border,background:"var(--nav, "+lo.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[a.jsx(G4,{}),a.jsx(H4.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),a.jsx(q4,{}),a.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const mp={borderColor:"#2B4C73",background:"#1A2F4A"},Zc={borderColor:"#2B4C73",background:"#152A42"};function Cu({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:h,rounded:p="rounded-3xl",padded:m=!0,centerFramed:g=!1,leftWidth:w=0,rightWidth:_=0,stickyRails:E=!0,mode:I="card",outerPadding:R="px-4 py-3",leftPlacement:A="inside",stickyTopbar:$=!0,stickySubheader:q=!0,shellViewportOffset:F="var(--app-topbar-h,72px)",topbarHeight:K=56}){const B={"--left":typeof w=="number"?`${w}px`:w,"--right":typeof _=="number"?`${_}px`:_},Q=a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:mp,children:t}),(e||n||r)&&a.jsxs("div",{className:[$?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:mp,children:[a.jsxs("div",{className:"min-w-0",children:[e&&a.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&a.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?a.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&a.jsx("div",{className:[q?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...q?{top:$?`${K}px`:0}:{},...mp},children:o})]}),C=I==="card"?({children:k})=>a.jsx(R1,{rounded:p,padded:m,children:k}):({children:k})=>a.jsx("div",{className:`w-full ${R}`,children:k}),T=a.jsx("div",{className:"relative min-h-0 h-full",style:B,children:a.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Zc,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):w?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"}),g?a.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Zc,children:h}):a.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:h}),c?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Zc,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"})]})});return A==="bleed"&&I==="card"?a.jsx("div",{className:`w-full ${R}`,children:a.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[Q,a.jsx("div",{className:"flex-1 min-h-0",style:B,children:a.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Zc,position:E?"sticky":"static",top:E?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):w?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"}),a.jsx(R1,{rounded:p,padded:m,children:a.jsx("div",{className:"flex-1 min-h-0 h-full",children:T})})]})})]})}):a.jsx(C,{children:a.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${F})`},children:[Q,a.jsx("div",{className:"flex-1 min-h-0",children:T})]})})}function K4(){return a.jsx(Cu,{hex:a.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"Überblick & aktuelle Aktivitäten",actions:a.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:a.jsx(Q4,{}),right:a.jsx(Y4,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsx(gp,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),a.jsx(gp,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),a.jsx(gp,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function Q4(){return a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(yp,{to:"/dashboard/kpis",children:"KPIs"}),a.jsx(yp,{to:"/dashboard/activity",children:"Activity"}),a.jsx(yp,{to:"/dashboard/progression",children:"Progression"})]})]})}function Y4(){return a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),a.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird später nur bei Login angezeigt."}),a.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),a.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function gp({to:t,title:e,desc:n}){return a.jsxs(Xt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[a.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?a.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function yp({to:t,children:e}){return a.jsx(Xt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function X4(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard – KPIs"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(vp,{label:"Letzter Scan",value:"—",hint:"Zeitpunkt des letzten Uploads"}),a.jsx(vp,{label:"Tracked Spieler",value:"—",hint:"Gesamtzahl deiner getrackten Chars"}),a.jsx(vp,{label:"Gilden-Tasks",value:"—",hint:"Offene Aufgaben im GuildHub"})]})]})}function vp({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),a.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function J4(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard – Activity"}),a.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),a.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[a.jsx("li",{children:"🗒️ Neues Scan-File hochgeladen"}),a.jsx("li",{children:"🏆 Spieler-PR: Lvl-Up / Scrapbook-Update"}),a.jsx("li",{children:"🏰 Gilden-Event geplant"})]})]})}function Z4(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard – Progression"}),a.jsx("p",{style:{opacity:.8},children:"Persönliche Ziele & Fortschritt (Platzhalter)."}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[a.jsx(xp,{title:"Scrapbook 100%",progress:72}),a.jsx(xp,{title:"Fortress Ausbaustufe",progress:48}),a.jsx(xp,{title:"Underworld Boss",progress:35})]})]})}function xp({title:t,progress:e}){return a.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),a.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),a.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function eF(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Discover"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(la,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),a.jsx(la,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),a.jsx(la,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),a.jsx(la,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),a.jsx(la,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons…"}),a.jsx(la,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function la({to:t,title:e,desc:n}){return a.jsxs(Xt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}const vm=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(vm.map(t=>[t.id,t]));const $S="TL_FILTERS_V2",Gr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function tF(){var t;try{const e=localStorage.getItem($S);if(!e)return Gr;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:Gr.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:Gr.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Gr.filterMode;return{...Gr,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Gr.sortBy}}catch(e){return Gr}}function nF(t){try{localStorage.setItem($S,JSON.stringify(t))}catch(e){}}const US=N.createContext(null);function rF({children:t}){const[e,n]=N.useState(()=>tF());N.useEffect(()=>{nF(e)},[e]);const r=K=>n(B=>({...B,servers:Array.from(new Set(K))})),o=K=>n(B=>{const Q=new Set(B.servers);return Q.has(K)?Q.delete(K):Q.add(K),{...B,servers:Array.from(Q)}}),l=()=>n(K=>({...K,servers:[]})),c=K=>n(B=>({...B,classes:Array.from(new Set(K))})),h=K=>n(B=>{const Q=new Set(B.classes);return Q.has(K)?Q.delete(K):Q.add(K),{...B,classes:Array.from(Q)}}),p=()=>n(K=>({...K,classes:[]})),m=K=>n(B=>({...B,days:K})),g=K=>m(K),w=K=>n(B=>({...B,sortBy:K||"level"})),_=K=>n(B=>({...B,favoritesOnly:!!K})),E=K=>n(B=>({...B,activeOnly:!!K})),I=K=>n(B=>({...B,filterMode:K})),R=K=>n(B=>({...B,listView:K})),A=K=>n(B=>({...B,bottomFilterOpen:!!K})),$=K=>n(B=>({...B,serverSheetOpen:!!K})),q=()=>n(Gr),F=N.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:h,clearClasses:p,setDays:m,setRange:g,setSortBy:w,setFavoritesOnly:_,setActiveOnly:E,setFilterMode:I,setListView:R,setBottomFilterOpen:A,setServerSheetOpen:$,resetFilters:q}),[e]);return a.jsx(US.Provider,{value:F,children:t})}function Au(){const t=N.useContext(US);return t||{...Gr,range:Gr.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const sF="_hudWrap_107o7_9",iF="_hudBtn_107o7_11",oF="_hudSubBtn_107o7_15",aF="_iconRow_107o7_19",lF="_segmented_107o7_21",uF="_sortLabel_107o7_27",cF="_sortSelect_107o7_29",dF="_chip_107o7_31",hF="_isActive_107o7_33",jn={hudWrap:sF,hudBtn:iF,hudSubBtn:oF,iconRow:aF,segmented:lF,sortLabel:uF,sortSelect:cF,chip:dF,isActive:hF};function fF({active:t=!1,title:e,iconUrl:n,fallback:r="❓",size:o=40,onClick:l}){const c=Math.round(o*.7),h=ke.useMemo(()=>{const $=[],q=db(n,c*2,c*2,"contain");q&&$.push(q);const F=vg(n,c*2);return F&&F!==q&&$.push(F),!$.length&&n&&$.push(n),$},[n,c]),[p,m]=ke.useState(0),[g,w]=ke.useState(!1),[_,E]=ke.useState(!1);ke.useEffect(()=>m(0),[h]);const I=h[p]||"",R={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(R.background="rgba(255,255,255,.04)"),t&&(R.outline="2px solid #5C8BC6");const A={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return a.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onFocus:()=>E(!0),onBlur:()=>E(!1),style:R,children:I?a.jsx("img",{src:I,alt:e||"class",width:c,height:c,loading:"lazy",style:A,onError:()=>{m($=>$+1<h.length?$+1:$)}}):a.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function pF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:h,setQuickFav:p,quickActive:m,setQuickActive:g,filterMode:w,setBottomFilterOpen:_,serverSheetOpen:E,setServerSheetOpen:I,resetAll:R}=Au();return a.jsxs("div",{className:jn.hudWrap,children:[a.jsxs("button",{type:"button",className:jn.hudBtn,onClick:A=>{A.preventDefault(),A.stopPropagation(),I(!0)},"aria-haspopup":"dialog","aria-expanded":E||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:["🌐 Servers ",t.length?`(${t.length})`:""]}),a.jsxs("div",{className:jn.iconRow,children:[go.map(A=>a.jsx(fF,{active:e.includes(A.key),title:A.label,iconUrl:A.iconUrl,fallback:A.fallback,size:40,onClick:()=>n($=>$.includes(A.key)?$.filter(q=>q!==A.key):[...$,A.key])},A.key)),a.jsx("button",{type:"button",className:jn.hudSubBtn,onClick:()=>n(go.map(A=>A.key)),children:"All"}),a.jsx("button",{type:"button",className:jn.hudSubBtn,onClick:()=>n([]),children:"None"})]}),a.jsx("div",{className:jn.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(A=>a.jsx("button",{type:"button","aria-pressed":r===A,onClick:()=>o(A),children:A},A))}),a.jsx("label",{className:jn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),a.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:A=>c(A.target.value),className:jn.sortSelect,"aria-label":"Sort",children:[a.jsx("option",{value:"level",children:"Level"}),a.jsx("option",{value:"scrapbook",children:"Scrapbook"}),a.jsx("option",{value:"activity",children:"Activity"}),a.jsx("option",{value:"lastScan",children:"Last scan"})]}),a.jsx("button",{type:"button",className:`${jn.chip} ${h?jn.isActive:""}`,onClick:()=>p(A=>!A),children:"⭐ Favorites"}),a.jsx("button",{type:"button",className:`${jn.chip} ${m?jn.isActive:""}`,onClick:()=>g(A=>!A),children:"⚡ Active"}),a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("button",{type:"button",className:jn.hudSubBtn,onClick:R,children:"Reset"}),w==="sheet"&&a.jsx("button",{type:"button",className:jn.hudBtn,onClick:A=>{A.preventDefault(),A.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Ut={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function mF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:h}){const[p,m]=N.useState(""),g=N.useRef(null),[w,_]=N.useState(null),[E,I]=N.useState(!1);N.useEffect(()=>{if(!t)return;const F=K=>{K.key==="Escape"&&e()};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[t,e]),N.useEffect(()=>{if(t&&g.current){const F=g.current.querySelector("#sheet-serversearch");F==null||F.focus()}},[t]);const R=N.useMemo(()=>["EU","US","INT","Fusion"].every(K=>{var B;return!((B=r==null?void 0:r[K])!=null&&B.length)}),[r]);N.useEffect(()=>{if(!t||!R)return;let F=!0;return(async()=>{try{I(!0);const K=await vP(bs(rr,"stats_public","toplists_bundle_v1"));if(!F)return;const B=K.data()||{},Q=Array.isArray(B.servers)?B.servers:JSON.parse(B.servers||"[]");_(gF(Q))}catch(K){_(null)}finally{F&&I(!1)}})(),()=>{F=!1}},[t,R]);const A=N.useMemo(()=>R?w!=null?w:{EU:[],US:[],INT:[],Fusion:[]}:r,[R,r,w]),$=N.useMemo(()=>Object.keys(A),[A]),q=F=>{const K=p.trim().toLowerCase();return K?F.toLowerCase().includes(K):!0};return t?a.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:vF,onClick:F=>{F.target===F.currentTarget&&e()},children:a.jsxs("div",{ref:g,style:n==="modal"?zS:xF,className:"sf-server-sheet",children:[a.jsxs("div",{style:wF,children:[a.jsx("h2",{id:"server-dialog-title",style:_F,children:"Select servers"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{type:"button",onClick:h,style:N1,children:"Clear"}),a.jsx("button",{type:"button",onClick:e,style:AF,children:"Done"})]})]}),a.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[a.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),a.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers…",value:p,onChange:F=>m(F.target.value),"aria-label":"Search servers",autoComplete:"off",style:SF})]}),a.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:$.map(F=>{const K=(A[F]||[]).filter(q);return a.jsxs("section",{"aria-labelledby":`region-${F}`,children:[a.jsxs("div",{style:EF,children:[a.jsxs("h3",{id:`region-${F}`,style:bF,children:[F," ",E&&R?a.jsx("span",{style:{marginLeft:6,fontSize:12,color:Ut.text2},children:"(loading…)"}):null]}),a.jsx("div",{style:{display:"flex",gap:8},children:a.jsx("button",{type:"button",style:N1,onClick:()=>{c?c(F):K.filter(Q=>!o.includes(Q)).forEach(l)},children:"Select all"})})]}),a.jsxs("div",{style:TF,children:[K.map(B=>{const Q=o.includes(B);return a.jsx("button",{type:"button",onClick:()=>l(B),"aria-pressed":Q,title:B,style:{...jF,...Q?CF:null},children:B},B)}),K.length===0&&a.jsx("div",{style:{color:Ut.text2,fontSize:13,padding:"4px 2px"},children:E&&R?"Loading…":"No servers found"})]})]},F)})})]})}):null}function gF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(yF)),e}function yF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const vF={position:"fixed",inset:0,background:Ut.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},zS={width:"min(900px, 100%)",background:Ut.tile,border:`1px solid ${Ut.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Ut.text},xF={...zS,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},wF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},_F={fontSize:18,margin:0},bF={fontSize:14,margin:0,color:Ut.text2},SF={width:"100%",background:Ut.input,color:Ut.text,border:`1px solid ${Ut.line}`,borderRadius:12,padding:"10px 12px"},EF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},TF={display:"flex",flexWrap:"wrap",gap:8},jF={background:Ut.chip,border:`1px solid ${Ut.line}`,padding:"6px 10px",borderRadius:999,color:Ut.text},CF={outline:`2px solid ${Ut.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},AF={background:"#25456B",color:Ut.text,border:`1px solid ${Ut.accent}`,borderRadius:10,padding:"8px 12px"},N1={background:"transparent",color:Ut.text,border:`1px solid ${Ut.line}`,borderRadius:10,padding:"8px 12px"},kF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=kF,document.head.appendChild(e)}}const Zt={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function IF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:h,quickFav:p,setQuickFav:m,quickActive:g,setQuickActive:w}=Au(),_=N.useRef(null);return N.useEffect(()=>{if(!t)return;const E=I=>{I.key==="Escape"&&e()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,e]),N.useEffect(()=>{if(t&&_.current){const E=_.current.querySelector("#sheet-search");E==null||E.focus()}},[t]),t?a.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:PF,onClick:E=>{E.target===E.currentTarget&&e()},children:a.jsxs("div",{ref:_,style:RF,children:[a.jsxs("div",{style:NF,children:[a.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Zt.text},children:"Filters"}),a.jsx("button",{type:"button",onClick:e,style:VF,children:"Done"})]}),a.jsxs("div",{style:{display:"grid",gap:8},children:[a.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),a.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search…",value:n,onChange:E=>r(E.target.value),"aria-label":"Search",autoComplete:"off",style:HS})]}),a.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[a.jsx("span",{style:{color:Zt.text2,fontSize:12},children:"Range"}),a.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(E=>a.jsx("button",{type:"button","aria-pressed":o===E,onClick:()=>l(E),style:{...wp,...o===E?_p:null},children:E},E))})]}),a.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[a.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Zt.text2,fontSize:12},children:"Sort"}),a.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:E=>h(E.target.value),"aria-label":"Sort",autoComplete:"off",style:DF,children:[a.jsx("option",{value:"sum",children:"Base Sum"}),a.jsx("option",{value:"main",children:"Main Base Stat"}),a.jsx("option",{value:"constitution",children:"Constitution"}),a.jsx("option",{value:"level",children:"Level"}),a.jsx("option",{value:"delta",children:"Δ Rank"}),a.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[a.jsx("button",{type:"button",onClick:()=>m(E=>!E),"aria-pressed":p,style:{...wp,...p?_p:null},children:"⭐ Favorites"}),a.jsx("button",{type:"button",onClick:()=>w(E=>!E),"aria-pressed":g,style:{...wp,...g?_p:null},children:"⚡ Active"})]})]})}):null}const PF={position:"fixed",inset:0,background:Zt.backdrop,zIndex:60,display:"grid",alignItems:"end"},RF={background:Zt.tile,borderTop:`1px solid ${Zt.line}`,borderLeft:`1px solid ${Zt.line}`,borderRight:`1px solid ${Zt.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Zt.text,maxHeight:"80vh",overflow:"auto"},NF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},HS={width:"100%",background:Zt.input,color:Zt.text,border:`1px solid ${Zt.line}`,borderRadius:12,padding:"10px 12px"},DF={...HS,appearance:"none"},wp={background:"#14273E",border:`1px solid ${Zt.line}`,padding:"6px 10px",borderRadius:999,color:Zt.text},_p={outline:`2px solid ${Zt.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},VF={background:"#25456B",color:Zt.text,border:`1px solid ${Zt.accent}`,borderRadius:10,padding:"8px 12px"},FF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=FF,document.head.appendChild(e)}}function MF(){var o;const t=Au(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:a.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[a.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:a.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,h,p,m,g,w,_;return a.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[a.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),a.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(h=l.server)!=null?h:""})]}),a.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",a.jsx("span",{style:{textTransform:"uppercase"},children:(p=l.class)!=null?p:""})," • Lv ",(m=l.level)!=null?m:""," • Scrap ",(g=l.scrapbook)!=null?g:""]}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[a.jsx(bp,{children:l.active?"Active":"Idle"}),l.favorite&&a.jsx(bp,{children:"★ Fav"}),a.jsx(bp,{children:`Scan ${(w=l.lastScanDays)!=null?w:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,h,p,m;return a.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&"★ ",(c=l.name)!=null?c:"",a.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(h=l.server)!=null?h:""," • Lv ",(p=l.level)!=null?p:"",")"]})]},(m=l.id)!=null?m:`${l.name}-${l.server}`)})})]})}function bp({children:t}){return a.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const WS=N.createContext(null),D1=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function LF(t,e){return t.timeRange===e.timeRange&&D1(t.servers,e.servers)&&D1(t.classes,e.classes)}function OF(t,e){return t.field===e.field&&t.dir===e.dir}function BF({children:t}){const[e,n]=N.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=N.useState({field:"Level",dir:"desc"}),[l,c]=N.useState({loading:!1,error:null,data:[],lastUpdated:null}),h=N.useCallback(w=>{n(_=>{const E=typeof w=="function"?w(_):{..._,...w};return LF(_,E)?_:E})},[]),p=N.useCallback(w=>{o(_=>{const E=typeof w=="function"?w(_):w;return OF(_,E)?_:E})},[]),m=N.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);N.useEffect(()=>{let w=!1;return w||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{w=!0}},[m]);const g=N.useMemo(()=>({state:l,filters:e,sort:r,setFilters:h,setSort:p}),[l,e,r,h,p]);return a.jsx(WS.Provider,{value:g,children:t})}function $F(){const t=N.useContext(WS);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function UF(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function zF(){const t=Au(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:h,setServerSheetOpen:p,servers:m,setServers:g,classes:w,range:_,sortBy:E}=t;return a.jsxs(a.Fragment,{children:[a.jsxs(Cu,{mode:"card",title:"Top Lists",actions:a.jsx(WF,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?a.jsx(pF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[a.jsx(MF,{}),r==="table"&&a.jsx(BF,{db:rr,children:a.jsx(HF,{servers:m!=null?m:[],classes:w!=null?w:[],range:_!=null?_:"all",sortKey:E!=null?E:"level"})})]}),a.jsx(mF,{mode:"modal",open:h,onClose:()=>p(!1),serversByRegion:vm,selected:m,onToggle:I=>g(R=>R.includes(I)?R.filter(A=>A!==I):[...R,I]),onSelectAllInRegion:I=>g(vm[I]),onClearAll:()=>g([])}),a.jsx(IF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function HF({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=$F(),{loading:h,error:p,data:m,lastUpdated:g}=o;N.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),N.useEffect(()=>{const _=UF(r);c(_)},[r,c]);const w=_=>_==null?"":new Intl.NumberFormat("en").format(_);return a.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[a.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[a.jsxs("div",{children:[h?"Loading…":p?"Error":"Ready"," • ",m.length," rows"]}),a.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),p&&a.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[a.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),a.jsx("div",{style:{wordBreak:"break-all"},children:p}),a.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{padding:"8px 6px"},children:"#"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Δ Rank"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),a.jsxs("tbody",{children:[m.map((_,E)=>{var I,R,A;return a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),a.jsx("td",{style:{padding:"8px 6px"},children:_["Δ Rank"]}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Level)}),a.jsx("td",{style:{padding:"8px 6px"},children:(I=_.Guild)!=null?I:""}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Main)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Con)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_["Sum Base Stats"])}),a.jsx("td",{style:{padding:"8px 6px"},children:(R=_.Ratio)!=null?R:""}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Mine)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Treasury)}),a.jsx("td",{style:{padding:"8px 6px"},children:(A=_["Last Scan"])!=null?A:""}),a.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${E}`)}),h&&m.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:15,style:{padding:12},children:"Loading…"})}),!h&&!p&&m.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function WF(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=Au();return a.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[a.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[a.jsx(V1,{to:"/toplists/players",label:"Players"}),a.jsx(V1,{to:"/toplists/guilds",label:"Guilds"})]}),a.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),a.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[a.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),a.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),a.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),a.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:"🌐 Servers"}),a.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[a.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),a.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),a.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function V1({to:t,label:e}){return a.jsx(Fn,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const GF=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function qF(){return a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds · snapshot (latest)"}),GF.map(t=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[a.jsxs("div",{children:["#",t.rank]}),a.jsxs("div",{children:[t.name," — ",t.server]}),a.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),a.jsxs("div",{children:["Δ ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function KF(t="players"){const e=Vd(),{search:n,pathname:r}=Rs();return[new URLSearchParams(n).get("tab")||t,h=>{const p=new URLSearchParams(n);p.set("tab",h),e(`${r}?${p.toString()}`,{replace:!1})}]}function QF(){const[t,e]=KF("players");return a.jsx(rF,{children:t==="players"?a.jsx(zF,{tab:t,setTab:e}):a.jsx(qF,{tab:t,setTab:e})})}function YF(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players – Browse"})})}function XF(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players – Rankings"})})}function JF(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players – Stats"})})}const dt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",textSoft:"var(--text-soft, #B0C4D9)",title:"var(--title, #F5F9FF)",active:"var(--active, #2D4E78)"},ZF=[{id:"nox",name:"Nox",className:"Demon Hunter",level:500,guild:"Night Watch",server:"EU 1",scrapbookPct:96.7,totalStats:123456,lastScanDays:2,activityScore:82},{id:"nox-alt",name:"Nox Alt",className:"Warrior",level:420,guild:"Night Watch",server:"EU 1",scrapbookPct:88.3,totalStats:98765,lastScanDays:5,activityScore:61}],eM=[{id:"ally-1",name:"Ari",className:"Mage",level:505,guild:"Night Watch",server:"EU 1",scrapbookPct:94.2,totalStats:121e3,lastScanDays:1,activityScore:90},{id:"ally-2",name:"Rook",className:"Scout",level:498,guild:"Blackfeather",server:"EU 2",scrapbookPct:92.5,totalStats:118200,lastScanDays:3,activityScore:78}];function Nd({children:t,style:e}){return a.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function GS({label:t,size:e=48}){const n=t.split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return a.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${dt.tileAlt}, ${dt.active})`,color:dt.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${dt.line}`,boxShadow:"0 0 0 3px rgba(45,78,120,.25)"},"aria-hidden":!0,children:n||"?"})}function Sp({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:dt.tileAlt,border:`1px solid ${dt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{style:{fontSize:12,color:dt.textSoft,marginBottom:4},children:t}),a.jsx("div",{style:{fontSize:22,color:dt.title,fontWeight:700},children:e}),n?a.jsx("div",{style:{fontSize:12,color:dt.textSoft,marginTop:4},children:n}):null]})}function tM({all:t,favIds:e,activeId:n,onPick:r}){return a.jsx("div",{style:{background:"transparent",borderBottom:`1px solid ${dt.line}`},children:a.jsx(Nd,{style:{padding:"10px 16px 8px"},children:a.jsx("div",{style:{display:"flex",gap:12,overflowX:"auto",paddingBottom:4},children:t.map(o=>{const l=o.id===n,c=e.has(o.id);return a.jsxs("button",{onClick:()=>r(o.id),style:{display:"inline-flex",alignItems:"center",gap:10,padding:"6px 10px",borderRadius:16,border:"none",background:"transparent",color:l?dt.title:"#d2e3ff",cursor:"pointer",position:"relative",boxShadow:l?"0 2px 14px rgba(19,33,53,.45)":"none",outline:l?`1px solid ${dt.active}`:"1px solid transparent",transition:"transform .12s ease, outline-color .12s ease",whiteSpace:"nowrap"},title:`${o.name} • ${o.className} • L${o.level}`,onMouseDown:h=>h.currentTarget.style.transform="scale(.98)",onMouseUp:h=>h.currentTarget.style.transform="scale(1)",onMouseLeave:h=>h.currentTarget.style.transform="scale(1)",children:[a.jsx(GS,{label:o.name,size:48}),a.jsxs("div",{style:{textAlign:"left"},children:[a.jsxs("div",{style:{fontSize:14,fontWeight:700,lineHeight:1.05},children:[o.name,c?" ★":""]}),a.jsxs("div",{style:{fontSize:11,opacity:.7},children:[o.className," • L",o.level]})]})]},o.id)})})})})}function nM({char:t}){var w,_,E;const[e,n]=N.useState("overview"),[r,o]=N.useState("basestats"),[l,c]=N.useState("manual"),h=({value:I,children:R})=>a.jsx("button",{onClick:()=>n(I),style:{flex:1,padding:12,background:e===I?dt.active:"#1A2F4A",color:e===I?"#fff":dt.textSoft,border:"none",cursor:"pointer",fontSize:14},children:R}),p=({children:I})=>a.jsx("div",{style:{background:dt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${dt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:I}),m=(w=t.level)!=null?w:0,g=((_=t.scrapbookPct)!=null?_:0).toFixed(1);return a.jsxs(Nd,{style:{paddingTop:12,paddingBottom:24},children:[a.jsxs("div",{style:{background:dt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${dt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{children:a.jsx("h2",{style:{margin:0,color:dt.title,fontSize:24,fontWeight:800},children:t.name})}),a.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[a.jsxs("span",{style:{color:dt.textSoft},children:["Zuletzt aktualisiert: ",(E=t.lastScanDays)!=null?E:0," Tag(e) her"]}),a.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),a.jsxs("div",{style:{display:"flex",background:"#1A2F4A",marginTop:12,borderRadius:6,overflow:"hidden",border:`1px solid ${dt.line}`},children:[a.jsx(h,{value:"overview",children:"Übersicht"}),a.jsx(h,{value:"stats",children:"Statistiken"}),a.jsx(h,{value:"charts",children:"Charts"}),a.jsx(h,{value:"progress",children:"Fortschritt"}),a.jsx(h,{value:"compare",children:"Vergleich"}),a.jsx(h,{value:"history",children:"Historie"})]}),a.jsxs(p,{children:[a.jsxs("div",{children:["📈 Level-Verlauf (L",m,")"]}),a.jsxs("div",{children:["📊 Scrapbook-Fortschritt (",g,"%)"]})]})]})}function Ep(){var h,p,m,g,w,_,E,I;const[t]=N.useState(ZF),[e]=N.useState(eM),[n,r]=N.useState((g=(m=(h=t[0])==null?void 0:h.id)!=null?m:(p=e[0])==null?void 0:p.id)!=null?g:"active"),o=N.useMemo(()=>new Set(e.map(R=>R.id)),[e]),l=N.useMemo(()=>{const R=new Set,A=[];return[...t,...e].forEach($=>{R.has($.id)||(R.add($.id),A.push($))}),A},[t,e]),c=N.useMemo(()=>{var R,A;return(A=(R=l.find($=>$.id===n))!=null?R:l[0])!=null?A:{id:"fallback",name:"Nox",className:"Demon Hunter",level:500,guild:"Night Watch",server:"EU 1",scrapbookPct:96.7,totalStats:123456,lastScanDays:2,activityScore:82}},[l,n]);return a.jsxs(Cu,{title:"Spielerprofil",subtitle:"Charaktere, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[a.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${dt.line}`},children:a.jsxs(Nd,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[a.jsx(GS,{label:c.name,size:36}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:18,color:dt.title,fontWeight:700},children:c.name}),a.jsxs("div",{style:{fontSize:12,color:dt.textSoft},children:[c.className," • ",c.guild," • ",c.server]})]})]})}),a.jsx(tM,{all:l,favIds:o,activeId:c.id,onPick:r}),a.jsx(Nd,{style:{padding:"16px 16px 0"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16},children:[a.jsx(Sp,{label:"Level",value:(w=c.level)!=null?w:500,hint:"Main character shown first"}),a.jsx(Sp,{label:"Total Stats",value:((_=c.totalStats)!=null?_:123456).toLocaleString()}),a.jsx(Sp,{label:"Guild",value:(E=c.guild)!=null?E:"Night Watch",hint:(I=c.server)!=null?I:"EU 1"})]})}),a.jsx(nM,{char:c})]})}function rM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(F1,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),a.jsx(F1,{to:"/guilds/stats",title:"Stats",desc:"Aktivität, Beitritte, Meilensteine"})]})]})}function F1({to:t,title:e,desc:n}){return a.jsxs(Xt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function sM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds – Rankings"}),a.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function iM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds – Stats"}),a.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivität, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function oM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(M1,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),a.jsx(M1,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivität, Peaks"})]})]})}function M1({to:t,title:e,desc:n}){return a.jsxs(Xt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function aM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers – Rankings"}),a.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function lM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers – Stats"}),a.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivität, Population, Peaks (Platzhalter)."})]})}function uM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guides"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(xs,{to:"/guides/fortress",title:"Fortress",desc:"Bau- und Ressourcenpfade"}),a.jsx(xs,{to:"/guides/underworld",title:"Underworld",desc:"Dämonen, Folterkeller, Gegner"}),a.jsx(xs,{to:"/guides/arena-am",title:"Arena/AM",desc:"AM-Routen & Strider-Setups"}),a.jsx(xs,{to:"/guides/dungeons",title:"Dungeons",desc:"Dungeons, Epics, Hotkeys"}),a.jsx(xs,{to:"/guides/hellevator",title:"Hellevator",desc:"Etagen & Belohnungen"}),a.jsx(xs,{to:"/guides/legendary-dungeon",title:"Legendary Dungeon",desc:"Mechaniken & Tipps"}),a.jsx(xs,{to:"/guides/events",title:"Events",desc:"Kalender, Event-Zyklen"}),a.jsx(xs,{to:"/guides/calculators",title:"Calculators",desc:"Stats, Gems, Fortress, …"}),a.jsx(xs,{to:"/guides/infographics",title:"Infografiken",desc:"Cheatsheets & Übersichten"})]})]})}function xs({to:t,title:e,desc:n}){return a.jsxs(Xt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function cM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Fortress"}),a.jsx("p",{style:{opacity:.8},children:"Bau-Reihenfolgen, Ressourcen, Skip-Orders (Platzhalter)."})]})}function dM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Underworld"}),a.jsx("p",{style:{opacity:.8},children:"Unterwelt + Calculator, Pro-Pack-Skip (Platzhalter)."})]})}function hM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Arena / AM"}),a.jsx("p",{style:{opacity:.8},children:"AM-Run-Boni, Strider’s AM-Guide (Platzhalter)."})]})}function fM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Dungeons"}),a.jsx("p",{style:{opacity:.8},children:"Übersicht über Dungeons, Epics & Legendaries (Platzhalter)."})]})}function pM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Hellevator"}),a.jsx("p",{style:{opacity:.8},children:"Etagen-Belohnungen und Tipps (Platzhalter)."})]})}function mM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Legendary Dungeon"}),a.jsx("p",{style:{opacity:.8},children:"Mechaniken, Epics & Strategien (Platzhalter)."})]})}function gM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Events"}),a.jsx("p",{style:{opacity:.8},children:"Eventkalender, Zyklen & Tipps (Platzhalter)."})]})}function yM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Calculators"}),a.jsx("p",{style:{opacity:.8},children:"Stats-, Gem-, Fortress-, Underworld-Rechner (Platzhalter)."})]})}function vM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide – Infografiken"}),a.jsx("p",{style:{opacity:.8},children:"Cheatsheets, Hotkeys und Visuals (Platzhalter)."})]})}function xM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsxs(Xt,{to:"/community/scans",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Scans"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Community-Uploads"})]}),a.jsxs(Xt,{to:"/community/predictions",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Predictions"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Tipps, Votes & Prognosen"})]}),a.jsxs(Xt,{to:"/community/creators",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Creators"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Streams, Videos, Guides"})]}),a.jsxs(Xt,{to:"/community/news",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"News"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Updates & Ankündigungen"})]}),a.jsxs(Xt,{to:"/community/feedback",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Feedback"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Feature-Wünsche & Bugreports"})]})]})]})}function wM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community – Scans"}),a.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function _M(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community – Predictions"}),a.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function bM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community – Creators"}),a.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function SM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community – Feedback"}),a.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wünsche, Bugs und Ideen (Platzhalter)."})]})}function EM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community – News"}),a.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function TM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsxs(Xt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),a.jsxs(Xt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Ältere Scans & Verlauf"})]})]})]})}function jM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans – Letzter Scan"}),a.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function CM(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans – Archiv"}),a.jsx("p",{style:{opacity:.8},children:"Hier kannst du ältere Scans durchsuchen (Platzhalter)."})]})}function AM(){return a.jsx(Cu,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:a.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:a.jsx(kM,{}),right:a.jsx(IM,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[a.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),a.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Wähle links einen Bereich (Planner, Fusion, Waitlist, …) oder nutze unten die Kacheln."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsx(Tp,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),a.jsx(Tp,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),a.jsx(Tp,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function kM(){return a.jsxs("nav",{className:"space-y-2 text-sm",children:[a.jsx(ed,{to:"/guild-hub/planner",children:"Planner"}),a.jsx(ed,{to:"/guild-hub/fusion",children:"Fusion"}),a.jsx(ed,{to:"/guild-hub/waitlist",children:"Waitlist"}),a.jsx(ed,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function IM(){return a.jsxs("aside",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),a.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden später hier gesteuert."})]})}function Tp({to:t,title:e,desc:n}){return a.jsxs(Xt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[a.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?a.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function ed({to:t,children:e}){return a.jsx(Xt,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function PM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Planner"})})}function RM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Fusion"})})}function NM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Waitlist"})})}function DM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Activity"})})}function VM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Imports"})})}function FM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Announcements"})})}function MM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Events"})})}function LM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Roles"})})}function OM(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub – Settings"})})}function BM(){return a.jsx(Cu,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:a.jsx("div",{className:"space-y-4",children:a.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[a.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",a.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),a.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",a.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const qt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12}};function $M(){return a.jsx("div",{style:qt.wrap,children:a.jsxs("div",{style:qt.grid,children:[a.jsxs("aside",{style:qt.tile,children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),a.jsx("p",{style:qt.note,children:"Kleine Spielwiese für UI/Flows. Links wählen, rechts live ansehen."}),a.jsxs("nav",{children:[a.jsx(Fn,{to:"list-views",style:({isActive:t})=>({...qt.link,...t?qt.active:{}}),children:"List-View Switcher"}),a.jsx(Fn,{to:"rescan-widget",style:({isActive:t})=>({...qt.link,...t?qt.active:{}}),children:"Rescan Widget (auto)"}),a.jsx(Fn,{to:"upload-sim",style:({isActive:t})=>({...qt.link,...t?qt.active:{}}),children:"Upload Simulator"}),a.jsx(Fn,{to:"hud/game-buttons",style:({isActive:t})=>({...qt.link,...t?qt.active:{}}),children:"HUD · Game Buttons"}),a.jsx(Fn,{to:"theme-maker",style:({isActive:t})=>({...qt.link,...t?qt.active:{}}),children:"Theme / Template Maker"}),a.jsx(Fn,{to:"theme-maker-pro",style:({isActive:t})=>({...qt.link,...t?qt.active:{}}),children:"Theme / Template Maker · Pro"})]})]}),a.jsx("section",{style:qt.tile,children:a.jsx(yw,{})})]})})}function UM(){return a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),a.jsx("div",{className:"mt-4 grid gap-3",children:a.jsx(Fn,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const re={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},zM=()=>a.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),io={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function HM(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function $a(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",HM(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function qS(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},h={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},p={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},m={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},w={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},E={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:h,neon:p,plasma:m,aurora:g,satin:w,matte:_,holo:E}[t.material]}function ji(t){const e={color:re.title,borderColor:re.border,...qS(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const ku=({children:t})=>a.jsx("span",{className:"relative z-10",children:t});function Ua({fx:t,clip:e}){return a.jsxs(a.Fragment,{children:[t.shine&&a.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:a.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&a.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&a.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&a.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&a.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>a.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function WM({fx:t,children:e}){const n=$a(t),r=ji(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),a.jsx(Ua,{fx:t,clip:o}),t.withIcon&&a.jsx(Ew,{size:16,className:"relative z-10"}),a.jsx(ku,{children:e})]})}function GM({fx:t,children:e}){const n=$a(t),r=ji(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),a.jsx(Ua,{fx:t,clip:o}),t.withIcon&&a.jsx(Tw,{size:16,className:"relative z-10"}),a.jsx(ku,{children:e})]})}function qM({fx:t,children:e}){const n=$a(t),r=ji(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),a.jsx(Ua,{fx:t,clip:o}),t.withIcon&&a.jsx(pu,{size:16,className:"relative z-10"}),a.jsx(ku,{children:e})]})}function KM({fx:t,children:e}){const n=$a(t),r=ji(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${re.tile}, ${re.active})`}}),a.jsx(Ua,{fx:t,clip:o}),t.withIcon&&a.jsx(jw,{size:16,className:"relative z-10"}),a.jsx(ku,{children:e})]})}function QM({fx:t,children:e}){const n=$a(t),r=ji(t);return a.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[a.jsx(Ua,{fx:t}),t.withIcon&&a.jsx(Md,{size:16,className:"relative z-10"}),a.jsx(ku,{children:e})]})}function YM({fx:t,tabs:e}){const[n,r]=N.useState(0);return a.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:e.map((o,l)=>a.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?re.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&a.jsx(Md,{size:14,className:"inline mr-1"}),o]},l))})}function XM({fx:t}){const e=$a(t),n=ji(t);return a.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:a.jsx(Cw,{})})}const xm={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function JM({fx:t,setFx:e}){const n=(h,p)=>e(m=>({...m,[h]:p})),r=h=>e(p=>({...p,[h]:!p[h]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return a.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${re.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Presets"}),Object.keys(xm).map(h=>a.jsx("button",{onClick:()=>e(p=>xm[h](p)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:re.btn,borderColor:re.border,color:re.title},children:h},h))]}),a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${re.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Material"}),o.map(h=>a.jsx("button",{onClick:()=>n("material",h),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===h?"":"opacity-70"}`,style:{backgroundColor:t.material===h?re.active:re.btn,borderColor:re.border,color:re.title},children:h},h)),a.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:re.title},children:"Size"}),["sm","md","lg"].map(h=>a.jsx("button",{onClick:()=>n("size",h),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===h?"":"opacity-70"}`,style:{backgroundColor:t.size===h?re.active:re.btn,borderColor:re.border,color:re.title},children:h.toUpperCase()},h)),a.jsx("button",{onClick:()=>e(h=>({...h,withIcon:!h.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?re.active:re.btn,borderColor:re.border,color:re.title},children:"Icon"}),a.jsx("button",{onClick:()=>e(h=>({...h,disabled:!h.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?re.active:re.btn,borderColor:re.border,color:re.title},children:"Disabled"})]}),a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${re.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Core FX"}),l.map(([h,p])=>a.jsx("button",{onClick:()=>r(h),className:`px-2.5 py-1 rounded-md border text-xs ${t[h]?"":"opacity-70"}`,style:{backgroundColor:t[h]?re.active:re.btn,borderColor:re.border,color:re.title},children:p},h))]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:re.title},children:"Advanced"}),c.map(([h,p])=>a.jsx("button",{onClick:()=>r(h),className:`px-2.5 py-1 rounded-md border text-xs ${t[h]?"":"opacity-70"}`,style:{backgroundColor:t[h]?re.active:re.btn,borderColor:re.border,color:re.title},children:p},h))]}),a.jsx("button",{onClick:()=>e(io),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:re.btn,borderColor:re.border,color:re.title},children:"Reset"})]})}function st({fx:t,className:e="",style:n={},children:r,clip:o}){const l=ji(t);return a.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[a.jsx(Ua,{fx:t,clip:o}),a.jsx("div",{className:"relative z-10",children:r})]})}function yn({fx:t,className:e="",children:n}){return a.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:n})}function ZM({fx:t}){const[e,n]=N.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Toggle Chips"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return a.jsx(st,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(c=>l?c.filter(h=>h!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function eL({fx:t}){return a.jsxs(yn,{fx:t,className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",style:{color:re.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>a.jsx(st,{fx:t,className:"rounded-xl border p-2",style:{borderColor:re.border},children:a.jsxs("button",{className:"relative",children:[a.jsx(Cw,{size:16}),e===3&&a.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function tL({fx:t}){return a.jsxs(st,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Breadcrumb HUD"}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>a.jsx(st,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:re.border},children:e},e))})]})}function nL({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Stat Tiles"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>a.jsxs(st,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:re.border},children:[a.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),a.jsx("div",{className:"text-sm",children:n.v}),a.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function rL({fx:t}){const[e,n]=N.useState(.66);return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Meter / Energy Bar"}),a.jsx(st,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:re.border},children:a.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),a.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function sL({fx:t}){return a.jsxs(yn,{fx:t,className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Badge / Medal"}),a.jsxs(st,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:re.border},children:[a.jsx(pu,{size:16}),a.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function iL({fx:t}){const[e,n]=N.useState(!1);return a.jsxs(yn,{fx:t,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Toast / Notification"}),a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&a.jsxs(st,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:re.border},children:[a.jsx("span",{className:"text-xs text-white",children:"Scan complete • 14 new players"}),a.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:"×"})]})]})}function oL({fx:t}){const[e,n]=N.useState(!0);return a.jsxs(yn,{fx:t,className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Toggle Switch"}),a.jsxs(st,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:re.border},children:[a.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),a.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function aL({fx:t}){const[e,n]=N.useState(!1),r=["Overview","Stats","Activity","Hydra"];return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Dropdown HUD"}),a.jsx(st,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section…"})}),e&&a.jsx(st,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:re.border},children:r.map(o=>a.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function lL({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Radial Menu (Preview)"}),a.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,h=56+Math.sin(o)*l;return a.jsx(st,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:h,borderColor:re.border},children:n},n)}),a.jsx(st,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:re.border},children:"Menu"})]})]})}function uL({fx:t}){const e=[1,2,3,4,5],[n,r]=N.useState(2);return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Pagination HUD"}),a.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>a.jsx(st,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:re.border},children:a.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function cL({fx:t}){const[e,n]=N.useState(!1);return a.jsxs(yn,{fx:t,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:re.title},children:"Modal HUD"}),a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&a.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:a.jsxs(st,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:re.border},children:[a.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),a.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function dL({fx:t}){const[e,n]=N.useState("");return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Search HUD"}),a.jsx(st,{fx:t,className:"rounded-lg border p-2",style:{borderColor:re.border},children:a.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search…",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function hL({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=N.useState("Bravo");return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"List Selectable"}),a.jsx("div",{className:"space-y-2",children:e.map(o=>a.jsx(st,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:re.border},children:a.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function fL({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=N.useState(1);return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Steps"}),a.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>a.jsxs(ke.Fragment,{children:[a.jsx(st,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:re.border},children:l+1}),l<e.length-1&&a.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),a.jsx(st,{fx:t,className:"rounded-md border",style:{borderColor:re.border},children:a.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function pL({fx:t}){const e=["⚡","◆","⬡","⛨","◎","☰"];return a.jsxs(yn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:re.title},children:"Dock Bar"}),a.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>a.jsx(st,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:re.border},children:n},r))})]})}function mL(){const[t,e]=N.useState(io);return a.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:re.bg,color:re.txt},children:[a.jsx(zM,{}),a.jsxs("header",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rj,{}),a.jsx("h1",{className:"text-xl font-bold",style:{color:re.title},children:"Game Buttons Playground"}),a.jsx("span",{className:"text-xs",style:{color:re.txt2},children:"(Materials + FX extended + Presets)"})]})}),a.jsx(JM,{fx:t,setFx:e})]}),a.jsxs("section",{className:"grid gap-4",children:[a.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold mb-3",style:{color:re.title},children:"Shapes"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(WM,{fx:t,children:[a.jsx(Ew,{size:16})," Diamond"]}),a.jsxs(GM,{fx:t,children:[a.jsx(Tw,{size:16})," Hex"]}),a.jsxs(qM,{fx:t,children:[a.jsx(pu,{size:16})," Octagon/Shield"]}),a.jsxs(KM,{fx:t,children:[a.jsx(jw,{size:16})," Shard"]}),a.jsxs(QM,{fx:t,children:[a.jsx(Md,{size:16})," Pill/Chip"]}),a.jsx(XM,{fx:t})]})]}),a.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold",style:{color:re.title},children:"Tabs"}),a.jsx(YM,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),a.jsx("section",{className:"grid gap-4",children:a.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:re.tile,border:t.baseBorder?`1px solid ${re.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold mb-3",style:{color:re.title},children:"More HUD Patterns"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[a.jsx(ZM,{fx:t}),a.jsx(eL,{fx:t}),a.jsx(tL,{fx:t}),a.jsx(nL,{fx:t}),a.jsx(rL,{fx:t}),a.jsx(sL,{fx:t}),a.jsx(iL,{fx:t}),a.jsx(oL,{fx:t}),a.jsx(aL,{fx:t}),a.jsx(lL,{fx:t}),a.jsx(uL,{fx:t}),a.jsx(cL,{fx:t}),a.jsx(dL,{fx:t}),a.jsx(hL,{fx:t}),a.jsx(fL,{fx:t}),a.jsx(pL,{fx:t})]})]})}),a.jsx(gL,{}),a.jsx("footer",{className:"text-center text-xs",style:{color:re.txt2},children:"SFDataHub palette • Tailwind • No external assets"})]})}function gL(){return N.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(io.material),"Material type present");const e=ji(io);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=qS({...io,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof io[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(xm).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...io});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground – Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const ql={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},L1={Arcade:{...ql,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...ql,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},ua={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},KS={display:"grid",gap:8,alignItems:"center"};function ws({label:t,value:e,onChange:n}){return a.jsxs("label",{style:{...KS,gridTemplateColumns:"120px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function jp({label:t,value:e,min:n,max:r,onChange:o}){return a.jsxs("label",{style:{...KS,gridTemplateColumns:"120px 1fr 70px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),a.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function O1(){const[t,e]=ke.useState(ql),n=ke.useRef(null),r=p=>{const m=n.current;m&&(m.style.setProperty("--page",p.page),m.style.setProperty("--tile",p.tile),m.style.setProperty("--tile-hover",p.tileHover),m.style.setProperty("--nav",p.nav),m.style.setProperty("--active",p.active),m.style.setProperty("--text",p.text),m.style.setProperty("--text-soft",p.textSoft),m.style.setProperty("--title",p.title),m.style.setProperty("--line",p.line),m.style.setProperty("--radius",`${p.radius}px`),m.style.setProperty("--shadow",`0 8px ${p.shadow}px rgba(0,0,0,0.25)`),m.style.setProperty("--gap",`${p.gap}px`))};ke.useEffect(()=>{r(t)},[t]);const o=p=>e(L1[p]),l=()=>e(ql),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(p),m.download="sfdatahub-theme.json",m.click()},h=async p=>{const m=await p.text();e({...ql,...JSON.parse(m)})};return a.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[a.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(L1).map(p=>a.jsx("button",{style:ua,onClick:()=>o(p),children:p},p)),a.jsx("button",{style:ua,onClick:l,children:"Default"}),a.jsx("button",{style:ua,onClick:c,children:"Export JSON"}),a.jsxs("label",{style:{...ua,display:"inline-block"},children:["Import JSON",a.jsx("input",{type:"file",accept:"application/json",onChange:p=>p.target.files&&h(p.target.files[0]),style:{display:"none"}})]})]}),a.jsx(ws,{label:"Page",value:t.page,onChange:p=>e(m=>({...m,page:p}))}),a.jsx(ws,{label:"Tile",value:t.tile,onChange:p=>e(m=>({...m,tile:p}))}),a.jsx(ws,{label:"Tile Hover",value:t.tileHover,onChange:p=>e(m=>({...m,tileHover:p}))}),a.jsx(ws,{label:"Nav",value:t.nav,onChange:p=>e(m=>({...m,nav:p}))}),a.jsx(ws,{label:"Active",value:t.active,onChange:p=>e(m=>({...m,active:p}))}),a.jsx(ws,{label:"Text",value:t.text,onChange:p=>e(m=>({...m,text:p}))}),a.jsx(ws,{label:"Text Soft",value:t.textSoft,onChange:p=>e(m=>({...m,textSoft:p}))}),a.jsx(ws,{label:"Title",value:t.title,onChange:p=>e(m=>({...m,title:p}))}),a.jsx(ws,{label:"Line",value:t.line,onChange:p=>e(m=>({...m,line:p}))}),a.jsx(jp,{label:"Radius",value:t.radius,min:8,max:28,onChange:p=>e(m=>({...m,radius:p}))}),a.jsx(jp,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:p=>e(m=>({...m,shadow:p}))}),a.jsx(jp,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:p=>e(m=>({...m,gap:p}))})]}),a.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[a.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),a.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),a.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[a.jsx("button",{style:{...ua,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),a.jsx("button",{style:ua,children:"Secondary"})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((p,m)=>a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[a.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",m+1]}),a.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},m))})]})]})]})}const wm={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},B1={"SFDataHub (Default)":{...wm},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},lh={display:"grid",gap:8,alignItems:"center"},eo={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},to={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function tr({label:t,value:e,onChange:n}){return a.jsxs("label",{style:{...lh,gridTemplateColumns:"140px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function _s({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return a.jsxs("label",{style:{...lh,gridTemplateColumns:"140px 1fr 70px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:h=>l(parseFloat(h.target.value))}),a.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:h=>l(parseFloat(h.target.value||"0"))})]})}function yL({label:t,checked:e,onChange:n}){return a.jsxs("label",{style:{...lh,gridTemplateColumns:"1fr 46px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function $1(){const[t,e]=ke.useState(wm),n=ke.useRef(null),r=m=>{const g=n.current;g&&(g.style.setProperty("--page",m.page),g.style.setProperty("--tile",m.tile),g.style.setProperty("--tile-hover",m.tileHover),g.style.setProperty("--nav",m.nav),g.style.setProperty("--active",m.active),g.style.setProperty("--text",m.text),g.style.setProperty("--text-soft",m.textSoft),g.style.setProperty("--title",m.title),g.style.setProperty("--line",m.line),g.style.setProperty("--accent",m.accent),g.style.setProperty("--success",m.success),g.style.setProperty("--warning",m.warning),g.style.setProperty("--danger",m.danger),g.style.setProperty("--radius",`${m.radius}px`),g.style.setProperty("--border",`${m.border}px`),g.style.setProperty("--gap",`${m.gap}px`),g.style.setProperty("--shadow",`0 10px ${m.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${m.surfaceOpacity}%`),g.style.setProperty("--noise",`${m.noise}%`),g.style.setProperty("--font",m.fontFamily),g.style.setProperty("--font-size",`${m.fontSize}px`),g.style.setProperty("--heading-tight",m.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${m.glow}`),g.style.setProperty("--scanlines",`${m.scanlines}`))};ke.useEffect(()=>{r(t)},[t]);const o=(m,g)=>e(w=>({...w,[m]:g})),l=m=>e(g=>({...g,...B1[m]})),c=()=>{const m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(m),g.download="sfdatahub-theme-pro.json",g.click()},h=async m=>{try{const g=await m.text(),w=JSON.parse(g);e({...t,...w})}catch(g){}},p={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return a.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[a.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker · Pro (scoped)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(B1).map(m=>a.jsx("button",{style:eo,onClick:()=>l(m),children:m},m)),a.jsx("button",{style:eo,onClick:()=>e(wm),children:"Reset"}),a.jsx("button",{style:eo,onClick:c,children:"Export"}),a.jsxs("label",{style:{...eo,display:"inline-block"},children:["Import",a.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:m=>m.target.files&&h(m.target.files[0])})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(tr,{label:"Page",value:t.page,onChange:m=>o("page",m)}),a.jsx(tr,{label:"Tile",value:t.tile,onChange:m=>o("tile",m)}),a.jsx(tr,{label:"Tile Hover",value:t.tileHover,onChange:m=>o("tileHover",m)}),a.jsx(tr,{label:"Active",value:t.active,onChange:m=>o("active",m)}),a.jsx(tr,{label:"Text",value:t.text,onChange:m=>o("text",m)}),a.jsx(tr,{label:"Text Soft",value:t.textSoft,onChange:m=>o("textSoft",m)}),a.jsx(tr,{label:"Title",value:t.title,onChange:m=>o("title",m)}),a.jsx(tr,{label:"Line",value:t.line,onChange:m=>o("line",m)}),a.jsx(tr,{label:"Accent",value:t.accent,onChange:m=>o("accent",m)}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[a.jsx(tr,{label:"Success",value:t.success,onChange:m=>o("success",m)}),a.jsx(tr,{label:"Warning",value:t.warning,onChange:m=>o("warning",m)}),a.jsx(tr,{label:"Danger",value:t.danger,onChange:m=>o("danger",m)})]})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(_s,{label:"Radius",min:0,max:28,value:t.radius,onChange:m=>o("radius",m)}),a.jsx(_s,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:m=>o("border",m)}),a.jsx(_s,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:m=>o("gap",m)}),a.jsx(_s,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:m=>o("shadow",m)}),a.jsx(_s,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:m=>o("surfaceOpacity",m),suffix:"%"}),a.jsx(_s,{label:"Noise",min:0,max:20,value:t.noise,onChange:m=>o("noise",m),suffix:"%"})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsxs("label",{style:{...lh,gridTemplateColumns:"140px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),a.jsx("input",{value:t.fontFamily,onChange:m=>o("fontFamily",m.target.value)})]}),a.jsx(_s,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:m=>o("fontSize",m)}),a.jsx(yL,{label:"Headings tighter",checked:t.headingsTight,onChange:m=>o("headingsTight",m)})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(_s,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:m=>o("glow",m)}),a.jsx(_s,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:m=>o("scanlines",m)})]})]})]}),a.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[a.jsxs("span",{style:to,children:[a.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),a.jsx("span",{style:{...to,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),a.jsx("span",{style:{...to,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),a.jsx("span",{style:{...to,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),a.jsxs("span",{style:to,children:["Radius: ",t.radius]}),a.jsxs("span",{style:to,children:["Shadow: ",t.shadow]}),a.jsxs("span",{style:to,children:["Noise: ",t.noise,"%"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:p.name}),a.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[p.className," · ",p.guild," ",a.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",p.server,")"]})]})]}),a.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:p.level,pct:p.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:p.scrapbook+"%",pct:p.scrapbook/100,color:"var(--success)"},{label:"Power",value:p.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:p.activity+"%",pct:p.activity/100,color:"var(--accent)"}].map((m,g)=>a.jsxs("div",{style:{display:"grid",gap:4},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[a.jsx("span",{children:m.label}),a.jsx("span",{style:{color:"var(--title)"},children:m.value})]}),a.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:a.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(m.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${m.color} 75%, transparent), ${m.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${m.color} 40%, transparent)`}})})]},g))}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[a.jsx("button",{style:{...eo,background:"var(--tile-hover)"},children:"Open Profile"}),a.jsx("button",{style:{...eo,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((m,g)=>a.jsx("button",{style:{...eo,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:m},m))}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((m,g)=>a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:m.k}),a.jsx("div",{style:{fontWeight:800,fontSize:24},children:m.v}),a.jsx("div",{style:{fontSize:12,color:m.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:m.trend})]},g))}),a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[a.jsx("div",{style:{padding:10},children:"Attribute"}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:"Δ"})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((m,g)=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[a.jsx("div",{style:{padding:10},children:m[0]}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:m[1]}),a.jsx("div",{style:{padding:10,textAlign:"right",color:m[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:m[2]})]},g))]})]})]}),a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und übernimm später selektiv in globale Tokens."})]})]})]})}const U1=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function vL(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:U1[n%U1.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Cp={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function z1(){const[t,e]=N.useState("rows"),[n,r]=N.useState(0),[o,l]=N.useState(""),[c,h]=N.useState(60),p=N.useMemo(()=>vL(240),[]),m=N.useMemo(()=>p.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[p,n,o,c]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"List‑View Switcher"}),a.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[a.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[a.jsx("option",{value:"rows",children:"Compact Rows"}),a.jsx("option",{value:"cards",children:"Card Grid"}),a.jsx("option",{value:"masonry",children:"Masonry"})]}),a.jsx("input",{placeholder:"Search…",value:o,onChange:g=>l(g.target.value)}),a.jsxs("label",{children:["Min Level ",a.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),a.jsxs("label",{children:["Limit ",a.jsx("input",{type:"number",value:c,onChange:g=>h(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&a.jsx("div",{style:{...Cp,padding:0,overflow:"hidden"},children:m.map(g=>{var w;return a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:700},children:[g.name," ",a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?`· ${g.guild}`:""]})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),a.jsx("div",{style:{fontSize:24,fontWeight:700},children:(w=g.kpi)==null?void 0:w.toFixed(1)})]})]},g.id)})}),t==="cards"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(g=>{var w;return a.jsxs("div",{style:Cp,children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{style:{fontWeight:700},children:g.name}),a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?`· ${g.guild}`:""]}),a.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[a.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),a.jsx("span",{style:{fontSize:24,fontWeight:700},children:(w=g.kpi)==null?void 0:w.toFixed(1)})]})]},g.id)})}),t==="masonry"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(g=>a.jsxs("div",{style:{...Cp,height:140+parseInt(g.id)%3*40},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{style:{fontWeight:700},children:g.name}),a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?`· ${g.guild}`:""]}),a.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function H1(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function W1(){const[t,e]=N.useState(120),[n,r]=N.useState(()=>H1(24));N.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const h=Math.floor(Math.random()*c.length),p=[...c];return p[h]={...p[h],lastScanMinsAgo:0},p})},5e3);return()=>clearInterval(l)},[]),N.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(h=>({...h,lastScanMinsAgo:h.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=N.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget · Auto‑Removal"}),a.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[a.jsxs("label",{children:["Freshness TTL (min) ",a.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),a.jsx("button",{onClick:()=>r(H1(24)),children:"Reset Demo Data"})]}),a.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Einträge mit „last scan ≤ TTL“ verschwinden automatisch (keine Checkboxen)."}),a.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[a.jsx("div",{children:"Player"}),a.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[a.jsxs("div",{children:[l.name," ",a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),a.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&a.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan 🎉"})]})]})}function xL(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function G1(){const[t,e]=N.useState("idle"),[n,r]=N.useState(null),[o,l]=N.useState(!1),c=N.useCallback(async h=>{var m;h.preventDefault(),l(!1);const p=(m=h.dataTransfer.files)==null?void 0:m[0];if(p){e("validating");try{const g=await p.text(),{isHar:w,isSf:_}=xL(g);if(e("parsing"),await new Promise(E=>setTimeout(E,600)),!w&&!_){e("error"),r({isHar:w,isSf:_,sizeKB:Math.round(p.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:w,isSf:_,sizeKB:Math.round(p.size/1024),summary:`Detected: ${w?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator · HAR / JSON Detection"}),a.jsx("div",{onDragOver:h=>{h.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),a.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection → Validation → Parsing → Summary"})]})}),a.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",t]}),n?a.jsxs("ul",{children:[a.jsxs("li",{children:["isHar: ",String(n.isHar)]}),a.jsxs("li",{children:["isSf: ",String(n.isSf)]}),a.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&a.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&a.jsxs("li",{children:["summary: ",n.summary]})]}):a.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const O={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},wL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},_L={maxWidth:1200,margin:"0 auto"},bL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function SL(){return a.jsx("div",{style:wL,children:a.jsxs("div",{style:_L,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"HAR Import Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:bL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),a.jsxs("div",{style:{border:`1px dashed ${O.line}`,borderRadius:12,padding:24,textAlign:"center",background:O.tileAlt},children:["Drop .har file here or"," ",a.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),a.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const EL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},TL={maxWidth:1200,margin:"0 auto"},jL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function CL(){return a.jsx("div",{style:EL,children:a.jsxs("div",{style:TL,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"JSON/CSV Import Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:jL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),a.jsxs("div",{style:{display:"grid",gap:8},children:[a.jsxs("label",{children:["Upload JSON ",a.jsx("input",{type:"file",accept:".json"})]}),a.jsxs("label",{children:["Upload CSV ",a.jsx("input",{type:"file",accept:".csv"})]})]}),a.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns → fields) preview placeholder."})]})})]})})}const AL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},kL={maxWidth:1200,margin:"0 auto"},IL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function PL(){return a.jsx("div",{style:AL,children:a.jsxs("div",{style:kL,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Index Schema Viewer Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:IL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields…"})]},t))})]})})]})})}const RL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},NL={maxWidth:1200,margin:"0 auto"},DL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function VL(){return a.jsx("div",{style:RL,children:a.jsxs("div",{style:NL,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Player Profile (Contained) Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:DL,children:[a.jsxs("div",{style:{display:"flex",gap:12},children:[a.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${O.line}`}}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"4px 0",color:O.title},children:"NightRaven"}),a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter · Guild: Ravens · EU1"})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>a.jsx("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const FL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},ML={maxWidth:1200,margin:"0 auto"},LL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function OL(){return a.jsx("div",{style:FL,children:a.jsxs("div",{style:ML,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Guild Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:LL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[a.jsx("b",{style:{color:O.title},children:"Ravens"}),a.jsx("span",{children:"Avg Lvl 465"}),a.jsx("span",{children:"Fresh scans 82%"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[a.jsx("b",{style:{color:O.title},children:"Arcana"}),a.jsx("span",{children:"Avg Lvl 458"}),a.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const BL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},$L={maxWidth:1200,margin:"0 auto"},UL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function zL(){return a.jsx("div",{style:BL,children:a.jsxs("div",{style:$L,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Server Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:UL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity…"})]},t))})]})})]})})}const HL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},WL={maxWidth:1200,margin:"0 auto"},GL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function qL(){return a.jsx("div",{style:HL,children:a.jsxs("div",{style:WL,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Rankings Views Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:GL,children:[a.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","Master–Detail","Cards"].map(t=>a.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${O.line}`,borderRadius:10},children:t},t))}),a.jsx("div",{style:{border:`1px solid ${O.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[a.jsx("b",{style:{color:O.title},children:t.name}),a.jsx("span",{children:t.delta}),a.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const KL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},QL={maxWidth:1200,margin:"0 auto"},YL={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function XL(){return a.jsx("div",{style:KL,children:a.jsxs("div",{style:QL,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"KPI Dashboard Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsx("div",{style:YL,children:a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>a.jsx("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const JL={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},ZL={maxWidth:1200,margin:"0 auto"},e5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function t5(){return a.jsx("div",{style:JL,children:a.jsxs("div",{style:ZL,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Progression Tracker Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:e5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),a.jsx("div",{style:{height:160,border:`1px dashed ${O.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const n5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},r5={maxWidth:1200,margin:"0 auto"},s5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function i5(){return a.jsx("div",{style:n5,children:a.jsxs("div",{style:r5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Legendary & Pets Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsx("div",{style:s5,children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:"Legendary Tracker"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Shadow Bow ✓"}),a.jsx("li",{children:"Mythic Ring ✗"})]})]}),a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:"Pets"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Firewolf 4/5"}),a.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const o5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},a5={maxWidth:1200,margin:"0 auto"},l5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function u5(){return a.jsx("div",{style:o5,children:a.jsxs("div",{style:a5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Community Scans Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:l5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>a.jsx("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const c5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},d5={maxWidth:1200,margin:"0 auto"},h5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function f5(){return a.jsx("div",{style:c5,children:a.jsxs("div",{style:d5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Creator Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:h5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language…"})]},t))})]})})]})})}const p5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},m5={maxWidth:1200,margin:"0 auto"},g5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function y5(){return a.jsx("div",{style:p5,children:a.jsxs("div",{style:m5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Feedback Form Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:g5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),a.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[a.jsx("span",{children:"Category"}),a.jsxs("select",{style:{background:"#152A42",color:O.text,border:`1px solid ${O.line}`,borderRadius:8,padding:"6px 8px"},children:[a.jsx("option",{children:"UI"}),a.jsx("option",{children:"Data"}),a.jsx("option",{children:"Bug"})]})]}),a.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[a.jsx("span",{children:"Message"}),a.jsx("textarea",{rows:4,style:{background:"#152A42",color:O.text,border:`1px solid ${O.line}`,borderRadius:8,padding:"6px 8px"}})]}),a.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${O.line}`,borderRadius:10},children:"Send"})]})})]})})}const v5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},x5={maxWidth:1200,margin:"0 auto"},w5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function _5(){return a.jsx("div",{style:v5,children:a.jsxs("div",{style:x5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Feedback Admin Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:w5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),a.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("span",{children:t}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),a.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const b5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},S5={maxWidth:1200,margin:"0 auto"},E5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function T5(){return a.jsx("div",{style:b5,children:a.jsxs("div",{style:S5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Tutorials Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:E5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Step highlights"}),a.jsx("li",{children:"Progress bar"}),a.jsx("li",{children:"Badges"})]})]})})]})})}const j5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},C5={maxWidth:1200,margin:"0 auto"},A5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function k5(){return a.jsx("div",{style:j5,children:a.jsxs("div",{style:C5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Wiki & FAQ Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:A5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),a.jsx("input",{placeholder:"Search…",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${O.line}`,borderRadius:10}}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"How to import HAR?"}),a.jsx("li",{children:"What data is stored?"})]})]})})]})})}const I5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},P5={maxWidth:1200,margin:"0 auto"},R5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function N5(){return a.jsx("div",{style:I5,children:a.jsxs("div",{style:P5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Settings Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:R5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[a.jsxs("label",{children:["Language",a.jsxs("select",{style:{marginLeft:8},children:[a.jsx("option",{children:"EN"}),a.jsx("option",{children:"DE"})]})]}),a.jsxs("label",{children:["Theme",a.jsxs("select",{style:{marginLeft:8},children:[a.jsx("option",{children:"Dark"}),a.jsx("option",{children:"Custom"})]})]}),a.jsxs("label",{children:["Notifications",a.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),a.jsxs("label",{children:["Privacy",a.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const D5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},V5={maxWidth:1200,margin:"0 auto"},F5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function M5(){return a.jsx("div",{style:D5,children:a.jsxs("div",{style:V5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"ToS & Privacy Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:F5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),a.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${O.line}`,borderRadius:10,padding:10,marginTop:8},children:a.jsx("p",{children:"Allgemeines… Registrierung… Rollen… Verarbeitung… Transparenz… Sicherheit… Haftung… Änderungen… Kontakt…"})}),a.jsxs("label",{style:{marginTop:8},children:[a.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const L5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},O5={maxWidth:1200,margin:"0 auto"},B5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function $5(){return a.jsx("div",{style:L5,children:a.jsxs("div",{style:O5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Transparency Viewer Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:B5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),a.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${O.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const U5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},z5={maxWidth:1200,margin:"0 auto"},H5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function W5(){return a.jsx("div",{style:U5,children:a.jsxs("div",{style:z5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"PWA Update Flow Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:H5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),a.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const G5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},q5={maxWidth:1200,margin:"0 auto"},K5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function Q5(){return a.jsx("div",{style:G5,children:a.jsxs("div",{style:q5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"PWA Install Prompt Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:K5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[a.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${O.line}`,borderRadius:20}}),a.jsxs("div",{children:[a.jsx("b",{style:{color:O.title},children:"Install SFDataHub"}),a.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications…"}),a.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Y5={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},X5={maxWidth:1200,margin:"0 auto"},J5={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function Z5(){return a.jsx("div",{style:Y5,children:a.jsxs("div",{style:X5,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Connect Manual Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:J5,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10,marginTop:8},children:[a.jsx("b",{style:{color:O.title},children:"View source"}),a.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/* … */})();"})]})]})})]})})}const e3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},t3={maxWidth:1200,margin:"0 auto"},n3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function r3(){return a.jsx("div",{style:e3,children:a.jsxs("div",{style:t3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Connect Userscript Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:n3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx("div",{children:"Install/Enable check"}),a.jsx("div",{children:"Events preview"})]})]})})]})})}const s3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},i3={maxWidth:1200,margin:"0 auto"},o3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function a3(){return a.jsx("div",{style:s3,children:a.jsxs("div",{style:i3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Exports Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:o3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:"CSV/Excel"}),a.jsx("div",{children:"Tabs, widths, locales…"})]}),a.jsxs("div",{style:{background:O.tileAlt,border:`1px solid ${O.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:O.title},children:"JSON API"}),a.jsx("div",{children:"Schema picker, whitelists…"})]})]})]})})]})})}const l3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},u3={maxWidth:1200,margin:"0 auto"},c3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function d3(){return a.jsx("div",{style:l3,children:a.jsxs("div",{style:u3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Deeplinks Demo Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:c3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),a.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${O.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const h3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},f3={maxWidth:1200,margin:"0 auto"},p3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function m3(){return a.jsx("div",{style:h3,children:a.jsxs("div",{style:f3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Servers Editor Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:p3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[a.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),a.jsxs("select",{children:[a.jsx("option",{children:"Active"}),a.jsx("option",{children:"Disabled"})]}),a.jsx("button",{children:"Add"})]})]})})]})})}const g3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},y3={maxWidth:1200,margin:"0 auto"},v3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function x3(){return a.jsx("div",{style:g3,children:a.jsxs("div",{style:y3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Jobs & Queues Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:v3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"Import: EU1-2025-09-27T16:00 ✓"}),a.jsx("li",{children:"Rescan: EU2-Player#123 pending…"})]})]})})]})})}const w3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},_3={maxWidth:1200,margin:"0 auto"},b3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function S3(){return a.jsx("div",{style:w3,children:a.jsxs("div",{style:_3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Feature Flags Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:b3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[a.jsx("span",{children:"Beta: New Rankings"}),a.jsx("label",{children:a.jsx("input",{type:"checkbox",defaultChecked:!0})}),a.jsx("span",{children:"Widgets v2"}),a.jsx("label",{children:a.jsx("input",{type:"checkbox"})})]})]})})]})})}const E3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},T3={maxWidth:1200,margin:"0 auto"},j3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function C3(){return a.jsx("div",{style:E3,children:a.jsxs("div",{style:T3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Table Performance Lab Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:j3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),a.jsx("div",{style:{height:160,border:`1px dashed ${O.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const A3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},k3={maxWidth:1200,margin:"0 auto"},I3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function P3(){return a.jsx("div",{style:A3,children:a.jsxs("div",{style:k3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:I3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),a.jsx("div",{style:{height:180,border:`1px dashed ${O.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const R3={minHeight:"100vh",background:O.page,color:O.text,padding:"24px 16px"},N3={maxWidth:1200,margin:"0 auto"},D3={background:O.tile,border:`1px solid ${O.line}`,borderRadius:12,padding:12};function V3(){return a.jsx("div",{style:R3,children:a.jsxs("div",{style:N3,children:[a.jsx("h1",{style:{color:O.title,marginTop:0},children:"Accessibility Pass Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:D3,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"Focus ring visible"}),a.jsx("li",{children:"Skip links"}),a.jsx("li",{children:"Contrast ≥ 4.5:1"})]})]})})]})})}const F3="_backdrop_19xh2_1",M3="_panel_19xh2_19",L3="_header_19xh2_43",O3="_tabs_19xh2_63",B3="_tabBtn_19xh2_75",$3="_tabActive_19xh2_97",U3="_closeBtn_19xh2_101",z3="_content_19xh2_123",Wr={backdrop:F3,panel:M3,header:L3,tabs:O3,tabBtn:B3,tabActive:$3,closeBtn:U3,content:z3},hd=t=>String(t!=null?t:"").trim(),pi=t=>hd(t).toUpperCase(),rt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),fd=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),q1=t=>{const e=fd(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},K1=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Ap=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},De={PLAYERS:{IDENTIFIER:rt("Identifier"),PID:rt("ID"),GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name"),TIMESTAMP:rt("Timestamp"),LEVEL:rt("Level"),CLASS:rt("Class"),GUILD:rt("Guild")},GUILDS:{GUILD_IDENTIFIER:rt("Guild Identifier"),SERVER:rt("Server"),NAME:rt("Name"),MEMBER_COUNT:rt("Guild Member Count"),TIMESTAMP:rt("Timestamp"),HOF:rt("Hall of Fame Rank"),HOF_ALT:rt("HoF"),RANK:rt("Rank"),GUILD_RANK:rt("Guild Rank")}},H3=new Set([rt("Strength"),rt("Dexterity"),rt("Intelligence"),rt("Constitution"),rt("Luck"),rt("Attribute")]),W3=["equipment"],G3=t=>H3.has(t)||W3.some(e=>t.includes(e)),Le=(t,e)=>{for(const n of Object.keys(t))if(rt(n)===e)return t[n]},q3=(t,e)=>e.map(n=>Le(t,n)).find(n=>n!=null&&String(n)!=="");function Q1(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),h=Number(n[4]),p=Number(n[5]),m=n[6]?Number(n[6]):0,g=new Date(c,l,o,h,p,m);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function Y1(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),h=l.toString().padStart(2,"0");return`${c}-W${h}`}function X1(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function J1(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function Z1(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function K3(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function Q3(t){var p;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=K3((p=n[0])!=null?p:""),o=m=>{const g=[];let w="",_=!1;for(let E=0;E<m.length;E++){const I=m[E];I==='"'?_&&m[E+1]==='"'?(w+='"',E++):_=!_:I===r&&!_?(g.push(w),w=""):w+=I}return g.push(w),g},c=(n[0]?o(n[0]).map(hd):[]).map((m,g)=>m||`col${g}`),h=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const g=o(n[m]);if(g.every(_=>hd(_)===""))continue;const w={};for(let _=0;_<c.length;_++)w[c[_]]=g[_]!=null?hd(g[_]):"";h.push(w)}return{headers:c,rows:h}}const ew=120,tw=40,nw=120;async function ca(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=bP(rr),c=t.slice(o,o+e);for(const h of c)h(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(h=>setTimeout(h,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function td(t,e){const n={};for(const r of e){const o=rt(r);if(G3(o)){let l=null,c;for(const h of t){const p=h.row[r];if(p==null||p==="")continue;const m=Number(String(p).replace(/[^0-9.-]/g,""));Number.isNaN(m)||(l==null||m>l)&&(l=m,c=p)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const h=t[c].row[r];if(h!=null&&String(h)!==""){l=h;break}}n[r]=l}}return n}async function rw(t,e){var g,w,_,E,I;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=Q3(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' übergeben.");const h=new Set;for(const R of c)Object.keys(R).forEach(A=>h.add(A));const p=Array.from(h);if(e.kind==="players"){const R=[],A=[],$=[],q=new Map;for(const F of c){const K=(g=Le(F,De.PLAYERS.PID))!=null?g:Le(F,De.PLAYERS.IDENTIFIER),B=String(K!=null?K:"").trim();if(!B){l.skippedMissingIdentifier++;continue}const Q=Q1(Le(F,De.PLAYERS.TIMESTAMP));if(Q==null){l.skippedBadTs++;continue}const C=(()=>{const T=Le(F,De.PLAYERS.SERVER);return T&&String(T).trim()!==""?pi(T):void 0})();if(!C){l.skippedMissingServer++;continue}R.push(T=>{const k=bs(rr,`players/${B}/scans/${Q}`);T.set(k,{playerId:B,server:C,timestamp:Q,timestampRaw:Le(F,De.PLAYERS.TIMESTAMP),name:Le(F,De.PLAYERS.NAME)||null,values:F,createdAt:fi()},{merge:!0})}),l.writtenScanPlayers++,q.has(B)||q.set(B,[]),q.get(B).push({row:F,ts:Q})}for(const[F,K]of q){K.sort((Te,ce)=>Te.ts-ce.ts);const B=K[K.length-1],Q=pi(Le(B.row,De.PLAYERS.SERVER)||""),C=Le(B.row,De.PLAYERS.NAME)||null,T=Le(B.row,De.PLAYERS.LEVEL),k=Le(B.row,De.PLAYERS.CLASS),V=Le(B.row,De.PLAYERS.GUILD),M=(_=(w=Le(B.row,De.PLAYERS.NAME))!=null?w:C)!=null?_:"",U=q1(M),P=K1(U);A.push(Te=>{const ce=bs(rr,`players/${F}/latest/latest`);Te.set(ce,{playerId:F,server:Q,timestamp:B.ts,timestampRaw:Le(B.row,De.PLAYERS.TIMESTAMP),name:C,values:B.row,updatedAt:fi(),nameFold:fd(M),nameTokens:U,nameNgrams:P,level:Ap(T),className:k!=null&&String(k).trim()!==""?String(k):null,guildName:V!=null&&String(V).trim()!==""?String(V):null,guildNameFold:V?fd(V):null},{merge:!0})}),l.writtenLatestPlayers++;const ve=new Map,Ve=new Map;for(const Te of K){const ce=Y1(Te.ts),J=J1(Te.ts);ve.has(ce)||ve.set(ce,[]),Ve.has(J)||Ve.set(J,[]),ve.get(ce).push(Te),Ve.get(J).push(Te)}for(const[Te,ce]of ve){ce.sort((H,ee)=>H.ts-ee.ts);const J=td(ce,p),fe=X1(ce[ce.length-1].ts),ue=ce[ce.length-1];$.push(H=>{const ee=bs(rr,`players/${F}/history_weekly/${Te}`);H.set(ee,{playerId:F,weekId:Te,periodStartSec:fe.start,periodEndSec:fe.end,lastTs:ue.ts,lastTimestampRaw:Le(ue.row,De.PLAYERS.TIMESTAMP),server:pi(Le(ue.row,De.PLAYERS.SERVER)||""),name:Le(ue.row,De.PLAYERS.NAME)||null,values:J,updatedAt:fi()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Te,ce]of Ve){ce.sort((H,ee)=>H.ts-ee.ts);const J=td(ce,p),fe=Z1(ce[ce.length-1].ts),ue=ce[ce.length-1];$.push(H=>{const ee=bs(rr,`players/${F}/history_monthly/${Te}`);H.set(ee,{playerId:F,monthId:Te,periodStartSec:fe.start,periodEndSec:fe.end,lastTs:ue.ts,lastTimestampRaw:Le(ue.row,De.PLAYERS.TIMESTAMP),server:pi(Le(ue.row,De.PLAYERS.SERVER)||""),name:Le(ue.row,De.PLAYERS.NAME)||null,values:J,updatedAt:fi()},{merge:!0})}),l.writtenMonthlyPlayers++}}await ca(R,ew,"scans",e.onProgress),await ca(A,tw,"latest",e.onProgress),await ca($,nw,"history",e.onProgress)}if(e.kind==="guilds"){const R=[],A=[],$=[],q=new Map;for(const F of c){const K=String((E=Le(F,De.GUILDS.GUILD_IDENTIFIER))!=null?E:"").trim();if(!K){l.skippedMissingGuildIdentifier++;continue}const B=Q1(Le(F,De.GUILDS.TIMESTAMP));if(B==null){l.skippedBadTsGuild++;continue}const Q=(()=>{const C=Le(F,De.GUILDS.SERVER);return C&&String(C).trim()!==""?pi(C):void 0})();if(!Q){l.skippedMissingServer++;continue}R.push(C=>{const T=bs(rr,`guilds/${K}/scans/${B}`);C.set(T,{guildIdentifier:K,server:Q,timestamp:B,timestampRaw:Le(F,De.GUILDS.TIMESTAMP),name:Le(F,De.GUILDS.NAME)||null,values:F,createdAt:fi()},{merge:!0})}),l.writtenScanGuilds++,q.has(K)||q.set(K,[]),q.get(K).push({row:F,ts:B})}for(const[F,K]of q){K.sort((P,ve)=>P.ts-ve.ts);const B=K[K.length-1],Q=(I=Le(B.row,De.GUILDS.NAME))!=null?I:"",C=q1(Q),T=K1(C),k=Ap(Le(B.row,De.GUILDS.MEMBER_COUNT)),V=Ap(q3(B.row,[De.GUILDS.HOF,De.GUILDS.HOF_ALT,De.GUILDS.RANK,De.GUILDS.GUILD_RANK]));A.push(P=>{const ve=bs(rr,`guilds/${F}/latest/latest`);P.set(ve,{guildIdentifier:F,server:pi(Le(B.row,De.GUILDS.SERVER)||""),timestamp:B.ts,timestampRaw:Le(B.row,De.GUILDS.TIMESTAMP),name:Le(B.row,De.GUILDS.NAME)||null,values:B.row,updatedAt:fi(),nameFold:fd(Q),nameTokens:C,nameNgrams:T,memberCount:k,hofRank:V},{merge:!0})}),l.writtenLatestGuilds++;const M=new Map,U=new Map;for(const P of K){const ve=Y1(P.ts),Ve=J1(P.ts);M.has(ve)||M.set(ve,[]),U.has(Ve)||U.set(Ve,[]),M.get(ve).push(P),U.get(Ve).push(P)}for(const[P,ve]of M){ve.sort((J,fe)=>J.ts-fe.ts);const Ve=td(ve,p),Te=X1(ve[ve.length-1].ts),ce=ve[ve.length-1];$.push(J=>{const fe=bs(rr,`guilds/${F}/history_weekly/${P}`);J.set(fe,{guildIdentifier:F,weekId:P,periodStartSec:Te.start,periodEndSec:Te.end,lastTs:ce.ts,lastTimestampRaw:Le(ce.row,De.GUILDS.TIMESTAMP),server:pi(Le(ce.row,De.GUILDS.SERVER)||""),name:Le(ce.row,De.GUILDS.NAME)||null,values:Ve,updatedAt:fi()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[P,ve]of U){ve.sort((J,fe)=>J.ts-fe.ts);const Ve=td(ve,p),Te=Z1(ve[ve.length-1].ts),ce=ve[ve.length-1];$.push(J=>{const fe=bs(rr,`guilds/${F}/history_monthly/${P}`);J.set(fe,{guildIdentifier:F,monthId:P,periodStartSec:Te.start,periodEndSec:Te.end,lastTs:ce.ts,lastTimestampRaw:Le(ce.row,De.GUILDS.TIMESTAMP),server:pi(Le(ce.row,De.GUILDS.SERVER)||""),name:Le(ce.row,De.GUILDS.NAME)||null,values:Ve,updatedAt:fi()},{merge:!0})}),l.writtenMonthlyGuilds++}}await ca(R,ew,"scans",e.onProgress),await ca(A,tw,"latest",e.onProgress),await ca($,nw,"history",e.onProgress)}const m=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:m-n}}const kp=t=>String(t!=null?t:"").trim(),Vn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function Y3(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function sw(t){var p;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=Y3((p=n[0])!=null?p:""),o=m=>{const g=[];let w="",_=!1;for(let E=0;E<m.length;E++){const I=m[E];I==='"'?_&&m[E+1]==='"'?(w+='"',E++):_=!_:I===r&&!_?(g.push(w),w=""):w+=I}return g.push(w),g},c=(n[0]?o(n[0]).map(kp):[]).map((m,g)=>m||`col${g}`),h=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const g=o(n[m]);if(g.every(_=>kp(_)===""))continue;const w={};for(let _=0;_<c.length;_++)w[c[_]]=g[_]!=null?kp(g[_]):"";h.push(w)}return{headers:c,rows:h,delimiter:r}}const Pt={PLAYERS:{IDENTIFIER:Vn("Identifier"),GUILD_IDENTIFIER:Vn("Guild Identifier"),TIMESTAMP:Vn("Timestamp"),NAME:Vn("Name"),SERVER:Vn("Server"),OWN:Vn("Own")},GUILDS:{GUILD_IDENTIFIER:Vn("Guild Identifier"),GUILD_MEMBER_COUNT:Vn("Guild Member Count"),NAME:Vn("Name"),TIMESTAMP:Vn("Timestamp")}},QS=(t,e)=>{const n=new Set(t.map(Vn));return e.every(r=>n.has(r))},qr=(t,e)=>{for(const n of Object.keys(t))if(Vn(n)===e)return t[n]};function X3(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function iw(t){const e=t.map(Vn),n=l=>e.includes(l);let r=0,o=0;return n(Pt.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Pt.PLAYERS.IDENTIFIER)&&(r+=2),n(Pt.PLAYERS.TIMESTAMP)&&(r+=1),n(Pt.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(Pt.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(Pt.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(Pt.PLAYERS.IDENTIFIER)?"players":"guilds"}function ow(t,e){const n=X3(t);if(n!=="unknown"){const o=iw(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=iw(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function YS(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function J3(t,e){var r;const n=[];if(!QS(e,[Pt.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=qr(o,Pt.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=qr(o,Pt.PLAYERS.SERVER),h=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:qr(o,Pt.PLAYERS.IDENTIFIER)||void 0,name:qr(o,Pt.PLAYERS.NAME)||void 0,own:["1","true","✓","yes","y","ja"].includes(String(qr(o,Pt.PLAYERS.OWN)).toLowerCase()),server:h,tsSec:(r=YS(qr(o,Pt.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function Z3(t,e){const n=[];if(!QS(e,[Pt.GUILDS.GUILD_IDENTIFIER,Pt.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=qr(r,Pt.GUILDS.GUILD_IDENTIFIER),l=Number(qr(r,Pt.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=YS(qr(r,Pt.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:qr(r,Pt.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function eO(t,e){var A,$,q,F,K,B;const n=[],r=new Map;for(const Q of t){const C=Q.id||"",T=(A=Q.server)==null?void 0:A.toUpperCase();if(C){const k=`${T!=null?T:"NO"}::${C}`;r.has(k)||r.set(k,{server:T,id:C,name:Q.name||"",own:!!Q.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(Q=>Q.own).length,h=new Map;for(const Q of r.values())Q.server&&h.set(Q.server,(($=h.get(Q.server))!=null?$:0)+1);const p=Array.from(h.entries()).map(([Q,C])=>({server:Q,players:C})).sort((Q,C)=>C.players-Q.players),m=p.length,g=new Map;for(const Q of t)g.set(Q.guildIdentifier,((q=g.get(Q.guildIdentifier))!=null?q:0)+1);const w=new Set,_=new Map;for(const Q of e)w.add(Q.guildIdentifier),_.set(Q.guildIdentifier,{name:Q.name||"",declared:Q.memberCount});for(const Q of g.keys())w.add(Q);let E=0;const I=[];for(const Q of w){const C=(F=_.get(Q))==null?void 0:F.declared,T=(K=g.get(Q))!=null?K:0,k=C!=null&&T===C;k&&E++,I.push({id:Q,name:((B=_.get(Q))==null?void 0:B.name)||"",declaredCount:C!=null?C:0,playersCount:T,full:k})}[..._.values()].some(Q=>Number.isFinite(Q.declared))||n.push("Keine 'Guild Member Count' Information gefunden – vollständig gescannte Gilden nicht sicher bestimmbar."),I.sort((Q,C)=>Q.name?Q.name.localeCompare(C.name):Q.id.localeCompare(C.id));const R=Array.from(r.values()).sort((Q,C)=>(Q.server||"")===(C.server||"")?Q.name.localeCompare(C.name):(Q.server||"").localeCompare(C.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:m,perServer:p,guildsRepresented:w.size,fullyScannedGuilds:E,notes:n,playersList:R,guildsList:I}}function tO(){const[t,e]=N.useState([]),[n,r]=N.useState(null),[o,l]=N.useState(!1),[c,h]=N.useState(null),[p,m]=N.useState(!1),[g,w]=N.useState(null),[_,E]=N.useState([]),[I,R]=N.useState(null);N.useEffect(()=>{const C=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=C}},[]);const A=N.useCallback(async C=>{var T;l(!0),h(null),r(null),E([]),w(null);try{const k=Array.from(C).slice(0,2),V=[];let M=[],U=[];for(const P of k){const ve=P,Ve=await ve.text(),Te=sw(Ve),{kind:ce,warn:J}=ow(ve.name,Te.headers);V.push({name:ve.name,size:ve.size||Ve.length,rows:Te.rows.length,delimiter:Te.delimiter,text:Ve,kind:ce,warn:J}),ce==="players"?M=M.concat(J3(Te.rows,Te.headers)):ce==="guilds"&&(U=U.concat(Z3(Te.rows,Te.headers)))}e(V),r(eO(M,U))}catch(k){h(String((T=k==null?void 0:k.message)!=null?T:k))}finally{l(!1)}},[]),$=N.useCallback(async C=>{!C||C.length===0||await A(C)},[A]),q=N.useCallback(async C=>{C.preventDefault();const T=C.dataTransfer.files;!T||!T.length||await A(T)},[A]);async function F(){var C;if(t.length){m(!0),R({phase:"prepare",current:0,total:0}),w(null),E([]);try{let T=[],k=[];for(const U of t){const P=sw(U.text),{kind:ve}=ow(U.name,P.headers);ve==="players"&&(T=T.concat(P.rows)),ve==="guilds"&&(k=k.concat(P.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!T.length,hasGuildsCsv:!!k.length,playersRows:T.length,guildsRows:k.length}),!k.length)throw new Error("Guilds-CSV mit „Guild Identifier“ + „Guild Member Count“ + „Timestamp“ nicht gefunden.");if(!T.length)throw new Error("Players-CSV mit „Guild Identifier“ nicht gefunden.");const V=await rw(null,{kind:"guilds",rows:k,onProgress:U=>R(U)});console.info("[Import Report] guilds",V);const M=await rw(null,{kind:"players",rows:T,onProgress:U=>R(U)});console.info("[Import Report] players",M),R({phase:"done",current:1,total:1}),E([V,M]),w("Import abgeschlossen.")}catch(T){console.error("[UploadCenter] Import error:",T),w(`Fehler beim Import: ${(C=T==null?void 0:T.message)!=null?C:T}`)}finally{m(!1),setTimeout(()=>R(null),1200)}}}const K=N.useMemo(()=>t.map(C=>`${C.name} (${C.rows} rows, “${C.delimiter}”, ${C.kind}${C.warn?" ⚠️":""})`),[t]),B=N.useMemo(()=>t.reduce((C,T)=>C+T.rows,0),[t]),Q=I?Math.floor(100*I.current/Math.max(1,I.total||1)):0;return a.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[a.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[a.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),a.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[K.map((C,T)=>a.jsx("span",{className:"uc-chip",title:t[T].warn||"",children:C},T)),t.length>0&&a.jsxs("span",{className:"uc-chip",children:["Total: ",B," rows"]})]}),a.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[I&&a.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:a.jsx("div",{style:{width:`${Q}%`,height:"100%",background:"#2E75F0"}})}),a.jsxs("span",{style:{color:"#D6E4F7"},children:[Q,"%"]})]}),a.jsx("button",{onClick:F,disabled:!t.length||!n||p,className:"uc-btn",children:p?"Loading…":"Load to DB"}),g&&a.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),a.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[a.jsx("label",{style:{opacity:.9},children:"Dateien wählen (max. 2) oder hierher ziehen"}),a.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:C=>$(C.target.files),disabled:o})]}),a.jsx("div",{onDragOver:C=>C.preventDefault(),onDrop:q,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 1–2 CSV files here"}),o&&a.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)…"}),c&&a.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[a.jsx("b",{children:"Fehler:"})," ",c]}),n&&a.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[a.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:a.jsx("b",{children:"Gesamtübersicht (nur Vorschau)"})}),a.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[a.jsx(Rl,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),a.jsx(Rl,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),a.jsx(Rl,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),a.jsx(Rl,{label:"Vollständig gescannte Gilden",value:n.fullyScannedGuilds}),a.jsx(Rl,{label:"Verschiedene Server",value:n.servers})]}),a.jsxs("div",{style:{marginTop:12},children:[a.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Server"}),a.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),a.jsx("tbody",{children:n.perServer.map(C=>a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:C.server}),a.jsx("td",{style:{textAlign:"right"},children:C.players})]},C.server))})]})]}),a.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[a.jsxs("details",{children:[a.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),a.jsx("div",{style:{marginTop:8},children:a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Server"}),a.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),a.jsx("th",{style:{textAlign:"left"},children:"Name"}),a.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),a.jsx("tbody",{children:n.playersList.map((C,T)=>{var k,V;return a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:(k=C.server)!=null?k:"—"}),a.jsx("td",{children:C.id}),a.jsx("td",{children:C.name||"—"}),a.jsx("td",{children:C.own?"✓":""})]},`${(V=C.server)!=null?V:"NO"}-${C.id}-${T}`)})})]})})]}),a.jsxs("details",{open:!0,children:[a.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),a.jsx("div",{style:{marginTop:8},children:a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),a.jsx("th",{style:{textAlign:"left"},children:"Name"}),a.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),a.jsx("th",{style:{textAlign:"right"},children:"Gezählt"}),a.jsx("th",{style:{textAlign:"center"},children:"Vollständig"})]})}),a.jsx("tbody",{children:n.guildsList.map((C,T)=>a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:C.id}),a.jsx("td",{children:C.name||"—"}),a.jsx("td",{style:{textAlign:"right"},children:C.declaredCount||0}),a.jsx("td",{style:{textAlign:"right"},children:C.playersCount}),a.jsx("td",{style:{textAlign:"center"},children:C.full?"✓":""})]},`${C.id}-${T}`))})]})})]})]}),!!n.notes.length&&a.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",a.jsx("ul",{children:n.notes.map((C,T)=>a.jsx("li",{children:C},T))})]})]})]})}function Rl({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[a.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),a.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&a.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function nO(){return a.jsxs("div",{children:[a.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfügbar)"}),a.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frühere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",a.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function rO(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=kw();return!t||!o?null:a.jsx("div",{className:Wr.backdrop,onClick:e,children:a.jsxs("div",{className:Wr.panel,onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:Wr.header,children:[a.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),a.jsxs("div",{className:Wr.tabs,children:[a.jsx("button",{type:"button",className:`${Wr.tabBtn} ${n==="csv"?Wr.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),a.jsx("button",{type:"button",className:`${Wr.tabBtn} ${n==="json"?Wr.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter – keine Importfunktion",children:"JSON"})]}),a.jsx("button",{type:"button",className:Wr.closeBtn,onClick:e,children:"Schließen"})]}),a.jsx("div",{className:Wr.content,children:n==="csv"?a.jsx(tO,{}):a.jsx(nO,{})})]})})}const sO=t=>()=>a.jsx("div",{style:{padding:16},children:a.jsx("h2",{style:{color:"var(--title)"},children:t})}),Kt=sO("Diese Unterseite existiert in der neuen Struktur nicht mehr.");lE.createRoot(document.getElementById("root")).render(a.jsx(ke.StrictMode,{children:a.jsxs(Vj,{role:"admin",children:[a.jsx(ST,{children:a.jsx(eT,{children:a.jsxs(ne,{element:a.jsx(vR,{}),children:[a.jsx(ne,{path:"/",element:a.jsx(xR,{})}),a.jsx(ne,{path:"/dashboard",element:a.jsx(K4,{})}),a.jsx(ne,{path:"/dashboard/kpis",element:a.jsx(X4,{})}),a.jsx(ne,{path:"/dashboard/activity",element:a.jsx(J4,{})}),a.jsx(ne,{path:"/dashboard/progression",element:a.jsx(Z4,{})}),a.jsx(ne,{path:"/discover",element:a.jsx(eF,{})}),a.jsx(ne,{path:"/toplists",element:a.jsx(QF,{})}),a.jsx(ne,{path:"/players",element:a.jsx(YF,{})}),a.jsx(ne,{path:"/players/rankings",element:a.jsx(XF,{})}),a.jsx(ne,{path:"/players/stats",element:a.jsx(JF,{})}),a.jsx(ne,{path:"/players/profile",element:a.jsx(Ep,{})}),a.jsx(ne,{path:"/players/profile/:playerId",element:a.jsx(Ep,{})}),a.jsx(ne,{path:"/player/:playerId",element:a.jsx(Ep,{})}),a.jsx(ne,{path:"/guilds",element:a.jsx(rM,{})}),a.jsx(ne,{path:"/guilds/rankings",element:a.jsx(sM,{})}),a.jsx(ne,{path:"/guilds/stats",element:a.jsx(iM,{})}),a.jsx(ne,{path:"/servers",element:a.jsx(oM,{})}),a.jsx(ne,{path:"/servers/rankings",element:a.jsx(aM,{})}),a.jsx(ne,{path:"/servers/stats",element:a.jsx(lM,{})}),a.jsx(ne,{path:"/guides",element:a.jsx(uM,{})}),a.jsx(ne,{path:"/guides/fortress",element:a.jsx(cM,{})}),a.jsx(ne,{path:"/guides/underworld",element:a.jsx(dM,{})}),a.jsx(ne,{path:"/guides/arena-am",element:a.jsx(hM,{})}),a.jsx(ne,{path:"/guides/dungeons",element:a.jsx(fM,{})}),a.jsx(ne,{path:"/guides/hellevator",element:a.jsx(pM,{})}),a.jsx(ne,{path:"/guides/legendary-dungeon",element:a.jsx(mM,{})}),a.jsx(ne,{path:"/guides/events",element:a.jsx(gM,{})}),a.jsx(ne,{path:"/guides/calculators",element:a.jsx(yM,{})}),a.jsx(ne,{path:"/guides/infographics",element:a.jsx(vM,{})}),a.jsx(ne,{path:"/community",element:a.jsx(xM,{})}),a.jsx(ne,{path:"/community/scans",element:a.jsx(wM,{})}),a.jsx(ne,{path:"/community/predictions",element:a.jsx(_M,{})}),a.jsx(ne,{path:"/community/creators",element:a.jsx(bM,{})}),a.jsx(ne,{path:"/community/feedback",element:a.jsx(SM,{})}),a.jsx(ne,{path:"/community/news",element:a.jsx(EM,{})}),a.jsx(ne,{path:"/scans",element:a.jsx(TM,{})}),a.jsx(ne,{path:"/scans/latest",element:a.jsx(jM,{})}),a.jsx(ne,{path:"/scans/archive",element:a.jsx(CM,{})}),a.jsx(ne,{path:"/guild-hub",element:a.jsx(AM,{})}),a.jsx(ne,{path:"/guild-hub/planner",element:a.jsx(PM,{})}),a.jsx(ne,{path:"/guild-hub/fusion",element:a.jsx(RM,{})}),a.jsx(ne,{path:"/guild-hub/waitlist",element:a.jsx(NM,{})}),a.jsx(ne,{path:"/guild-hub/activity",element:a.jsx(DM,{})}),a.jsx(ne,{path:"/guild-hub/imports",element:a.jsx(VM,{})}),a.jsx(ne,{path:"/guild-hub/announcements",element:a.jsx(FM,{})}),a.jsx(ne,{path:"/guild-hub/events",element:a.jsx(MM,{})}),a.jsx(ne,{path:"/guild-hub/roles",element:a.jsx(LM,{})}),a.jsx(ne,{path:"/guild-hub/settings",element:a.jsx(OM,{})}),a.jsx(ne,{path:"/settings",element:a.jsx(BM,{})}),a.jsxs(ne,{path:"/playground",element:a.jsx($M,{}),children:[a.jsx(ne,{index:!0,element:a.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),a.jsx(ne,{path:"list-views",element:a.jsx(z1,{})}),a.jsx(ne,{path:"rescan-widget",element:a.jsx(W1,{})}),a.jsx(ne,{path:"upload-sim",element:a.jsx(G1,{})}),a.jsx(ne,{path:"theme-maker",element:a.jsx(O1,{})}),a.jsx(ne,{path:"theme-maker-pro",element:a.jsx($1,{})}),a.jsx(ne,{path:"hud",element:a.jsx(UM,{})}),a.jsx(ne,{path:"hud/game-buttons",element:a.jsx(mL,{})}),a.jsx(ne,{path:"core-ui/theme-maker",element:a.jsx(O1,{})}),a.jsx(ne,{path:"core-ui/theme-maker-pro",element:a.jsx($1,{})}),a.jsx(ne,{path:"core-ui/list-views",element:a.jsx(z1,{})}),a.jsx(ne,{path:"sync/rescan",element:a.jsx(W1,{})}),a.jsx(ne,{path:"upload/sim",element:a.jsx(G1,{})}),a.jsx(ne,{path:"import/har",element:a.jsx(SL,{})}),a.jsx(ne,{path:"import/json-csv",element:a.jsx(CL,{})}),a.jsx(ne,{path:"import/schema",element:a.jsx(PL,{})}),a.jsx(ne,{path:"hubs/player-contained",element:a.jsx(VL,{})}),a.jsx(ne,{path:"hubs/guilds",element:a.jsx(OL,{})}),a.jsx(ne,{path:"hubs/servers",element:a.jsx(zL,{})}),a.jsx(ne,{path:"rankings/views",element:a.jsx(qL,{})}),a.jsx(ne,{path:"analytics/kpi",element:a.jsx(XL,{})}),a.jsx(ne,{path:"analytics/progression",element:a.jsx(t5,{})}),a.jsx(ne,{path:"analytics/legendary-pets",element:a.jsx(i5,{})}),a.jsx(ne,{path:"community/scans",element:a.jsx(u5,{})}),a.jsx(ne,{path:"community/creators",element:a.jsx(f5,{})}),a.jsx(ne,{path:"feedback/form",element:a.jsx(y5,{})}),a.jsx(ne,{path:"feedback/admin",element:a.jsx(_5,{})}),a.jsx(ne,{path:"help/tutorials",element:a.jsx(T5,{})}),a.jsx(ne,{path:"help/wiki",element:a.jsx(k5,{})}),a.jsx(ne,{path:"legal/tos",element:a.jsx(M5,{})}),a.jsx(ne,{path:"legal/transparency",element:a.jsx($5,{})}),a.jsx(ne,{path:"settings",element:a.jsx(N5,{})}),a.jsx(ne,{path:"pwa/update",element:a.jsx(W5,{})}),a.jsx(ne,{path:"pwa/install",element:a.jsx(Q5,{})}),a.jsx(ne,{path:"connect/manual",element:a.jsx(Z5,{})}),a.jsx(ne,{path:"connect/userscript",element:a.jsx(r3,{})}),a.jsx(ne,{path:"interop/exports",element:a.jsx(a3,{})}),a.jsx(ne,{path:"interop/deeplinks",element:a.jsx(d3,{})}),a.jsx(ne,{path:"admin/servers",element:a.jsx(m3,{})}),a.jsx(ne,{path:"admin/jobs",element:a.jsx(x3,{})}),a.jsx(ne,{path:"admin/flags",element:a.jsx(S3,{})}),a.jsx(ne,{path:"perf/table-lab",element:a.jsx(C3,{})}),a.jsx(ne,{path:"mobile/filters",element:a.jsx(P3,{})}),a.jsx(ne,{path:"qa/a11y",element:a.jsx(V3,{})})]}),a.jsx(ne,{path:"/latest-scan",element:a.jsx(Uf,{to:"/scans/latest",replace:!0})}),a.jsx(ne,{path:"/old-scans",element:a.jsx(Uf,{to:"/scans/archive",replace:!0})}),a.jsx(ne,{path:"/favorites",element:Kt()}),a.jsx(ne,{path:"/notifications",element:Kt()}),a.jsx(ne,{path:"/guilds/planner",element:Kt()}),a.jsx(ne,{path:"/guilds/fusion",element:Kt()}),a.jsx(ne,{path:"/guilds/academy",element:Kt()}),a.jsx(ne,{path:"/toplists/players",element:Kt()}),a.jsx(ne,{path:"/toplists/guilds",element:Kt()}),a.jsx(ne,{path:"/toplists/servers",element:Kt()}),a.jsx(ne,{path:"/settings/profile",element:Kt()}),a.jsx(ne,{path:"/settings/account",element:Kt()}),a.jsx(ne,{path:"/settings/appearance",element:Kt()}),a.jsx(ne,{path:"/players/search",element:Kt()}),a.jsx(ne,{path:"/players/compare",element:Kt()}),a.jsx(ne,{path:"/servers/list",element:Kt()}),a.jsx(ne,{path:"/servers/trend",element:Kt()}),a.jsx(ne,{path:"/scans/upload",element:Kt()}),a.jsx(ne,{path:"/scans/history",element:Kt()}),a.jsx(ne,{path:"*",element:a.jsx(Uf,{to:"/",replace:!0})})]})})}),a.jsx(rO,{})]})}));
